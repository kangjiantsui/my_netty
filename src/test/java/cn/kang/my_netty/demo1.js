window.__require = function e(t, n, a) {
    function i(r, _) {
        if (!n[r]) {
            if (!t[r]) {
                var s = r.split("/");
                if (s = s[s.length - 1], !t[s]) {
                    var c = "function" == typeof __require && __require;
                    if (!_ && c) return c(s, !0);
                    if (o) return o(s, !0);
                    throw new Error("Cannot find module '" + r + "'")
                }
            }
            var l = n[r] = {exports: {}};
            t[r][0].call(l.exports, function (e) {
                return i(t[r][1][e] || e)
            }, l, l.exports, e, t, n, a)
        }
        return n[r].exports
    }

    for (var o = "function" == typeof __require && __require, r = 0; r < a.length; r++) i(a[r]);
    return i
}({
    ActiveChestForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8825aR8LpVMuZNcGnck0VQj", "ActiveChestForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lcStr"),
            s = e("../../StringEnums"), c = e("../widget/IconWidget"), l = e("../../../leocool/lc"), d = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.ActiveChestForm) || this
                }

                return a(t, e), t.prototype.init = function (t, n, a) {
                    e.prototype.init.call(this);
                    this._index = t, this._bonus = n, this._formName = a
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = r.noxcc.find("title", t.mRoot);
                    r.noxcc.setLabelString(n, t._formName);
                    var a = r.noxcc.find("contentPanel/tip", t.mRoot), i = _.lcStr(s.STR.GET) + " " + _.lcStr(s.STR.BONUS);
                    _.lcStr(s.STR.BONUS);
                    r.noxcc.setLabelString(a, i);
                    var o = r.noxcc.find("close_btn", t.mRoot);
                    r.noxcc.addClick(o, t, function () {
                        t.hide()
                    })
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.updateView()
                }, t.prototype.updateView = function () {
                    var e = r.noxcc.find("spine", this.mRoot).getComponent(sp.Skeleton),
                        t = ["qingtong", "baiyin", "huangjin", "bojin", "zuanshi"][this._index];
                    e.setSkin(t), e.getComponent(sp.Skeleton).setAnimation(0, "animation", !0), e.getComponentInChildren(cc.Label).string = this._formName == _.lcStr(s.STR.ACTIVE_BONUS) ? string.format(_.lcStr(2457), this._bonus._info._val) : _.lcStr(2627);
                    for (var n = r.noxcc.find("contentPanel/layout", this.mRoot), a = this._bonus._info._rid, i = this._bonus._info._count, o = 0; o < a.length; o++) {
                        var d = a[o], p = c.IconWidget.create({_infoId: d, _count: i[o]}, c.IconWidget.DisplayFlag.ITEM);
                        n.addChild(p.node), p.setNameColor(l.lc.Color3B.white), r.noxcc.setLabelColor(p.getNameLabel(), l.lc.Color3B.white)
                    }
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i.show(), i
                }, t
            }(i.BaseForm);
        n.ActiveChestForm = d, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/IconWidget": "IconWidget"
    }],
    ActiveIndicator: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8fb78XpAUxM8qmFy2uGrAVm", "ActiveIndicator");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i, o = e("../../const/ZOrder"), r = e("../../../leocool/lc"), _ = e("../../../nox"),
            s = e("../../BaseComponent"), c = e("../../../noxEvent"), l = e("../../utils/SpriteUtil"),
            d = e("../../utils/SpineUtil"), p = e("../node/NodeWithLabel"), u = e("../../config/UICfg"),
            g = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t.mLabel = null, t.mBack = null, t.mBones = null, t.mUserData = null, t.mTimeStamp = null, t
                }

                return a(t, e), t.prototype.init = function () {
                    this.mBack = l.SpriteUtil.createScale9Sprite("_default/white").node, this.mBack.color = cc.Color.BLACK, this.mBack.opacity = u.UICfg.MASK_OPACITY_LIGHT, this.mBack.parent = this.node, r.lc.addFullSizeWidget(this.mBack), this.mBones = d.SpineUtil.createSpineAnim("dengdai", "default", "animation", !0).getComponent(sp.Skeleton), this.mBones.node.parent = this.node, this.mLabel = p.NodeWithLabel.createTTF("", u.UICfg.FontSize.B1)._label, this.mLabel.node.y = -120, this.mLabel.node.parent = this.node
                }, t.prototype.show = function (e, t, n, a) {
                    this.node.active = !0, this.node.stopAllActions();
                    var o = r.lc.D(a, 30);
                    o > 0 && this.node.runAction(r.lc.sequence(o, function () {
                        i.Event.TimeOut.dispatchEvent()
                    })), this.mUserData = n, this.mTimeStamp = r.lc.getRunningTime(), this.node.opacity = 0, this.mLabel.node.active = !1, this.mBones.node.active = !1, this.mLabel.string = _.nox.D(e, "");
                    var s = _.nox.D(t, 0), c = this;
                    this.node.runAction(r.lc.sequence(s, function () {
                        c.node.opacity = 255, c.mLabel.node.active = !0, c.mBones.node.active = !0, c.mBones.setAnimation(1, "animation", !0)
                    }))
                }, t.prototype.hide = function () {
                    var e = this.mUserData;
                    return this.mUserData = null, this.node.stopAllActions(), this.node.active = !1, e
                }, t.prototype.getDuration = function () {
                    return r.lc.getRunningTime() - this.mTimeStamp
                }, t.prototype.getUserData = function () {
                    return this.mUserData
                }, t.create = function () {
                    var e = r.lc.createNodeAndFullSize();
                    e.zIndex = o.ZOrder.toast;
                    var n = e.addComponent(t);
                    return n.init(), e.active = !1, n
                }, t
            }(s.BaseComponent);
        n.BaseIndicator = g, function (e) {
            e.Event = {TimeOut: new c.noxEvent0};
            var t = null, n = null, a = !1, i = 0;
            e.init = function () {
                t = g.create(), n = g.create()
            }, e.shut = function () {
                t.node.destroy(), t = null, n.node.destroy(), n = null
            }, e.attach = function (e) {
                t.node.parent = e.getSceneNode(), n.node.parent = e.getSceneNode()
            }, e.detach = function () {
                t.node.parent = null, n.node.parent = null
            }, e.show = function (e, o, r, _) {
                i && t.hide(), a = !0, n.hide(), n.show(e, o, r, _)
            }, e.hide = function () {
                return a ? (a = !1, i && t.show("", null, null, 0), n.hide()) : null
            }, e.isShow = function () {
                return a
            }, e.showLoading = function () {
                0 == i++ && (a || t.show("", .1, null, 0))
            }, e.hideLoading = function () {
                0 == --i && (a || t.hide())
            }, e.getDuration = function () {
                return n.getDuration()
            }, e.getUserData = function () {
                return n.getUserData()
            }
        }(i = n.ActiveIndicator || (n.ActiveIndicator = {})), cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxEvent": "noxEvent",
        "../../BaseComponent": "BaseComponent",
        "../../config/UICfg": "UICfg",
        "../../const/ZOrder": "ZOrder",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../node/NodeWithLabel": "NodeWithLabel"
    }],
    ActivityEventRechargePage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4e361QPCxtIhKBMAz13vDeU", "ActivityEventRechargePage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../../leocool/lcStr"),
            r = e("../../../data/data"), _ = e("../../../utils/SpriteUtil"), s = e("../../../scene/ActivityScene"),
            c = e("../../widget/BonusWidget"), l = e("../../../../leocool/lc"), d = e("../../../utils/TimeUtil"),
            p = e("../../../ClientData"), u = e("../../../scene/SceneManager"), g = e("../../../scene/RechargeScene"),
            h = e("../../../ClientView"), f = e("../../../StringEnums"), m = function (e) {
                function t() {
                    return e.call(this, "panel/activity/ActivityEventRechargePage") || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._type = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this._bonusNode = i.noxcc.find("main/content/bonusArea/bonus", this.getRoot()), this._contentNode = i.noxcc.find("main/content/grid", this.getRoot()), this._grid = i.noxcc.find("toggle", this._contentNode), this._grid.active = !1, i.noxcc.setParent(this._grid, this.getRoot()), this._layout = this._contentNode.getComponent(cc.Layout)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.initData(), this.updateInit(), this.updateBonus(), this._listeners = [], this._listeners.push(r.Data.Event.bonus_dirty.addListener(t, function () {
                        t.initData()
                    })), this._listeners.push(r.Data.Event.ingot_dirty.addListener(t, function () {
                        t.initData(), t.updateInit(), t.updateBonus()
                    })), this._listeners.push(r.Data.Event.bonus_value_change.addListener(t, function () {
                        t.initData(), t.updateInit(), t.updateBonus()
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.initData = function () {
                    var e = [], t = d.TimeUtil.getCurrentTime(), n = null;
                    n = this._type == s.ActivityScene.Tab.daily_cumulative ? P._playerActivity.getDayilPaymentActivity() : this._type == s.ActivityScene.Tab.consume_feedback ? P._playerActivity.getConsumeFeedBackActivity() : P._playerActivity.getLastDayilPaymentActivity();
                    var a = d.TimeUtil.parseTimeStr(n._endTime) - t;
                    this._restTime = d.TimeUtil.formatPeriod(a);
                    for (var i = null, o = n._bonusId, r = 0; r < o.length; ++r) {
                        var _ = o[r], c = P._playerBonus._bonuses[_];
                        cc.assert(c, "fatal error"), e.push(c), null == i && (i = c._value)
                    }
                    this._bonusData = e
                }, t.prototype.updateInit = function () {
                    var e = i.noxcc.findSprite("main/icon", this.getRoot()),
                        t = i.noxcc.findLabel("main/word/text", this.getRoot()),
                        n = i.noxcc.findLabel("main/timeArea/text", this.getRoot()),
                        a = i.noxcc.findLabel("main/shopArea/text", this.getRoot()),
                        r = i.noxcc.findSprite("main/shopArea/icon", this.getRoot()), c = this._bonusData[0]._value;
                    i.noxcc.setLabelString(n, o.lcStr(262) + this._restTime), this._type == s.ActivityScene.Tab.daily_cumulative ? (r.node.active = !0, _.SpriteUtil.setSprite(e, "activity_pay_lh_2"), i.noxcc.setLabelString(t, o.lcStr(321)), i.noxcc.setLabelString(a, o.lcStr(265) + c)) : this._type == s.ActivityScene.Tab.consume_feedback ? (r.node.active = !0, _.SpriteUtil.setSprite(e, "activity_pay_lh_3"), i.noxcc.setLabelString(t, o.lcStr(322)), i.noxcc.setLabelString(a, o.lcStr(263) + c)) : (r.node.active = !1, _.SpriteUtil.setSprite(e, "activity_pay_lh_1"), i.noxcc.setLabelString(t, o.lcStr(320)), i.noxcc.setLabelString(a, o.lcStr(264) + c + o.lcStr(172))), this._bonusVal = c
                }, t.prototype.updateBonus = function () {
                    var e = this;
                    this._contentNode.destroyAllChildren(), this._spacingX = (1e3 - 115 * this._bonusData.length) / this._bonusData.length, this._layout.paddingLeft = this._spacingX + 57.5, this._layout.spacingX = this._spacingX, this.updateProgress();
                    for (var t = function (t) {
                        var a = i.noxcc.instantiate(n._grid);
                        a.active = !0, i.noxcc.setParent(a, n._contentNode), i.noxcc.find("stage/light_point", a).active = n._bonusVal >= n._bonusData[t]._info._val;
                        var r = i.noxcc.findLabel("text", a);
                        i.noxcc.setLabelString(r, n._bonusData[t]._info._val);
                        var _ = string.format(o.lcStr(n._bonusData[t]._info._nameSid), n._bonusData[t]._info._val),
                            d = n._bonusData[t];
                        if (0 == t) {
                            var p = c.BonusWidget.create(n._bonusNode.width, d, _, "");
                            p.registerCallback(function () {
                                e.claimBonus(d)
                            }), l.lc.addChildToCenter(n._bonusNode, p.node)
                        }
                        i.noxcc.addToggleClick(a, function () {
                            e._bonusNode.destroyAllChildren();
                            var t = c.BonusWidget.create(e._bonusNode.width, d, _, "");
                            e._type == s.ActivityScene.Tab.consume_feedback && !d._isClaimed && d._info._val > d._value && (t.getButton()._label.setString(o.lcStr(f.STR.CLAIM)), t.getButton().setEnabled(!1)), t.registerCallback(function () {
                                e.claimBonus(d)
                            }), l.lc.addChildToCenter(e._bonusNode, t.node)
                        })
                    }, n = this, a = 0; a < this._bonusData.length; a++) t(a)
                }, t.prototype.claimBonus = function (e) {
                    if (4003 == e._info._cid || 4005 == e._info._cid || 4006 == e._info._cid) if (e._value >= e._info._val && !e._isClaimed) {
                        var t = p.ClientData.claimBonus(e);
                        h.ClientView.showClaimBonusResult(e, t), e._isClaimed = !0, e.sendBonusDirty()
                    } else {
                        if (4006 == e._info._cid) return;
                        u.SceneManager.pushScene(g.RechargeScene.create())
                    }
                }, t.prototype.updateProgress = function () {
                    for (var e, t = 0, n = this._bonusData[0]._value, a = 0; a < this._bonusData.length; a++) n >= this._bonusData[a]._info._val && t++;
                    var o, r = t / this._bonusData.length;
                    o = t && this._bonusData[t - 1]._info._val || 0, t == this._bonusData.length && (t -= 1), e = r + (n - o) / (this._bonusData[t]._info._val - o) / this._bonusData.length, i.noxcc.findProgressBar("main/content/ProgressBar", this.getRoot()).progress = e
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BasePage);
        n.ActivityEventRechargePage = m, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../../scene/ActivityScene": "ActivityScene",
        "../../../scene/RechargeScene": "RechargeScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../widget/BonusWidget": "BonusWidget"
    }],
    ActivityFirstRechargePage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "420aa/5zzdHGoeHx0I/Km7S", "ActivityFirstRechargePage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../../leocool/lcStr"),
            r = e("../../../StringEnums"), _ = e("../../widget/IconWidget"), s = e("../../../ClientData"),
            c = e("../../../ClientView"), l = e("../../../utils/RechargeUtil"), d = e("../../../scene/SceneManager"),
            p = e("../../../scene/RechargeScene"), u = function (e) {
                function t() {
                    return e.call(this, "panel/activity/ActivityFirstRechargePage") || this
                }

                return __extends(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.initData(), this.updateBonus()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.initData = function () {
                    this._bonusData = P._playerBonus._packageBonus[1120]
                }, t.prototype.updateBonus = function () {
                    var e = i.noxcc.find("main/content", this.getRoot()), t = i.noxcc.find("grid", e);
                    t.active = !0, i.noxcc.setParent(t, this.getRoot());
                    for (var n = 0; n < this._bonusData._info._rid.length; n++) {
                        var a = i.noxcc.instantiate(t);
                        a.active = !0, i.noxcc.setParent(a, e);
                        var o = _.IconWidget.create({
                            _infoId: this._bonusData._info._rid[n],
                            _level: this._bonusData._info._level[n],
                            _count: this._bonusData._info._count[n]
                        }, _.IconWidget.DisplayFlag.COUNT);
                        o.node.setScale(.85), a.addChild(o.node)
                    }
                    this.updateBtn()
                }, t.prototype.updateBtn = function () {
                    var e = i.noxcc.findButton("main/button", this.getRoot()), t = e.getComponentInChildren(cc.Label);
                    i.noxcc.setLabelString(t, o.lcStr(r.STR.RECHARGE_NOW)), e.enableAutoGrayEffect = !0, 0 == P.getFirstRechargeStatus() ? l.RechargeUtil.isGemRecharged() ? 1 == P._playerBonus.getFirstRechargeFlag() ? (i.noxcc.setLabelString(t, o.lcStr(r.STR.CLAIM)), i.noxcc.addClick(e, this, this.onClaimFirstRecharge)) : (i.noxcc.setLabelString(t, o.lcStr(r.STR.CLAIMED)), e.interactable = !1, i.noxcc.addClick(e, function () {
                    })) : (i.noxcc.setLabelString(t, o.lcStr(r.STR.RECHARGE_NOW)), i.noxcc.addClick(e, function () {
                        d.SceneManager.pushScene(p.RechargeScene.create())
                    })) : (i.noxcc.setLabelString(t, o.lcStr(r.STR.CLAIMED)), e.interactable = !1, i.noxcc.addClick(e, function () {
                    }))
                }, t.prototype.onClaimFirstRecharge = function () {
                    var e = this._bonusData;
                    if (1 == P._playerBonus.getFirstRechargeFlag()) {
                        var t = s.ClientData.claimBonus(e);
                        c.ClientView.showClaimBonusResult(e, t), this.updateBtn()
                    } else cc.assert(!1, "fatal error")
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BasePage);
        n.ActivityFirstRechargePage = u, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../scene/RechargeScene": "RechargeScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../utils/RechargeUtil": "RechargeUtil",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    ActivityForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6362c8OlyVOzpHRD2jDalZm", "ActivityForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../data/data"), r = e("../../../noxcc"),
            _ = e("../../../nox"), s = e("../../utils/ActivityUtil"), c = e("../panel/activity/ActivityLimitExPage"),
            l = e("../../scene/SceneManager"), d = e("../../scene/ActivityScene"), p = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.ActivityForm) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t) {
                    t = _.nox.D(t, 0), this._activities = e, this._activityIndex = t
                }, t.prototype.onInitWidget = function () {
                }, t.prototype.onReleaseWidget = function () {
                    this._page && (console.log("destroyCurrentPage"), this._page.destroy(), this._page = null), e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.initData()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.initData = function () {
                    var e = this, t = this._activities[this._activityIndex];
                    s.ActivityUtil.setActivityShowed(t);
                    var n, a = r.noxcc.find("mask/page", this.getRootNode());
                    t >= o.Data.PurchaseType.limit_1 && t <= o.Data.PurchaseType.limit_9 && (e._jumpToBuyBtn = r.noxcc.findButton("bg", e.mRoot), r.noxcc.addClick(e._jumpToBuyBtn, function () {
                        e.jumpToBuy(t)
                    })), t >= o.Data.PurchaseType.limit_1 && t <= o.Data.PurchaseType.limit_9 && (n = c.ActivityLimitExPage.create(t, !0)).show(a), this._page = n, this.mBackBtn = r.noxcc.findButton("bg/close_btn", e.mRoot), r.noxcc.addClick(e.mBackBtn, function () {
                        e.jumpToNext(e._activities, e._activityIndex)
                    })
                }, t.prototype.jumpToBuy = function (e) {
                    this.jumpToNext(this._activities, this._activityIndex), e == o.Data.PurchaseType.limit_1 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_01)) : e == o.Data.PurchaseType.limit_2 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_02)) : e == o.Data.PurchaseType.limit_3 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_03)) : e == o.Data.PurchaseType.limit_4 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_04)) : e == o.Data.PurchaseType.limit_5 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_05)) : e == o.Data.PurchaseType.limit_6 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_06)) : e == o.Data.PurchaseType.limit_7 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_07)) : e == o.Data.PurchaseType.limit_8 ? l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_08)) : e == o.Data.PurchaseType.limit_9 && l.SceneManager.pushScene(d.ActivityScene.create(d.ActivityScene.Tab.limit_large_09))
                }, t.prototype.jumpToNext = function (e, n) {
                    this.hide(), n < e.length - 1 && t.create(e, n + 1).show()
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(a.BaseForm);
        n.ActivityForm = p, cc._RF.pop()
    }, {
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../data/data": "data",
        "../../scene/ActivityScene": "ActivityScene",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../panel/activity/ActivityLimitExPage": "ActivityLimitExPage"
    }],
    ActivityFundPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "53ed9CZuCBCOKANKrYMwsFX", "ActivityFundPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../../leocool/lcStr"),
            _ = e("../../../StringEnums"), s = e("../../../data/data"), c = e("../../../utils/RechargeUtil"),
            l = e("../../widget/BonusWidget"), d = e("../../../../leocool/lc"), p = e("../../../ClientView"),
            u = e("../../../ClientData"), g = e("../../common/Dialog"), h = e("../../../utils/TimeUtil"),
            f = e("../../../../nox"), m = function (e) {
                function t() {
                    return e.call(this, "panel/activity/ActivityFundPage") || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._purchaseType = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    this._fundBtn = o.noxcc.findButton("main/fundIcon/button", this.getRoot()), this._fundBtn.enableAutoGrayEffect = !0, this._btnVal = o.noxcc.findLabel("text", this._fundBtn.node), o.noxcc.addClick(t._fundBtn, function () {
                        p.ClientView.getActiveIndicator().show(), p.ClientView.startIAP(t._purchaseType)
                    }), this._contentNode = o.noxcc.find("main/scrollView/view/content", this.getRoot()), this._tmplNode = o.noxcc.find("grid", this._contentNode), this._tmplNode.active = !1, o.noxcc.setParent(this._tmplNode, this.getRoot())
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.updateView(), this.updateBonus(), this._listeners = [], this._listeners.push(s.Data.Event.recharge_success.addListener(t, function () {
                        t.updateView(), t.updateBonus(), p.ClientView.getActiveIndicator().hide(), g.Dialog.showDialog(r.lcStr(691), function () {
                        }, !0)
                    })), this._listeners.push(s.Data.Event.fund_dirty.addListener(t, function () {
                        t.updateBonus()
                    })), this._listeners.push(s.Data.Event.bonus_dirty.addListener(t, function (e) {
                        var n = e._bonus;
                        n && (n._info._type != s.Data.BonusType.fund_all && n._info._type != s.Data.BonusType.fund_7days || t.updateBonus())
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.updateView = function () {
                    c.RechargeUtil.isRecharged(s.Data.PurchaseType.fund_sign_in) ? (o.noxcc.setLabelString(this._btnVal, r.lcStr(_.STR.PURCHASED)), this._fundBtn.interactable = !1) : o.noxcc.setLabelString(this._btnVal, r.lcStr(_.STR.BUY_NOW))
                }, t.prototype.updateBonus = function () {
                    var e = this, t = P._playerBonus._bonusFund_7days, n = P._playerBonus.splitBonus(t), a = [],
                        i = n.shift(), c = n.shift(), p = n.shift();
                    i.sort(function (e, t) {
                        return e._info._val - t._info._val
                    }), c.sort(function (e, t) {
                        return e._info._val - t._info._val
                    }), p.sort(function (e, t) {
                        return e._info._val - t._info._val
                    });
                    for (var u = 0; u < i.length; ++u) a.push(i[u]);
                    for (u = 0; u < c.length; ++u) a.push(c[u]);
                    for (u = 0; u < p.length; ++u) a.push(p[u]);
                    this._contentNode.destroyAllChildren();
                    var g = function (t) {
                        var n = o.noxcc.instantiate(m._tmplNode);
                        n.active = !0, o.noxcc.setParent(n, m._contentNode);
                        var i = null;
                        i = a[t]._info._type == s.Data.BonusType.open_server ? d.lc.D(r.lcStr(a[t]._info._nameSid), "") : string.format(r.lcStr(a[t]._info._nameSid), a[t]._info._val);
                        var c = l.BonusWidget.create(d.lc.w(e._contentNode) - 10, a[t], i, ""),
                            p = f.nox.getDateTableFromTimeSeconds(P._playerBonus._fundSignInLastTime),
                            u = f.nox.getDateTableFromTimeSeconds(h.TimeUtil.getCurrentTime());
                        !a[t]._isClaimed && a[t]._info._val > a[t]._value && (c.getButton()._label.setString(r.lcStr(_.STR.CLAIM)), c.getButton().setEnabled(!1)), (p.day == u.day || t) && (c.getButton()._label.setString(r.lcStr(_.STR.CLAIM)), c.getButton().setEnabled(!1)), c.registerCallback(function () {
                            e.onClaimFund(a[t])
                        }), n.addChild(c.node)
                    }, m = this;
                    for (u = 0; u < a.length; u++) g(u)
                }, t.prototype.onClaimFund = function (e) {
                    if (e._info._val <= e._value && !e._isClaimed) {
                        var t = u.ClientData.claimBonus(e);
                        p.ClientView.showClaimBonusResult(e, t), this.updateBonus()
                    }
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePage);
        n.ActivityFundPage = m, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../../utils/RechargeUtil": "RechargeUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../widget/BonusWidget": "BonusWidget"
    }],
    ActivityLimitExPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0050e3JOYNM1IXdE4ShsbmK", "ActivityLimitExPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../../leocool/lcStr"),
            _ = e("../../../StringEnums"), s = e("../../../data/data"), c = e("../../widget/IconWidget"),
            l = e("../../../utils/SpriteUtil"), d = e("../../../ClientView"), p = function (e) {
                function t() {
                    return e.call(this, "panel/activity/ActivityLimitExPage") || this
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._purchaseType = e, this._isLeft = e == s.Data.PurchaseType.daily_1 || e == s.Data.PurchaseType.limit_1 || e == s.Data.PurchaseType.limit_2 || e == s.Data.PurchaseType.limit_8 || e == s.Data.PurchaseType.limit_9, this._bonusId = s.Data._iapInfo[this._purchaseType]._bonusId[0], this._isAd = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.initData(), this.updateBg(), this.updateBonus(), this._listeners = [], this._listeners.push(s.Data.Event.recharge_success.addListener(t, function () {
                        t.updateBuyBtn(), d.ClientView.getActiveIndicator().hide()
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.initData = function () {
                    var e = [];
                    for (var t in s.Data._bonusInfo) {
                        s.Data._bonusInfo[t]._id == this._bonusId && e.push(s.Data._bonusInfo[t])
                    }
                    this._bonusData = e
                }, t.prototype.updateBg = function () {
                    var e = o.noxcc.findSprite("BG", this.getRoot()), t = o.noxcc.findLabel("main/thText", this.getRoot());
                    switch (this._purchaseType) {
                        case s.Data.PurchaseType.daily_1:
                            l.SpriteUtil.setSprite(e, "activity_daily_gift_6"), o.noxcc.setLabelString(t, "");
                            break;
                        case s.Data.PurchaseType.limit_1:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_38"), o.noxcc.setLabelString(t, r.lcStr(2135));
                            break;
                        case s.Data.PurchaseType.limit_2:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_32"), o.noxcc.setLabelString(t, r.lcStr(2135));
                            break;
                        case s.Data.PurchaseType.limit_3:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_33"), o.noxcc.setLabelString(t, r.lcStr(2136));
                            break;
                        case s.Data.PurchaseType.limit_4:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_34"), o.noxcc.setLabelString(t, r.lcStr(2138));
                            break;
                        case s.Data.PurchaseType.limit_5:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_35"), o.noxcc.setLabelString(t, r.lcStr(2138));
                            break;
                        case s.Data.PurchaseType.limit_6:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_36"), o.noxcc.setLabelString(t, r.lcStr(2135));
                            break;
                        case s.Data.PurchaseType.limit_7:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_37"), o.noxcc.setLabelString(t, r.lcStr(2138));
                            break;
                        case s.Data.PurchaseType.limit_8:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_38"), o.noxcc.setLabelString(t, r.lcStr(2135));
                            break;
                        case s.Data.PurchaseType.limit_9:
                            l.SpriteUtil.setSprite(e, "activity_pay_large_39"), o.noxcc.setLabelString(t, r.lcStr(2135));
                            break;
                        default:
                            l.SpriteUtil.setSprite(e, "activity_daily_gift_6"), o.noxcc.setLabelString(t, "")
                    }
                    this._isAd && o.noxcc.setLabelString(t, ""), this._isLeft || (t.node.x -= 340, t.node.y -= 50)
                }, t.prototype.updateBonus = function () {
                    var e = this, t = o.noxcc.find("main/content", this.getRoot()), n = o.noxcc.find("grid", t);
                    n.active = !0, o.noxcc.setParent(n, e.mRoot);
                    for (var a = 0; a < this._bonusData[0]._rid.length; a++) {
                        var i = o.noxcc.instantiate(n);
                        i.active = !0, o.noxcc.setParent(i, t);
                        var r = c.IconWidget.create({
                            _infoId: this._bonusData[0]._rid[a],
                            _level: this._bonusData[0]._level[a],
                            _count: this._bonusData[0]._count[a]
                        }, c.IconWidget.DisplayFlag.COUNT);
                        r.node.setScale(.85), i.addChild(r.node)
                    }
                    this.updateBuyBtn(), o.noxcc.addClick(this._buyBtn, function () {
                        d.ClientView.getActiveIndicator().show(), d.ClientView.startIAP(e._purchaseType)
                    }), this._isLeft || (t.x -= 350, t.y -= 45, this._buyBtn.node.x -= 340, this._buyBtn.node.y -= 50), this._isAd && (t.x -= 150, t.y += 130, this._buyBtn.node.active = !1)
                }, t.prototype.updateBuyBtn = function () {
                    this._buyBtn = o.noxcc.findButton("main/button", this.getRoot()), o.noxcc.setLabelString(this._buyBtn.getComponentInChildren(cc.Label), r.lcStr(_.STR.BUY_NOW)), this._buyBtn.enableAutoGrayEffect = !0, this._purchaseType == s.Data.PurchaseType.daily_1 ? P.isRecharged(this._purchaseType) && (o.noxcc.setLabelString(this._buyBtn.getComponentInChildren(cc.Label), r.lcStr(_.STR.PURCHASED)), this._buyBtn.interactable = !1) : P.isAllRecharged(this._purchaseType) && (o.noxcc.setLabelString(this._buyBtn.getComponentInChildren(cc.Label), r.lcStr(_.STR.PURCHASED)), this._buyBtn.interactable = !1)
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(i.BasePage);
        n.ActivityLimitExPage = p, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    ActivityMonthCardPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ad914AkX25CPILgK09AfHOQ", "ActivityMonthCardPage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../../leocool/lcStr"),
            r = e("../../../StringEnums"), _ = e("../../widget/IconWidget"), s = e("../../../data/data"),
            c = e("../../../ClientView"), l = function (e) {
                function t() {
                    var t = e.call(this, "panel/activity/ActivityMonthCardPage") || this;
                    return t._monthCardDay = [], t
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._purchaseType = e;
                    for (var t = [], n = [], a = 0; a < e.length; a++) t.push(s.Data._iapInfo[e[a]]._bonusId[0]), n.push(s.Data._iapInfo[e[a]]._exBonusId[0]);
                    this._bonusesId = t, this._exBonusesId = n
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.updateBonus(), this._listeners = [], this._listeners.push(s.Data.Event.recharge_success.addListener(t, function () {
                        t._callback(), c.ClientView.getActiveIndicator().hide()
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.updateBonus = function () {
                    var e = this;
                    this._contentNode1 = [], this._contentNode2 = [], this._iconTmpl1 = [], this._iconTmpl2 = [], this._buyButton = [];
                    for (var t = P._playerBonus._bonusMonthCard, n = [], a = [], o = 0; o < t.length; o++) for (var r = 0; r < this._bonusesId.length; r++) t[o]._infoId == this._bonusesId[r] ? a.push(t[o]) : t[o]._infoId == this._exBonusesId[r] && n.push(t[o]);
                    var s = function (t) {
                        l._contentNode1[t] = i.noxcc.find("main/month_card_0" + (t + 1) + "/iconNode_01", l.getRoot()), l._iconTmpl1[t] = i.noxcc.find("icon", l._contentNode1[t]), l._iconTmpl1[t].active = !1, i.noxcc.setParent(l._iconTmpl1[t], l.getRoot());
                        for (var o = a[t]._info, r = 0; r < a[0]._info._rid.length; r++) {
                            (d = i.noxcc.instantiate(l._iconTmpl1[t])).active = !0, i.noxcc.setParent(d, l._contentNode1[t]), (p = _.IconWidget.create({
                                _infoId: o._rid[r],
                                _level: o._level[r],
                                _count: o._count[r]
                            }, _.IconWidget.DisplayFlag.COUNT)).node.setScale(.8), d.addChild(p.node)
                        }
                        l._contentNode2[t] = i.noxcc.find("main/month_card_0" + (t + 1) + "/iconNode_02", l.getRoot()), l._iconTmpl2[t] = i.noxcc.find("icon", l._contentNode2[t]), l._iconTmpl2[t].active = !1, i.noxcc.setParent(l._iconTmpl2[t], l.getRoot());
                        var s = n[t]._info;
                        for (r = 0; r < n[0]._info._rid.length; r++) {
                            var d, p;
                            (d = i.noxcc.instantiate(l._iconTmpl2[t])).active = !0, i.noxcc.setParent(d, l._contentNode2[t]), (p = _.IconWidget.create({
                                _infoId: s._rid[r],
                                _level: s._level[r],
                                _count: s._count[r]
                            }, _.IconWidget.DisplayFlag.COUNT)).node.setScale(.8), d.addChild(p.node)
                        }
                        l._buyButton[t] = i.noxcc.findButton("main/month_card_0" + (t + 1) + "/button", l.getRoot()), l._buyButton[t].enableAutoGrayEffect = !0;
                        var u = l._buyButton[t].getComponentInChildren(cc.Label);
                        l.updateBuyBtn(t, u), i.noxcc.addClick(l._buyButton[t], function () {
                            c.ClientView.getActiveIndicator().show(), e._callback = function () {
                                e.updateBuyBtn(t, u)
                            }, c.ClientView.startIAP(e._purchaseType[t])
                        })
                    }, l = this;
                    for (o = 0; o < n.length; o++) s(o)
                }, t.prototype.updateBuyBtn = function (e, t) {
                    this._monthCardDay = [], this._monthCardDay.push(P._monthCardDay1, P._monthCardDay2, P._monthCardDay3), i.noxcc.setLabelString(t, string.format(o.lcStr(r.STR.MONTH_CARD_BUY_MONEY), o.lcStr(4054 + e)) + "  " + o.lcStr(r.STR.BUY_NOW)), this._monthCardDay[e] > 0 && (this._buyButton[e].getComponentInChildren(cc.Label).string = string.format(o.lcStr(r.STR.REMAIN_DAYS), this._monthCardDay[e]), this._buyButton[e].interactable = !1)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BasePage);
        n.ActivityMonthCardPage = l, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    ActivityRechargePackagePage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e214f4QgHlC3onhonC6JhB0", "ActivityRechargePackagePage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../../leocool/lcStr"),
            r = e("../../../data/data"), _ = e("../../../utils/SpriteUtil"), s = e("../../widget/IconWidget"),
            c = e("../../../StringEnums"), l = e("../../../ClientView"), d = function (e) {
                function t() {
                    return e.call(this, "panel/activity/ActivityRechargePackagePage") || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._type = e;
                    for (var t = [], n = 0; n < e.length; n++) t.push(r.Data._iapInfo[e[n]]._bonusId[0]);
                    this._bonusesId = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.initData(), this.updateMain(), this._listeners = [], this._listeners.push(r.Data.Event.recharge_success.addListener(t, function () {
                        t._callback(), l.ClientView.getActiveIndicator().hide()
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.initData = function () {
                    for (var e = [], t = [], n = 0; n < this._bonusesId.length; n++) {
                        for (var a in r.Data._bonusInfo) {
                            r.Data._bonusInfo[a]._id == this._bonusesId[n] && e.push(r.Data._bonusInfo[a])
                        }
                        t.push(r.Data._iapInfo[this._type[n]])
                    }
                    this._bonusData = e, this._priceData = t, this._publicData = {
                        _topImg: ["tt_gift_package_1", "tt_gift_package_2", "tt_gift_package_4", "tt_gift_package_5", "tt_gift_package_6", "tt_gift_package_7", "tt_gift_package_8", "tt_gift_package_9"],
                        _mImg: ["ad_package_08", "ad_package_07", "ad_package_05", "ad_package_04", "ad_package_03", "ad_package_02", "ad_package_09", "ad_package_01"],
                        _skin: ["lihe1", "lihe2", "lihecao", "lihehuo", "lihedian", "liheshui", "lihe4", "lihe5"]
                    }
                }, t.prototype.updateMain = function () {
                    var e = this, t = i.noxcc.find("main/view/content", this.getRoot()), n = i.noxcc.find("grid", t);
                    n.active = !1, i.noxcc.setParent(n, this.getRoot());
                    for (var a = function (a) {
                        var r = i.noxcc.instantiate(n);
                        r.active = !0, i.noxcc.setParent(r, t);
                        var s = i.noxcc.findSprite("topVal", r);
                        _.SpriteUtil.setSprite(s.node, o._publicData._topImg[a]);
                        var c = i.noxcc.findSprite("mVal", r);
                        _.SpriteUtil.setSprite(c.node, o._publicData._mImg[a]), i.noxcc.findSkeleton("sp", r).setSkin(o._publicData._skin[a]), o.updateView(r, a);
                        var d = i.noxcc.find("iconNode", r), p = i.noxcc.find("grid", d);
                        p.active = !0, i.noxcc.setParent(p, o.getRoot()), e.updateIconItem(o._bonusData[a], p, d), i.noxcc.addClick(o._buyBtn, function () {
                            l.ClientView.getActiveIndicator().show(), e._callback = function () {
                                e.updateView(r, a)
                            }, l.ClientView.startIAP(e._type[a])
                        })
                    }, o = this, r = 0; r < this._bonusData.length; r++) a(r)
                }, t.prototype.updateIconItem = function (e, t, n) {
                    for (var a = 0; a < e._rid.length; a++) {
                        var o = i.noxcc.instantiate(t);
                        o.active = !0, i.noxcc.setParent(o, n);
                        var r = s.IconWidget.create({
                            _infoId: e._rid[a],
                            _level: e._level[a],
                            _count: e._count[a]
                        }, s.IconWidget.DisplayFlag.COUNT);
                        r.node.setScale(.85), o.addChild(r.node)
                    }
                }, t.prototype.updateView = function (e, t) {
                    var n = i.noxcc.findLabel("rechargeVal", e), a = i.noxcc.findSprite("recharge", e);
                    if (this._priceData[t]._buyLimit > 1) {
                        n.node.active = !0;
                        var r = P.getRechargedLimitCount(this._type[t]) - P.getRechargedCount(this._type[t]);
                        i.noxcc.setLabelString(n, string.format(o.lcStr(2131), r)), _.SpriteUtil.setSprite(a.node, "img_recharge_4th")
                    } else n.node.active = !1;
                    this._buyBtn = i.noxcc.findButton("button", e), i.noxcc.setLabelString(this._buyBtn.getComponentInChildren(cc.Label), o.lcStr(654) + " " + this._priceData[t]._RMB), this._buyBtn.enableAutoGrayEffect = !0, P.isAllRecharged(this._type[t]) && (i.noxcc.setLabelString(this._buyBtn.getComponentInChildren(cc.Label), o.lcStr(c.STR.PURCHASED)), this._buyBtn.interactable = !1)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BasePage);
        n.ActivityRechargePackagePage = d, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    ActivityScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "47044+gIwdFPY7hd7iNpHig", "ActivityScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("./BaseUIScene"), r = e("../const/SceneId"), _ = e("../data/data"),
            s = e("../../leocool/lcStr"), c = e("../utils/ActivityUtil"), l = e("../StringEnums"), d = e("../../nox"),
            p = e("../../noxcc"), u = e("./SceneManager"), g = e("../ui/panel/activity/ActivityMonthCardPage"),
            h = e("../ui/panel/activity/ActivityFundPage"), f = e("../ui/panel/activity/ActivityRechargePackagePage"),
            m = e("../ui/panel/activity/ActivityFirstRechargePage"), y = e("../ui/panel/activity/ActivityLimitExPage"),
            T = e("../ui/panel/activity/ActivityEventRechargePage"), S = e("../../leocool/lcAppCfg"),
            C = e("../ClientView"), v = e("../../leocool/lc"), b = function (e) {
                function t() {
                    var t = e.call(this, r.SceneId.activity, i.AllViewTypes.ActivityScene) || this;
                    return t._backBtn = null, t._listeners = [], t
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._initTab = e, this._initSubTab = t
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this._pageArea = p.noxcc.find("pageArea", this.getRootNode()), this._mainTabArea = p.noxcc.find("tabArea/mainTabArea", this.getRootNode()), this._mainTabLayout = p.noxcc.findComponent(cc.Layout, "view/content", this._mainTabArea), this._mainToggleTmpl = p.noxcc.findComponent(cc.Toggle, "tmpl_button", this._mainTabLayout.node), this._mainToggleTmpl.node.active = !1, this._mainToggleTmpl.node.parent = this.getRootNode(), this._subTabArea = p.noxcc.find("tabArea/subTabArea", this.getRootNode()), this._subTabLayout = this._subTabArea.getComponent(cc.Layout), this._subToggleTmpl = p.noxcc.findComponent(cc.Toggle, "tmpl_button", this._subTabLayout.node), this._subToggleTmpl.node.active = !1, this._subToggleTmpl.node.parent = this.getRootNode(), this._backBtn = p.noxcc.findButton("tabArea/topBar/topInfo/closeBtn", this.getRootNode()), p.noxcc.addClick(this._backBtn, self, this.onBackBtn), this._subTabArea.active = !1
                }, t.prototype.onReleaseWidget = function () {
                    this.hideCurrentPage(), e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(_.Data.Event.recharge_success.addListener(t, function () {
                        t.updateFlag()
                    })), this._listeners.push(_.Data.Event.month_card_dirty.addListener(t, function () {
                        t.onEvent(_.Data.Event.month_card_dirty)
                    })), this._listeners.push(_.Data.Event.fund_dirty.addListener(t, function () {
                        t.updateFlag(), t.onEvent(_.Data.Event.fund_dirty)
                    })), this._listeners.push(_.Data.Event.package_dirty.addListener(t, function () {
                        t.onEvent(_.Data.Event.package_dirty)
                    })), this._listeners.push(_.Data.Event.bonus_dirty.addListener(t, function (e) {
                        t.updateFlag();
                        var n = e._bonus;
                        n && n._info._type == _.Data.BonusType.fund_all && t.updateTabs()
                    })), this._listeners.push(_.Data.Event.personal_fund_dirty.addListener(t, function () {
                        t.onEvent(_.Data.Event.personal_fund_dirty)
                    })), this.updateTabs()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.updateTabs = function () {
                    var e = this._focusedTab, t = this._focusedSubTab;
                    this.hideCurrentPage(), this.clearMainButtons(), this.clearSubButtons(), this._focusedTab = null, this._focusedSubTab = null, this._tabDefs = this.genTabDefs(), this.createMainButtons(), e ? this.setActiveTab(e._index, t ? t._subIndex : null) : this.setActiveTab(this._initTab, this._initSubTab)
                }, t.prototype.genTabDefs = function () {
                    var e = [];
                    if (0 == this.getFirstRechargeStatus() && e.push({
                        _index: t.Tab.first_recharge,
                        _str: s.lcStr(l.STR.FIRST_RECHARGE_BONUS),
                        _page: m.ActivityFirstRechargePage.create()
                    }), P._playerActivity.getDayilPaymentActivity() || P._playerActivity.getLastDayilPaymentActivity()) {
                        var n = {_index: t.Tab.event_recharge, _str: s.lcStr(315), _tabs: []};
                        e.push(n), P._playerActivity.getDayilPaymentActivity() && n._tabs.push({
                            _subIndex: t.Tab.daily_cumulative,
                            _str: s.lcStr(317),
                            _page: T.ActivityEventRechargePage.create(t.Tab.daily_cumulative)
                        }), P._playerActivity.getLastDayilPaymentActivity() && n._tabs.push({
                            _subIndex: t.Tab.continuous_payment,
                            _str: s.lcStr(318),
                            _page: T.ActivityEventRechargePage.create(t.Tab.continuous_payment)
                        })
                    }
                    e.push({
                        _index: t.Tab.daily_gift,
                        _str: s.lcStr(84),
                        _page: y.ActivityLimitExPage.create(_.Data.PurchaseType.daily_1)
                    });
                    for (var a = _.Data.PurchaseType.limit_1; a <= _.Data.PurchaseType.limit_9; ++a) if (a != _.Data.PurchaseType.limit_6 && !S.lcAppCfg.isHideLimitPackage(a) && c.ActivityUtil.isActivityValidByParam(a) && !P.isAllRecharged(a)) {
                        var i = t.Tab.limit_large_01 + a - _.Data.PurchaseType.limit_1;
                        e.push({
                            _index: i,
                            _str: s.lcStr(c.ActivityUtil.getActivityByParam(a)._nameSid),
                            _page: y.ActivityLimitExPage.create(a)
                        })
                    }
                    var o = [];
                    for (a = _.Data.PurchaseType.package_1; a <= _.Data.PurchaseType.package_9; a++) a != _.Data.PurchaseType.package_3 && o.push(a);
                    e.push({
                        _index: t.Tab.package,
                        _str: s.lcStr(l.STR.RECHARGE_PACKAGE),
                        _page: f.ActivityRechargePackagePage.create(o)
                    });
                    var r = [];
                    for (a = _.Data.PurchaseType.month_card_1; a <= _.Data.PurchaseType.month_card_3; a++) r.push(a);
                    return e.push({
                        _index: t.Tab.month_card,
                        _str: s.lcStr(l.STR.MONTH_CARD),
                        _page: g.ActivityMonthCardPage.create(r)
                    }), e.push({
                        _index: t.Tab.fund_sign_in,
                        _str: s.lcStr(2129),
                        _page: h.ActivityFundPage.create(_.Data.PurchaseType.fund_sign_in)
                    }), e
                }, t.prototype.getTabDef = function (e) {
                    for (var t = 0; t < this._tabDefs.length; ++t) {
                        var n = this._tabDefs[t];
                        if (n._index == e) return n
                    }
                    return null
                }, t.prototype.getSubTabDef = function (e, t) {
                    var n = this.getTabDef(e);
                    if (n && n._tabs) for (var a = 0; a < n._tabs.length; ++a) {
                        var i = n._tabs[a];
                        if (i._subIndex == t) return i
                    }
                    return null
                }, t.prototype.hideCurrentPage = function () {
                    this._currentPage && (console.log("destroyCurrentPage"), this._currentPage.destroy(), this._currentPage = null)
                }, t.prototype.showCurrentPage = function () {
                    this._focusedSubTab ? (this._focusedSubTab._page.show(this._pageArea), this._currentPage = this._focusedSubTab._page) : (this._focusedTab._page.show(this._pageArea), this._currentPage = this._focusedTab._page), console.log("showCurrentPage: " + this._focusedTab._str + " " + (this._focusedSubTab ? this._focusedSubTab._str : "null"))
                }, t.prototype.clearMainButtons = function () {
                    p.noxcc.destroyAllChildren(this._mainTabLayout.node), this._mainTabToggles = {}
                }, t.prototype.createMainButtons = function () {
                    for (var e = this, t = function (t) {
                        var a = e._tabDefs[t], i = p.noxcc.instantiate(e._mainToggleTmpl.node).getComponent(cc.Toggle);
                        n.updateButtonFlags(i.node, a._index), i.isChecked = !1, i.node.active = !0, p.noxcc.findLabel("text", i.node).string = a._str, e._mainTabLayout.node.addChild(i.node), e._mainTabToggles[a._index] = i, p.noxcc.addClick(i.node, e, function () {
                            e._focusedTab != a ? e.setActiveTab(a._index) : i.isChecked = !0
                        })
                    }, n = this, a = 0; a < e._tabDefs.length; ++a) t(a)
                }, t.prototype.clearSubButtons = function () {
                    p.noxcc.destroyAllChildren(this._subTabLayout.node), this._subTabToggles = {}, this._subTabArea.active = !1
                }, t.prototype.createSubButtons = function () {
                    var e = this, t = e._focusedTab;
                    if (t && t._tabs) {
                        e._subTabArea.active = !0;
                        for (var n = function (n) {
                            var a = t._tabs[n], i = p.noxcc.instantiate(e._subToggleTmpl.node).getComponent(cc.Toggle);
                            i.isChecked = !1, i.node.active = !0, p.noxcc.findLabel("text", i.node).string = a._str, e._subTabLayout.node.addChild(i.node), e._subTabToggles[a._subIndex] = i, p.noxcc.addClick(i, e, function () {
                                e._focusedSubTab != a ? e.setActiveSubTab(a._subIndex) : i.isChecked = !0
                            })
                        }, a = 0; a < t._tabs.length; ++a) n(a)
                    } else e._subTabArea.active = !1
                }, t.prototype.setActiveTab = function (e, t, n) {
                    null == e || this.getTabDef(e) || (e = this._tabDefs[0]._index, t = null), e = d.nox.D(e, this._tabDefs[0]._index);
                    var a = this.getTabDef(e);
                    if (t = d.nox.D(t, a._tabs ? a._tabs[0]._subIndex : null), this._focusedTab != a || n) {
                        this.hideCurrentPage();
                        for (var i = 0; i < this._tabDefs.length; ++i) {
                            var o = this._tabDefs[i], r = this._mainTabToggles[o._index];
                            r.isChecked = o == a, p.noxcc.setNodeColor(p.noxcc.find("text", r.node), o == a ? v.lc.Color3B.yellow : v.lc.Color3B.white)
                        }
                        this._focusedTab = a, this._focusedSubTab = null, this.clearSubButtons(), this.createSubButtons(), this.setActiveSubTab(t, n)
                    } else this.setActiveSubTab(t, n)
                }, t.prototype.setActiveSubTab = function (e, t) {
                    var n = this.getSubTabDef(this._focusedTab._index, e);
                    if (this._focusedSubTab != n || t) {
                        this.hideCurrentPage();
                        var a = this._focusedTab._tabs;
                        if (a) for (var i = 0; i < a.length; ++i) {
                            var o = a[i], r = this._subTabToggles[o._subIndex];
                            r.isChecked = o == n, p.noxcc.setNodeColor(p.noxcc.find("text", r.node), o == n ? v.lc.Color3B.yellow : v.lc.Color3B.white)
                        }
                        this._focusedSubTab = n
                    }
                    this._currentPage || this.showCurrentPage()
                }, t.prototype.getFirstRechargeStatus = function () {
                    return P.getFirstRechargeStatus()
                }, t.prototype.onEvent = function (e, n) {
                    if (e != _.Data.Event.fund_dirty && e != _.Data.Event.month_card_dirty) if (e == _.Data.Event.package_dirty) this.updateTabs(); else if (e == _.Data.Event.personal_fund_dirty) if (this._focusedTab._index == t.Tab.fund_sign_in) this.updateTabs(); else if (e == _.Data.Event.bonus_dirty) {
                        var a = n._bonus;
                        a && a._info._type == _.Data.BonusType.fund_all && this.updateTabs()
                    }
                }, t.prototype.updateButtonFlags = function (e, n) {
                    var a = 0;
                    n == t.Tab.first_recharge ? a = P._playerBonus.getFirstRechargeFlag() : n == t.Tab.fund ? a = P._playerBonus.getFundBonusFlag() : n == t.Tab.return_to_game ? a = P._playerBonus.getReturnPackageFlag() : n == t.Tab.fund_sign_in ? a = P._playerBonus.getSignInFundFlag() : n == t.Tab.continuous_payment && (a = P._playerActivity.getDayilPaymentActivityFlags() + P._playerActivity.getPaymentDaysActivityFlags()), C.ClientView.checkNewFlag(e, a, 24, 0)
                }, t.prototype.updateFlag = function () {
                    for (var e = 0; e < this._tabDefs.length; e++) {
                        var t = this._tabDefs[e];
                        this.updateButtonFlags(this._mainTabToggles[t._index].node, this._tabDefs[e]._index)
                    }
                }, t.prototype.onBackBtn = function () {
                    u.SceneManager.popScene()
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(o.BaseUIScene);
        n.ActivityScene = b, function (e) {
            (function (e) {
                e[e.first_recharge = 1] = "first_recharge", e[e.package = 2] = "package", e[e.month_card = 3] = "month_card", e[e.fund = 4] = "fund", e[e.invite = 5] = "invite", e[e.feed_back = 6] = "feed_back", e[e.fund_sign_in = 7] = "fund_sign_in", e[e.consume_feedback = 8] = "consume_feedback", e[e.limit_small = 10] = "limit_small", e[e.limit_large_01 = 11] = "limit_large_01", e[e.limit_large_02 = 12] = "limit_large_02", e[e.limit_large_03 = 13] = "limit_large_03", e[e.limit_large_04 = 14] = "limit_large_04", e[e.limit_large_05 = 15] = "limit_large_05", e[e.limit_large_06 = 16] = "limit_large_06", e[e.limit_large_07 = 17] = "limit_large_07", e[e.limit_large_08 = 18] = "limit_large_08", e[e.limit_large_09 = 19] = "limit_large_09", e[e.return_to_game = 21] = "return_to_game", e[e.daily_gift = 22] = "daily_gift", e[e.event_recharge = 23] = "event_recharge", e[e.god_card_sell = 24] = "god_card_sell", e[e.anniversary_recharge = 26] = "anniversary_recharge", e[e.daily_cumulative = 31] = "daily_cumulative", e[e.continuous_payment = 32] = "continuous_payment", e[e.closed_beta_feedback = 33] = "closed_beta_feedback", e[e.Tired_to_charge = 51] = "Tired_to_charge", e[e.week_package = 61] = "week_package", e[e.open_server_limit_gift = 62] = "open_server_limit_gift", e[e.custom_piece_activity = 71] = "custom_piece_activity", e[e.dianfengdouble_activity = 72] = "dianfengdouble_activity", e[e.open_server_seven_days = 73] = "open_server_seven_days", e[e.peak_double_exp_activity = 74] = "peak_double_exp_activity", e[e.athletics_double_exp_activity = 75] = "athletics_double_exp_activity", e[e.peakbox_doublereward_activity = 76] = "peakbox_doublereward_activity", e[e.primeTime_activity = 77] = "primeTime_activity", e[e.zing_card_rebate_activity = 80] = "zing_card_rebate_activity", e[e.regression_recharge_package = 81] = "regression_recharge_package", e[e.ad_custom_1 = 84] = "ad_custom_1", e[e.Preferential_gifts = 90] = "Preferential_gifts", e[e.new_server_recharge_discounts = 91] = "new_server_recharge_discounts", e[e.new_server_daily_card = 92] = "new_server_daily_card", e[e.new_suit_bags = 93] = "new_suit_bags", e[e.holiday_super_card_package = 94] = "holiday_super_card_package", e[e.super_growth_fund = 95] = "super_growth_fund", e[e.rod_reward = 96] = "rod_reward", e[e.anniversary_sign = 97] = "anniversary_sign", e[e.role_package_sum = 98] = "role_package_sum", e[e.limit_large_ditto = 100] = "limit_large_ditto", e[e.limit_large_pidove = 101] = "limit_large_pidove", e[e.limit_large_super_potion = 102] = "limit_large_super_potion", e[e.first_recharge_1RMB = 107] = "first_recharge_1RMB"
            })(e.Tab || (e.Tab = {}))
        }(b = n.ActivityScene || (n.ActivityScene = {})), n.ActivityScene = b, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/activity/ActivityEventRechargePage": "ActivityEventRechargePage",
        "../ui/panel/activity/ActivityFirstRechargePage": "ActivityFirstRechargePage",
        "../ui/panel/activity/ActivityFundPage": "ActivityFundPage",
        "../ui/panel/activity/ActivityLimitExPage": "ActivityLimitExPage",
        "../ui/panel/activity/ActivityMonthCardPage": "ActivityMonthCardPage",
        "../ui/panel/activity/ActivityRechargePackagePage": "ActivityRechargePackagePage",
        "../utils/ActivityUtil": "ActivityUtil",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    ActivityTask: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "de6e3+/4Q9Jbryzsk+pohzy", "ActivityTask"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../part/BonusPart"), o = e("../../../leocool/lc"),
            r = e("../../../leocool/lcStr"), _ = function () {
                function e(e) {
                    this._infoId = e, this._info = a.Data._activityTaskInfo[e];
                    var t = this.getBonus();
                    if ((0 == o.lc.V(t) ? t : 20 == t._info._type) && (t._taskInfoid = this._infoId), this.isExchangeTask()) {
                        this._resNeed = [];
                        for (var n = 0; n < this._info._param.length; ++n) {
                            var i = this._info._param[n];
                            this._resNeed.push({_infoId: i[0], _count: i[1]})
                        }
                    }
                }

                return e.prototype.getBonus = function () {
                    return P._playerBonus._bonuses[this._info._bonusId]
                }, e.prototype.getTitle = function () {
                    var e = this.getBonus()._info;
                    return r.lcStr(e._nameSid)
                }, e.prototype.exchange = function () {
                    if (!this.isExchangable()) return a.Data.ErrorType.need_more_exchange_res;
                    var e = this.getBonus();
                    if (this.isExchangeTask()) {
                        var t = e._info;
                        P.addResources(t._rid, t._level, t._count, t._isFragment);
                        for (var n = 0; n < this._resNeed.length; ++n) {
                            var o = this._resNeed[n], r = a.Data.getType(o._infoId);
                            r == a.Data.CardType.res ? P.changeResource(o._infoId, -o._count) : r == a.Data.CardType.props && P._propBag.changeProps(o._infoId, -o._count)
                        }
                        i.BonusPart.sendClaimActivityBonus(this._infoId), this._info._type != a.Data.ActivityTaskType.exchange_daily && this._info._type != a.Data.ActivityTaskType.exchange_once || (e._isClaimed = !0)
                    } else P._playerBonus.claimBonus(e._infoId);
                    return a.Data.ErrorType.ok
                }, e.prototype.isExchangeTask = function () {
                    var e = this._info._type;
                    return e >= a.Data.ActivityTaskType.exchange_minor && e <= a.Data.ActivityTaskType.exchange_once
                }, e.prototype.isExchangable = function () {
                    cc.assert(null != this._resNeed, "this._resNeed \u5fc5\u987b\u6709\u503c");
                    for (var e = 0; e < this._resNeed.length; ++e) {
                        var t = this._resNeed[e], n = P.getItemCount(t._infoId);
                        if (t._count > n) return !1
                    }
                    return !0
                }, e.prototype.isValid = function () {
                    return !0
                }, e
            }();
        n.ActivityTask = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../part/BonusPart": "BonusPart",
        "../data": "data"
    }],
    ActivityUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2ce6dpD2JRNp43ZsbnaFUsE", "ActivityUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("../StringEnums"), o = e("../data/data"), r = e("../../leocool/lc"),
            _ = e("../const/ConfigKey"), s = e("../../leocool/lcStr"), c = e("../../leocool/lcAppCfg"),
            l = e("./TimeUtil");
        (function (e) {
            function t(e) {
                var t = string.splitByChar(e, ".");
                return 1e6 * a.nox.toNumber(t[0]) + 1e4 * a.nox.toNumber(t[1]) + 100 * a.nox.toNumber(t[2]) + a.nox.toNumber(t[3])
            }

            function n(e) {
                var t = string.splitByChar(e, ".");
                return 1e8 * a.nox.toNumber(t[0]) + 1e6 * a.nox.toNumber(t[1]) + 1e4 * a.nox.toNumber(t[2]) + 100 * a.nox.toNumber(t[3]) + a.nox.toNumber(t[4])
            }

            function d(e, t) {
                var n = string.splitByChar(e, "."), o = a.nox.toNumber(n[0]), r = a.nox.toNumber(n[1]),
                    _ = a.nox.toNumber(n[2]);
                return t && 0 == (_ -= 1) && (0 == (r -= 1) && (r = 12, o -= 1), _ = l.TimeUtil.getMonthDay(o, r)), a.nox.toString(r) + s.lcStr(i.STR.MONTH) + a.nox.toString(_) + s.lcStr(i.STR.DAY_RI)
            }

            function p(e) {
                return [t(e._beginTime), t(e._endTime)]
            }

            function u(e) {
                return [n(e._beginTime), n(e._endTime)]
            }

            function g(e) {
                var t = l.TimeUtil.getServerTick(), n = p(e), a = n[0], i = n[1];
                return t >= a && t < i
            }

            function h(e) {
                return !0
            }

            function f(e) {
                for (var t in o.Data._activityInfo) {
                    var n = o.Data._activityInfo[t];
                    if (n._param[0] == e) return n
                }
                return null
            }

            function m(e, t) {
                for (var n in o.Data._activityInfo) {
                    var a = o.Data._activityInfo[n];
                    if (a._type == e) for (var i = 0; i < a._param.length; ++i) if (a._param[i] == t) return {
                        _info: a,
                        _index: i
                    }
                }
                return {_info: null, _index: null}
            }

            e.strToTimeTick = t, e.strToTimeTickEX = n, e.strToDateline = function (e) {
                var t = string.splitByChar(e, ".");
                return 1e4 * a.nox.toNumber(t[0]) + 100 * a.nox.toNumber(t[1]) + a.nox.toNumber(t[2])
            }, e.getServerDateline = function (e) {
                var t = l.TimeUtil.getServerDate(e), n = (t.shift(), t.shift()), a = t.shift();
                return 1e4 * t.shift() + 100 * a + n
            }, e.strToMonthDay = d, e.getActivityDuration = p, e.getActivityDurationEX = u, e.getActivityDurationStr = function (e) {
                var t = d(e._beginTime), n = d(e._endTime, !0);
                return t != n ? t + " - " + n : t
            }, e.isActivityValid = g, e.isActivityForSubChannel = h, e.isActivityValidIgnoreHour = function (e) {
                var t = Math.floor(l.TimeUtil.getServerTick() / 100), n = p(e);
                return t == Math.floor(n.shift() / 100)
            }, e.isActivityValidEx = function (e) {
                var t = l.TimeUtil.getServerTick(), n = p(e), a = n.shift(), i = n.shift();
                return t >= a && t < i
            }, e.isActivityValidExMinute = function (e) {
                if (null == e) return !1;
                var t = l.TimeUtil.getServerTickEX(), n = u(e), a = n.shift(), i = n.shift();
                return t >= a && t < i
            }, e.isActivityEnd = function (e) {
                var t = l.TimeUtil.getServerTick(), n = p(e);
                return n.shift(), t < n.shift()
            }, e.getActivityByParam = f, e.getActivityByType = function (e) {
                for (var t in o.Data._activityInfo) {
                    var n = o.Data._activityInfo[t];
                    if (n._type == e) return n
                }
                return null
            }, e.getValidActivityByType = function (e) {
                for (var t in o.Data._activityInfo) {
                    var n = o.Data._activityInfo[t];
                    if (n._type == e && g(n)) return n
                }
                return null
            }, e.getActivityByTypeAndParam = m, e.getValidActivityByTypeAndParam = function (e, t) {
                var n = m(e, t), i = n._info, o = n._index;
                return a.nox.V(i) && g(i) ? {_info: i, _index: o} : {_info: null, _index: null}
            }, e.isActivityValidByParam = function (e) {
                var t = f(e);
                return null != t && g(t)
            }, e.clearActivityShowed = function (e) {
                r.lc.writeConfig(_.ConfigKey.activity_show_day + e, 0)
            }, e.setActivityShowed = function (e) {
                var t = Math.floor(l.TimeUtil.getServerTick() / 100);
                r.lc.writeConfig(_.ConfigKey.activity_show_day + e, t)
            }, e.isActivityShowed = function (e) {
                var t = Math.floor(l.TimeUtil.getServerTick() / 100);
                return a.nox.toNumber(r.lc.readConfig(_.ConfigKey.activity_show_day + e, "0")) == t
            }, e.getActivitiesToShow = function () {
                var t = [];
                if (!c.lcAppCfg.isAppStoreReviewing()) for (var n = o.Data.PurchaseType.limit_1; n <= o.Data.PurchaseType.limit_9; ++n) {
                    var a = o.Data.PopupType.limit_1 + n - o.Data.PurchaseType.limit_1;
                    c.lcAppCfg.isHideLimitPackage(n) || e.isActivityShowed(a) || P.isAllRecharged(n) || t.push(a)
                }
                return t
            }, e.isWeekPackage = function () {
                for (var e = [], t = 0; t < P.xls_activity.length; t++) {
                    var n = P.xls_activity[t];
                    n.id == o.Data.BonusType.week_package1 ? e.push({
                        _str: s.lcStr(70030) + " 1",
                        _subIndex: 100 * ActivityScene.Tab.week_package + 1,
                        _isSub: !0
                    }) : n.id == o.Data.BonusType.week_package2 ? e.push({
                        _str: s.lcStr(70030) + " 2",
                        _subIndex: 100 * ActivityScene.Tab.week_package + 2,
                        _isSub: !0
                    }) : n.id == o.Data.BonusType.week_package3 && e.push({
                        _str: s.lcStr(70030) + " 3",
                        _subIndex: 100 * ActivityScene.Tab.week_package + 3,
                        _isSub: !0
                    })
                }
                return e.sort(function (e, t) {
                    return t._subIndex - e._subIndex
                }), e
            }, e.isOpenserverLimitGifts = function () {
                for (var e = [], t = 0; t < P.xls_activity.length; t++) {
                    var n = P.xls_activity[t];
                    n.id == o.Data.BonusType.open_server_limit_gift1 ? e.push({
                        _str: s.lcStr(70030) + " 1",
                        _subIndex: 100 * ActivityScene.Tab.open_server_limit_gift + 1,
                        _isSub: !0
                    }) : n.id == o.Data.BonusType.open_server_limit_gift2 || n.id == o.Data.BonusType.open_server_limit_gift3 && e.push({
                        _str: s.lcStr(70030) + " 2",
                        _subIndex: 100 * ActivityScene.Tab.open_server_limit_gift + 3,
                        _isSub: !0
                    })
                }
                return e.sort(function (e, t) {
                    return t._subIndex - e._subIndex
                }), e
            }, e.isOpenServerActivity = function () {
                if (P.lz_activity) for (var e = 0; e < P.lz_activity.length; e++) if (P.lz_activity[e].id == o.Data.BonusType.open_server) return !0;
                return !1
            }, e.getAnniversaryDiscount = function (e, t) {
                var n = o.Data.ActivityId.anniversary_discount;
                if (0 != P.getLZActivityById(n).length) return [0, 0]
            }, e.isRegressionPackageCompletion = function () {
                return !(P._playerActivity._returnDay < 30)
            }
        })(n.ActivityUtil || (n.ActivityUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../StringEnums": "StringEnums",
        "../const/ConfigKey": "ConfigKey",
        "../data/data": "data",
        "./TimeUtil": "TimeUtil"
    }],
    AetherCardList: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5a8d3q7XjtLbLtsoMQ2qzPR", "AetherCardList"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseComponent"), i = e("../../../noxcc"), o = e("../../utils/SpriteUtil"),
            r = e("../../../leocool/lc"), _ = e("../node/NodeWithShaderButton"), s = e("../../config/UICfg"),
            c = e("../../data/data"), l = e("../../ToastManager"), d = e("../../../leocool/lcStr"),
            p = e("../../StringEnums"), u = e("./CardThumbnail"), g = e("../panel/CardInfoPanel"),
            h = e("../node/NodeWithLabel"), f = e("../common/Dialog"), m = e("../../ClientData"), y = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._items = [], t
                }

                return __extends(t, e), t.prototype.initUi = function (e) {
                    this._items = [];
                    for (var t = Math.floor(e.width / 163), n = 0; n < t; n++) {
                        var a = this.createItem();
                        this._items.push(a), this.node.addChild(a)
                    }
                }, t.prototype.createItem = function () {
                    var e = i.noxcc.newNode("AetherItem");
                    e.setContentSize(cc.size(160, 400));
                    var t = o.SpriteUtil.createSprite("gacha_super_bottom0");
                    t.node.scale = .8, r.lc.addChildToPosAR(e, t.node, cc.v2(0, -100)), e._btn && (e._btn.destroy(), e._btn = null);
                    var n = _.NodeWithShaderButton.createScale9ShaderButton("img_btn_green_xs", function () {
                        if (e._infoId) {
                            var t = m.ClientData.getNameByInfoId(e._infoId);
                            f.Dialog.showDialog(string.format(d.lcStr(p.STR.COMPOSE_EXCHANGE), t), function () {
                                var t = P._playerCard.composeCardByFragment(e._infoId, !1);
                                t == c.Data.ErrorType.ok || t == c.Data.ErrorType.compose_common_fragment || l.ToastManager.push(d.lcStr(p.STR.COMFIRM_COMPOSE_ERROR))
                            })
                        }
                    }, s.UICfg.CRECT_BUTTON_B_XS, 120, 50);
                    n.addLabel(d.lcStr(p.STR.COMPOSE)), n.setDisabledShader(s.UICfg.SHADER_DISABLE), r.lc.addChildToPosAR(e, n, cc.v2(0, -200)), e._btn = n;
                    var a = o.SpriteUtil.createScale9Sprite("card_fragment_bar_bg").node;
                    a.setContentSize(cc.size(160, 36)), a.setAnchorPoint(0, .5), a.scale = .8;
                    var u = a.addComponent(cc.ProgressBar);
                    u.totalLength = 160;
                    var g = o.SpriteUtil.createScale9Sprite("card_fragment_bar").node;
                    g.setAnchorPoint(0, .5), g.setContentSize(0, 30), a.addChild(g), u.barSprite = g.getComponent(cc.Sprite), u.progress = .3;
                    var y = h.NodeWithLabel.createTTF("1/2", s.UICfg.FontSize.S1);
                    return r.lc.addChildToCenter(a, y), r.lc.addChildToPosAR(e, a, cc.v2(.8 * -r.lc.cw(a), -138)), e._pBar = a, e._pBar._label = y, e
                }, t.prototype.refresh = function (e) {
                    var t = this;
                    t._cardInfos = e;
                    for (var n = function (n) {
                        var a = e[n];
                        if (a) {
                            var o = t._items[n];
                            o._cardThumb && o._cardThumb.node.destroy(), o._infoId = a._infoId;
                            var _ = u.CardThumbnail.create(a._infoId, null);
                            o._cardThumb = _, _.setScaleFactor(.42), _.node.setContentSize(r.lc.asrect(_.node));
                            var s = function () {
                                g.CardInfoPanel.create(a._infoId, 1, g.CardInfoPanel.OperateType.view).show()
                            };
                            _.node.off(cc.Node.EventType.TOUCH_END, s, t), _.node.on(cc.Node.EventType.TOUCH_END, s, t), r.lc.addChildToPosAR(o, _.node, cc.v2(0, 70));
                            var l = P._playerCard.getFragmentCount(a._infoId);
                            i.noxcc.setProgressBarValue(o._pBar, Math.min(100, l / c.Data._globalInfo._legendCardMixCount * 100)), o._pBar._label.setString(l + "/" + c.Data._globalInfo._legendCardMixCount);
                            var d = c.Data._globalInfo._legendCardMixCount <= l + P.getItemCount(c.Data.PropsId.common_fragment);
                            o._btn.setEnabled(d && a._remainNum > 0), o._cardThumb.setGray(a._remainNum <= 0)
                        }
                    }, a = 0; a < 4; a++) n(a)
                }, t.create = function (e) {
                    var n = i.noxcc.newNode("AetherCardList");
                    n.setContentSize(e);
                    var a = n.addComponent(t), o = n.addComponent(cc.Layout);
                    return o.type = cc.Layout.Type.HORIZONTAL, o.spacingX = 56, a.initUi(e), a
                }, t
            }(a.BaseComponent);
        n.AetherCardList = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../common/Dialog": "Dialog",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../panel/CardInfoPanel": "CardInfoPanel",
        "./CardThumbnail": "CardThumbnail"
    }],
    AllImageSize: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "35b71fFnpNAe4W9ZUmCAkL0", "AllImageSize"), Object.defineProperty(n, "__esModule", {value: !0}), n.AllImageSize = {
            "_default/white.png": [1, 1, 1, 1],
            "activity/activity5_img_claimed.png": [47, 41, 48, 42],
            "activity/activity5_img_supply.png": [82, 19, 82, 19],
            "activity/activity5_rect_claimable.png": [114, 114, 114, 114],
            "activity/activity_bonus_bg2.png": [60, 60, 60, 60],
            "activity/activity_button_shadow.png": [32, 32, 32, 32],
            "activity/activity_icon.png": [46, 40, 50, 50],
            "activity/activity_icon_001.png": [42, 46, 50, 50],
            "activity/activity_icon_002.png": [39, 45, 50, 50],
            "activity/activity_icon_003.png": [39, 43, 50, 50],
            "activity/activity_icon_004.png": [42, 49, 50, 50],
            "activity/activity_icon_005.png": [41, 42, 50, 50],
            "activity/activity_icon_006.png": [40, 44, 50, 50],
            "activity/activity_icon_007.png": [44, 41, 50, 50],
            "activity/activity_icon_008.png": [48, 49, 50, 50],
            "activity/activity_icon_009.png": [46, 47, 50, 50],
            "activity/activity_icon_010.png": [45, 49, 50, 50],
            "activity/activity_icon_011.png": [50, 50, 50, 50],
            "activity/activity_icon_012.png": [48, 48, 50, 50],
            "activity/activity_icon_013.png": [48, 49, 50, 50],
            "activity/activity_icon_014.png": [47, 47, 50, 50],
            "activity/activity_icon_015.png": [49, 34, 50, 50],
            "activity/activity_icon_016.png": [48, 50, 50, 50],
            "activity/activity_icon_017.png": [46, 38, 50, 50],
            "activity/activity_icon_018.png": [44, 48, 50, 50],
            "activity/activity_icon_019.png": [45, 44, 50, 50],
            "activity/activity_icon_020.png": [48, 45, 50, 50],
            "activity/activity_icon_021.png": [40, 50, 50, 50],
            "activity/activity_icon_022.png": [49, 50, 50, 50],
            "activity/activity_icon_101.png": [42, 50, 42, 50],
            "activity/activity_icon_102.png": [42, 50, 42, 50],
            "activity/activity_icon_feedback.png": [82, 68, 156, 104],
            "activity/activity_icon_invite.png": [115, 86, 115, 86],
            "activity/activity_m1_off.png": [190, 152, 190, 152],
            "activity/activity_m2_off.png": [190, 152, 190, 152],
            "activity/activity_tip_bg.png": [84, 57, 84, 58],
            "activity/checkin_button1.png": [44, 46, 47, 48],
            "activity/checkin_button2.png": [42, 44, 47, 48],
            "activity/checkin_button3.png": [109, 77, 109, 77],
            "activity/checkin_button4.png": [46, 47, 47, 48],
            "activity/checkin_button5.png": [42, 44, 47, 48],
            "activity/checkin_button6.png": [44, 44, 47, 48],
            "activity/checkin_button_focus.png": [206, 93, 206, 93],
            "activity/checkin_button_unfocus.png": [199, 86, 206, 93],
            "activity/img_invite_bottom.png": [51, 84, 51, 84],
            "activity/tip_avatar.png": [179, 204, 179, 204],
            "activity/tip_frame.png": [53, 90, 57, 93],
            "avatar/avatar_0001.png": [87, 87, 87, 87],
            "avatar/avatar_0002.png": [87, 87, 87, 87],
            "avatar/avatar_0101.png": [87, 87, 87, 87],
            "avatar/avatar_0102.png": [87, 87, 87, 87],
            "avatar/avatar_0201.png": [87, 87, 87, 87],
            "avatar/avatar_0202.png": [87, 87, 87, 87],
            "avatar/avatar_0301.png": [87, 87, 87, 87],
            "avatar/avatar_0302.png": [87, 87, 87, 87],
            "avatar/avatar_0401.png": [87, 87, 87, 87],
            "avatar/avatar_0402.png": [87, 87, 87, 87],
            "avatar/avatar_0501.png": [87, 87, 87, 87],
            "avatar/avatar_0502.png": [87, 87, 87, 87],
            "avatar/avatar_5000.png": [87, 87, 87, 87],
            "avatar/avatar_5010.png": [87, 87, 87, 87],
            "avatar/avatar_5011.png": [87, 87, 87, 87],
            "avatar/avatar_5012.png": [87, 87, 87, 87],
            "avatar/avatar_5013.png": [87, 87, 87, 87],
            "avatar/avatar_5014.png": [87, 87, 87, 87],
            "avatar/avatar_5015.png": [87, 87, 87, 87],
            "avatar/avatar_5016.png": [87, 87, 87, 87],
            "avatar/avatar_5017.png": [87, 87, 87, 87],
            "avatar/avatar_5018.png": [87, 87, 87, 87],
            "avatar/avatar_5019.png": [87, 87, 87, 87],
            "avatar/avatar_5020.png": [87, 87, 87, 87],
            "avatar/avatar_5021.png": [87, 87, 87, 87],
            "avatar/avatar_5022.png": [87, 87, 87, 87],
            "avatar/avatar_5023.png": [87, 87, 87, 87],
            "avatar/avatar_5024.png": [87, 87, 87, 87],
            "avatar/avatar_5025.png": [87, 87, 87, 87],
            "avatar/avatar_5026.png": [87, 87, 87, 87],
            "avatar/avatar_5027.png": [87, 87, 87, 87],
            "avatar/avatar_5028.png": [87, 87, 87, 87],
            "avatar/avatar_5029.png": [87, 87, 87, 87],
            "avatar/avatar_5030.png": [87, 87, 87, 87],
            "avatar/avatar_5031.png": [87, 87, 87, 87],
            "avatar/avatar_5032.png": [87, 87, 87, 87],
            "avatar/avatar_5033.png": [87, 87, 87, 87],
            "avatar/avatar_5034.png": [87, 87, 87, 87],
            "avatar/avatar_5035.png": [87, 87, 87, 87],
            "avatar/avatar_5036.png": [87, 87, 87, 87],
            "avatar/avatar_5037.png": [87, 87, 87, 87],
            "avatar/avatar_5038.png": [87, 87, 87, 87],
            "avatar/avatar_5039.png": [87, 87, 87, 87],
            "avatar/avatar_5040.png": [87, 87, 87, 87],
            "avatar/avatar_5041.png": [87, 87, 87, 87],
            "avatar/avatar_5042.png": [87, 86, 87, 86],
            "avatar/avatar_5043.png": [87, 87, 87, 87],
            "avatar/avatar_5044.png": [87, 87, 87, 87],
            "avatar/avatar_5045.png": [87, 87, 87, 87],
            "avatar/avatar_5046.png": [87, 87, 87, 87],
            "avatar/avatar_5047.png": [87, 87, 87, 87],
            "avatar/avatar_5048.png": [87, 87, 87, 87],
            "avatar/avatar_5049.png": [87, 87, 87, 87],
            "avatar/avatar_5050.png": [87, 87, 87, 87],
            "avatar/avatar_5051.png": [87, 87, 87, 87],
            "avatar/avatar_5052.png": [87, 87, 87, 87],
            "avatar/avatar_5053.png": [87, 87, 87, 87],
            "avatar/avatar_5054.png": [87, 87, 87, 87],
            "avatar/avatar_5055.png": [87, 87, 87, 87],
            "avatar/avatar_5056.png": [87, 87, 87, 87],
            "avatar/avatar_5057.png": [87, 87, 87, 87],
            "avatar/avatar_5058.png": [87, 87, 87, 87],
            "avatar/avatar_5059.png": [87, 87, 87, 87],
            "avatar/avatar_5999.png": [87, 87, 87, 87],
            "avatar/avatar_8051.png": [104, 104, 104, 104],
            "avatar/avatar_8052.png": [104, 104, 104, 104],
            "avatar/avatar_8053.png": [87, 86, 87, 86],
            "avatar/avatar_badge_s_1.png": [34, 35, 34, 35],
            "avatar/avatar_badge_s_2.png": [34, 35, 34, 35],
            "avatar/avatar_badge_s_3.png": [34, 35, 34, 35],
            "avatar/avatar_badge_s_4.png": [34, 35, 34, 35],
            "avatar/avatar_badge_s_5.png": [34, 35, 34, 35],
            "avatar/avatar_badge_s_6.png": [34, 35, 34, 35],
            "avatar/avatar_crown.png": [34, 28, 34, 28],
            "avatar/avatar_frame_001.png": [97, 102, 97, 111],
            "avatar/avatar_frame_7501.png": [101, 107, 101, 107],
            "avatar/avatar_frame_7502.png": [100, 100, 100, 100],
            "avatar/avatar_frame_7502_1.png": [98, 42, 100, 100],
            "avatar/avatar_frame_7502_2.png": [96, 41, 100, 100],
            "avatar/avatar_frame_7502_3.png": [96, 41, 100, 100],
            "avatar/avatar_frame_7506.png": [103, 101, 106, 106],
            "avatar/avatar_frame_7507.png": [103, 104, 106, 106],
            "avatar/avatar_frame_7507_1.png": [30, 26, 30, 26],
            "avatar/avatar_frame_7507_2.png": [20, 20, 20, 20],
            "avatar/avatar_frame_7509.png": [104, 104, 104, 104],
            "avatar/avatar_frame_7510.png": [104, 104, 104, 104],
            "avatar/avatar_frame_7511.png": [104, 104, 104, 104],
            "avatar/avatar_frame_7512.png": [103, 103, 104, 104],
            "avatar/avatar_frame_7513.png": [104, 104, 104, 104],
            "avatar/avatar_frame_7514.png": [104, 104, 104, 104],
            "avatar/avatar_frame_7515.png": [104, 104, 104, 104],
            "avatar/avatar_level_bg.png": [44, 46, 44, 46],
            "avatar/avatar_moon.png": [12, 13, 13, 16],
            "avatar/avatar_name_bg.png": [28, 39, 28, 39],
            "avatar/avatar_star.png": [14, 13, 14, 13],
            "avatar/avatar_sun.png": [14, 14, 14, 14],
            "avatar/avatar_vip_bg.png": [30, 25, 114, 114],
            "avatar/card_icon_unknow.png": [30, 42, 82, 82],
            "avatar/head_02.png": [151, 151, 222, 174],
            "avatar/head_03.png": [151, 151, 222, 174],
            "avatar/head_04.png": [151, 151, 222, 174],
            "avatar/head_05.png": [151, 151, 222, 174],
            "avatar/head_unknow.png": [104, 104, 104, 104],
            "avatar/img_character_name_bg.png": [72, 87, 72, 87],
            "battle/bat_arrow_1.png": [80, 63, 80, 63],
            "battle/bat_arrow_2.png": [40, 76, 40, 76],
            "battle/bat_atk_round1_tip.png": [371, 62, 385, 62],
            "battle/bat_avatar_bg_02.png": [32, 33, 32, 33],
            "battle/bat_avatar_bg_03.png": [145, 34, 145, 34],
            "battle/bat_avatar_bg_me.png": [296, 87, 300, 88],
            "battle/bat_avatar_bg_oppo.png": [296, 86, 296, 86],
            "battle/bat_btn_2.png": [108, 54, 108, 54],
            "battle/bat_btn_3.png": [108, 54, 108, 54],
            "battle/bat_btn_4.png": [108, 54, 108, 54],
            "battle/bat_btn_5.png": [108, 54, 108, 54],
            "battle/bat_btn_6.png": [108, 54, 108, 54],
            "battle/bat_btn_7.png": [141, 140, 208, 208],
            "battle/bat_btn_7_on.png": [141, 140, 208, 208],
            "battle/bat_btn_7_on1.png": [141, 141, 208, 208],
            "battle/bat_btn_bg.png": [170, 170, 208, 208],
            "battle/bat_btn_icon_auto.png": [54, 51, 54, 51],
            "battle/bat_btn_icon_back.png": [43, 39, 48, 44],
            "battle/bat_btn_icon_chat.png": [47, 41, 48, 42],
            "battle/bat_btn_icon_grave.png": [73, 37, 77, 41],
            "battle/bat_btn_icon_guide.png": [50, 41, 68, 63],
            "battle/bat_btn_icon_help.png": [31, 42, 68, 63],
            "battle/bat_btn_icon_manual.png": [34, 51, 34, 51],
            "battle/bat_btn_icon_pause.png": [40, 45, 45, 50],
            "battle/bat_btn_icon_play.png": [36, 40, 42, 45],
            "battle/bat_btn_icon_retreat.png": [40, 42, 40, 42],
            "battle/bat_btn_icon_switch.png": [40, 38, 46, 44],
            "battle/bat_btn_icon_task.png": [44, 45, 88, 88],
            "battle/bat_btn_music_off.png": [48, 42, 48, 42],
            "battle/bat_btn_music_on.png": [41, 42, 48, 42],
            "battle/bat_btn_near_bg.png": [131, 326, 131, 326],
            "battle/bat_btn_retreat.png": [62, 24, 62, 31],
            "battle/bat_btn_set.png": [71, 46, 71, 46],
            "battle/bat_btn_set2.png": [73, 71, 73, 71],
            "battle/bat_btn_snd_effect_off.png": [53, 43, 53, 43],
            "battle/bat_btn_snd_effect_on.png": [53, 43, 53, 43],
            "battle/bat_btn_task.png": [49, 47, 49, 47],
            "battle/bat_card_bg_img.png": [246, 229, 298, 258],
            "battle/bat_card_bg_img_main.png": [119, 103, 298, 258],
            "battle/bat_category.png": [42, 21, 42, 21],
            "battle/bat_coin_back.png": [68, 68, 68, 68],
            "battle/bat_coin_face.png": [68, 68, 68, 68],
            "battle/bat_dilie.png": [171, 171, 171, 171],
            "battle/bat_dlg_bg2.png": [76, 70, 76, 70],
            "battle/bat_dlg_bg3.png": [53, 47, 54, 48],
            "battle/bat_drawback_btn.png": [140, 61, 140, 61],
            "battle/bat_drawback_btn2.png": [140, 61, 140, 61],
            "battle/bat_drawback_lock.png": [62, 74, 66, 78],
            "battle/bat_energy_01.png": [163, 70, 163, 70],
            "battle/bat_energy_02.png": [197, 78, 197, 78],
            "battle/bat_energy_03.png": [102, 77, 102, 77],
            "battle/bat_energy_04.png": [159, 76, 159, 76],
            "battle/bat_energy_bg.png": [175, 88, 175, 88],
            "battle/bat_energy_dialog.png": [394, 62, 394, 62],
            "battle/bat_energy_skill_info.png": [255, 105, 255, 105],
            "battle/bat_energy_skill_info1.png": [255, 77, 255, 77],
            "battle/bat_equip_frame.png": [126, 81, 126, 81],
            "battle/bat_first_oppo.png": [159, 52, 159, 52],
            "battle/bat_first_player.png": [159, 52, 159, 52],
            "battle/bat_gem_bg.png": [58, 209, 58, 209],
            "battle/bat_gem_frame.png": [80, 230, 1200, 600],
            "battle/bat_grave_atk.png": [58, 209, 58, 209],
            "battle/bat_grave_bg.png": [66, 123, 66, 123],
            "battle/bat_grave_count_atk.png": [62, 31, 62, 31],
            "battle/bat_grave_count_def.png": [62, 31, 62, 31],
            "battle/bat_grave_def.png": [58, 209, 58, 209],
            "battle/bat_grave_heap_0.png": [60, 87, 60, 87],
            "battle/bat_grave_heap_2.png": [60, 87, 60, 87],
            "battle/bat_grave_heap_mu_0.png": [65, 95, 65, 95],
            "battle/bat_grave_heap_mu_2.png": [65, 95, 65, 95],
            "battle/bat_hongbian.png": [86, 65, 86, 65],
            "battle/bat_ico_buff_burn.png": [74, 74, 78, 78],
            "battle/bat_ico_buff_chaos.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_damage.png": [85, 90, 85, 90],
            "battle/bat_ico_buff_lock.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_negative.png": [71, 71, 78, 78],
            "battle/bat_ico_buff_numb.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_poison.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_positive.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_positive_both.png": [73, 73, 78, 78],
            "battle/bat_ico_buff_power.png": [74, 74, 78, 78],
            "battle/bat_ico_buff_sleep.png": [73, 73, 78, 78],
            "battle/bat_icon_guide_npc.png": [128, 90, 128, 90],
            "battle/bat_keyword.png": [62, 21, 62, 21],
            "battle/bat_label_atk.png": [73, 30, 73, 41],
            "battle/bat_label_def.png": [72, 31, 73, 41],
            "battle/bat_label_end.png": [73, 26, 73, 41],
            "battle/bat_label_end2.png": [72, 27, 73, 40],
            "battle/bat_label_skip.png": [67, 81, 74, 83],
            "battle/bat_offline.png": [42, 42, 42, 42],
            "battle/bat_online.png": [42, 42, 42, 42],
            "battle/bat_pile_heap_0.png": [80, 115, 80, 115],
            "battle/bat_pile_heap_1.png": [80, 115, 80, 115],
            "battle/bat_pile_heap_2.png": [80, 115, 80, 115],
            "battle/bat_progress_timer1.png": [161, 161, 208, 208],
            "battle/bat_progress_timer2.png": [161, 161, 208, 208],
            "battle/bat_red_1.png": [41, 126, 135, 127],
            "battle/bat_red_10.png": [135, 127, 135, 127],
            "battle/bat_red_2.png": [78, 126, 135, 127],
            "battle/bat_red_3.png": [80, 125, 135, 127],
            "battle/bat_red_4.png": [82, 126, 135, 127],
            "battle/bat_red_5.png": [79, 125, 135, 127],
            "battle/bat_red_6.png": [79, 125, 135, 127],
            "battle/bat_red_7.png": [78, 125, 135, 127],
            "battle/bat_red_8.png": [78, 125, 135, 127],
            "battle/bat_red_9.png": [80, 125, 135, 127],
            "battle/bat_result_battle_finish.png": [376, 94, 376, 94],
            "battle/bat_result_draw_s.png": [253, 183, 253, 183],
            "battle/bat_result_lose_s.png": [254, 185, 254, 185],
            "battle/bat_result_replay_bg_center.png": [22, 32, 22, 32],
            "battle/bat_result_replay_bg_circle.png": [218, 218, 218, 218],
            "battle/bat_result_replay_bg_draw.png": [23, 23, 23, 23],
            "battle/bat_result_replay_bg_lose.png": [23, 23, 23, 23],
            "battle/bat_result_replay_bg_win.png": [23, 23, 23, 23],
            "battle/bat_result_star_01.png": [40, 38, 44, 42],
            "battle/bat_result_star_02.png": [40, 38, 44, 42],
            "battle/bat_result_win_s.png": [253, 184, 253, 184],
            "battle/bat_scene_round_bottom.png": [100, 61, 105, 66],
            "battle/bat_scene_wick_bg.png": [35, 42, 35, 42],
            "battle/bat_screen_mask.png": [150, 100, 150, 100],
            "battle/bat_skill_btn1.png": [44, 143, 44, 143],
            "battle/bat_skill_btn2.png": [44, 143, 44, 143],
            "battle/bat_skill_btn3.png": [45, 143, 45, 143],
            "battle/bat_skill_frame.png": [27, 28, 27, 28],
            "battle/bat_skill_panel0.png": [55, 182, 55, 182],
            "battle/bat_skill_shadow.png": [52, 49, 52, 49],
            "battle/bat_skill_texture.png": [570, 113, 570, 113],
            "battle/bat_speed_x1.png": [32, 28, 37, 29],
            "battle/bat_speed_x2.png": [37, 28, 37, 29],
            "battle/bat_speed_x3.png": [37, 29, 37, 29],
            "battle/bat_speed_x4.png": [37, 28, 37, 28],
            "battle/bat_story_bg.png": [2, 90, 2, 90],
            "battle/bat_story_title_bg.png": [194, 66, 194, 66],
            "battle/bat_weakness.png": [168, 28, 169, 28],
            "battle/bat_weakness_panel1.png": [185, 90, 185, 90],
            "battle/bat_weakness_panel2.png": [185, 109, 185, 109],
            "battle/card_dialog_1.png": [67, 219, 67, 219],
            "battle/card_dialog_2.png": [30, 85, 30, 85],
            "battle/card_dialog_2_split.png": [6, 62, 6, 62],
            "battle/card_dialog_3.png": [236, 255, 236, 256],
            "battle/card_dl_from_1.png": [50, 50, 50, 50],
            "battle/card_dl_from_2.png": [50, 50, 50, 50],
            "battle/card_dl_from_3.png": [50, 50, 50, 50],
            "battle/card_dl_from_4.png": [59, 56, 60, 56],
            "battle/card_dl_from_5.png": [50, 50, 50, 50],
            "battle/card_dl_from_6.png": [50, 50, 50, 50],
            "battle/card_dl_xian.png": [183, 2, 184, 2],
            "battle/card_spr_book_mask.png": [70, 69, 70, 70],
            "battle/cover_card_bg.png": [150, 193, 150, 193],
            "battle/efc_anjian.png": [122, 56, 152, 124],
            "battle/efc_bingqiang.png": [36, 119, 36, 119],
            "battle/efc_blade.png": [82, 43, 85, 45],
            "battle/efc_board_lock.png": [159, 227, 159, 227],
            "battle/efc_book_glow.png": [131, 132, 132, 132],
            "battle/efc_cmdlbz.png": [129, 129, 129, 129],
            "battle/efc_duye.png": [34, 103, 34, 103],
            "battle/efc_duzhen.png": [58, 110, 58, 110],
            "battle/efc_glow_bottom.png": [183, 202, 184, 202],
            "battle/efc_gqbb.png": [32, 125, 32, 126],
            "battle/efc_hudun.png": [153, 184, 153, 184],
            "battle/efc_jx_1.png": [125, 133, 125, 133],
            "battle/efc_jx_2.png": [128, 133, 128, 133],
            "battle/efc_lwz.png": [64, 72, 64, 72],
            "battle/efc_niutou.png": [89, 97, 92, 103],
            "battle/efc_skill_glow.png": [126, 10, 126, 10],
            "battle/efc_ssqy.png": [147, 131, 148, 132],
            "battle/efc_taoma_1.png": [107, 128, 110, 130],
            "battle/efc_taoma_2.png": [15, 20, 16, 20],
            "battle/efc_toufu.png": [89, 113, 89, 113],
            "battle/efc_trap_visible.png": [94, 64, 94, 64],
            "battle/efc_wz.png": [64, 72, 64, 72],
            "battle/efc_xiema.png": [58, 46, 58, 46],
            "battle/efc_xueqiu.png": [24, 24, 24, 24],
            "battle/efc_zfsj.png": [172, 102, 238, 183],
            "battle/efc_zhidao.png": [74, 78, 94, 94],
            "battle/efc_zhimao.png": [28, 142, 28, 143],
            "battle/eye_close.png": [47, 35, 68, 63],
            "battle/eye_open.png": [47, 31, 68, 63],
            "cards_back/card_back_0.png": [484, 678, 486, 678],
            "cards_back/card_back_1.png": [484, 678, 486, 678],
            "cards_back/card_back_2.png": [482, 678, 486, 678],
            "cards_back/card_back_3.png": [484, 678, 486, 678],
            "cards_back/card_back_atk_0.png": [222, 208, 256, 247],
            "cards_back/card_back_atk_1.png": [222, 208, 256, 247],
            "cards_back/card_back_atk_2.png": [222, 208, 256, 247],
            "cards_img_1/card_atk.png": [34, 33, 34, 33],
            "cards_img_1/card_back_edge_01.png": [71, 602, 436, 637],
            "cards_img_1/card_back_edge_02.png": [436, 97, 436, 637],
            "cards_img_1/card_board_frame00.png": [233, 228, 256, 247],
            "cards_img_1/card_board_frame00_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame00_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_board_frame01.png": [233, 224, 256, 247],
            "cards_img_1/card_board_frame01_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame01_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_board_frame02.png": [234, 227, 256, 247],
            "cards_img_1/card_board_frame02_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame02_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_board_frame03.png": [233, 238, 256, 247],
            "cards_img_1/card_board_frame03_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame03_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_board_frame04.png": [233, 242, 256, 247],
            "cards_img_1/card_board_frame04_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame04_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_board_frame05.png": [241, 239, 256, 247],
            "cards_img_1/card_board_frame05_b1.png": [155, 17, 256, 247],
            "cards_img_1/card_board_frame05_b2.png": [154, 17, 256, 247],
            "cards_img_1/card_def.png": [30, 33, 36, 39],
            "cards_img_1/card_frame_icon_nature_00.png": [0, 0, 104, 104],
            "cards_img_1/card_frame_skill_fame.png": [12, 13, 12, 13],
            "cards_img_1/card_frame_stage.png": [135, 131, 486, 674],
            "cards_img_1/card_frame_wrd_bg.png": [485, 66, 486, 66],
            "cards_img_1/card_hp_0.png": [21, 32, 21, 32],
            "cards_img_1/card_hp_10.png": [40, 32, 40, 32],
            "cards_img_1/card_hp_100.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_110.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_120.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_130.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_140.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_150.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_160.png": [60, 30, 60, 30],
            "cards_img_1/card_hp_170.png": [56, 29, 60, 30],
            "cards_img_1/card_hp_180.png": [56, 29, 60, 30],
            "cards_img_1/card_hp_190.png": [56, 29, 60, 30],
            "cards_img_1/card_hp_20.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_200.png": [58, 29, 60, 30],
            "cards_img_1/card_hp_30.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_40.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_50.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_60.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_70.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_80.png": [41, 30, 41, 30],
            "cards_img_1/card_hp_90.png": [41, 30, 41, 30],
            "cards_img_1/card_icon_empty.png": [0, 0, 104, 104],
            "cards_img_1/card_icon_focused.png": [113, 113, 121, 121],
            "cards_img_1/card_icon_quality_00.png": [90, 91, 108, 108],
            "cards_img_1/card_icon_quality_01.png": [90, 91, 108, 108],
            "cards_img_1/card_icon_quality_02.png": [92, 93, 108, 108],
            "cards_img_1/card_icon_quality_03.png": [92, 92, 108, 108],
            "cards_img_1/card_icon_quality_04.png": [96, 95, 108, 108],
            "cards_img_1/card_icon_quality_05.png": [100, 99, 108, 108],
            "cards_img_1/card_icon_quality_06.png": [108, 99, 108, 108],
            "cards_img_1/card_icon_quality_07.png": [108, 104, 108, 108],
            "cards_img_1/card_label_activate.png": [69, 32, 69, 32],
            "cards_img_1/card_label_equiped.png": [58, 99, 58, 100],
            "cards_img_1/card_lvl0.png": [75, 43, 486, 674],
            "cards_img_1/card_lvl1.png": [77, 43, 486, 674],
            "cards_img_1/card_lvl2.png": [95, 43, 486, 674],
            "cards_img_1/card_magic_11.png": [58, 23, 64, 32],
            "cards_img_1/card_magic_12.png": [62, 23, 64, 32],
            "cards_img_1/card_magic_13.png": [64, 23, 64, 32],
            "cards_img_1/card_magic_14.png": [41, 32, 62, 32],
            "cards_img_1/card_magic_15.png": [58, 23, 60, 32],
            "cards_img_1/card_monster_lv0.png": [52, 19, 52, 28],
            "cards_img_1/card_monster_lv1.png": [61, 32, 62, 34],
            "cards_img_1/card_monster_lv2.png": [67, 33, 68, 34],
            "cards_img_1/card_nature_01_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_01_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_02_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_02_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_03_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_03_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_04_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_04_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_05_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_05_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_06_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_06_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_07_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_07_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_08_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_08_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_09_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_09_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_10_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_10_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_11_m.png": [34, 34, 256, 247],
            "cards_img_1/card_nature_11_s.png": [31, 31, 35, 35],
            "cards_img_1/card_nature_11_s_atk.png": [39, 40, 107, 51],
            "cards_img_1/card_nature_magic.png": [79, 78, 80, 78],
            "cards_img_1/card_number_+.png": [16, 17, 82, 36],
            "cards_img_1/card_number_-.png": [16, 4, 82, 36],
            "cards_img_1/card_number_10.png": [34, 25, 82, 36],
            "cards_img_1/card_number_100.png": [54, 25, 82, 36],
            "cards_img_1/card_number_110.png": [50, 25, 82, 36],
            "cards_img_1/card_number_120.png": [54, 25, 82, 36],
            "cards_img_1/card_number_130.png": [54, 25, 82, 36],
            "cards_img_1/card_number_140.png": [55, 25, 82, 36],
            "cards_img_1/card_number_150.png": [54, 25, 82, 36],
            "cards_img_1/card_number_160.png": [54, 25, 82, 36],
            "cards_img_1/card_number_20.png": [38, 25, 82, 36],
            "cards_img_1/card_number_30.png": [38, 25, 82, 36],
            "cards_img_1/card_number_40.png": [39, 25, 82, 36],
            "cards_img_1/card_number_50.png": [38, 25, 82, 36],
            "cards_img_1/card_number_60.png": [38, 25, 82, 36],
            "cards_img_1/card_number_70.png": [37, 25, 82, 36],
            "cards_img_1/card_number_80.png": [39, 25, 82, 36],
            "cards_img_1/card_number_90.png": [38, 25, 82, 36],
            "cards_img_1/card_number_s_+10.png": [56, 29, 65, 34],
            "cards_img_1/card_number_s_+20.png": [58, 29, 65, 34],
            "cards_img_1/card_number_s_+30.png": [57, 25, 65, 34],
            "cards_img_1/card_number_s_-10.png": [55, 29, 65, 34],
            "cards_img_1/card_number_s_-20.png": [58, 29, 65, 34],
            "cards_img_1/card_number_s_-30.png": [57, 25, 65, 34],
            "cards_img_1/card_number_s_x0.png": [44, 29, 65, 34],
            "cards_img_1/card_number_s_x1.png": [38, 28, 65, 34],
            "cards_img_1/card_number_s_x2.png": [43, 28, 65, 34],
            "cards_img_1/card_number_s_x3.png": [44, 29, 65, 34],
            "cards_img_1/card_number_s_x4.png": [45, 28, 65, 34],
            "cards_img_1/card_number_s_x5.png": [44, 29, 65, 34],
            "cards_img_1/card_number_s_x6.png": [44, 29, 65, 34],
            "cards_img_1/card_number_x.png": [20, 17, 82, 36],
            "cards_img_1/card_number_x0.png": [43, 29, 66, 42],
            "cards_img_1/card_number_x1.png": [37, 28, 66, 42],
            "cards_img_1/card_number_x2.png": [42, 28, 66, 42],
            "cards_img_1/card_number_x3.png": [43, 29, 66, 42],
            "cards_img_1/card_number_x4.png": [44, 28, 66, 42],
            "cards_img_1/card_number_x5.png": [43, 29, 66, 42],
            "cards_img_1/card_number_x6.png": [43, 29, 66, 42],
            "cards_img_1/card_quality.png": [25, 26, 25, 26],
            "cards_img_1/card_quality_01.png": [34, 35, 66, 39],
            "cards_img_1/card_quality_02.png": [36, 34, 66, 39],
            "cards_img_1/card_quality_03.png": [35, 34, 66, 39],
            "cards_img_1/card_quality_04.png": [64, 34, 66, 39],
            "cards_img_1/card_quality_05.png": [61, 35, 66, 39],
            "cards_img_1/card_quality_06.png": [66, 34, 66, 39],
            "cards_img_1/card_quality_07.png": [64, 38, 66, 39],
            "cards_img_1/card_quality_s_01.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_02.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_03.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_04.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_05.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_06.png": [45, 30, 45, 30],
            "cards_img_1/card_quality_s_07.png": [45, 30, 45, 30],
            "cards_img_1/card_shadow.png": [125, 173, 126, 173],
            "cards_img_1/card_skill_ability.png": [105, 28, 105, 28],
            "cards_img_1/card_skill_ability_atk.png": [107, 31, 107, 51],
            "cards_img_1/card_skill_gift.png": [105, 28, 105, 28],
            "cards_img_1/card_skill_gift_atk.png": [107, 31, 107, 51],
            "cards_img_1/card_skill_passive.png": [105, 28, 105, 28],
            "cards_img_1/card_skill_passive_atk.png": [107, 31, 107, 51],
            "cards_img_1/card_split_line.png": [412, 3, 412, 6],
            "cards_img_1/card_value_0.png": [19, 24, 19, 25],
            "cards_img_1/card_value_1.png": [13, 24, 19, 25],
            "cards_img_1/card_value_2.png": [19, 24, 19, 25],
            "cards_img_1/card_value_3.png": [19, 24, 19, 25],
            "cards_img_1/card_value_4.png": [19, 24, 19, 25],
            "cards_img_1/card_value_5.png": [19, 24, 19, 25],
            "cards_img_1/card_value_6.png": [19, 24, 19, 25],
            "cards_img_1/card_value_7.png": [17, 24, 19, 25],
            "cards_img_1/card_value_8.png": [19, 24, 19, 25],
            "cards_img_1/card_value_9.png": [19, 24, 19, 25],
            "cards_img_1/card_value_x.png": [19, 19, 19, 25],
            "cards_img_1/icon_mask.png": [80, 20, 80, 20],
            "cards_img_2/card_frame_nature_01.png": [484, 672, 487, 675],
            "cards_img_2/card_frame_nature_02.png": [484, 675, 487, 675],
            "cards_img_2/card_frame_nature_03.png": [484, 674, 487, 675],
            "cards_img_2/card_frame_nature_04.png": [484, 672, 487, 675],
            "cards_img_2/card_frame_nature_05.png": [484, 672, 487, 675],
            "cards_img_2/card_frame_nature_06.png": [484, 674, 487, 675],
            "cards_img_2/card_frame_nature_07.png": [484, 674, 487, 675],
            "cards_img_2/card_frame_nature_08.png": [484, 675, 487, 675],
            "cards_img_2/card_frame_nature_09.png": [484, 672, 487, 675],
            "cards_img_2/card_frame_nature_10.png": [484, 672, 487, 675],
            "cards_img_2/card_frame_nature_11.png": [484, 674, 487, 675],
            "cards_img_3/ico_10001.png": [82, 82, 82, 82],
            "cards_img_3/ico_10002.png": [82, 82, 82, 82],
            "cards_img_3/ico_10003.png": [82, 82, 82, 82],
            "cards_img_3/ico_10004.png": [82, 82, 82, 82],
            "cards_img_3/ico_10005.png": [82, 82, 82, 82],
            "cards_img_3/ico_10006.png": [82, 82, 82, 82],
            "cards_img_3/ico_10007.png": [82, 82, 82, 82],
            "cards_img_3/ico_10008.png": [82, 82, 82, 82],
            "cards_img_3/ico_10009.png": [82, 82, 82, 82],
            "cards_img_3/ico_10010.png": [82, 82, 82, 82],
            "cards_img_3/ico_10011.png": [82, 82, 82, 82],
            "cards_img_3/ico_10012.png": [82, 82, 82, 82],
            "cards_img_3/ico_10013.png": [82, 82, 82, 82],
            "cards_img_3/ico_10014.png": [82, 82, 82, 82],
            "cards_img_3/ico_10015.png": [82, 82, 82, 82],
            "cards_img_3/ico_10016.png": [82, 82, 82, 82],
            "cards_img_3/ico_10017.png": [82, 82, 82, 82],
            "cards_img_3/ico_10018.png": [82, 82, 82, 82],
            "cards_img_3/ico_10019.png": [82, 82, 82, 82],
            "cards_img_3/ico_10020.png": [82, 82, 82, 82],
            "cards_img_3/ico_10021.png": [82, 82, 82, 82],
            "cards_img_3/ico_10022.png": [82, 82, 82, 82],
            "cards_img_3/ico_10023.png": [82, 82, 82, 82],
            "cards_img_3/ico_10024.png": [82, 82, 82, 82],
            "cards_img_3/ico_10025.png": [82, 82, 82, 82],
            "cards_img_3/ico_10026.png": [82, 82, 82, 82],
            "cards_img_3/ico_10027.png": [82, 82, 82, 82],
            "cards_img_3/ico_10028.png": [82, 82, 82, 82],
            "cards_img_3/ico_10029.png": [82, 82, 82, 82],
            "cards_img_3/ico_10030.png": [82, 82, 82, 82],
            "cards_img_3/ico_10031.png": [82, 82, 82, 82],
            "cards_img_3/ico_10032.png": [82, 82, 82, 82],
            "cards_img_3/ico_10033.png": [82, 82, 82, 82],
            "cards_img_3/ico_10034.png": [82, 82, 82, 82],
            "cards_img_3/ico_10035.png": [82, 82, 82, 82],
            "cards_img_3/ico_10036.png": [82, 82, 82, 82],
            "cards_img_3/ico_10037.png": [82, 82, 82, 82],
            "cards_img_3/ico_10038.png": [82, 82, 82, 82],
            "cards_img_3/ico_10039.png": [82, 82, 82, 82],
            "cards_img_3/ico_10040.png": [82, 82, 82, 82],
            "cards_img_3/ico_10041.png": [82, 82, 82, 82],
            "cards_img_3/ico_10042.png": [82, 82, 82, 82],
            "cards_img_3/ico_10043.png": [82, 82, 82, 82],
            "cards_img_3/ico_10044.png": [82, 82, 82, 82],
            "cards_img_3/ico_10045.png": [82, 82, 82, 82],
            "cards_img_3/ico_10046.png": [82, 82, 82, 82],
            "cards_img_3/ico_10047.png": [82, 82, 82, 82],
            "cards_img_3/ico_10048.png": [82, 82, 82, 82],
            "cards_img_3/ico_10049.png": [82, 82, 82, 82],
            "cards_img_3/ico_10050.png": [82, 82, 82, 82],
            "cards_img_3/ico_10051.png": [82, 82, 82, 82],
            "cards_img_3/ico_10052.png": [82, 82, 82, 82],
            "cards_img_3/ico_10053.png": [82, 82, 82, 82],
            "cards_img_3/ico_10054.png": [82, 82, 82, 82],
            "cards_img_3/ico_10055.png": [82, 82, 82, 82],
            "cards_img_3/ico_10056.png": [82, 82, 82, 82],
            "cards_img_3/ico_10057.png": [82, 82, 82, 82],
            "cards_img_3/ico_10502.png": [82, 82, 82, 82],
            "cards_img_3/ico_10505.png": [82, 82, 82, 82],
            "cards_img_3/ico_10513.png": [82, 82, 82, 82],
            "cards_img_3/ico_10536.png": [82, 82, 82, 82],
            "cards_img_3/ico_11001.png": [82, 82, 82, 82],
            "cards_img_3/ico_11002.png": [82, 82, 82, 82],
            "cards_img_3/ico_11003.png": [82, 82, 82, 82],
            "cards_img_3/ico_11004.png": [82, 82, 82, 82],
            "cards_img_3/ico_11005.png": [82, 82, 82, 82],
            "cards_img_3/ico_11006.png": [82, 82, 82, 82],
            "cards_img_3/ico_11007.png": [82, 82, 82, 82],
            "cards_img_3/ico_11008.png": [82, 82, 82, 82],
            "cards_img_3/ico_11009.png": [82, 82, 82, 82],
            "cards_img_3/ico_11010.png": [82, 82, 82, 82],
            "cards_img_3/ico_11011.png": [82, 82, 82, 82],
            "cards_img_3/ico_11012.png": [82, 82, 82, 82],
            "cards_img_3/ico_11013.png": [82, 82, 82, 82],
            "cards_img_3/ico_11014.png": [82, 82, 82, 82],
            "cards_img_3/ico_11015.png": [82, 82, 82, 82],
            "cards_img_3/ico_11016.png": [82, 82, 82, 82],
            "cards_img_3/ico_11017.png": [82, 82, 82, 82],
            "cards_img_3/ico_11018.png": [82, 82, 82, 82],
            "cards_img_3/ico_11019.png": [82, 82, 82, 82],
            "cards_img_3/ico_11020.png": [82, 82, 82, 82],
            "cards_img_3/ico_11021.png": [82, 82, 82, 82],
            "cards_img_3/ico_11022.png": [82, 82, 82, 82],
            "cards_img_3/ico_11023.png": [82, 82, 82, 82],
            "cards_img_3/ico_11024.png": [82, 82, 82, 82],
            "cards_img_3/ico_11025.png": [82, 82, 82, 82],
            "cards_img_3/ico_11026.png": [82, 82, 82, 82],
            "cards_img_3/ico_11027.png": [82, 82, 82, 82],
            "cards_img_3/ico_11028.png": [82, 82, 82, 82],
            "cards_img_3/ico_11029.png": [82, 82, 82, 82],
            "cards_img_3/ico_11030.png": [82, 82, 82, 82],
            "cards_img_3/ico_11031.png": [82, 82, 82, 82],
            "cards_img_3/ico_11032.png": [82, 82, 82, 82],
            "cards_img_3/ico_11033.png": [82, 82, 82, 82],
            "cards_img_3/ico_11034.png": [82, 82, 82, 82],
            "cards_img_3/ico_11035.png": [82, 82, 82, 82],
            "cards_img_3/ico_11036.png": [82, 82, 82, 82],
            "cards_img_3/ico_11037.png": [82, 82, 82, 82],
            "cards_img_3/ico_11038.png": [82, 82, 82, 82],
            "cards_img_3/ico_11502.png": [82, 82, 82, 82],
            "cards_img_3/ico_11510.png": [82, 82, 82, 82],
            "cards_img_3/ico_11512.png": [82, 82, 82, 82],
            "cards_img_3/ico_11515.png": [82, 82, 82, 82],
            "cards_img_3/ico_11522.png": [82, 82, 82, 82],
            "cards_img_3/ico_12001.png": [82, 82, 82, 82],
            "cards_img_3/ico_12002.png": [82, 82, 82, 82],
            "cards_img_3/ico_12003.png": [82, 82, 82, 82],
            "cards_img_3/ico_12004.png": [82, 82, 82, 82],
            "cards_img_3/ico_12005.png": [82, 82, 82, 82],
            "cards_img_3/ico_12006.png": [82, 82, 82, 82],
            "cards_img_3/ico_12007.png": [82, 82, 82, 82],
            "cards_img_3/ico_12008.png": [82, 82, 82, 82],
            "cards_img_3/ico_12009.png": [82, 82, 82, 82],
            "cards_img_3/ico_12010.png": [82, 82, 82, 82],
            "cards_img_3/ico_12011.png": [82, 82, 82, 82],
            "cards_img_3/ico_12012.png": [82, 82, 82, 82],
            "cards_img_3/ico_12013.png": [82, 82, 82, 82],
            "cards_img_3/ico_12014.png": [82, 82, 82, 82],
            "cards_img_3/ico_12015.png": [82, 82, 82, 82],
            "cards_img_3/ico_12016.png": [82, 82, 82, 82],
            "cards_img_3/ico_12017.png": [82, 82, 82, 82],
            "cards_img_3/ico_12018.png": [82, 82, 82, 82],
            "cards_img_3/ico_12019.png": [82, 82, 82, 82],
            "cards_img_3/ico_12020.png": [82, 82, 82, 82],
            "cards_img_3/ico_12021.png": [82, 82, 82, 82],
            "cards_img_3/ico_12022.png": [82, 82, 82, 82],
            "cards_img_3/ico_12023.png": [82, 82, 82, 82],
            "cards_img_3/ico_12024.png": [82, 82, 82, 82],
            "cards_img_3/ico_12025.png": [82, 82, 82, 82],
            "cards_img_3/ico_12026.png": [82, 82, 82, 82],
            "cards_img_3/ico_12027.png": [82, 82, 82, 82],
            "cards_img_3/ico_12028.png": [82, 82, 82, 82],
            "cards_img_3/ico_12029.png": [82, 82, 82, 82],
            "cards_img_3/ico_12030.png": [82, 82, 82, 82],
            "cards_img_3/ico_12031.png": [82, 82, 82, 82],
            "cards_img_3/ico_12032.png": [82, 82, 82, 82],
            "cards_img_3/ico_12033.png": [82, 82, 82, 82],
            "cards_img_3/ico_12034.png": [82, 82, 82, 82],
            "cards_img_3/ico_12035.png": [82, 82, 82, 82],
            "cards_img_3/ico_12036.png": [82, 82, 82, 82],
            "cards_img_3/ico_12037.png": [82, 82, 82, 82],
            "cards_img_3/ico_12038.png": [82, 82, 82, 82],
            "cards_img_3/ico_12039.png": [82, 82, 82, 82],
            "cards_img_3/ico_12040.png": [82, 82, 82, 82],
            "cards_img_3/ico_12041.png": [82, 82, 82, 82],
            "cards_img_3/ico_12042.png": [82, 82, 82, 82],
            "cards_img_3/ico_12043.png": [82, 82, 82, 82],
            "cards_img_3/ico_12044.png": [82, 82, 82, 82],
            "cards_img_3/ico_12045.png": [82, 82, 82, 82],
            "cards_img_3/ico_12046.png": [82, 82, 82, 82],
            "cards_img_3/ico_12502.png": [82, 82, 82, 82],
            "cards_img_3/ico_12515.png": [82, 82, 82, 82],
            "cards_img_3/ico_12521.png": [82, 82, 82, 82],
            "cards_img_3/ico_12522.png": [82, 82, 82, 82],
            "cards_img_3/ico_12525.png": [82, 82, 82, 82],
            "cards_img_3/ico_12534.png": [82, 82, 82, 82],
            "cards_img_3/ico_13001.png": [82, 82, 82, 82],
            "cards_img_3/ico_13002.png": [82, 82, 82, 82],
            "cards_img_3/ico_13003.png": [82, 82, 82, 82],
            "cards_img_3/ico_13004.png": [82, 82, 82, 82],
            "cards_img_3/ico_13005.png": [82, 82, 82, 82],
            "cards_img_3/ico_13006.png": [82, 82, 82, 82],
            "cards_img_3/ico_13007.png": [82, 82, 82, 82],
            "cards_img_3/ico_13008.png": [82, 82, 82, 82],
            "cards_img_3/ico_13009.png": [82, 82, 82, 82],
            "cards_img_3/ico_13010.png": [82, 82, 82, 82],
            "cards_img_3/ico_13011.png": [82, 82, 82, 82],
            "cards_img_3/ico_13012.png": [82, 82, 82, 82],
            "cards_img_3/ico_13013.png": [82, 82, 82, 82],
            "cards_img_3/ico_13014.png": [82, 82, 82, 82],
            "cards_img_3/ico_13015.png": [82, 82, 82, 82],
            "cards_img_3/ico_13016.png": [82, 82, 82, 82],
            "cards_img_3/ico_13017.png": [82, 82, 82, 82],
            "cards_img_3/ico_13018.png": [82, 82, 82, 82],
            "cards_img_3/ico_13019.png": [82, 82, 82, 82],
            "cards_img_3/ico_13020.png": [82, 82, 82, 82],
            "cards_img_3/ico_13021.png": [82, 82, 82, 82],
            "cards_img_3/ico_13022.png": [82, 82, 82, 82],
            "cards_img_3/ico_13023.png": [82, 82, 82, 82],
            "cards_img_3/ico_13024.png": [82, 82, 82, 82],
            "cards_img_3/ico_13025.png": [82, 82, 82, 82],
            "cards_img_3/ico_13026.png": [82, 82, 82, 82],
            "cards_img_3/ico_13027.png": [82, 82, 82, 82],
            "cards_img_3/ico_13028.png": [82, 82, 82, 82],
            "cards_img_3/ico_13029.png": [82, 82, 82, 82],
            "cards_img_3/ico_13030.png": [82, 82, 82, 82],
            "cards_img_3/ico_13031.png": [82, 82, 82, 82],
            "cards_img_3/ico_13032.png": [82, 82, 82, 82],
            "cards_img_3/ico_13033.png": [82, 82, 82, 82],
            "cards_img_3/ico_13034.png": [82, 82, 82, 82],
            "cards_img_3/ico_13035.png": [82, 82, 82, 82],
            "cards_img_3/ico_13036.png": [82, 81, 82, 81],
            "cards_img_3/ico_13037.png": [82, 82, 82, 82],
            "cards_img_3/ico_13038.png": [82, 82, 82, 82],
            "cards_img_3/ico_13039.png": [82, 82, 82, 82],
            "cards_img_3/ico_13040.png": [82, 82, 82, 82],
            "cards_img_3/ico_13041.png": [82, 82, 82, 82],
            "cards_img_3/ico_13042.png": [82, 82, 82, 82],
            "cards_img_3/ico_13043.png": [82, 82, 82, 82],
            "cards_img_3/ico_13512.png": [82, 82, 82, 82],
            "cards_img_3/ico_13513.png": [82, 82, 82, 82],
            "cards_img_3/ico_13522.png": [82, 82, 82, 82],
            "cards_img_3/ico_14001.png": [82, 82, 82, 82],
            "cards_img_3/ico_14002.png": [82, 82, 82, 82],
            "cards_img_3/ico_14003.png": [82, 82, 82, 82],
            "cards_img_3/ico_14004.png": [82, 82, 82, 82],
            "cards_img_3/ico_14005.png": [82, 82, 82, 82],
            "cards_img_3/ico_14006.png": [82, 82, 82, 82],
            "cards_img_3/ico_14007.png": [82, 82, 82, 82],
            "cards_img_3/ico_14008.png": [82, 82, 82, 82],
            "cards_img_3/ico_14009.png": [82, 82, 82, 82],
            "cards_img_3/ico_14010.png": [82, 82, 82, 82],
            "cards_img_3/ico_14011.png": [82, 82, 82, 82],
            "cards_img_3/ico_14012.png": [82, 82, 82, 82],
            "cards_img_3/ico_14013.png": [82, 82, 82, 82],
            "cards_img_3/ico_14014.png": [82, 82, 82, 82],
            "cards_img_3/ico_14015.png": [82, 82, 82, 82],
            "cards_img_3/ico_14016.png": [82, 82, 82, 82],
            "cards_img_3/ico_14017.png": [82, 82, 82, 82],
            "cards_img_3/ico_14018.png": [82, 82, 82, 82],
            "cards_img_3/ico_14019.png": [82, 82, 82, 82],
            "cards_img_3/ico_14020.png": [82, 82, 82, 82],
            "cards_img_3/ico_14021.png": [82, 82, 82, 82],
            "cards_img_3/ico_14022.png": [82, 82, 82, 82],
            "cards_img_3/ico_14023.png": [82, 82, 82, 82],
            "cards_img_3/ico_14024.png": [82, 82, 82, 82],
            "cards_img_3/ico_14025.png": [82, 82, 82, 82],
            "cards_img_3/ico_14026.png": [82, 82, 82, 82],
            "cards_img_3/ico_14027.png": [82, 82, 82, 82],
            "cards_img_3/ico_14028.png": [82, 82, 82, 82],
            "cards_img_3/ico_14029.png": [82, 82, 82, 82],
            "cards_img_3/ico_14030.png": [82, 82, 82, 82],
            "cards_img_3/ico_14031.png": [82, 82, 82, 82],
            "cards_img_3/ico_14502.png": [82, 82, 82, 82],
            "cards_img_3/ico_14504.png": [82, 82, 82, 82],
            "cards_img_3/ico_14505.png": [82, 82, 82, 82],
            "cards_img_3/ico_14506.png": [82, 82, 82, 82],
            "cards_img_3/ico_14507.png": [82, 82, 82, 82],
            "cards_img_3/ico_14510.png": [82, 82, 82, 82],
            "cards_img_3/ico_14513.png": [82, 82, 82, 82],
            "cards_img_3/ico_14515.png": [82, 82, 82, 82],
            "cards_img_3/ico_14516.png": [82, 82, 82, 82],
            "cards_img_3/ico_14522.png": [82, 82, 82, 82],
            "cards_img_3/ico_15001.png": [82, 82, 82, 82],
            "cards_img_3/ico_15002.png": [82, 82, 82, 82],
            "cards_img_3/ico_15003.png": [82, 82, 82, 82],
            "cards_img_3/ico_15004.png": [82, 82, 82, 82],
            "cards_img_3/ico_15005.png": [82, 82, 82, 82],
            "cards_img_3/ico_15006.png": [82, 82, 82, 82],
            "cards_img_3/ico_15007.png": [82, 82, 82, 82],
            "cards_img_3/ico_15008.png": [82, 82, 82, 82],
            "cards_img_3/ico_15009.png": [82, 82, 82, 82],
            "cards_img_3/ico_15010.png": [82, 82, 82, 82],
            "cards_img_3/ico_15011.png": [82, 82, 82, 82],
            "cards_img_3/ico_15012.png": [82, 82, 82, 82],
            "cards_img_3/ico_15013.png": [82, 82, 82, 82],
            "cards_img_3/ico_15014.png": [82, 82, 82, 82],
            "cards_img_3/ico_15015.png": [82, 82, 82, 82],
            "cards_img_3/ico_15016.png": [82, 82, 82, 82],
            "cards_img_3/ico_15017.png": [82, 82, 82, 82],
            "cards_img_3/ico_15018.png": [82, 82, 82, 82],
            "cards_img_3/ico_15019.png": [82, 82, 82, 82],
            "cards_img_3/ico_15020.png": [82, 82, 82, 82],
            "cards_img_3/ico_15021.png": [82, 82, 82, 82],
            "cards_img_3/ico_15022.png": [82, 82, 82, 82],
            "cards_img_3/ico_15023.png": [82, 82, 82, 82],
            "cards_img_3/ico_15024.png": [82, 82, 82, 82],
            "cards_img_3/ico_15025.png": [82, 82, 82, 82],
            "cards_img_3/ico_15026.png": [82, 82, 82, 82],
            "cards_img_3/ico_15027.png": [82, 82, 82, 82],
            "cards_img_3/ico_15028.png": [82, 82, 82, 82],
            "cards_img_3/ico_15029.png": [82, 82, 82, 82],
            "cards_img_3/ico_15030.png": [82, 82, 82, 82],
            "cards_img_3/ico_15502.png": [82, 82, 82, 82],
            "cards_img_3/ico_15504.png": [82, 82, 82, 82],
            "cards_img_3/ico_15506.png": [82, 82, 82, 82],
            "cards_img_3/ico_15514.png": [82, 82, 82, 82],
            "cards_img_3/ico_15515.png": [82, 82, 82, 82],
            "cards_img_3/ico_15519.png": [82, 82, 82, 82],
            "cards_img_3/ico_15525.png": [82, 82, 82, 82],
            "cards_img_3/ico_15526.png": [82, 82, 82, 82],
            "cards_img_3/ico_16001.png": [82, 82, 82, 82],
            "cards_img_3/ico_16002.png": [82, 82, 82, 82],
            "cards_img_3/ico_16003.png": [82, 82, 82, 82],
            "cards_img_3/ico_16004.png": [82, 82, 82, 82],
            "cards_img_3/ico_16005.png": [82, 82, 82, 82],
            "cards_img_3/ico_16006.png": [82, 82, 82, 82],
            "cards_img_3/ico_16007.png": [82, 82, 82, 82],
            "cards_img_3/ico_16008.png": [82, 82, 82, 82],
            "cards_img_3/ico_16009.png": [82, 82, 82, 82],
            "cards_img_3/ico_17001.png": [82, 82, 82, 82],
            "cards_img_3/ico_17002.png": [82, 82, 82, 82],
            "cards_img_3/ico_17003.png": [82, 82, 82, 82],
            "cards_img_3/ico_17004.png": [82, 82, 82, 82],
            "cards_img_3/ico_17005.png": [82, 82, 82, 82],
            "cards_img_3/ico_17006.png": [82, 82, 82, 82],
            "cards_img_3/ico_17007.png": [82, 82, 82, 82],
            "cards_img_3/ico_17008.png": [82, 82, 82, 82],
            "cards_img_3/ico_17009.png": [82, 82, 82, 82],
            "cards_img_3/ico_17010.png": [82, 82, 82, 82],
            "cards_img_3/ico_17011.png": [82, 82, 82, 82],
            "cards_img_3/ico_17012.png": [82, 82, 82, 82],
            "cards_img_3/ico_17013.png": [82, 82, 82, 82],
            "cards_img_3/ico_17014.png": [82, 82, 82, 82],
            "cards_img_3/ico_17015.png": [82, 82, 82, 82],
            "cards_img_3/ico_18001.png": [82, 82, 82, 82],
            "cards_img_3/ico_18002.png": [82, 82, 82, 82],
            "cards_img_3/ico_19001.png": [82, 82, 82, 82],
            "cards_img_3/ico_19002.png": [82, 82, 82, 82],
            "cards_img_3/ico_19003.png": [82, 82, 82, 82],
            "cards_img_3/ico_19004.png": [82, 82, 82, 82],
            "cards_img_3/ico_19005.png": [82, 82, 82, 82],
            "cards_img_3/ico_19006.png": [82, 82, 82, 82],
            "cards_img_3/ico_20001.png": [82, 82, 82, 82],
            "cards_img_3/ico_20002.png": [82, 82, 82, 82],
            "cards_img_3/ico_20003.png": [82, 82, 82, 82],
            "cards_img_3/ico_20004.png": [82, 82, 82, 82],
            "cards_img_3/ico_20005.png": [82, 82, 82, 82],
            "cards_img_3/ico_20006.png": [82, 82, 82, 82],
            "cards_img_3/ico_20007.png": [82, 82, 82, 82],
            "cards_img_3/ico_20008.png": [82, 82, 82, 82],
            "cards_img_3/ico_20009.png": [82, 82, 82, 82],
            "cards_img_3/ico_20010.png": [82, 82, 82, 82],
            "cards_img_3/ico_20011.png": [82, 82, 82, 82],
            "cards_img_3/ico_20012.png": [82, 82, 82, 82],
            "cards_img_3/ico_20013.png": [82, 82, 82, 82],
            "cards_img_3/ico_20014.png": [82, 82, 82, 82],
            "cards_img_3/ico_20015.png": [82, 82, 82, 82],
            "cards_img_3/ico_20016.png": [82, 82, 82, 82],
            "cards_img_3/ico_20017.png": [82, 82, 82, 82],
            "cards_img_3/ico_20018.png": [82, 82, 82, 82],
            "cards_img_3/ico_20019.png": [82, 82, 82, 82],
            "cards_img_3/ico_20020.png": [82, 82, 82, 82],
            "cards_img_3/ico_20021.png": [82, 82, 82, 82],
            "cards_img_3/ico_20022.png": [82, 82, 82, 82],
            "cards_img_3/ico_20023.png": [82, 82, 82, 82],
            "cards_img_3/ico_20024.png": [82, 82, 82, 82],
            "cards_img_3/ico_20025.png": [82, 82, 82, 82],
            "cards_img_3/ico_20026.png": [82, 82, 82, 82],
            "cards_img_3/ico_20027.png": [82, 82, 82, 82],
            "cards_img_3/ico_20028.png": [82, 82, 82, 82],
            "cards_img_3/ico_20029.png": [82, 82, 82, 82],
            "cards_img_3/ico_20030.png": [82, 82, 82, 82],
            "cards_img_3/ico_20031.png": [82, 82, 82, 82],
            "cards_img_3/ico_20032.png": [82, 82, 82, 82],
            "cards_img_3/ico_20033.png": [82, 82, 82, 82],
            "cards_img_3/ico_20034.png": [82, 82, 82, 82],
            "cards_img_3/ico_20035.png": [82, 82, 82, 82],
            "cards_img_3/ico_20036.png": [82, 82, 82, 82],
            "cards_img_3/ico_20037.png": [82, 82, 82, 82],
            "cards_img_3/ico_20038.png": [82, 82, 82, 82],
            "cards_img_3/ico_20039.png": [82, 82, 82, 82],
            "cards_img_3/ico_20040.png": [82, 82, 82, 82],
            "cards_img_3/ico_20041.png": [82, 82, 82, 82],
            "cards_img_3/ico_20042.png": [82, 82, 82, 82],
            "cards_img_3/ico_20043.png": [82, 82, 82, 82],
            "cards_img_3/ico_20044.png": [82, 82, 82, 82],
            "cards_img_3/ico_20045.png": [82, 82, 82, 82],
            "cards_img_3/ico_20502.png": [82, 82, 82, 82],
            "cards_img_3/ico_20504.png": [82, 82, 82, 82],
            "cards_img_3/ico_20506.png": [82, 82, 82, 82],
            "cards_img_3/ico_20508.png": [82, 82, 82, 82],
            "cards_img_3/ico_20512.png": [82, 82, 82, 82],
            "cards_img_3/ico_20514.png": [82, 82, 82, 82],
            "cards_img_3/ico_20516.png": [82, 82, 82, 82],
            "cards_img_3/ico_20526.png": [82, 82, 82, 82],
            "cards_img_3/ico_20527.png": [82, 82, 82, 82],
            "cards_img_3/ico_monster_default.png": [82, 82, 82, 82],
            "cards_img_3/ico_prop_default.png": [76, 76, 76, 76],
            "cards_img_3/ico_s_10001.png": [58, 54, 86, 84],
            "cards_img_3/ico_s_10002.png": [58, 54, 86, 84],
            "cards_img_3/ico_s_10003.png": [64, 50, 86, 84],
            "cards_img_3/ico_s_10004.png": [55, 55, 86, 84],
            "cards_img_3/ico_s_10005.png": [49, 55, 86, 84],
            "cards_img_3/ico_s_10006.png": [59, 53, 86, 84],
            "cards_img_3/ico_s_10007.png": [56, 64, 86, 84],
            "cards_img_3/ico_s_10008.png": [52, 66, 86, 84],
            "cards_img_3/ico_s_10009.png": [38, 68, 86, 84],
            "cards_img_3/ico_s_10010.png": [55, 66, 86, 84],
            "cards_img_3/ico_s_10011.png": [57, 62, 86, 84],
            "cards_img_3/ico_s_10012.png": [67, 54, 86, 84],
            "cards_img_3/ico_s_10013.png": [63, 56, 86, 84],
            "cards_img_3/ico_s_10014.png": [67, 54, 86, 84],
            "cards_img_3/ico_s_10015.png": [58, 53, 86, 84],
            "cards_img_3/ico_s_10016.png": [53, 61, 86, 84],
            "cards_img_3/ico_s_10017.png": [64, 41, 86, 84],
            "cards_img_3/ico_s_10024.png": [48, 54, 48, 54],
            "cards_img_3/ico_s_10025.png": [65, 51, 65, 51],
            "cards_img_3/ico_s_10028.png": [44, 58, 44, 58],
            "cards_img_3/ico_s_10029.png": [41, 62, 86, 84],
            "cards_img_3/ico_s_10032.png": [65, 51, 65, 51],
            "cards_img_3/ico_s_10035.png": [54, 65, 86, 84],
            "cards_img_3/ico_s_10036.png": [56, 54, 86, 84],
            "cards_img_3/ico_s_10038.png": [67, 37, 86, 84],
            "cards_img_3/ico_s_10045.png": [44, 52, 86, 84],
            "cards_img_3/ico_s_10046.png": [60, 54, 86, 84],
            "cards_img_3/ico_s_10048.png": [63, 51, 86, 84],
            "cards_img_3/ico_s_10050.png": [65, 51, 86, 84],
            "cards_img_3/ico_s_11001.png": [54, 60, 86, 84],
            "cards_img_3/ico_s_11002.png": [50, 59, 86, 84],
            "cards_img_3/ico_s_11003.png": [62, 50, 86, 84],
            "cards_img_3/ico_s_11004.png": [58, 52, 86, 84],
            "cards_img_3/ico_s_11005.png": [63, 59, 86, 84],
            "cards_img_3/ico_s_11006.png": [46, 65, 86, 84],
            "cards_img_3/ico_s_11007.png": [61, 56, 86, 84],
            "cards_img_3/ico_s_11008.png": [53, 66, 86, 84],
            "cards_img_3/ico_s_11009.png": [56, 64, 86, 84],
            "cards_img_3/ico_s_11023.png": [65, 49, 65, 49],
            "cards_img_3/ico_s_11024.png": [54, 67, 86, 84],
            "cards_img_3/ico_s_11026.png": [49, 57, 49, 57],
            "cards_img_3/ico_s_11029.png": [61, 52, 86, 84],
            "cards_img_3/ico_s_11034.png": [39, 65, 86, 84],
            "cards_img_3/ico_s_11035.png": [63, 61, 86, 84],
            "cards_img_3/ico_s_12001.png": [58, 61, 86, 84],
            "cards_img_3/ico_s_12002.png": [57, 57, 86, 84],
            "cards_img_3/ico_s_12003.png": [54, 58, 86, 84],
            "cards_img_3/ico_s_12004.png": [52, 58, 86, 84],
            "cards_img_3/ico_s_12005.png": [48, 59, 86, 84],
            "cards_img_3/ico_s_12006.png": [51, 66, 86, 84],
            "cards_img_3/ico_s_12008.png": [60, 47, 86, 84],
            "cards_img_3/ico_s_12009.png": [65, 56, 86, 84],
            "cards_img_3/ico_s_12010.png": [67, 47, 86, 84],
            "cards_img_3/ico_s_12011.png": [59, 48, 86, 84],
            "cards_img_3/ico_s_12012.png": [61, 46, 86, 84],
            "cards_img_3/ico_s_12013.png": [55, 58, 86, 84],
            "cards_img_3/ico_s_12020.png": [60, 57, 86, 84],
            "cards_img_3/ico_s_12027.png": [41, 63, 86, 84],
            "cards_img_3/ico_s_12028.png": [48, 68, 86, 84],
            "cards_img_3/ico_s_12030.png": [59, 57, 59, 57],
            "cards_img_3/ico_s_12033.png": [64, 57, 86, 84],
            "cards_img_3/ico_s_12035.png": [53, 60, 86, 84],
            "cards_img_3/ico_s_12036.png": [62, 58, 86, 84],
            "cards_img_3/ico_s_13001.png": [62, 58, 86, 84],
            "cards_img_3/ico_s_13002.png": [62, 56, 86, 84],
            "cards_img_3/ico_s_13003.png": [63, 35, 86, 84],
            "cards_img_3/ico_s_13004.png": [64, 58, 86, 84],
            "cards_img_3/ico_s_13005.png": [59, 57, 86, 84],
            "cards_img_3/ico_s_13006.png": [64, 64, 86, 84],
            "cards_img_3/ico_s_13024.png": [51, 61, 51, 61],
            "cards_img_3/ico_s_13025.png": [51, 63, 51, 63],
            "cards_img_3/ico_s_13026.png": [59, 47, 59, 47],
            "cards_img_3/ico_s_13028.png": [51, 59, 51, 59],
            "cards_img_3/ico_s_13032.png": [69, 47, 69, 47],
            "cards_img_3/ico_s_13033.png": [66, 39, 86, 84],
            "cards_img_3/ico_s_13035.png": [62, 34, 86, 84],
            "cards_img_3/ico_s_13036.png": [61, 44, 86, 84],
            "cards_img_3/ico_s_14001.png": [58, 58, 86, 84],
            "cards_img_3/ico_s_14003.png": [65, 60, 86, 84],
            "cards_img_3/ico_s_14005.png": [61, 60, 86, 84],
            "cards_img_3/ico_s_14006.png": [65, 56, 86, 84],
            "cards_img_3/ico_s_14009.png": [64, 46, 64, 46],
            "cards_img_3/ico_s_14010.png": [58, 49, 86, 84],
            "cards_img_3/ico_s_14013.png": [65, 47, 65, 47],
            "cards_img_3/ico_s_14014.png": [59, 47, 59, 47],
            "cards_img_3/ico_s_14015.png": [63, 57, 63, 57],
            "cards_img_3/ico_s_14016.png": [45, 59, 45, 59],
            "cards_img_3/ico_s_14018.png": [68, 36, 68, 36],
            "cards_img_3/ico_s_14019.png": [61, 47, 61, 47],
            "cards_img_3/ico_s_15003.png": [55, 61, 86, 84],
            "cards_img_3/ico_s_15004.png": [63, 58, 86, 84],
            "cards_img_3/ico_s_15005.png": [60, 55, 86, 84],
            "cards_img_3/ico_s_15006.png": [56, 53, 86, 84],
            "cards_img_3/ico_s_15007.png": [67, 47, 67, 47],
            "cards_img_3/ico_s_15008.png": [53, 62, 86, 84],
            "cards_img_3/ico_s_15009.png": [50, 59, 86, 84],
            "cards_img_3/ico_s_15010.png": [52, 59, 86, 84],
            "cards_img_3/ico_s_15011.png": [70, 27, 86, 84],
            "cards_img_3/ico_s_15013.png": [72, 38, 86, 84],
            "cards_img_3/ico_s_15016.png": [58, 62, 58, 62],
            "cards_img_3/ico_s_15020.png": [49, 57, 49, 57],
            "cards_img_3/ico_s_15023.png": [47, 57, 47, 57],
            "cards_img_3/ico_s_15025.png": [61, 53, 86, 84],
            "cards_img_3/ico_s_16001.png": [55, 69, 86, 84],
            "cards_img_3/ico_s_16003.png": [62, 56, 86, 84],
            "cards_img_3/ico_s_16006.png": [51, 65, 86, 84],
            "cards_img_3/ico_s_17003.png": [61, 47, 86, 84],
            "cards_img_3/ico_s_17006.png": [42, 64, 86, 84],
            "cards_img_3/ico_s_17007.png": [63, 47, 86, 84],
            "cards_img_3/ico_s_17009.png": [60, 58, 86, 84],
            "cards_img_3/ico_s_17010.png": [67, 57, 86, 84],
            "cards_img_3/ico_s_17013.png": [60, 50, 86, 84],
            "cards_img_3/ico_s_17014.png": [64, 54, 86, 84],
            "cards_img_3/ico_s_19001.png": [63, 59, 86, 84],
            "cards_img_3/ico_s_19002.png": [42, 66, 86, 84],
            "cards_img_3/ico_s_19004.png": [39, 65, 86, 84],
            "cards_img_3/ico_s_19005.png": [59, 55, 86, 84],
            "cards_img_3/ico_s_20001.png": [48, 62, 86, 84],
            "cards_img_3/ico_s_20002.png": [62, 56, 86, 84],
            "cards_img_3/ico_s_20003.png": [57, 58, 86, 84],
            "cards_img_3/ico_s_20006.png": [50, 60, 50, 60],
            "cards_img_3/ico_s_20009.png": [59, 56, 86, 84],
            "cards_img_3/ico_s_20011.png": [61, 54, 61, 54],
            "cards_img_3/ico_s_20013.png": [55, 53, 55, 53],
            "cards_img_3/ico_s_20015.png": [56, 60, 56, 60],
            "cards_img_3/ico_s_20017.png": [40, 66, 40, 66],
            "cards_img_3/ico_s_20025.png": [56, 56, 56, 56],
            "cards_img_3/ico_s_20034.png": [56, 56, 56, 56],
            "cards_img_3/ico_s_20035.png": [55, 53, 55, 53],
            "cards_img_3/ico_unknown_01.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_02.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_03.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_04.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_05.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_06.png": [82, 82, 82, 82],
            "cards_img_3/ico_unknown_07.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7001.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7002.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7003.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7004.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7005.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7006.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7007.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7008.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7009.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7010.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7011.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7012.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7013.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7014.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7015.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7016.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7017.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7018.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7019.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7020.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7021.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7022.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7023.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7024.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7025.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7026.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7027.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7028.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7029.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7030.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7031.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7032.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7033.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7034.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7035.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7036.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7037.png": [96, 97, 98, 98],
            "cards_img_3/props_ico_7038.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7039.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7040.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7041.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7042.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7043.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7044.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7045.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7046.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7047.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7048.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7049.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7050.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7051.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7052.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7053.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7054.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7055.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7056.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7057.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7058.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7059.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7060.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7061.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7062.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7093.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7094.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7095.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7096.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7097.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7098.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7099.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7100.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7101.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7102.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7104.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7105.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7106.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7107.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7108.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7109.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7110.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7111.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7112.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7113.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7114.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7115.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7116.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7117.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7118.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7119.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7120.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7121.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7122.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7123.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7124.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7125.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7126.png": [82, 82, 82, 82],
            "cards_img_3/props_ico_7128.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7129.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7130.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7131.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7132.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7133.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7134.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7135.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7136.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7201.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7202.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7203.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7204.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7205.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7206.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7207.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7211.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7212.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7213.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7214.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7221.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7222.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7223.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7224.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7231.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7232.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7233.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7234.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7301.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7302.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7303.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7304.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7305.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7311.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7312.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7313.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7314.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7315.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7321.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7322.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7323.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7324.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7325.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7701.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7702.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7703.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7704.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7705.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7706.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7707.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7708.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7709.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7710.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7711.png": [76, 76, 76, 76],
            "cards_img_3/props_ico_7712.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_1.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_11.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_12.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_13.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_14.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_15.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_16.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_2.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_20.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_21.png": [80, 80, 80, 80],
            "cards_img_3/res_ico_26.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_3.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_4.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_5.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_6.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_7.png": [76, 76, 76, 76],
            "cards_img_3/res_ico_8.png": [76, 76, 76, 76],
            "cards_img_4/ico_30001.png": [82, 82, 82, 82],
            "cards_img_4/ico_30002.png": [82, 82, 82, 82],
            "cards_img_4/ico_30003.png": [82, 82, 82, 82],
            "cards_img_4/ico_30004.png": [82, 82, 82, 82],
            "cards_img_4/ico_30005.png": [82, 82, 82, 82],
            "cards_img_4/ico_30006.png": [82, 82, 82, 82],
            "cards_img_4/ico_30007.png": [82, 82, 82, 82],
            "cards_img_4/ico_30008.png": [82, 82, 82, 82],
            "cards_img_4/ico_30009.png": [82, 82, 82, 82],
            "cards_img_4/ico_30010.png": [82, 82, 82, 82],
            "cards_img_4/ico_30011.png": [82, 82, 82, 82],
            "cards_img_4/ico_30012.png": [82, 82, 82, 82],
            "cards_img_4/ico_30013.png": [82, 82, 82, 82],
            "cards_img_4/ico_30014.png": [82, 82, 82, 82],
            "cards_img_4/ico_30015.png": [82, 82, 82, 82],
            "cards_img_4/ico_30016.png": [82, 82, 82, 82],
            "cards_img_4/ico_30017.png": [82, 82, 82, 82],
            "cards_img_4/ico_30018.png": [82, 82, 82, 82],
            "cards_img_4/ico_30019.png": [82, 82, 82, 82],
            "cards_img_4/ico_30020.png": [82, 82, 82, 82],
            "cards_img_4/ico_30021.png": [82, 82, 82, 82],
            "cards_img_4/ico_30022.png": [82, 82, 82, 82],
            "cards_img_4/ico_30023.png": [82, 82, 82, 82],
            "cards_img_4/ico_30024.png": [82, 82, 82, 82],
            "cards_img_4/ico_30024_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_30025.png": [82, 82, 82, 82],
            "cards_img_4/ico_30026.png": [82, 82, 82, 82],
            "cards_img_4/ico_30027.png": [82, 82, 82, 82],
            "cards_img_4/ico_30028.png": [82, 82, 82, 82],
            "cards_img_4/ico_30029.png": [82, 82, 82, 82],
            "cards_img_4/ico_30030.png": [82, 82, 82, 82],
            "cards_img_4/ico_30031.png": [82, 82, 82, 82],
            "cards_img_4/ico_30032.png": [82, 82, 82, 82],
            "cards_img_4/ico_30033.png": [82, 82, 82, 82],
            "cards_img_4/ico_30034.png": [82, 82, 82, 82],
            "cards_img_4/ico_30035.png": [82, 82, 82, 82],
            "cards_img_4/ico_30036.png": [82, 82, 82, 82],
            "cards_img_4/ico_30037.png": [82, 82, 82, 82],
            "cards_img_4/ico_30038.png": [82, 82, 82, 82],
            "cards_img_4/ico_30039.png": [82, 82, 82, 82],
            "cards_img_4/ico_30040.png": [82, 82, 82, 82],
            "cards_img_4/ico_30041.png": [82, 82, 82, 82],
            "cards_img_4/ico_30042.png": [82, 82, 82, 82],
            "cards_img_4/ico_30043.png": [82, 82, 82, 82],
            "cards_img_4/ico_30044.png": [82, 82, 82, 82],
            "cards_img_4/ico_30045.png": [82, 82, 82, 82],
            "cards_img_4/ico_30046.png": [82, 82, 82, 82],
            "cards_img_4/ico_30047.png": [82, 82, 82, 82],
            "cards_img_4/ico_30048.png": [82, 82, 82, 82],
            "cards_img_4/ico_30049.png": [82, 82, 82, 82],
            "cards_img_4/ico_30050.png": [82, 82, 82, 82],
            "cards_img_4/ico_30051.png": [82, 82, 82, 82],
            "cards_img_4/ico_30052.png": [82, 82, 82, 82],
            "cards_img_4/ico_30053.png": [82, 82, 82, 82],
            "cards_img_4/ico_30054.png": [82, 82, 82, 82],
            "cards_img_4/ico_30055.png": [82, 82, 82, 82],
            "cards_img_4/ico_30056.png": [82, 82, 82, 82],
            "cards_img_4/ico_30057.png": [82, 82, 82, 82],
            "cards_img_4/ico_30058.png": [82, 82, 82, 82],
            "cards_img_4/ico_30059.png": [82, 82, 82, 82],
            "cards_img_4/ico_30060.png": [82, 82, 82, 82],
            "cards_img_4/ico_30061.png": [82, 82, 82, 82],
            "cards_img_4/ico_30062.png": [82, 82, 82, 82],
            "cards_img_4/ico_30063.png": [82, 82, 82, 82],
            "cards_img_4/ico_30064.png": [82, 82, 82, 82],
            "cards_img_4/ico_30065.png": [82, 82, 82, 82],
            "cards_img_4/ico_30066.png": [82, 82, 82, 82],
            "cards_img_4/ico_30067.png": [82, 82, 82, 82],
            "cards_img_4/ico_30068.png": [82, 82, 82, 82],
            "cards_img_4/ico_30069.png": [82, 82, 82, 82],
            "cards_img_4/ico_32001.png": [82, 82, 82, 82],
            "cards_img_4/ico_32001_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32002.png": [82, 82, 82, 82],
            "cards_img_4/ico_32002_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32003.png": [82, 82, 82, 82],
            "cards_img_4/ico_32003_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32004.png": [82, 82, 82, 82],
            "cards_img_4/ico_32004_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32005.png": [82, 81, 82, 81],
            "cards_img_4/ico_32005_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32006.png": [82, 82, 82, 82],
            "cards_img_4/ico_32006_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32007.png": [82, 82, 82, 82],
            "cards_img_4/ico_32007_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32008.png": [82, 82, 82, 82],
            "cards_img_4/ico_32008_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32009.png": [82, 82, 82, 82],
            "cards_img_4/ico_32009_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32010.png": [82, 82, 82, 82],
            "cards_img_4/ico_32010_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32011.png": [82, 82, 82, 82],
            "cards_img_4/ico_32011_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32012.png": [82, 82, 82, 82],
            "cards_img_4/ico_32012_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32013.png": [82, 82, 82, 82],
            "cards_img_4/ico_32013_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32014.png": [82, 82, 82, 82],
            "cards_img_4/ico_32014_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32015.png": [82, 82, 82, 82],
            "cards_img_4/ico_32015_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32016.png": [82, 82, 82, 82],
            "cards_img_4/ico_32016_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32017.png": [82, 82, 82, 82],
            "cards_img_4/ico_32017_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32018.png": [82, 82, 82, 82],
            "cards_img_4/ico_32018_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32019.png": [82, 82, 82, 82],
            "cards_img_4/ico_32019_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32020.png": [82, 82, 82, 82],
            "cards_img_4/ico_32020_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32021.png": [82, 82, 82, 82],
            "cards_img_4/ico_32021_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32022.png": [82, 82, 82, 82],
            "cards_img_4/ico_32022_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32023.png": [82, 82, 82, 82],
            "cards_img_4/ico_32023_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32024.png": [82, 82, 82, 82],
            "cards_img_4/ico_32024_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32025.png": [82, 82, 82, 82],
            "cards_img_4/ico_32025_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32026.png": [82, 82, 82, 82],
            "cards_img_4/ico_32026_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32027.png": [82, 82, 82, 82],
            "cards_img_4/ico_32027_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32028.png": [82, 82, 82, 82],
            "cards_img_4/ico_32028_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32029.png": [82, 82, 82, 82],
            "cards_img_4/ico_32029_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32030.png": [82, 82, 82, 82],
            "cards_img_4/ico_32030_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32031.png": [82, 82, 82, 82],
            "cards_img_4/ico_32031_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32032.png": [82, 82, 82, 82],
            "cards_img_4/ico_32032_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32033.png": [82, 82, 82, 82],
            "cards_img_4/ico_32033_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32034.png": [82, 82, 82, 82],
            "cards_img_4/ico_32034_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32035.png": [82, 82, 82, 82],
            "cards_img_4/ico_32035_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32036.png": [82, 82, 82, 82],
            "cards_img_4/ico_32036_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32037.png": [82, 82, 82, 82],
            "cards_img_4/ico_32037_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32038.png": [82, 82, 82, 82],
            "cards_img_4/ico_32038_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32039.png": [82, 82, 82, 82],
            "cards_img_4/ico_32039_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32040.png": [82, 82, 82, 82],
            "cards_img_4/ico_32040_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32041.png": [82, 82, 82, 82],
            "cards_img_4/ico_32041_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32042.png": [82, 82, 82, 82],
            "cards_img_4/ico_32042_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32043.png": [82, 82, 82, 82],
            "cards_img_4/ico_32043_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32044.png": [82, 82, 82, 82],
            "cards_img_4/ico_32044_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32045.png": [82, 82, 82, 82],
            "cards_img_4/ico_32045_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32046.png": [82, 82, 82, 82],
            "cards_img_4/ico_32046_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32047.png": [82, 82, 82, 82],
            "cards_img_4/ico_32047_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32048.png": [82, 82, 82, 82],
            "cards_img_4/ico_32048_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32049.png": [82, 82, 82, 82],
            "cards_img_4/ico_32049_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32050.png": [82, 82, 82, 82],
            "cards_img_4/ico_32050_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32051.png": [82, 82, 82, 82],
            "cards_img_4/ico_32051_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32052.png": [82, 82, 82, 82],
            "cards_img_4/ico_32052_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32053.png": [82, 82, 82, 82],
            "cards_img_4/ico_32053_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32054.png": [82, 82, 82, 82],
            "cards_img_4/ico_32054_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32055.png": [82, 82, 82, 82],
            "cards_img_4/ico_32055_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32056.png": [82, 82, 82, 82],
            "cards_img_4/ico_32056_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32057.png": [82, 82, 82, 82],
            "cards_img_4/ico_32057_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32058.png": [82, 82, 82, 82],
            "cards_img_4/ico_32058_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32059.png": [82, 82, 82, 82],
            "cards_img_4/ico_32059_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32060.png": [82, 82, 82, 82],
            "cards_img_4/ico_32060_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32061.png": [82, 82, 82, 82],
            "cards_img_4/ico_32061_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32062.png": [82, 82, 82, 82],
            "cards_img_4/ico_32062_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32063.png": [82, 82, 82, 82],
            "cards_img_4/ico_32063_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32064.png": [82, 82, 82, 82],
            "cards_img_4/ico_32064_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32065.png": [82, 82, 82, 82],
            "cards_img_4/ico_32065_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32066.png": [82, 82, 82, 82],
            "cards_img_4/ico_32066_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32067.png": [82, 82, 82, 82],
            "cards_img_4/ico_32067_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32068.png": [82, 82, 82, 82],
            "cards_img_4/ico_32068_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32069.png": [82, 82, 82, 82],
            "cards_img_4/ico_32069_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32070.png": [82, 82, 82, 82],
            "cards_img_4/ico_32070_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32071.png": [82, 82, 82, 82],
            "cards_img_4/ico_32071_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32072.png": [82, 82, 82, 82],
            "cards_img_4/ico_32072_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32073.png": [82, 82, 82, 82],
            "cards_img_4/ico_32073_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32074.png": [82, 82, 82, 82],
            "cards_img_4/ico_32074_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32075.png": [82, 82, 82, 82],
            "cards_img_4/ico_32075_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32076.png": [82, 82, 82, 82],
            "cards_img_4/ico_32076_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32077.png": [82, 82, 82, 82],
            "cards_img_4/ico_32077_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32078.png": [82, 82, 82, 82],
            "cards_img_4/ico_32078_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32079.png": [82, 82, 82, 82],
            "cards_img_4/ico_32079_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_32080.png": [82, 82, 82, 82],
            "cards_img_4/ico_32080_atk.png": [74, 78, 74, 78],
            "cards_img_4/ico_34001.png": [82, 81, 82, 81],
            "cards_img_4/ico_34002.png": [82, 82, 82, 82],
            "cards_img_4/ico_34003.png": [82, 82, 82, 82],
            "cards_img_4/ico_34004.png": [82, 82, 82, 82],
            "cards_img_4/ico_34005.png": [82, 82, 82, 82],
            "cards_img_4/ico_34006.png": [82, 82, 82, 82],
            "cards_img_4/ico_34007.png": [82, 82, 82, 82],
            "cards_img_4/ico_34008.png": [82, 82, 82, 82],
            "cards_img_4/ico_34009.png": [82, 82, 82, 82],
            "cards_img_4/ico_34010.png": [82, 82, 82, 82],
            "cards_img_4/ico_34011.png": [82, 82, 82, 82],
            "cards_img_4/ico_34012.png": [82, 82, 82, 82],
            "cards_img_4/ico_34013.png": [82, 82, 82, 82],
            "cards_img_4/ico_34014.png": [82, 82, 82, 82],
            "cards_img_4/ico_34015.png": [82, 82, 82, 82],
            "cards_img_4/ico_34016.png": [82, 82, 82, 82],
            "cards_img_4/ico_34017.png": [82, 82, 82, 82],
            "cards_img_4/ico_34018.png": [82, 82, 82, 82],
            "cards_img_4/ico_34019.png": [82, 82, 82, 82],
            "cards_img_4/ico_34020.png": [82, 82, 82, 82],
            "cards_img_4/ico_34021.png": [82, 82, 82, 82],
            "cards_img_4/ico_34022.png": [82, 82, 82, 82],
            "cards_img_4/ico_34023.png": [82, 82, 82, 82],
            "cards_img_4/ico_34024.png": [82, 82, 82, 82],
            "cards_img_4/ico_34025.png": [82, 82, 82, 82],
            "cards_img_4/ico_34025_2.png": [82, 82, 82, 82],
            "cards_img_4/ico_34026.png": [82, 82, 82, 82],
            "cards_img_4/ico_34027.png": [82, 82, 82, 82],
            "cards_img_4/ico_34028.png": [82, 82, 82, 82],
            "cards_img_4/ico_34029.png": [82, 82, 82, 82],
            "cards_img_4/ico_34030.png": [82, 82, 82, 82],
            "cards_img_4/ico_34031.png": [82, 82, 82, 82],
            "cards_img_4/ico_34032.png": [82, 82, 82, 82],
            "cards_img_4/ico_34033.png": [82, 82, 82, 82],
            "cards_img_4/ico_34034.png": [82, 82, 82, 82],
            "cards_img_4/ico_34035.png": [82, 82, 82, 82],
            "cards_img_4/ico_34036.png": [82, 82, 82, 82],
            "cards_img_4/ico_34037.png": [82, 82, 82, 82],
            "cards_img_4/ico_34038.png": [82, 82, 82, 82],
            "cards_img_4/ico_34039.png": [82, 82, 82, 82],
            "cards_img_4/ico_34040.png": [82, 82, 82, 82],
            "cards_img_4/ico_34041.png": [82, 82, 82, 82],
            "cards_img_4/ico_34042.png": [82, 82, 82, 82],
            "cards_img_4/ico_34043.png": [82, 82, 82, 82],
            "cards_img_4/ico_34044.png": [82, 82, 82, 82],
            "cards_img_4/ico_34045.png": [82, 82, 82, 82],
            "cards_img_4/ico_34046.png": [82, 82, 82, 82],
            "cards_img_4/ico_34047.png": [82, 82, 82, 82],
            "cards_img_4/ico_35001.png": [82, 82, 82, 82],
            "cards_img_4/ico_35002.png": [82, 82, 82, 82],
            "cards_img_4/ico_35003.png": [82, 82, 82, 82],
            "cards_img_4/ico_35004.png": [82, 82, 82, 82],
            "cards_img_4/ico_39999.png": [82, 82, 82, 82],
            "cards_img_4/ico_magic_default.png": [82, 82, 82, 82],
            "cards_img_4/ico_rare_default.png": [82, 82, 82, 82],
            "cards_img_4/ico_trap_default.png": [82, 82, 82, 82],
            "cards_img_5/card_frame_nature_magic.png": [483, 672, 487, 675],
            "cards_img_5/card_frame_nature_magic_2.png": [484, 671, 487, 675],
            "cards_img_5/card_frame_nature_magic_3.png": [483, 671, 487, 675],
            "city/activity_bonus_common_bg.png": [69, 85, 69, 85],
            "city/activity_cell_0.png": [117, 117, 218, 219],
            "city/activity_cell_0_on.png": [218, 219, 218, 219],
            "city/activity_cell_ok.png": [78, 74, 82, 77],
            "city/activity_common_bg.png": [53, 375, 53, 375],
            "city/activity_wz_line_bg.png": [515, 49, 515, 49],
            "city/ad_package_01.png": [82, 29, 142, 32],
            "city/ad_package_02.png": [86, 27, 143, 32],
            "city/ad_package_03.png": [140, 29, 141, 32],
            "city/ad_package_04.png": [142, 29, 142, 32],
            "city/ad_package_05.png": [142, 29, 142, 32],
            "city/ad_package_06.png": [145, 29, 192, 32],
            "city/ad_package_07.png": [198, 30, 199, 33],
            "city/ad_package_08.png": [171, 29, 199, 33],
            "city/ad_package_09.png": [140, 30, 142, 32],
            "city/area_liveness_0.png": [43, 29, 55, 31],
            "city/area_liveness_1.png": [55, 27, 55, 31],
            "city/area_liveness_2.png": [43, 27, 55, 31],
            "city/chapter_badge_01.png": [75, 75, 75, 75],
            "city/chapter_badge_02.png": [75, 84, 75, 84],
            "city/chapter_badge_03.png": [75, 75, 75, 75],
            "city/chapter_badge_04.png": [75, 75, 75, 75],
            "city/chapter_badge_05.png": [75, 75, 75, 75],
            "city/chapter_info_bg.png": [63, 223, 63, 223],
            "city/chapter_name_bg_01.png": [190, 61, 190, 61],
            "city/chapter_name_bg_02.png": [163, 36, 190, 61],
            "city/chapter_name_bg_03.png": [163, 36, 190, 61],
            "city/chapter_name_bg_04.png": [66, 278, 66, 278],
            "city/city_btn_1006.png": [255, 155, 255, 155],
            "city/city_btn_1007.png": [257, 179, 257, 179],
            "city/city_btn_1016.png": [257, 179, 257, 179],
            "city/city_btn_1017.png": [524, 182, 524, 182],
            "city/city_btn_2000.png": [54, 158, 54, 158],
            "city/gacha_bar_bottom.png": [520, 181, 520, 181],
            "city/gacha_bar_top.png": [399, 224, 399, 224],
            "city/gacha_btn_01.png": [141, 70, 141, 70],
            "city/gacha_btn_10.png": [141, 70, 141, 70],
            "city/gacha_btn_50.png": [141, 70, 141, 70],
            "city/gacha_icon_bg.png": [49, 47, 56, 53],
            "city/gacha_label_01.png": [266, 152, 270, 154],
            "city/gacha_label_02.png": [266, 152, 270, 154],
            "city/gacha_laser.png": [215, 695, 215, 695],
            "city/gacha_list_bg.png": [40, 40, 40, 40],
            "city/gacha_list_focus.png": [117, 133, 117, 133],
            "city/gacha_list_title.png": [242, 48, 242, 48],
            "city/gacha_nature_02.png": [94, 110, 94, 110],
            "city/gacha_nature_03.png": [94, 110, 94, 110],
            "city/gacha_nature_04.png": [94, 110, 94, 110],
            "city/gacha_nature_05.png": [94, 110, 94, 110],
            "city/gacha_rare_01.png": [94, 110, 94, 110],
            "city/gacha_rare_02.png": [94, 110, 94, 110],
            "city/gacha_rare_03.png": [94, 110, 94, 110],
            "city/gacha_rare_04.png": [94, 110, 94, 110],
            "city/gacha_rare_05.png": [94, 110, 94, 110],
            "city/gacha_rare_06.png": [94, 110, 94, 110],
            "city/gacha_rare_07.png": [94, 110, 94, 110],
            "city/gacha_reset.png": [70, 42, 70, 42],
            "city/gacha_super_01.png": [94, 110, 94, 110],
            "city/gacha_super_bottom0.png": [227, 361, 227, 361],
            "city/gacha_time_limit_01.png": [94, 110, 94, 110],
            "city/gacha_time_limit_02.png": [94, 110, 94, 110],
            "city/gacha_time_limit_03.png": [94, 110, 94, 110],
            "city/gacha_time_limit_04.png": [94, 110, 94, 110],
            "city/green_arraw_0.png": [103, 66, 106, 70],
            "city/img_btn_achievement.png": [124, 136, 124, 136],
            "city/img_btn_character.png": [100, 104, 100, 104],
            "city/img_btn_exchange.png": [118, 118, 118, 118],
            "city/img_helper_label.png": [141, 34, 143, 38],
            "city/img_icon_activity.png": [109, 90, 109, 91],
            "city/img_icon_bag.png": [135, 68, 154, 69],
            "city/img_icon_bg.png": [61, 150, 61, 150],
            "city/img_icon_bg_right.png": [71, 72, 71, 72],
            "city/img_icon_cards.png": [153, 64, 154, 65],
            "city/img_icon_checkin.png": [57, 137, 57, 137],
            "city/img_icon_guide.png": [184, 220, 187, 224],
            "city/img_icon_help.png": [141, 73, 150, 73],
            "city/img_icon_illustration.png": [145, 67, 148, 67],
            "city/img_icon_mail.png": [56, 137, 56, 137],
            "city/img_icon_rank.png": [57, 137, 57, 137],
            "city/img_icon_shop.png": [144, 75, 156, 75],
            "city/img_icon_shop2.png": [56, 137, 56, 137],
            "city/img_icon_shop_7123_xl_off.png": [74, 79, 74, 79],
            "city/img_icon_shop_7123_xl_on.png": [94, 94, 94, 94],
            "city/img_icon_shop_7124_xl_off.png": [74, 79, 74, 79],
            "city/img_icon_shop_7124_xl_on.png": [94, 94, 94, 94],
            "city/img_icon_shop_7125_xl_off.png": [74, 79, 74, 79],
            "city/img_icon_shop_7125_xl_on.png": [94, 94, 94, 94],
            "city/img_icon_shop_7126_xl_off.png": [74, 79, 74, 79],
            "city/img_icon_shop_7126_xl_on.png": [94, 94, 94, 94],
            "city/img_icon_shop_all_xl_off.png": [74, 79, 74, 79],
            "city/img_icon_shop_all_xl_on.png": [92, 92, 92, 92],
            "city/img_icon_split.png": [3, 86, 3, 86],
            "city/img_icon_task.png": [100, 104, 100, 104],
            "city/img_icon_union.png": [145, 71, 154, 71],
            "city/level_bg_01.png": [47, 153, 47, 153],
            "city/level_bg_02.png": [47, 153, 47, 153],
            "city/level_bg_03.png": [47, 153, 47, 153],
            "city/level_bg_inner.png": [34, 88, 34, 88],
            "city/level_drop.png": [53, 56, 53, 56],
            "city/props_shop_item_bg.png": [163, 188, 163, 188],
            "city/tt_gift_package_1.png": [147, 44, 180, 46],
            "city/tt_gift_package_2.png": [149, 44, 185, 47],
            "city/tt_gift_package_3.png": [149, 44, 185, 47],
            "city/tt_gift_package_4.png": [172, 39, 198, 46],
            "city/tt_gift_package_5.png": [184, 39, 197, 46],
            "city/tt_gift_package_6.png": [182, 38, 195, 45],
            "city/tt_gift_package_7.png": [187, 38, 196, 45],
            "city/tt_gift_package_8.png": [227, 40, 231, 46],
            "city/tt_gift_package_9.png": [190, 39, 196, 45],
            "city/vip_01.png": [108, 37, 117, 38],
            "city/vip_02.png": [116, 38, 117, 38],
            "city/vip_03.png": [116, 37, 117, 38],
            "city/vip_04.png": [117, 37, 117, 38],
            "city/vip_05.png": [116, 37, 117, 38],
            "city/vip_06.png": [116, 37, 117, 38],
            "city/vip_07.png": [116, 37, 117, 38],
            "city/vip_08.png": [116, 37, 117, 38],
            "city/vip_09.png": [116, 37, 117, 38],
            "city/vip_dot.png": [12, 12, 12, 12],
            "city/vip_title.png": [80, 26, 95, 29],
            "find/find_unknown_player.png": [157, 333, 157, 333],
            "find/img_group_avatar_1.png": [124, 137, 124, 137],
            "find/img_group_avatar_10.png": [111, 131, 161, 149],
            "find/img_group_avatar_2.png": [136, 127, 136, 127],
            "find/img_group_avatar_3.png": [143, 136, 161, 149],
            "find/img_group_avatar_4.png": [123, 134, 161, 149],
            "find/img_group_avatar_5.png": [161, 131, 161, 149],
            "find/img_group_avatar_6.png": [153, 134, 153, 134],
            "find/img_group_avatar_7.png": [131, 130, 131, 130],
            "find/img_group_avatar_8.png": [134, 132, 161, 149],
            "find/img_group_avatar_9.png": [118, 135, 161, 149],
            "find/in_room_id_bg.png": [590, 46, 590, 46],
            "find/in_room_observe_bg.png": [245, 110, 245, 110],
            "find/in_room_observe_flag.png": [85, 118, 85, 118],
            "find/in_room_panel_left.png": [373, 130, 373, 130],
            "find/in_room_panel_right.png": [373, 130, 373, 130],
            "find/room_bottom_tips.png": [483, 40, 483, 40],
            "find/room_number_btn_0.png": [111, 111, 111, 111],
            "find/room_number_btn_1.png": [111, 111, 111, 111],
            "find/room_number_btn_2.png": [111, 111, 111, 111],
            "find/room_number_btn_3.png": [111, 111, 111, 111],
            "find/room_number_btn_4.png": [111, 111, 111, 111],
            "find/room_number_btn_5.png": [111, 111, 111, 111],
            "find/room_number_btn_6.png": [111, 111, 111, 111],
            "find/room_number_btn_7.png": [111, 111, 111, 111],
            "find/room_number_btn_8.png": [111, 111, 111, 111],
            "find/room_number_btn_9.png": [111, 111, 111, 111],
            "first_recharge/recharge_btn.png": [179, 56, 179, 56],
            "first_recharge/recharge_btn_light.png": [38, 17, 38, 17],
            "first_recharge/recharge_jigsaw_01.png": [163, 160, 311, 312],
            "first_recharge/recharge_jigsaw_02.png": [201, 140, 311, 312],
            "first_recharge/recharge_jigsaw_03.png": [110, 148, 311, 312],
            "first_recharge/recharge_jigsaw_04.png": [107, 174, 311, 312],
            "first_recharge/recharge_jigsaw_05.png": [121, 178, 311, 312],
            "first_recharge/recharge_jigsaw_06.png": [200, 112, 311, 312],
            "first_recharge/recharge_jigsaw_07.png": [143, 171, 311, 312],
            "first_recharge/recharge_jigsaw_bg.png": [311, 312, 311, 312],
            "first_recharge/recharge_jigsaw_fg.png": [298, 298, 311, 312],
            "first_recharge/recharge_jigsaw_light.png": [40, 40, 40, 40],
            "first_recharge/recharge_jigsaw_lines.png": [305, 306, 311, 312],
            "fonts/huali_26_0.png": [1024, 615, 1024, 1024],
            "fonts/huali_32_0.png": [1023, 372, 1024, 512],
            "fonts/legend_num_0.png": [126, 45, 128, 64],
            "fonts/num_48_0.png": [122, 113, 128, 128],
            "fonts/num_hp_0.png": [125, 121, 128, 128],
            "fonts/number_0.png": [233, 81, 256, 256],
            "fonts/number_43.png": [117, 116, 128, 128],
            "fonts/number_43_0.png": [117, 116, 128, 128],
            "fonts/skills_name.png": [1023, 638, 1024, 1024],
            "fonts/yxw_number_csrd_24.png": [125, 47, 128, 64],
            "fonts/yxw_number_csrd_24_0.png": [123, 46, 128, 64],
            "general/ad_frame.png": [72, 680, 72, 680],
            "general/advence_open.png": [127, 54, 128, 54],
            "general/battle_task_star.png": [39, 38, 39, 38],
            "general/bg_icon_null.png": [155, 155, 155, 155],
            "general/buy_button.png": [163, 102, 163, 102],
            "general/capture_btn_back.png": [73, 71, 73, 71],
            "general/capture_btn_back2.png": [149, 148, 150, 149],
            "general/capture_btn_bag.png": [73, 71, 73, 71],
            "general/capture_btn_bg.png": [474, 135, 474, 135],
            "general/capture_btn_capture.png": [149, 148, 149, 148],
            "general/capture_clock.png": [26, 26, 26, 26],
            "general/capture_clock_bg.png": [51, 50, 51, 50],
            "general/capture_info_bg.png": [272, 65, 272, 65],
            "general/capture_shadow.png": [202, 61, 202, 61],
            "general/capture_times_bg.png": [362, 45, 362, 45],
            "general/capture_title.png": [37, 27, 59, 33],
            "general/card_advence_bar.png": [26, 20, 38, 33],
            "general/card_advence_bar_bg.png": [30, 26, 38, 33],
            "general/card_advence_bar_s.png": [15, 8, 19, 12],
            "general/card_advence_bar_s_bg.png": [19, 12, 19, 12],
            "general/card_advence_bar_s_tip.png": [22, 19, 27, 24],
            "general/card_advence_bar_tip.png": [63, 54, 65, 58],
            "general/card_fragment_bar.png": [26, 20, 39, 32],
            "general/card_fragment_bar_bg.png": [32, 26, 39, 32],
            "general/card_info_widget.png": [54, 97, 54, 97],
            "general/character_selected.png": [96, 112, 96, 112],
            "general/chat_middle_focus.png": [9, 71, 9, 71],
            "general/chat_middle_unfocus.png": [9, 71, 9, 71],
            "general/chat_right_focus.png": [28, 71, 28, 71],
            "general/chat_right_unfocus.png": [28, 71, 28, 71],
            "general/daily_active_bg.png": [126, 206, 126, 206],
            "general/dark_draw.png": [24, 17, 39, 21],
            "general/dark_lose.png": [41, 19, 41, 22],
            "general/dark_point.png": [18, 44, 18, 44],
            "general/dark_win.png": [39, 21, 40, 21],
            "general/depot_bg.png": [22, 22, 22, 22],
            "general/depot_shop_bg1.png": [84, 71, 84, 71],
            "general/depot_shop_bg2.png": [138, 80, 138, 80],
            "general/dule_choose_card_tips_bg.png": [54, 32, 54, 32],
            "general/dule_head_info.png": [49, 32, 49, 32],
            "general/dule_troop_bg.png": [30, 60, 30, 60],
            "general/filter_split.png": [16, 3, 16, 3],
            "general/fund_task_bg.png": [77, 392, 77, 392],
            "general/fund_task_spr.png": [60, 66, 60, 66],
            "general/god_pump_btn.png": [126, 64, 126, 64],
            "general/god_pump_light.png": [245, 191, 245, 191],
            "general/god_pump_stage.png": [190, 128, 190, 128],
            "general/group_avatars_bg.png": [28, 26, 28, 26],
            "general/group_mem_bg.png": [104, 104, 104, 104],
            "general/group_mem_lock.png": [94, 94, 94, 94],
            "general/group_name_bg.png": [141, 31, 141, 31],
            "general/icon_music.png": [102, 42, 107, 42],
            "general/icon_poke_info_1.png": [44, 121, 44, 122],
            "general/icon_poke_info_2.png": [45, 122, 46, 122],
            "general/icon_poke_info_3.png": [44, 120, 44, 122],
            "general/icon_sound.png": [106, 43, 111, 43],
            "general/illustration_title_N.png": [68, 73, 68, 73],
            "general/illustration_title_N_s.png": [38, 41, 38, 41],
            "general/illustration_title_RR.png": [68, 73, 68, 73],
            "general/illustration_title_RR_s.png": [38, 41, 38, 41],
            "general/illustration_title_SR.png": [68, 73, 68, 73],
            "general/illustration_title_SR_s.png": [38, 41, 38, 41],
            "general/illustration_title_UR.png": [68, 73, 68, 73],
            "general/illustration_title_UR_s.png": [38, 41, 38, 41],
            "general/img_arrow_1.png": [27, 28, 28, 28],
            "general/img_arrow_down_1.png": [16, 21, 16, 22],
            "general/img_arrow_down_2.png": [18, 15, 18, 16],
            "general/img_arrow_down_3.png": [26, 23, 26, 23],
            "general/img_arrow_right.png": [40, 28, 40, 28],
            "general/img_arrow_right_02.png": [33, 34, 33, 34],
            "general/img_arrow_up_1.png": [16, 21, 16, 22],
            "general/img_arrow_up_2.png": [18, 15, 18, 16],
            "general/img_arrow_up_3.png": [40, 110, 40, 110],
            "general/img_arrow_up_4.png": [39, 109, 40, 110],
            "general/img_badge_1.png": [158, 160, 158, 160],
            "general/img_badge_2.png": [158, 160, 158, 160],
            "general/img_badge_3.png": [158, 160, 158, 160],
            "general/img_badge_4.png": [158, 160, 158, 160],
            "general/img_badge_5.png": [158, 160, 158, 160],
            "general/img_badge_6.png": [158, 160, 158, 160],
            "general/img_black.png": [30, 30, 30, 30],
            "general/img_blank.png": [0, 0, 2, 2],
            "general/img_bonus_bg.png": [32, 120, 32, 120],
            "general/img_bonus_title_bg.png": [35, 35, 35, 35],
            "general/img_bottom_bg.png": [8, 94, 8, 94],
            "general/img_box_info_bg.png": [45, 53, 45, 53],
            "general/img_box_info_triangle.png": [34, 17, 34, 17],
            "general/img_btn_advence_left.png": [239, 72, 239, 72],
            "general/img_btn_advence_right.png": [239, 72, 239, 72],
            "general/img_btn_blue.png": [51, 88, 51, 88],
            "general/img_btn_blue_s.png": [32, 70, 32, 70],
            "general/img_btn_bonus.png": [75, 49, 75, 49],
            "general/img_btn_card_op_focus.png": [99, 97, 99, 97],
            "general/img_btn_card_op_unfocus.png": [99, 97, 99, 97],
            "general/img_btn_check_bg.png": [46, 46, 46, 46],
            "general/img_btn_close.png": [73, 71, 73, 71],
            "general/img_btn_close2.png": [78, 51, 78, 51],
            "general/img_btn_decompose.png": [100, 54, 101, 54],
            "general/img_btn_decompose_all.png": [43, 42, 43, 42],
            "general/img_btn_gray.png": [51, 88, 51, 88],
            "general/img_btn_gray_s.png": [31, 70, 31, 70],
            "general/img_btn_green.png": [51, 88, 51, 88],
            "general/img_btn_green_s.png": [32, 70, 32, 70],
            "general/img_btn_green_xs.png": [22, 48, 22, 48],
            "general/img_btn_help.png": [46, 46, 46, 46],
            "general/img_btn_off.png": [239, 72, 239, 72],
            "general/img_btn_on.png": [239, 72, 239, 72],
            "general/img_btn_orange.png": [51, 88, 51, 88],
            "general/img_btn_pop.png": [73, 71, 73, 71],
            "general/img_btn_pop_arrow.png": [36, 40, 36, 40],
            "general/img_btn_pop_gray.png": [73, 71, 73, 71],
            "general/img_btn_pop_r.png": [57, 118, 57, 118],
            "general/img_btn_rank.png": [73, 71, 73, 71],
            "general/img_btn_recharge_1.png": [201, 62, 202, 63],
            "general/img_btn_recharge_2.png": [225, 63, 225, 63],
            "general/img_btn_recharge_3.png": [253, 71, 257, 75],
            "general/img_btn_recharge_4.png": [143, 40, 143, 40],
            "general/img_btn_recharge_5.png": [222, 70, 225, 73],
            "general/img_btn_red.png": [51, 88, 51, 88],
            "general/img_btn_red_s.png": [134, 56, 134, 56],
            "general/img_btn_reduce.png": [50, 51, 55, 56],
            "general/img_btn_rename.png": [43, 42, 43, 42],
            "general/img_btn_reward.png": [102, 88, 102, 88],
            "general/img_btn_rule.png": [44, 44, 44, 44],
            "general/img_btn_shop.png": [73, 71, 73, 71],
            "general/img_btn_tab_bg_focus_1.png": [120, 54, 120, 54],
            "general/img_btn_tab_bg_focus_2.png": [155, 103, 155, 103],
            "general/img_btn_tab_bg_focus_5.png": [122, 59, 122, 59],
            "general/img_btn_tab_bg_focus_6.png": [172, 71, 172, 71],
            "general/img_btn_tab_bg_focus_6_s.png": [134, 56, 134, 56],
            "general/img_btn_tab_bg_focus_7.png": [80, 162, 80, 162],
            "general/img_btn_tab_bg_focus_v.png": [224, 131, 224, 131],
            "general/img_btn_tab_bg_unfocus_1.png": [120, 54, 120, 54],
            "general/img_btn_tab_bg_unfocus_2.png": [155, 103, 155, 103],
            "general/img_btn_tab_bg_unfocus_3.png": [162, 53, 166, 63],
            "general/img_btn_tab_bg_unfocus_4.png": [0, 0, 240, 241],
            "general/img_btn_tab_bg_unfocus_5.png": [120, 51, 122, 59],
            "general/img_btn_tab_bg_unfocus_6.png": [172, 71, 172, 71],
            "general/img_btn_tab_bg_unfocus_6_s.png": [134, 56, 134, 56],
            "general/img_btn_tab_bg_unfocus_7.png": [80, 162, 80, 162],
            "general/img_btn_tab_bg_unfocus_v.png": [176, 101, 224, 131],
            "general/img_btn_vip.png": [134, 54, 137, 58],
            "general/img_bubble_bg.png": [62, 70, 62, 70],
            "general/img_card_count.png": [55, 34, 55, 34],
            "general/img_card_count_bg.png": [34, 32, 34, 32],
            "general/img_card_count_bg_02.png": [136, 25, 136, 25],
            "general/img_card_count_fg.png": [1, 25, 1, 25],
            "general/img_card_decompose.png": [154, 63, 154, 63],
            "general/img_card_ico_bg.png": [84, 84, 100, 100],
            "general/img_chat_bg_oppo.png": [39, 35, 39, 35],
            "general/img_chat_bg_self.png": [39, 35, 39, 35],
            "general/img_chat_triangle_oppo.png": [28, 14, 28, 14],
            "general/img_chat_triangle_oppo_2.png": [27, 22, 27, 22],
            "general/img_chat_triangle_self.png": [28, 14, 28, 14],
            "general/img_chat_triangle_self_2.png": [27, 22, 27, 22],
            "general/img_chest_light.png": [135, 100, 135, 100],
            "general/img_choose_character_bg.png": [58, 31, 58, 31],
            "general/img_circle.png": [61, 61, 62, 62],
            "general/img_circle_02.png": [60, 61, 60, 61],
            "general/img_circle_03.png": [77, 77, 77, 77],
            "general/img_circle_num1.png": [23, 23, 23, 23],
            "general/img_circle_num2.png": [23, 23, 23, 23],
            "general/img_circle_num3.png": [23, 23, 23, 23],
            "general/img_circle_num4.png": [23, 23, 23, 23],
            "general/img_com_bg_10.png": [34, 37, 38, 41],
            "general/img_com_bg_11.png": [42, 64, 42, 66],
            "general/img_com_bg_16.png": [93, 93, 98, 98],
            "general/img_com_bg_19.png": [125, 42, 129, 46],
            "general/img_com_bg_2.png": [26, 59, 26, 59],
            "general/img_com_bg_20.png": [13, 13, 13, 13],
            "general/img_com_bg_22.png": [62, 66, 62, 66],
            "general/img_com_bg_26.png": [26, 29, 26, 29],
            "general/img_com_bg_3.png": [34, 46, 34, 46],
            "general/img_com_bg_30.png": [73, 79, 73, 79],
            "general/img_com_bg_34.png": [89, 27, 89, 27],
            "general/img_com_bg_35.png": [42, 108, 42, 108],
            "general/img_com_bg_37.png": [50, 55, 50, 55],
            "general/img_com_bg_4.png": [44, 108, 44, 108],
            "general/img_com_bg_40.png": [8, 66, 8, 66],
            "general/img_com_bg_41.png": [58, 53, 58, 53],
            "general/img_com_bg_42.png": [16, 29, 16, 29],
            "general/img_com_bg_43.png": [178, 97, 178, 97],
            "general/img_com_bg_44.png": [178, 97, 178, 97],
            "general/img_com_bg_45.png": [206, 61, 214, 69],
            "general/img_com_bg_46.png": [17, 149, 17, 149],
            "general/img_com_bg_49.png": [251, 48, 251, 48],
            "general/img_com_bg_5.png": [34, 46, 34, 46],
            "general/img_com_bg_54.png": [43, 138, 43, 138],
            "general/img_com_bg_57.png": [30, 33, 30, 33],
            "general/img_com_bg_58.png": [48, 49, 48, 49],
            "general/img_com_bg_60.png": [35, 38, 35, 38],
            "general/img_com_bg_7.png": [35, 61, 36, 62],
            "general/img_compose_add.png": [117, 118, 117, 118],
            "general/img_cur.png": [149, 48, 149, 48],
            "general/img_dailyTask_panel.png": [84, 87, 84, 87],
            "general/img_decompose_+10.png": [95, 51, 95, 51],
            "general/img_decompose_-10.png": [95, 51, 95, 51],
            "general/img_decompose_bg.png": [5, 96, 5, 96],
            "general/img_divide_line_1.png": [10, 12, 10, 12],
            "general/img_divide_line_10.png": [3, 28, 3, 28],
            "general/img_divide_line_11.png": [2, 5, 2, 5],
            "general/img_divide_line_3.png": [6, 4, 6, 4],
            "general/img_divide_line_4.png": [2, 23, 2, 24],
            "general/img_divide_line_5.png": [188, 3, 188, 3],
            "general/img_divide_line_6.png": [30, 31, 30, 31],
            "general/img_divide_line_7.png": [4, 30, 4, 30],
            "general/img_divide_line_8.png": [12, 5, 12, 5],
            "general/img_divide_line_9.png": [20, 2, 20, 2],
            "general/img_draw.png": [97, 117, 97, 117],
            "general/img_filter.png": [30, 29, 34, 33],
            "general/img_filter_item.png": [25, 25, 29, 29],
            "general/img_finger_01.png": [88, 88, 96, 96],
            "general/img_finger_02.png": [87, 81, 96, 96],
            "general/img_form_bg_01.png": [64, 137, 64, 137],
            "general/img_form_bg_02.png": [49, 57, 49, 57],
            "general/img_form_title_bg_1.png": [571, 123, 571, 123],
            "general/img_form_title_bg_3.png": [336, 59, 336, 59],
            "general/img_form_title_bg_4.png": [336, 59, 336, 59],
            "general/img_form_title_bg_5.png": [336, 59, 336, 59],
            "general/img_form_title_light_1.png": [96, 40, 96, 40],
            "general/img_glow.png": [200, 200, 200, 200],
            "general/img_glow_s.png": [32, 32, 32, 32],
            "general/img_gradient_border.png": [10, 10, 10, 10],
            "general/img_head_list_bg.png": [179, 208, 179, 208],
            "general/img_highlight_rect.png": [41, 41, 41, 41],
            "general/img_hl_bg.png": [80, 79, 80, 80],
            "general/img_icon_9001.png": [24, 26, 26, 28],
            "general/img_icon_9002.png": [25, 25, 26, 28],
            "general/img_icon_9003.png": [25, 25, 26, 28],
            "general/img_icon_9004.png": [31, 36, 32, 38],
            "general/img_icon_9005.png": [31, 36, 32, 36],
            "general/img_icon_9006.png": [33, 34, 34, 34],
            "general/img_icon_9007.png": [33, 34, 34, 34],
            "general/img_icon_9008.png": [27, 33, 28, 34],
            "general/img_icon_9009.png": [30, 34, 30, 36],
            "general/img_icon_add.png": [50, 51, 50, 51],
            "general/img_icon_add_big.png": [167, 168, 167, 168],
            "general/img_icon_arrow_down.png": [30, 27, 30, 27],
            "general/img_icon_card_op_compose.png": [56, 37, 56, 37],
            "general/img_icon_card_op_decompose.png": [50, 41, 50, 41],
            "general/img_icon_card_op_upgrade.png": [48, 41, 48, 41],
            "general/img_icon_cardnum.png": [57, 53, 57, 53],
            "general/img_icon_chat.png": [47, 45, 47, 45],
            "general/img_icon_chat_l.png": [56, 54, 56, 54],
            "general/img_icon_check.png": [49, 52, 50, 52],
            "general/img_icon_city_hp.png": [32, 28, 32, 28],
            "general/img_icon_clear.png": [43, 42, 43, 42],
            "general/img_icon_clock.png": [30, 30, 30, 30],
            "general/img_icon_dice.png": [60, 66, 60, 66],
            "general/img_icon_exp.png": [69, 27, 73, 31],
            "general/img_icon_filter.png": [37, 37, 37, 37],
            "general/img_icon_fragment.png": [41, 42, 41, 42],
            "general/img_icon_fragment_s.png": [33, 33, 41, 41],
            "general/img_icon_fund.png": [54, 45, 54, 45],
            "general/img_icon_i.png": [8, 19, 8, 20],
            "general/img_icon_id.png": [23, 21, 23, 21],
            "general/img_icon_invite.png": [83, 83, 83, 83],
            "general/img_icon_like.png": [30, 30, 30, 30],
            "general/img_icon_like_2.png": [34, 34, 34, 34],
            "general/img_icon_lock.png": [65, 66, 66, 66],
            "general/img_icon_minus.png": [20, 9, 20, 20],
            "general/img_icon_orange_card.png": [42, 54, 42, 54],
            "general/img_icon_power.png": [30, 30, 32, 32],
            "general/img_icon_props_b7051.png": [96, 100, 96, 100],
            "general/img_icon_props_b7052.png": [96, 99, 96, 99],
            "general/img_icon_props_b7053.png": [96, 99, 96, 99],
            "general/img_icon_props_b7054.png": [96, 99, 96, 99],
            "general/img_icon_props_b7055.png": [96, 99, 96, 99],
            "general/img_icon_props_s7002.png": [35, 45, 35, 45],
            "general/img_icon_props_s7004.png": [43, 43, 50, 45],
            "general/img_icon_props_s7006.png": [46, 42, 46, 42],
            "general/img_icon_props_s7015.png": [40, 46, 43, 49],
            "general/img_icon_props_s7016.png": [39, 47, 42, 50],
            "general/img_icon_props_s7017.png": [44, 38, 44, 38],
            "general/img_icon_props_s7018.png": [44, 39, 48, 43],
            "general/img_icon_props_s7019.png": [34, 36, 34, 36],
            "general/img_icon_props_s7024.png": [36, 43, 36, 43],
            "general/img_icon_props_s7030.png": [35, 38, 35, 38],
            "general/img_icon_props_s7038.png": [29, 33, 30, 34],
            "general/img_icon_props_s7051.png": [49, 49, 49, 49],
            "general/img_icon_props_s7052.png": [49, 49, 49, 49],
            "general/img_icon_props_s7053.png": [49, 49, 49, 49],
            "general/img_icon_props_s7054.png": [50, 50, 50, 50],
            "general/img_icon_props_s7055.png": [50, 50, 50, 50],
            "general/img_icon_props_s7095.png": [32, 27, 32, 28],
            "general/img_icon_props_s7096.png": [31, 28, 32, 32],
            "general/img_icon_props_s7099.png": [21, 32, 32, 32],
            "general/img_icon_props_s7100.png": [26, 32, 32, 32],
            "general/img_icon_props_s7101.png": [44, 38, 44, 38],
            "general/img_icon_props_s7102.png": [32, 25, 32, 32],
            "general/img_icon_props_s7103.png": [39, 47, 42, 50],
            "general/img_icon_props_s7104.png": [38, 39, 38, 39],
            "general/img_icon_props_s7105.png": [40, 42, 40, 42],
            "general/img_icon_props_s7106.png": [47, 45, 47, 45],
            "general/img_icon_props_s7108.png": [56, 51, 56, 51],
            "general/img_icon_props_s7109.png": [46, 39, 47, 40],
            "general/img_icon_props_s7110.png": [52, 46, 52, 46],
            "general/img_icon_props_s7111.png": [40, 42, 40, 42],
            "general/img_icon_props_s7112.png": [52, 46, 52, 46],
            "general/img_icon_props_s7113.png": [36, 44, 36, 44],
            "general/img_icon_props_s7114.png": [36, 42, 36, 42],
            "general/img_icon_props_s7115.png": [48, 39, 51, 42],
            "general/img_icon_props_s7116.png": [45, 46, 50, 47],
            "general/img_icon_props_s7117.png": [45, 46, 50, 47],
            "general/img_icon_props_s7118.png": [39, 41, 39, 41],
            "general/img_icon_props_s7119.png": [50, 45, 50, 45],
            "general/img_icon_props_s7120.png": [57, 66, 70, 70],
            "general/img_icon_props_s7121.png": [50, 47, 50, 47],
            "general/img_icon_props_s7122.png": [68, 63, 69, 64],
            "general/img_icon_props_s7123.png": [35, 39, 35, 39],
            "general/img_icon_props_s7124.png": [39, 39, 39, 39],
            "general/img_icon_props_s7125.png": [38, 39, 38, 39],
            "general/img_icon_props_s7126.png": [38, 39, 38, 39],
            "general/img_icon_props_s7128.png": [42, 45, 43, 46],
            "general/img_icon_props_s7131.png": [50, 58, 50, 58],
            "general/img_icon_props_s7132.png": [29, 31, 32, 32],
            "general/img_icon_props_s7133.png": [32, 32, 32, 32],
            "general/img_icon_props_s7134.png": [29, 28, 32, 32],
            "general/img_icon_props_s7201.png": [45, 39, 45, 39],
            "general/img_icon_props_s7202.png": [45, 39, 45, 39],
            "general/img_icon_props_s7203.png": [45, 39, 45, 39],
            "general/img_icon_props_s7204.png": [32, 43, 32, 43],
            "general/img_icon_props_s7205.png": [32, 43, 32, 43],
            "general/img_icon_props_s7206.png": [32, 43, 32, 43],
            "general/img_icon_props_s7701.png": [32, 32, 32, 32],
            "general/img_icon_props_s7702.png": [32, 30, 32, 32],
            "general/img_icon_props_s7703.png": [32, 32, 32, 32],
            "general/img_icon_props_s7707.png": [32, 32, 32, 32],
            "general/img_icon_props_s7708.png": [32, 31, 32, 32],
            "general/img_icon_props_s7709.png": [32, 29, 32, 32],
            "general/img_icon_props_s7710.png": [31, 32, 32, 32],
            "general/img_icon_props_s7711.png": [32, 30, 32, 32],
            "general/img_icon_props_s7712.png": [30, 32, 32, 32],
            "general/img_icon_rank_history.png": [51, 55, 52, 56],
            "general/img_icon_refresh.png": [31, 32, 31, 32],
            "general/img_icon_replay.png": [35, 35, 35, 35],
            "general/img_icon_reputation.png": [30, 34, 30, 34],
            "general/img_icon_res11_s.png": [32, 32, 32, 32],
            "general/img_icon_res12_s.png": [32, 32, 32, 32],
            "general/img_icon_res13_s.png": [38, 36, 38, 36],
            "general/img_icon_res14_s.png": [28, 39, 28, 39],
            "general/img_icon_res15_s.png": [52, 45, 52, 46],
            "general/img_icon_res16_s.png": [34, 44, 34, 44],
            "general/img_icon_res1_s.png": [38, 38, 38, 38],
            "general/img_icon_res20_s.png": [32, 32, 32, 32],
            "general/img_icon_res21_s.png": [25, 32, 32, 32],
            "general/img_icon_res26_s.png": [42, 39, 42, 42],
            "general/img_icon_res2_s.png": [30, 48, 34, 52],
            "general/img_icon_res3_s.png": [42, 37, 42, 42],
            "general/img_icon_res4_s.png": [28, 39, 28, 39],
            "general/img_icon_res5_s.png": [39, 56, 39, 56],
            "general/img_icon_res6_s.png": [50, 58, 50, 58],
            "general/img_icon_res7.png": [38, 34, 38, 34],
            "general/img_icon_res7_s.png": [28, 39, 28, 39],
            "general/img_icon_res8_s.png": [35, 46, 35, 46],
            "general/img_icon_right.png": [42, 35, 42, 35],
            "general/img_icon_round_skip.png": [33, 36, 34, 36],
            "general/img_icon_round_start.png": [33, 36, 34, 36],
            "general/img_icon_score.png": [42, 25, 44, 28],
            "general/img_icon_search.png": [48, 51, 48, 51],
            "general/img_icon_search_2.png": [43, 42, 43, 42],
            "general/img_icon_share.png": [38, 33, 38, 33],
            "general/img_icon_troop.png": [36, 24, 36, 24],
            "general/img_icon_watch.png": [30, 30, 30, 30],
            "general/img_icon_wifi_low.png": [30, 24, 40, 30],
            "general/img_icon_wrong.png": [29, 29, 29, 29],
            "general/img_item_title_bg.png": [188, 54, 188, 54],
            "general/img_light.png": [77, 100, 77, 100],
            "general/img_light_2.png": [75, 75, 75, 75],
            "general/img_light_3.png": [89, 89, 89, 89],
            "general/img_lock.png": [75, 75, 79, 79],
            "general/img_lose.png": [97, 117, 97, 117],
            "general/img_main_bottom.png": [29, 89, 29, 89],
            "general/img_main_bottom_2.png": [8, 89, 8, 89],
            "general/img_marquee_bg.png": [54, 34, 54, 34],
            "general/img_mat_bg.png": [87, 159, 87, 159],
            "general/img_medal_mvp.png": [124, 45, 125, 46],
            "general/img_new.png": [28, 28, 28, 28],
            "general/img_new_g.png": [28, 28, 28, 28],
            "general/img_new_l.png": [47, 48, 48, 49],
            "general/img_new_y.png": [28, 28, 28, 28],
            "general/img_opponent.png": [54, 26, 54, 30],
            "general/img_page_bg.png": [42, 119, 42, 119],
            "general/img_page_right.png": [36, 40, 36, 40],
            "general/img_panel_active_indicator.png": [64, 64, 64, 64],
            "general/img_poke_info_bg.png": [71, 81, 71, 81],
            "general/img_pokemonBall.png": [204, 205, 349, 349],
            "general/img_progress_bg.png": [23, 26, 23, 26],
            "general/img_progress_bg2.png": [23, 26, 23, 26],
            "general/img_progress_fg.png": [19, 20, 23, 26],
            "general/img_progress_fg2.png": [19, 20, 23, 26],
            "general/img_pvp_bottom_bg.png": [174, 105, 174, 105],
            "general/img_pvp_bottom_split.png": [3, 105, 3, 105],
            "general/img_pvp_pillar.png": [178, 329, 178, 329],
            "general/img_pvp_product_bottom.png": [179, 42, 179, 42],
            "general/img_pvp_win_1.png": [166, 167, 166, 167],
            "general/img_pvp_win_2.png": [166, 167, 166, 167],
            "general/img_pvp_win_3.png": [166, 167, 166, 167],
            "general/img_pvp_win_4.png": [166, 167, 166, 167],
            "general/img_pvp_win_5.png": [166, 167, 166, 167],
            "general/img_rank_0.png": [29, 45, 30, 46],
            "general/img_rank_01.png": [72, 105, 72, 105],
            "general/img_rank_02.png": [72, 94, 72, 105],
            "general/img_rank_03.png": [72, 94, 72, 105],
            "general/img_rank_1.png": [17, 45, 30, 46],
            "general/img_rank_2.png": [29, 46, 30, 46],
            "general/img_rank_3.png": [29, 45, 30, 46],
            "general/img_rank_4.png": [30, 45, 30, 46],
            "general/img_rank_5.png": [29, 45, 30, 46],
            "general/img_rank_6.png": [29, 45, 30, 46],
            "general/img_rank_7.png": [29, 45, 30, 46],
            "general/img_rank_8.png": [29, 45, 30, 46],
            "general/img_rank_9.png": [29, 45, 30, 46],
            "general/img_rank_S1.png": [108, 90, 113, 90],
            "general/img_rank_bg_1.png": [38, 95, 38, 95],
            "general/img_rank_bg_2.png": [38, 95, 38, 95],
            "general/img_rank_bg_3.png": [38, 95, 38, 95],
            "general/img_rank_bg_n.png": [38, 95, 38, 95],
            "general/img_rank_name_bg_1.png": [28, 39, 28, 39],
            "general/img_rank_name_bg_2.png": [28, 39, 28, 39],
            "general/img_rank_name_bg_3.png": [28, 39, 28, 39],
            "general/img_rank_null.png": [86, 27, 87, 34],
            "general/img_rank_season.png": [217, 66, 217, 93],
            "general/img_recharge_4th.png": [80, 81, 80, 81],
            "general/img_recharge_bg.png": [302, 188, 302, 188],
            "general/img_recharge_double.png": [82, 66, 82, 66],
            "general/img_recharge_double_test.png": [107, 86, 107, 86],
            "general/img_recharge_gift.png": [87, 82, 87, 82],
            "general/img_recharge_once.png": [80, 81, 80, 81],
            "general/img_recharge_vip.png": [114, 103, 114, 103],
            "general/img_recommend_bg.png": [84, 260, 84, 260],
            "general/img_region_full.png": [55, 55, 55, 55],
            "general/img_region_new.png": [55, 55, 55, 55],
            "general/img_region_recommend.png": [55, 55, 55, 55],
            "general/img_room_leader.png": [71, 27, 71, 27],
            "general/img_room_rookie.png": [71, 27, 71, 27],
            "general/img_self.png": [50, 24, 52, 30],
            "general/img_shop_buy_bg.png": [38, 594, 38, 594],
            "general/img_shop_top_bg.png": [4, 130, 4, 130],
            "general/img_slot.png": [105, 106, 105, 106],
            "general/img_status_rect.png": [139, 74, 139, 74],
            "general/img_tip_bg.png": [171, 216, 171, 216],
            "general/img_tip_bg2.png": [112, 90, 128, 106],
            "general/img_tip_bg3.png": [201, 142, 217, 158],
            "general/img_title_bg.png": [216, 73, 216, 73],
            "general/img_title_bg_1.png": [307, 47, 307, 47],
            "general/img_title_bg_2.png": [188, 66, 188, 66],
            "general/img_title_decoration.png": [154, 17, 154, 17],
            "general/img_toast_bg.png": [88, 84, 92, 87],
            "general/img_triangle.png": [29, 27, 33, 31],
            "general/img_troop_bg.png": [220, 110, 220, 110],
            "general/img_troop_bg_1.png": [55, 56, 55, 56],
            "general/img_troop_bg_2.png": [67, 78, 67, 78],
            "general/img_troop_bg_2_s.png": [49, 48, 49, 48],
            "general/img_troop_bg_2_s2.png": [67, 31, 67, 31],
            "general/img_troop_bg_3.png": [40, 45, 40, 45],
            "general/img_troop_bg_4.png": [54, 54, 54, 54],
            "general/img_troop_bg_6.png": [48, 31, 48, 31],
            "general/img_troop_bg_7.png": [38, 67, 38, 67],
            "general/img_troop_bg_8.png": [208, 342, 208, 342],
            "general/img_troop_bg_9.png": [32, 33, 32, 33],
            "general/img_troop_defend.png": [44, 44, 44, 44],
            "general/img_troop_light.png": [71, 70, 71, 70],
            "general/img_troop_page_bg.png": [42, 125, 42, 125],
            "general/img_troop_title_bg.png": [42, 52, 42, 52],
            "general/img_troop_win.png": [141, 137, 141, 137],
            "general/img_troop_x.png": [39, 42, 39, 42],
            "general/img_ui_scene_back.png": [112, 59, 113, 63],
            "general/img_uion_select_bg.png": [48, 172, 48, 172],
            "general/img_uion_upper_bg.png": [39, 258, 39, 258],
            "general/img_union_chat_oppo.png": [67, 51, 67, 51],
            "general/img_union_chat_self.png": [67, 51, 67, 51],
            "general/img_union_elder.png": [121, 39, 121, 39],
            "general/img_union_leader.png": [121, 39, 121, 39],
            "general/img_union_pvp.png": [43, 41, 43, 41],
            "general/img_union_task_panel.png": [76, 95, 78, 98],
            "general/img_union_title.png": [77, 73, 77, 73],
            "general/img_unknown.png": [114, 193, 114, 193],
            "general/img_vip.png": [118, 107, 118, 107],
            "general/img_vip_value_bg.png": [105, 30, 105, 30],
            "general/img_vs.png": [199, 102, 204, 103],
            "general/img_vs_s.png": [54, 37, 54, 37],
            "general/img_win.png": [97, 117, 97, 117],
            "general/img_win_all_count_bg.png": [140, 82, 140, 82],
            "general/img_win_daily_count_bg.png": [140, 82, 140, 82],
            "general/input_box_bg.png": [36, 39, 37, 40],
            "general/invite_reward.png": [100, 25, 100, 29],
            "general/invite_tips.png": [382, 130, 382, 130],
            "general/invited.png": [74, 25, 74, 29],
            "general/left_panel_bg.png": [115, 93, 116, 94],
            "general/light_point.png": [16, 42, 16, 42],
            "general/mail_detail.png": [94, 63, 94, 63],
            "general/main_bg_bottom.png": [58, 89, 58, 89],
            "general/main_bg_bottom_shadow.png": [268, 83, 268, 83],
            "general/main_bg_top.png": [56, 69, 56, 69],
            "general/main_bg_top_2.png": [375, 88, 375, 88],
            "general/my_split_line.png": [3, 56, 3, 56],
            "general/passed_bg.png": [108, 40, 110, 40],
            "general/rank_bg.png": [244, 40, 244, 40],
            "general/right_panel_bg.png": [24, 28, 24, 28],
            "general/right_panel_edge.png": [56, 28, 56, 28],
            "general/room_left_bg.png": [117, 215, 117, 215],
            "general/room_player_unknown.png": [84, 110, 88, 114],
            "general/room_right_bg.png": [113, 215, 113, 215],
            "general/room_top_bg.png": [338, 257, 338, 257],
            "general/split_line.png": [3, 50, 3, 50],
            "general/split_line_up.png": [3, 63, 3, 63],
            "general/troop_bg.png": [4, 365, 4, 365],
            "general/union_communication_0.png": [54, 75, 54, 75],
            "general/union_let_bg.png": [78, 79, 78, 79],
            "general/union_task_addition.png": [90, 86, 90, 86],
            "general/union_task_bg.png": [75, 565, 75, 565],
            "general/union_task_bonus.png": [41, 21, 42, 24],
            "general/union_task_condition.png": [43, 21, 43, 25],
            "general/union_task_monster_tips.png": [96, 48, 96, 48],
            "general/union_task_title.png": [213, 32, 213, 32],
            "general/wait_text_bg.png": [47, 42, 47, 42],
            "general/win_lose_bg.png": [1296, 16, 1296, 16],
            "guide/guide_dialog_arrow.png": [49, 46, 49, 46],
            "guide/guide_dialog_bg.png": [560, 177, 560, 177],
            "guide/guide_dialog_name_bg.png": [211, 52, 211, 52],
            "guide/guide_gender_bg_focus.png": [64, 98, 64, 98],
            "guide/guide_gender_bg_unfocus.png": [64, 98, 64, 98],
            "guide/guide_gender_icon_female.png": [40, 49, 40, 49],
            "guide/guide_gender_icon_male.png": [44, 45, 48, 49],
            "guide/guide_gender_title_female.png": [33, 29, 60, 34],
            "guide/guide_gender_title_male.png": [50, 29, 60, 34],
            "img/activity_84.png": [1664, 1024, 1664, 1024],
            "img/activity_85.png": [1664, 1024, 1664, 1024],
            "img/activity_86.png": [1664, 1024, 1664, 1024],
            "img/activity_87.png": [1664, 1024, 1664, 1024],
            "img/activity_87_android.png": [1664, 1024, 1664, 1024],
            "img/activity_ad_87.png": [1171, 680, 1366, 768],
            "img/activity_daily_gift_6.png": [1663, 1023, 1664, 1024],
            "img/activity_feedback.png": [1663, 1023, 1664, 1024],
            "img/activity_first_recharge.png": [1663, 1023, 1664, 1024],
            "img/activity_first_recharge_ad.png": [1169, 680, 1169, 680],
            "img/activity_free_month_card_0.png": [442, 307, 442, 307],
            "img/activity_free_month_card_1.png": [753, 116, 757, 120],
            "img/activity_fund.png": [301, 709, 302, 710],
            "img/activity_fund_2.png": [301, 709, 302, 710],
            "img/activity_package.png": [1168, 679, 1169, 680],
            "img/activity_pay_bg.png": [1664, 1024, 1664, 1024],
            "img/activity_pay_large_1.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_198.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_30.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_31.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_32.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_328.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_33.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_34.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_35.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_36.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_37.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_38.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_39.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_6.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_large_98.png": [1663, 1023, 1664, 1024],
            "img/activity_pay_lh_1.png": [338, 312, 339, 312],
            "img/activity_pay_lh_2.png": [470, 378, 470, 378],
            "img/activity_pay_lh_3.png": [327, 313, 327, 313],
            "img/activity_pay_wz_1.png": [778, 102, 783, 115],
            "img/activity_pay_wz_2.png": [753, 101, 770, 110],
            "img/activity_pay_wz_3.png": [714, 103, 733, 110],
            "img/activity_pay_wz_bg.png": [686, 141, 692, 177],
            "img/ad_12.png": [825, 426, 826, 431],
            "img/ad_package_09.png": [144, 30, 144, 34],
            "img/add_card_bg.png": [274, 414, 274, 414],
            "img/avatar_image_0000.png": [278, 608, 278, 608],
            "img/avatar_image_0201.png": [278, 608, 278, 608],
            "img/avatar_image_0202.png": [278, 608, 278, 608],
            "img/avatar_image_0301.png": [278, 608, 278, 608],
            "img/avatar_image_0302.png": [278, 608, 278, 608],
            "img/avatar_image_0401.png": [278, 608, 278, 608],
            "img/avatar_image_0402.png": [278, 608, 278, 608],
            "img/bat_loading_bg1.png": [1024, 576, 1024, 576],
            "img/bat_loading_bg2.png": [1024, 576, 1024, 576],
            "img/bat_loading_bg3.png": [1024, 576, 1024, 576],
            "img/bat_loading_bg4.png": [1024, 576, 1024, 576],
            "img/bat_loading_bg5.png": [1024, 576, 1024, 576],
            "img/bat_loading_bg6.png": [1024, 576, 1024, 576],
            "img/bat_loading_frame.png": [512, 96, 512, 96],
            "img/bat_passed_bg.png": [718, 67, 719, 68],
            "img/bat_scene_1_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_1_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_2_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_2_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_3_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_3_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_4_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_4_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_5_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_5_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_6_bg.png": [1664, 1024, 1664, 1024],
            "img/bat_scene_6_bg_4x.png": [1664, 1024, 1664, 1024],
            "img/battle_bg.png": [1664, 1024, 1664, 1024],
            "img/battle_help_1.png": [1125, 545, 1146, 564],
            "img/battle_help_2.png": [1125, 545, 1146, 564],
            "img/battle_help_3.png": [1088, 537, 1146, 564],
            "img/battle_help_4.png": [963, 530, 972, 534],
            "img/battle_help_5.png": [850, 514, 868, 514],
            "img/begginner7days_task.png": [1115, 170, 1116, 170],
            "img/book_lottery_bg.png": [512, 288, 512, 288],
            "img/card_manage_bg.png": [1664, 1024, 1664, 1024],
            "img/change_character_bg.png": [1664, 1024, 1664, 1024],
            "img/chapter_bg.png": [2048, 1024, 2048, 1024],
            "img/city_bg_01.png": [1664, 1024, 1664, 1024],
            "img/diamond_shop_0.png": [302, 592, 303, 593],
            "img/dule_arena_door.png": [1664, 768, 1664, 768],
            "img/enhance_1.png": [530, 308, 531, 309],
            "img/enhance_2.png": [530, 308, 531, 309],
            "img/enhance_3.png": [530, 308, 531, 309],
            "img/enhance_4.png": [530, 308, 531, 309],
            "img/enhance_tavern.png": [199, 140, 200, 141],
            "img/enhance_troop.png": [199, 140, 200, 141],
            "img/find_match_bg.png": [512, 288, 512, 288],
            "img/gacha_ad_1010.png": [328, 704, 329, 704],
            "img/gacha_ad_102.png": [328, 704, 329, 704],
            "img/gacha_ad_1020.png": [328, 704, 329, 704],
            "img/gacha_ad_103.png": [328, 704, 329, 704],
            "img/gacha_ad_104.png": [328, 704, 329, 704],
            "img/gacha_ad_105.png": [328, 704, 329, 704],
            "img/gacha_ad_151.png": [328, 704, 329, 704],
            "img/gacha_ad_152.png": [328, 704, 329, 704],
            "img/gacha_ad_153.png": [328, 704, 329, 704],
            "img/gacha_ad_154.png": [328, 704, 329, 704],
            "img/gacha_ad_155.png": [328, 704, 329, 704],
            "img/gacha_ad_156.png": [328, 704, 329, 704],
            "img/gacha_ad_157.png": [328, 704, 329, 704],
            "img/gacha_ad_201.png": [328, 704, 329, 704],
            "img/gacha_ad_2010.png": [328, 704, 329, 704],
            "img/gacha_ad_202.png": [328, 704, 329, 704],
            "img/gacha_ad_203.png": [328, 704, 329, 704],
            "img/gacha_ad_204.png": [328, 704, 329, 704],
            "img/gacha_ad_2601.png": [330, 706, 331, 706],
            "img/gacha_bg.png": [1664, 1024, 1664, 1024],
            "img/girl_invite.png": [1116, 195, 1117, 196],
            "img/girl_recharge.png": [554, 745, 554, 745],
            "img/god_pump_bg.png": [1366, 768, 1366, 768],
            "img/group_avatar_selected.png": [151, 182, 151, 182],
            "img/guide_bg.png": [1664, 1024, 1664, 1024],
            "img/hall_area_bg.png": [1664, 1023, 1664, 1023],
            "img/hall_in_room_bg.png": [1664, 1024, 1664, 1024],
            "img/ic_nature_01.png": [123, 123, 123, 123],
            "img/ic_nature_02.png": [122, 122, 122, 122],
            "img/ic_nature_03.png": [122, 122, 122, 122],
            "img/ic_nature_04.png": [122, 122, 122, 122],
            "img/ic_nature_05.png": [122, 122, 122, 122],
            "img/ic_nature_06.png": [122, 122, 122, 122],
            "img/ic_nature_07.png": [123, 122, 123, 122],
            "img/ic_nature_08.png": [122, 122, 122, 122],
            "img/ic_nature_09.png": [122, 122, 122, 122],
            "img/ic_nature_10.png": [123, 122, 123, 122],
            "img/ic_nature_11.png": [122, 122, 122, 122],
            "img/illustration_panel.png": [426, 737, 426, 737],
            "img/img_achievement_bg.png": [918, 68, 918, 68],
            "img/img_activity_1.png": [512, 139, 512, 139],
            "img/img_activity_2.png": [512, 139, 512, 139],
            "img/img_activity_3.png": [512, 139, 512, 139],
            "img/img_activity_3_android.png": [512, 139, 512, 139],
            "img/img_activity_4.png": [512, 139, 512, 139],
            "img/img_activity_5.png": [512, 139, 512, 139],
            "img/img_battle_bg_1.png": [362, 362, 362, 362],
            "img/img_battle_bg_2.png": [362, 362, 362, 362],
            "img/img_battle_bg_3.png": [362, 362, 362, 362],
            "img/img_battle_bg_4.png": [362, 362, 362, 362],
            "img/img_battle_bg_5.png": [362, 362, 362, 362],
            "img/img_character_bg.png": [159, 165, 222, 174],
            "img/img_character_focus_bg.png": [193, 174, 222, 174],
            "img/img_character_info_0201.png": [426, 600, 427, 601],
            "img/img_character_info_0301.png": [426, 600, 427, 601],
            "img/img_character_info_0401.png": [426, 600, 427, 601],
            "img/img_character_info_0501.png": [426, 600, 427, 601],
            "img/img_character_name_0201.png": [436, 85, 437, 86],
            "img/img_character_name_0301.png": [436, 85, 437, 86],
            "img/img_character_name_0401.png": [436, 85, 437, 86],
            "img/img_character_name_0501.png": [437, 87, 438, 88],
            "img/img_icon_dice.png": [68, 69, 68, 70],
            "img/img_levelup_bg.png": [237, 200, 237, 200],
            "img/img_month_card_1.png": [340, 551, 341, 552],
            "img/img_month_card_2.png": [340, 551, 341, 552],
            "img/img_month_card_3.png": [340, 551, 341, 552],
            "img/img_month_card_bg.png": [1664, 1024, 1664, 1024],
            "img/img_month_card_reward_bg9.png": [55, 50, 55, 50],
            "img/img_payment_gift.png": [1663, 1023, 1664, 1024],
            "img/img_tb1.png": [312, 493, 313, 494],
            "img/img_tb2.png": [312, 493, 313, 494],
            "img/img_tb3.png": [312, 493, 313, 494],
            "img/img_tbx.png": [312, 493, 313, 494],
            "img/img_troop_electric.png": [327, 262, 327, 263],
            "img/img_troop_fire.png": [357, 276, 357, 276],
            "img/img_troop_grass.png": [276, 255, 276, 255],
            "img/img_troop_water.png": [333, 260, 333, 260],
            "img/img_ui_snow_1.png": [155, 50, 156, 50],
            "img/img_ui_snow_2.png": [280, 54, 280, 54],
            "img/img_word_lord.png": [381, 71, 382, 72],
            "img/img_word_union.png": [381, 71, 382, 72],
            "img/img_word_vip.png": [381, 71, 382, 72],
            "img/img_x.png": [1664, 768, 1664, 768],
            "img/in_room_bg.png": [1366, 768, 1366, 768],
            "img/invite_bg.png": [1106, 672, 1109, 673],
            "img/load_btn_agreement.png": [59, 66, 60, 70],
            "img/load_btn_server.png": [73, 94, 73, 95],
            "img/loading0.png": [1664, 1024, 1664, 1024],
            "img/lottery_bg.png": [1664, 768, 1664, 768],
            "img/month_chekin_panel_01.png": [272, 462, 272, 462],
            "img/month_chekin_panel_02.png": [272, 462, 272, 462],
            "img/month_chekin_panel_03.png": [272, 462, 272, 462],
            "img/my_group_bg.png": [492, 121, 492, 121],
            "img/package_bg.png": [78, 608, 78, 608],
            "img/palace_bg.png": [512, 288, 512, 288],
            "img/props_ico_7207_todo.png": [76, 76, 76, 76],
            "img/recommend_bg.png": [548, 107, 548, 107],
            "img/skin_bg.png": [516, 282, 516, 282],
            "img/skin_frame.png": [256, 256, 256, 256],
            "img/ui_scene_bg.png": [1664, 1024, 1664, 1024],
            "img/vs_npc.png": [546, 679, 546, 679],
            "particle/1.png": [63, 64, 64, 64],
            "particle/2.png": [150, 145, 150, 145],
            "particle/4.png": [84, 84, 84, 84],
            "particle/bg_2.png": [63, 64, 64, 64],
            "particle/dalian.png": [29, 29, 32, 32],
            "particle/dangqian.png": [54, 54, 54, 54],
            "particle/dianji.png": [16, 16, 17, 17],
            "particle/feijb.png": [38, 38, 38, 38],
            "particle/feitili.png": [30, 48, 30, 48],
            "particle/guang_l.png": [396, 229, 396, 396],
            "particle/huo.png": [256, 256, 256, 256],
            "particle/jiesuo.png": [273, 63, 281, 106],
            "particle/jindutiao.png": [64, 64, 64, 64],
            "particle/jinhuaxx.png": [345, 328, 500, 500],
            "particle/jizhong.png": [254, 254, 256, 256],
            "particle/jsb1.png": [90, 68, 100, 100],
            "particle/jsb2.png": [244, 232, 256, 256],
            "particle/juedou.png": [128, 128, 128, 128],
            "particle/kaishichoujiang.png": [102, 128, 128, 128],
            "particle/leiya.png": [128, 128, 128, 128],
            "particle/lhlj.png": [114, 116, 117, 118],
            "particle/mohe1.png": [127, 128, 128, 128],
            "particle/n_bg.png": [64, 64, 64, 64],
            "particle/n_dg1.png": [321, 314, 454, 340],
            "particle/n_jg2.png": [128, 25, 128, 128],
            "particle/par_anlang1.png": [102, 128, 128, 128],
            "particle/par_announcement1.png": [63, 64, 64, 64],
            "particle/par_announcement2.png": [156, 138, 156, 138],
            "particle/par_baoza.png": [254, 254, 256, 256],
            "particle/par_bbcy2.png": [200, 200, 200, 200],
            "particle/par_binglen.png": [450, 512, 512, 512],
            "particle/par_bingshu_2.png": [246, 246, 256, 256],
            "particle/par_blacksmith_fire.png": [50, 50, 50, 50],
            "particle/par_book_lottery2.png": [29, 29, 32, 32],
            "particle/par_book_lottery3.png": [150, 145, 150, 145],
            "particle/par_book_lottery4.png": [321, 314, 454, 340],
            "particle/par_boss_siwang.png": [56, 59, 56, 59],
            "particle/par_card_evolute1.png": [31, 31, 31, 31],
            "particle/par_card_evolute4.png": [29, 29, 32, 32],
            "particle/par_card_rebirth2.png": [56, 56, 56, 56],
            "particle/par_card_rebirth5.png": [127, 256, 128, 256],
            "particle/par_card_smoke.png": [64, 64, 64, 64],
            "particle/par_card_upgrade1.png": [273, 63, 281, 106],
            "particle/par_chouka01.png": [498, 14, 512, 512],
            "particle/par_chouka02.png": [31, 31, 31, 31],
            "particle/par_chouka05.png": [51, 49, 64, 64],
            "particle/par_cloud.png": [75, 39, 75, 75],
            "particle/par_cs3.png": [64, 64, 64, 64],
            "particle/par_cxyl.png": [246, 246, 256, 256],
            "particle/par_daoge.png": [109, 114, 128, 128],
            "particle/par_djts1.png": [21, 21, 22, 22],
            "particle/par_djts2.png": [64, 64, 64, 64],
            "particle/par_duwu1.png": [96, 108, 128, 128],
            "particle/par_duwu2.png": [256, 256, 256, 256],
            "particle/par_fajiu1.png": [116, 118, 128, 128],
            "particle/par_fajiu2.png": [224, 215, 256, 256],
            "particle/par_falls_4.png": [64, 64, 64, 64],
            "particle/par_grain.png": [49, 58, 56, 59],
            "particle/par_hbxm1.png": [416, 480, 416, 480],
            "particle/par_hd3.png": [23, 23, 23, 23],
            "particle/par_hill_smoke.png": [31, 32, 31, 32],
            "particle/par_huihe.png": [56, 56, 56, 56],
            "particle/par_huo_yan.png": [29, 29, 32, 32],
            "particle/par_jiaxue2.png": [13, 9, 13, 9],
            "particle/par_juhun.png": [160, 159, 160, 159],
            "particle/par_kapaisiwang_1.png": [22, 25, 22, 25],
            "particle/par_kbx2.png": [84, 84, 84, 84],
            "particle/par_kprc01.png": [162, 224, 224, 224],
            "particle/par_kprc03.png": [64, 64, 64, 64],
            "particle/par_lang.png": [194, 101, 194, 101],
            "particle/par_lbss2.png": [66, 61, 67, 61],
            "particle/par_light.png": [64, 64, 64, 64],
            "particle/par_lottery1.png": [9, 64, 64, 64],
            "particle/par_lottery2.png": [60, 64, 64, 64],
            "particle/par_mrsj.png": [181, 182, 181, 182],
            "particle/par_nengliang2.png": [38, 47, 38, 48],
            "particle/par_qiangma_1.png": [25, 29, 25, 29],
            "particle/par_qiangma_2.png": [32, 32, 32, 32],
            "particle/par_qinguo2.png": [66, 61, 67, 61],
            "particle/par_res_collect3.png": [64, 64, 64, 64],
            "particle/par_ronghe01.png": [144, 144, 150, 150],
            "particle/par_shandi_yan.png": [396, 229, 396, 396],
            "particle/par_shuguo_1.png": [25, 29, 25, 29],
            "particle/par_sj1.png": [29, 14, 29, 14],
            "particle/par_sj4.png": [64, 64, 64, 64],
            "particle/par_sssbl1.png": [256, 256, 256, 256],
            "particle/par_sz.png": [20, 20, 20, 20],
            "particle/par_tb_g3.png": [71, 52, 71, 71],
            "particle/par_tpqld1.png": [512, 52, 512, 512],
            "particle/par_tpqld3.png": [114, 115, 115, 115],
            "particle/par_yhc.png": [20, 20, 20, 20],
            "particle/sdlw.png": [29, 29, 32, 32],
            "particle/swdl3.png": [77, 121, 77, 121],
            "particle/sz1.png": [79, 108, 110, 110],
            "particle/tuodong.png": [23, 26, 23, 26],
            "particle/v11.png": [53, 62, 64, 64],
            "particle/xuwang1.png": [363, 324, 500, 500],
            "particle/yan.png": [31, 32, 31, 32],
            "particle/ydwz05.png": [118, 120, 128, 128],
            "particle/yl_6039.png": [189, 184, 200, 200],
            "particle/zcqf_yhc.png": [20, 20, 20, 20],
            "qizi_hong.png": [0, 0, 283, 1171],
            "spine/baiyinyueka.png": [810, 206, 1024, 256],
            "spine/baoxiang.png": [1e3, 243, 1024, 256],
            "spine/baozha.png": [652, 550, 654, 552],
            "spine/biaoqing.png": [976, 1004, 1024, 1024],
            "spine/bingdong.png": [1010, 490, 1024, 512],
            "spine/bwft.png": [966, 1018, 1024, 1024],
            "spine/bxklq.png": [312, 240, 512, 256],
            "spine/caizhong.png": [1001, 486, 1024, 512],
            "spine/caoxi.png": [1016, 512, 1024, 512],
            "spine/chapter_01_monster_01.png": [508, 62, 512, 64],
            "spine/chapter_02_monster_01.png": [122, 123, 128, 128],
            "spine/chapter_03_monster_01.png": [218, 107, 256, 128],
            "spine/chapter_04_monster_01.png": [248, 110, 256, 128],
            "spine/chxh.png": [247, 245, 256, 256],
            "spine/ciji.png": [995, 496, 1024, 512],
            "spine/ck.png": [1340, 295, 1344, 299],
            "spine/ck2.png": [1340, 295, 1344, 299],
            "spine/dafeng.png": [1216, 215, 1222, 215],
            "spine/dahuo.png": [1004, 492, 1024, 512],
            "spine/damuboshi.png": [1020, 508, 1024, 512],
            "spine/dangqianguanka.png": [131, 219, 256, 256],
            "spine/dashui.png": [361, 1030, 365, 1036],
            "spine/ddj.png": [1088, 539, 1094, 543],
            "spine/dengdai.png": [219, 94, 225, 98],
            "spine/dgz.png": [1584, 256, 2048, 256],
            "spine/di.png": [776, 222, 1024, 256],
            "spine/dianxi.png": [1016, 512, 1024, 512],
            "spine/dikang.png": [892, 252, 1024, 256],
            "spine/dj.png": [392, 1056, 395, 1058],
            "spine/ds.png": [458, 1067, 460, 1069],
            "spine/duanwei.png": [1008, 990, 1024, 1024],
            "spine/duanwei_s.png": [904, 252, 1024, 256],
            "spine/duanweitisheng.png": [772, 851, 1024, 1024],
            "spine/duijueanniu.png": [881, 463, 1024, 512],
            "spine/duijuedating.png": [1019, 1012, 1024, 1024],
            "spine/duijuemaoxian.png": [760, 510, 1024, 512],
            "spine/duwu.png": [884, 200, 1024, 256],
            "spine/duzhen.png": [1e3, 508, 1024, 512],
            "spine/duzt.png": [510, 246, 512, 256],
            "spine/feiyekuaidao.png": [614, 506, 1024, 512],
            "spine/fengling.png": [447, 59, 514, 66],
            "spine/fengwxunzhang.png": [68, 31, 128, 64],
            "spine/gangxi.png": [1692, 295, 1717, 299],
            "spine/gddj.png": [1022, 197, 1024, 199],
            "spine/gedouxi.png": [1692, 295, 1717, 299],
            "spine/goumaichenggong.png": [402, 414, 512, 512],
            "spine/goumaizuanshi.png": [1013, 252, 1024, 256],
            "spine/guafeng.png": [976, 316, 979, 320],
            "spine/guangshu.png": [1082, 192, 1086, 192],
            "spine/guochang.png": [128, 166, 256, 256],
            "spine/guochang2.png": [201, 207, 256, 256],
            "spine/guoguantiaojian.png": [900, 103, 1028, 132],
            "spine/heidong.png": [436, 508, 439, 516],
            "spine/huangjinyueka.png": [814, 206, 1024, 256],
            "spine/huanguan.png": [339, 252, 512, 256],
            "spine/huichen.png": [304, 236, 512, 256],
            "spine/huihe.png": [1021, 252, 1024, 256],
            "spine/huodong.png": [466, 124, 512, 128],
            "spine/huoxi.png": [1016, 512, 1024, 512],
            "spine/huoyan.png": [1012, 1022, 1024, 1024],
            "spine/huozt.png": [305, 234, 512, 256],
            "spine/jiangbei.png": [375, 252, 512, 256],
            "spine/jiantou.png": [86, 113, 90, 117],
            "spine/jiaxue.png": [596, 153, 598, 157],
            "spine/jibanjiantou.png": [68, 49, 128, 64],
            "spine/jieshuhongse.png": [128, 128, 256, 256],
            "spine/jieshulanse.png": [128, 128, 256, 256],
            "spine/jinbi.png": [32, 28, 64, 32],
            "spine/jinbi2.png": [27, 17, 32, 32],
            "spine/jinbi3.png": [51, 56, 64, 64],
            "spine/jingjidamen.png": [1982, 1012, 2048, 1024],
            "spine/jinglingqiu.png": [492, 122, 512, 128],
            "spine/jinu.png": [533, 92, 535, 96],
            "spine/jishengzhongzi.png": [982, 1018, 1024, 1024],
            "spine/jnl.png": [373, 128, 375, 130],
            "spine/juedoudatingvs.png": [326, 204, 512, 256],
            "spine/jueze.png": [1230, 226, 2048, 256],
            "spine/jueze2.png": [1230, 226, 2048, 256],
            "spine/kaishi.png": [206, 112, 256, 128],
            "spine/kelingjiang.png": [128, 112, 256, 128],
            "spine/ko.png": [506, 239, 512, 256],
            "spine/kpcz.png": [297, 308, 299, 308],
            "spine/kpcz2.png": [326, 216, 512, 256],
            "spine/kpjh.png": [1002, 506, 1024, 512],
            "spine/kprc05.png": [420, 392, 512, 512],
            "spine/kpsw.png": [995, 496, 1024, 512],
            "spine/kpsz.png": [560, 562, 561, 565],
            "spine/kpxq.png": [32, 39, 36, 43],
            "spine/kuanghuan.png": [1016, 512, 1024, 512],
            "spine/kxzd.png": [480, 246, 512, 256],
            "spine/lihe.png": [1016, 478, 1024, 512],
            "spine/liliai.png": [1007, 1022, 1024, 1024],
            "spine/lingjiangchenggong.png": [402, 410, 516, 516],
            "spine/loading.png": [52, 120, 54, 123],
            "spine/loading2.png": [2014, 1030, 2017, 1034],
            "spine/luodan.png": [350, 483, 512, 512],
            "spine/maoxianditu.png": [2009, 330, 2014, 332],
            "spine/mazhishi.png": [791, 472, 1024, 512],
            "spine/mbzt.png": [360, 436, 512, 512],
            "spine/mdtx.png": [272, 186, 512, 256],
            "spine/menghuo.png": [238, 1028, 242, 1032],
            "spine/miaomiao.png": [952, 199, 1024, 256],
            "spine/miaomiao2.png": [510, 242, 512, 256],
            "spine/mieshibaodan.png": [1018, 1009, 1024, 1024],
            "spine/nazi.png": [941, 474, 1024, 512],
            "spine/nengliang.png": [940, 237, 1024, 256],
            "spine/nengliangqiu.png": [128, 141, 256, 256],
            "spine/nianlixi.png": [1692, 295, 1717, 299],
            "spine/niudantishi.png": [500, 244, 512, 256],
            "spine/panding.png": [502, 118, 512, 128],
            "spine/pingju.png": [1018, 506, 1024, 512],
            "spine/pipei.png": [1962, 498, 2048, 512],
            "spine/pipei2.png": [842, 901, 1024, 1024],
            "spine/ptgj.png": [1106, 256, 1108, 260],
            "spine/rcz.png": [1022, 498, 1024, 512],
            "spine/rdx.png": [996, 252, 1024, 256],
            "spine/rengqiu.png": [412, 508, 512, 512],
            "spine/rnj.png": [949, 471, 1024, 512],
            "spine/ryb.png": [510, 254, 512, 256],
            "spine/shenchou.png": [1016, 512, 1024, 512],
            "spine/shengji.png": [903, 510, 1024, 512],
            "spine/shengli.png": [992, 1010, 1024, 1024],
            "spine/shetuanshengji.png": [276, 194, 512, 256],
            "spine/shibai.png": [1016, 501, 1024, 512],
            "spine/shourukazu.png": [337, 370, 512, 512],
            "spine/shousuo.png": [980, 510, 1024, 512],
            "spine/shuihua.png": [971, 492, 1024, 512],
            "spine/shuimu.png": [994, 940, 1024, 1024],
            "spine/shuixi.png": [1016, 512, 1024, 512],
            "spine/shuizt.png": [205, 219, 256, 256],
            "spine/siyao.png": [975, 431, 1024, 512],
            "spine/szkp.png": [385, 268, 385, 268],
            "spine/tanxian.png": [1016, 512, 1024, 512],
            "spine/tengbian.png": [1022, 882, 1024, 1024],
            "spine/tuika.png": [474, 325, 479, 327],
            "spine/vipshengji.png": [242, 231, 256, 256],
            "spine/vs.png": [1002, 1019, 1024, 1024],
            "spine/wansheng.png": [1003, 976, 1024, 1024],
            "spine/wuzang.png": [1e3, 980, 1024, 1024],
            "spine/xiaocilang.png": [506, 501, 512, 512],
            "spine/xiaogang.png": [1013, 486, 1024, 512],
            "spine/xiaomao.png": [998, 498, 1024, 512],
            "spine/xiaoxia.png": [1020, 506, 1024, 512],
            "spine/xiaozhi.png": [1014, 496, 1024, 512],
            "spine/xipai.png": [957, 248, 1024, 256],
            "spine/xiyoudu1.png": [138, 120, 256, 128],
            "spine/xiyoudu2.png": [16, 82, 16, 128],
            "spine/xuanzhong.png": [385, 268, 385, 268],
            "spine/xuanzhong2.png": [504, 226, 512, 256],
            "spine/yunzt.png": [424, 227, 512, 256],
            "spine/zb.png": [360, 232, 378, 239],
            "spine/zengyi.png": [343, 240, 512, 256],
            "spine/zh.png": [710, 118, 715, 122],
            "spine/zhanchangduijue.png": [934, 234, 1024, 256],
            "spine/zhandouhuifang1.png": [996, 482, 1024, 512],
            "spine/zhandouhuifang2.png": [939, 481, 1024, 512],
            "spine/zhanqie.png": [969, 258, 973, 260],
            "spine/zhongdian.png": [959, 983, 1024, 1024],
            "spine/zhongshui.png": [1e3, 952, 1024, 1024],
            "spine/zhuangtai.png": [476, 232, 512, 256],
            "spine/zhuazi.png": [807, 505, 1024, 512],
            "spine/zjl.png": [2037, 252, 2048, 256],
            "spine/zszq.png": [783, 986, 1024, 1024],
            "spine/zuanshi1.png": [32, 28, 64, 32],
            "spine/zuanshi2.png": [27, 17, 32, 32],
            "spine/zuanshi3.png": [65, 53, 128, 64],
            "spine/zuanshi4.png": [65, 53, 128, 64],
            "spine/zuanshiyueka.png": [814, 206, 1024, 256],
            "thumb_atk/10001_atk.png": [200, 157, 200, 157],
            "thumb_atk/10002_atk.png": [200, 157, 200, 157],
            "thumb_atk/10003_atk.png": [200, 157, 200, 157],
            "thumb_atk/10004_atk.png": [200, 157, 200, 157],
            "thumb_atk/10005_atk.png": [200, 157, 200, 157],
            "thumb_atk/10006_atk.png": [200, 157, 200, 157],
            "thumb_atk/10007_atk.png": [200, 157, 200, 157],
            "thumb_atk/10008_atk.png": [200, 157, 200, 157],
            "thumb_atk/10009_atk.png": [200, 157, 200, 157],
            "thumb_atk/10010_atk.png": [200, 157, 200, 157],
            "thumb_atk/10011_atk.png": [200, 157, 200, 157],
            "thumb_atk/10012_atk.png": [200, 157, 200, 157],
            "thumb_atk/10013_atk.png": [200, 157, 200, 157],
            "thumb_atk/10014_atk.png": [200, 157, 200, 157],
            "thumb_atk/10015_atk.png": [200, 157, 200, 157],
            "thumb_atk/10016_atk.png": [200, 157, 200, 157],
            "thumb_atk/10017_atk.png": [200, 157, 200, 157],
            "thumb_atk/10018_atk.png": [200, 157, 200, 157],
            "thumb_atk/10019_atk.png": [200, 157, 200, 157],
            "thumb_atk/10020_atk.png": [200, 157, 200, 157],
            "thumb_atk/10021_atk.png": [200, 157, 200, 157],
            "thumb_atk/10022_atk.png": [200, 157, 200, 157],
            "thumb_atk/10023_atk.png": [200, 157, 200, 157],
            "thumb_atk/10024_atk.png": [200, 157, 200, 157],
            "thumb_atk/10025_atk.png": [200, 157, 200, 157],
            "thumb_atk/10026_atk.png": [200, 157, 200, 157],
            "thumb_atk/10027_atk.png": [200, 157, 200, 157],
            "thumb_atk/10028_atk.png": [200, 157, 200, 157],
            "thumb_atk/10029_atk.png": [200, 157, 200, 157],
            "thumb_atk/10030_atk.png": [200, 157, 200, 157],
            "thumb_atk/10031_atk.png": [200, 157, 200, 157],
            "thumb_atk/10032_atk.png": [200, 157, 200, 157],
            "thumb_atk/10033_atk.png": [200, 157, 200, 157],
            "thumb_atk/10034_atk.png": [200, 157, 200, 157],
            "thumb_atk/10035_atk.png": [200, 157, 200, 157],
            "thumb_atk/10036_atk.png": [200, 157, 200, 157],
            "thumb_atk/10037_atk.png": [200, 157, 200, 157],
            "thumb_atk/10038_atk.png": [200, 157, 200, 157],
            "thumb_atk/10039_atk.png": [200, 157, 200, 157],
            "thumb_atk/10040_atk.png": [200, 157, 200, 157],
            "thumb_atk/10041_atk.png": [200, 157, 200, 157],
            "thumb_atk/10042_atk.png": [200, 157, 200, 157],
            "thumb_atk/10043_atk.png": [200, 157, 200, 157],
            "thumb_atk/10044_atk.png": [200, 157, 200, 157],
            "thumb_atk/10045_atk.png": [200, 157, 200, 157],
            "thumb_atk/10046_atk.png": [200, 157, 200, 157],
            "thumb_atk/10047_atk.png": [200, 157, 200, 157],
            "thumb_atk/10048_atk.png": [200, 157, 200, 157],
            "thumb_atk/10049_atk.png": [200, 157, 200, 157],
            "thumb_atk/10050_atk.png": [200, 157, 200, 157],
            "thumb_atk/10051_atk.png": [200, 157, 200, 157],
            "thumb_atk/10052_atk.png": [200, 157, 200, 157],
            "thumb_atk/10053_atk.png": [200, 157, 200, 157],
            "thumb_atk/10054_atk.png": [200, 157, 200, 157],
            "thumb_atk/10055_atk.png": [200, 157, 200, 157],
            "thumb_atk/10056_atk.png": [200, 157, 200, 157],
            "thumb_atk/10057_atk.png": [200, 157, 200, 157],
            "thumb_atk/10502_atk.png": [200, 157, 200, 157],
            "thumb_atk/10505_atk.png": [200, 157, 200, 157],
            "thumb_atk/10513_atk.png": [200, 157, 200, 157],
            "thumb_atk/10536_atk.png": [200, 157, 200, 157],
            "thumb_atk/11001_atk.png": [200, 157, 200, 157],
            "thumb_atk/11002_atk.png": [200, 157, 200, 157],
            "thumb_atk/11003_atk.png": [200, 157, 200, 157],
            "thumb_atk/11004_atk.png": [200, 157, 200, 157],
            "thumb_atk/11005_atk.png": [200, 157, 200, 157],
            "thumb_atk/11006_atk.png": [200, 157, 200, 157],
            "thumb_atk/11007_atk.png": [200, 157, 200, 157],
            "thumb_atk/11008_atk.png": [200, 157, 200, 157],
            "thumb_atk/11009_atk.png": [200, 157, 200, 157],
            "thumb_atk/11010_atk.png": [200, 157, 200, 157],
            "thumb_atk/11011_atk.png": [200, 157, 200, 157],
            "thumb_atk/11012_atk.png": [200, 157, 200, 157],
            "thumb_atk/11013_atk.png": [200, 157, 200, 157],
            "thumb_atk/11014_atk.png": [200, 157, 200, 157],
            "thumb_atk/11015_atk.png": [200, 157, 200, 157],
            "thumb_atk/11016_atk.png": [200, 157, 200, 157],
            "thumb_atk/11017_atk.png": [200, 157, 200, 157],
            "thumb_atk/11018_atk.png": [200, 157, 200, 157],
            "thumb_atk/11019_atk.png": [200, 157, 200, 157],
            "thumb_atk/11020_atk.png": [200, 157, 200, 157],
            "thumb_atk/11021_atk.png": [200, 157, 200, 157],
            "thumb_atk/11022_atk.png": [200, 157, 200, 157],
            "thumb_atk/11023_atk.png": [200, 157, 200, 157],
            "thumb_atk/11024_atk.png": [200, 157, 200, 157],
            "thumb_atk/11025_atk.png": [200, 157, 200, 157],
            "thumb_atk/11026_atk.png": [200, 157, 200, 157],
            "thumb_atk/11027_atk.png": [200, 157, 200, 157],
            "thumb_atk/11028_atk.png": [200, 157, 200, 157],
            "thumb_atk/11029_atk.png": [200, 157, 200, 157],
            "thumb_atk/11030_atk.png": [200, 157, 200, 157],
            "thumb_atk/11031_atk.png": [200, 157, 200, 157],
            "thumb_atk/11032_atk.png": [200, 157, 200, 157],
            "thumb_atk/11033_atk.png": [200, 157, 200, 157],
            "thumb_atk/11034_atk.png": [200, 157, 200, 157],
            "thumb_atk/11035_atk.png": [200, 157, 200, 157],
            "thumb_atk/11036_atk.png": [200, 157, 200, 157],
            "thumb_atk/11037_atk.png": [200, 157, 200, 157],
            "thumb_atk/11038_atk.png": [200, 157, 200, 157],
            "thumb_atk/11502_atk.png": [200, 157, 200, 157],
            "thumb_atk/11510_atk.png": [200, 157, 200, 157],
            "thumb_atk/11512_atk.png": [200, 157, 200, 157],
            "thumb_atk/11515_atk.png": [200, 157, 200, 157],
            "thumb_atk/11522_atk.png": [200, 157, 200, 157],
            "thumb_atk/12001_atk.png": [200, 157, 200, 157],
            "thumb_atk/12002_atk.png": [200, 157, 200, 157],
            "thumb_atk/12003_atk.png": [200, 157, 200, 157],
            "thumb_atk/12004_atk.png": [200, 157, 200, 157],
            "thumb_atk/12005_atk.png": [200, 157, 200, 157],
            "thumb_atk/12006_atk.png": [200, 157, 200, 157],
            "thumb_atk/12007_atk.png": [200, 157, 200, 157],
            "thumb_atk/12008_atk.png": [200, 157, 200, 157],
            "thumb_atk/12009_atk.png": [200, 157, 200, 157],
            "thumb_atk/12010_atk.png": [200, 157, 200, 157],
            "thumb_atk/12011_atk.png": [200, 157, 200, 157],
            "thumb_atk/12012_atk.png": [200, 157, 200, 157],
            "thumb_atk/12013_atk.png": [200, 157, 200, 157],
            "thumb_atk/12014_atk.png": [200, 157, 200, 157],
            "thumb_atk/12015_atk.png": [200, 157, 200, 157],
            "thumb_atk/12016_atk.png": [200, 157, 200, 157],
            "thumb_atk/12017_atk.png": [200, 157, 200, 157],
            "thumb_atk/12018_atk.png": [200, 157, 200, 157],
            "thumb_atk/12019_atk.png": [200, 157, 200, 157],
            "thumb_atk/12020_atk.png": [200, 157, 200, 157],
            "thumb_atk/12021_atk.png": [200, 157, 200, 157],
            "thumb_atk/12022_atk.png": [200, 157, 200, 157],
            "thumb_atk/12023_atk.png": [200, 157, 200, 157],
            "thumb_atk/12024_atk.png": [200, 157, 200, 157],
            "thumb_atk/12025_atk.png": [200, 157, 200, 157],
            "thumb_atk/12026_atk.png": [200, 157, 200, 157],
            "thumb_atk/12027_atk.png": [200, 157, 200, 157],
            "thumb_atk/12028_atk.png": [200, 157, 200, 157],
            "thumb_atk/12029_atk.png": [200, 157, 200, 157],
            "thumb_atk/12030_atk.png": [200, 157, 200, 157],
            "thumb_atk/12031_atk.png": [200, 157, 200, 157],
            "thumb_atk/12032_atk.png": [200, 157, 200, 157],
            "thumb_atk/12033_atk.png": [200, 157, 200, 157],
            "thumb_atk/12034_atk.png": [200, 157, 200, 157],
            "thumb_atk/12035_atk.png": [200, 157, 200, 157],
            "thumb_atk/12036_atk.png": [200, 157, 200, 157],
            "thumb_atk/12037_atk.png": [200, 157, 200, 157],
            "thumb_atk/12038_atk.png": [200, 157, 200, 157],
            "thumb_atk/12039_atk.png": [200, 157, 200, 157],
            "thumb_atk/12040_atk.png": [200, 157, 200, 157],
            "thumb_atk/12041_atk.png": [200, 157, 200, 157],
            "thumb_atk/12042_atk.png": [200, 157, 200, 157],
            "thumb_atk/12043_atk.png": [200, 157, 200, 157],
            "thumb_atk/12044_atk.png": [200, 157, 200, 157],
            "thumb_atk/12045_atk.png": [200, 157, 200, 157],
            "thumb_atk/12046_atk.png": [200, 157, 200, 157],
            "thumb_atk/12502_atk.png": [200, 157, 200, 157],
            "thumb_atk/12515_atk.png": [200, 157, 200, 157],
            "thumb_atk/12521_atk.png": [200, 157, 200, 157],
            "thumb_atk/12522_atk.png": [200, 157, 200, 157],
            "thumb_atk/12525_atk.png": [200, 157, 200, 157],
            "thumb_atk/12534_atk.png": [200, 157, 200, 157],
            "thumb_atk/13001_atk.png": [200, 157, 200, 157],
            "thumb_atk/13002_atk.png": [200, 157, 200, 157],
            "thumb_atk/13003_atk.png": [200, 157, 200, 157],
            "thumb_atk/13004_atk.png": [200, 157, 200, 157],
            "thumb_atk/13005_atk.png": [200, 157, 200, 157],
            "thumb_atk/13006_atk.png": [200, 157, 200, 157],
            "thumb_atk/13007_atk.png": [200, 157, 200, 157],
            "thumb_atk/13008_atk.png": [200, 157, 200, 157],
            "thumb_atk/13009_atk.png": [200, 157, 200, 157],
            "thumb_atk/13010_atk.png": [200, 157, 200, 157],
            "thumb_atk/13011_atk.png": [200, 157, 200, 157],
            "thumb_atk/13012_atk.png": [200, 157, 200, 157],
            "thumb_atk/13013_atk.png": [200, 157, 200, 157],
            "thumb_atk/13014_atk.png": [200, 157, 200, 157],
            "thumb_atk/13015_atk.png": [200, 157, 200, 157],
            "thumb_atk/13016_atk.png": [200, 157, 200, 157],
            "thumb_atk/13017_atk.png": [200, 157, 200, 157],
            "thumb_atk/13018_atk.png": [200, 157, 200, 157],
            "thumb_atk/13019_atk.png": [200, 157, 200, 157],
            "thumb_atk/13020_atk.png": [200, 157, 200, 157],
            "thumb_atk/13021_atk.png": [200, 157, 200, 157],
            "thumb_atk/13022_atk.png": [200, 157, 200, 157],
            "thumb_atk/13023_atk.png": [200, 157, 200, 157],
            "thumb_atk/13024_atk.png": [200, 157, 200, 157],
            "thumb_atk/13025_atk.png": [200, 157, 200, 157],
            "thumb_atk/13026_atk.png": [200, 157, 200, 157],
            "thumb_atk/13027_atk.png": [200, 157, 200, 157],
            "thumb_atk/13028_atk.png": [200, 157, 200, 157],
            "thumb_atk/13029_atk.png": [200, 157, 200, 157],
            "thumb_atk/13030_atk.png": [200, 157, 200, 157],
            "thumb_atk/13031_atk.png": [200, 157, 200, 157],
            "thumb_atk/13032_atk.png": [200, 157, 200, 157],
            "thumb_atk/13033_atk.png": [200, 157, 200, 157],
            "thumb_atk/13034_atk.png": [200, 157, 200, 157],
            "thumb_atk/13035_atk.png": [200, 157, 200, 157],
            "thumb_atk/13036_atk.png": [200, 157, 200, 157],
            "thumb_atk/13037_atk.png": [200, 157, 200, 157],
            "thumb_atk/13038_atk.png": [200, 157, 200, 157],
            "thumb_atk/13039_atk.png": [200, 157, 200, 157],
            "thumb_atk/13040_atk.png": [200, 157, 200, 157],
            "thumb_atk/13041_atk.png": [200, 157, 200, 157],
            "thumb_atk/13042_atk.png": [200, 157, 200, 157],
            "thumb_atk/13043_atk.png": [200, 157, 200, 157],
            "thumb_atk/13512_atk.png": [200, 157, 200, 157],
            "thumb_atk/13513_atk.png": [200, 157, 200, 157],
            "thumb_atk/13522_atk.png": [200, 157, 200, 157],
            "thumb_atk/14001_atk.png": [200, 157, 200, 157],
            "thumb_atk/14002_atk.png": [200, 157, 200, 157],
            "thumb_atk/14003_atk.png": [200, 157, 200, 157],
            "thumb_atk/14004_atk.png": [200, 157, 200, 157],
            "thumb_atk/14005_atk.png": [200, 157, 200, 157],
            "thumb_atk/14006_atk.png": [200, 157, 200, 157],
            "thumb_atk/14007_atk.png": [200, 157, 200, 157],
            "thumb_atk/14008_atk.png": [200, 157, 200, 157],
            "thumb_atk/14009_atk.png": [200, 157, 200, 157],
            "thumb_atk/14010_atk.png": [200, 157, 200, 157],
            "thumb_atk/14011_atk.png": [200, 157, 200, 157],
            "thumb_atk/14012_atk.png": [200, 157, 200, 157],
            "thumb_atk/14013_atk.png": [200, 157, 200, 157],
            "thumb_atk/14014_atk.png": [200, 157, 200, 157],
            "thumb_atk/14015_atk.png": [200, 157, 200, 157],
            "thumb_atk/14016_atk.png": [200, 157, 200, 157],
            "thumb_atk/14017_atk.png": [200, 157, 200, 157],
            "thumb_atk/14018_atk.png": [200, 157, 200, 157],
            "thumb_atk/14019_atk.png": [200, 157, 200, 157],
            "thumb_atk/14020_atk.png": [200, 157, 200, 157],
            "thumb_atk/14021_atk.png": [200, 157, 200, 157],
            "thumb_atk/14022_atk.png": [200, 157, 200, 157],
            "thumb_atk/14023_atk.png": [200, 157, 200, 157],
            "thumb_atk/14024_atk.png": [200, 157, 200, 157],
            "thumb_atk/14025_atk.png": [200, 157, 200, 157],
            "thumb_atk/14026_atk.png": [200, 157, 200, 157],
            "thumb_atk/14027_atk.png": [200, 157, 200, 157],
            "thumb_atk/14028_atk.png": [200, 157, 200, 157],
            "thumb_atk/14029_atk.png": [200, 157, 200, 157],
            "thumb_atk/14030_atk.png": [200, 157, 200, 157],
            "thumb_atk/14031_atk.png": [200, 157, 200, 157],
            "thumb_atk/14502_atk.png": [200, 157, 200, 157],
            "thumb_atk/14504_atk.png": [200, 157, 200, 157],
            "thumb_atk/14505_atk.png": [200, 157, 200, 157],
            "thumb_atk/14506_atk.png": [200, 157, 200, 157],
            "thumb_atk/14507_atk.png": [200, 157, 200, 157],
            "thumb_atk/14510_atk.png": [200, 157, 200, 157],
            "thumb_atk/14513_atk.png": [200, 157, 200, 157],
            "thumb_atk/14515_atk.png": [200, 157, 200, 157],
            "thumb_atk/14516_atk.png": [200, 157, 200, 157],
            "thumb_atk/14522_atk.png": [200, 157, 200, 157],
            "thumb_atk/15001_atk.png": [200, 157, 200, 157],
            "thumb_atk/15002_atk.png": [200, 157, 200, 157],
            "thumb_atk/15003_atk.png": [200, 157, 200, 157],
            "thumb_atk/15004_atk.png": [200, 157, 200, 157],
            "thumb_atk/15005_atk.png": [200, 157, 200, 157],
            "thumb_atk/15006_atk.png": [200, 157, 200, 157],
            "thumb_atk/15007_atk.png": [200, 157, 200, 157],
            "thumb_atk/15008_atk.png": [200, 157, 200, 157],
            "thumb_atk/15009_atk.png": [200, 157, 200, 157],
            "thumb_atk/15010_atk.png": [200, 157, 200, 157],
            "thumb_atk/15011_atk.png": [200, 157, 200, 157],
            "thumb_atk/15012_atk.png": [200, 157, 200, 157],
            "thumb_atk/15013_atk.png": [200, 157, 200, 157],
            "thumb_atk/15014_atk.png": [200, 157, 200, 157],
            "thumb_atk/15015_atk.png": [200, 157, 200, 157],
            "thumb_atk/15016_atk.png": [200, 157, 200, 157],
            "thumb_atk/15017_atk.png": [200, 157, 200, 157],
            "thumb_atk/15018_atk.png": [200, 157, 200, 157],
            "thumb_atk/15019_atk.png": [200, 157, 200, 157],
            "thumb_atk/15020_atk.png": [200, 157, 200, 157],
            "thumb_atk/15021_atk.png": [200, 157, 200, 157],
            "thumb_atk/15022_atk.png": [200, 157, 200, 157],
            "thumb_atk/15023_atk.png": [200, 157, 200, 157],
            "thumb_atk/15024_atk.png": [200, 157, 200, 157],
            "thumb_atk/15025_atk.png": [200, 157, 200, 157],
            "thumb_atk/15026_atk.png": [200, 157, 200, 157],
            "thumb_atk/15027_atk.png": [200, 157, 200, 157],
            "thumb_atk/15028_atk.png": [200, 157, 200, 157],
            "thumb_atk/15029_atk.png": [200, 157, 200, 157],
            "thumb_atk/15030_atk.png": [200, 157, 200, 157],
            "thumb_atk/15502_atk.png": [200, 157, 200, 157],
            "thumb_atk/15504_atk.png": [200, 157, 200, 157],
            "thumb_atk/15506_atk.png": [200, 157, 200, 157],
            "thumb_atk/15514_atk.png": [200, 157, 200, 157],
            "thumb_atk/15515_atk.png": [200, 157, 200, 157],
            "thumb_atk/15519_atk.png": [200, 157, 200, 157],
            "thumb_atk/15525_atk.png": [200, 157, 200, 157],
            "thumb_atk/15526_atk.png": [200, 157, 200, 157],
            "thumb_atk/16001_atk.png": [200, 157, 200, 157],
            "thumb_atk/16002_atk.png": [200, 157, 200, 157],
            "thumb_atk/16003_atk.png": [200, 157, 200, 157],
            "thumb_atk/16004_atk.png": [200, 157, 200, 157],
            "thumb_atk/16005_atk.png": [200, 157, 200, 157],
            "thumb_atk/16006_atk.png": [200, 157, 200, 157],
            "thumb_atk/16007_atk.png": [200, 157, 200, 157],
            "thumb_atk/16008_atk.png": [200, 157, 200, 157],
            "thumb_atk/16009_atk.png": [200, 157, 200, 157],
            "thumb_atk/17001_atk.png": [200, 157, 200, 157],
            "thumb_atk/17002_atk.png": [200, 157, 200, 157],
            "thumb_atk/17003_atk.png": [200, 157, 200, 157],
            "thumb_atk/17004_atk.png": [200, 157, 200, 157],
            "thumb_atk/17005_atk.png": [200, 157, 200, 157],
            "thumb_atk/17006_atk.png": [200, 157, 200, 157],
            "thumb_atk/17007_atk.png": [200, 157, 200, 157],
            "thumb_atk/17008_atk.png": [200, 157, 200, 157],
            "thumb_atk/17009_atk.png": [200, 157, 200, 157],
            "thumb_atk/17010_atk.png": [200, 157, 200, 157],
            "thumb_atk/17011_atk.png": [200, 157, 200, 157],
            "thumb_atk/17012_atk.png": [200, 157, 200, 157],
            "thumb_atk/17013_atk.png": [200, 157, 200, 157],
            "thumb_atk/17014_atk.png": [200, 157, 200, 157],
            "thumb_atk/17015_atk.png": [200, 157, 200, 157],
            "thumb_atk/18001_atk.png": [200, 157, 200, 157],
            "thumb_atk/18002_atk.png": [200, 157, 200, 157],
            "thumb_atk/19001_atk.png": [200, 157, 200, 157],
            "thumb_atk/19002_atk.png": [200, 157, 200, 157],
            "thumb_atk/19003_atk.png": [200, 157, 200, 157],
            "thumb_atk/19004_atk.png": [200, 157, 200, 157],
            "thumb_atk/19005_atk.png": [200, 157, 200, 157],
            "thumb_atk/19006_atk.png": [200, 157, 200, 157],
            "thumb_atk/20001_atk.png": [200, 157, 200, 157],
            "thumb_atk/20002_atk.png": [200, 157, 200, 157],
            "thumb_atk/20003_atk.png": [200, 157, 200, 157],
            "thumb_atk/20004_atk.png": [200, 157, 200, 157],
            "thumb_atk/20005_atk.png": [200, 157, 200, 157],
            "thumb_atk/20006_atk.png": [200, 157, 200, 157],
            "thumb_atk/20007_atk.png": [200, 157, 200, 157],
            "thumb_atk/20008_atk.png": [200, 157, 200, 157],
            "thumb_atk/20009_atk.png": [200, 157, 200, 157],
            "thumb_atk/20010_atk.png": [200, 157, 200, 157],
            "thumb_atk/20011_atk.png": [200, 157, 200, 157],
            "thumb_atk/20012_atk.png": [200, 157, 200, 157],
            "thumb_atk/20013_atk.png": [200, 157, 200, 157],
            "thumb_atk/20014_atk.png": [200, 157, 200, 157],
            "thumb_atk/20015_atk.png": [200, 157, 200, 157],
            "thumb_atk/20016_atk.png": [200, 157, 200, 157],
            "thumb_atk/20017_atk.png": [200, 157, 200, 157],
            "thumb_atk/20018_atk.png": [200, 157, 200, 157],
            "thumb_atk/20019_atk.png": [200, 157, 200, 157],
            "thumb_atk/20020_atk.png": [200, 157, 200, 157],
            "thumb_atk/20021_atk.png": [200, 157, 200, 157],
            "thumb_atk/20022_atk.png": [200, 157, 200, 157],
            "thumb_atk/20023_atk.png": [200, 157, 200, 157],
            "thumb_atk/20024_atk.png": [200, 157, 200, 157],
            "thumb_atk/20025_atk.png": [200, 157, 200, 157],
            "thumb_atk/20026_atk.png": [200, 157, 200, 157],
            "thumb_atk/20027_atk.png": [200, 157, 200, 157],
            "thumb_atk/20028_atk.png": [200, 157, 200, 157],
            "thumb_atk/20029_atk.png": [200, 157, 200, 157],
            "thumb_atk/20030_atk.png": [200, 157, 200, 157],
            "thumb_atk/20031_atk.png": [200, 157, 200, 157],
            "thumb_atk/20032_atk.png": [200, 157, 200, 157],
            "thumb_atk/20033_atk.png": [200, 157, 200, 157],
            "thumb_atk/20034_atk.png": [200, 157, 200, 157],
            "thumb_atk/20035_atk.png": [200, 157, 200, 157],
            "thumb_atk/20036_atk.png": [200, 157, 200, 157],
            "thumb_atk/20037_atk.png": [200, 157, 200, 157],
            "thumb_atk/20038_atk.png": [200, 157, 200, 157],
            "thumb_atk/20039_atk.png": [200, 157, 200, 157],
            "thumb_atk/20040_atk.png": [200, 157, 200, 157],
            "thumb_atk/20041_atk.png": [200, 157, 200, 157],
            "thumb_atk/20042_atk.png": [200, 157, 200, 157],
            "thumb_atk/20043_atk.png": [200, 157, 200, 157],
            "thumb_atk/20044_atk.png": [200, 157, 200, 157],
            "thumb_atk/20045_atk.png": [200, 157, 200, 157],
            "thumb_atk/20502_atk.png": [200, 157, 200, 157],
            "thumb_atk/20504_atk.png": [200, 157, 200, 157],
            "thumb_atk/20506_atk.png": [200, 157, 200, 157],
            "thumb_atk/20508_atk.png": [200, 157, 200, 157],
            "thumb_atk/20512_atk.png": [200, 157, 200, 157],
            "thumb_atk/20514_atk.png": [200, 157, 200, 157],
            "thumb_atk/20516_atk.png": [200, 157, 200, 157],
            "thumb_atk/20526_atk.png": [200, 157, 200, 157],
            "thumb_atk/20527_atk.png": [200, 157, 200, 157],
            "thumb_magic/30001.png": [408, 256, 408, 256],
            "thumb_magic/30002.png": [408, 256, 408, 256],
            "thumb_magic/30003.png": [408, 256, 408, 256],
            "thumb_magic/30004.png": [408, 256, 408, 256],
            "thumb_magic/30005.png": [408, 256, 408, 256],
            "thumb_magic/30006.png": [408, 256, 408, 256],
            "thumb_magic/30007.png": [408, 256, 408, 256],
            "thumb_magic/30008.png": [408, 256, 408, 256],
            "thumb_magic/30009.png": [408, 255, 408, 255],
            "thumb_magic/30010.png": [408, 256, 408, 256],
            "thumb_magic/30011.png": [408, 256, 408, 256],
            "thumb_magic/30012.png": [408, 256, 408, 256],
            "thumb_magic/30013.png": [408, 256, 408, 256],
            "thumb_magic/30014.png": [408, 256, 408, 256],
            "thumb_magic/30015.png": [408, 256, 408, 256],
            "thumb_magic/30016.png": [408, 256, 408, 256],
            "thumb_magic/30017.png": [408, 256, 408, 256],
            "thumb_magic/30018.png": [408, 256, 408, 256],
            "thumb_magic/30019.png": [408, 256, 408, 256],
            "thumb_magic/30020.png": [408, 256, 408, 256],
            "thumb_magic/30021.png": [408, 256, 408, 256],
            "thumb_magic/30022.png": [408, 256, 408, 256],
            "thumb_magic/30023.png": [408, 256, 408, 256],
            "thumb_magic/30024.png": [408, 256, 408, 256],
            "thumb_magic/30025.png": [408, 256, 408, 256],
            "thumb_magic/30026.png": [408, 256, 408, 256],
            "thumb_magic/30027.png": [408, 256, 408, 256],
            "thumb_magic/30028.png": [408, 256, 408, 256],
            "thumb_magic/30029.png": [408, 256, 408, 256],
            "thumb_magic/30030.png": [408, 256, 408, 256],
            "thumb_magic/30031.png": [408, 256, 408, 256],
            "thumb_magic/30032.png": [408, 256, 408, 256],
            "thumb_magic/30033.png": [408, 256, 408, 256],
            "thumb_magic/30034.png": [408, 256, 408, 256],
            "thumb_magic/30035.png": [408, 256, 408, 256],
            "thumb_magic/30036.png": [408, 256, 408, 256],
            "thumb_magic/30037.png": [408, 256, 408, 256],
            "thumb_magic/30038.png": [408, 256, 408, 256],
            "thumb_magic/30039.png": [408, 256, 408, 256],
            "thumb_magic/30040.png": [408, 256, 408, 256],
            "thumb_magic/30041.png": [408, 256, 408, 256],
            "thumb_magic/30042.png": [408, 256, 408, 256],
            "thumb_magic/30043.png": [408, 256, 408, 256],
            "thumb_magic/30044.png": [408, 256, 408, 256],
            "thumb_magic/30045.png": [408, 256, 408, 256],
            "thumb_magic/30046.png": [408, 256, 408, 256],
            "thumb_magic/30047.png": [408, 256, 408, 256],
            "thumb_magic/30048.png": [408, 256, 408, 256],
            "thumb_magic/30049.png": [408, 256, 408, 256],
            "thumb_magic/30050.png": [408, 256, 408, 256],
            "thumb_magic/30051.png": [408, 256, 408, 256],
            "thumb_magic/30052.png": [408, 256, 408, 256],
            "thumb_magic/30053.png": [408, 256, 408, 256],
            "thumb_magic/30054.png": [408, 256, 408, 256],
            "thumb_magic/30055.png": [408, 256, 408, 256],
            "thumb_magic/30056.png": [408, 256, 408, 256],
            "thumb_magic/30057.png": [408, 256, 408, 256],
            "thumb_magic/30058.png": [408, 256, 408, 256],
            "thumb_magic/30059.png": [408, 256, 408, 256],
            "thumb_magic/30060.png": [408, 256, 408, 256],
            "thumb_magic/30061.png": [408, 256, 408, 256],
            "thumb_magic/30062.png": [408, 256, 408, 256],
            "thumb_magic/30063.png": [408, 256, 408, 256],
            "thumb_magic/30064.png": [408, 256, 408, 256],
            "thumb_magic/30065.png": [408, 256, 408, 256],
            "thumb_magic/30066.png": [408, 256, 408, 256],
            "thumb_magic/30067.png": [408, 256, 408, 256],
            "thumb_magic/30068.png": [408, 256, 408, 256],
            "thumb_magic/30069.png": [408, 256, 408, 256],
            "thumb_magic/32001.png": [408, 256, 408, 256],
            "thumb_magic/32002.png": [408, 256, 408, 256],
            "thumb_magic/32003.png": [408, 256, 408, 256],
            "thumb_magic/32004.png": [408, 256, 408, 256],
            "thumb_magic/32005.png": [408, 256, 408, 256],
            "thumb_magic/32006.png": [408, 256, 408, 256],
            "thumb_magic/32007.png": [408, 256, 408, 256],
            "thumb_magic/32008.png": [408, 256, 408, 256],
            "thumb_magic/32009.png": [408, 256, 408, 256],
            "thumb_magic/32010.png": [408, 256, 408, 256],
            "thumb_magic/32011.png": [408, 256, 408, 256],
            "thumb_magic/32012.png": [408, 256, 408, 256],
            "thumb_magic/32013.png": [408, 256, 408, 256],
            "thumb_magic/32014.png": [408, 256, 408, 256],
            "thumb_magic/32015.png": [408, 256, 408, 256],
            "thumb_magic/32016.png": [408, 256, 408, 256],
            "thumb_magic/32017.png": [408, 256, 408, 256],
            "thumb_magic/32018.png": [408, 256, 408, 256],
            "thumb_magic/32019.png": [408, 256, 408, 256],
            "thumb_magic/32020.png": [408, 256, 408, 256],
            "thumb_magic/32021.png": [408, 256, 408, 256],
            "thumb_magic/32022.png": [408, 256, 408, 256],
            "thumb_magic/32023.png": [408, 256, 408, 256],
            "thumb_magic/32024.png": [408, 256, 408, 256],
            "thumb_magic/32025.png": [408, 256, 408, 256],
            "thumb_magic/32026.png": [408, 256, 408, 256],
            "thumb_magic/32027.png": [408, 256, 408, 256],
            "thumb_magic/32028.png": [408, 256, 408, 256],
            "thumb_magic/32029.png": [408, 256, 408, 256],
            "thumb_magic/32030.png": [408, 256, 408, 256],
            "thumb_magic/32031.png": [408, 256, 408, 256],
            "thumb_magic/32032.png": [408, 256, 408, 256],
            "thumb_magic/32033.png": [408, 256, 408, 256],
            "thumb_magic/32034.png": [408, 256, 408, 256],
            "thumb_magic/32035.png": [408, 256, 408, 256],
            "thumb_magic/32036.png": [408, 256, 408, 256],
            "thumb_magic/32037.png": [408, 256, 408, 256],
            "thumb_magic/32038.png": [408, 256, 408, 256],
            "thumb_magic/32039.png": [408, 256, 408, 256],
            "thumb_magic/32040.png": [408, 256, 408, 256],
            "thumb_magic/32041.png": [408, 256, 408, 256],
            "thumb_magic/32042.png": [408, 256, 408, 256],
            "thumb_magic/32043.png": [408, 256, 408, 256],
            "thumb_magic/32044.png": [408, 256, 408, 256],
            "thumb_magic/32045.png": [408, 256, 408, 256],
            "thumb_magic/32046.png": [408, 256, 408, 256],
            "thumb_magic/32047.png": [408, 256, 408, 256],
            "thumb_magic/32048.png": [408, 256, 408, 256],
            "thumb_magic/32049.png": [408, 256, 408, 256],
            "thumb_magic/32050.png": [408, 256, 408, 256],
            "thumb_magic/32051.png": [408, 256, 408, 256],
            "thumb_magic/32052.png": [408, 256, 408, 256],
            "thumb_magic/32053.png": [408, 256, 408, 256],
            "thumb_magic/32054.png": [408, 256, 408, 256],
            "thumb_magic/32055.png": [408, 256, 408, 256],
            "thumb_magic/32056.png": [408, 256, 408, 256],
            "thumb_magic/32057.png": [408, 256, 408, 256],
            "thumb_magic/32058.png": [408, 256, 408, 256],
            "thumb_magic/32059.png": [408, 256, 408, 256],
            "thumb_magic/32060.png": [408, 256, 408, 256],
            "thumb_magic/32061.png": [408, 256, 408, 256],
            "thumb_magic/32062.png": [408, 256, 408, 256],
            "thumb_magic/32063.png": [408, 256, 408, 256],
            "thumb_magic/32064.png": [408, 256, 408, 256],
            "thumb_magic/32065.png": [408, 256, 408, 256],
            "thumb_magic/32066.png": [408, 256, 408, 256],
            "thumb_magic/32067.png": [408, 256, 408, 256],
            "thumb_magic/32068.png": [408, 256, 408, 256],
            "thumb_magic/32069.png": [408, 256, 408, 256],
            "thumb_magic/32070.png": [408, 256, 408, 256],
            "thumb_magic/32071.png": [408, 256, 408, 256],
            "thumb_magic/32072.png": [408, 256, 408, 256],
            "thumb_magic/32073.png": [408, 256, 408, 256],
            "thumb_magic/32074.png": [408, 256, 408, 256],
            "thumb_magic/32075.png": [408, 256, 408, 256],
            "thumb_magic/32076.png": [408, 256, 408, 256],
            "thumb_magic/32077.png": [408, 256, 408, 256],
            "thumb_magic/32078.png": [408, 256, 408, 256],
            "thumb_magic/32079.png": [408, 256, 408, 256],
            "thumb_magic/32080.png": [408, 256, 408, 256],
            "thumb_magic/34001.png": [408, 256, 408, 256],
            "thumb_magic/34002.png": [408, 256, 408, 256],
            "thumb_magic/34003.png": [408, 256, 408, 256],
            "thumb_magic/34004.png": [408, 256, 408, 256],
            "thumb_magic/34005.png": [408, 256, 408, 256],
            "thumb_magic/34006.png": [408, 256, 408, 256],
            "thumb_magic/34007.png": [408, 256, 408, 256],
            "thumb_magic/34008.png": [408, 256, 408, 256],
            "thumb_magic/34009.png": [408, 256, 408, 256],
            "thumb_magic/34010.png": [408, 256, 408, 256],
            "thumb_magic/34011.png": [408, 256, 408, 256],
            "thumb_magic/34012.png": [408, 256, 408, 256],
            "thumb_magic/34013.png": [408, 256, 408, 256],
            "thumb_magic/34014.png": [408, 256, 408, 256],
            "thumb_magic/34015.png": [408, 256, 408, 256],
            "thumb_magic/34016.png": [408, 256, 408, 256],
            "thumb_magic/34017.png": [408, 256, 408, 256],
            "thumb_magic/34018.png": [408, 256, 408, 256],
            "thumb_magic/34019.png": [408, 256, 408, 256],
            "thumb_magic/34020.png": [408, 256, 408, 256],
            "thumb_magic/34021.png": [408, 256, 408, 256],
            "thumb_magic/34022.png": [408, 256, 408, 256],
            "thumb_magic/34023.png": [408, 256, 408, 256],
            "thumb_magic/34024.png": [408, 256, 408, 256],
            "thumb_magic/34025.png": [408, 256, 408, 256],
            "thumb_magic/34025_2.png": [408, 256, 408, 256],
            "thumb_magic/34026.png": [408, 256, 408, 256],
            "thumb_magic/34027.png": [408, 256, 408, 256],
            "thumb_magic/34028.png": [408, 256, 408, 256],
            "thumb_magic/34029.png": [408, 256, 408, 256],
            "thumb_magic/34030.png": [408, 256, 408, 256],
            "thumb_magic/34031.png": [408, 256, 408, 256],
            "thumb_magic/34032.png": [408, 256, 408, 256],
            "thumb_magic/34033.png": [408, 256, 408, 256],
            "thumb_magic/34034.png": [408, 256, 408, 256],
            "thumb_magic/34035.png": [408, 256, 408, 256],
            "thumb_magic/34036.png": [408, 256, 408, 256],
            "thumb_magic/34037.png": [408, 256, 408, 256],
            "thumb_magic/34038.png": [408, 256, 408, 256],
            "thumb_magic/34039.png": [408, 256, 408, 256],
            "thumb_magic/34040.png": [408, 256, 408, 256],
            "thumb_magic/34041.png": [408, 256, 408, 256],
            "thumb_magic/34042.png": [408, 256, 408, 256],
            "thumb_magic/34043.png": [408, 256, 408, 256],
            "thumb_magic/34044.png": [408, 256, 408, 256],
            "thumb_magic/34045.png": [408, 256, 408, 256],
            "thumb_magic/34046.png": [408, 256, 408, 256],
            "thumb_magic/34047.png": [408, 256, 408, 256],
            "thumb_magic/35001.png": [408, 256, 408, 256],
            "thumb_magic/35002.png": [408, 256, 408, 256],
            "thumb_magic/35003.png": [408, 256, 408, 256],
            "thumb_magic/35004.png": [408, 256, 408, 256],
            "thumb_magic/39999.png": [408, 256, 408, 256],
            "thumb_monster/10001.png": [408, 256, 408, 256],
            "thumb_monster/10002.png": [408, 256, 408, 256],
            "thumb_monster/10003.png": [408, 256, 408, 256],
            "thumb_monster/10004.png": [408, 256, 408, 256],
            "thumb_monster/10005.png": [408, 256, 408, 256],
            "thumb_monster/10006.png": [408, 256, 408, 256],
            "thumb_monster/10007.png": [408, 256, 408, 256],
            "thumb_monster/10008.png": [408, 256, 408, 256],
            "thumb_monster/10009.png": [408, 256, 408, 256],
            "thumb_monster/10010.png": [408, 256, 408, 256],
            "thumb_monster/10011.png": [408, 256, 408, 256],
            "thumb_monster/10012.png": [408, 256, 408, 256],
            "thumb_monster/10013.png": [408, 256, 408, 256],
            "thumb_monster/10014.png": [408, 256, 408, 256],
            "thumb_monster/10015.png": [408, 256, 408, 256],
            "thumb_monster/10016.png": [408, 256, 408, 256],
            "thumb_monster/10017.png": [408, 256, 408, 256],
            "thumb_monster/10018.png": [408, 256, 408, 256],
            "thumb_monster/10019.png": [408, 256, 408, 256],
            "thumb_monster/10020.png": [408, 256, 408, 256],
            "thumb_monster/10021.png": [408, 256, 408, 256],
            "thumb_monster/10022.png": [408, 256, 408, 256],
            "thumb_monster/10023.png": [408, 256, 408, 256],
            "thumb_monster/10024.png": [408, 256, 408, 256],
            "thumb_monster/10025.png": [408, 256, 408, 256],
            "thumb_monster/10026.png": [408, 256, 408, 256],
            "thumb_monster/10027.png": [408, 256, 408, 256],
            "thumb_monster/10028.png": [408, 256, 408, 256],
            "thumb_monster/10029.png": [408, 256, 408, 256],
            "thumb_monster/10030.png": [408, 256, 408, 256],
            "thumb_monster/10031.png": [408, 256, 408, 256],
            "thumb_monster/10032.png": [408, 256, 408, 256],
            "thumb_monster/10033.png": [408, 256, 408, 256],
            "thumb_monster/10034.png": [408, 256, 408, 256],
            "thumb_monster/10035.png": [408, 256, 408, 256],
            "thumb_monster/10036.png": [408, 256, 408, 256],
            "thumb_monster/10037.png": [408, 256, 408, 256],
            "thumb_monster/10038.png": [408, 256, 408, 256],
            "thumb_monster/10039.png": [408, 256, 408, 256],
            "thumb_monster/10040.png": [408, 256, 408, 256],
            "thumb_monster/10041.png": [408, 256, 408, 256],
            "thumb_monster/10042.png": [408, 256, 408, 256],
            "thumb_monster/10043.png": [408, 256, 408, 256],
            "thumb_monster/10044.png": [408, 256, 408, 256],
            "thumb_monster/10045.png": [408, 256, 408, 256],
            "thumb_monster/10046.png": [408, 256, 408, 256],
            "thumb_monster/10047.png": [408, 256, 408, 256],
            "thumb_monster/10048.png": [408, 256, 408, 256],
            "thumb_monster/10049.png": [408, 256, 408, 256],
            "thumb_monster/10050.png": [408, 256, 408, 256],
            "thumb_monster/10051.png": [408, 256, 408, 256],
            "thumb_monster/10052.png": [408, 256, 408, 256],
            "thumb_monster/10053.png": [408, 256, 408, 256],
            "thumb_monster/10054.png": [408, 256, 408, 256],
            "thumb_monster/10055.png": [408, 256, 408, 256],
            "thumb_monster/10056.png": [408, 256, 408, 256],
            "thumb_monster/10057.png": [408, 256, 408, 256],
            "thumb_monster/10502.png": [408, 256, 408, 256],
            "thumb_monster/10505.png": [408, 256, 408, 256],
            "thumb_monster/10513.png": [408, 256, 408, 256],
            "thumb_monster/10536.png": [408, 256, 408, 256],
            "thumb_monster/11001.png": [408, 256, 408, 256],
            "thumb_monster/11002.png": [408, 256, 408, 256],
            "thumb_monster/11003.png": [408, 256, 408, 256],
            "thumb_monster/11004.png": [408, 256, 408, 256],
            "thumb_monster/11005.png": [408, 256, 408, 256],
            "thumb_monster/11006.png": [408, 256, 408, 256],
            "thumb_monster/11007.png": [408, 256, 408, 256],
            "thumb_monster/11008.png": [408, 256, 408, 256],
            "thumb_monster/11009.png": [408, 256, 408, 256],
            "thumb_monster/11010.png": [408, 256, 408, 256],
            "thumb_monster/11011.png": [408, 256, 408, 256],
            "thumb_monster/11012.png": [408, 256, 408, 256],
            "thumb_monster/11013.png": [408, 256, 408, 256],
            "thumb_monster/11014.png": [408, 256, 408, 256],
            "thumb_monster/11015.png": [408, 256, 408, 256],
            "thumb_monster/11016.png": [408, 256, 408, 256],
            "thumb_monster/11017.png": [408, 256, 408, 256],
            "thumb_monster/11018.png": [408, 256, 408, 256],
            "thumb_monster/11019.png": [408, 256, 408, 256],
            "thumb_monster/11020.png": [408, 256, 408, 256],
            "thumb_monster/11021.png": [408, 256, 408, 256],
            "thumb_monster/11022.png": [408, 256, 408, 256],
            "thumb_monster/11023.png": [408, 256, 408, 256],
            "thumb_monster/11024.png": [408, 256, 408, 256],
            "thumb_monster/11025.png": [408, 256, 408, 256],
            "thumb_monster/11026.png": [408, 256, 408, 256],
            "thumb_monster/11027.png": [408, 256, 408, 256],
            "thumb_monster/11028.png": [408, 256, 408, 256],
            "thumb_monster/11029.png": [407, 256, 407, 256],
            "thumb_monster/11030.png": [408, 256, 408, 256],
            "thumb_monster/11031.png": [408, 256, 408, 256],
            "thumb_monster/11032.png": [408, 256, 408, 256],
            "thumb_monster/11033.png": [408, 256, 408, 256],
            "thumb_monster/11034.png": [408, 256, 408, 256],
            "thumb_monster/11035.png": [408, 256, 408, 256],
            "thumb_monster/11036.png": [408, 256, 408, 256],
            "thumb_monster/11037.png": [408, 256, 408, 256],
            "thumb_monster/11038.png": [408, 256, 408, 256],
            "thumb_monster/11502.png": [408, 256, 408, 256],
            "thumb_monster/11510.png": [408, 256, 408, 256],
            "thumb_monster/11512.png": [408, 256, 408, 256],
            "thumb_monster/11515.png": [408, 256, 408, 256],
            "thumb_monster/11522.png": [408, 256, 408, 256],
            "thumb_monster/12001.png": [408, 256, 408, 256],
            "thumb_monster/12002.png": [408, 256, 408, 256],
            "thumb_monster/12003.png": [408, 256, 408, 256],
            "thumb_monster/12004.png": [408, 256, 408, 256],
            "thumb_monster/12005.png": [408, 256, 408, 256],
            "thumb_monster/12006.png": [408, 256, 408, 256],
            "thumb_monster/12007.png": [408, 256, 408, 256],
            "thumb_monster/12008.png": [408, 256, 408, 256],
            "thumb_monster/12009.png": [408, 256, 408, 256],
            "thumb_monster/12010.png": [408, 256, 408, 256],
            "thumb_monster/12011.png": [408, 256, 408, 256],
            "thumb_monster/12012.png": [408, 256, 408, 256],
            "thumb_monster/12013.png": [408, 256, 408, 256],
            "thumb_monster/12014.png": [408, 256, 408, 256],
            "thumb_monster/12015.png": [408, 256, 408, 256],
            "thumb_monster/12016.png": [408, 256, 408, 256],
            "thumb_monster/12017.png": [408, 256, 408, 256],
            "thumb_monster/12018.png": [408, 256, 408, 256],
            "thumb_monster/12019.png": [408, 256, 408, 256],
            "thumb_monster/12020.png": [408, 256, 408, 256],
            "thumb_monster/12021.png": [408, 256, 408, 256],
            "thumb_monster/12022.png": [408, 256, 408, 256],
            "thumb_monster/12023.png": [408, 256, 408, 256],
            "thumb_monster/12024.png": [408, 256, 408, 256],
            "thumb_monster/12025.png": [408, 256, 408, 256],
            "thumb_monster/12026.png": [408, 256, 408, 256],
            "thumb_monster/12027.png": [408, 256, 408, 256],
            "thumb_monster/12028.png": [408, 256, 408, 256],
            "thumb_monster/12029.png": [408, 256, 408, 256],
            "thumb_monster/12030.png": [408, 256, 408, 256],
            "thumb_monster/12031.png": [408, 256, 408, 256],
            "thumb_monster/12032.png": [408, 256, 408, 256],
            "thumb_monster/12033.png": [408, 256, 408, 256],
            "thumb_monster/12034.png": [408, 256, 408, 256],
            "thumb_monster/12035.png": [408, 256, 408, 256],
            "thumb_monster/12036.png": [408, 256, 408, 256],
            "thumb_monster/12037.png": [408, 256, 408, 256],
            "thumb_monster/12038.png": [408, 256, 408, 256],
            "thumb_monster/12039.png": [408, 256, 408, 256],
            "thumb_monster/12040.png": [408, 256, 408, 256],
            "thumb_monster/12041.png": [408, 256, 408, 256],
            "thumb_monster/12042.png": [408, 256, 408, 256],
            "thumb_monster/12043.png": [408, 256, 408, 256],
            "thumb_monster/12044.png": [408, 256, 408, 256],
            "thumb_monster/12045.png": [408, 256, 408, 256],
            "thumb_monster/12046.png": [408, 256, 408, 256],
            "thumb_monster/12502.png": [408, 256, 408, 256],
            "thumb_monster/12515.png": [408, 256, 408, 256],
            "thumb_monster/12521.png": [408, 256, 408, 256],
            "thumb_monster/12522.png": [408, 256, 408, 256],
            "thumb_monster/12525.png": [408, 256, 408, 256],
            "thumb_monster/12534.png": [408, 256, 408, 256],
            "thumb_monster/13001.png": [408, 256, 408, 256],
            "thumb_monster/13002.png": [408, 256, 408, 256],
            "thumb_monster/13003.png": [408, 256, 408, 256],
            "thumb_monster/13004.png": [408, 256, 408, 256],
            "thumb_monster/13005.png": [408, 256, 408, 256],
            "thumb_monster/13006.png": [408, 256, 408, 256],
            "thumb_monster/13007.png": [408, 256, 408, 256],
            "thumb_monster/13008.png": [408, 256, 408, 256],
            "thumb_monster/13009.png": [408, 256, 408, 256],
            "thumb_monster/13010.png": [408, 256, 408, 256],
            "thumb_monster/13011.png": [408, 256, 408, 256],
            "thumb_monster/13012.png": [408, 256, 408, 256],
            "thumb_monster/13013.png": [408, 256, 408, 256],
            "thumb_monster/13014.png": [408, 256, 408, 256],
            "thumb_monster/13015.png": [408, 256, 408, 256],
            "thumb_monster/13016.png": [408, 256, 408, 256],
            "thumb_monster/13017.png": [408, 256, 408, 256],
            "thumb_monster/13018.png": [408, 256, 408, 256],
            "thumb_monster/13019.png": [408, 256, 408, 256],
            "thumb_monster/13020.png": [408, 256, 408, 256],
            "thumb_monster/13021.png": [408, 256, 408, 256],
            "thumb_monster/13022.png": [408, 256, 408, 256],
            "thumb_monster/13023.png": [408, 256, 408, 256],
            "thumb_monster/13024.png": [408, 256, 408, 256],
            "thumb_monster/13025.png": [408, 256, 408, 256],
            "thumb_monster/13026.png": [408, 256, 408, 256],
            "thumb_monster/13027.png": [408, 256, 408, 256],
            "thumb_monster/13028.png": [408, 256, 408, 256],
            "thumb_monster/13029.png": [408, 256, 408, 256],
            "thumb_monster/13030.png": [408, 256, 408, 256],
            "thumb_monster/13031.png": [408, 256, 408, 256],
            "thumb_monster/13032.png": [408, 256, 408, 256],
            "thumb_monster/13033.png": [408, 256, 408, 256],
            "thumb_monster/13034.png": [408, 256, 408, 256],
            "thumb_monster/13035.png": [408, 256, 408, 256],
            "thumb_monster/13036.png": [408, 256, 408, 256],
            "thumb_monster/13037.png": [408, 256, 408, 256],
            "thumb_monster/13038.png": [408, 256, 408, 256],
            "thumb_monster/13039.png": [408, 256, 408, 256],
            "thumb_monster/13040.png": [408, 256, 408, 256],
            "thumb_monster/13041.png": [408, 256, 408, 256],
            "thumb_monster/13042.png": [408, 256, 408, 256],
            "thumb_monster/13043.png": [408, 256, 408, 256],
            "thumb_monster/13512.png": [408, 256, 408, 256],
            "thumb_monster/13513.png": [408, 256, 408, 256],
            "thumb_monster/13522.png": [408, 256, 408, 256],
            "thumb_monster/14001.png": [408, 256, 408, 256],
            "thumb_monster/14002.png": [408, 256, 408, 256],
            "thumb_monster/14003.png": [408, 256, 408, 256],
            "thumb_monster/14004.png": [408, 256, 408, 256],
            "thumb_monster/14005.png": [408, 256, 408, 256],
            "thumb_monster/14006.png": [408, 256, 408, 256],
            "thumb_monster/14007.png": [408, 256, 408, 256],
            "thumb_monster/14008.png": [408, 256, 408, 256],
            "thumb_monster/14009.png": [408, 256, 408, 256],
            "thumb_monster/14010.png": [408, 256, 408, 256],
            "thumb_monster/14011.png": [408, 256, 408, 256],
            "thumb_monster/14012.png": [408, 256, 408, 256],
            "thumb_monster/14013.png": [408, 256, 408, 256],
            "thumb_monster/14014.png": [408, 256, 408, 256],
            "thumb_monster/14015.png": [408, 256, 408, 256],
            "thumb_monster/14016.png": [408, 256, 408, 256],
            "thumb_monster/14017.png": [408, 256, 408, 256],
            "thumb_monster/14018.png": [408, 256, 408, 256],
            "thumb_monster/14019.png": [408, 256, 408, 256],
            "thumb_monster/14020.png": [408, 256, 408, 256],
            "thumb_monster/14021.png": [408, 256, 408, 256],
            "thumb_monster/14022.png": [408, 256, 408, 256],
            "thumb_monster/14023.png": [408, 256, 408, 256],
            "thumb_monster/14024.png": [408, 256, 408, 256],
            "thumb_monster/14025.png": [408, 256, 408, 256],
            "thumb_monster/14026.png": [408, 256, 408, 256],
            "thumb_monster/14027.png": [408, 256, 408, 256],
            "thumb_monster/14028.png": [408, 256, 408, 256],
            "thumb_monster/14029.png": [408, 256, 408, 256],
            "thumb_monster/14030.png": [408, 256, 408, 256],
            "thumb_monster/14031.png": [408, 256, 408, 256],
            "thumb_monster/14502.png": [408, 256, 408, 256],
            "thumb_monster/14504.png": [408, 256, 408, 256],
            "thumb_monster/14505.png": [408, 256, 408, 256],
            "thumb_monster/14506.png": [408, 256, 408, 256],
            "thumb_monster/14507.png": [408, 256, 408, 256],
            "thumb_monster/14510.png": [408, 256, 408, 256],
            "thumb_monster/14513.png": [408, 256, 408, 256],
            "thumb_monster/14515.png": [408, 256, 408, 256],
            "thumb_monster/14516.png": [408, 256, 408, 256],
            "thumb_monster/14522.png": [408, 256, 408, 256],
            "thumb_monster/15001.png": [408, 256, 408, 256],
            "thumb_monster/15002.png": [408, 256, 408, 256],
            "thumb_monster/15003.png": [408, 256, 408, 256],
            "thumb_monster/15004.png": [408, 256, 408, 256],
            "thumb_monster/15005.png": [408, 256, 408, 256],
            "thumb_monster/15006.png": [408, 256, 408, 256],
            "thumb_monster/15007.png": [408, 256, 408, 256],
            "thumb_monster/15008.png": [408, 256, 408, 256],
            "thumb_monster/15009.png": [408, 256, 408, 256],
            "thumb_monster/15010.png": [408, 256, 408, 256],
            "thumb_monster/15011.png": [408, 256, 408, 256],
            "thumb_monster/15012.png": [408, 256, 408, 256],
            "thumb_monster/15013.png": [408, 256, 408, 256],
            "thumb_monster/15014.png": [408, 256, 408, 256],
            "thumb_monster/15015.png": [408, 256, 408, 256],
            "thumb_monster/15016.png": [408, 256, 408, 256],
            "thumb_monster/15017.png": [408, 256, 408, 256],
            "thumb_monster/15018.png": [408, 256, 408, 256],
            "thumb_monster/15019.png": [408, 256, 408, 256],
            "thumb_monster/15020.png": [408, 256, 408, 256],
            "thumb_monster/15021.png": [408, 256, 408, 256],
            "thumb_monster/15022.png": [408, 256, 408, 256],
            "thumb_monster/15023.png": [408, 256, 408, 256],
            "thumb_monster/15024.png": [408, 256, 408, 256],
            "thumb_monster/15025.png": [408, 256, 408, 256],
            "thumb_monster/15026.png": [408, 256, 408, 256],
            "thumb_monster/15027.png": [408, 256, 408, 256],
            "thumb_monster/15028.png": [408, 256, 408, 256],
            "thumb_monster/15029.png": [408, 256, 408, 256],
            "thumb_monster/15030.png": [408, 256, 408, 256],
            "thumb_monster/15502.png": [408, 256, 408, 256],
            "thumb_monster/15504.png": [408, 256, 408, 256],
            "thumb_monster/15506.png": [408, 256, 408, 256],
            "thumb_monster/15514.png": [408, 256, 408, 256],
            "thumb_monster/15515.png": [408, 256, 408, 256],
            "thumb_monster/15519.png": [408, 256, 408, 256],
            "thumb_monster/15525.png": [408, 256, 408, 256],
            "thumb_monster/15526.png": [408, 256, 408, 256],
            "thumb_monster/16001.png": [408, 256, 408, 256],
            "thumb_monster/16002.png": [408, 256, 408, 256],
            "thumb_monster/16003.png": [408, 256, 408, 256],
            "thumb_monster/16004.png": [408, 256, 408, 256],
            "thumb_monster/16005.png": [408, 256, 408, 256],
            "thumb_monster/16006.png": [408, 256, 408, 256],
            "thumb_monster/16007.png": [408, 256, 408, 256],
            "thumb_monster/16008.png": [408, 256, 408, 256],
            "thumb_monster/16009.png": [408, 256, 408, 256],
            "thumb_monster/17001.png": [408, 256, 408, 256],
            "thumb_monster/17002.png": [408, 256, 408, 256],
            "thumb_monster/17003.png": [408, 256, 408, 256],
            "thumb_monster/17004.png": [408, 256, 408, 256],
            "thumb_monster/17005.png": [408, 256, 408, 256],
            "thumb_monster/17006.png": [408, 256, 408, 256],
            "thumb_monster/17007.png": [408, 256, 408, 256],
            "thumb_monster/17008.png": [408, 256, 408, 256],
            "thumb_monster/17009.png": [408, 256, 408, 256],
            "thumb_monster/17010.png": [408, 256, 408, 256],
            "thumb_monster/17011.png": [408, 256, 408, 256],
            "thumb_monster/17012.png": [408, 256, 408, 256],
            "thumb_monster/17013.png": [408, 256, 408, 256],
            "thumb_monster/17014.png": [408, 256, 408, 256],
            "thumb_monster/17015.png": [408, 256, 408, 256],
            "thumb_monster/18001.png": [408, 256, 408, 256],
            "thumb_monster/18002.png": [408, 256, 408, 256],
            "thumb_monster/19001.png": [408, 256, 408, 256],
            "thumb_monster/19002.png": [408, 256, 408, 256],
            "thumb_monster/19003.png": [408, 256, 408, 256],
            "thumb_monster/19004.png": [408, 256, 408, 256],
            "thumb_monster/19005.png": [408, 256, 408, 256],
            "thumb_monster/19006.png": [407, 256, 407, 256],
            "thumb_monster/20001.png": [408, 256, 408, 256],
            "thumb_monster/20002.png": [408, 256, 408, 256],
            "thumb_monster/20003.png": [408, 256, 408, 256],
            "thumb_monster/20004.png": [408, 256, 408, 256],
            "thumb_monster/20005.png": [408, 256, 408, 256],
            "thumb_monster/20006.png": [408, 256, 408, 256],
            "thumb_monster/20007.png": [408, 256, 408, 256],
            "thumb_monster/20008.png": [408, 256, 408, 256],
            "thumb_monster/20009.png": [408, 256, 408, 256],
            "thumb_monster/20010.png": [408, 256, 408, 256],
            "thumb_monster/20011.png": [408, 256, 408, 256],
            "thumb_monster/20012.png": [408, 256, 408, 256],
            "thumb_monster/20013.png": [408, 256, 408, 256],
            "thumb_monster/20014.png": [408, 256, 408, 256],
            "thumb_monster/20015.png": [408, 256, 408, 256],
            "thumb_monster/20016.png": [408, 256, 408, 256],
            "thumb_monster/20017.png": [408, 256, 408, 256],
            "thumb_monster/20018.png": [408, 256, 408, 256],
            "thumb_monster/20019.png": [408, 256, 408, 256],
            "thumb_monster/20020.png": [408, 256, 408, 256],
            "thumb_monster/20021.png": [408, 256, 408, 256],
            "thumb_monster/20022.png": [408, 256, 408, 256],
            "thumb_monster/20023.png": [408, 256, 408, 256],
            "thumb_monster/20024.png": [408, 256, 408, 256],
            "thumb_monster/20025.png": [408, 256, 408, 256],
            "thumb_monster/20026.png": [408, 256, 408, 256],
            "thumb_monster/20027.png": [408, 256, 408, 256],
            "thumb_monster/20028.png": [408, 256, 408, 256],
            "thumb_monster/20029.png": [408, 256, 408, 256],
            "thumb_monster/20030.png": [408, 256, 408, 256],
            "thumb_monster/20031.png": [408, 256, 408, 256],
            "thumb_monster/20032.png": [408, 256, 408, 256],
            "thumb_monster/20033.png": [408, 256, 408, 256],
            "thumb_monster/20034.png": [408, 256, 408, 256],
            "thumb_monster/20035.png": [408, 256, 408, 256],
            "thumb_monster/20036.png": [408, 256, 408, 256],
            "thumb_monster/20037.png": [408, 256, 408, 256],
            "thumb_monster/20038.png": [408, 256, 408, 256],
            "thumb_monster/20039.png": [408, 256, 408, 256],
            "thumb_monster/20040.png": [408, 256, 408, 256],
            "thumb_monster/20041.png": [408, 256, 408, 256],
            "thumb_monster/20042.png": [408, 256, 408, 256],
            "thumb_monster/20043.png": [408, 256, 408, 256],
            "thumb_monster/20044.png": [408, 256, 408, 256],
            "thumb_monster/20045.png": [408, 256, 408, 256],
            "thumb_monster/20502.png": [408, 256, 408, 256],
            "thumb_monster/20504.png": [408, 256, 408, 256],
            "thumb_monster/20506.png": [408, 256, 408, 256],
            "thumb_monster/20508.png": [408, 256, 408, 256],
            "thumb_monster/20512.png": [408, 256, 408, 256],
            "thumb_monster/20514.png": [408, 256, 408, 256],
            "thumb_monster/20516.png": [408, 256, 408, 256],
            "thumb_monster/20526.png": [408, 256, 408, 256],
            "thumb_monster/20527.png": [408, 256, 408, 256],
            "updater/loading1.png": [1664, 1024, 1664, 1024],
            "updater/loading1.pvr.png": [1666, 1026, 1670, 1030],
            "updater/loadingr.png": [1664, 1024, 1664, 1024]
        }, cc._RF.pop()
    }, {}],
    AllSpriteFrames: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3e73cQMjBdASqSu0iBGgmaj", "AllSpriteFrames"), Object.defineProperty(n, "__esModule", {value: !0}), n.AllSpriteFrames = {
            1: "particle/1.png",
            2: "particle/2.png",
            4: "particle/4.png",
            10001: "thumb_monster/10001.png",
            10002: "thumb_monster/10002.png",
            10003: "thumb_monster/10003.png",
            10004: "thumb_monster/10004.png",
            10005: "thumb_monster/10005.png",
            10006: "thumb_monster/10006.png",
            10007: "thumb_monster/10007.png",
            10008: "thumb_monster/10008.png",
            10009: "thumb_monster/10009.png",
            10010: "thumb_monster/10010.png",
            10011: "thumb_monster/10011.png",
            10012: "thumb_monster/10012.png",
            10013: "thumb_monster/10013.png",
            10014: "thumb_monster/10014.png",
            10015: "thumb_monster/10015.png",
            10016: "thumb_monster/10016.png",
            10017: "thumb_monster/10017.png",
            10018: "thumb_monster/10018.png",
            10019: "thumb_monster/10019.png",
            10020: "thumb_monster/10020.png",
            10021: "thumb_monster/10021.png",
            10022: "thumb_monster/10022.png",
            10023: "thumb_monster/10023.png",
            10024: "thumb_monster/10024.png",
            10025: "thumb_monster/10025.png",
            10026: "thumb_monster/10026.png",
            10027: "thumb_monster/10027.png",
            10028: "thumb_monster/10028.png",
            10029: "thumb_monster/10029.png",
            10030: "thumb_monster/10030.png",
            10031: "thumb_monster/10031.png",
            10032: "thumb_monster/10032.png",
            10033: "thumb_monster/10033.png",
            10034: "thumb_monster/10034.png",
            10035: "thumb_monster/10035.png",
            10036: "thumb_monster/10036.png",
            10037: "thumb_monster/10037.png",
            10038: "thumb_monster/10038.png",
            10039: "thumb_monster/10039.png",
            10040: "thumb_monster/10040.png",
            10041: "thumb_monster/10041.png",
            10042: "thumb_monster/10042.png",
            10043: "thumb_monster/10043.png",
            10044: "thumb_monster/10044.png",
            10045: "thumb_monster/10045.png",
            10046: "thumb_monster/10046.png",
            10047: "thumb_monster/10047.png",
            10048: "thumb_monster/10048.png",
            10049: "thumb_monster/10049.png",
            10050: "thumb_monster/10050.png",
            10051: "thumb_monster/10051.png",
            10052: "thumb_monster/10052.png",
            10053: "thumb_monster/10053.png",
            10054: "thumb_monster/10054.png",
            10055: "thumb_monster/10055.png",
            10056: "thumb_monster/10056.png",
            10057: "thumb_monster/10057.png",
            10502: "thumb_monster/10502.png",
            10505: "thumb_monster/10505.png",
            10513: "thumb_monster/10513.png",
            10536: "thumb_monster/10536.png",
            11001: "thumb_monster/11001.png",
            11002: "thumb_monster/11002.png",
            11003: "thumb_monster/11003.png",
            11004: "thumb_monster/11004.png",
            11005: "thumb_monster/11005.png",
            11006: "thumb_monster/11006.png",
            11007: "thumb_monster/11007.png",
            11008: "thumb_monster/11008.png",
            11009: "thumb_monster/11009.png",
            11010: "thumb_monster/11010.png",
            11011: "thumb_monster/11011.png",
            11012: "thumb_monster/11012.png",
            11013: "thumb_monster/11013.png",
            11014: "thumb_monster/11014.png",
            11015: "thumb_monster/11015.png",
            11016: "thumb_monster/11016.png",
            11017: "thumb_monster/11017.png",
            11018: "thumb_monster/11018.png",
            11019: "thumb_monster/11019.png",
            11020: "thumb_monster/11020.png",
            11021: "thumb_monster/11021.png",
            11022: "thumb_monster/11022.png",
            11023: "thumb_monster/11023.png",
            11024: "thumb_monster/11024.png",
            11025: "thumb_monster/11025.png",
            11026: "thumb_monster/11026.png",
            11027: "thumb_monster/11027.png",
            11028: "thumb_monster/11028.png",
            11029: "thumb_monster/11029.png",
            11030: "thumb_monster/11030.png",
            11031: "thumb_monster/11031.png",
            11032: "thumb_monster/11032.png",
            11033: "thumb_monster/11033.png",
            11034: "thumb_monster/11034.png",
            11035: "thumb_monster/11035.png",
            11036: "thumb_monster/11036.png",
            11037: "thumb_monster/11037.png",
            11038: "thumb_monster/11038.png",
            11502: "thumb_monster/11502.png",
            11510: "thumb_monster/11510.png",
            11512: "thumb_monster/11512.png",
            11515: "thumb_monster/11515.png",
            11522: "thumb_monster/11522.png",
            12001: "thumb_monster/12001.png",
            12002: "thumb_monster/12002.png",
            12003: "thumb_monster/12003.png",
            12004: "thumb_monster/12004.png",
            12005: "thumb_monster/12005.png",
            12006: "thumb_monster/12006.png",
            12007: "thumb_monster/12007.png",
            12008: "thumb_monster/12008.png",
            12009: "thumb_monster/12009.png",
            12010: "thumb_monster/12010.png",
            12011: "thumb_monster/12011.png",
            12012: "thumb_monster/12012.png",
            12013: "thumb_monster/12013.png",
            12014: "thumb_monster/12014.png",
            12015: "thumb_monster/12015.png",
            12016: "thumb_monster/12016.png",
            12017: "thumb_monster/12017.png",
            12018: "thumb_monster/12018.png",
            12019: "thumb_monster/12019.png",
            12020: "thumb_monster/12020.png",
            12021: "thumb_monster/12021.png",
            12022: "thumb_monster/12022.png",
            12023: "thumb_monster/12023.png",
            12024: "thumb_monster/12024.png",
            12025: "thumb_monster/12025.png",
            12026: "thumb_monster/12026.png",
            12027: "thumb_monster/12027.png",
            12028: "thumb_monster/12028.png",
            12029: "thumb_monster/12029.png",
            12030: "thumb_monster/12030.png",
            12031: "thumb_monster/12031.png",
            12032: "thumb_monster/12032.png",
            12033: "thumb_monster/12033.png",
            12034: "thumb_monster/12034.png",
            12035: "thumb_monster/12035.png",
            12036: "thumb_monster/12036.png",
            12037: "thumb_monster/12037.png",
            12038: "thumb_monster/12038.png",
            12039: "thumb_monster/12039.png",
            12040: "thumb_monster/12040.png",
            12041: "thumb_monster/12041.png",
            12042: "thumb_monster/12042.png",
            12043: "thumb_monster/12043.png",
            12044: "thumb_monster/12044.png",
            12045: "thumb_monster/12045.png",
            12046: "thumb_monster/12046.png",
            12502: "thumb_monster/12502.png",
            12515: "thumb_monster/12515.png",
            12521: "thumb_monster/12521.png",
            12522: "thumb_monster/12522.png",
            12525: "thumb_monster/12525.png",
            12534: "thumb_monster/12534.png",
            13001: "thumb_monster/13001.png",
            13002: "thumb_monster/13002.png",
            13003: "thumb_monster/13003.png",
            13004: "thumb_monster/13004.png",
            13005: "thumb_monster/13005.png",
            13006: "thumb_monster/13006.png",
            13007: "thumb_monster/13007.png",
            13008: "thumb_monster/13008.png",
            13009: "thumb_monster/13009.png",
            13010: "thumb_monster/13010.png",
            13011: "thumb_monster/13011.png",
            13012: "thumb_monster/13012.png",
            13013: "thumb_monster/13013.png",
            13014: "thumb_monster/13014.png",
            13015: "thumb_monster/13015.png",
            13016: "thumb_monster/13016.png",
            13017: "thumb_monster/13017.png",
            13018: "thumb_monster/13018.png",
            13019: "thumb_monster/13019.png",
            13020: "thumb_monster/13020.png",
            13021: "thumb_monster/13021.png",
            13022: "thumb_monster/13022.png",
            13023: "thumb_monster/13023.png",
            13024: "thumb_monster/13024.png",
            13025: "thumb_monster/13025.png",
            13026: "thumb_monster/13026.png",
            13027: "thumb_monster/13027.png",
            13028: "thumb_monster/13028.png",
            13029: "thumb_monster/13029.png",
            13030: "thumb_monster/13030.png",
            13031: "thumb_monster/13031.png",
            13032: "thumb_monster/13032.png",
            13033: "thumb_monster/13033.png",
            13034: "thumb_monster/13034.png",
            13035: "thumb_monster/13035.png",
            13036: "thumb_monster/13036.png",
            13037: "thumb_monster/13037.png",
            13038: "thumb_monster/13038.png",
            13039: "thumb_monster/13039.png",
            13040: "thumb_monster/13040.png",
            13041: "thumb_monster/13041.png",
            13042: "thumb_monster/13042.png",
            13043: "thumb_monster/13043.png",
            13512: "thumb_monster/13512.png",
            13513: "thumb_monster/13513.png",
            13522: "thumb_monster/13522.png",
            14001: "thumb_monster/14001.png",
            14002: "thumb_monster/14002.png",
            14003: "thumb_monster/14003.png",
            14004: "thumb_monster/14004.png",
            14005: "thumb_monster/14005.png",
            14006: "thumb_monster/14006.png",
            14007: "thumb_monster/14007.png",
            14008: "thumb_monster/14008.png",
            14009: "thumb_monster/14009.png",
            14010: "thumb_monster/14010.png",
            14011: "thumb_monster/14011.png",
            14012: "thumb_monster/14012.png",
            14013: "thumb_monster/14013.png",
            14014: "thumb_monster/14014.png",
            14015: "thumb_monster/14015.png",
            14016: "thumb_monster/14016.png",
            14017: "thumb_monster/14017.png",
            14018: "thumb_monster/14018.png",
            14019: "thumb_monster/14019.png",
            14020: "thumb_monster/14020.png",
            14021: "thumb_monster/14021.png",
            14022: "thumb_monster/14022.png",
            14023: "thumb_monster/14023.png",
            14024: "thumb_monster/14024.png",
            14025: "thumb_monster/14025.png",
            14026: "thumb_monster/14026.png",
            14027: "thumb_monster/14027.png",
            14028: "thumb_monster/14028.png",
            14029: "thumb_monster/14029.png",
            14030: "thumb_monster/14030.png",
            14031: "thumb_monster/14031.png",
            14502: "thumb_monster/14502.png",
            14504: "thumb_monster/14504.png",
            14505: "thumb_monster/14505.png",
            14506: "thumb_monster/14506.png",
            14507: "thumb_monster/14507.png",
            14510: "thumb_monster/14510.png",
            14513: "thumb_monster/14513.png",
            14515: "thumb_monster/14515.png",
            14516: "thumb_monster/14516.png",
            14522: "thumb_monster/14522.png",
            15001: "thumb_monster/15001.png",
            15002: "thumb_monster/15002.png",
            15003: "thumb_monster/15003.png",
            15004: "thumb_monster/15004.png",
            15005: "thumb_monster/15005.png",
            15006: "thumb_monster/15006.png",
            15007: "thumb_monster/15007.png",
            15008: "thumb_monster/15008.png",
            15009: "thumb_monster/15009.png",
            15010: "thumb_monster/15010.png",
            15011: "thumb_monster/15011.png",
            15012: "thumb_monster/15012.png",
            15013: "thumb_monster/15013.png",
            15014: "thumb_monster/15014.png",
            15015: "thumb_monster/15015.png",
            15016: "thumb_monster/15016.png",
            15017: "thumb_monster/15017.png",
            15018: "thumb_monster/15018.png",
            15019: "thumb_monster/15019.png",
            15020: "thumb_monster/15020.png",
            15021: "thumb_monster/15021.png",
            15022: "thumb_monster/15022.png",
            15023: "thumb_monster/15023.png",
            15024: "thumb_monster/15024.png",
            15025: "thumb_monster/15025.png",
            15026: "thumb_monster/15026.png",
            15027: "thumb_monster/15027.png",
            15028: "thumb_monster/15028.png",
            15029: "thumb_monster/15029.png",
            15030: "thumb_monster/15030.png",
            15502: "thumb_monster/15502.png",
            15504: "thumb_monster/15504.png",
            15506: "thumb_monster/15506.png",
            15514: "thumb_monster/15514.png",
            15515: "thumb_monster/15515.png",
            15519: "thumb_monster/15519.png",
            15525: "thumb_monster/15525.png",
            15526: "thumb_monster/15526.png",
            16001: "thumb_monster/16001.png",
            16002: "thumb_monster/16002.png",
            16003: "thumb_monster/16003.png",
            16004: "thumb_monster/16004.png",
            16005: "thumb_monster/16005.png",
            16006: "thumb_monster/16006.png",
            16007: "thumb_monster/16007.png",
            16008: "thumb_monster/16008.png",
            16009: "thumb_monster/16009.png",
            17001: "thumb_monster/17001.png",
            17002: "thumb_monster/17002.png",
            17003: "thumb_monster/17003.png",
            17004: "thumb_monster/17004.png",
            17005: "thumb_monster/17005.png",
            17006: "thumb_monster/17006.png",
            17007: "thumb_monster/17007.png",
            17008: "thumb_monster/17008.png",
            17009: "thumb_monster/17009.png",
            17010: "thumb_monster/17010.png",
            17011: "thumb_monster/17011.png",
            17012: "thumb_monster/17012.png",
            17013: "thumb_monster/17013.png",
            17014: "thumb_monster/17014.png",
            17015: "thumb_monster/17015.png",
            18001: "thumb_monster/18001.png",
            18002: "thumb_monster/18002.png",
            19001: "thumb_monster/19001.png",
            19002: "thumb_monster/19002.png",
            19003: "thumb_monster/19003.png",
            19004: "thumb_monster/19004.png",
            19005: "thumb_monster/19005.png",
            19006: "thumb_monster/19006.png",
            20001: "thumb_monster/20001.png",
            20002: "thumb_monster/20002.png",
            20003: "thumb_monster/20003.png",
            20004: "thumb_monster/20004.png",
            20005: "thumb_monster/20005.png",
            20006: "thumb_monster/20006.png",
            20007: "thumb_monster/20007.png",
            20008: "thumb_monster/20008.png",
            20009: "thumb_monster/20009.png",
            20010: "thumb_monster/20010.png",
            20011: "thumb_monster/20011.png",
            20012: "thumb_monster/20012.png",
            20013: "thumb_monster/20013.png",
            20014: "thumb_monster/20014.png",
            20015: "thumb_monster/20015.png",
            20016: "thumb_monster/20016.png",
            20017: "thumb_monster/20017.png",
            20018: "thumb_monster/20018.png",
            20019: "thumb_monster/20019.png",
            20020: "thumb_monster/20020.png",
            20021: "thumb_monster/20021.png",
            20022: "thumb_monster/20022.png",
            20023: "thumb_monster/20023.png",
            20024: "thumb_monster/20024.png",
            20025: "thumb_monster/20025.png",
            20026: "thumb_monster/20026.png",
            20027: "thumb_monster/20027.png",
            20028: "thumb_monster/20028.png",
            20029: "thumb_monster/20029.png",
            20030: "thumb_monster/20030.png",
            20031: "thumb_monster/20031.png",
            20032: "thumb_monster/20032.png",
            20033: "thumb_monster/20033.png",
            20034: "thumb_monster/20034.png",
            20035: "thumb_monster/20035.png",
            20036: "thumb_monster/20036.png",
            20037: "thumb_monster/20037.png",
            20038: "thumb_monster/20038.png",
            20039: "thumb_monster/20039.png",
            20040: "thumb_monster/20040.png",
            20041: "thumb_monster/20041.png",
            20042: "thumb_monster/20042.png",
            20043: "thumb_monster/20043.png",
            20044: "thumb_monster/20044.png",
            20045: "thumb_monster/20045.png",
            20502: "thumb_monster/20502.png",
            20504: "thumb_monster/20504.png",
            20506: "thumb_monster/20506.png",
            20508: "thumb_monster/20508.png",
            20512: "thumb_monster/20512.png",
            20514: "thumb_monster/20514.png",
            20516: "thumb_monster/20516.png",
            20526: "thumb_monster/20526.png",
            20527: "thumb_monster/20527.png",
            30001: "thumb_magic/30001.png",
            30002: "thumb_magic/30002.png",
            30003: "thumb_magic/30003.png",
            30004: "thumb_magic/30004.png",
            30005: "thumb_magic/30005.png",
            30006: "thumb_magic/30006.png",
            30007: "thumb_magic/30007.png",
            30008: "thumb_magic/30008.png",
            30009: "thumb_magic/30009.png",
            30010: "thumb_magic/30010.png",
            30011: "thumb_magic/30011.png",
            30012: "thumb_magic/30012.png",
            30013: "thumb_magic/30013.png",
            30014: "thumb_magic/30014.png",
            30015: "thumb_magic/30015.png",
            30016: "thumb_magic/30016.png",
            30017: "thumb_magic/30017.png",
            30018: "thumb_magic/30018.png",
            30019: "thumb_magic/30019.png",
            30020: "thumb_magic/30020.png",
            30021: "thumb_magic/30021.png",
            30022: "thumb_magic/30022.png",
            30023: "thumb_magic/30023.png",
            30024: "thumb_magic/30024.png",
            30025: "thumb_magic/30025.png",
            30026: "thumb_magic/30026.png",
            30027: "thumb_magic/30027.png",
            30028: "thumb_magic/30028.png",
            30029: "thumb_magic/30029.png",
            30030: "thumb_magic/30030.png",
            30031: "thumb_magic/30031.png",
            30032: "thumb_magic/30032.png",
            30033: "thumb_magic/30033.png",
            30034: "thumb_magic/30034.png",
            30035: "thumb_magic/30035.png",
            30036: "thumb_magic/30036.png",
            30037: "thumb_magic/30037.png",
            30038: "thumb_magic/30038.png",
            30039: "thumb_magic/30039.png",
            30040: "thumb_magic/30040.png",
            30041: "thumb_magic/30041.png",
            30042: "thumb_magic/30042.png",
            30043: "thumb_magic/30043.png",
            30044: "thumb_magic/30044.png",
            30045: "thumb_magic/30045.png",
            30046: "thumb_magic/30046.png",
            30047: "thumb_magic/30047.png",
            30048: "thumb_magic/30048.png",
            30049: "thumb_magic/30049.png",
            30050: "thumb_magic/30050.png",
            30051: "thumb_magic/30051.png",
            30052: "thumb_magic/30052.png",
            30053: "thumb_magic/30053.png",
            30054: "thumb_magic/30054.png",
            30055: "thumb_magic/30055.png",
            30056: "thumb_magic/30056.png",
            30057: "thumb_magic/30057.png",
            30058: "thumb_magic/30058.png",
            30059: "thumb_magic/30059.png",
            30060: "thumb_magic/30060.png",
            30061: "thumb_magic/30061.png",
            30062: "thumb_magic/30062.png",
            30063: "thumb_magic/30063.png",
            30064: "thumb_magic/30064.png",
            30065: "thumb_magic/30065.png",
            30066: "thumb_magic/30066.png",
            30067: "thumb_magic/30067.png",
            30068: "thumb_magic/30068.png",
            30069: "thumb_magic/30069.png",
            32001: "thumb_magic/32001.png",
            32002: "thumb_magic/32002.png",
            32003: "thumb_magic/32003.png",
            32004: "thumb_magic/32004.png",
            32005: "thumb_magic/32005.png",
            32006: "thumb_magic/32006.png",
            32007: "thumb_magic/32007.png",
            32008: "thumb_magic/32008.png",
            32009: "thumb_magic/32009.png",
            32010: "thumb_magic/32010.png",
            32011: "thumb_magic/32011.png",
            32012: "thumb_magic/32012.png",
            32013: "thumb_magic/32013.png",
            32014: "thumb_magic/32014.png",
            32015: "thumb_magic/32015.png",
            32016: "thumb_magic/32016.png",
            32017: "thumb_magic/32017.png",
            32018: "thumb_magic/32018.png",
            32019: "thumb_magic/32019.png",
            32020: "thumb_magic/32020.png",
            32021: "thumb_magic/32021.png",
            32022: "thumb_magic/32022.png",
            32023: "thumb_magic/32023.png",
            32024: "thumb_magic/32024.png",
            32025: "thumb_magic/32025.png",
            32026: "thumb_magic/32026.png",
            32027: "thumb_magic/32027.png",
            32028: "thumb_magic/32028.png",
            32029: "thumb_magic/32029.png",
            32030: "thumb_magic/32030.png",
            32031: "thumb_magic/32031.png",
            32032: "thumb_magic/32032.png",
            32033: "thumb_magic/32033.png",
            32034: "thumb_magic/32034.png",
            32035: "thumb_magic/32035.png",
            32036: "thumb_magic/32036.png",
            32037: "thumb_magic/32037.png",
            32038: "thumb_magic/32038.png",
            32039: "thumb_magic/32039.png",
            32040: "thumb_magic/32040.png",
            32041: "thumb_magic/32041.png",
            32042: "thumb_magic/32042.png",
            32043: "thumb_magic/32043.png",
            32044: "thumb_magic/32044.png",
            32045: "thumb_magic/32045.png",
            32046: "thumb_magic/32046.png",
            32047: "thumb_magic/32047.png",
            32048: "thumb_magic/32048.png",
            32049: "thumb_magic/32049.png",
            32050: "thumb_magic/32050.png",
            32051: "thumb_magic/32051.png",
            32052: "thumb_magic/32052.png",
            32053: "thumb_magic/32053.png",
            32054: "thumb_magic/32054.png",
            32055: "thumb_magic/32055.png",
            32056: "thumb_magic/32056.png",
            32057: "thumb_magic/32057.png",
            32058: "thumb_magic/32058.png",
            32059: "thumb_magic/32059.png",
            32060: "thumb_magic/32060.png",
            32061: "thumb_magic/32061.png",
            32062: "thumb_magic/32062.png",
            32063: "thumb_magic/32063.png",
            32064: "thumb_magic/32064.png",
            32065: "thumb_magic/32065.png",
            32066: "thumb_magic/32066.png",
            32067: "thumb_magic/32067.png",
            32068: "thumb_magic/32068.png",
            32069: "thumb_magic/32069.png",
            32070: "thumb_magic/32070.png",
            32071: "thumb_magic/32071.png",
            32072: "thumb_magic/32072.png",
            32073: "thumb_magic/32073.png",
            32074: "thumb_magic/32074.png",
            32075: "thumb_magic/32075.png",
            32076: "thumb_magic/32076.png",
            32077: "thumb_magic/32077.png",
            32078: "thumb_magic/32078.png",
            32079: "thumb_magic/32079.png",
            32080: "thumb_magic/32080.png",
            34001: "thumb_magic/34001.png",
            34002: "thumb_magic/34002.png",
            34003: "thumb_magic/34003.png",
            34004: "thumb_magic/34004.png",
            34005: "thumb_magic/34005.png",
            34006: "thumb_magic/34006.png",
            34007: "thumb_magic/34007.png",
            34008: "thumb_magic/34008.png",
            34009: "thumb_magic/34009.png",
            34010: "thumb_magic/34010.png",
            34011: "thumb_magic/34011.png",
            34012: "thumb_magic/34012.png",
            34013: "thumb_magic/34013.png",
            34014: "thumb_magic/34014.png",
            34015: "thumb_magic/34015.png",
            34016: "thumb_magic/34016.png",
            34017: "thumb_magic/34017.png",
            34018: "thumb_magic/34018.png",
            34019: "thumb_magic/34019.png",
            34020: "thumb_magic/34020.png",
            34021: "thumb_magic/34021.png",
            34022: "thumb_magic/34022.png",
            34023: "thumb_magic/34023.png",
            34024: "thumb_magic/34024.png",
            34025: "thumb_magic/34025.png",
            34026: "thumb_magic/34026.png",
            34027: "thumb_magic/34027.png",
            34028: "thumb_magic/34028.png",
            34029: "thumb_magic/34029.png",
            34030: "thumb_magic/34030.png",
            34031: "thumb_magic/34031.png",
            34032: "thumb_magic/34032.png",
            34033: "thumb_magic/34033.png",
            34034: "thumb_magic/34034.png",
            34035: "thumb_magic/34035.png",
            34036: "thumb_magic/34036.png",
            34037: "thumb_magic/34037.png",
            34038: "thumb_magic/34038.png",
            34039: "thumb_magic/34039.png",
            34040: "thumb_magic/34040.png",
            34041: "thumb_magic/34041.png",
            34042: "thumb_magic/34042.png",
            34043: "thumb_magic/34043.png",
            34044: "thumb_magic/34044.png",
            34045: "thumb_magic/34045.png",
            34046: "thumb_magic/34046.png",
            34047: "thumb_magic/34047.png",
            35001: "thumb_magic/35001.png",
            35002: "thumb_magic/35002.png",
            35003: "thumb_magic/35003.png",
            35004: "thumb_magic/35004.png",
            39999: "thumb_magic/39999.png",
            "10001_atk": "thumb_atk/10001_atk.png",
            "10002_atk": "thumb_atk/10002_atk.png",
            "10003_atk": "thumb_atk/10003_atk.png",
            "10004_atk": "thumb_atk/10004_atk.png",
            "10005_atk": "thumb_atk/10005_atk.png",
            "10006_atk": "thumb_atk/10006_atk.png",
            "10007_atk": "thumb_atk/10007_atk.png",
            "10008_atk": "thumb_atk/10008_atk.png",
            "10009_atk": "thumb_atk/10009_atk.png",
            "10010_atk": "thumb_atk/10010_atk.png",
            "10011_atk": "thumb_atk/10011_atk.png",
            "10012_atk": "thumb_atk/10012_atk.png",
            "10013_atk": "thumb_atk/10013_atk.png",
            "10014_atk": "thumb_atk/10014_atk.png",
            "10015_atk": "thumb_atk/10015_atk.png",
            "10016_atk": "thumb_atk/10016_atk.png",
            "10017_atk": "thumb_atk/10017_atk.png",
            "10018_atk": "thumb_atk/10018_atk.png",
            "10019_atk": "thumb_atk/10019_atk.png",
            "10020_atk": "thumb_atk/10020_atk.png",
            "10021_atk": "thumb_atk/10021_atk.png",
            "10022_atk": "thumb_atk/10022_atk.png",
            "10023_atk": "thumb_atk/10023_atk.png",
            "10024_atk": "thumb_atk/10024_atk.png",
            "10025_atk": "thumb_atk/10025_atk.png",
            "10026_atk": "thumb_atk/10026_atk.png",
            "10027_atk": "thumb_atk/10027_atk.png",
            "10028_atk": "thumb_atk/10028_atk.png",
            "10029_atk": "thumb_atk/10029_atk.png",
            "10030_atk": "thumb_atk/10030_atk.png",
            "10031_atk": "thumb_atk/10031_atk.png",
            "10032_atk": "thumb_atk/10032_atk.png",
            "10033_atk": "thumb_atk/10033_atk.png",
            "10034_atk": "thumb_atk/10034_atk.png",
            "10035_atk": "thumb_atk/10035_atk.png",
            "10036_atk": "thumb_atk/10036_atk.png",
            "10037_atk": "thumb_atk/10037_atk.png",
            "10038_atk": "thumb_atk/10038_atk.png",
            "10039_atk": "thumb_atk/10039_atk.png",
            "10040_atk": "thumb_atk/10040_atk.png",
            "10041_atk": "thumb_atk/10041_atk.png",
            "10042_atk": "thumb_atk/10042_atk.png",
            "10043_atk": "thumb_atk/10043_atk.png",
            "10044_atk": "thumb_atk/10044_atk.png",
            "10045_atk": "thumb_atk/10045_atk.png",
            "10046_atk": "thumb_atk/10046_atk.png",
            "10047_atk": "thumb_atk/10047_atk.png",
            "10048_atk": "thumb_atk/10048_atk.png",
            "10049_atk": "thumb_atk/10049_atk.png",
            "10050_atk": "thumb_atk/10050_atk.png",
            "10051_atk": "thumb_atk/10051_atk.png",
            "10052_atk": "thumb_atk/10052_atk.png",
            "10053_atk": "thumb_atk/10053_atk.png",
            "10054_atk": "thumb_atk/10054_atk.png",
            "10055_atk": "thumb_atk/10055_atk.png",
            "10056_atk": "thumb_atk/10056_atk.png",
            "10057_atk": "thumb_atk/10057_atk.png",
            "10502_atk": "thumb_atk/10502_atk.png",
            "10505_atk": "thumb_atk/10505_atk.png",
            "10513_atk": "thumb_atk/10513_atk.png",
            "10536_atk": "thumb_atk/10536_atk.png",
            "11001_atk": "thumb_atk/11001_atk.png",
            "11002_atk": "thumb_atk/11002_atk.png",
            "11003_atk": "thumb_atk/11003_atk.png",
            "11004_atk": "thumb_atk/11004_atk.png",
            "11005_atk": "thumb_atk/11005_atk.png",
            "11006_atk": "thumb_atk/11006_atk.png",
            "11007_atk": "thumb_atk/11007_atk.png",
            "11008_atk": "thumb_atk/11008_atk.png",
            "11009_atk": "thumb_atk/11009_atk.png",
            "11010_atk": "thumb_atk/11010_atk.png",
            "11011_atk": "thumb_atk/11011_atk.png",
            "11012_atk": "thumb_atk/11012_atk.png",
            "11013_atk": "thumb_atk/11013_atk.png",
            "11014_atk": "thumb_atk/11014_atk.png",
            "11015_atk": "thumb_atk/11015_atk.png",
            "11016_atk": "thumb_atk/11016_atk.png",
            "11017_atk": "thumb_atk/11017_atk.png",
            "11018_atk": "thumb_atk/11018_atk.png",
            "11019_atk": "thumb_atk/11019_atk.png",
            "11020_atk": "thumb_atk/11020_atk.png",
            "11021_atk": "thumb_atk/11021_atk.png",
            "11022_atk": "thumb_atk/11022_atk.png",
            "11023_atk": "thumb_atk/11023_atk.png",
            "11024_atk": "thumb_atk/11024_atk.png",
            "11025_atk": "thumb_atk/11025_atk.png",
            "11026_atk": "thumb_atk/11026_atk.png",
            "11027_atk": "thumb_atk/11027_atk.png",
            "11028_atk": "thumb_atk/11028_atk.png",
            "11029_atk": "thumb_atk/11029_atk.png",
            "11030_atk": "thumb_atk/11030_atk.png",
            "11031_atk": "thumb_atk/11031_atk.png",
            "11032_atk": "thumb_atk/11032_atk.png",
            "11033_atk": "thumb_atk/11033_atk.png",
            "11034_atk": "thumb_atk/11034_atk.png",
            "11035_atk": "thumb_atk/11035_atk.png",
            "11036_atk": "thumb_atk/11036_atk.png",
            "11037_atk": "thumb_atk/11037_atk.png",
            "11038_atk": "thumb_atk/11038_atk.png",
            "11502_atk": "thumb_atk/11502_atk.png",
            "11510_atk": "thumb_atk/11510_atk.png",
            "11512_atk": "thumb_atk/11512_atk.png",
            "11515_atk": "thumb_atk/11515_atk.png",
            "11522_atk": "thumb_atk/11522_atk.png",
            "12001_atk": "thumb_atk/12001_atk.png",
            "12002_atk": "thumb_atk/12002_atk.png",
            "12003_atk": "thumb_atk/12003_atk.png",
            "12004_atk": "thumb_atk/12004_atk.png",
            "12005_atk": "thumb_atk/12005_atk.png",
            "12006_atk": "thumb_atk/12006_atk.png",
            "12007_atk": "thumb_atk/12007_atk.png",
            "12008_atk": "thumb_atk/12008_atk.png",
            "12009_atk": "thumb_atk/12009_atk.png",
            "12010_atk": "thumb_atk/12010_atk.png",
            "12011_atk": "thumb_atk/12011_atk.png",
            "12012_atk": "thumb_atk/12012_atk.png",
            "12013_atk": "thumb_atk/12013_atk.png",
            "12014_atk": "thumb_atk/12014_atk.png",
            "12015_atk": "thumb_atk/12015_atk.png",
            "12016_atk": "thumb_atk/12016_atk.png",
            "12017_atk": "thumb_atk/12017_atk.png",
            "12018_atk": "thumb_atk/12018_atk.png",
            "12019_atk": "thumb_atk/12019_atk.png",
            "12020_atk": "thumb_atk/12020_atk.png",
            "12021_atk": "thumb_atk/12021_atk.png",
            "12022_atk": "thumb_atk/12022_atk.png",
            "12023_atk": "thumb_atk/12023_atk.png",
            "12024_atk": "thumb_atk/12024_atk.png",
            "12025_atk": "thumb_atk/12025_atk.png",
            "12026_atk": "thumb_atk/12026_atk.png",
            "12027_atk": "thumb_atk/12027_atk.png",
            "12028_atk": "thumb_atk/12028_atk.png",
            "12029_atk": "thumb_atk/12029_atk.png",
            "12030_atk": "thumb_atk/12030_atk.png",
            "12031_atk": "thumb_atk/12031_atk.png",
            "12032_atk": "thumb_atk/12032_atk.png",
            "12033_atk": "thumb_atk/12033_atk.png",
            "12034_atk": "thumb_atk/12034_atk.png",
            "12035_atk": "thumb_atk/12035_atk.png",
            "12036_atk": "thumb_atk/12036_atk.png",
            "12037_atk": "thumb_atk/12037_atk.png",
            "12038_atk": "thumb_atk/12038_atk.png",
            "12039_atk": "thumb_atk/12039_atk.png",
            "12040_atk": "thumb_atk/12040_atk.png",
            "12041_atk": "thumb_atk/12041_atk.png",
            "12042_atk": "thumb_atk/12042_atk.png",
            "12043_atk": "thumb_atk/12043_atk.png",
            "12044_atk": "thumb_atk/12044_atk.png",
            "12045_atk": "thumb_atk/12045_atk.png",
            "12046_atk": "thumb_atk/12046_atk.png",
            "12502_atk": "thumb_atk/12502_atk.png",
            "12515_atk": "thumb_atk/12515_atk.png",
            "12521_atk": "thumb_atk/12521_atk.png",
            "12522_atk": "thumb_atk/12522_atk.png",
            "12525_atk": "thumb_atk/12525_atk.png",
            "12534_atk": "thumb_atk/12534_atk.png",
            "13001_atk": "thumb_atk/13001_atk.png",
            "13002_atk": "thumb_atk/13002_atk.png",
            "13003_atk": "thumb_atk/13003_atk.png",
            "13004_atk": "thumb_atk/13004_atk.png",
            "13005_atk": "thumb_atk/13005_atk.png",
            "13006_atk": "thumb_atk/13006_atk.png",
            "13007_atk": "thumb_atk/13007_atk.png",
            "13008_atk": "thumb_atk/13008_atk.png",
            "13009_atk": "thumb_atk/13009_atk.png",
            "13010_atk": "thumb_atk/13010_atk.png",
            "13011_atk": "thumb_atk/13011_atk.png",
            "13012_atk": "thumb_atk/13012_atk.png",
            "13013_atk": "thumb_atk/13013_atk.png",
            "13014_atk": "thumb_atk/13014_atk.png",
            "13015_atk": "thumb_atk/13015_atk.png",
            "13016_atk": "thumb_atk/13016_atk.png",
            "13017_atk": "thumb_atk/13017_atk.png",
            "13018_atk": "thumb_atk/13018_atk.png",
            "13019_atk": "thumb_atk/13019_atk.png",
            "13020_atk": "thumb_atk/13020_atk.png",
            "13021_atk": "thumb_atk/13021_atk.png",
            "13022_atk": "thumb_atk/13022_atk.png",
            "13023_atk": "thumb_atk/13023_atk.png",
            "13024_atk": "thumb_atk/13024_atk.png",
            "13025_atk": "thumb_atk/13025_atk.png",
            "13026_atk": "thumb_atk/13026_atk.png",
            "13027_atk": "thumb_atk/13027_atk.png",
            "13028_atk": "thumb_atk/13028_atk.png",
            "13029_atk": "thumb_atk/13029_atk.png",
            "13030_atk": "thumb_atk/13030_atk.png",
            "13031_atk": "thumb_atk/13031_atk.png",
            "13032_atk": "thumb_atk/13032_atk.png",
            "13033_atk": "thumb_atk/13033_atk.png",
            "13034_atk": "thumb_atk/13034_atk.png",
            "13035_atk": "thumb_atk/13035_atk.png",
            "13036_atk": "thumb_atk/13036_atk.png",
            "13037_atk": "thumb_atk/13037_atk.png",
            "13038_atk": "thumb_atk/13038_atk.png",
            "13039_atk": "thumb_atk/13039_atk.png",
            "13040_atk": "thumb_atk/13040_atk.png",
            "13041_atk": "thumb_atk/13041_atk.png",
            "13042_atk": "thumb_atk/13042_atk.png",
            "13043_atk": "thumb_atk/13043_atk.png",
            "13512_atk": "thumb_atk/13512_atk.png",
            "13513_atk": "thumb_atk/13513_atk.png",
            "13522_atk": "thumb_atk/13522_atk.png",
            "14001_atk": "thumb_atk/14001_atk.png",
            "14002_atk": "thumb_atk/14002_atk.png",
            "14003_atk": "thumb_atk/14003_atk.png",
            "14004_atk": "thumb_atk/14004_atk.png",
            "14005_atk": "thumb_atk/14005_atk.png",
            "14006_atk": "thumb_atk/14006_atk.png",
            "14007_atk": "thumb_atk/14007_atk.png",
            "14008_atk": "thumb_atk/14008_atk.png",
            "14009_atk": "thumb_atk/14009_atk.png",
            "14010_atk": "thumb_atk/14010_atk.png",
            "14011_atk": "thumb_atk/14011_atk.png",
            "14012_atk": "thumb_atk/14012_atk.png",
            "14013_atk": "thumb_atk/14013_atk.png",
            "14014_atk": "thumb_atk/14014_atk.png",
            "14015_atk": "thumb_atk/14015_atk.png",
            "14016_atk": "thumb_atk/14016_atk.png",
            "14017_atk": "thumb_atk/14017_atk.png",
            "14018_atk": "thumb_atk/14018_atk.png",
            "14019_atk": "thumb_atk/14019_atk.png",
            "14020_atk": "thumb_atk/14020_atk.png",
            "14021_atk": "thumb_atk/14021_atk.png",
            "14022_atk": "thumb_atk/14022_atk.png",
            "14023_atk": "thumb_atk/14023_atk.png",
            "14024_atk": "thumb_atk/14024_atk.png",
            "14025_atk": "thumb_atk/14025_atk.png",
            "14026_atk": "thumb_atk/14026_atk.png",
            "14027_atk": "thumb_atk/14027_atk.png",
            "14028_atk": "thumb_atk/14028_atk.png",
            "14029_atk": "thumb_atk/14029_atk.png",
            "14030_atk": "thumb_atk/14030_atk.png",
            "14031_atk": "thumb_atk/14031_atk.png",
            "14502_atk": "thumb_atk/14502_atk.png",
            "14504_atk": "thumb_atk/14504_atk.png",
            "14505_atk": "thumb_atk/14505_atk.png",
            "14506_atk": "thumb_atk/14506_atk.png",
            "14507_atk": "thumb_atk/14507_atk.png",
            "14510_atk": "thumb_atk/14510_atk.png",
            "14513_atk": "thumb_atk/14513_atk.png",
            "14515_atk": "thumb_atk/14515_atk.png",
            "14516_atk": "thumb_atk/14516_atk.png",
            "14522_atk": "thumb_atk/14522_atk.png",
            "15001_atk": "thumb_atk/15001_atk.png",
            "15002_atk": "thumb_atk/15002_atk.png",
            "15003_atk": "thumb_atk/15003_atk.png",
            "15004_atk": "thumb_atk/15004_atk.png",
            "15005_atk": "thumb_atk/15005_atk.png",
            "15006_atk": "thumb_atk/15006_atk.png",
            "15007_atk": "thumb_atk/15007_atk.png",
            "15008_atk": "thumb_atk/15008_atk.png",
            "15009_atk": "thumb_atk/15009_atk.png",
            "15010_atk": "thumb_atk/15010_atk.png",
            "15011_atk": "thumb_atk/15011_atk.png",
            "15012_atk": "thumb_atk/15012_atk.png",
            "15013_atk": "thumb_atk/15013_atk.png",
            "15014_atk": "thumb_atk/15014_atk.png",
            "15015_atk": "thumb_atk/15015_atk.png",
            "15016_atk": "thumb_atk/15016_atk.png",
            "15017_atk": "thumb_atk/15017_atk.png",
            "15018_atk": "thumb_atk/15018_atk.png",
            "15019_atk": "thumb_atk/15019_atk.png",
            "15020_atk": "thumb_atk/15020_atk.png",
            "15021_atk": "thumb_atk/15021_atk.png",
            "15022_atk": "thumb_atk/15022_atk.png",
            "15023_atk": "thumb_atk/15023_atk.png",
            "15024_atk": "thumb_atk/15024_atk.png",
            "15025_atk": "thumb_atk/15025_atk.png",
            "15026_atk": "thumb_atk/15026_atk.png",
            "15027_atk": "thumb_atk/15027_atk.png",
            "15028_atk": "thumb_atk/15028_atk.png",
            "15029_atk": "thumb_atk/15029_atk.png",
            "15030_atk": "thumb_atk/15030_atk.png",
            "15502_atk": "thumb_atk/15502_atk.png",
            "15504_atk": "thumb_atk/15504_atk.png",
            "15506_atk": "thumb_atk/15506_atk.png",
            "15514_atk": "thumb_atk/15514_atk.png",
            "15515_atk": "thumb_atk/15515_atk.png",
            "15519_atk": "thumb_atk/15519_atk.png",
            "15525_atk": "thumb_atk/15525_atk.png",
            "15526_atk": "thumb_atk/15526_atk.png",
            "16001_atk": "thumb_atk/16001_atk.png",
            "16002_atk": "thumb_atk/16002_atk.png",
            "16003_atk": "thumb_atk/16003_atk.png",
            "16004_atk": "thumb_atk/16004_atk.png",
            "16005_atk": "thumb_atk/16005_atk.png",
            "16006_atk": "thumb_atk/16006_atk.png",
            "16007_atk": "thumb_atk/16007_atk.png",
            "16008_atk": "thumb_atk/16008_atk.png",
            "16009_atk": "thumb_atk/16009_atk.png",
            "17001_atk": "thumb_atk/17001_atk.png",
            "17002_atk": "thumb_atk/17002_atk.png",
            "17003_atk": "thumb_atk/17003_atk.png",
            "17004_atk": "thumb_atk/17004_atk.png",
            "17005_atk": "thumb_atk/17005_atk.png",
            "17006_atk": "thumb_atk/17006_atk.png",
            "17007_atk": "thumb_atk/17007_atk.png",
            "17008_atk": "thumb_atk/17008_atk.png",
            "17009_atk": "thumb_atk/17009_atk.png",
            "17010_atk": "thumb_atk/17010_atk.png",
            "17011_atk": "thumb_atk/17011_atk.png",
            "17012_atk": "thumb_atk/17012_atk.png",
            "17013_atk": "thumb_atk/17013_atk.png",
            "17014_atk": "thumb_atk/17014_atk.png",
            "17015_atk": "thumb_atk/17015_atk.png",
            "18001_atk": "thumb_atk/18001_atk.png",
            "18002_atk": "thumb_atk/18002_atk.png",
            "19001_atk": "thumb_atk/19001_atk.png",
            "19002_atk": "thumb_atk/19002_atk.png",
            "19003_atk": "thumb_atk/19003_atk.png",
            "19004_atk": "thumb_atk/19004_atk.png",
            "19005_atk": "thumb_atk/19005_atk.png",
            "19006_atk": "thumb_atk/19006_atk.png",
            "20001_atk": "thumb_atk/20001_atk.png",
            "20002_atk": "thumb_atk/20002_atk.png",
            "20003_atk": "thumb_atk/20003_atk.png",
            "20004_atk": "thumb_atk/20004_atk.png",
            "20005_atk": "thumb_atk/20005_atk.png",
            "20006_atk": "thumb_atk/20006_atk.png",
            "20007_atk": "thumb_atk/20007_atk.png",
            "20008_atk": "thumb_atk/20008_atk.png",
            "20009_atk": "thumb_atk/20009_atk.png",
            "20010_atk": "thumb_atk/20010_atk.png",
            "20011_atk": "thumb_atk/20011_atk.png",
            "20012_atk": "thumb_atk/20012_atk.png",
            "20013_atk": "thumb_atk/20013_atk.png",
            "20014_atk": "thumb_atk/20014_atk.png",
            "20015_atk": "thumb_atk/20015_atk.png",
            "20016_atk": "thumb_atk/20016_atk.png",
            "20017_atk": "thumb_atk/20017_atk.png",
            "20018_atk": "thumb_atk/20018_atk.png",
            "20019_atk": "thumb_atk/20019_atk.png",
            "20020_atk": "thumb_atk/20020_atk.png",
            "20021_atk": "thumb_atk/20021_atk.png",
            "20022_atk": "thumb_atk/20022_atk.png",
            "20023_atk": "thumb_atk/20023_atk.png",
            "20024_atk": "thumb_atk/20024_atk.png",
            "20025_atk": "thumb_atk/20025_atk.png",
            "20026_atk": "thumb_atk/20026_atk.png",
            "20027_atk": "thumb_atk/20027_atk.png",
            "20028_atk": "thumb_atk/20028_atk.png",
            "20029_atk": "thumb_atk/20029_atk.png",
            "20030_atk": "thumb_atk/20030_atk.png",
            "20031_atk": "thumb_atk/20031_atk.png",
            "20032_atk": "thumb_atk/20032_atk.png",
            "20033_atk": "thumb_atk/20033_atk.png",
            "20034_atk": "thumb_atk/20034_atk.png",
            "20035_atk": "thumb_atk/20035_atk.png",
            "20036_atk": "thumb_atk/20036_atk.png",
            "20037_atk": "thumb_atk/20037_atk.png",
            "20038_atk": "thumb_atk/20038_atk.png",
            "20039_atk": "thumb_atk/20039_atk.png",
            "20040_atk": "thumb_atk/20040_atk.png",
            "20041_atk": "thumb_atk/20041_atk.png",
            "20042_atk": "thumb_atk/20042_atk.png",
            "20043_atk": "thumb_atk/20043_atk.png",
            "20044_atk": "thumb_atk/20044_atk.png",
            "20045_atk": "thumb_atk/20045_atk.png",
            "20502_atk": "thumb_atk/20502_atk.png",
            "20504_atk": "thumb_atk/20504_atk.png",
            "20506_atk": "thumb_atk/20506_atk.png",
            "20508_atk": "thumb_atk/20508_atk.png",
            "20512_atk": "thumb_atk/20512_atk.png",
            "20514_atk": "thumb_atk/20514_atk.png",
            "20516_atk": "thumb_atk/20516_atk.png",
            "20526_atk": "thumb_atk/20526_atk.png",
            "20527_atk": "thumb_atk/20527_atk.png",
            "34025_2": "thumb_magic/34025_2.png",
            activity5_img_claimed: "activity/activity5_img_claimed.png",
            activity5_img_supply: "activity/activity5_img_supply.png",
            activity5_rect_claimable: "activity/activity5_rect_claimable.png",
            activity_84: "img/activity_84.png",
            activity_85: "img/activity_85.png",
            activity_86: "img/activity_86.png",
            activity_87: "img/activity_87.png",
            activity_87_android: "img/activity_87_android.png",
            activity_ad_87: "img/activity_ad_87.png",
            activity_bonus_bg2: "activity/activity_bonus_bg2.png",
            activity_bonus_common_bg: "city/activity_bonus_common_bg.png",
            activity_button_shadow: "activity/activity_button_shadow.png",
            activity_cell_0: "city/activity_cell_0.png",
            activity_cell_0_on: "city/activity_cell_0_on.png",
            activity_cell_ok: "city/activity_cell_ok.png",
            activity_common_bg: "city/activity_common_bg.png",
            activity_daily_gift_6: "img/activity_daily_gift_6.png",
            activity_feedback: "img/activity_feedback.png",
            activity_first_recharge: "img/activity_first_recharge.png",
            activity_first_recharge_ad: "img/activity_first_recharge_ad.png",
            activity_free_month_card_0: "img/activity_free_month_card_0.png",
            activity_free_month_card_1: "img/activity_free_month_card_1.png",
            activity_fund: "img/activity_fund.png",
            activity_fund_2: "img/activity_fund_2.png",
            activity_icon: "activity/activity_icon.png",
            activity_icon_001: "activity/activity_icon_001.png",
            activity_icon_002: "activity/activity_icon_002.png",
            activity_icon_003: "activity/activity_icon_003.png",
            activity_icon_004: "activity/activity_icon_004.png",
            activity_icon_005: "activity/activity_icon_005.png",
            activity_icon_006: "activity/activity_icon_006.png",
            activity_icon_007: "activity/activity_icon_007.png",
            activity_icon_008: "activity/activity_icon_008.png",
            activity_icon_009: "activity/activity_icon_009.png",
            activity_icon_010: "activity/activity_icon_010.png",
            activity_icon_011: "activity/activity_icon_011.png",
            activity_icon_012: "activity/activity_icon_012.png",
            activity_icon_013: "activity/activity_icon_013.png",
            activity_icon_014: "activity/activity_icon_014.png",
            activity_icon_015: "activity/activity_icon_015.png",
            activity_icon_016: "activity/activity_icon_016.png",
            activity_icon_017: "activity/activity_icon_017.png",
            activity_icon_018: "activity/activity_icon_018.png",
            activity_icon_019: "activity/activity_icon_019.png",
            activity_icon_020: "activity/activity_icon_020.png",
            activity_icon_021: "activity/activity_icon_021.png",
            activity_icon_022: "activity/activity_icon_022.png",
            activity_icon_101: "activity/activity_icon_101.png",
            activity_icon_102: "activity/activity_icon_102.png",
            activity_icon_feedback: "activity/activity_icon_feedback.png",
            activity_icon_invite: "activity/activity_icon_invite.png",
            activity_m1_off: "activity/activity_m1_off.png",
            activity_m2_off: "activity/activity_m2_off.png",
            activity_package: "img/activity_package.png",
            activity_pay_bg: "img/activity_pay_bg.png",
            activity_pay_large_1: "img/activity_pay_large_1.png",
            activity_pay_large_198: "img/activity_pay_large_198.png",
            activity_pay_large_30: "img/activity_pay_large_30.png",
            activity_pay_large_31: "img/activity_pay_large_31.png",
            activity_pay_large_32: "img/activity_pay_large_32.png",
            activity_pay_large_328: "img/activity_pay_large_328.png",
            activity_pay_large_33: "img/activity_pay_large_33.png",
            activity_pay_large_34: "img/activity_pay_large_34.png",
            activity_pay_large_35: "img/activity_pay_large_35.png",
            activity_pay_large_36: "img/activity_pay_large_36.png",
            activity_pay_large_37: "img/activity_pay_large_37.png",
            activity_pay_large_38: "img/activity_pay_large_38.png",
            activity_pay_large_39: "img/activity_pay_large_39.png",
            activity_pay_large_6: "img/activity_pay_large_6.png",
            activity_pay_large_98: "img/activity_pay_large_98.png",
            activity_pay_lh_1: "img/activity_pay_lh_1.png",
            activity_pay_lh_2: "img/activity_pay_lh_2.png",
            activity_pay_lh_3: "img/activity_pay_lh_3.png",
            activity_pay_wz_1: "img/activity_pay_wz_1.png",
            activity_pay_wz_2: "img/activity_pay_wz_2.png",
            activity_pay_wz_3: "img/activity_pay_wz_3.png",
            activity_pay_wz_bg: "img/activity_pay_wz_bg.png",
            activity_tip_bg: "activity/activity_tip_bg.png",
            activity_wz_line_bg: "city/activity_wz_line_bg.png",
            ad_12: "img/ad_12.png",
            ad_frame: "general/ad_frame.png",
            ad_package_01: "city/ad_package_01.png",
            ad_package_02: "city/ad_package_02.png",
            ad_package_03: "city/ad_package_03.png",
            ad_package_04: "city/ad_package_04.png",
            ad_package_05: "city/ad_package_05.png",
            ad_package_06: "city/ad_package_06.png",
            ad_package_07: "city/ad_package_07.png",
            ad_package_08: "city/ad_package_08.png",
            ad_package_09: "img/ad_package_09.png",
            add_card_bg: "img/add_card_bg.png",
            advence_open: "general/advence_open.png",
            area_liveness_0: "city/area_liveness_0.png",
            area_liveness_1: "city/area_liveness_1.png",
            area_liveness_2: "city/area_liveness_2.png",
            avatar_0001: "avatar/avatar_0001.png",
            avatar_0002: "avatar/avatar_0002.png",
            avatar_0101: "avatar/avatar_0101.png",
            avatar_0102: "avatar/avatar_0102.png",
            avatar_0201: "avatar/avatar_0201.png",
            avatar_0202: "avatar/avatar_0202.png",
            avatar_0301: "avatar/avatar_0301.png",
            avatar_0302: "avatar/avatar_0302.png",
            avatar_0401: "avatar/avatar_0401.png",
            avatar_0402: "avatar/avatar_0402.png",
            avatar_0501: "avatar/avatar_0501.png",
            avatar_0502: "avatar/avatar_0502.png",
            avatar_5000: "avatar/avatar_5000.png",
            avatar_5010: "avatar/avatar_5010.png",
            avatar_5011: "avatar/avatar_5011.png",
            avatar_5012: "avatar/avatar_5012.png",
            avatar_5013: "avatar/avatar_5013.png",
            avatar_5014: "avatar/avatar_5014.png",
            avatar_5015: "avatar/avatar_5015.png",
            avatar_5016: "avatar/avatar_5016.png",
            avatar_5017: "avatar/avatar_5017.png",
            avatar_5018: "avatar/avatar_5018.png",
            avatar_5019: "avatar/avatar_5019.png",
            avatar_5020: "avatar/avatar_5020.png",
            avatar_5021: "avatar/avatar_5021.png",
            avatar_5022: "avatar/avatar_5022.png",
            avatar_5023: "avatar/avatar_5023.png",
            avatar_5024: "avatar/avatar_5024.png",
            avatar_5025: "avatar/avatar_5025.png",
            avatar_5026: "avatar/avatar_5026.png",
            avatar_5027: "avatar/avatar_5027.png",
            avatar_5028: "avatar/avatar_5028.png",
            avatar_5029: "avatar/avatar_5029.png",
            avatar_5030: "avatar/avatar_5030.png",
            avatar_5031: "avatar/avatar_5031.png",
            avatar_5032: "avatar/avatar_5032.png",
            avatar_5033: "avatar/avatar_5033.png",
            avatar_5034: "avatar/avatar_5034.png",
            avatar_5035: "avatar/avatar_5035.png",
            avatar_5036: "avatar/avatar_5036.png",
            avatar_5037: "avatar/avatar_5037.png",
            avatar_5038: "avatar/avatar_5038.png",
            avatar_5039: "avatar/avatar_5039.png",
            avatar_5040: "avatar/avatar_5040.png",
            avatar_5041: "avatar/avatar_5041.png",
            avatar_5042: "avatar/avatar_5042.png",
            avatar_5043: "avatar/avatar_5043.png",
            avatar_5044: "avatar/avatar_5044.png",
            avatar_5045: "avatar/avatar_5045.png",
            avatar_5046: "avatar/avatar_5046.png",
            avatar_5047: "avatar/avatar_5047.png",
            avatar_5048: "avatar/avatar_5048.png",
            avatar_5049: "avatar/avatar_5049.png",
            avatar_5050: "avatar/avatar_5050.png",
            avatar_5051: "avatar/avatar_5051.png",
            avatar_5052: "avatar/avatar_5052.png",
            avatar_5053: "avatar/avatar_5053.png",
            avatar_5054: "avatar/avatar_5054.png",
            avatar_5055: "avatar/avatar_5055.png",
            avatar_5056: "avatar/avatar_5056.png",
            avatar_5057: "avatar/avatar_5057.png",
            avatar_5058: "avatar/avatar_5058.png",
            avatar_5059: "avatar/avatar_5059.png",
            avatar_5999: "avatar/avatar_5999.png",
            avatar_8051: "avatar/avatar_8051.png",
            avatar_8052: "avatar/avatar_8052.png",
            avatar_8053: "avatar/avatar_8053.png",
            avatar_badge_s_1: "avatar/avatar_badge_s_1.png",
            avatar_badge_s_2: "avatar/avatar_badge_s_2.png",
            avatar_badge_s_3: "avatar/avatar_badge_s_3.png",
            avatar_badge_s_4: "avatar/avatar_badge_s_4.png",
            avatar_badge_s_5: "avatar/avatar_badge_s_5.png",
            avatar_badge_s_6: "avatar/avatar_badge_s_6.png",
            avatar_crown: "avatar/avatar_crown.png",
            avatar_frame_001: "avatar/avatar_frame_001.png",
            avatar_frame_7501: "avatar/avatar_frame_7501.png",
            avatar_frame_7502: "avatar/avatar_frame_7502.png",
            avatar_frame_7502_1: "avatar/avatar_frame_7502_1.png",
            avatar_frame_7502_2: "avatar/avatar_frame_7502_2.png",
            avatar_frame_7502_3: "avatar/avatar_frame_7502_3.png",
            avatar_frame_7506: "avatar/avatar_frame_7506.png",
            avatar_frame_7507: "avatar/avatar_frame_7507.png",
            avatar_frame_7507_1: "avatar/avatar_frame_7507_1.png",
            avatar_frame_7507_2: "avatar/avatar_frame_7507_2.png",
            avatar_frame_7509: "avatar/avatar_frame_7509.png",
            avatar_frame_7510: "avatar/avatar_frame_7510.png",
            avatar_frame_7511: "avatar/avatar_frame_7511.png",
            avatar_frame_7512: "avatar/avatar_frame_7512.png",
            avatar_frame_7513: "avatar/avatar_frame_7513.png",
            avatar_frame_7514: "avatar/avatar_frame_7514.png",
            avatar_frame_7515: "avatar/avatar_frame_7515.png",
            avatar_image_0000: "img/avatar_image_0000.png",
            avatar_image_0201: "img/avatar_image_0201.png",
            avatar_image_0202: "img/avatar_image_0202.png",
            avatar_image_0301: "img/avatar_image_0301.png",
            avatar_image_0302: "img/avatar_image_0302.png",
            avatar_image_0401: "img/avatar_image_0401.png",
            avatar_image_0402: "img/avatar_image_0402.png",
            avatar_level_bg: "avatar/avatar_level_bg.png",
            avatar_moon: "avatar/avatar_moon.png",
            avatar_name_bg: "avatar/avatar_name_bg.png",
            avatar_star: "avatar/avatar_star.png",
            avatar_sun: "avatar/avatar_sun.png",
            avatar_vip_bg: "avatar/avatar_vip_bg.png",
            baiyinyueka: "spine/baiyinyueka.png",
            baoxiang: "spine/baoxiang.png",
            baozha: "spine/baozha.png",
            bat_arrow_1: "battle/bat_arrow_1.png",
            bat_arrow_2: "battle/bat_arrow_2.png",
            bat_atk_round1_tip: "battle/bat_atk_round1_tip.png",
            bat_avatar_bg_02: "battle/bat_avatar_bg_02.png",
            bat_avatar_bg_03: "battle/bat_avatar_bg_03.png",
            bat_avatar_bg_me: "battle/bat_avatar_bg_me.png",
            bat_avatar_bg_oppo: "battle/bat_avatar_bg_oppo.png",
            bat_btn_2: "battle/bat_btn_2.png",
            bat_btn_3: "battle/bat_btn_3.png",
            bat_btn_4: "battle/bat_btn_4.png",
            bat_btn_5: "battle/bat_btn_5.png",
            bat_btn_6: "battle/bat_btn_6.png",
            bat_btn_7: "battle/bat_btn_7.png",
            bat_btn_7_on: "battle/bat_btn_7_on.png",
            bat_btn_7_on1: "battle/bat_btn_7_on1.png",
            bat_btn_bg: "battle/bat_btn_bg.png",
            bat_btn_icon_auto: "battle/bat_btn_icon_auto.png",
            bat_btn_icon_back: "battle/bat_btn_icon_back.png",
            bat_btn_icon_chat: "battle/bat_btn_icon_chat.png",
            bat_btn_icon_grave: "battle/bat_btn_icon_grave.png",
            bat_btn_icon_guide: "battle/bat_btn_icon_guide.png",
            bat_btn_icon_help: "battle/bat_btn_icon_help.png",
            bat_btn_icon_manual: "battle/bat_btn_icon_manual.png",
            bat_btn_icon_pause: "battle/bat_btn_icon_pause.png",
            bat_btn_icon_play: "battle/bat_btn_icon_play.png",
            bat_btn_icon_retreat: "battle/bat_btn_icon_retreat.png",
            bat_btn_icon_switch: "battle/bat_btn_icon_switch.png",
            bat_btn_icon_task: "battle/bat_btn_icon_task.png",
            bat_btn_music_off: "battle/bat_btn_music_off.png",
            bat_btn_music_on: "battle/bat_btn_music_on.png",
            bat_btn_near_bg: "battle/bat_btn_near_bg.png",
            bat_btn_retreat: "battle/bat_btn_retreat.png",
            bat_btn_set: "battle/bat_btn_set.png",
            bat_btn_set2: "battle/bat_btn_set2.png",
            bat_btn_snd_effect_off: "battle/bat_btn_snd_effect_off.png",
            bat_btn_snd_effect_on: "battle/bat_btn_snd_effect_on.png",
            bat_btn_task: "battle/bat_btn_task.png",
            bat_card_bg_img: "battle/bat_card_bg_img.png",
            bat_card_bg_img_main: "battle/bat_card_bg_img_main.png",
            bat_category: "battle/bat_category.png",
            bat_coin_back: "battle/bat_coin_back.png",
            bat_coin_face: "battle/bat_coin_face.png",
            bat_dilie: "battle/bat_dilie.png",
            bat_dlg_bg2: "battle/bat_dlg_bg2.png",
            bat_dlg_bg3: "battle/bat_dlg_bg3.png",
            bat_drawback_btn: "battle/bat_drawback_btn.png",
            bat_drawback_btn2: "battle/bat_drawback_btn2.png",
            bat_drawback_lock: "battle/bat_drawback_lock.png",
            bat_energy_01: "battle/bat_energy_01.png",
            bat_energy_02: "battle/bat_energy_02.png",
            bat_energy_03: "battle/bat_energy_03.png",
            bat_energy_04: "battle/bat_energy_04.png",
            bat_energy_bg: "battle/bat_energy_bg.png",
            bat_energy_dialog: "battle/bat_energy_dialog.png",
            bat_energy_skill_info: "battle/bat_energy_skill_info.png",
            bat_energy_skill_info1: "battle/bat_energy_skill_info1.png",
            bat_equip_frame: "battle/bat_equip_frame.png",
            bat_first_oppo: "battle/bat_first_oppo.png",
            bat_first_player: "battle/bat_first_player.png",
            bat_gem_bg: "battle/bat_gem_bg.png",
            bat_gem_frame: "battle/bat_gem_frame.png",
            bat_grave_atk: "battle/bat_grave_atk.png",
            bat_grave_bg: "battle/bat_grave_bg.png",
            bat_grave_count_atk: "battle/bat_grave_count_atk.png",
            bat_grave_count_def: "battle/bat_grave_count_def.png",
            bat_grave_def: "battle/bat_grave_def.png",
            bat_grave_heap_0: "battle/bat_grave_heap_0.png",
            bat_grave_heap_2: "battle/bat_grave_heap_2.png",
            bat_grave_heap_mu_0: "battle/bat_grave_heap_mu_0.png",
            bat_grave_heap_mu_2: "battle/bat_grave_heap_mu_2.png",
            bat_hongbian: "battle/bat_hongbian.png",
            bat_ico_buff_burn: "battle/bat_ico_buff_burn.png",
            bat_ico_buff_chaos: "battle/bat_ico_buff_chaos.png",
            bat_ico_buff_damage: "battle/bat_ico_buff_damage.png",
            bat_ico_buff_lock: "battle/bat_ico_buff_lock.png",
            bat_ico_buff_negative: "battle/bat_ico_buff_negative.png",
            bat_ico_buff_numb: "battle/bat_ico_buff_numb.png",
            bat_ico_buff_poison: "battle/bat_ico_buff_poison.png",
            bat_ico_buff_positive: "battle/bat_ico_buff_positive.png",
            bat_ico_buff_positive_both: "battle/bat_ico_buff_positive_both.png",
            bat_ico_buff_power: "battle/bat_ico_buff_power.png",
            bat_ico_buff_sleep: "battle/bat_ico_buff_sleep.png",
            bat_icon_guide_npc: "battle/bat_icon_guide_npc.png",
            bat_keyword: "battle/bat_keyword.png",
            bat_label_atk: "battle/bat_label_atk.png",
            bat_label_def: "battle/bat_label_def.png",
            bat_label_end: "battle/bat_label_end.png",
            bat_label_end2: "battle/bat_label_end2.png",
            bat_label_skip: "battle/bat_label_skip.png",
            bat_loading_bg1: "img/bat_loading_bg1.png",
            bat_loading_bg2: "img/bat_loading_bg2.png",
            bat_loading_bg3: "img/bat_loading_bg3.png",
            bat_loading_bg4: "img/bat_loading_bg4.png",
            bat_loading_bg5: "img/bat_loading_bg5.png",
            bat_loading_bg6: "img/bat_loading_bg6.png",
            bat_loading_frame: "img/bat_loading_frame.png",
            bat_offline: "battle/bat_offline.png",
            bat_online: "battle/bat_online.png",
            bat_passed_bg: "img/bat_passed_bg.png",
            bat_pile_heap_0: "battle/bat_pile_heap_0.png",
            bat_pile_heap_1: "battle/bat_pile_heap_1.png",
            bat_pile_heap_2: "battle/bat_pile_heap_2.png",
            bat_progress_timer1: "battle/bat_progress_timer1.png",
            bat_progress_timer2: "battle/bat_progress_timer2.png",
            bat_red_1: "battle/bat_red_1.png",
            bat_red_10: "battle/bat_red_10.png",
            bat_red_2: "battle/bat_red_2.png",
            bat_red_3: "battle/bat_red_3.png",
            bat_red_4: "battle/bat_red_4.png",
            bat_red_5: "battle/bat_red_5.png",
            bat_red_6: "battle/bat_red_6.png",
            bat_red_7: "battle/bat_red_7.png",
            bat_red_8: "battle/bat_red_8.png",
            bat_red_9: "battle/bat_red_9.png",
            bat_result_battle_finish: "battle/bat_result_battle_finish.png",
            bat_result_draw_s: "battle/bat_result_draw_s.png",
            bat_result_lose_s: "battle/bat_result_lose_s.png",
            bat_result_replay_bg_center: "battle/bat_result_replay_bg_center.png",
            bat_result_replay_bg_circle: "battle/bat_result_replay_bg_circle.png",
            bat_result_replay_bg_draw: "battle/bat_result_replay_bg_draw.png",
            bat_result_replay_bg_lose: "battle/bat_result_replay_bg_lose.png",
            bat_result_replay_bg_win: "battle/bat_result_replay_bg_win.png",
            bat_result_star_01: "battle/bat_result_star_01.png",
            bat_result_star_02: "battle/bat_result_star_02.png",
            bat_result_win_s: "battle/bat_result_win_s.png",
            bat_scene_1_bg: "img/bat_scene_1_bg.png",
            bat_scene_1_bg_4x: "img/bat_scene_1_bg_4x.png",
            bat_scene_2_bg: "img/bat_scene_2_bg.png",
            bat_scene_2_bg_4x: "img/bat_scene_2_bg_4x.png",
            bat_scene_3_bg: "img/bat_scene_3_bg.png",
            bat_scene_3_bg_4x: "img/bat_scene_3_bg_4x.png",
            bat_scene_4_bg: "img/bat_scene_4_bg.png",
            bat_scene_4_bg_4x: "img/bat_scene_4_bg_4x.png",
            bat_scene_5_bg: "img/bat_scene_5_bg.png",
            bat_scene_5_bg_4x: "img/bat_scene_5_bg_4x.png",
            bat_scene_6_bg: "img/bat_scene_6_bg.png",
            bat_scene_6_bg_4x: "img/bat_scene_6_bg_4x.png",
            bat_scene_round_bottom: "battle/bat_scene_round_bottom.png",
            bat_scene_wick_bg: "battle/bat_scene_wick_bg.png",
            bat_screen_mask: "battle/bat_screen_mask.png",
            bat_skill_btn1: "battle/bat_skill_btn1.png",
            bat_skill_btn2: "battle/bat_skill_btn2.png",
            bat_skill_btn3: "battle/bat_skill_btn3.png",
            bat_skill_frame: "battle/bat_skill_frame.png",
            bat_skill_panel0: "battle/bat_skill_panel0.png",
            bat_skill_shadow: "battle/bat_skill_shadow.png",
            bat_skill_texture: "battle/bat_skill_texture.png",
            bat_speed_x1: "battle/bat_speed_x1.png",
            bat_speed_x2: "battle/bat_speed_x2.png",
            bat_speed_x3: "battle/bat_speed_x3.png",
            bat_speed_x4: "battle/bat_speed_x4.png",
            bat_story_bg: "battle/bat_story_bg.png",
            bat_story_title_bg: "battle/bat_story_title_bg.png",
            bat_weakness: "battle/bat_weakness.png",
            bat_weakness_panel1: "battle/bat_weakness_panel1.png",
            bat_weakness_panel2: "battle/bat_weakness_panel2.png",
            battle_bg: "img/battle_bg.png",
            battle_help_1: "img/battle_help_1.png",
            battle_help_2: "img/battle_help_2.png",
            battle_help_3: "img/battle_help_3.png",
            battle_help_4: "img/battle_help_4.png",
            battle_help_5: "img/battle_help_5.png",
            battle_task_star: "general/battle_task_star.png",
            begginner7days_task: "img/begginner7days_task.png",
            bg_2: "particle/bg_2.png",
            bg_icon_null: "general/bg_icon_null.png",
            biaoqing: "spine/biaoqing.png",
            bingdong: "spine/bingdong.png",
            book_lottery_bg: "img/book_lottery_bg.png",
            buy_button: "general/buy_button.png",
            bwft: "spine/bwft.png",
            bxklq: "spine/bxklq.png",
            caizhong: "spine/caizhong.png",
            caoxi: "spine/caoxi.png",
            capture_btn_back: "general/capture_btn_back.png",
            capture_btn_back2: "general/capture_btn_back2.png",
            capture_btn_bag: "general/capture_btn_bag.png",
            capture_btn_bg: "general/capture_btn_bg.png",
            capture_btn_capture: "general/capture_btn_capture.png",
            capture_clock: "general/capture_clock.png",
            capture_clock_bg: "general/capture_clock_bg.png",
            capture_info_bg: "general/capture_info_bg.png",
            capture_shadow: "general/capture_shadow.png",
            capture_times_bg: "general/capture_times_bg.png",
            capture_title: "general/capture_title.png",
            card_advence_bar: "general/card_advence_bar.png",
            card_advence_bar_bg: "general/card_advence_bar_bg.png",
            card_advence_bar_s: "general/card_advence_bar_s.png",
            card_advence_bar_s_bg: "general/card_advence_bar_s_bg.png",
            card_advence_bar_s_tip: "general/card_advence_bar_s_tip.png",
            card_advence_bar_tip: "general/card_advence_bar_tip.png",
            card_atk: "cards_img_1/card_atk.png",
            card_back_0: "cards_back/card_back_0.png",
            card_back_1: "cards_back/card_back_1.png",
            card_back_2: "cards_back/card_back_2.png",
            card_back_3: "cards_back/card_back_3.png",
            card_back_atk_0: "cards_back/card_back_atk_0.png",
            card_back_atk_1: "cards_back/card_back_atk_1.png",
            card_back_atk_2: "cards_back/card_back_atk_2.png",
            card_back_edge_01: "cards_img_1/card_back_edge_01.png",
            card_back_edge_02: "cards_img_1/card_back_edge_02.png",
            card_board_frame00: "cards_img_1/card_board_frame00.png",
            card_board_frame00_b1: "cards_img_1/card_board_frame00_b1.png",
            card_board_frame00_b2: "cards_img_1/card_board_frame00_b2.png",
            card_board_frame01: "cards_img_1/card_board_frame01.png",
            card_board_frame01_b1: "cards_img_1/card_board_frame01_b1.png",
            card_board_frame01_b2: "cards_img_1/card_board_frame01_b2.png",
            card_board_frame02: "cards_img_1/card_board_frame02.png",
            card_board_frame02_b1: "cards_img_1/card_board_frame02_b1.png",
            card_board_frame02_b2: "cards_img_1/card_board_frame02_b2.png",
            card_board_frame03: "cards_img_1/card_board_frame03.png",
            card_board_frame03_b1: "cards_img_1/card_board_frame03_b1.png",
            card_board_frame03_b2: "cards_img_1/card_board_frame03_b2.png",
            card_board_frame04: "cards_img_1/card_board_frame04.png",
            card_board_frame04_b1: "cards_img_1/card_board_frame04_b1.png",
            card_board_frame04_b2: "cards_img_1/card_board_frame04_b2.png",
            card_board_frame05: "cards_img_1/card_board_frame05.png",
            card_board_frame05_b1: "cards_img_1/card_board_frame05_b1.png",
            card_board_frame05_b2: "cards_img_1/card_board_frame05_b2.png",
            card_def: "cards_img_1/card_def.png",
            card_dialog_1: "battle/card_dialog_1.png",
            card_dialog_2: "battle/card_dialog_2.png",
            card_dialog_2_split: "battle/card_dialog_2_split.png",
            card_dialog_3: "battle/card_dialog_3.png",
            card_dl_from_1: "battle/card_dl_from_1.png",
            card_dl_from_2: "battle/card_dl_from_2.png",
            card_dl_from_3: "battle/card_dl_from_3.png",
            card_dl_from_4: "battle/card_dl_from_4.png",
            card_dl_from_5: "battle/card_dl_from_5.png",
            card_dl_from_6: "battle/card_dl_from_6.png",
            card_dl_xian: "battle/card_dl_xian.png",
            card_fragment_bar: "general/card_fragment_bar.png",
            card_fragment_bar_bg: "general/card_fragment_bar_bg.png",
            card_frame_icon_nature_00: "cards_img_1/card_frame_icon_nature_00.png",
            card_frame_nature_01: "cards_img_2/card_frame_nature_01.png",
            card_frame_nature_02: "cards_img_2/card_frame_nature_02.png",
            card_frame_nature_03: "cards_img_2/card_frame_nature_03.png",
            card_frame_nature_04: "cards_img_2/card_frame_nature_04.png",
            card_frame_nature_05: "cards_img_2/card_frame_nature_05.png",
            card_frame_nature_06: "cards_img_2/card_frame_nature_06.png",
            card_frame_nature_07: "cards_img_2/card_frame_nature_07.png",
            card_frame_nature_08: "cards_img_2/card_frame_nature_08.png",
            card_frame_nature_09: "cards_img_2/card_frame_nature_09.png",
            card_frame_nature_10: "cards_img_2/card_frame_nature_10.png",
            card_frame_nature_11: "cards_img_2/card_frame_nature_11.png",
            card_frame_nature_magic: "cards_img_5/card_frame_nature_magic.png",
            card_frame_nature_magic_2: "cards_img_5/card_frame_nature_magic_2.png",
            card_frame_nature_magic_3: "cards_img_5/card_frame_nature_magic_3.png",
            card_frame_skill_fame: "cards_img_1/card_frame_skill_fame.png",
            card_frame_stage: "cards_img_1/card_frame_stage.png",
            card_frame_wrd_bg: "cards_img_1/card_frame_wrd_bg.png",
            card_hp_0: "cards_img_1/card_hp_0.png",
            card_hp_10: "cards_img_1/card_hp_10.png",
            card_hp_100: "cards_img_1/card_hp_100.png",
            card_hp_110: "cards_img_1/card_hp_110.png",
            card_hp_120: "cards_img_1/card_hp_120.png",
            card_hp_130: "cards_img_1/card_hp_130.png",
            card_hp_140: "cards_img_1/card_hp_140.png",
            card_hp_150: "cards_img_1/card_hp_150.png",
            card_hp_160: "cards_img_1/card_hp_160.png",
            card_hp_170: "cards_img_1/card_hp_170.png",
            card_hp_180: "cards_img_1/card_hp_180.png",
            card_hp_190: "cards_img_1/card_hp_190.png",
            card_hp_20: "cards_img_1/card_hp_20.png",
            card_hp_200: "cards_img_1/card_hp_200.png",
            card_hp_30: "cards_img_1/card_hp_30.png",
            card_hp_40: "cards_img_1/card_hp_40.png",
            card_hp_50: "cards_img_1/card_hp_50.png",
            card_hp_60: "cards_img_1/card_hp_60.png",
            card_hp_70: "cards_img_1/card_hp_70.png",
            card_hp_80: "cards_img_1/card_hp_80.png",
            card_hp_90: "cards_img_1/card_hp_90.png",
            card_icon_empty: "cards_img_1/card_icon_empty.png",
            card_icon_focused: "cards_img_1/card_icon_focused.png",
            card_icon_quality_00: "cards_img_1/card_icon_quality_00.png",
            card_icon_quality_01: "cards_img_1/card_icon_quality_01.png",
            card_icon_quality_02: "cards_img_1/card_icon_quality_02.png",
            card_icon_quality_03: "cards_img_1/card_icon_quality_03.png",
            card_icon_quality_04: "cards_img_1/card_icon_quality_04.png",
            card_icon_quality_05: "cards_img_1/card_icon_quality_05.png",
            card_icon_quality_06: "cards_img_1/card_icon_quality_06.png",
            card_icon_quality_07: "cards_img_1/card_icon_quality_07.png",
            card_icon_unknow: "avatar/card_icon_unknow.png",
            card_info_widget: "general/card_info_widget.png",
            card_label_activate: "cards_img_1/card_label_activate.png",
            card_label_equiped: "cards_img_1/card_label_equiped.png",
            card_lvl0: "cards_img_1/card_lvl0.png",
            card_lvl1: "cards_img_1/card_lvl1.png",
            card_lvl2: "cards_img_1/card_lvl2.png",
            card_magic_11: "cards_img_1/card_magic_11.png",
            card_magic_12: "cards_img_1/card_magic_12.png",
            card_magic_13: "cards_img_1/card_magic_13.png",
            card_magic_14: "cards_img_1/card_magic_14.png",
            card_magic_15: "cards_img_1/card_magic_15.png",
            card_manage_bg: "img/card_manage_bg.png",
            card_monster_lv0: "cards_img_1/card_monster_lv0.png",
            card_monster_lv1: "cards_img_1/card_monster_lv1.png",
            card_monster_lv2: "cards_img_1/card_monster_lv2.png",
            card_nature_01_m: "cards_img_1/card_nature_01_m.png",
            card_nature_01_s: "cards_img_1/card_nature_01_s.png",
            card_nature_02_m: "cards_img_1/card_nature_02_m.png",
            card_nature_02_s: "cards_img_1/card_nature_02_s.png",
            card_nature_03_m: "cards_img_1/card_nature_03_m.png",
            card_nature_03_s: "cards_img_1/card_nature_03_s.png",
            card_nature_04_m: "cards_img_1/card_nature_04_m.png",
            card_nature_04_s: "cards_img_1/card_nature_04_s.png",
            card_nature_05_m: "cards_img_1/card_nature_05_m.png",
            card_nature_05_s: "cards_img_1/card_nature_05_s.png",
            card_nature_06_m: "cards_img_1/card_nature_06_m.png",
            card_nature_06_s: "cards_img_1/card_nature_06_s.png",
            card_nature_07_m: "cards_img_1/card_nature_07_m.png",
            card_nature_07_s: "cards_img_1/card_nature_07_s.png",
            card_nature_08_m: "cards_img_1/card_nature_08_m.png",
            card_nature_08_s: "cards_img_1/card_nature_08_s.png",
            card_nature_09_m: "cards_img_1/card_nature_09_m.png",
            card_nature_09_s: "cards_img_1/card_nature_09_s.png",
            card_nature_10_m: "cards_img_1/card_nature_10_m.png",
            card_nature_10_s: "cards_img_1/card_nature_10_s.png",
            card_nature_11_m: "cards_img_1/card_nature_11_m.png",
            card_nature_11_s: "cards_img_1/card_nature_11_s.png",
            card_nature_11_s_atk: "cards_img_1/card_nature_11_s_atk.png",
            card_nature_magic: "cards_img_1/card_nature_magic.png",
            "card_number_+": "cards_img_1/card_number_+.png",
            "card_number_-": "cards_img_1/card_number_-.png",
            card_number_10: "cards_img_1/card_number_10.png",
            card_number_100: "cards_img_1/card_number_100.png",
            card_number_110: "cards_img_1/card_number_110.png",
            card_number_120: "cards_img_1/card_number_120.png",
            card_number_130: "cards_img_1/card_number_130.png",
            card_number_140: "cards_img_1/card_number_140.png",
            card_number_150: "cards_img_1/card_number_150.png",
            card_number_160: "cards_img_1/card_number_160.png",
            card_number_20: "cards_img_1/card_number_20.png",
            card_number_30: "cards_img_1/card_number_30.png",
            card_number_40: "cards_img_1/card_number_40.png",
            card_number_50: "cards_img_1/card_number_50.png",
            card_number_60: "cards_img_1/card_number_60.png",
            card_number_70: "cards_img_1/card_number_70.png",
            card_number_80: "cards_img_1/card_number_80.png",
            card_number_90: "cards_img_1/card_number_90.png",
            "card_number_s_+10": "cards_img_1/card_number_s_+10.png",
            "card_number_s_+20": "cards_img_1/card_number_s_+20.png",
            "card_number_s_+30": "cards_img_1/card_number_s_+30.png",
            "card_number_s_-10": "cards_img_1/card_number_s_-10.png",
            "card_number_s_-20": "cards_img_1/card_number_s_-20.png",
            "card_number_s_-30": "cards_img_1/card_number_s_-30.png",
            card_number_s_x0: "cards_img_1/card_number_s_x0.png",
            card_number_s_x1: "cards_img_1/card_number_s_x1.png",
            card_number_s_x2: "cards_img_1/card_number_s_x2.png",
            card_number_s_x3: "cards_img_1/card_number_s_x3.png",
            card_number_s_x4: "cards_img_1/card_number_s_x4.png",
            card_number_s_x5: "cards_img_1/card_number_s_x5.png",
            card_number_s_x6: "cards_img_1/card_number_s_x6.png",
            card_number_x: "cards_img_1/card_number_x.png",
            card_number_x0: "cards_img_1/card_number_x0.png",
            card_number_x1: "cards_img_1/card_number_x1.png",
            card_number_x2: "cards_img_1/card_number_x2.png",
            card_number_x3: "cards_img_1/card_number_x3.png",
            card_number_x4: "cards_img_1/card_number_x4.png",
            card_number_x5: "cards_img_1/card_number_x5.png",
            card_number_x6: "cards_img_1/card_number_x6.png",
            card_quality: "cards_img_1/card_quality.png",
            card_quality_01: "cards_img_1/card_quality_01.png",
            card_quality_02: "cards_img_1/card_quality_02.png",
            card_quality_03: "cards_img_1/card_quality_03.png",
            card_quality_04: "cards_img_1/card_quality_04.png",
            card_quality_05: "cards_img_1/card_quality_05.png",
            card_quality_06: "cards_img_1/card_quality_06.png",
            card_quality_07: "cards_img_1/card_quality_07.png",
            card_quality_s_01: "cards_img_1/card_quality_s_01.png",
            card_quality_s_02: "cards_img_1/card_quality_s_02.png",
            card_quality_s_03: "cards_img_1/card_quality_s_03.png",
            card_quality_s_04: "cards_img_1/card_quality_s_04.png",
            card_quality_s_05: "cards_img_1/card_quality_s_05.png",
            card_quality_s_06: "cards_img_1/card_quality_s_06.png",
            card_quality_s_07: "cards_img_1/card_quality_s_07.png",
            card_shadow: "cards_img_1/card_shadow.png",
            card_skill_ability: "cards_img_1/card_skill_ability.png",
            card_skill_ability_atk: "cards_img_1/card_skill_ability_atk.png",
            card_skill_gift: "cards_img_1/card_skill_gift.png",
            card_skill_gift_atk: "cards_img_1/card_skill_gift_atk.png",
            card_skill_passive: "cards_img_1/card_skill_passive.png",
            card_skill_passive_atk: "cards_img_1/card_skill_passive_atk.png",
            card_split_line: "cards_img_1/card_split_line.png",
            card_spr_book_mask: "battle/card_spr_book_mask.png",
            card_value_0: "cards_img_1/card_value_0.png",
            card_value_1: "cards_img_1/card_value_1.png",
            card_value_2: "cards_img_1/card_value_2.png",
            card_value_3: "cards_img_1/card_value_3.png",
            card_value_4: "cards_img_1/card_value_4.png",
            card_value_5: "cards_img_1/card_value_5.png",
            card_value_6: "cards_img_1/card_value_6.png",
            card_value_7: "cards_img_1/card_value_7.png",
            card_value_8: "cards_img_1/card_value_8.png",
            card_value_9: "cards_img_1/card_value_9.png",
            card_value_x: "cards_img_1/card_value_x.png",
            change_character_bg: "img/change_character_bg.png",
            chapter_01_monster_01: "spine/chapter_01_monster_01.png",
            chapter_02_monster_01: "spine/chapter_02_monster_01.png",
            chapter_03_monster_01: "spine/chapter_03_monster_01.png",
            chapter_04_monster_01: "spine/chapter_04_monster_01.png",
            chapter_badge_01: "city/chapter_badge_01.png",
            chapter_badge_02: "city/chapter_badge_02.png",
            chapter_badge_03: "city/chapter_badge_03.png",
            chapter_badge_04: "city/chapter_badge_04.png",
            chapter_badge_05: "city/chapter_badge_05.png",
            chapter_bg: "img/chapter_bg.png",
            chapter_info_bg: "city/chapter_info_bg.png",
            chapter_name_bg_01: "city/chapter_name_bg_01.png",
            chapter_name_bg_02: "city/chapter_name_bg_02.png",
            chapter_name_bg_03: "city/chapter_name_bg_03.png",
            chapter_name_bg_04: "city/chapter_name_bg_04.png",
            character_selected: "general/character_selected.png",
            chat_middle_focus: "general/chat_middle_focus.png",
            chat_middle_unfocus: "general/chat_middle_unfocus.png",
            chat_right_focus: "general/chat_right_focus.png",
            chat_right_unfocus: "general/chat_right_unfocus.png",
            checkin_button1: "activity/checkin_button1.png",
            checkin_button2: "activity/checkin_button2.png",
            checkin_button3: "activity/checkin_button3.png",
            checkin_button4: "activity/checkin_button4.png",
            checkin_button5: "activity/checkin_button5.png",
            checkin_button6: "activity/checkin_button6.png",
            checkin_button_focus: "activity/checkin_button_focus.png",
            checkin_button_unfocus: "activity/checkin_button_unfocus.png",
            chxh: "spine/chxh.png",
            ciji: "spine/ciji.png",
            city_bg_01: "img/city_bg_01.png",
            city_btn_1006: "city/city_btn_1006.png",
            city_btn_1007: "city/city_btn_1007.png",
            city_btn_1016: "city/city_btn_1016.png",
            city_btn_1017: "city/city_btn_1017.png",
            city_btn_2000: "city/city_btn_2000.png",
            ck: "spine/ck.png",
            ck2: "spine/ck2.png",
            cover_card_bg: "battle/cover_card_bg.png",
            dafeng: "spine/dafeng.png",
            dahuo: "spine/dahuo.png",
            daily_active_bg: "general/daily_active_bg.png",
            dalian: "particle/dalian.png",
            damuboshi: "spine/damuboshi.png",
            dangqian: "particle/dangqian.png",
            dangqianguanka: "spine/dangqianguanka.png",
            dark_draw: "general/dark_draw.png",
            dark_lose: "general/dark_lose.png",
            dark_point: "general/dark_point.png",
            dark_win: "general/dark_win.png",
            dashui: "spine/dashui.png",
            ddj: "spine/ddj.png",
            dengdai: "spine/dengdai.png",
            depot_bg: "general/depot_bg.png",
            depot_shop_bg1: "general/depot_shop_bg1.png",
            depot_shop_bg2: "general/depot_shop_bg2.png",
            dgz: "spine/dgz.png",
            di: "spine/di.png",
            diamond_shop_0: "img/diamond_shop_0.png",
            dianji: "particle/dianji.png",
            dianxi: "spine/dianxi.png",
            dikang: "spine/dikang.png",
            dj: "spine/dj.png",
            ds: "spine/ds.png",
            duanwei: "spine/duanwei.png",
            duanwei_s: "spine/duanwei_s.png",
            duanweitisheng: "spine/duanweitisheng.png",
            duijueanniu: "spine/duijueanniu.png",
            duijuedating: "spine/duijuedating.png",
            duijuemaoxian: "spine/duijuemaoxian.png",
            dule_arena_door: "img/dule_arena_door.png",
            dule_choose_card_tips_bg: "general/dule_choose_card_tips_bg.png",
            dule_head_info: "general/dule_head_info.png",
            dule_troop_bg: "general/dule_troop_bg.png",
            duwu: "spine/duwu.png",
            duzhen: "spine/duzhen.png",
            duzt: "spine/duzt.png",
            efc_anjian: "battle/efc_anjian.png",
            efc_bingqiang: "battle/efc_bingqiang.png",
            efc_blade: "battle/efc_blade.png",
            efc_board_lock: "battle/efc_board_lock.png",
            efc_book_glow: "battle/efc_book_glow.png",
            efc_cmdlbz: "battle/efc_cmdlbz.png",
            efc_duye: "battle/efc_duye.png",
            efc_duzhen: "battle/efc_duzhen.png",
            efc_glow_bottom: "battle/efc_glow_bottom.png",
            efc_gqbb: "battle/efc_gqbb.png",
            efc_hudun: "battle/efc_hudun.png",
            efc_jx_1: "battle/efc_jx_1.png",
            efc_jx_2: "battle/efc_jx_2.png",
            efc_lwz: "battle/efc_lwz.png",
            efc_niutou: "battle/efc_niutou.png",
            efc_skill_glow: "battle/efc_skill_glow.png",
            efc_ssqy: "battle/efc_ssqy.png",
            efc_taoma_1: "battle/efc_taoma_1.png",
            efc_taoma_2: "battle/efc_taoma_2.png",
            efc_toufu: "battle/efc_toufu.png",
            efc_trap_visible: "battle/efc_trap_visible.png",
            efc_wz: "battle/efc_wz.png",
            efc_xiema: "battle/efc_xiema.png",
            efc_xueqiu: "battle/efc_xueqiu.png",
            efc_zfsj: "battle/efc_zfsj.png",
            efc_zhidao: "battle/efc_zhidao.png",
            efc_zhimao: "battle/efc_zhimao.png",
            enhance_1: "img/enhance_1.png",
            enhance_2: "img/enhance_2.png",
            enhance_3: "img/enhance_3.png",
            enhance_4: "img/enhance_4.png",
            enhance_tavern: "img/enhance_tavern.png",
            enhance_troop: "img/enhance_troop.png",
            eye_close: "battle/eye_close.png",
            eye_open: "battle/eye_open.png",
            feijb: "particle/feijb.png",
            feitili: "particle/feitili.png",
            feiyekuaidao: "spine/feiyekuaidao.png",
            fengling: "spine/fengling.png",
            fengwxunzhang: "spine/fengwxunzhang.png",
            filter_split: "general/filter_split.png",
            find_match_bg: "img/find_match_bg.png",
            find_unknown_player: "find/find_unknown_player.png",
            fund_task_bg: "general/fund_task_bg.png",
            fund_task_spr: "general/fund_task_spr.png",
            gacha_ad_1010: "img/gacha_ad_1010.png",
            gacha_ad_102: "img/gacha_ad_102.png",
            gacha_ad_1020: "img/gacha_ad_1020.png",
            gacha_ad_103: "img/gacha_ad_103.png",
            gacha_ad_104: "img/gacha_ad_104.png",
            gacha_ad_105: "img/gacha_ad_105.png",
            gacha_ad_151: "img/gacha_ad_151.png",
            gacha_ad_152: "img/gacha_ad_152.png",
            gacha_ad_153: "img/gacha_ad_153.png",
            gacha_ad_154: "img/gacha_ad_154.png",
            gacha_ad_155: "img/gacha_ad_155.png",
            gacha_ad_156: "img/gacha_ad_156.png",
            gacha_ad_157: "img/gacha_ad_157.png",
            gacha_ad_201: "img/gacha_ad_201.png",
            gacha_ad_2010: "img/gacha_ad_2010.png",
            gacha_ad_202: "img/gacha_ad_202.png",
            gacha_ad_203: "img/gacha_ad_203.png",
            gacha_ad_204: "img/gacha_ad_204.png",
            gacha_ad_2601: "img/gacha_ad_2601.png",
            gacha_bar_bottom: "city/gacha_bar_bottom.png",
            gacha_bar_top: "city/gacha_bar_top.png",
            gacha_bg: "img/gacha_bg.png",
            gacha_btn_01: "city/gacha_btn_01.png",
            gacha_btn_10: "city/gacha_btn_10.png",
            gacha_btn_50: "city/gacha_btn_50.png",
            gacha_icon_bg: "city/gacha_icon_bg.png",
            gacha_label_01: "city/gacha_label_01.png",
            gacha_label_02: "city/gacha_label_02.png",
            gacha_laser: "city/gacha_laser.png",
            gacha_list_bg: "city/gacha_list_bg.png",
            gacha_list_focus: "city/gacha_list_focus.png",
            gacha_list_title: "city/gacha_list_title.png",
            gacha_nature_02: "city/gacha_nature_02.png",
            gacha_nature_03: "city/gacha_nature_03.png",
            gacha_nature_04: "city/gacha_nature_04.png",
            gacha_nature_05: "city/gacha_nature_05.png",
            gacha_rare_01: "city/gacha_rare_01.png",
            gacha_rare_02: "city/gacha_rare_02.png",
            gacha_rare_03: "city/gacha_rare_03.png",
            gacha_rare_04: "city/gacha_rare_04.png",
            gacha_rare_05: "city/gacha_rare_05.png",
            gacha_rare_06: "city/gacha_rare_06.png",
            gacha_rare_07: "city/gacha_rare_07.png",
            gacha_reset: "city/gacha_reset.png",
            gacha_super_01: "city/gacha_super_01.png",
            gacha_super_bottom0: "city/gacha_super_bottom0.png",
            gacha_time_limit_01: "city/gacha_time_limit_01.png",
            gacha_time_limit_02: "city/gacha_time_limit_02.png",
            gacha_time_limit_03: "city/gacha_time_limit_03.png",
            gacha_time_limit_04: "city/gacha_time_limit_04.png",
            gangxi: "spine/gangxi.png",
            gddj: "spine/gddj.png",
            gedouxi: "spine/gedouxi.png",
            girl_invite: "img/girl_invite.png",
            girl_recharge: "img/girl_recharge.png",
            god_pump_bg: "img/god_pump_bg.png",
            god_pump_btn: "general/god_pump_btn.png",
            god_pump_light: "general/god_pump_light.png",
            god_pump_stage: "general/god_pump_stage.png",
            goumaichenggong: "spine/goumaichenggong.png",
            goumaizuanshi: "spine/goumaizuanshi.png",
            green_arraw_0: "city/green_arraw_0.png",
            group_avatar_selected: "img/group_avatar_selected.png",
            group_avatars_bg: "general/group_avatars_bg.png",
            group_mem_bg: "general/group_mem_bg.png",
            group_mem_lock: "general/group_mem_lock.png",
            group_name_bg: "general/group_name_bg.png",
            guafeng: "spine/guafeng.png",
            guang_l: "particle/guang_l.png",
            guangshu: "spine/guangshu.png",
            guide_bg: "img/guide_bg.png",
            guide_dialog_arrow: "guide/guide_dialog_arrow.png",
            guide_dialog_bg: "guide/guide_dialog_bg.png",
            guide_dialog_name_bg: "guide/guide_dialog_name_bg.png",
            guide_gender_bg_focus: "guide/guide_gender_bg_focus.png",
            guide_gender_bg_unfocus: "guide/guide_gender_bg_unfocus.png",
            guide_gender_icon_female: "guide/guide_gender_icon_female.png",
            guide_gender_icon_male: "guide/guide_gender_icon_male.png",
            guide_gender_title_female: "guide/guide_gender_title_female.png",
            guide_gender_title_male: "guide/guide_gender_title_male.png",
            guochang: "spine/guochang.png",
            guochang2: "spine/guochang2.png",
            guoguantiaojian: "spine/guoguantiaojian.png",
            hall_area_bg: "img/hall_area_bg.png",
            hall_in_room_bg: "img/hall_in_room_bg.png",
            head_02: "avatar/head_02.png",
            head_03: "avatar/head_03.png",
            head_04: "avatar/head_04.png",
            head_05: "avatar/head_05.png",
            head_unknow: "avatar/head_unknow.png",
            heidong: "spine/heidong.png",
            huali_26_0: "fonts/huali_26_0.png",
            huali_32_0: "fonts/huali_32_0.png",
            huangjinyueka: "spine/huangjinyueka.png",
            huanguan: "spine/huanguan.png",
            huichen: "spine/huichen.png",
            huihe: "spine/huihe.png",
            huo: "particle/huo.png",
            huodong: "spine/huodong.png",
            huoxi: "spine/huoxi.png",
            huoyan: "spine/huoyan.png",
            huozt: "spine/huozt.png",
            ic_nature_01: "img/ic_nature_01.png",
            ic_nature_02: "img/ic_nature_02.png",
            ic_nature_03: "img/ic_nature_03.png",
            ic_nature_04: "img/ic_nature_04.png",
            ic_nature_05: "img/ic_nature_05.png",
            ic_nature_06: "img/ic_nature_06.png",
            ic_nature_07: "img/ic_nature_07.png",
            ic_nature_08: "img/ic_nature_08.png",
            ic_nature_09: "img/ic_nature_09.png",
            ic_nature_10: "img/ic_nature_10.png",
            ic_nature_11: "img/ic_nature_11.png",
            ico_10001: "cards_img_3/ico_10001.png",
            ico_10002: "cards_img_3/ico_10002.png",
            ico_10003: "cards_img_3/ico_10003.png",
            ico_10004: "cards_img_3/ico_10004.png",
            ico_10005: "cards_img_3/ico_10005.png",
            ico_10006: "cards_img_3/ico_10006.png",
            ico_10007: "cards_img_3/ico_10007.png",
            ico_10008: "cards_img_3/ico_10008.png",
            ico_10009: "cards_img_3/ico_10009.png",
            ico_10010: "cards_img_3/ico_10010.png",
            ico_10011: "cards_img_3/ico_10011.png",
            ico_10012: "cards_img_3/ico_10012.png",
            ico_10013: "cards_img_3/ico_10013.png",
            ico_10014: "cards_img_3/ico_10014.png",
            ico_10015: "cards_img_3/ico_10015.png",
            ico_10016: "cards_img_3/ico_10016.png",
            ico_10017: "cards_img_3/ico_10017.png",
            ico_10018: "cards_img_3/ico_10018.png",
            ico_10019: "cards_img_3/ico_10019.png",
            ico_10020: "cards_img_3/ico_10020.png",
            ico_10021: "cards_img_3/ico_10021.png",
            ico_10022: "cards_img_3/ico_10022.png",
            ico_10023: "cards_img_3/ico_10023.png",
            ico_10024: "cards_img_3/ico_10024.png",
            ico_10025: "cards_img_3/ico_10025.png",
            ico_10026: "cards_img_3/ico_10026.png",
            ico_10027: "cards_img_3/ico_10027.png",
            ico_10028: "cards_img_3/ico_10028.png",
            ico_10029: "cards_img_3/ico_10029.png",
            ico_10030: "cards_img_3/ico_10030.png",
            ico_10031: "cards_img_3/ico_10031.png",
            ico_10032: "cards_img_3/ico_10032.png",
            ico_10033: "cards_img_3/ico_10033.png",
            ico_10034: "cards_img_3/ico_10034.png",
            ico_10035: "cards_img_3/ico_10035.png",
            ico_10036: "cards_img_3/ico_10036.png",
            ico_10037: "cards_img_3/ico_10037.png",
            ico_10038: "cards_img_3/ico_10038.png",
            ico_10039: "cards_img_3/ico_10039.png",
            ico_10040: "cards_img_3/ico_10040.png",
            ico_10041: "cards_img_3/ico_10041.png",
            ico_10042: "cards_img_3/ico_10042.png",
            ico_10043: "cards_img_3/ico_10043.png",
            ico_10044: "cards_img_3/ico_10044.png",
            ico_10045: "cards_img_3/ico_10045.png",
            ico_10046: "cards_img_3/ico_10046.png",
            ico_10047: "cards_img_3/ico_10047.png",
            ico_10048: "cards_img_3/ico_10048.png",
            ico_10049: "cards_img_3/ico_10049.png",
            ico_10050: "cards_img_3/ico_10050.png",
            ico_10051: "cards_img_3/ico_10051.png",
            ico_10052: "cards_img_3/ico_10052.png",
            ico_10053: "cards_img_3/ico_10053.png",
            ico_10054: "cards_img_3/ico_10054.png",
            ico_10055: "cards_img_3/ico_10055.png",
            ico_10056: "cards_img_3/ico_10056.png",
            ico_10057: "cards_img_3/ico_10057.png",
            ico_10502: "cards_img_3/ico_10502.png",
            ico_10505: "cards_img_3/ico_10505.png",
            ico_10513: "cards_img_3/ico_10513.png",
            ico_10536: "cards_img_3/ico_10536.png",
            ico_11001: "cards_img_3/ico_11001.png",
            ico_11002: "cards_img_3/ico_11002.png",
            ico_11003: "cards_img_3/ico_11003.png",
            ico_11004: "cards_img_3/ico_11004.png",
            ico_11005: "cards_img_3/ico_11005.png",
            ico_11006: "cards_img_3/ico_11006.png",
            ico_11007: "cards_img_3/ico_11007.png",
            ico_11008: "cards_img_3/ico_11008.png",
            ico_11009: "cards_img_3/ico_11009.png",
            ico_11010: "cards_img_3/ico_11010.png",
            ico_11011: "cards_img_3/ico_11011.png",
            ico_11012: "cards_img_3/ico_11012.png",
            ico_11013: "cards_img_3/ico_11013.png",
            ico_11014: "cards_img_3/ico_11014.png",
            ico_11015: "cards_img_3/ico_11015.png",
            ico_11016: "cards_img_3/ico_11016.png",
            ico_11017: "cards_img_3/ico_11017.png",
            ico_11018: "cards_img_3/ico_11018.png",
            ico_11019: "cards_img_3/ico_11019.png",
            ico_11020: "cards_img_3/ico_11020.png",
            ico_11021: "cards_img_3/ico_11021.png",
            ico_11022: "cards_img_3/ico_11022.png",
            ico_11023: "cards_img_3/ico_11023.png",
            ico_11024: "cards_img_3/ico_11024.png",
            ico_11025: "cards_img_3/ico_11025.png",
            ico_11026: "cards_img_3/ico_11026.png",
            ico_11027: "cards_img_3/ico_11027.png",
            ico_11028: "cards_img_3/ico_11028.png",
            ico_11029: "cards_img_3/ico_11029.png",
            ico_11030: "cards_img_3/ico_11030.png",
            ico_11031: "cards_img_3/ico_11031.png",
            ico_11032: "cards_img_3/ico_11032.png",
            ico_11033: "cards_img_3/ico_11033.png",
            ico_11034: "cards_img_3/ico_11034.png",
            ico_11035: "cards_img_3/ico_11035.png",
            ico_11036: "cards_img_3/ico_11036.png",
            ico_11037: "cards_img_3/ico_11037.png",
            ico_11038: "cards_img_3/ico_11038.png",
            ico_11502: "cards_img_3/ico_11502.png",
            ico_11510: "cards_img_3/ico_11510.png",
            ico_11512: "cards_img_3/ico_11512.png",
            ico_11515: "cards_img_3/ico_11515.png",
            ico_11522: "cards_img_3/ico_11522.png",
            ico_12001: "cards_img_3/ico_12001.png",
            ico_12002: "cards_img_3/ico_12002.png",
            ico_12003: "cards_img_3/ico_12003.png",
            ico_12004: "cards_img_3/ico_12004.png",
            ico_12005: "cards_img_3/ico_12005.png",
            ico_12006: "cards_img_3/ico_12006.png",
            ico_12007: "cards_img_3/ico_12007.png",
            ico_12008: "cards_img_3/ico_12008.png",
            ico_12009: "cards_img_3/ico_12009.png",
            ico_12010: "cards_img_3/ico_12010.png",
            ico_12011: "cards_img_3/ico_12011.png",
            ico_12012: "cards_img_3/ico_12012.png",
            ico_12013: "cards_img_3/ico_12013.png",
            ico_12014: "cards_img_3/ico_12014.png",
            ico_12015: "cards_img_3/ico_12015.png",
            ico_12016: "cards_img_3/ico_12016.png",
            ico_12017: "cards_img_3/ico_12017.png",
            ico_12018: "cards_img_3/ico_12018.png",
            ico_12019: "cards_img_3/ico_12019.png",
            ico_12020: "cards_img_3/ico_12020.png",
            ico_12021: "cards_img_3/ico_12021.png",
            ico_12022: "cards_img_3/ico_12022.png",
            ico_12023: "cards_img_3/ico_12023.png",
            ico_12024: "cards_img_3/ico_12024.png",
            ico_12025: "cards_img_3/ico_12025.png",
            ico_12026: "cards_img_3/ico_12026.png",
            ico_12027: "cards_img_3/ico_12027.png",
            ico_12028: "cards_img_3/ico_12028.png",
            ico_12029: "cards_img_3/ico_12029.png",
            ico_12030: "cards_img_3/ico_12030.png",
            ico_12031: "cards_img_3/ico_12031.png",
            ico_12032: "cards_img_3/ico_12032.png",
            ico_12033: "cards_img_3/ico_12033.png",
            ico_12034: "cards_img_3/ico_12034.png",
            ico_12035: "cards_img_3/ico_12035.png",
            ico_12036: "cards_img_3/ico_12036.png",
            ico_12037: "cards_img_3/ico_12037.png",
            ico_12038: "cards_img_3/ico_12038.png",
            ico_12039: "cards_img_3/ico_12039.png",
            ico_12040: "cards_img_3/ico_12040.png",
            ico_12041: "cards_img_3/ico_12041.png",
            ico_12042: "cards_img_3/ico_12042.png",
            ico_12043: "cards_img_3/ico_12043.png",
            ico_12044: "cards_img_3/ico_12044.png",
            ico_12045: "cards_img_3/ico_12045.png",
            ico_12046: "cards_img_3/ico_12046.png",
            ico_12502: "cards_img_3/ico_12502.png",
            ico_12515: "cards_img_3/ico_12515.png",
            ico_12521: "cards_img_3/ico_12521.png",
            ico_12522: "cards_img_3/ico_12522.png",
            ico_12525: "cards_img_3/ico_12525.png",
            ico_12534: "cards_img_3/ico_12534.png",
            ico_13001: "cards_img_3/ico_13001.png",
            ico_13002: "cards_img_3/ico_13002.png",
            ico_13003: "cards_img_3/ico_13003.png",
            ico_13004: "cards_img_3/ico_13004.png",
            ico_13005: "cards_img_3/ico_13005.png",
            ico_13006: "cards_img_3/ico_13006.png",
            ico_13007: "cards_img_3/ico_13007.png",
            ico_13008: "cards_img_3/ico_13008.png",
            ico_13009: "cards_img_3/ico_13009.png",
            ico_13010: "cards_img_3/ico_13010.png",
            ico_13011: "cards_img_3/ico_13011.png",
            ico_13012: "cards_img_3/ico_13012.png",
            ico_13013: "cards_img_3/ico_13013.png",
            ico_13014: "cards_img_3/ico_13014.png",
            ico_13015: "cards_img_3/ico_13015.png",
            ico_13016: "cards_img_3/ico_13016.png",
            ico_13017: "cards_img_3/ico_13017.png",
            ico_13018: "cards_img_3/ico_13018.png",
            ico_13019: "cards_img_3/ico_13019.png",
            ico_13020: "cards_img_3/ico_13020.png",
            ico_13021: "cards_img_3/ico_13021.png",
            ico_13022: "cards_img_3/ico_13022.png",
            ico_13023: "cards_img_3/ico_13023.png",
            ico_13024: "cards_img_3/ico_13024.png",
            ico_13025: "cards_img_3/ico_13025.png",
            ico_13026: "cards_img_3/ico_13026.png",
            ico_13027: "cards_img_3/ico_13027.png",
            ico_13028: "cards_img_3/ico_13028.png",
            ico_13029: "cards_img_3/ico_13029.png",
            ico_13030: "cards_img_3/ico_13030.png",
            ico_13031: "cards_img_3/ico_13031.png",
            ico_13032: "cards_img_3/ico_13032.png",
            ico_13033: "cards_img_3/ico_13033.png",
            ico_13034: "cards_img_3/ico_13034.png",
            ico_13035: "cards_img_3/ico_13035.png",
            ico_13036: "cards_img_3/ico_13036.png",
            ico_13037: "cards_img_3/ico_13037.png",
            ico_13038: "cards_img_3/ico_13038.png",
            ico_13039: "cards_img_3/ico_13039.png",
            ico_13040: "cards_img_3/ico_13040.png",
            ico_13041: "cards_img_3/ico_13041.png",
            ico_13042: "cards_img_3/ico_13042.png",
            ico_13043: "cards_img_3/ico_13043.png",
            ico_13512: "cards_img_3/ico_13512.png",
            ico_13513: "cards_img_3/ico_13513.png",
            ico_13522: "cards_img_3/ico_13522.png",
            ico_14001: "cards_img_3/ico_14001.png",
            ico_14002: "cards_img_3/ico_14002.png",
            ico_14003: "cards_img_3/ico_14003.png",
            ico_14004: "cards_img_3/ico_14004.png",
            ico_14005: "cards_img_3/ico_14005.png",
            ico_14006: "cards_img_3/ico_14006.png",
            ico_14007: "cards_img_3/ico_14007.png",
            ico_14008: "cards_img_3/ico_14008.png",
            ico_14009: "cards_img_3/ico_14009.png",
            ico_14010: "cards_img_3/ico_14010.png",
            ico_14011: "cards_img_3/ico_14011.png",
            ico_14012: "cards_img_3/ico_14012.png",
            ico_14013: "cards_img_3/ico_14013.png",
            ico_14014: "cards_img_3/ico_14014.png",
            ico_14015: "cards_img_3/ico_14015.png",
            ico_14016: "cards_img_3/ico_14016.png",
            ico_14017: "cards_img_3/ico_14017.png",
            ico_14018: "cards_img_3/ico_14018.png",
            ico_14019: "cards_img_3/ico_14019.png",
            ico_14020: "cards_img_3/ico_14020.png",
            ico_14021: "cards_img_3/ico_14021.png",
            ico_14022: "cards_img_3/ico_14022.png",
            ico_14023: "cards_img_3/ico_14023.png",
            ico_14024: "cards_img_3/ico_14024.png",
            ico_14025: "cards_img_3/ico_14025.png",
            ico_14026: "cards_img_3/ico_14026.png",
            ico_14027: "cards_img_3/ico_14027.png",
            ico_14028: "cards_img_3/ico_14028.png",
            ico_14029: "cards_img_3/ico_14029.png",
            ico_14030: "cards_img_3/ico_14030.png",
            ico_14031: "cards_img_3/ico_14031.png",
            ico_14502: "cards_img_3/ico_14502.png",
            ico_14504: "cards_img_3/ico_14504.png",
            ico_14505: "cards_img_3/ico_14505.png",
            ico_14506: "cards_img_3/ico_14506.png",
            ico_14507: "cards_img_3/ico_14507.png",
            ico_14510: "cards_img_3/ico_14510.png",
            ico_14513: "cards_img_3/ico_14513.png",
            ico_14515: "cards_img_3/ico_14515.png",
            ico_14516: "cards_img_3/ico_14516.png",
            ico_14522: "cards_img_3/ico_14522.png",
            ico_15001: "cards_img_3/ico_15001.png",
            ico_15002: "cards_img_3/ico_15002.png",
            ico_15003: "cards_img_3/ico_15003.png",
            ico_15004: "cards_img_3/ico_15004.png",
            ico_15005: "cards_img_3/ico_15005.png",
            ico_15006: "cards_img_3/ico_15006.png",
            ico_15007: "cards_img_3/ico_15007.png",
            ico_15008: "cards_img_3/ico_15008.png",
            ico_15009: "cards_img_3/ico_15009.png",
            ico_15010: "cards_img_3/ico_15010.png",
            ico_15011: "cards_img_3/ico_15011.png",
            ico_15012: "cards_img_3/ico_15012.png",
            ico_15013: "cards_img_3/ico_15013.png",
            ico_15014: "cards_img_3/ico_15014.png",
            ico_15015: "cards_img_3/ico_15015.png",
            ico_15016: "cards_img_3/ico_15016.png",
            ico_15017: "cards_img_3/ico_15017.png",
            ico_15018: "cards_img_3/ico_15018.png",
            ico_15019: "cards_img_3/ico_15019.png",
            ico_15020: "cards_img_3/ico_15020.png",
            ico_15021: "cards_img_3/ico_15021.png",
            ico_15022: "cards_img_3/ico_15022.png",
            ico_15023: "cards_img_3/ico_15023.png",
            ico_15024: "cards_img_3/ico_15024.png",
            ico_15025: "cards_img_3/ico_15025.png",
            ico_15026: "cards_img_3/ico_15026.png",
            ico_15027: "cards_img_3/ico_15027.png",
            ico_15028: "cards_img_3/ico_15028.png",
            ico_15029: "cards_img_3/ico_15029.png",
            ico_15030: "cards_img_3/ico_15030.png",
            ico_15502: "cards_img_3/ico_15502.png",
            ico_15504: "cards_img_3/ico_15504.png",
            ico_15506: "cards_img_3/ico_15506.png",
            ico_15514: "cards_img_3/ico_15514.png",
            ico_15515: "cards_img_3/ico_15515.png",
            ico_15519: "cards_img_3/ico_15519.png",
            ico_15525: "cards_img_3/ico_15525.png",
            ico_15526: "cards_img_3/ico_15526.png",
            ico_16001: "cards_img_3/ico_16001.png",
            ico_16002: "cards_img_3/ico_16002.png",
            ico_16003: "cards_img_3/ico_16003.png",
            ico_16004: "cards_img_3/ico_16004.png",
            ico_16005: "cards_img_3/ico_16005.png",
            ico_16006: "cards_img_3/ico_16006.png",
            ico_16007: "cards_img_3/ico_16007.png",
            ico_16008: "cards_img_3/ico_16008.png",
            ico_16009: "cards_img_3/ico_16009.png",
            ico_17001: "cards_img_3/ico_17001.png",
            ico_17002: "cards_img_3/ico_17002.png",
            ico_17003: "cards_img_3/ico_17003.png",
            ico_17004: "cards_img_3/ico_17004.png",
            ico_17005: "cards_img_3/ico_17005.png",
            ico_17006: "cards_img_3/ico_17006.png",
            ico_17007: "cards_img_3/ico_17007.png",
            ico_17008: "cards_img_3/ico_17008.png",
            ico_17009: "cards_img_3/ico_17009.png",
            ico_17010: "cards_img_3/ico_17010.png",
            ico_17011: "cards_img_3/ico_17011.png",
            ico_17012: "cards_img_3/ico_17012.png",
            ico_17013: "cards_img_3/ico_17013.png",
            ico_17014: "cards_img_3/ico_17014.png",
            ico_17015: "cards_img_3/ico_17015.png",
            ico_18001: "cards_img_3/ico_18001.png",
            ico_18002: "cards_img_3/ico_18002.png",
            ico_19001: "cards_img_3/ico_19001.png",
            ico_19002: "cards_img_3/ico_19002.png",
            ico_19003: "cards_img_3/ico_19003.png",
            ico_19004: "cards_img_3/ico_19004.png",
            ico_19005: "cards_img_3/ico_19005.png",
            ico_19006: "cards_img_3/ico_19006.png",
            ico_20001: "cards_img_3/ico_20001.png",
            ico_20002: "cards_img_3/ico_20002.png",
            ico_20003: "cards_img_3/ico_20003.png",
            ico_20004: "cards_img_3/ico_20004.png",
            ico_20005: "cards_img_3/ico_20005.png",
            ico_20006: "cards_img_3/ico_20006.png",
            ico_20007: "cards_img_3/ico_20007.png",
            ico_20008: "cards_img_3/ico_20008.png",
            ico_20009: "cards_img_3/ico_20009.png",
            ico_20010: "cards_img_3/ico_20010.png",
            ico_20011: "cards_img_3/ico_20011.png",
            ico_20012: "cards_img_3/ico_20012.png",
            ico_20013: "cards_img_3/ico_20013.png",
            ico_20014: "cards_img_3/ico_20014.png",
            ico_20015: "cards_img_3/ico_20015.png",
            ico_20016: "cards_img_3/ico_20016.png",
            ico_20017: "cards_img_3/ico_20017.png",
            ico_20018: "cards_img_3/ico_20018.png",
            ico_20019: "cards_img_3/ico_20019.png",
            ico_20020: "cards_img_3/ico_20020.png",
            ico_20021: "cards_img_3/ico_20021.png",
            ico_20022: "cards_img_3/ico_20022.png",
            ico_20023: "cards_img_3/ico_20023.png",
            ico_20024: "cards_img_3/ico_20024.png",
            ico_20025: "cards_img_3/ico_20025.png",
            ico_20026: "cards_img_3/ico_20026.png",
            ico_20027: "cards_img_3/ico_20027.png",
            ico_20028: "cards_img_3/ico_20028.png",
            ico_20029: "cards_img_3/ico_20029.png",
            ico_20030: "cards_img_3/ico_20030.png",
            ico_20031: "cards_img_3/ico_20031.png",
            ico_20032: "cards_img_3/ico_20032.png",
            ico_20033: "cards_img_3/ico_20033.png",
            ico_20034: "cards_img_3/ico_20034.png",
            ico_20035: "cards_img_3/ico_20035.png",
            ico_20036: "cards_img_3/ico_20036.png",
            ico_20037: "cards_img_3/ico_20037.png",
            ico_20038: "cards_img_3/ico_20038.png",
            ico_20039: "cards_img_3/ico_20039.png",
            ico_20040: "cards_img_3/ico_20040.png",
            ico_20041: "cards_img_3/ico_20041.png",
            ico_20042: "cards_img_3/ico_20042.png",
            ico_20043: "cards_img_3/ico_20043.png",
            ico_20044: "cards_img_3/ico_20044.png",
            ico_20045: "cards_img_3/ico_20045.png",
            ico_20502: "cards_img_3/ico_20502.png",
            ico_20504: "cards_img_3/ico_20504.png",
            ico_20506: "cards_img_3/ico_20506.png",
            ico_20508: "cards_img_3/ico_20508.png",
            ico_20512: "cards_img_3/ico_20512.png",
            ico_20514: "cards_img_3/ico_20514.png",
            ico_20516: "cards_img_3/ico_20516.png",
            ico_20526: "cards_img_3/ico_20526.png",
            ico_20527: "cards_img_3/ico_20527.png",
            ico_30001: "cards_img_4/ico_30001.png",
            ico_30002: "cards_img_4/ico_30002.png",
            ico_30003: "cards_img_4/ico_30003.png",
            ico_30004: "cards_img_4/ico_30004.png",
            ico_30005: "cards_img_4/ico_30005.png",
            ico_30006: "cards_img_4/ico_30006.png",
            ico_30007: "cards_img_4/ico_30007.png",
            ico_30008: "cards_img_4/ico_30008.png",
            ico_30009: "cards_img_4/ico_30009.png",
            ico_30010: "cards_img_4/ico_30010.png",
            ico_30011: "cards_img_4/ico_30011.png",
            ico_30012: "cards_img_4/ico_30012.png",
            ico_30013: "cards_img_4/ico_30013.png",
            ico_30014: "cards_img_4/ico_30014.png",
            ico_30015: "cards_img_4/ico_30015.png",
            ico_30016: "cards_img_4/ico_30016.png",
            ico_30017: "cards_img_4/ico_30017.png",
            ico_30018: "cards_img_4/ico_30018.png",
            ico_30019: "cards_img_4/ico_30019.png",
            ico_30020: "cards_img_4/ico_30020.png",
            ico_30021: "cards_img_4/ico_30021.png",
            ico_30022: "cards_img_4/ico_30022.png",
            ico_30023: "cards_img_4/ico_30023.png",
            ico_30024: "cards_img_4/ico_30024.png",
            ico_30024_atk: "cards_img_4/ico_30024_atk.png",
            ico_30025: "cards_img_4/ico_30025.png",
            ico_30026: "cards_img_4/ico_30026.png",
            ico_30027: "cards_img_4/ico_30027.png",
            ico_30028: "cards_img_4/ico_30028.png",
            ico_30029: "cards_img_4/ico_30029.png",
            ico_30030: "cards_img_4/ico_30030.png",
            ico_30031: "cards_img_4/ico_30031.png",
            ico_30032: "cards_img_4/ico_30032.png",
            ico_30033: "cards_img_4/ico_30033.png",
            ico_30034: "cards_img_4/ico_30034.png",
            ico_30035: "cards_img_4/ico_30035.png",
            ico_30036: "cards_img_4/ico_30036.png",
            ico_30037: "cards_img_4/ico_30037.png",
            ico_30038: "cards_img_4/ico_30038.png",
            ico_30039: "cards_img_4/ico_30039.png",
            ico_30040: "cards_img_4/ico_30040.png",
            ico_30041: "cards_img_4/ico_30041.png",
            ico_30042: "cards_img_4/ico_30042.png",
            ico_30043: "cards_img_4/ico_30043.png",
            ico_30044: "cards_img_4/ico_30044.png",
            ico_30045: "cards_img_4/ico_30045.png",
            ico_30046: "cards_img_4/ico_30046.png",
            ico_30047: "cards_img_4/ico_30047.png",
            ico_30048: "cards_img_4/ico_30048.png",
            ico_30049: "cards_img_4/ico_30049.png",
            ico_30050: "cards_img_4/ico_30050.png",
            ico_30051: "cards_img_4/ico_30051.png",
            ico_30052: "cards_img_4/ico_30052.png",
            ico_30053: "cards_img_4/ico_30053.png",
            ico_30054: "cards_img_4/ico_30054.png",
            ico_30055: "cards_img_4/ico_30055.png",
            ico_30056: "cards_img_4/ico_30056.png",
            ico_30057: "cards_img_4/ico_30057.png",
            ico_30058: "cards_img_4/ico_30058.png",
            ico_30059: "cards_img_4/ico_30059.png",
            ico_30060: "cards_img_4/ico_30060.png",
            ico_30061: "cards_img_4/ico_30061.png",
            ico_30062: "cards_img_4/ico_30062.png",
            ico_30063: "cards_img_4/ico_30063.png",
            ico_30064: "cards_img_4/ico_30064.png",
            ico_30065: "cards_img_4/ico_30065.png",
            ico_30066: "cards_img_4/ico_30066.png",
            ico_30067: "cards_img_4/ico_30067.png",
            ico_30068: "cards_img_4/ico_30068.png",
            ico_30069: "cards_img_4/ico_30069.png",
            ico_32001: "cards_img_4/ico_32001.png",
            ico_32001_atk: "cards_img_4/ico_32001_atk.png",
            ico_32002: "cards_img_4/ico_32002.png",
            ico_32002_atk: "cards_img_4/ico_32002_atk.png",
            ico_32003: "cards_img_4/ico_32003.png",
            ico_32003_atk: "cards_img_4/ico_32003_atk.png",
            ico_32004: "cards_img_4/ico_32004.png",
            ico_32004_atk: "cards_img_4/ico_32004_atk.png",
            ico_32005: "cards_img_4/ico_32005.png",
            ico_32005_atk: "cards_img_4/ico_32005_atk.png",
            ico_32006: "cards_img_4/ico_32006.png",
            ico_32006_atk: "cards_img_4/ico_32006_atk.png",
            ico_32007: "cards_img_4/ico_32007.png",
            ico_32007_atk: "cards_img_4/ico_32007_atk.png",
            ico_32008: "cards_img_4/ico_32008.png",
            ico_32008_atk: "cards_img_4/ico_32008_atk.png",
            ico_32009: "cards_img_4/ico_32009.png",
            ico_32009_atk: "cards_img_4/ico_32009_atk.png",
            ico_32010: "cards_img_4/ico_32010.png",
            ico_32010_atk: "cards_img_4/ico_32010_atk.png",
            ico_32011: "cards_img_4/ico_32011.png",
            ico_32011_atk: "cards_img_4/ico_32011_atk.png",
            ico_32012: "cards_img_4/ico_32012.png",
            ico_32012_atk: "cards_img_4/ico_32012_atk.png",
            ico_32013: "cards_img_4/ico_32013.png",
            ico_32013_atk: "cards_img_4/ico_32013_atk.png",
            ico_32014: "cards_img_4/ico_32014.png",
            ico_32014_atk: "cards_img_4/ico_32014_atk.png",
            ico_32015: "cards_img_4/ico_32015.png",
            ico_32015_atk: "cards_img_4/ico_32015_atk.png",
            ico_32016: "cards_img_4/ico_32016.png",
            ico_32016_atk: "cards_img_4/ico_32016_atk.png",
            ico_32017: "cards_img_4/ico_32017.png",
            ico_32017_atk: "cards_img_4/ico_32017_atk.png",
            ico_32018: "cards_img_4/ico_32018.png",
            ico_32018_atk: "cards_img_4/ico_32018_atk.png",
            ico_32019: "cards_img_4/ico_32019.png",
            ico_32019_atk: "cards_img_4/ico_32019_atk.png",
            ico_32020: "cards_img_4/ico_32020.png",
            ico_32020_atk: "cards_img_4/ico_32020_atk.png",
            ico_32021: "cards_img_4/ico_32021.png",
            ico_32021_atk: "cards_img_4/ico_32021_atk.png",
            ico_32022: "cards_img_4/ico_32022.png",
            ico_32022_atk: "cards_img_4/ico_32022_atk.png",
            ico_32023: "cards_img_4/ico_32023.png",
            ico_32023_atk: "cards_img_4/ico_32023_atk.png",
            ico_32024: "cards_img_4/ico_32024.png",
            ico_32024_atk: "cards_img_4/ico_32024_atk.png",
            ico_32025: "cards_img_4/ico_32025.png",
            ico_32025_atk: "cards_img_4/ico_32025_atk.png",
            ico_32026: "cards_img_4/ico_32026.png",
            ico_32026_atk: "cards_img_4/ico_32026_atk.png",
            ico_32027: "cards_img_4/ico_32027.png",
            ico_32027_atk: "cards_img_4/ico_32027_atk.png",
            ico_32028: "cards_img_4/ico_32028.png",
            ico_32028_atk: "cards_img_4/ico_32028_atk.png",
            ico_32029: "cards_img_4/ico_32029.png",
            ico_32029_atk: "cards_img_4/ico_32029_atk.png",
            ico_32030: "cards_img_4/ico_32030.png",
            ico_32030_atk: "cards_img_4/ico_32030_atk.png",
            ico_32031: "cards_img_4/ico_32031.png",
            ico_32031_atk: "cards_img_4/ico_32031_atk.png",
            ico_32032: "cards_img_4/ico_32032.png",
            ico_32032_atk: "cards_img_4/ico_32032_atk.png",
            ico_32033: "cards_img_4/ico_32033.png",
            ico_32033_atk: "cards_img_4/ico_32033_atk.png",
            ico_32034: "cards_img_4/ico_32034.png",
            ico_32034_atk: "cards_img_4/ico_32034_atk.png",
            ico_32035: "cards_img_4/ico_32035.png",
            ico_32035_atk: "cards_img_4/ico_32035_atk.png",
            ico_32036: "cards_img_4/ico_32036.png",
            ico_32036_atk: "cards_img_4/ico_32036_atk.png",
            ico_32037: "cards_img_4/ico_32037.png",
            ico_32037_atk: "cards_img_4/ico_32037_atk.png",
            ico_32038: "cards_img_4/ico_32038.png",
            ico_32038_atk: "cards_img_4/ico_32038_atk.png",
            ico_32039: "cards_img_4/ico_32039.png",
            ico_32039_atk: "cards_img_4/ico_32039_atk.png",
            ico_32040: "cards_img_4/ico_32040.png",
            ico_32040_atk: "cards_img_4/ico_32040_atk.png",
            ico_32041: "cards_img_4/ico_32041.png",
            ico_32041_atk: "cards_img_4/ico_32041_atk.png",
            ico_32042: "cards_img_4/ico_32042.png",
            ico_32042_atk: "cards_img_4/ico_32042_atk.png",
            ico_32043: "cards_img_4/ico_32043.png",
            ico_32043_atk: "cards_img_4/ico_32043_atk.png",
            ico_32044: "cards_img_4/ico_32044.png",
            ico_32044_atk: "cards_img_4/ico_32044_atk.png",
            ico_32045: "cards_img_4/ico_32045.png",
            ico_32045_atk: "cards_img_4/ico_32045_atk.png",
            ico_32046: "cards_img_4/ico_32046.png",
            ico_32046_atk: "cards_img_4/ico_32046_atk.png",
            ico_32047: "cards_img_4/ico_32047.png",
            ico_32047_atk: "cards_img_4/ico_32047_atk.png",
            ico_32048: "cards_img_4/ico_32048.png",
            ico_32048_atk: "cards_img_4/ico_32048_atk.png",
            ico_32049: "cards_img_4/ico_32049.png",
            ico_32049_atk: "cards_img_4/ico_32049_atk.png",
            ico_32050: "cards_img_4/ico_32050.png",
            ico_32050_atk: "cards_img_4/ico_32050_atk.png",
            ico_32051: "cards_img_4/ico_32051.png",
            ico_32051_atk: "cards_img_4/ico_32051_atk.png",
            ico_32052: "cards_img_4/ico_32052.png",
            ico_32052_atk: "cards_img_4/ico_32052_atk.png",
            ico_32053: "cards_img_4/ico_32053.png",
            ico_32053_atk: "cards_img_4/ico_32053_atk.png",
            ico_32054: "cards_img_4/ico_32054.png",
            ico_32054_atk: "cards_img_4/ico_32054_atk.png",
            ico_32055: "cards_img_4/ico_32055.png",
            ico_32055_atk: "cards_img_4/ico_32055_atk.png",
            ico_32056: "cards_img_4/ico_32056.png",
            ico_32056_atk: "cards_img_4/ico_32056_atk.png",
            ico_32057: "cards_img_4/ico_32057.png",
            ico_32057_atk: "cards_img_4/ico_32057_atk.png",
            ico_32058: "cards_img_4/ico_32058.png",
            ico_32058_atk: "cards_img_4/ico_32058_atk.png",
            ico_32059: "cards_img_4/ico_32059.png",
            ico_32059_atk: "cards_img_4/ico_32059_atk.png",
            ico_32060: "cards_img_4/ico_32060.png",
            ico_32060_atk: "cards_img_4/ico_32060_atk.png",
            ico_32061: "cards_img_4/ico_32061.png",
            ico_32061_atk: "cards_img_4/ico_32061_atk.png",
            ico_32062: "cards_img_4/ico_32062.png",
            ico_32062_atk: "cards_img_4/ico_32062_atk.png",
            ico_32063: "cards_img_4/ico_32063.png",
            ico_32063_atk: "cards_img_4/ico_32063_atk.png",
            ico_32064: "cards_img_4/ico_32064.png",
            ico_32064_atk: "cards_img_4/ico_32064_atk.png",
            ico_32065: "cards_img_4/ico_32065.png",
            ico_32065_atk: "cards_img_4/ico_32065_atk.png",
            ico_32066: "cards_img_4/ico_32066.png",
            ico_32066_atk: "cards_img_4/ico_32066_atk.png",
            ico_32067: "cards_img_4/ico_32067.png",
            ico_32067_atk: "cards_img_4/ico_32067_atk.png",
            ico_32068: "cards_img_4/ico_32068.png",
            ico_32068_atk: "cards_img_4/ico_32068_atk.png",
            ico_32069: "cards_img_4/ico_32069.png",
            ico_32069_atk: "cards_img_4/ico_32069_atk.png",
            ico_32070: "cards_img_4/ico_32070.png",
            ico_32070_atk: "cards_img_4/ico_32070_atk.png",
            ico_32071: "cards_img_4/ico_32071.png",
            ico_32071_atk: "cards_img_4/ico_32071_atk.png",
            ico_32072: "cards_img_4/ico_32072.png",
            ico_32072_atk: "cards_img_4/ico_32072_atk.png",
            ico_32073: "cards_img_4/ico_32073.png",
            ico_32073_atk: "cards_img_4/ico_32073_atk.png",
            ico_32074: "cards_img_4/ico_32074.png",
            ico_32074_atk: "cards_img_4/ico_32074_atk.png",
            ico_32075: "cards_img_4/ico_32075.png",
            ico_32075_atk: "cards_img_4/ico_32075_atk.png",
            ico_32076: "cards_img_4/ico_32076.png",
            ico_32076_atk: "cards_img_4/ico_32076_atk.png",
            ico_32077: "cards_img_4/ico_32077.png",
            ico_32077_atk: "cards_img_4/ico_32077_atk.png",
            ico_32078: "cards_img_4/ico_32078.png",
            ico_32078_atk: "cards_img_4/ico_32078_atk.png",
            ico_32079: "cards_img_4/ico_32079.png",
            ico_32079_atk: "cards_img_4/ico_32079_atk.png",
            ico_32080: "cards_img_4/ico_32080.png",
            ico_32080_atk: "cards_img_4/ico_32080_atk.png",
            ico_34001: "cards_img_4/ico_34001.png",
            ico_34002: "cards_img_4/ico_34002.png",
            ico_34003: "cards_img_4/ico_34003.png",
            ico_34004: "cards_img_4/ico_34004.png",
            ico_34005: "cards_img_4/ico_34005.png",
            ico_34006: "cards_img_4/ico_34006.png",
            ico_34007: "cards_img_4/ico_34007.png",
            ico_34008: "cards_img_4/ico_34008.png",
            ico_34009: "cards_img_4/ico_34009.png",
            ico_34010: "cards_img_4/ico_34010.png",
            ico_34011: "cards_img_4/ico_34011.png",
            ico_34012: "cards_img_4/ico_34012.png",
            ico_34013: "cards_img_4/ico_34013.png",
            ico_34014: "cards_img_4/ico_34014.png",
            ico_34015: "cards_img_4/ico_34015.png",
            ico_34016: "cards_img_4/ico_34016.png",
            ico_34017: "cards_img_4/ico_34017.png",
            ico_34018: "cards_img_4/ico_34018.png",
            ico_34019: "cards_img_4/ico_34019.png",
            ico_34020: "cards_img_4/ico_34020.png",
            ico_34021: "cards_img_4/ico_34021.png",
            ico_34022: "cards_img_4/ico_34022.png",
            ico_34023: "cards_img_4/ico_34023.png",
            ico_34024: "cards_img_4/ico_34024.png",
            ico_34025: "cards_img_4/ico_34025.png",
            ico_34025_2: "cards_img_4/ico_34025_2.png",
            ico_34026: "cards_img_4/ico_34026.png",
            ico_34027: "cards_img_4/ico_34027.png",
            ico_34028: "cards_img_4/ico_34028.png",
            ico_34029: "cards_img_4/ico_34029.png",
            ico_34030: "cards_img_4/ico_34030.png",
            ico_34031: "cards_img_4/ico_34031.png",
            ico_34032: "cards_img_4/ico_34032.png",
            ico_34033: "cards_img_4/ico_34033.png",
            ico_34034: "cards_img_4/ico_34034.png",
            ico_34035: "cards_img_4/ico_34035.png",
            ico_34036: "cards_img_4/ico_34036.png",
            ico_34037: "cards_img_4/ico_34037.png",
            ico_34038: "cards_img_4/ico_34038.png",
            ico_34039: "cards_img_4/ico_34039.png",
            ico_34040: "cards_img_4/ico_34040.png",
            ico_34041: "cards_img_4/ico_34041.png",
            ico_34042: "cards_img_4/ico_34042.png",
            ico_34043: "cards_img_4/ico_34043.png",
            ico_34044: "cards_img_4/ico_34044.png",
            ico_34045: "cards_img_4/ico_34045.png",
            ico_34046: "cards_img_4/ico_34046.png",
            ico_34047: "cards_img_4/ico_34047.png",
            ico_35001: "cards_img_4/ico_35001.png",
            ico_35002: "cards_img_4/ico_35002.png",
            ico_35003: "cards_img_4/ico_35003.png",
            ico_35004: "cards_img_4/ico_35004.png",
            ico_39999: "cards_img_4/ico_39999.png",
            ico_magic_default: "cards_img_4/ico_magic_default.png",
            ico_monster_default: "cards_img_3/ico_monster_default.png",
            ico_prop_default: "cards_img_3/ico_prop_default.png",
            ico_rare_default: "cards_img_4/ico_rare_default.png",
            ico_s_10001: "cards_img_3/ico_s_10001.png",
            ico_s_10002: "cards_img_3/ico_s_10002.png",
            ico_s_10003: "cards_img_3/ico_s_10003.png",
            ico_s_10004: "cards_img_3/ico_s_10004.png",
            ico_s_10005: "cards_img_3/ico_s_10005.png",
            ico_s_10006: "cards_img_3/ico_s_10006.png",
            ico_s_10007: "cards_img_3/ico_s_10007.png",
            ico_s_10008: "cards_img_3/ico_s_10008.png",
            ico_s_10009: "cards_img_3/ico_s_10009.png",
            ico_s_10010: "cards_img_3/ico_s_10010.png",
            ico_s_10011: "cards_img_3/ico_s_10011.png",
            ico_s_10012: "cards_img_3/ico_s_10012.png",
            ico_s_10013: "cards_img_3/ico_s_10013.png",
            ico_s_10014: "cards_img_3/ico_s_10014.png",
            ico_s_10015: "cards_img_3/ico_s_10015.png",
            ico_s_10016: "cards_img_3/ico_s_10016.png",
            ico_s_10017: "cards_img_3/ico_s_10017.png",
            ico_s_10024: "cards_img_3/ico_s_10024.png",
            ico_s_10025: "cards_img_3/ico_s_10025.png",
            ico_s_10028: "cards_img_3/ico_s_10028.png",
            ico_s_10029: "cards_img_3/ico_s_10029.png",
            ico_s_10032: "cards_img_3/ico_s_10032.png",
            ico_s_10035: "cards_img_3/ico_s_10035.png",
            ico_s_10036: "cards_img_3/ico_s_10036.png",
            ico_s_10038: "cards_img_3/ico_s_10038.png",
            ico_s_10045: "cards_img_3/ico_s_10045.png",
            ico_s_10046: "cards_img_3/ico_s_10046.png",
            ico_s_10048: "cards_img_3/ico_s_10048.png",
            ico_s_10050: "cards_img_3/ico_s_10050.png",
            ico_s_11001: "cards_img_3/ico_s_11001.png",
            ico_s_11002: "cards_img_3/ico_s_11002.png",
            ico_s_11003: "cards_img_3/ico_s_11003.png",
            ico_s_11004: "cards_img_3/ico_s_11004.png",
            ico_s_11005: "cards_img_3/ico_s_11005.png",
            ico_s_11006: "cards_img_3/ico_s_11006.png",
            ico_s_11007: "cards_img_3/ico_s_11007.png",
            ico_s_11008: "cards_img_3/ico_s_11008.png",
            ico_s_11009: "cards_img_3/ico_s_11009.png",
            ico_s_11023: "cards_img_3/ico_s_11023.png",
            ico_s_11024: "cards_img_3/ico_s_11024.png",
            ico_s_11026: "cards_img_3/ico_s_11026.png",
            ico_s_11029: "cards_img_3/ico_s_11029.png",
            ico_s_11034: "cards_img_3/ico_s_11034.png",
            ico_s_11035: "cards_img_3/ico_s_11035.png",
            ico_s_12001: "cards_img_3/ico_s_12001.png",
            ico_s_12002: "cards_img_3/ico_s_12002.png",
            ico_s_12003: "cards_img_3/ico_s_12003.png",
            ico_s_12004: "cards_img_3/ico_s_12004.png",
            ico_s_12005: "cards_img_3/ico_s_12005.png",
            ico_s_12006: "cards_img_3/ico_s_12006.png",
            ico_s_12008: "cards_img_3/ico_s_12008.png",
            ico_s_12009: "cards_img_3/ico_s_12009.png",
            ico_s_12010: "cards_img_3/ico_s_12010.png",
            ico_s_12011: "cards_img_3/ico_s_12011.png",
            ico_s_12012: "cards_img_3/ico_s_12012.png",
            ico_s_12013: "cards_img_3/ico_s_12013.png",
            ico_s_12020: "cards_img_3/ico_s_12020.png",
            ico_s_12027: "cards_img_3/ico_s_12027.png",
            ico_s_12028: "cards_img_3/ico_s_12028.png",
            ico_s_12030: "cards_img_3/ico_s_12030.png",
            ico_s_12033: "cards_img_3/ico_s_12033.png",
            ico_s_12035: "cards_img_3/ico_s_12035.png",
            ico_s_12036: "cards_img_3/ico_s_12036.png",
            ico_s_13001: "cards_img_3/ico_s_13001.png",
            ico_s_13002: "cards_img_3/ico_s_13002.png",
            ico_s_13003: "cards_img_3/ico_s_13003.png",
            ico_s_13004: "cards_img_3/ico_s_13004.png",
            ico_s_13005: "cards_img_3/ico_s_13005.png",
            ico_s_13006: "cards_img_3/ico_s_13006.png",
            ico_s_13024: "cards_img_3/ico_s_13024.png",
            ico_s_13025: "cards_img_3/ico_s_13025.png",
            ico_s_13026: "cards_img_3/ico_s_13026.png",
            ico_s_13028: "cards_img_3/ico_s_13028.png",
            ico_s_13032: "cards_img_3/ico_s_13032.png",
            ico_s_13033: "cards_img_3/ico_s_13033.png",
            ico_s_13035: "cards_img_3/ico_s_13035.png",
            ico_s_13036: "cards_img_3/ico_s_13036.png",
            ico_s_14001: "cards_img_3/ico_s_14001.png",
            ico_s_14003: "cards_img_3/ico_s_14003.png",
            ico_s_14005: "cards_img_3/ico_s_14005.png",
            ico_s_14006: "cards_img_3/ico_s_14006.png",
            ico_s_14009: "cards_img_3/ico_s_14009.png",
            ico_s_14010: "cards_img_3/ico_s_14010.png",
            ico_s_14013: "cards_img_3/ico_s_14013.png",
            ico_s_14014: "cards_img_3/ico_s_14014.png",
            ico_s_14015: "cards_img_3/ico_s_14015.png",
            ico_s_14016: "cards_img_3/ico_s_14016.png",
            ico_s_14018: "cards_img_3/ico_s_14018.png",
            ico_s_14019: "cards_img_3/ico_s_14019.png",
            ico_s_15003: "cards_img_3/ico_s_15003.png",
            ico_s_15004: "cards_img_3/ico_s_15004.png",
            ico_s_15005: "cards_img_3/ico_s_15005.png",
            ico_s_15006: "cards_img_3/ico_s_15006.png",
            ico_s_15007: "cards_img_3/ico_s_15007.png",
            ico_s_15008: "cards_img_3/ico_s_15008.png",
            ico_s_15009: "cards_img_3/ico_s_15009.png",
            ico_s_15010: "cards_img_3/ico_s_15010.png",
            ico_s_15011: "cards_img_3/ico_s_15011.png",
            ico_s_15013: "cards_img_3/ico_s_15013.png",
            ico_s_15016: "cards_img_3/ico_s_15016.png",
            ico_s_15020: "cards_img_3/ico_s_15020.png",
            ico_s_15023: "cards_img_3/ico_s_15023.png",
            ico_s_15025: "cards_img_3/ico_s_15025.png",
            ico_s_16001: "cards_img_3/ico_s_16001.png",
            ico_s_16003: "cards_img_3/ico_s_16003.png",
            ico_s_16006: "cards_img_3/ico_s_16006.png",
            ico_s_17003: "cards_img_3/ico_s_17003.png",
            ico_s_17006: "cards_img_3/ico_s_17006.png",
            ico_s_17007: "cards_img_3/ico_s_17007.png",
            ico_s_17009: "cards_img_3/ico_s_17009.png",
            ico_s_17010: "cards_img_3/ico_s_17010.png",
            ico_s_17013: "cards_img_3/ico_s_17013.png",
            ico_s_17014: "cards_img_3/ico_s_17014.png",
            ico_s_19001: "cards_img_3/ico_s_19001.png",
            ico_s_19002: "cards_img_3/ico_s_19002.png",
            ico_s_19004: "cards_img_3/ico_s_19004.png",
            ico_s_19005: "cards_img_3/ico_s_19005.png",
            ico_s_20001: "cards_img_3/ico_s_20001.png",
            ico_s_20002: "cards_img_3/ico_s_20002.png",
            ico_s_20003: "cards_img_3/ico_s_20003.png",
            ico_s_20006: "cards_img_3/ico_s_20006.png",
            ico_s_20009: "cards_img_3/ico_s_20009.png",
            ico_s_20011: "cards_img_3/ico_s_20011.png",
            ico_s_20013: "cards_img_3/ico_s_20013.png",
            ico_s_20015: "cards_img_3/ico_s_20015.png",
            ico_s_20017: "cards_img_3/ico_s_20017.png",
            ico_s_20025: "cards_img_3/ico_s_20025.png",
            ico_s_20034: "cards_img_3/ico_s_20034.png",
            ico_s_20035: "cards_img_3/ico_s_20035.png",
            ico_trap_default: "cards_img_4/ico_trap_default.png",
            ico_unknown_01: "cards_img_3/ico_unknown_01.png",
            ico_unknown_02: "cards_img_3/ico_unknown_02.png",
            ico_unknown_03: "cards_img_3/ico_unknown_03.png",
            ico_unknown_04: "cards_img_3/ico_unknown_04.png",
            ico_unknown_05: "cards_img_3/ico_unknown_05.png",
            ico_unknown_06: "cards_img_3/ico_unknown_06.png",
            ico_unknown_07: "cards_img_3/ico_unknown_07.png",
            icon_mask: "cards_img_1/icon_mask.png",
            icon_music: "general/icon_music.png",
            icon_poke_info_1: "general/icon_poke_info_1.png",
            icon_poke_info_2: "general/icon_poke_info_2.png",
            icon_poke_info_3: "general/icon_poke_info_3.png",
            icon_sound: "general/icon_sound.png",
            illustration_panel: "img/illustration_panel.png",
            illustration_title_N: "general/illustration_title_N.png",
            illustration_title_N_s: "general/illustration_title_N_s.png",
            illustration_title_RR: "general/illustration_title_RR.png",
            illustration_title_RR_s: "general/illustration_title_RR_s.png",
            illustration_title_SR: "general/illustration_title_SR.png",
            illustration_title_SR_s: "general/illustration_title_SR_s.png",
            illustration_title_UR: "general/illustration_title_UR.png",
            illustration_title_UR_s: "general/illustration_title_UR_s.png",
            img_achievement_bg: "img/img_achievement_bg.png",
            img_activity_1: "img/img_activity_1.png",
            img_activity_2: "img/img_activity_2.png",
            img_activity_3: "img/img_activity_3.png",
            img_activity_3_android: "img/img_activity_3_android.png",
            img_activity_4: "img/img_activity_4.png",
            img_activity_5: "img/img_activity_5.png",
            img_arrow_1: "general/img_arrow_1.png",
            img_arrow_down_1: "general/img_arrow_down_1.png",
            img_arrow_down_2: "general/img_arrow_down_2.png",
            img_arrow_down_3: "general/img_arrow_down_3.png",
            img_arrow_right: "general/img_arrow_right.png",
            img_arrow_right_02: "general/img_arrow_right_02.png",
            img_arrow_up_1: "general/img_arrow_up_1.png",
            img_arrow_up_2: "general/img_arrow_up_2.png",
            img_arrow_up_3: "general/img_arrow_up_3.png",
            img_arrow_up_4: "general/img_arrow_up_4.png",
            img_badge_1: "general/img_badge_1.png",
            img_badge_2: "general/img_badge_2.png",
            img_badge_3: "general/img_badge_3.png",
            img_badge_4: "general/img_badge_4.png",
            img_badge_5: "general/img_badge_5.png",
            img_badge_6: "general/img_badge_6.png",
            img_battle_bg_1: "img/img_battle_bg_1.png",
            img_battle_bg_2: "img/img_battle_bg_2.png",
            img_battle_bg_3: "img/img_battle_bg_3.png",
            img_battle_bg_4: "img/img_battle_bg_4.png",
            img_battle_bg_5: "img/img_battle_bg_5.png",
            img_black: "general/img_black.png",
            img_blank: "general/img_blank.png",
            img_bonus_bg: "general/img_bonus_bg.png",
            img_bonus_title_bg: "general/img_bonus_title_bg.png",
            img_bottom_bg: "general/img_bottom_bg.png",
            img_box_info_bg: "general/img_box_info_bg.png",
            img_box_info_triangle: "general/img_box_info_triangle.png",
            img_btn_achievement: "city/img_btn_achievement.png",
            img_btn_advence_left: "general/img_btn_advence_left.png",
            img_btn_advence_right: "general/img_btn_advence_right.png",
            img_btn_blue: "general/img_btn_blue.png",
            img_btn_blue_s: "general/img_btn_blue_s.png",
            img_btn_bonus: "general/img_btn_bonus.png",
            img_btn_card_op_focus: "general/img_btn_card_op_focus.png",
            img_btn_card_op_unfocus: "general/img_btn_card_op_unfocus.png",
            img_btn_character: "city/img_btn_character.png",
            img_btn_check_bg: "general/img_btn_check_bg.png",
            img_btn_close: "general/img_btn_close.png",
            img_btn_close2: "general/img_btn_close2.png",
            img_btn_decompose: "general/img_btn_decompose.png",
            img_btn_decompose_all: "general/img_btn_decompose_all.png",
            img_btn_exchange: "city/img_btn_exchange.png",
            img_btn_gray: "general/img_btn_gray.png",
            img_btn_gray_s: "general/img_btn_gray_s.png",
            img_btn_green: "general/img_btn_green.png",
            img_btn_green_s: "general/img_btn_green_s.png",
            img_btn_green_xs: "general/img_btn_green_xs.png",
            img_btn_help: "general/img_btn_help.png",
            img_btn_off: "general/img_btn_off.png",
            img_btn_on: "general/img_btn_on.png",
            img_btn_orange: "general/img_btn_orange.png",
            img_btn_pop: "general/img_btn_pop.png",
            img_btn_pop_arrow: "general/img_btn_pop_arrow.png",
            img_btn_pop_gray: "general/img_btn_pop_gray.png",
            img_btn_pop_r: "general/img_btn_pop_r.png",
            img_btn_rank: "general/img_btn_rank.png",
            img_btn_recharge_1: "general/img_btn_recharge_1.png",
            img_btn_recharge_2: "general/img_btn_recharge_2.png",
            img_btn_recharge_3: "general/img_btn_recharge_3.png",
            img_btn_recharge_4: "general/img_btn_recharge_4.png",
            img_btn_recharge_5: "general/img_btn_recharge_5.png",
            img_btn_red: "general/img_btn_red.png",
            img_btn_red_s: "general/img_btn_red_s.png",
            img_btn_reduce: "general/img_btn_reduce.png",
            img_btn_rename: "general/img_btn_rename.png",
            img_btn_reward: "general/img_btn_reward.png",
            img_btn_rule: "general/img_btn_rule.png",
            img_btn_shop: "general/img_btn_shop.png",
            img_btn_tab_bg_focus_1: "general/img_btn_tab_bg_focus_1.png",
            img_btn_tab_bg_focus_2: "general/img_btn_tab_bg_focus_2.png",
            img_btn_tab_bg_focus_5: "general/img_btn_tab_bg_focus_5.png",
            img_btn_tab_bg_focus_6: "general/img_btn_tab_bg_focus_6.png",
            img_btn_tab_bg_focus_6_s: "general/img_btn_tab_bg_focus_6_s.png",
            img_btn_tab_bg_focus_7: "general/img_btn_tab_bg_focus_7.png",
            img_btn_tab_bg_focus_v: "general/img_btn_tab_bg_focus_v.png",
            img_btn_tab_bg_unfocus_1: "general/img_btn_tab_bg_unfocus_1.png",
            img_btn_tab_bg_unfocus_2: "general/img_btn_tab_bg_unfocus_2.png",
            img_btn_tab_bg_unfocus_3: "general/img_btn_tab_bg_unfocus_3.png",
            img_btn_tab_bg_unfocus_4: "general/img_btn_tab_bg_unfocus_4.png",
            img_btn_tab_bg_unfocus_5: "general/img_btn_tab_bg_unfocus_5.png",
            img_btn_tab_bg_unfocus_6: "general/img_btn_tab_bg_unfocus_6.png",
            img_btn_tab_bg_unfocus_6_s: "general/img_btn_tab_bg_unfocus_6_s.png",
            img_btn_tab_bg_unfocus_7: "general/img_btn_tab_bg_unfocus_7.png",
            img_btn_tab_bg_unfocus_v: "general/img_btn_tab_bg_unfocus_v.png",
            img_btn_vip: "general/img_btn_vip.png",
            img_bubble_bg: "general/img_bubble_bg.png",
            img_card_count: "general/img_card_count.png",
            img_card_count_bg: "general/img_card_count_bg.png",
            img_card_count_bg_02: "general/img_card_count_bg_02.png",
            img_card_count_fg: "general/img_card_count_fg.png",
            img_card_decompose: "general/img_card_decompose.png",
            img_card_ico_bg: "general/img_card_ico_bg.png",
            img_character_bg: "img/img_character_bg.png",
            img_character_focus_bg: "img/img_character_focus_bg.png",
            img_character_info_0201: "img/img_character_info_0201.png",
            img_character_info_0301: "img/img_character_info_0301.png",
            img_character_info_0401: "img/img_character_info_0401.png",
            img_character_info_0501: "img/img_character_info_0501.png",
            img_character_name_0201: "img/img_character_name_0201.png",
            img_character_name_0301: "img/img_character_name_0301.png",
            img_character_name_0401: "img/img_character_name_0401.png",
            img_character_name_0501: "img/img_character_name_0501.png",
            img_character_name_bg: "avatar/img_character_name_bg.png",
            img_chat_bg_oppo: "general/img_chat_bg_oppo.png",
            img_chat_bg_self: "general/img_chat_bg_self.png",
            img_chat_triangle_oppo: "general/img_chat_triangle_oppo.png",
            img_chat_triangle_oppo_2: "general/img_chat_triangle_oppo_2.png",
            img_chat_triangle_self: "general/img_chat_triangle_self.png",
            img_chat_triangle_self_2: "general/img_chat_triangle_self_2.png",
            img_chest_light: "general/img_chest_light.png",
            img_choose_character_bg: "general/img_choose_character_bg.png",
            img_circle: "general/img_circle.png",
            img_circle_02: "general/img_circle_02.png",
            img_circle_03: "general/img_circle_03.png",
            img_circle_num1: "general/img_circle_num1.png",
            img_circle_num2: "general/img_circle_num2.png",
            img_circle_num3: "general/img_circle_num3.png",
            img_circle_num4: "general/img_circle_num4.png",
            img_com_bg_10: "general/img_com_bg_10.png",
            img_com_bg_11: "general/img_com_bg_11.png",
            img_com_bg_16: "general/img_com_bg_16.png",
            img_com_bg_19: "general/img_com_bg_19.png",
            img_com_bg_2: "general/img_com_bg_2.png",
            img_com_bg_20: "general/img_com_bg_20.png",
            img_com_bg_22: "general/img_com_bg_22.png",
            img_com_bg_26: "general/img_com_bg_26.png",
            img_com_bg_3: "general/img_com_bg_3.png",
            img_com_bg_30: "general/img_com_bg_30.png",
            img_com_bg_34: "general/img_com_bg_34.png",
            img_com_bg_35: "general/img_com_bg_35.png",
            img_com_bg_37: "general/img_com_bg_37.png",
            img_com_bg_4: "general/img_com_bg_4.png",
            img_com_bg_40: "general/img_com_bg_40.png",
            img_com_bg_41: "general/img_com_bg_41.png",
            img_com_bg_42: "general/img_com_bg_42.png",
            img_com_bg_43: "general/img_com_bg_43.png",
            img_com_bg_44: "general/img_com_bg_44.png",
            img_com_bg_45: "general/img_com_bg_45.png",
            img_com_bg_46: "general/img_com_bg_46.png",
            img_com_bg_49: "general/img_com_bg_49.png",
            img_com_bg_5: "general/img_com_bg_5.png",
            img_com_bg_54: "general/img_com_bg_54.png",
            img_com_bg_57: "general/img_com_bg_57.png",
            img_com_bg_58: "general/img_com_bg_58.png",
            img_com_bg_60: "general/img_com_bg_60.png",
            img_com_bg_7: "general/img_com_bg_7.png",
            img_compose_add: "general/img_compose_add.png",
            img_cur: "general/img_cur.png",
            img_dailyTask_panel: "general/img_dailyTask_panel.png",
            "img_decompose_+10": "general/img_decompose_+10.png",
            "img_decompose_-10": "general/img_decompose_-10.png",
            img_decompose_bg: "general/img_decompose_bg.png",
            img_divide_line_1: "general/img_divide_line_1.png",
            img_divide_line_10: "general/img_divide_line_10.png",
            img_divide_line_11: "general/img_divide_line_11.png",
            img_divide_line_3: "general/img_divide_line_3.png",
            img_divide_line_4: "general/img_divide_line_4.png",
            img_divide_line_5: "general/img_divide_line_5.png",
            img_divide_line_6: "general/img_divide_line_6.png",
            img_divide_line_7: "general/img_divide_line_7.png",
            img_divide_line_8: "general/img_divide_line_8.png",
            img_divide_line_9: "general/img_divide_line_9.png",
            img_draw: "general/img_draw.png",
            img_filter: "general/img_filter.png",
            img_filter_item: "general/img_filter_item.png",
            img_finger_01: "general/img_finger_01.png",
            img_finger_02: "general/img_finger_02.png",
            img_form_bg_01: "general/img_form_bg_01.png",
            img_form_bg_02: "general/img_form_bg_02.png",
            img_form_title_bg_1: "general/img_form_title_bg_1.png",
            img_form_title_bg_3: "general/img_form_title_bg_3.png",
            img_form_title_bg_4: "general/img_form_title_bg_4.png",
            img_form_title_bg_5: "general/img_form_title_bg_5.png",
            img_form_title_light_1: "general/img_form_title_light_1.png",
            img_glow: "general/img_glow.png",
            img_glow_s: "general/img_glow_s.png",
            img_gradient_border: "general/img_gradient_border.png",
            img_group_avatar_1: "find/img_group_avatar_1.png",
            img_group_avatar_10: "find/img_group_avatar_10.png",
            img_group_avatar_2: "find/img_group_avatar_2.png",
            img_group_avatar_3: "find/img_group_avatar_3.png",
            img_group_avatar_4: "find/img_group_avatar_4.png",
            img_group_avatar_5: "find/img_group_avatar_5.png",
            img_group_avatar_6: "find/img_group_avatar_6.png",
            img_group_avatar_7: "find/img_group_avatar_7.png",
            img_group_avatar_8: "find/img_group_avatar_8.png",
            img_group_avatar_9: "find/img_group_avatar_9.png",
            img_head_list_bg: "general/img_head_list_bg.png",
            img_helper_label: "city/img_helper_label.png",
            img_highlight_rect: "general/img_highlight_rect.png",
            img_hl_bg: "general/img_hl_bg.png",
            img_icon_9001: "general/img_icon_9001.png",
            img_icon_9002: "general/img_icon_9002.png",
            img_icon_9003: "general/img_icon_9003.png",
            img_icon_9004: "general/img_icon_9004.png",
            img_icon_9005: "general/img_icon_9005.png",
            img_icon_9006: "general/img_icon_9006.png",
            img_icon_9007: "general/img_icon_9007.png",
            img_icon_9008: "general/img_icon_9008.png",
            img_icon_9009: "general/img_icon_9009.png",
            img_icon_activity: "city/img_icon_activity.png",
            img_icon_add: "general/img_icon_add.png",
            img_icon_add_big: "general/img_icon_add_big.png",
            img_icon_arrow_down: "general/img_icon_arrow_down.png",
            img_icon_bag: "city/img_icon_bag.png",
            img_icon_bg: "city/img_icon_bg.png",
            img_icon_bg_right: "city/img_icon_bg_right.png",
            img_icon_card_op_compose: "general/img_icon_card_op_compose.png",
            img_icon_card_op_decompose: "general/img_icon_card_op_decompose.png",
            img_icon_card_op_upgrade: "general/img_icon_card_op_upgrade.png",
            img_icon_cardnum: "general/img_icon_cardnum.png",
            img_icon_cards: "city/img_icon_cards.png",
            img_icon_chat: "general/img_icon_chat.png",
            img_icon_chat_l: "general/img_icon_chat_l.png",
            img_icon_check: "general/img_icon_check.png",
            img_icon_checkin: "city/img_icon_checkin.png",
            img_icon_city_hp: "general/img_icon_city_hp.png",
            img_icon_clear: "general/img_icon_clear.png",
            img_icon_clock: "general/img_icon_clock.png",
            img_icon_dice: "img/img_icon_dice.png",
            img_icon_exp: "general/img_icon_exp.png",
            img_icon_filter: "general/img_icon_filter.png",
            img_icon_fragment: "general/img_icon_fragment.png",
            img_icon_fragment_s: "general/img_icon_fragment_s.png",
            img_icon_fund: "general/img_icon_fund.png",
            img_icon_guide: "city/img_icon_guide.png",
            img_icon_help: "city/img_icon_help.png",
            img_icon_i: "general/img_icon_i.png",
            img_icon_id: "general/img_icon_id.png",
            img_icon_illustration: "city/img_icon_illustration.png",
            img_icon_invite: "general/img_icon_invite.png",
            img_icon_like: "general/img_icon_like.png",
            img_icon_like_2: "general/img_icon_like_2.png",
            img_icon_lock: "general/img_icon_lock.png",
            img_icon_mail: "city/img_icon_mail.png",
            img_icon_minus: "general/img_icon_minus.png",
            img_icon_orange_card: "general/img_icon_orange_card.png",
            img_icon_power: "general/img_icon_power.png",
            img_icon_props_b7051: "general/img_icon_props_b7051.png",
            img_icon_props_b7052: "general/img_icon_props_b7052.png",
            img_icon_props_b7053: "general/img_icon_props_b7053.png",
            img_icon_props_b7054: "general/img_icon_props_b7054.png",
            img_icon_props_b7055: "general/img_icon_props_b7055.png",
            img_icon_props_s7002: "general/img_icon_props_s7002.png",
            img_icon_props_s7004: "general/img_icon_props_s7004.png",
            img_icon_props_s7006: "general/img_icon_props_s7006.png",
            img_icon_props_s7015: "general/img_icon_props_s7015.png",
            img_icon_props_s7016: "general/img_icon_props_s7016.png",
            img_icon_props_s7017: "general/img_icon_props_s7017.png",
            img_icon_props_s7018: "general/img_icon_props_s7018.png",
            img_icon_props_s7019: "general/img_icon_props_s7019.png",
            img_icon_props_s7024: "general/img_icon_props_s7024.png",
            img_icon_props_s7030: "general/img_icon_props_s7030.png",
            img_icon_props_s7038: "general/img_icon_props_s7038.png",
            img_icon_props_s7051: "general/img_icon_props_s7051.png",
            img_icon_props_s7052: "general/img_icon_props_s7052.png",
            img_icon_props_s7053: "general/img_icon_props_s7053.png",
            img_icon_props_s7054: "general/img_icon_props_s7054.png",
            img_icon_props_s7055: "general/img_icon_props_s7055.png",
            img_icon_props_s7095: "general/img_icon_props_s7095.png",
            img_icon_props_s7096: "general/img_icon_props_s7096.png",
            img_icon_props_s7099: "general/img_icon_props_s7099.png",
            img_icon_props_s7100: "general/img_icon_props_s7100.png",
            img_icon_props_s7101: "general/img_icon_props_s7101.png",
            img_icon_props_s7102: "general/img_icon_props_s7102.png",
            img_icon_props_s7103: "general/img_icon_props_s7103.png",
            img_icon_props_s7104: "general/img_icon_props_s7104.png",
            img_icon_props_s7105: "general/img_icon_props_s7105.png",
            img_icon_props_s7106: "general/img_icon_props_s7106.png",
            img_icon_props_s7108: "general/img_icon_props_s7108.png",
            img_icon_props_s7109: "general/img_icon_props_s7109.png",
            img_icon_props_s7110: "general/img_icon_props_s7110.png",
            img_icon_props_s7111: "general/img_icon_props_s7111.png",
            img_icon_props_s7112: "general/img_icon_props_s7112.png",
            img_icon_props_s7113: "general/img_icon_props_s7113.png",
            img_icon_props_s7114: "general/img_icon_props_s7114.png",
            img_icon_props_s7115: "general/img_icon_props_s7115.png",
            img_icon_props_s7116: "general/img_icon_props_s7116.png",
            img_icon_props_s7117: "general/img_icon_props_s7117.png",
            img_icon_props_s7118: "general/img_icon_props_s7118.png",
            img_icon_props_s7119: "general/img_icon_props_s7119.png",
            img_icon_props_s7120: "general/img_icon_props_s7120.png",
            img_icon_props_s7121: "general/img_icon_props_s7121.png",
            img_icon_props_s7122: "general/img_icon_props_s7122.png",
            img_icon_props_s7123: "general/img_icon_props_s7123.png",
            img_icon_props_s7124: "general/img_icon_props_s7124.png",
            img_icon_props_s7125: "general/img_icon_props_s7125.png",
            img_icon_props_s7126: "general/img_icon_props_s7126.png",
            img_icon_props_s7128: "general/img_icon_props_s7128.png",
            img_icon_props_s7131: "general/img_icon_props_s7131.png",
            img_icon_props_s7132: "general/img_icon_props_s7132.png",
            img_icon_props_s7133: "general/img_icon_props_s7133.png",
            img_icon_props_s7134: "general/img_icon_props_s7134.png",
            img_icon_props_s7201: "general/img_icon_props_s7201.png",
            img_icon_props_s7202: "general/img_icon_props_s7202.png",
            img_icon_props_s7203: "general/img_icon_props_s7203.png",
            img_icon_props_s7204: "general/img_icon_props_s7204.png",
            img_icon_props_s7205: "general/img_icon_props_s7205.png",
            img_icon_props_s7206: "general/img_icon_props_s7206.png",
            img_icon_props_s7701: "general/img_icon_props_s7701.png",
            img_icon_props_s7702: "general/img_icon_props_s7702.png",
            img_icon_props_s7703: "general/img_icon_props_s7703.png",
            img_icon_props_s7707: "general/img_icon_props_s7707.png",
            img_icon_props_s7708: "general/img_icon_props_s7708.png",
            img_icon_props_s7709: "general/img_icon_props_s7709.png",
            img_icon_props_s7710: "general/img_icon_props_s7710.png",
            img_icon_props_s7711: "general/img_icon_props_s7711.png",
            img_icon_props_s7712: "general/img_icon_props_s7712.png",
            img_icon_rank: "city/img_icon_rank.png",
            img_icon_rank_history: "general/img_icon_rank_history.png",
            img_icon_refresh: "general/img_icon_refresh.png",
            img_icon_replay: "general/img_icon_replay.png",
            img_icon_reputation: "general/img_icon_reputation.png",
            img_icon_res11_s: "general/img_icon_res11_s.png",
            img_icon_res12_s: "general/img_icon_res12_s.png",
            img_icon_res13_s: "general/img_icon_res13_s.png",
            img_icon_res14_s: "general/img_icon_res14_s.png",
            img_icon_res15_s: "general/img_icon_res15_s.png",
            img_icon_res16_s: "general/img_icon_res16_s.png",
            img_icon_res1_s: "general/img_icon_res1_s.png",
            img_icon_res20_s: "general/img_icon_res20_s.png",
            img_icon_res21_s: "general/img_icon_res21_s.png",
            img_icon_res26_s: "general/img_icon_res26_s.png",
            img_icon_res2_s: "general/img_icon_res2_s.png",
            img_icon_res3_s: "general/img_icon_res3_s.png",
            img_icon_res4_s: "general/img_icon_res4_s.png",
            img_icon_res5_s: "general/img_icon_res5_s.png",
            img_icon_res6_s: "general/img_icon_res6_s.png",
            img_icon_res7: "general/img_icon_res7.png",
            img_icon_res7_s: "general/img_icon_res7_s.png",
            img_icon_res8_s: "general/img_icon_res8_s.png",
            img_icon_right: "general/img_icon_right.png",
            img_icon_round_skip: "general/img_icon_round_skip.png",
            img_icon_round_start: "general/img_icon_round_start.png",
            img_icon_score: "general/img_icon_score.png",
            img_icon_search: "general/img_icon_search.png",
            img_icon_search_2: "general/img_icon_search_2.png",
            img_icon_share: "general/img_icon_share.png",
            img_icon_shop: "city/img_icon_shop.png",
            img_icon_shop2: "city/img_icon_shop2.png",
            img_icon_shop_7123_xl_off: "city/img_icon_shop_7123_xl_off.png",
            img_icon_shop_7123_xl_on: "city/img_icon_shop_7123_xl_on.png",
            img_icon_shop_7124_xl_off: "city/img_icon_shop_7124_xl_off.png",
            img_icon_shop_7124_xl_on: "city/img_icon_shop_7124_xl_on.png",
            img_icon_shop_7125_xl_off: "city/img_icon_shop_7125_xl_off.png",
            img_icon_shop_7125_xl_on: "city/img_icon_shop_7125_xl_on.png",
            img_icon_shop_7126_xl_off: "city/img_icon_shop_7126_xl_off.png",
            img_icon_shop_7126_xl_on: "city/img_icon_shop_7126_xl_on.png",
            img_icon_shop_all_xl_off: "city/img_icon_shop_all_xl_off.png",
            img_icon_shop_all_xl_on: "city/img_icon_shop_all_xl_on.png",
            img_icon_split: "city/img_icon_split.png",
            img_icon_task: "city/img_icon_task.png",
            img_icon_troop: "general/img_icon_troop.png",
            img_icon_union: "city/img_icon_union.png",
            img_icon_watch: "general/img_icon_watch.png",
            img_icon_wifi_low: "general/img_icon_wifi_low.png",
            img_icon_wrong: "general/img_icon_wrong.png",
            img_invite_bottom: "activity/img_invite_bottom.png",
            img_item_title_bg: "general/img_item_title_bg.png",
            img_levelup_bg: "img/img_levelup_bg.png",
            img_light: "general/img_light.png",
            img_light_2: "general/img_light_2.png",
            img_light_3: "general/img_light_3.png",
            img_lock: "general/img_lock.png",
            img_lose: "general/img_lose.png",
            img_main_bottom: "general/img_main_bottom.png",
            img_main_bottom_2: "general/img_main_bottom_2.png",
            img_marquee_bg: "general/img_marquee_bg.png",
            img_mat_bg: "general/img_mat_bg.png",
            img_medal_mvp: "general/img_medal_mvp.png",
            img_month_card_1: "img/img_month_card_1.png",
            img_month_card_2: "img/img_month_card_2.png",
            img_month_card_3: "img/img_month_card_3.png",
            img_month_card_bg: "img/img_month_card_bg.png",
            img_month_card_reward_bg9: "img/img_month_card_reward_bg9.png",
            img_new: "general/img_new.png",
            img_new_g: "general/img_new_g.png",
            img_new_l: "general/img_new_l.png",
            img_new_y: "general/img_new_y.png",
            img_opponent: "general/img_opponent.png",
            img_page_bg: "general/img_page_bg.png",
            img_page_right: "general/img_page_right.png",
            img_panel_active_indicator: "general/img_panel_active_indicator.png",
            img_payment_gift: "img/img_payment_gift.png",
            img_poke_info_bg: "general/img_poke_info_bg.png",
            img_pokemonBall: "general/img_pokemonBall.png",
            img_progress_bg: "general/img_progress_bg.png",
            img_progress_bg2: "general/img_progress_bg2.png",
            img_progress_fg: "general/img_progress_fg.png",
            img_progress_fg2: "general/img_progress_fg2.png",
            img_pvp_bottom_bg: "general/img_pvp_bottom_bg.png",
            img_pvp_bottom_split: "general/img_pvp_bottom_split.png",
            img_pvp_pillar: "general/img_pvp_pillar.png",
            img_pvp_product_bottom: "general/img_pvp_product_bottom.png",
            img_pvp_win_1: "general/img_pvp_win_1.png",
            img_pvp_win_2: "general/img_pvp_win_2.png",
            img_pvp_win_3: "general/img_pvp_win_3.png",
            img_pvp_win_4: "general/img_pvp_win_4.png",
            img_pvp_win_5: "general/img_pvp_win_5.png",
            img_rank_0: "general/img_rank_0.png",
            img_rank_01: "general/img_rank_01.png",
            img_rank_02: "general/img_rank_02.png",
            img_rank_03: "general/img_rank_03.png",
            img_rank_1: "general/img_rank_1.png",
            img_rank_2: "general/img_rank_2.png",
            img_rank_3: "general/img_rank_3.png",
            img_rank_4: "general/img_rank_4.png",
            img_rank_5: "general/img_rank_5.png",
            img_rank_6: "general/img_rank_6.png",
            img_rank_7: "general/img_rank_7.png",
            img_rank_8: "general/img_rank_8.png",
            img_rank_9: "general/img_rank_9.png",
            img_rank_S1: "general/img_rank_S1.png",
            img_rank_bg_1: "general/img_rank_bg_1.png",
            img_rank_bg_2: "general/img_rank_bg_2.png",
            img_rank_bg_3: "general/img_rank_bg_3.png",
            img_rank_bg_n: "general/img_rank_bg_n.png",
            img_rank_name_bg_1: "general/img_rank_name_bg_1.png",
            img_rank_name_bg_2: "general/img_rank_name_bg_2.png",
            img_rank_name_bg_3: "general/img_rank_name_bg_3.png",
            img_rank_null: "general/img_rank_null.png",
            img_rank_season: "general/img_rank_season.png",
            img_recharge_4th: "general/img_recharge_4th.png",
            img_recharge_bg: "general/img_recharge_bg.png",
            img_recharge_double: "general/img_recharge_double.png",
            img_recharge_double_test: "general/img_recharge_double_test.png",
            img_recharge_gift: "general/img_recharge_gift.png",
            img_recharge_once: "general/img_recharge_once.png",
            img_recharge_vip: "general/img_recharge_vip.png",
            img_recommend_bg: "general/img_recommend_bg.png",
            img_region_full: "general/img_region_full.png",
            img_region_new: "general/img_region_new.png",
            img_region_recommend: "general/img_region_recommend.png",
            img_room_leader: "general/img_room_leader.png",
            img_room_rookie: "general/img_room_rookie.png",
            img_self: "general/img_self.png",
            img_shop_buy_bg: "general/img_shop_buy_bg.png",
            img_shop_top_bg: "general/img_shop_top_bg.png",
            img_slot: "general/img_slot.png",
            img_status_rect: "general/img_status_rect.png",
            img_tb1: "img/img_tb1.png",
            img_tb2: "img/img_tb2.png",
            img_tb3: "img/img_tb3.png",
            img_tbx: "img/img_tbx.png",
            img_tip_bg: "general/img_tip_bg.png",
            img_tip_bg2: "general/img_tip_bg2.png",
            img_tip_bg3: "general/img_tip_bg3.png",
            img_title_bg: "general/img_title_bg.png",
            img_title_bg_1: "general/img_title_bg_1.png",
            img_title_bg_2: "general/img_title_bg_2.png",
            img_title_decoration: "general/img_title_decoration.png",
            img_toast_bg: "general/img_toast_bg.png",
            img_triangle: "general/img_triangle.png",
            img_troop_bg: "general/img_troop_bg.png",
            img_troop_bg_1: "general/img_troop_bg_1.png",
            img_troop_bg_2: "general/img_troop_bg_2.png",
            img_troop_bg_2_s: "general/img_troop_bg_2_s.png",
            img_troop_bg_2_s2: "general/img_troop_bg_2_s2.png",
            img_troop_bg_3: "general/img_troop_bg_3.png",
            img_troop_bg_4: "general/img_troop_bg_4.png",
            img_troop_bg_6: "general/img_troop_bg_6.png",
            img_troop_bg_7: "general/img_troop_bg_7.png",
            img_troop_bg_8: "general/img_troop_bg_8.png",
            img_troop_bg_9: "general/img_troop_bg_9.png",
            img_troop_defend: "general/img_troop_defend.png",
            img_troop_electric: "img/img_troop_electric.png",
            img_troop_fire: "img/img_troop_fire.png",
            img_troop_grass: "img/img_troop_grass.png",
            img_troop_light: "general/img_troop_light.png",
            img_troop_page_bg: "general/img_troop_page_bg.png",
            img_troop_title_bg: "general/img_troop_title_bg.png",
            img_troop_water: "img/img_troop_water.png",
            img_troop_win: "general/img_troop_win.png",
            img_troop_x: "general/img_troop_x.png",
            img_ui_scene_back: "general/img_ui_scene_back.png",
            img_ui_snow_1: "img/img_ui_snow_1.png",
            img_ui_snow_2: "img/img_ui_snow_2.png",
            img_uion_select_bg: "general/img_uion_select_bg.png",
            img_uion_upper_bg: "general/img_uion_upper_bg.png",
            img_union_chat_oppo: "general/img_union_chat_oppo.png",
            img_union_chat_self: "general/img_union_chat_self.png",
            img_union_elder: "general/img_union_elder.png",
            img_union_leader: "general/img_union_leader.png",
            img_union_pvp: "general/img_union_pvp.png",
            img_union_task_panel: "general/img_union_task_panel.png",
            img_union_title: "general/img_union_title.png",
            img_unknown: "general/img_unknown.png",
            img_vip: "general/img_vip.png",
            img_vip_value_bg: "general/img_vip_value_bg.png",
            img_vs: "general/img_vs.png",
            img_vs_s: "general/img_vs_s.png",
            img_win: "general/img_win.png",
            img_win_all_count_bg: "general/img_win_all_count_bg.png",
            img_win_daily_count_bg: "general/img_win_daily_count_bg.png",
            img_word_lord: "img/img_word_lord.png",
            img_word_union: "img/img_word_union.png",
            img_word_vip: "img/img_word_vip.png",
            img_x: "img/img_x.png",
            in_room_bg: "img/in_room_bg.png",
            in_room_id_bg: "find/in_room_id_bg.png",
            in_room_observe_bg: "find/in_room_observe_bg.png",
            in_room_observe_flag: "find/in_room_observe_flag.png",
            in_room_panel_left: "find/in_room_panel_left.png",
            in_room_panel_right: "find/in_room_panel_right.png",
            input_box_bg: "general/input_box_bg.png",
            invite_bg: "img/invite_bg.png",
            invite_reward: "general/invite_reward.png",
            invite_tips: "general/invite_tips.png",
            invited: "general/invited.png",
            jiangbei: "spine/jiangbei.png",
            jiantou: "spine/jiantou.png",
            jiaxue: "spine/jiaxue.png",
            jibanjiantou: "spine/jibanjiantou.png",
            jieshuhongse: "spine/jieshuhongse.png",
            jieshulanse: "spine/jieshulanse.png",
            jiesuo: "particle/jiesuo.png",
            jinbi: "spine/jinbi.png",
            jinbi2: "spine/jinbi2.png",
            jinbi3: "spine/jinbi3.png",
            jindutiao: "particle/jindutiao.png",
            jingjidamen: "spine/jingjidamen.png",
            jinglingqiu: "spine/jinglingqiu.png",
            jinhuaxx: "particle/jinhuaxx.png",
            jinu: "spine/jinu.png",
            jishengzhongzi: "spine/jishengzhongzi.png",
            jizhong: "particle/jizhong.png",
            jnl: "spine/jnl.png",
            jsb1: "particle/jsb1.png",
            jsb2: "particle/jsb2.png",
            juedou: "particle/juedou.png",
            juedoudatingvs: "spine/juedoudatingvs.png",
            jueze: "spine/jueze.png",
            jueze2: "spine/jueze2.png",
            kaishi: "spine/kaishi.png",
            kaishichoujiang: "particle/kaishichoujiang.png",
            kelingjiang: "spine/kelingjiang.png",
            ko: "spine/ko.png",
            kpcz: "spine/kpcz.png",
            kpcz2: "spine/kpcz2.png",
            kpjh: "spine/kpjh.png",
            kprc05: "spine/kprc05.png",
            kpsw: "spine/kpsw.png",
            kpsz: "spine/kpsz.png",
            kpxq: "spine/kpxq.png",
            kuanghuan: "spine/kuanghuan.png",
            kxzd: "spine/kxzd.png",
            left_panel_bg: "general/left_panel_bg.png",
            legend_num_0: "fonts/legend_num_0.png",
            leiya: "particle/leiya.png",
            level_bg_01: "city/level_bg_01.png",
            level_bg_02: "city/level_bg_02.png",
            level_bg_03: "city/level_bg_03.png",
            level_bg_inner: "city/level_bg_inner.png",
            level_drop: "city/level_drop.png",
            lhlj: "particle/lhlj.png",
            light_point: "general/light_point.png",
            lihe: "spine/lihe.png",
            liliai: "spine/liliai.png",
            lingjiangchenggong: "spine/lingjiangchenggong.png",
            load_btn_agreement: "img/load_btn_agreement.png",
            load_btn_server: "img/load_btn_server.png",
            loading: "spine/loading.png",
            loading0: "img/loading0.png",
            loading1: "updater/loading1.png",
            "loading1.pvr": "updater/loading1.pvr.png",
            loading2: "spine/loading2.png",
            loadingr: "updater/loadingr.png",
            lottery_bg: "img/lottery_bg.png",
            luodan: "spine/luodan.png",
            mail_detail: "general/mail_detail.png",
            main_bg_bottom: "general/main_bg_bottom.png",
            main_bg_bottom_shadow: "general/main_bg_bottom_shadow.png",
            main_bg_top: "general/main_bg_top.png",
            main_bg_top_2: "general/main_bg_top_2.png",
            maoxianditu: "spine/maoxianditu.png",
            mazhishi: "spine/mazhishi.png",
            mbzt: "spine/mbzt.png",
            mdtx: "spine/mdtx.png",
            menghuo: "spine/menghuo.png",
            miaomiao: "spine/miaomiao.png",
            miaomiao2: "spine/miaomiao2.png",
            mieshibaodan: "spine/mieshibaodan.png",
            mohe1: "particle/mohe1.png",
            month_chekin_panel_01: "img/month_chekin_panel_01.png",
            month_chekin_panel_02: "img/month_chekin_panel_02.png",
            month_chekin_panel_03: "img/month_chekin_panel_03.png",
            my_group_bg: "img/my_group_bg.png",
            my_split_line: "general/my_split_line.png",
            n_bg: "particle/n_bg.png",
            n_dg1: "particle/n_dg1.png",
            n_jg2: "particle/n_jg2.png",
            nazi: "spine/nazi.png",
            nengliang: "spine/nengliang.png",
            nengliangqiu: "spine/nengliangqiu.png",
            nianlixi: "spine/nianlixi.png",
            niudantishi: "spine/niudantishi.png",
            num_48_0: "fonts/num_48_0.png",
            num_hp_0: "fonts/num_hp_0.png",
            number_0: "fonts/number_0.png",
            number_43: "fonts/number_43.png",
            number_43_0: "fonts/number_43_0.png",
            package_bg: "img/package_bg.png",
            palace_bg: "img/palace_bg.png",
            panding: "spine/panding.png",
            par_anlang1: "particle/par_anlang1.png",
            par_announcement1: "particle/par_announcement1.png",
            par_announcement2: "particle/par_announcement2.png",
            par_baoza: "particle/par_baoza.png",
            par_bbcy2: "particle/par_bbcy2.png",
            par_binglen: "particle/par_binglen.png",
            par_bingshu_2: "particle/par_bingshu_2.png",
            par_blacksmith_fire: "particle/par_blacksmith_fire.png",
            par_book_lottery2: "particle/par_book_lottery2.png",
            par_book_lottery3: "particle/par_book_lottery3.png",
            par_book_lottery4: "particle/par_book_lottery4.png",
            par_boss_siwang: "particle/par_boss_siwang.png",
            par_card_evolute1: "particle/par_card_evolute1.png",
            par_card_evolute4: "particle/par_card_evolute4.png",
            par_card_rebirth2: "particle/par_card_rebirth2.png",
            par_card_rebirth5: "particle/par_card_rebirth5.png",
            par_card_smoke: "particle/par_card_smoke.png",
            par_card_upgrade1: "particle/par_card_upgrade1.png",
            par_chouka01: "particle/par_chouka01.png",
            par_chouka02: "particle/par_chouka02.png",
            par_chouka05: "particle/par_chouka05.png",
            par_cloud: "particle/par_cloud.png",
            par_cs3: "particle/par_cs3.png",
            par_cxyl: "particle/par_cxyl.png",
            par_daoge: "particle/par_daoge.png",
            par_djts1: "particle/par_djts1.png",
            par_djts2: "particle/par_djts2.png",
            par_duwu1: "particle/par_duwu1.png",
            par_duwu2: "particle/par_duwu2.png",
            par_fajiu1: "particle/par_fajiu1.png",
            par_fajiu2: "particle/par_fajiu2.png",
            par_falls_4: "particle/par_falls_4.png",
            par_grain: "particle/par_grain.png",
            par_hbxm1: "particle/par_hbxm1.png",
            par_hd3: "particle/par_hd3.png",
            par_hill_smoke: "particle/par_hill_smoke.png",
            par_huihe: "particle/par_huihe.png",
            par_huo_yan: "particle/par_huo_yan.png",
            par_jiaxue2: "particle/par_jiaxue2.png",
            par_juhun: "particle/par_juhun.png",
            par_kapaisiwang_1: "particle/par_kapaisiwang_1.png",
            par_kbx2: "particle/par_kbx2.png",
            par_kprc01: "particle/par_kprc01.png",
            par_kprc03: "particle/par_kprc03.png",
            par_lang: "particle/par_lang.png",
            par_lbss2: "particle/par_lbss2.png",
            par_light: "particle/par_light.png",
            par_lottery1: "particle/par_lottery1.png",
            par_lottery2: "particle/par_lottery2.png",
            par_mrsj: "particle/par_mrsj.png",
            par_nengliang2: "particle/par_nengliang2.png",
            par_qiangma_1: "particle/par_qiangma_1.png",
            par_qiangma_2: "particle/par_qiangma_2.png",
            par_qinguo2: "particle/par_qinguo2.png",
            par_res_collect3: "particle/par_res_collect3.png",
            par_ronghe01: "particle/par_ronghe01.png",
            par_shandi_yan: "particle/par_shandi_yan.png",
            par_shuguo_1: "particle/par_shuguo_1.png",
            par_sj1: "particle/par_sj1.png",
            par_sj4: "particle/par_sj4.png",
            par_sssbl1: "particle/par_sssbl1.png",
            par_sz: "particle/par_sz.png",
            par_tb_g3: "particle/par_tb_g3.png",
            par_tpqld1: "particle/par_tpqld1.png",
            par_tpqld3: "particle/par_tpqld3.png",
            par_yhc: "particle/par_yhc.png",
            passed_bg: "general/passed_bg.png",
            pingju: "spine/pingju.png",
            pipei: "spine/pipei.png",
            pipei2: "spine/pipei2.png",
            props_ico_7001: "cards_img_3/props_ico_7001.png",
            props_ico_7002: "cards_img_3/props_ico_7002.png",
            props_ico_7003: "cards_img_3/props_ico_7003.png",
            props_ico_7004: "cards_img_3/props_ico_7004.png",
            props_ico_7005: "cards_img_3/props_ico_7005.png",
            props_ico_7006: "cards_img_3/props_ico_7006.png",
            props_ico_7007: "cards_img_3/props_ico_7007.png",
            props_ico_7008: "cards_img_3/props_ico_7008.png",
            props_ico_7009: "cards_img_3/props_ico_7009.png",
            props_ico_7010: "cards_img_3/props_ico_7010.png",
            props_ico_7011: "cards_img_3/props_ico_7011.png",
            props_ico_7012: "cards_img_3/props_ico_7012.png",
            props_ico_7013: "cards_img_3/props_ico_7013.png",
            props_ico_7014: "cards_img_3/props_ico_7014.png",
            props_ico_7015: "cards_img_3/props_ico_7015.png",
            props_ico_7016: "cards_img_3/props_ico_7016.png",
            props_ico_7017: "cards_img_3/props_ico_7017.png",
            props_ico_7018: "cards_img_3/props_ico_7018.png",
            props_ico_7019: "cards_img_3/props_ico_7019.png",
            props_ico_7020: "cards_img_3/props_ico_7020.png",
            props_ico_7021: "cards_img_3/props_ico_7021.png",
            props_ico_7022: "cards_img_3/props_ico_7022.png",
            props_ico_7023: "cards_img_3/props_ico_7023.png",
            props_ico_7024: "cards_img_3/props_ico_7024.png",
            props_ico_7025: "cards_img_3/props_ico_7025.png",
            props_ico_7026: "cards_img_3/props_ico_7026.png",
            props_ico_7027: "cards_img_3/props_ico_7027.png",
            props_ico_7028: "cards_img_3/props_ico_7028.png",
            props_ico_7029: "cards_img_3/props_ico_7029.png",
            props_ico_7030: "cards_img_3/props_ico_7030.png",
            props_ico_7031: "cards_img_3/props_ico_7031.png",
            props_ico_7032: "cards_img_3/props_ico_7032.png",
            props_ico_7033: "cards_img_3/props_ico_7033.png",
            props_ico_7034: "cards_img_3/props_ico_7034.png",
            props_ico_7035: "cards_img_3/props_ico_7035.png",
            props_ico_7036: "cards_img_3/props_ico_7036.png",
            props_ico_7037: "cards_img_3/props_ico_7037.png",
            props_ico_7038: "cards_img_3/props_ico_7038.png",
            props_ico_7039: "cards_img_3/props_ico_7039.png",
            props_ico_7040: "cards_img_3/props_ico_7040.png",
            props_ico_7041: "cards_img_3/props_ico_7041.png",
            props_ico_7042: "cards_img_3/props_ico_7042.png",
            props_ico_7043: "cards_img_3/props_ico_7043.png",
            props_ico_7044: "cards_img_3/props_ico_7044.png",
            props_ico_7045: "cards_img_3/props_ico_7045.png",
            props_ico_7046: "cards_img_3/props_ico_7046.png",
            props_ico_7047: "cards_img_3/props_ico_7047.png",
            props_ico_7048: "cards_img_3/props_ico_7048.png",
            props_ico_7049: "cards_img_3/props_ico_7049.png",
            props_ico_7050: "cards_img_3/props_ico_7050.png",
            props_ico_7051: "cards_img_3/props_ico_7051.png",
            props_ico_7052: "cards_img_3/props_ico_7052.png",
            props_ico_7053: "cards_img_3/props_ico_7053.png",
            props_ico_7054: "cards_img_3/props_ico_7054.png",
            props_ico_7055: "cards_img_3/props_ico_7055.png",
            props_ico_7056: "cards_img_3/props_ico_7056.png",
            props_ico_7057: "cards_img_3/props_ico_7057.png",
            props_ico_7058: "cards_img_3/props_ico_7058.png",
            props_ico_7059: "cards_img_3/props_ico_7059.png",
            props_ico_7060: "cards_img_3/props_ico_7060.png",
            props_ico_7061: "cards_img_3/props_ico_7061.png",
            props_ico_7062: "cards_img_3/props_ico_7062.png",
            props_ico_7093: "cards_img_3/props_ico_7093.png",
            props_ico_7094: "cards_img_3/props_ico_7094.png",
            props_ico_7095: "cards_img_3/props_ico_7095.png",
            props_ico_7096: "cards_img_3/props_ico_7096.png",
            props_ico_7097: "cards_img_3/props_ico_7097.png",
            props_ico_7098: "cards_img_3/props_ico_7098.png",
            props_ico_7099: "cards_img_3/props_ico_7099.png",
            props_ico_7100: "cards_img_3/props_ico_7100.png",
            props_ico_7101: "cards_img_3/props_ico_7101.png",
            props_ico_7102: "cards_img_3/props_ico_7102.png",
            props_ico_7104: "cards_img_3/props_ico_7104.png",
            props_ico_7105: "cards_img_3/props_ico_7105.png",
            props_ico_7106: "cards_img_3/props_ico_7106.png",
            props_ico_7107: "cards_img_3/props_ico_7107.png",
            props_ico_7108: "cards_img_3/props_ico_7108.png",
            props_ico_7109: "cards_img_3/props_ico_7109.png",
            props_ico_7110: "cards_img_3/props_ico_7110.png",
            props_ico_7111: "cards_img_3/props_ico_7111.png",
            props_ico_7112: "cards_img_3/props_ico_7112.png",
            props_ico_7113: "cards_img_3/props_ico_7113.png",
            props_ico_7114: "cards_img_3/props_ico_7114.png",
            props_ico_7115: "cards_img_3/props_ico_7115.png",
            props_ico_7116: "cards_img_3/props_ico_7116.png",
            props_ico_7117: "cards_img_3/props_ico_7117.png",
            props_ico_7118: "cards_img_3/props_ico_7118.png",
            props_ico_7119: "cards_img_3/props_ico_7119.png",
            props_ico_7120: "cards_img_3/props_ico_7120.png",
            props_ico_7121: "cards_img_3/props_ico_7121.png",
            props_ico_7122: "cards_img_3/props_ico_7122.png",
            props_ico_7123: "cards_img_3/props_ico_7123.png",
            props_ico_7124: "cards_img_3/props_ico_7124.png",
            props_ico_7125: "cards_img_3/props_ico_7125.png",
            props_ico_7126: "cards_img_3/props_ico_7126.png",
            props_ico_7128: "cards_img_3/props_ico_7128.png",
            props_ico_7129: "cards_img_3/props_ico_7129.png",
            props_ico_7130: "cards_img_3/props_ico_7130.png",
            props_ico_7131: "cards_img_3/props_ico_7131.png",
            props_ico_7132: "cards_img_3/props_ico_7132.png",
            props_ico_7133: "cards_img_3/props_ico_7133.png",
            props_ico_7134: "cards_img_3/props_ico_7134.png",
            props_ico_7135: "cards_img_3/props_ico_7135.png",
            props_ico_7136: "cards_img_3/props_ico_7136.png",
            props_ico_7201: "cards_img_3/props_ico_7201.png",
            props_ico_7202: "cards_img_3/props_ico_7202.png",
            props_ico_7203: "cards_img_3/props_ico_7203.png",
            props_ico_7204: "cards_img_3/props_ico_7204.png",
            props_ico_7205: "cards_img_3/props_ico_7205.png",
            props_ico_7206: "cards_img_3/props_ico_7206.png",
            props_ico_7207: "cards_img_3/props_ico_7207.png",
            props_ico_7207_todo: "img/props_ico_7207_todo.png",
            props_ico_7211: "cards_img_3/props_ico_7211.png",
            props_ico_7212: "cards_img_3/props_ico_7212.png",
            props_ico_7213: "cards_img_3/props_ico_7213.png",
            props_ico_7214: "cards_img_3/props_ico_7214.png",
            props_ico_7221: "cards_img_3/props_ico_7221.png",
            props_ico_7222: "cards_img_3/props_ico_7222.png",
            props_ico_7223: "cards_img_3/props_ico_7223.png",
            props_ico_7224: "cards_img_3/props_ico_7224.png",
            props_ico_7231: "cards_img_3/props_ico_7231.png",
            props_ico_7232: "cards_img_3/props_ico_7232.png",
            props_ico_7233: "cards_img_3/props_ico_7233.png",
            props_ico_7234: "cards_img_3/props_ico_7234.png",
            props_ico_7301: "cards_img_3/props_ico_7301.png",
            props_ico_7302: "cards_img_3/props_ico_7302.png",
            props_ico_7303: "cards_img_3/props_ico_7303.png",
            props_ico_7304: "cards_img_3/props_ico_7304.png",
            props_ico_7305: "cards_img_3/props_ico_7305.png",
            props_ico_7311: "cards_img_3/props_ico_7311.png",
            props_ico_7312: "cards_img_3/props_ico_7312.png",
            props_ico_7313: "cards_img_3/props_ico_7313.png",
            props_ico_7314: "cards_img_3/props_ico_7314.png",
            props_ico_7315: "cards_img_3/props_ico_7315.png",
            props_ico_7321: "cards_img_3/props_ico_7321.png",
            props_ico_7322: "cards_img_3/props_ico_7322.png",
            props_ico_7323: "cards_img_3/props_ico_7323.png",
            props_ico_7324: "cards_img_3/props_ico_7324.png",
            props_ico_7325: "cards_img_3/props_ico_7325.png",
            props_ico_7701: "cards_img_3/props_ico_7701.png",
            props_ico_7702: "cards_img_3/props_ico_7702.png",
            props_ico_7703: "cards_img_3/props_ico_7703.png",
            props_ico_7704: "cards_img_3/props_ico_7704.png",
            props_ico_7705: "cards_img_3/props_ico_7705.png",
            props_ico_7706: "cards_img_3/props_ico_7706.png",
            props_ico_7707: "cards_img_3/props_ico_7707.png",
            props_ico_7708: "cards_img_3/props_ico_7708.png",
            props_ico_7709: "cards_img_3/props_ico_7709.png",
            props_ico_7710: "cards_img_3/props_ico_7710.png",
            props_ico_7711: "cards_img_3/props_ico_7711.png",
            props_ico_7712: "cards_img_3/props_ico_7712.png",
            props_shop_item_bg: "city/props_shop_item_bg.png",
            ptgj: "spine/ptgj.png",
            qizi_hong: "qizi_hong.png",
            rank_bg: "general/rank_bg.png",
            rcz: "spine/rcz.png",
            rdx: "spine/rdx.png",
            recharge_btn: "first_recharge/recharge_btn.png",
            recharge_btn_light: "first_recharge/recharge_btn_light.png",
            recharge_jigsaw_01: "first_recharge/recharge_jigsaw_01.png",
            recharge_jigsaw_02: "first_recharge/recharge_jigsaw_02.png",
            recharge_jigsaw_03: "first_recharge/recharge_jigsaw_03.png",
            recharge_jigsaw_04: "first_recharge/recharge_jigsaw_04.png",
            recharge_jigsaw_05: "first_recharge/recharge_jigsaw_05.png",
            recharge_jigsaw_06: "first_recharge/recharge_jigsaw_06.png",
            recharge_jigsaw_07: "first_recharge/recharge_jigsaw_07.png",
            recharge_jigsaw_bg: "first_recharge/recharge_jigsaw_bg.png",
            recharge_jigsaw_fg: "first_recharge/recharge_jigsaw_fg.png",
            recharge_jigsaw_light: "first_recharge/recharge_jigsaw_light.png",
            recharge_jigsaw_lines: "first_recharge/recharge_jigsaw_lines.png",
            recommend_bg: "img/recommend_bg.png",
            rengqiu: "spine/rengqiu.png",
            res_ico_1: "cards_img_3/res_ico_1.png",
            res_ico_11: "cards_img_3/res_ico_11.png",
            res_ico_12: "cards_img_3/res_ico_12.png",
            res_ico_13: "cards_img_3/res_ico_13.png",
            res_ico_14: "cards_img_3/res_ico_14.png",
            res_ico_15: "cards_img_3/res_ico_15.png",
            res_ico_16: "cards_img_3/res_ico_16.png",
            res_ico_2: "cards_img_3/res_ico_2.png",
            res_ico_20: "cards_img_3/res_ico_20.png",
            res_ico_21: "cards_img_3/res_ico_21.png",
            res_ico_26: "cards_img_3/res_ico_26.png",
            res_ico_3: "cards_img_3/res_ico_3.png",
            res_ico_4: "cards_img_3/res_ico_4.png",
            res_ico_5: "cards_img_3/res_ico_5.png",
            res_ico_6: "cards_img_3/res_ico_6.png",
            res_ico_7: "cards_img_3/res_ico_7.png",
            res_ico_8: "cards_img_3/res_ico_8.png",
            right_panel_bg: "general/right_panel_bg.png",
            right_panel_edge: "general/right_panel_edge.png",
            rnj: "spine/rnj.png",
            room_bottom_tips: "find/room_bottom_tips.png",
            room_left_bg: "general/room_left_bg.png",
            room_number_btn_0: "find/room_number_btn_0.png",
            room_number_btn_1: "find/room_number_btn_1.png",
            room_number_btn_2: "find/room_number_btn_2.png",
            room_number_btn_3: "find/room_number_btn_3.png",
            room_number_btn_4: "find/room_number_btn_4.png",
            room_number_btn_5: "find/room_number_btn_5.png",
            room_number_btn_6: "find/room_number_btn_6.png",
            room_number_btn_7: "find/room_number_btn_7.png",
            room_number_btn_8: "find/room_number_btn_8.png",
            room_number_btn_9: "find/room_number_btn_9.png",
            room_player_unknown: "general/room_player_unknown.png",
            room_right_bg: "general/room_right_bg.png",
            room_top_bg: "general/room_top_bg.png",
            ryb: "spine/ryb.png",
            sdlw: "particle/sdlw.png",
            shenchou: "spine/shenchou.png",
            shengji: "spine/shengji.png",
            shengli: "spine/shengli.png",
            shetuanshengji: "spine/shetuanshengji.png",
            shibai: "spine/shibai.png",
            shourukazu: "spine/shourukazu.png",
            shousuo: "spine/shousuo.png",
            shuihua: "spine/shuihua.png",
            shuimu: "spine/shuimu.png",
            shuixi: "spine/shuixi.png",
            shuizt: "spine/shuizt.png",
            siyao: "spine/siyao.png",
            skills_name: "fonts/skills_name.png",
            skin_bg: "img/skin_bg.png",
            skin_frame: "img/skin_frame.png",
            split_line: "general/split_line.png",
            split_line_up: "general/split_line_up.png",
            swdl3: "particle/swdl3.png",
            sz1: "particle/sz1.png",
            szkp: "spine/szkp.png",
            tanxian: "spine/tanxian.png",
            tengbian: "spine/tengbian.png",
            tip_avatar: "activity/tip_avatar.png",
            tip_frame: "activity/tip_frame.png",
            troop_bg: "general/troop_bg.png",
            tt_gift_package_1: "city/tt_gift_package_1.png",
            tt_gift_package_2: "city/tt_gift_package_2.png",
            tt_gift_package_3: "city/tt_gift_package_3.png",
            tt_gift_package_4: "city/tt_gift_package_4.png",
            tt_gift_package_5: "city/tt_gift_package_5.png",
            tt_gift_package_6: "city/tt_gift_package_6.png",
            tt_gift_package_7: "city/tt_gift_package_7.png",
            tt_gift_package_8: "city/tt_gift_package_8.png",
            tt_gift_package_9: "city/tt_gift_package_9.png",
            tuika: "spine/tuika.png",
            tuodong: "particle/tuodong.png",
            ui_scene_bg: "img/ui_scene_bg.png",
            union_communication_0: "general/union_communication_0.png",
            union_let_bg: "general/union_let_bg.png",
            union_task_addition: "general/union_task_addition.png",
            union_task_bg: "general/union_task_bg.png",
            union_task_bonus: "general/union_task_bonus.png",
            union_task_condition: "general/union_task_condition.png",
            union_task_monster_tips: "general/union_task_monster_tips.png",
            union_task_title: "general/union_task_title.png",
            v11: "particle/v11.png",
            vip_01: "city/vip_01.png",
            vip_02: "city/vip_02.png",
            vip_03: "city/vip_03.png",
            vip_04: "city/vip_04.png",
            vip_05: "city/vip_05.png",
            vip_06: "city/vip_06.png",
            vip_07: "city/vip_07.png",
            vip_08: "city/vip_08.png",
            vip_09: "city/vip_09.png",
            vip_dot: "city/vip_dot.png",
            vip_title: "city/vip_title.png",
            vipshengji: "spine/vipshengji.png",
            vs: "spine/vs.png",
            vs_npc: "img/vs_npc.png",
            wait_text_bg: "general/wait_text_bg.png",
            wansheng: "spine/wansheng.png",
            white: "_default/white.png",
            win_lose_bg: "general/win_lose_bg.png",
            wuzang: "spine/wuzang.png",
            xiaocilang: "spine/xiaocilang.png",
            xiaogang: "spine/xiaogang.png",
            xiaomao: "spine/xiaomao.png",
            xiaoxia: "spine/xiaoxia.png",
            xiaozhi: "spine/xiaozhi.png",
            xipai: "spine/xipai.png",
            xiyoudu1: "spine/xiyoudu1.png",
            xiyoudu2: "spine/xiyoudu2.png",
            xuanzhong: "spine/xuanzhong.png",
            xuanzhong2: "spine/xuanzhong2.png",
            xuwang1: "particle/xuwang1.png",
            yan: "particle/yan.png",
            ydwz05: "particle/ydwz05.png",
            yl_6039: "particle/yl_6039.png",
            yunzt: "spine/yunzt.png",
            yxw_number_csrd_24: "fonts/yxw_number_csrd_24.png",
            yxw_number_csrd_24_0: "fonts/yxw_number_csrd_24_0.png",
            zb: "spine/zb.png",
            zcqf_yhc: "particle/zcqf_yhc.png",
            zengyi: "spine/zengyi.png",
            zh: "spine/zh.png",
            zhanchangduijue: "spine/zhanchangduijue.png",
            zhandouhuifang1: "spine/zhandouhuifang1.png",
            zhandouhuifang2: "spine/zhandouhuifang2.png",
            zhanqie: "spine/zhanqie.png",
            zhongdian: "spine/zhongdian.png",
            zhongshui: "spine/zhongshui.png",
            zhuangtai: "spine/zhuangtai.png",
            zhuazi: "spine/zhuazi.png",
            zjl: "spine/zjl.png",
            zszq: "spine/zszq.png",
            zuanshi1: "spine/zuanshi1.png",
            zuanshi2: "spine/zuanshi2.png",
            zuanshi3: "spine/zuanshi3.png",
            zuanshi4: "spine/zuanshi4.png",
            zuanshiyueka: "spine/zuanshiyueka.png"
        }, cc._RF.pop()
    }, {}],
    AllViewTypes: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "90fd5EOIxJMIJvnQyAp97MT", "AllViewTypes"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../framework/NoxView"), i = e("../const/ZOrder");
        n.AllViewTypes = {
            ActivityScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/ActivityScene"
            },
            CityScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/CityScene"},
            FindScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/FindScene"},
            InRoomScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/InRoomScene"},
            GuideScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/GuideScene"},
            HeroCenterScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/HeroCenterScene"
            },
            HallScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/HallScene"},
            LoadingScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/LoadingScene"},
            LotteryScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/LotteryScene"},
            RechargeScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/RechargeScene"
            },
            RegionScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/RegionScene"},
            ResSwitchScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/ResSwitchScene"
            },
            SkinShopScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/SkinShopScene"
            },
            TavernScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/TavernScene"},
            TeachingScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/TeachingScene"
            },
            TutorialScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/TutorialScene"
            },
            UnionScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/UnionScene"},
            BattleScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/BattleScene"},
            ExpeditionScene: {
                flags: a.ViewFlag.Main,
                module: i.ZOrder.scene,
                hierarchy: 1,
                resPath: "scene/ExpeditionScene"
            },
            ShopScene: {flags: a.ViewFlag.Main, module: i.ZOrder.scene, hierarchy: 1, resPath: "scene/ShopScene"},
            ResourcePanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/ResourcePanel"
            },
            ChapterPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/ChapterPanel"},
            FundTaskPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/FundTaskPanel"
            },
            WelfarePanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/WelfarePanel"},
            FindMatchPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/FindMatchPanel"
            },
            CapturePanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/CapturePanel"},
            CardInfoPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/CardInfoPanel"
            },
            CardOperatePanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/CardOperatePanel"
            },
            BackBagPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/bag/BagPanel"},
            RankPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/rank/RankPanel"},
            CharacterPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/CharacterPanel"
            },
            IllustrationPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/IllustrationPanel"
            },
            RewardPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/RewardPanel"},
            RewardCardPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/RewardCardPanel"
            },
            LevelUpPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/LevelUpPanel"},
            CardPackagePanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/CardPackagePanel"
            },
            GachaDetailPanel: {
                flags: a.ViewFlag.Panel,
                module: i.ZOrder.ui,
                hierarchy: 2,
                resPath: "panel/GachaDetailPanel"
            },
            BonusBoxPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.ui, hierarchy: 2, resPath: null},
            EmptyPanel: {flags: a.ViewFlag.Panel, module: i.ZOrder.form, hierarchy: 1, resPath: "panel/EmptyPanel"},
            LoginForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/LoginForm"},
            RegionSelectForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/RegionSelectForm"
            },
            BattleRuleForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/BattleRuleForm"
            },
            ClashChestBonusForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ClashChestBonusForm"
            },
            ClashUserInfoForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ClashUserInfoForm"
            },
            FindClashFirstForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/FindClashFirstForm"
            },
            LogForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/LogForm"},
            ShareForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/ShareForm"},
            DepotForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/DepotForm"},
            RoomBattleReportForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/RoomBattleReportForm"
            },
            HintForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/HintForm"},
            JoinHallForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/JoinHallForm"},
            SetPlayerNameForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/SetPlayerNameForm"
            },
            ActiveChestForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ActiveChestForm"
            },
            MailForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/MailForm"},
            InputNumberForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/InputNumberForm"
            },
            InputForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/InputForm"},
            ImpeachForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/ImpeachForm"},
            CheckInForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/CheckInForm"},
            ExchangeResForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ExchangeResForm"
            },
            LadderChestForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/LadderChestForm"
            },
            VisitForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/VisitForm"},
            VIPInfoForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/VIPInfoForm"},
            MailDetailForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/MailForm/MailDetailForm"
            },
            HelpForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/HelpForm"},
            ChatForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/ChatForm"},
            LordForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/LordForm"},
            SelectHeadForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/SelectHeadForm"
            },
            SelectMedalForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/SelectMedalForm"
            },
            SelectCardBackForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/SelectCardBackForm"
            },
            SelectAvatarFrameForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/SelectAvatarFrameForm"
            },
            ExchangeCodeForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ExchangeCodeForm"
            },
            SendMailForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/SendMailForm"},
            ConfirmBuyIngot: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ConfirmBuyIngot"
            },
            ConfirmInvited: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "form/ConfirmInvited"
            },
            UnionDetailForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionDetailForm"
            },
            UnionLetForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionLetForm"
            },
            UnionContributeForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionContributeForm"
            },
            UnionTaskForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionTaskForm"
            },
            UnionBorrowForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionBorrowForm"
            },
            ActivityForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/ActivityForm"},
            UnionLogForm: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "panel/unionpanel/UnionLogForm"
            },
            DescForm: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "form/DescForm"},
            Dialog: {flags: a.ViewFlag.Dialog, module: i.ZOrder.dialog, hierarchy: 1, resPath: "common/Dialog"}
        }, n.AllWidgetTypes = {
            CardInfoWidget: {
                flags: a.ViewFlag.Form,
                module: i.ZOrder.form,
                hierarchy: 1,
                resPath: "widget/CardInfoWidget"
            }, MailWidget: {flags: a.ViewFlag.Form, module: i.ZOrder.form, hierarchy: 1, resPath: "widget/MailWidget"}
        }, cc._RF.pop()
    }, {"../../framework/NoxView": "NoxView", "../const/ZOrder": "ZOrder"}],
    AnniversaryPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e9739JAuSlD4JmyOs9NqKqm", "AnniversaryPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendGetAniversaryRechargeCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_ANNIVERSARY_PAY_CALIM, t.setExtensions_User_pb_SglUserMsg_user_anniversary_pay_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetAnniversaryRank = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_ANNIVERSARY_BONUS_GOLD_RANK, t.setExtensions_Rank_pb_SglRankMsg_anniversary_gold_rank_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUpdateAnniversaryUserInfo = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_ANNIVERSARY_BONUS_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendAnniversarySignClaim = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CUMULATIVE_TIME_ACTIVITY, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_online_time_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendWorldLottery = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_LOTTERY, i.setExtensions_World_pb_SglWorldMsg_world_lottery_user_token(e), i.setExtensions_World_pb_SglWorldMsg_world_lottery_count(t), i.setExtensions_World_pb_SglWorldMsg_lotter_type(n), a.NetUtil.sendProtoMsg(i)
            }, e.sendGetBirthdayCake = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CANDLE_INFO, a.NetUtil.sendProtoMsg(t)
            }, e.sendSubmitCandle = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CANDLE_COMMIT, t.setExtensions_User_pb_SglUserMsg_user_apply_vip_card_req(e), a.NetUtil.sendProtoMsg(t)
            }
        })(n.AnniversaryPart || (n.AnniversaryPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    AudioEnums: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8a8d5iYdgBCn7nsxYnRwiCj", "AudioEnums"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e[e.E_BAT_SKILL_ZHONGSHUI_NEW = 87] = "E_BAT_SKILL_ZHONGSHUI_NEW", e[e.E_BAT_COIN_2 = 32] = "E_BAT_COIN_2", e[e.E_LILIAI_18 = 106] = "E_LILIAI_18", e[e.E_LILIAI_15 = 103] = "E_LILIAI_15", e[e.E_BAT_SKILL_50001 = 35] = "E_BAT_SKILL_50001", e[e.E_BAT_SKILL_DUZHEN = 133] = "E_BAT_SKILL_DUZHEN", e[e.E_LILIAI_10 = 98] = "E_LILIAI_10", e[e.M_EXPEDITION = 81] = "M_EXPEDITION", e[e.E_CAIZHONG_1 = 95] = "E_CAIZHONG_1", e[e.E_BAT_SKILL_BINGDONG = 83] = "E_BAT_SKILL_BINGDONG", e[e.E_BAT_SKILL_RDX = 53] = "E_BAT_SKILL_RDX", e[e.E_BAT_SKILL_SFXG = 76] = "E_BAT_SKILL_SFXG", e[e.E_TAVERN_OPEN_PACKAGE = 17] = "E_TAVERN_OPEN_PACKAGE", e[e.M_BATTLE_WIN = 11] = "M_BATTLE_WIN", e[e.E_BAT_SKILL_GDDJ1 = 70] = "E_BAT_SKILL_GDDJ1", e[e.E_BAT_SKILL_DGZ = 44] = "E_BAT_SKILL_DGZ", e[e.E_XIAOZHI_1 = 122] = "E_XIAOZHI_1", e[e.E_TAVERN_MOVE = 67] = "E_TAVERN_MOVE", e[e.E_BAT_SKILL_BWFT_2 = 65] = "E_BAT_SKILL_BWFT_2", e[e.E_BAT_DIALOG = 33] = "E_BAT_DIALOG", e[e.E_BAT_SKILL_DIKANG = 45] = "E_BAT_SKILL_DIKANG", e[e.E_BAT_SKILL_ZENGYI = 85] = "E_BAT_SKILL_ZENGYI", e[e.E_BAT_CARD_LEAVE = 28] = "E_BAT_CARD_LEAVE", e[e.E_BAT_SKILL_MENGHUO = 75] = "E_BAT_SKILL_MENGHUO", e[e.E_LILIAI_3_1 = 129] = "E_LILIAI_3_1", e[e.M_CITY = 12] = "M_CITY", e[e.E_BAT_SKILL_GUAFENG = 48] = "E_BAT_SKILL_GUAFENG", e[e.E_BAT_SKILL_50002 = 36] = "E_BAT_SKILL_50002", e[e.E_FLASH = 6] = "E_FLASH", e[e.E_BAT_SKILL_50003 = 37] = "E_BAT_SKILL_50003", e[e.E_BAT_SKILL_ = 82] = "E_BAT_SKILL_", e[e.E_POKEMON_APPEAR = 93] = "E_POKEMON_APPEAR", e[e.E_BAT_SKILL_SHUIHUA = 55] = "E_BAT_SKILL_SHUIHUA", e[e.E_BAT_SKILL_DASHUI = 43] = "E_BAT_SKILL_DASHUI", e[e.M_BATTLE1 = 9] = "M_BATTLE1", e[e.E_BAT_SKILL_GDDJ2 = 71] = "E_BAT_SKILL_GDDJ2", e[e.E_BAT_SKILL_DAFENG = 41] = "E_BAT_SKILL_DAFENG", e[e.E_BAT_SKILL_BWFT = 64] = "E_BAT_SKILL_BWFT", e[e.E_BAT_SKILL_MAGIC_NORMAL = 132] = "E_BAT_SKILL_MAGIC_NORMAL", e[e.E_BAT_CARD_EVOLVE = 26] = "E_BAT_CARD_EVOLVE", e[e.E_EXPLORE_FOUND = 92] = "E_EXPLORE_FOUND", e[e.E_BAT_BALL = 20] = "E_BAT_BALL", e[e.E_LILIAI_20 = 109] = "E_LILIAI_20", e[e.E_BAT_SKILL_PTGJ = 51] = "E_BAT_SKILL_PTGJ", e[e.E_XIAOXIA_1 = 120] = "E_XIAOXIA_1", e[e.E_LILIAI_24 = 125] = "E_LILIAI_24", e[e.E_BAT_SKILL_GUANGSHU = 73] = "E_BAT_SKILL_GUANGSHU", e[e.E_LILIAI_23 = 124] = "E_LILIAI_23", e[e.M_VIDEO = 94] = "M_VIDEO", e[e.E_XIAOXIA_2 = 121] = "E_XIAOXIA_2", e[e.E_CAPTURE_FAIL = 68] = "E_CAPTURE_FAIL", e[e.E_BAT_SKILL_RCZ = 52] = "E_BAT_SKILL_RCZ", e[e.E_CARD_GET = 2] = "E_CARD_GET", e[e.E_BAT_SKILL_HUOYAN = 49] = "E_BAT_SKILL_HUOYAN", e[e.E_BUTTON_DEFAULT = 1] = "E_BUTTON_DEFAULT", e[e.E_CLAIM = 3] = "E_CLAIM", e[e.E_BAT_USE_MAGIC = 58] = "E_BAT_USE_MAGIC", e[e.E_LILIAI_22 = 111] = "E_LILIAI_22", e[e.E_BAT_CARD_USING = 30] = "E_BAT_CARD_USING", e[e.E_LILIAI_1 = 97] = "E_LILIAI_1", e[e.E_GUIDE_CLICK = 61] = "E_GUIDE_CLICK", e[e.E_LILIAI_25 = 127] = "E_LILIAI_25", e[e.E_TROOP_INOUT = 62] = "E_TROOP_INOUT", e[e.E_BAT_CARD_SHUFFLE = 66] = "E_BAT_CARD_SHUFFLE", e[e.E_FIND_MATCH = 4] = "E_FIND_MATCH", e[e.E_COUNTDOWN = 89] = "E_COUNTDOWN", e[e.E_BAT_SKILL_GDDJ3 = 72] = "E_BAT_SKILL_GDDJ3", e[e.E_BAT_SKILL_DJ = 46] = "E_BAT_SKILL_DJ", e[e.E_BAT_CARD_BOARD = 21] = "E_BAT_CARD_BOARD", e[e.E_BAT_CARD_BUFF = 22] = "E_BAT_CARD_BUFF", e[e.E_LILIAI_2 = 108] = "E_LILIAI_2", e[e.E_BAT_SKILL_50005 = 39] = "E_BAT_SKILL_50005", e[e.E_BATTLE_KO = 126] = "E_BATTLE_KO", e[e.E_TAVERN_FLIP = 16] = "E_TAVERN_FLIP", e[e.E_TAVERN_FLIP_UR = 19] = "E_TAVERN_FLIP_UR", e[e.E_BAT_CARD_FLIP = 27] = "E_BAT_CARD_FLIP", e[e.E_CAPTURE_SUCCESS = 69] = "E_CAPTURE_SUCCESS", e[e.E_BAT_SKILL_ZHONGSHUI = 77] = "E_BAT_SKILL_ZHONGSHUI", e[e.E_LILIAI_9 = 117] = "E_LILIAI_9", e[e.E_BAT_CARD_DIE = 24] = "E_BAT_CARD_DIE", e[e.E_LILIAI_11 = 99] = "E_LILIAI_11", e[e.E_LILIAI_6 = 115] = "E_LILIAI_6", e[e.E_BAT_CARD_EQUIP = 25] = "E_BAT_CARD_EQUIP", e[e.E_PLAYER_UPGRADE = 7] = "E_PLAYER_UPGRADE", e[e.M_BATTLE = 8] = "M_BATTLE", e[e.E_BAT_SKILL_JIAXUE = 50] = "E_BAT_SKILL_JIAXUE", e[e.E_LILIAI_7 = 116] = "E_LILIAI_7", e[e.E_LILIAI_16 = 104] = "E_LILIAI_16", e[e.E_BAT_SKILL_JISHENGZHONGZI = 130] = "E_BAT_SKILL_JISHENGZHONGZI", e[e.E_LILIAI_3 = 112] = "E_LILIAI_3", e[e.E_BAT_ROUND = 34] = "E_BAT_ROUND", e[e.E_LILIAI_19 = 107] = "E_LILIAI_19", e[e.E_FIND_MATCH_OVER = 5] = "E_FIND_MATCH_OVER", e[e.E_BAT_SKILL_HEIDONG = 74] = "E_BAT_SKILL_HEIDONG", e[e.E_BAT_FORTRESS_DIE = 63] = "E_BAT_FORTRESS_DIE", e[e.E_BAT_SKILL_SIYAO = 78] = "E_BAT_SKILL_SIYAO", e[e.E_BAT_SKILL_50004 = 38] = "E_BAT_SKILL_50004", e[e.E_TAVERN_BUY_PACKAGE = 15] = "E_TAVERN_BUY_PACKAGE", e[e.E_BAT_SKILL_DAHUO = 42] = "E_BAT_SKILL_DAHUO", e[e.E_BAT_SKILL_RNJ = 54] = "E_BAT_SKILL_RNJ", e[e.E_BAT_SKILL_ZHUAZI = 57] = "E_BAT_SKILL_ZHUAZI",e[e.E_BAT_SKILL_ZHONGDIAN = 86] = "E_BAT_SKILL_ZHONGDIAN",e[e.E_CHARACTER_PANEL = 88] = "E_CHARACTER_PANEL",e[e.E_BAT_SKILL_DUWU = 47] = "E_BAT_SKILL_DUWU",e[e.E_TRAVEL_CHAPTER = 18] = "E_TRAVEL_CHAPTER",e[e.E_XIAOMAO_2 = 119] = "E_XIAOMAO_2",e[e.E_XIAOMAO_1 = 118] = "E_XIAOMAO_1",e[e.E_BAT_VS = 60] = "E_BAT_VS",e[e.E_BAT_SKILL_TENGBIAN = 131] = "E_BAT_SKILL_TENGBIAN",e[e.M_BATTLE_LOSE = 10] = "M_BATTLE_LOSE",e[e.E_BAT_CARD_DEAL = 23] = "E_BAT_CARD_DEAL",e[e.E_LILIAI_21 = 110] = "E_LILIAI_21",e[e.E_CAIZHONG_2 = 96] = "E_CAIZHONG_2",e[e.E_XIAOZHI_2 = 123] = "E_XIAOZHI_2",e[e.E_LILIAI_4 = 113] = "E_LILIAI_4",e[e.E_BAT_USE_MONSTER = 59] = "E_BAT_USE_MONSTER",e[e.E_LILIAI_26 = 128] = "E_LILIAI_26",e[e.E_BAT_CARD_POWER = 29] = "E_BAT_CARD_POWER",e[e.E_BAT_SKILL_CIJI = 79] = "E_BAT_SKILL_CIJI",e[e.M_LOADING = 14] = "M_LOADING",e[e.E_LILIAI_5 = 114] = "E_LILIAI_5",e[e.E_LILIAI_14 = 102] = "E_LILIAI_14",e[e.E_EXPLORE_CATCH = 91] = "E_EXPLORE_CATCH",e[e.E_BAT_SKILL_DDJ = 84] = "E_BAT_SKILL_DDJ",e[e.E_LILIAI_13 = 101] = "E_LILIAI_13",e[e.E_DAILYTASK_FLIP = 90] = "E_DAILYTASK_FLIP",e[e.E_BAT_SKILL_FEIYEKUAIDAO = 80] = "E_BAT_SKILL_FEIYEKUAIDAO",e[e.E_LILIAI_17 = 105] = "E_LILIAI_17",e[e.E_BAT_COIN = 31] = "E_BAT_COIN",e[e.E_BAT_SKILL_ZHANQIE = 56] = "E_BAT_SKILL_ZHANQIE",e[e.E_BAT_SKILL_BAOZHA = 40] = "E_BAT_SKILL_BAOZHA",e[e.E_LILIAI_12 = 100] = "E_LILIAI_12",e[e.M_GUIDE = 13] = "M_GUIDE"
        }(n.AUDIO || (n.AUDIO = {})), cc._RF.pop()
    }, {}],
    BackBagPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "847fcM3ICtPLoZlbtFBJiRz", "BackBagPanel");
        var a, i = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var o, r = e("./BasePanel"), _ = e("../AllViewTypes"), s = e("../../../noxcc"), c = e("../../data/data"),
            l = e("../../../leocool/lcStr"), d = e("../../StringEnums"), p = e("../../ClientView"),
            u = e("../widget/DepotWidget"), g = e("../../ClientData"), h = e("../../../leocool/lc");
        (function (e) {
            e.AllTypes = "AllTypes", e.TheElvesBall = "TheElvesBall", e.Consumables = "Consumables", e.Treasure = "Treasure"
        })(o || (o = {}));
        var f = ((a = {})[o.AllTypes] = ["Left_ScrollView/view/content/AllTypes_Button", null], a[o.TheElvesBall] = ["Left_ScrollView/view/content/TheElvesBall_Button", null], a[o.Consumables] = ["Left_ScrollView/view/content/Consumables_Button", null], a[o.Treasure] = ["Left_ScrollView/view/content/Treasure_Button", null], a),
            m = function (e) {
                function t() {
                    var t = e.call(this, _.AllViewTypes.BackBagPanel) || this;
                    return t.mBackBtn = null, t.mHelpBtn = null, t.mAllToggles = {}, t.mAllLabels = {}, t.mActiveTab = null, t._panelName = "BackBagPanel", t
                }

                return i(t, e), t.prototype.init = function () {
                    e.prototype.init.call(this), this._isShowResourceUI = !0
                }, t.prototype.onInitWidget = function () {
                    for (var e in this.mBackBtn = s.noxcc.findButton("TopBar/headBg/btn_Back", this.getRootNode()), this.mHelpBtn = s.noxcc.findButton("TopBar/headBg/Help_Button", this.getRootNode()), s.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), s.noxcc.addClick(this.mHelpBtn, this, this.onHelpBtn), o) {
                        var t = f[e], n = s.noxcc.findButton(t[0], this.getRootNode());
                        this.mAllToggles[e] = n, s.noxcc.addClick(n, this, this.onToggleClick, e), this.mAllLabels[e] = s.noxcc.findLabel(t[0] + "/Label", this.getRootNode())
                    }
                    s.noxcc.setLabelString(this.mAllLabels.AllTypes, l.lcStr(d.STR.TAB_PROP_1)), s.noxcc.setLabelString(this.mAllLabels.TheElvesBall, l.lcStr(d.STR.TAB_PROP_2)), s.noxcc.setLabelString(this.mAllLabels.Consumables, l.lcStr(d.STR.TAB_PROP_3)), s.noxcc.setLabelString(this.mAllLabels.Treasure, l.lcStr(d.STR.TAB_PROP_4)), this.createDepotWidget(), this.mActiveTab = ""
                }, t.prototype.onReleaseWidget = function () {
                    this.mAllToggles = {}, this.mActiveTab = "", this.mDepotWidget.destroy()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this.setActiveTab(o.AllTypes), this._listeners = [], this._listeners.push(c.Data.Event.prop_dirty.addListener(t, function () {
                        t.prepareData(), t.mDepotWidget.refreshItemList()
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.createDepotWidget = function () {
                    var e = s.noxcc.find("DepotWidget", this.getRootNode()),
                        t = u.DepotWidget.create(cc.size(1070, 670), 5);
                    e.addChild(t.getRoot()), this.mDepotWidget = t
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.onHelpBtn = function () {
                    g.ClientData.showHelpForm(l.lcStr(d.STR.HELP), c.Data.HelpType.depot)
                }, t.prototype.setResourcePanel = function () {
                    p.ClientView.getResourceUI().setMode(c.Data.ResType.gold)
                }, t.prototype.onToggleClick = function (e, t) {
                    this.setActiveTab(e)
                }, t.prototype.setActiveTab = function (e) {
                    if (this.prepareData(), this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles) {
                        var n = this.mAllToggles[t];
                        t == e ? (s.noxcc.find("icon", n.node).active = !0, s.noxcc.setNodeColor(s.noxcc.find("Label", n.node), h.lc.Color3B.yellow), "TheElvesBall" == t ? this.mDepotWidget.setData(this._props_ball) : "Consumables" == t ? this.mDepotWidget.setData(this._props_consumable) : "Treasure" == t ? this.mDepotWidget.setData(this._props_box) : this.mDepotWidget.setData(this._props)) : (s.noxcc.find("icon", n.node).active = !1, s.noxcc.setNodeColor(s.noxcc.find("Label", n.node), h.lc.Color3B.white))
                    }
                }, t.prototype.prepareData = function () {
                    var e = [], t = [], n = [], a = [];
                    for (var i in P._propBag._props) {
                        var o = P._propBag._props[i];
                        o._num > 0 && o._info._type > 0 && o._info._rank > 0 && (o._info._type == c.Data.PropsType.ball && t.push(o), o._info._type == c.Data.PropsType.consumable && n.push(o), o._info._type == c.Data.PropsType.box && a.push(o), e.push(o))
                    }
                    e.sort(function (e, t) {
                        return e._info._rank - t._info._rank
                    }), t.sort(function (e, t) {
                        return e._info._rank - t._info._rank
                    }), n.sort(function (e, t) {
                        return e._info._rank - t._info._rank
                    }), a.sort(function (e, t) {
                        return e._info._rank - t._info._rank
                    }), this._props = e, this._props_ball = t, this._props_consumable = n, this._props_box = a
                }, t.prototype.syncData = function () {
                    this.mActiveTab ? this.setActiveTab(this.mActiveTab) : this.setActiveTab(o.AllTypes)
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(r.BasePanel);
        n.BackBagPanel = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "../AllViewTypes": "AllViewTypes",
        "../widget/DepotWidget": "DepotWidget",
        "./BasePanel": "BasePanel"
    }],
    BaseComponent: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "21c13fNgkNJ6YzYV18YN5mW", "BaseComponent"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../framework/NoxComponent");
        n.BaseComponent = a.NoxComponent, cc._RF.pop()
    }, {"../framework/NoxComponent": "NoxComponent"}],
    BaseForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7e949OKFP9DHYIpw4v58LxO", "BaseForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./panel/BasePanel"), i = e("../../leocool/lc"), o = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return __extends(t, e), t.prototype.prepareOpenAction = function () {
                if (0 == this.getRootNode().getNumberOfRunningActions()) {
                    var e = this.getRootNode().getPosition();
                    return this.getRootNode().setPosition(e.x, i.lc.abottom(this.getRootNode().parent) - this.getRootNode().height), i.lc.ease(i.lc.moveTo(i.lc.absTime(t.ACTION_DURATION), e), "BackO")
                }
                return null
            }, t.prototype.prepareCloseAction = function () {
                if (0 == this.getRootNode().getNumberOfRunningActions()) {
                    var e = cc.v2(this.getRootNode().x, i.lc.abottom(this.getRootNode().parent) - this.getRootNode().height);
                    return i.lc.ease(i.lc.moveTo(i.lc.absTime(t.ACTION_DURATION), e), "BackI")
                }
                return null
            }, t.prototype.onFadeInBegin = function () {
                this.onShowActionStart()
            }, t.prototype.onFadeInEnd = function () {
                this.onShowActionFinished()
            }, t.prototype.onFadeOutBegin = function () {
                this.onHideActionStart()
            }, t.prototype.onFadeOutEnd = function () {
                this.onHideActionFinished()
            }, t.prototype.onShowActionStart = function () {
            }, t.prototype.onShowActionFinished = function () {
            }, t.prototype.onHideActionStart = function () {
            }, t.prototype.onHideActionFinished = function () {
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this)
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t
        }(a.BasePanel);
        n.BaseForm = o, function (e) {
            e.ACTION_DURATION = .3
        }(o = n.BaseForm || (n.BaseForm = {})), n.BaseForm = o, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "./panel/BasePanel": "BasePanel"}],
    BaseGuideLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cfa4bCrVVhKa5qJUSUl6BCj", "BaseGuideLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t._highlightObjs = [], t
            }

            return __extends(t, e), t.prototype.getHighlightObjs = function () {
                return this._highlightObjs
            }, t.prototype.addHighlightObj = function (e) {
                this._highlightObjs.push(e)
            }, t.prototype.hideHighlightObjs = function () {
                var e = this.getHighlightObjs();
                if (e) for (var t = 0; t < e.length; ++t) e[t].active = !1
            }, t.prototype.removeHighlightObjs = function () {
                if (this._highlightObjs) {
                    for (var e = 0; e < this._highlightObjs.length; ++e) this._highlightObjs[e].parent = null, this._highlightObjs[e].destroy();
                    this._highlightObjs = null
                }
            }, t
        }(e("../node/TouchLayer").TouchLayer);
        n.BaseGuideLayer = a, cc._RF.pop()
    }, {"../node/TouchLayer": "TouchLayer"}],
    BasePage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "480d0Dn0kBCGYk0iMQVe7/0", "BasePage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }

            return a(t, e), t
        }(e("../../framework/NoxWidget").NoxWidget);
        n.BasePage = i, cc._RF.pop()
    }, {"../../framework/NoxWidget": "NoxWidget"}],
    BasePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ab5e7MakaJBfKFOU8+hhhkm", "BasePanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../framework/NoxView"), i = e("../../../framework/NoxViewMgr"), o = e("../../../noxcc"),
            r = e("../../const/ZOrder"), _ = e("../../../framework/NoxTipWidget"), s = e("../../../noxEvent"),
            c = e("../common/BlurredLayer"), l = e("../../const/SceneId"), d = e("../../scene/BaseSceneImpl");

        function p(e, t) {
            e.opacity = t ? 255 : 0
        }

        function u(e) {
            return 0 != e.opacity
        }

        var g = function (e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n._isForce = !1, n._hideBg = !1, n._ignoreBlur = !1, n._isNeedTransparent = !1, n._panelName = "", n
            }

            return __extends(t, e), t.hideTopMost = function () {
                _.NoxTipWidget.hideCurrentTipWidget()
            }, t.prototype.onInitWidget = function () {
                e.prototype.onInitWidget.call(this);
                var t = this.getRootNode().parent;
                t.addComponent(cc.Button), t.on("click", this.onOutsideClick, this)
            }, t.prototype.onReleaseWidget = function () {
                var t = this.getRootNode().parent;
                t.removeComponent(cc.Button), t.off("click", this.onOutsideClick, this), e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this), this._blurListener = c.BlurredLayer.director_after_blur.addListener(this, this.afterBlur), this._ignoreBlur || this.updateBg()
            }, t.prototype.onExit = function () {
                this._blurListener.remove(), this._blurListener = null, this._ignoreBlur || this.updateBg(), e.prototype.onExit.call(this)
            }, t.prototype.onOutsideClick = function () {
                this._isForce || this.hide()
            }, t.prototype.getRunningPanels = function () {
                for (var e = i.NoxViewMgr.getRunningScene().getAllViews(), n = [], a = 0; a < e.length; ++a) {
                    var o = e[a];
                    o.isRunning() && o instanceof t && n.push(o)
                }
                return n
            }, t.prototype.updateBg = function () {
                t.Panels = this.getRunningPanels();
                for (var e = i.NoxViewMgr.getRunningScene().getSceneNode().children, n = 1; n < e.length; ++n) {
                    var a = e[n];
                    a.zIndex != r.ZOrder.ui && a.zIndex != r.ZOrder.toast && p(a, a.zIndex != r.ZOrder.guide)
                }
                var _ = null;
                for (n = t.Panels.length - 1; n >= 0; --n) {
                    var s = t.Panels[n];
                    p(s.getRootNode().parent, !1), s._ignoreBlur || null != _ || (_ = s)
                }
                if (o.noxcc.isValid(t._blurredBg) || (t._blurredBg = null), null != _) {
                    if (!t._blurredBg) {
                        var l = c.BlurredLayer.create(t.DEFAULT_MASK_OPACITY);
                        l.getComponent(cc.RenderComponent).srcBlendFactor = cc.macro.BlendFactor.ONE, l.getComponent(cc.RenderComponent).dstBlendFactor = cc.macro.ONE_MINUS_SRC_ALPHA, t._blurredBg = l, t._isBlurring = !0
                    }
                    t._blurredBg.node.parent = null, _.getRootNode().parent.insertChild(t._blurredBg.node, 0)
                } else t._blurredBg && (t._blurredBg.node.parent = null, t._blurredBg.node.destroy(), t._blurredBg = null);
                t._isBlurring || this.updatePanels()
            }, t.prototype.updatePanels = function () {
                t.Panels = this.getRunningPanels();
                var e = t.Panels.length, n = d.BaseSceneImpl.getRunningSceneId(), a = [];
                if (e > 0) {
                    for (var _ = t.Panels[e - 1], s = !0, c = 0, g = e - 1; g >= 0; --g) {
                        var h = t.Panels[g];
                        if (p(h.getRootNode().parent, s), !h._hideBg && s && (s = !1), u(h.getRootNode().parent)) {
                            h._hideBg || a.push(h);
                            var f = o.noxcc.find("_back_", this.getRootNode().parent);
                            f && (h._isNeedTransparent ? f.opacity = 0 : 0 == c ? (c = t.DEFAULT_MASK_OPACITY, f.opacity = c) : f.opacity = 0)
                        }
                    }
                    n != l.SceneId.loading && n != l.SceneId.region && _.getZOrder() != r.ZOrder.indicator && _.getZOrder() != r.ZOrder.dialog && t.Event.TopPanelDirty.dispatchEvent(_)
                } else n != l.SceneId.loading && n != l.SceneId.region && t.Event.TopPanelDirty.dispatchEvent(null);
                var m = i.NoxViewMgr.getRunningScene().getSceneNode().children,
                    y = a.length > 0 ? a[0].getZOrder() : -1, T = a.length > 0 ? a[a.length - 1].getZOrder() : -1;
                for (g = 1; g < m.length; ++g) {
                    var S = m[g];
                    S.zIndex != r.ZOrder.ui && S.zIndex != r.ZOrder.toast && (S.zIndex < T ? p(m[g], !1) : S.zIndex > y && p(m[g], !0))
                }
            }, t.prototype.afterBlur = function () {
                this == t.Panels[t.Panels.length - 1] && (t._isBlurring = !1, this.updatePanels())
            }, t.prototype.setForce = function (e) {
                this._isForce = e
            }, t.prototype.show = function () {
                this.showView()
            }, t.prototype.hide = function () {
                this.hideView()
            }, t.Event = {TopPanelDirty: new s.noxEvent1}, t.DEFAULT_MASK_OPACITY = 192, t.Panels = [], t._isBlurring = !1, t._blurredBg = null, t
        }(a.NoxView);
        n.BasePanel = g, cc._RF.pop()
    }, {
        "../../../framework/NoxTipWidget": "NoxTipWidget",
        "../../../framework/NoxView": "NoxView",
        "../../../framework/NoxViewMgr": "NoxViewMgr",
        "../../../noxEvent": "noxEvent",
        "../../../noxcc": "noxcc",
        "../../const/SceneId": "SceneId",
        "../../const/ZOrder": "ZOrder",
        "../../scene/BaseSceneImpl": "BaseSceneImpl",
        "../common/BlurredLayer": "BlurredLayer"
    }],
    BaseSceneImpl: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ed301ssCxhPVLklOpblbAbd", "BaseSceneImpl"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../framework/NoxScene"), i = e("../const/SceneId"), o = e("../../framework/NoxViewMgr"),
            r = e("../ui/common/ActiveIndicator"), _ = function (e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return n._layer = t, t._scene = n, n
                }

                return __extends(t, e), t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), r.ActiveIndicator.attach(this), this._layer.showView(!0)
                }, t.prototype.onExit = function () {
                    r.ActiveIndicator.detach(), e.prototype.onExit.call(this)
                }, t.isInBattleScene = function () {
                    for (var e = o.NoxViewMgr.getSceneStack(), n = 0; n < e.length; ++n) {
                        var a = e[n];
                        if (a instanceof t && a._layer._sceneId == i.SceneId.battle) return !0
                    }
                    return !1
                }, t.getRunningScene = function () {
                    var e = o.NoxViewMgr.getRunningScene();
                    return e instanceof t ? e._layer : (cc.assert(!1, "need BaseSceneImpl"), null)
                }, t.getRunningSceneId = function () {
                    var e = o.NoxViewMgr.getRunningScene();
                    return e instanceof t ? e._layer._sceneId : (cc.assert(!1, "need BaseSceneImpl"), null)
                }, t.getSceneList = function () {
                    for (var e = [], n = o.NoxViewMgr.getSceneStack(), a = 0; a < n.length; ++a) {
                        var i = n[a];
                        i instanceof t && e.push(i._layer)
                    }
                    return e
                }, t
            }(a.NoxScene);
        n.BaseSceneImpl = _, cc._RF.pop()
    }, {
        "../../framework/NoxScene": "NoxScene",
        "../../framework/NoxViewMgr": "NoxViewMgr",
        "../const/SceneId": "SceneId",
        "../ui/common/ActiveIndicator": "ActiveIndicator"
    }],
    BaseScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "807664ZzexIYpZBpN8wLBoE", "BaseScene"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../framework/NoxView"), i = e("../const/SceneId"), o = e("./BaseSceneImpl"),
            r = e("../ui/panel/BasePanel"), _ = e("../MarqueeManager"), s = e("../NoticeManager"),
            c = e("../part/UserPart"), l = e("../GuideManager"), d = function (e) {
                function t(t, n) {
                    var a = e.call(this, n) || this;
                    return a.onOpponentNotFound = null, a._isGuideOnEnter = !0, a._sceneId = t, a._needSyncData = !1, a._scene = new o.BaseSceneImpl(a), a
                }

                return __extends(t, e), t.prototype.getSceneNode = function () {
                    return this._scene.getSceneNode()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = {sceneId: this._sceneId, sync: this._needSyncData};
                    this._isGuideOnEnter && l.GuideManager.isGuideEnabled() && (l.GuideManager.showOperateLayer(!1), t.guideId = P._guideID), c.UserPart.sendUserEvent(t), this._sceneId == i.SceneId.city ? _.MarqueeManager.attach(this) : _.MarqueeManager.stop(), s.NoticeManager.bindToRunningScene(), this._needSyncData && (this._needSyncData = !1, this.syncData()), this._isGuideOnEnter && l.GuideManager.isGuideEnabled() && (this._needGuideStartStep ? (l.GuideManager.startStepLater(), this._needGuideStartStep = !1) : l.GuideManager.finishStepLater()), this.checkUnlockModule()
                }, t.prototype.onExit = function () {
                    _.MarqueeManager.unattach(), s.NoticeManager.unbindFromRunningScene(), e.prototype.onExit.call(this)
                }, t.prototype.clearPanels = function () {
                    for (var e = this._scene.getAllViews(), t = e.length - 1; t >= 1; --t) {
                        var n = e[t];
                        n instanceof r.BasePanel && n.hide()
                    }
                }, t.prototype.syncData = function (e) {
                }, t.prototype.checkUnlockModule = function () {
                }, t.prototype.onMsgErrorStatus = function (e, t) {
                    return !1
                }, t.prototype.onMsg = function (e) {
                    return !1
                }, t.prototype.onError = function (e) {
                    return !1
                }, t.prototype.onGuide = function () {
                }, t.prototype.onFriend = function () {
                }, t.prototype.onMail = function () {
                }, t.prototype.onLogin = function () {
                }, t.prototype.onChallenge = function (e) {
                }, t.prototype.onExpedition = function (e) {
                }, t.prototype.onElite = function (e) {
                }, t.prototype.onRobExp = function (e) {
                }, t.prototype.onHorse = function (e) {
                }, t.prototype.onBoss = function (e) {
                }, t.prototype.onFindStart = function (e) {
                }, t.prototype.onBattleRecover = function (e) {
                }, t.prototype.onBattleEnd = function (e) {
                }, t.prototype.onBattleWait = function () {
                }, t.prototype.onGameCenterIdChanged = function () {
                }, t.prototype.nextStep = function () {
                }, t
            }(a.NoxView);
        n.BaseScene = d, cc._RF.pop()
    }, {
        "../../framework/NoxView": "NoxView",
        "../GuideManager": "GuideManager",
        "../MarqueeManager": "MarqueeManager",
        "../NoticeManager": "NoticeManager",
        "../const/SceneId": "SceneId",
        "../part/UserPart": "UserPart",
        "../ui/panel/BasePanel": "BasePanel",
        "./BaseSceneImpl": "BaseSceneImpl"
    }],
    BaseSdk: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dc0636k2QlJ7ZgtOaYs3udE", "BaseSdk"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.prototype.canLogin = function () {
                return !1
            }, e.prototype.login = function (e) {
                cc.assert(!1, "not implemented")
            }, e.prototype.canLogout = function () {
                return !1
            }, e.prototype.logout = function (e) {
                cc.assert(!1, "not implemented")
            }, e.prototype.pay = function (e, t) {
                cc.assert(!1, "not implemented")
            }, e.prototype.getRegionUrl = function () {
                return cc.assert(!1, "not implemented"), ""
            }, e.prototype.upgradeLevel = function (e) {
            }, e.prototype.createRole = function () {
            }, e.prototype.selectServer = function () {
            }, e.prototype.setRoleData = function () {
            }, e.prototype.share = function () {
            }, e.prototype.addShortcutToDesktop = function () {
            }, e
        }();
        n.BaseSdk = a, cc._RF.pop()
    }, {}],
    BaseUIScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7f756FH8bpOibHpcWtvGENz", "BaseUIScene"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseScene"), i = e("../ClientView"), o = e("../data/data"), r = e("../const/ZOrder"),
            _ = e("../../leocool/lcAudio"), s = e("../AudioEnums"), c = function (e) {
                function t(t, n) {
                    return e.call(this, t, n) || this
                }

                return __extends(t, e), t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = i.ClientView.getResourceUI();
                    t.setMode(o.Data.ResType.gold), this.getSceneNode().addChild(t.node, r.ZOrder.ui), _.lcAudio.playAudio(s.AUDIO.M_CITY)
                }, t.prototype.onExit = function () {
                    i.ClientView.removeResourceFromParent(), e.prototype.onExit.call(this)
                }, t
            }(a.BaseScene);
        n.BaseUIScene = c, cc._RF.pop()
    }, {
        "../../leocool/lcAudio": "lcAudio",
        "../AudioEnums": "AudioEnums",
        "../ClientView": "ClientView",
        "../const/ZOrder": "ZOrder",
        "../data/data": "data",
        "./BaseScene": "BaseScene"
    }],
    BattleAi: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bb8cf2VexJEZqMMSD+XaLNw", "BattleAi"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattlleCardStatus"), o = e("./BattleData"), r = function () {
            function e(e) {
                this._player = e, this._isLog = !1
            }

            return e.prototype.aiUseCard = function () {
                var e = this._player;
                if (this._player._isClient, e._isMonsterActioned) return e.isNeedDrop() ? this.aiDropCard() : {
                    _type: o.default.UseCardType.round,
                    _ids: [e._round, o.default.UseRoundCardType.auto1, o.default.UseRoundCardType.auto1, 0, 0]
                };
                var t = e.isMustUseASkill();
                if (1 == t) return {
                    _type: o.default.UseCardType.spell,
                    _ids: [e._mustUseChooseSkillSkill._cid, e._mustUseChooseSkillSkill._sid, 0]
                };
                if (2 == t) return {_type: o.default.UseCardType.spell, _ids: e._mustUseChooseCardSkill._aiIds};
                if (e.isNeedMainWhenRoundBegin()) return this.aiChooseMainWhenRoundBegin();
                if (e.isNeedMainWhenRoundEnd()) return this.aiChooseMainWhenRoundEnd();
                for (var n = 1; n <= e._handCards.length; n++) {
                    if ((d = e._handCards[n - 1]).isMonster() && d._info._level > 0) {
                        var i = e.canUseMonster(d, !0), r = i._canUse, _ = i._result;
                        if (r) return {_type: o.default.UseCardType.h2b, _ids: _}
                    }
                }
                for (n = 1; n <= e._handCards.length; n++) {
                    if ((d = e._handCards[n - 1]).isMonster() && 0 == d._info._level) {
                        var s = e.canUseMonster(d, !0);
                        r = s._canUse, _ = s._result;
                        if (r) return {_type: o.default.UseCardType.h2b, _ids: _}
                    }
                }
                var c = a.Data.MagicTrapType.power;
                for (n = 1; n <= e._handCards.length; n++) {
                    if ((d = e._handCards[n - 1])._type == a.Data.CardType.magic && d._info._type == c) {
                        var l = e.canUseMagic(d, !0);
                        r = l._canUse, _ = l._result;
                        if (r) return {_type: o.default.UseCardType.spell, _ids: _}
                    }
                }
                if (e._isClient && e._battleType == a.Data.BattleType.teach && !e._isMonsterActioned && !P.isNoviceTeachPassed(1) && e._boardCards[1] && e._boardCards[2] && e._boardCards[1]._hp < e._boardCards[2]._hp) return {
                    _type: o.default.UseCardType.swap,
                    _ids: [e._boardCards[1]._id, e._boardCards[2]._id]
                };
                for (n = 1; n <= e._handCards.length; n++) {
                    var d;
                    if ((d = e._handCards[n - 1])._type == a.Data.CardType.magic && d._info._type != c) {
                        var p = e.canUseMagic(d, !0);
                        r = p._canUse, _ = p._result;
                        if (r) return {_type: o.default.UseCardType.spell, _ids: _}
                    }
                }
                var u = e.getBattleCards("B");
                for (n = 0; n < u.length; n++) for (var g = 0; g < u[n]._skills.length; g++) if (a.Data.getSkillType(u[n]._skills[g]._id) != a.Data.SkillType.monster_attack) {
                    var h = e.canUseMonsterSpell(u[n], u[n]._skills[g]);
                    r = h._canUse, _ = h._result;
                    if (r) return {_type: o.default.UseCardType.spell, _ids: _}
                }
                var f = e._boardCards[1];
                if (null != f) for (g = f._skills.length - 1; g > -1; g--) if (a.Data.getSkillType(f._skills[g]._id) == a.Data.SkillType.monster_attack) {
                    var m = e.canUseMonsterSpell(f, f._skills[g]);
                    r = m._canUse, _ = m._result;
                    if (r) return {_type: o.default.UseCardType.spell, _ids: _}
                }
                return e.isNeedDrop() ? this.aiUseCard() : {
                    _type: o.default.UseCardType.round,
                    _ids: [e._round, o.default.UseRoundCardType.auto2, o.default.UseRoundCardType.auto2, 0, 0]
                }
            }, e.prototype.aiChooseMainWhenInitialDeal = function () {
                return {
                    _type: o.default.UseCardType.h2b,
                    _ids: [i.B.getMaxHpCard(this._player.getBattleCardsByLevel("H", 0))._id]
                }
            }, e.prototype.aiChooseBackupWhenInitialDeal = function () {
                for (var e = [], t = this._player.getBattleCardsByLevel("H", 0, a.Data.CARD_MAX_LEVEL, this._player._boardCards[1]), n = 1; n <= t.length; n++) {
                    var i = t[n - 1]._id;
                    e.push(i)
                }
                return {_type: o.default.UseCardType.init_bx, _ids: e}
            }, e.prototype.aiChooseMainWhenRoundBegin = function () {
                return {
                    _type: o.default.UseCardType.swap,
                    _ids: [i.B.getMaxAtkCard(this._player.getBattleCards("B"))._id]
                }
            }, e.prototype.aiChooseMainWhenRoundEnd = function () {
                return {
                    _type: o.default.UseCardType.swap,
                    _ids: [i.B.getMaxHpCard(this._player.getBattleCards("B"))._id]
                }
            }, e.prototype.getNeedDropHandCardNum = function () {
                if (this._player._handCards.length <= a.Data.MAX_CARD_COUNT_IN_HAND_AFTER_DROP) return 0;
                for (var e = 0, t = 1; t <= this._player._handCards.length; t++) 39999 != this._player._handCards[t - 1]._infoId && e++;
                return e
            }, e.prototype.aiDropCard = function (e) {
                if (void 0 === e && (e = !1), e) {
                    for (var t = [], n = this.getNeedDropHandCardNum(), a = this._player._handCards.length; n > t.length;) 39999 != this._player._handCards[a - 1]._infoId && t.push(this._player._handCards[a - 1]._id), a--;
                    return {_type: o.default.UseCardType.drop, _ids: t}
                }
                for (a = this._player._handCards.length; ;) {
                    if (39999 != this._player._handCards[a - 1]._infoId) return {
                        _type: o.default.UseCardType.drop,
                        _ids: [this._player._handCards[a - 1]._id]
                    };
                    a--
                }
                return {_type: o.default.UseCardType.drop, _ids: []}
            }, e.ResultType = {
                win_battle: 1,
                sacrifice_success: 11,
                magic_trap_effect: 21,
                hit_fortress: 31,
                destroy_card: 41,
                monster_effect: 51,
                be_destroyed: 61,
                not_effect: 71,
                not_viable: 81
            }, e
        }();
        n.default = r, cc._RF.pop()
    }, {"../../data/data": "data", "./BattleData": "BattleData", "./BattlleCardStatus": "BattlleCardStatus"}],
    BattleAtkDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6d5e1KcxoVEwr9qcvfTg2h2", "BattleAtkDialog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("../../const/ViewConst"), o = e("../../../leocool/lc"),
            r = e("../../utils/SpriteUtil"), _ = e("../../utils/CardUtil"), s = e("../data/BattleData"),
            c = e("../../utils/RichTextUtil"), l = e("../../../leocool/lcStr"), d = e("../../StringEnums"),
            p = e("../../../nox"), u = e("../../config/UICfg"), g = e("../../ui/node/NodeWithShaderButton"),
            h = e("../../../leocool/lcAppCfg"), f = function () {
                function e() {
                    this._battleUi = null, this._playerUi = null, this._node = null, this._drawBackNode = null, this._skillBtns = [], this._cardSprite = null, this._isCanActionSpecail = !1, this._node = new cc.Node, this._node.setContentSize(new cc.Size(i.ViewConst.SCR_W, i.ViewConst.SCR_H)), this._node.setAnchorPoint(new cc.Vec2(0, 0));
                    var e = this._node.addComponent(cc.Widget);
                    e.isAlignLeft = !0, e.isAlignRight = !0, e.isAlignTop = !0, e.isAlignBottom = !0, e.left = 0, e.right = 0, e.top = 0, e.bottom = 0;
                    var t = o.lc.createNode();
                    r.SpriteUtil.addSprite(t, "icon_mask");
                    var n = r.SpriteUtil.frameFullSize("icon_mask");
                    t.setScale(i.ViewConst.SCR_W / n.width, i.ViewConst.SCR_H / n.height), this._node.addChild(t, -1), t.setPosition(new cc.Vec2(i.ViewConst.SCR_CW, i.ViewConst.SCR_CH))
                }

                return e.create = function (t, n) {
                    var a = new e;
                    return a.init(t, n), a
                }, e.prototype.removeFromParent = function () {
                    this._battleUi._battleAtkDialog = null, this._node.removeFromParent()
                }, e.prototype.init = function (e, t) {
                    var n = this;
                    this._battleUi = e;
                    var l = e._playerUi, d = t._card;
                    if (this._cardSprite = t, this._playerUi = l, this._isCanActionSpecail = !0, 1 == t._card._pos && d._owner._isAttacker && 1 == d._owner._round && d._owner._battleType != a.Data.BattleType.unittest && d._owner._battleType != a.Data.BattleType.teach) {
                        var p = o.lc.createNode();
                        r.SpriteUtil.addSprite(p, "bat_atk_round1_tip"), this._node.addChild(p), p.setPosition(new cc.Vec2(o.lc.cw(this._node), o.lc.h(this._node) - 70)), this._isCanActionSpecail = !1
                    }
                    var h = d.getBuffValue(!0, s.default.PositiveType.powerMark),
                        f = _.CardUtil.CardTransfiguration.create(d._infoId, 0, l._player._skins[d._infoId], d._hp, h || 0);
                    if (this._node.addChild(f._node), f._node.setPosition(t.getPosition()), f._node.setScale(1 == d._pos ? 1 : .8), 1 == d._pos && l._opponentUi._pBoardCards[1]) {
                        var m = l._opponentUi._pBoardCards[1], y = l._opponentUi._pBoardCards[1]._card,
                            T = y.getBuffValue(!0, s.default.PositiveType.powerMark),
                            S = _.CardUtil.CardTransfiguration.create(y._infoId, 0, l._player._skins[y._infoId], y._hp, T || 0);
                        this._node.addChild(S._node), S._node.setPosition(l._opponentUi._pBoardCards[1].getPosition());
                        var C = this.createMainCardInfoPanel(y);
                        null != C && (this._node.addChild(C), C.setPosition(new cc.Vec2(m.getPosition().x + 220, m.getPosition().y - 10)))
                    }
                    if (1 == d._pos) {
                        var v = this.createMainCardInfoPanel(d);
                        null != v && (this._node.addChild(v), v.setPosition(new cc.Vec2(t.getPosition().x - 220, t.getPosition().y - 10)));
                        var b = (M = d._owner.canDrawbackCard(d))[0],
                            E = (M[1], g.NodeWithShaderButton.createShaderButton(b ? "bat_drawback_btn" : "bat_drawback_btn2", function () {
                                n.hide(), e.canOperateCard(t) && l.showChoiceSwapMonsters(d._owner.getBattleCards("B", a.Data.CARD_MAX_LEVEL, t._card), !1)
                            }));
                        this._node.addChild(E), E.setPosition(new cc.Vec2(t.getPosition().x + 220, t.getPosition().y - 60)), E.setEnabled(b), this._drawBackNode = E, t._drawBackNode = E;
                        var I = c.RichTextUtil.createLabel("x" + d._owner.getDrawbackCost(d), u.UICfg.TTF_FONT, u.UICfg.FontSize.S2);
                        this._node.addChild(I.node), I.node.setPosition(new cc.Vec2(t.getPosition().x + 250, t.getPosition().y - 75))
                    }
                    var P = t.getPosition(), A = [];
                    1 != d._pos ? (P.x > .6 * i.ViewConst.SCR_W ? A.push(new cc.Vec2(P.x - 350, P.y)) : A.push(new cc.Vec2(P.x + 350, P.y)), A.push(new cc.Vec2(P.x, P.y))) : 1 == d._skills.length ? A.push(new cc.Vec2(P.x, P.y - 200)) : (A.push(new cc.Vec2(P.x - 200, P.y - 200)), A.push(new cc.Vec2(P.x + 200, P.y - 200)));
                    for (var R = [], B = 0; B < d._skills.length; B++) R.push(d._skills[B]);
                    R.sort(function (e, t) {
                        return a.Data._skillInfo[e._id]._power < a.Data._skillInfo[t._id]._power ? 1 : a.Data._skillInfo[e._id]._power >= a.Data._skillInfo[t._id]._power ? -1 : e._id < t._id ? 1 : -1
                    });
                    for (var N = new cc.Size(360, 150), D = 0; D < d._skills.length; D++) {
                        var U = d._skills[D], M = d._owner.canUseMonsterSpell(d, U);
                        if (1 == d._pos) {
                            var k = _.CardUtil.SkillAtkItem.create(U, N, u.UICfg.FontSize.S3, u.UICfg.COLOR_TEXT_DARK);
                            this._node.addChild(k.node), k._dialog = this, null == A[D] && cc.assert(!1, "can't has three skills or more"), k.setPosition(A[D]), k.setCurPower(h, M._canUse), this._skillBtns.push(k)
                        }
                    }
                    t._skillBtns = this._skillBtns
                }, e.prototype.onTouchBegan = function (e) {
                    return this.hide(), !0
                }, e.prototype.onButtonEvent = function (e) {
                    for (var t = 0; t < this._skillBtns.length; t++) {
                        var n = this._skillBtns[t];
                        if (n == e) return this.onSkillBtn(n._skill), !0
                    }
                    return !1
                }, e.prototype.onSkillBtn = function (e) {
                    var t = this._playerUi, n = this._cardSprite._card;
                    if (this._battleUi.hideCardAttack(), this._battleUi.canOperateCard(this._cardSprite)) {
                        var a = n._owner.isChooseCardsSkill(e);
                        a._is ? t.showChoiceCards(this._cardSprite, a._cards, a._choice, [n._id, e._id]) : t.showChoiceSkill(this._cardSprite, [n._id, e._id])
                    }
                }, e.prototype.createMainCardInfoPanel = function (e) {
                    var t = null, n = a.Data.getInfo(e._infoId), i = n._weakness, _ = n._weakness > 0 ? 1 : 0;
                    if (_ + (n._resist > 0 ? 1 : 0) > 0) {
                        var s = o.lc.createNode();
                        r.SpriteUtil.addSprite(s, "bat_weakness_panel" + _);
                        var g = r.SpriteUtil.frameFullSize("bat_weakness_panel" + _);
                        if ((t = o.lc.createNode(g)).addChild(s), i > 0) {
                            var f = c.RichTextUtil.createTTF(l.lcStr(d.STR.BATTLE_ATK_UI_WEAKNESS), u.UICfg.FontSize.S2, p.nox.c4b(240, 240, 255, 255));
                            t.addChild(f.node), f.node.setPosition(new cc.Vec2(-g.width / 2 + 40, 0));
                            var m = o.lc.createNode();
                            r.SpriteUtil.addSprite(m, string.format("card_nature_%02d_m", n._weakness)), t.addChild(m), m.setPosition(new cc.Vec2(g.width / 2 - 80, 0));
                            var y = c.RichTextUtil.createTTF(n._weaknessFactor < 10 ? "x" + n._weaknessFactor : "+" + n._weaknessFactor, u.UICfg.FontSize.S2, p.nox.c4b(240, 240, 255, 255));
                            t.addChild(y.node), y.node.setPosition(new cc.Vec2(g.width / 2 - 40, 0));
                            h.lcAppCfg.languageVersion()
                        }
                    }
                    return t
                }, e.prototype.hide = function () {
                    this._battleUi.hideCardAttack(), this._cardSprite._drawBackNode = null, this._cardSprite._skillBtns = []
                }, e.prototype.createGuideLayer = function () {
                }, e.prototype.createSoftGuideLayer = function () {
                }, e
            }();
        n.BattleAtkDialog = f, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../data/BattleData": "BattleData"
    }],
    BattleCard: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cdb2bymmEFDy6Teduyq435A", "BattleCard"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BattlleCardStatus"), i = e("../../data/data"), o = e("./BattleData"),
            r = e("../../data/CardHelper"), _ = function () {
                function e(e, t, n) {
                    switch (void 0 === n && (n = null), this._skill6040RoundCount = null, this._extraDrawbackCost = null, this._dieInRoundEnd = !1, this._damageWithWeakness = null, this._damageWithResist = null, this._hpInc = 0, this._markTemp = null, this._positiveStatus = {}, this._positiveValues = {}, this._negativeStatus = {}, this._negativeValues = {}, this._posiBuffIconValue = null, this._negaBuffIconValue = null, this._infoId = e, this._type = i.Data.getType(e), this._owner = n, this._underSkills = [], this._type) {
                        case i.Data.CardType.monster:
                            this.initMonster();
                            break;
                        case i.Data.CardType.magic:
                            this.initMagic();
                            break;
                        case i.Data.CardType.trap:
                            this.initTrap()
                    }
                }

                return e.prototype.isMonster = function () {
                    return this._type == i.Data.CardType.monster
                }, e.prototype.initMonster = function () {
                    this._info = i.Data._monsterInfo[this._infoId], this._level = this._info._level
                }, e.prototype.initMagic = function () {
                    this._info = i.Data._magicInfo[this._infoId], this._level = this._info._level
                }, e.prototype.initTrap = function () {
                    this._info = i.Data._trapInfo[this._infoId], this._level = this._info._level
                }, e.prototype.resetOnce = function () {
                    this._skillMaxLevelInc = {}, this._dieCount = 0, this._lastAttackedInfo = null, this.reset()
                }, e.prototype.baseReset = function (e) {
                    switch (void 0 === e && (e = 0), this._skills = [], this._type) {
                        case i.Data.CardType.monster:
                            this.baseResetMonster(e);
                            break;
                        case i.Data.CardType.magic:
                            this.baseResetMagic();
                            break;
                        case i.Data.CardType.trap:
                            this.baseResetTrap();
                            break;
                        case i.Data.CardType.fortress:
                            this.baseResetFortress()
                    }
                    this.testSkills()
                }, e.prototype.baseResetMonster = function (e) {
                    void 0 === e && (e = 0), this._maxAtk = this._info._atk, this._maxHp = this._info._hp, this.baseResetSkills()
                }, e.prototype.baseResetMagic = function () {
                    this.baseResetSkills()
                }, e.prototype.baseResetTrap = function () {
                    this.baseResetSkills()
                }, e.prototype.baseResetFortress = function () {
                    this._maxHp = this._updateInitHp || 99999999, this._status = o.default.CardStatus.fortress
                }, e.prototype.reset = function () {
                    switch (this.baseReset(), this._saved = {}, this._castedSkills = [], this._underSkills = [], this._changed = {}, this._binds = [], this._damageExtraAdjust = {}, this._cannotRecHp = null, this._type) {
                        case i.Data.CardType.monster:
                            this.resetMonster();
                            break;
                        case i.Data.CardType.magic:
                            this.resetMagic();
                            break;
                        case i.Data.CardType.trap:
                            this.resetTrap();
                            break;
                        case i.Data.CardType.fortress:
                            this.resetFortress()
                    }
                }, e.prototype.resetMonster = function () {
                    this.resetHp(), this.resetAtk(), this._actionCount = 1, this._actionIndex = 1, this._isBorrowed = !1, this.resetBuff(), this._monsterTarget = null, this.resetSkills(), this._skillLevelInc = 0
                }, e.prototype.resetMagic = function () {
                    this._actionCount = 1, this._actionIndex = 1, this.resetBuff(), this._magicTarget = null, this.resetSkills(), this._skillLevelInc = 0
                }, e.prototype.resetTrap = function () {
                    this._actionCount = 1, this._actionIndex = 1, this.resetBuff(), this._trapTarget = null, this.resetSkills(), this._skillLevelInc = 0
                }, e.prototype.resetFortress = function () {
                    this.resetHp(), this._lastHasUnderSkill = !1, this.resetBuff()
                }, e.prototype.saveAndReset = function () {
                    var e = this._saved;
                    this.reset(), this._saved = e || {};
                    var t = this.saveSkillCastTimes();
                    this.loadSkillCastTimes(t);
                    var n = this.saveExtraSkills();
                    this.loadExtraSkills(n)
                }, e.prototype.resetCardWhenRoundBegin = function () {
                    this._isEvolved = null, this._chaosBeforeSkill = null
                }, e.prototype.resetCardWhenOppoRoundBegin = function () {
                    this._isEvolved = null
                }, e.prototype.resetHp = function () {
                    this._hp = this._maxHp, this._maxHpInc = 0, this._hpInc = 0, this._updateInitHp && (this._hp = Math.min(this._hp, this._updateInitHp), this._hpInc = this._hp - this._maxHp, this._hpInc > 0 && (this._maxHpInc = this._hpInc)), null != this._updateHp && (this._hp = Math.min(this._hp, this._updateHp), this._hpInc = this._hp - this._maxHp, this._hpInc > 0 && (this._maxHpInc = this._hpInc), this._updateHp = null), this._haloedMaxHpInc = this._maxHpInc
                }, e.prototype.resetAtk = function () {
                    this._atk = this._maxAtk, this._maxAtkInc = 0, this._atkInc = 0, null != this._updateInitAtk && (this._atk = Math.min(this._updateInitAtk, this._atk), this._atkInc = this._atk - this._maxAtk, this._atkInc > 0 && (this._maxAtkInc = this._atkInc)), null != this._updateAtk && (this._atk = Math.min(this._updateAtk, this._atk), this._atkInc = this._atk - this._maxAtk, this._atkInc > 0 && (this._maxAtkInc = this._atkInc), this._updateAtk = null), this._haloedMaxAtkInc = this._maxAtkInc
                }, e.prototype.resetBuff = function (e) {
                    if (void 0 === e && (e = !1), null == e) this._positiveStatus = {}, this._positiveValues = {}, this._negativeStatus = {}, this._negativeValues = {}, this.resetBuff(!0), this.resetBuff(!1); else for (var t = e ? o.default.PositiveType.count : o.default.NegativeType.count, n = 0; n < t; ++n) this.resetBuffByType(e, n + 1)
                }, e.prototype.resetBuffByType = function (e, t) {
                    var n = e ? this._positiveStatus : this._negativeStatus,
                        a = e ? this._positiveValues : this._negativeValues;
                    n[t] = !1, a[t] = 0;
                    for (var i = 1; ;) {
                        var o = this._underSkills[i - 1];
                        if (null == o) break;
                        e && o._positiveType == t || !e && o._negativeType == t ? this._underSkills.splice(i - 1, 1) : i += 1
                    }
                }, e.prototype.accountBuffValue = function (e, t) {
                    e ? this._positiveStatus : this._negativeStatus;
                    for (var n = e ? this._positiveValues : this._negativeValues, a = 0, r = null, _ = 1; _ <= this._underSkills.length; ++_) {
                        var s = this._underSkills[_ - 1];
                        if (!s._disabled && (e && s._positiveType == t || !e && s._negativeType == t)) if (null == r && (a = (r = s._aggregateType) == i.Data.AggregateType.table ? [] : 0), r == i.Data.AggregateType.sum) a += s._value; else if (r == i.Data.AggregateType.max) a = Math.max(a, s._value); else if (r == i.Data.AggregateType.min) a = Math.min(a, s._value); else if (r == i.Data.AggregateType.table) {
                            for (var c = !1, l = 1; l <= a.length; ++l) if (a[l - 1] == s._negativeValues) {
                                c = !0;
                                break
                            }
                            c || a.push(s._value)
                        }
                    }
                    e && t == o.default.PositiveType.powerMark && (a = Math.min(i.Data.POWER_MAX_NUM, a)), n[t] = a
                }, e.prototype.getBuffValue = function (e, t) {
                    var n = e ? this._positiveValues : this._negativeValues;
                    return n[t] instanceof Array ? 0 : n && n[t] || 0
                }, e.prototype.getBuffValueArrary = function (e, t) {
                    var n = e ? this._positiveValues : this._negativeValues;
                    return n[t] instanceof Array && n[t] || []
                }, e.prototype.getBuffValues = function (e, t) {
                    var n = e ? this._positiveValues : this._negativeValues;
                    return n ? n[t] : 0
                }, e.prototype.modifyBuffValue = function (e, t, n) {
                    for (var a = 1; a <= this._underSkills.length; ++a) {
                        var i = this._underSkills[a - 1];
                        (e && i._positiveType == t || !e && i._negativeType == t) && (i._value = n)
                    }
                    this.accountBuffValue(e, t)
                }, e.prototype.hasBuff = function (e, t) {
                    void 0 === t && (t = null);
                    var n = e ? this._positiveStatus : this._negativeStatus;
                    if (null == n) return !1;
                    for (var a = e ? o.default.PositiveType.count : o.default.NegativeType.count, i = 1; i <= a; ++i) if ((null == t || t == i) && 1 == n[i]) return !0;
                    return !1
                }, e.prototype.hasBuffGroup = function (e, t) {
                    void 0 === t && (t = null);
                    var n = e ? this._positiveStatus : this._negativeStatus;
                    if (null == n) return !1;
                    for (var a = e ? o.default.PositiveType.count : o.default.NegativeType.count, i = 1; i <= a; i++) for (var r = 1; r <= t.length; r++) if (i == t[r - 1] && 1 == n[i]) return !0;
                    return !1
                }, e.prototype.decBuffValue = function (e, t) {
                    if (this.hasBuff(e, t)) {
                        var n = this.getBuffValue(e, t);
                        n <= 1 ? e ? this._owner.decPositiveStatus(this, t, !1, this._id, 0, i.Data.SkillMode.once) : this._owner.decNegativeStatus(this, t, !1, this._id, 0, i.Data.SkillMode.once) : this.modifyBuffValue(e, t, n - 1)
                    }
                }, e.prototype.resetBuffAfterRemove = function (e, t) {
                    for (var n = 1, a = !0; ;) {
                        var o = this._underSkills[n - 1];
                        if (null == o) break;
                        if (e && o._positiveType == t || !e && o._negativeType == t) {
                            a = !1;
                            break
                        }
                        n++
                    }
                    a ? e ? this._owner.decPositiveStatus(this, t, !1, this._id, 0, i.Data.SkillMode.once) : this._owner.decNegativeStatus(this, t, !1, this._id, 0, i.Data.SkillMode.once) : this.accountBuffValue(e, t)
                }, e.prototype.getCommonBuffCount = function () {
                    for (var e = 1, t = 1; t <= o.default.NEGATIVE_COMMON.length; t++) {
                        var n = o.default.NEGATIVE_COMMON[t - 1];
                        this.hasBuff(!1, n) && e++
                    }
                    return e
                }, e.prototype.getExtraBaseDamageInRound = function (e) {
                    for (var t = o.default.PositiveType.extraBaseDamageInRound, n = this.getBuffValueArrary(!0, t), a = 1; a <= n.length; a++) {
                        var i = n[a - 1] / 65536, r = n[a - 1] % 65536;
                        if (Math.floor(i) == e) return r
                    }
                    return 0
                }, e.prototype.getExtraDamageInRound = function (e) {
                    for (var t = o.default.PositiveType.extraDamageInRound, n = this.getBuffValueArrary(!0, t), a = 1; a <= n.length; a++) {
                        var i = n[a - 1] / 65536, r = n[a - 1] % 65536;
                        if (Math.floor(i) == e) return r
                    }
                    return 0
                }, e.prototype.getExtraFaceCountInRound = function (e) {
                    for (var t = o.default.PositiveType.extraFaceCountInRound, n = this.getBuffValueArrary(!0, t), a = 1; a <= n.length; a++) {
                        var i = n[a - 1] / 65536, r = n[a - 1] % 65536;
                        if (Math.floor(i) == e) return r
                    }
                    return 0
                }, e.prototype.getBuffIsSkillEnhanced = function (e, t) {
                    for (var n = o.default.PositiveType.skillEnhanced, a = this.getBuffValueArrary(!0, n), i = 1; i <= a.length; i++) {
                        var r = a[i - 1] / 196608, _ = a[i - 1] % 196608;
                        if (Math.floor(r) == e && _ == t) return !0
                    }
                    return !1
                }, e.prototype.getDecDamageInRound = function (e) {
                    for (var t = o.default.NegativeType.decDamage, n = this.getBuffValueArrary(!0, t), a = 1; a <= n.length; a++) {
                        var i = n[a - 1] / 65536, r = n[a - 1] % 65536;
                        if (Math.floor(i) == e) return r
                    }
                    return 0
                }, e.prototype.getShieldValue = function (e) {
                    var t = this.getBuffValues(!0, e);
                    if ("number" == typeof t) return {_maxValue: 0, _onlyOneRound: !1};
                    for (var n = 0, a = !0, i = 1; i <= t.length; ++i) n = Math.max(n, t[i - 1] % 65536), t[i - 1] < 65536 && (a = !1);
                    return {_maxValue: n, _onlyOneRound: a}
                }, e.prototype.hasShield = function () {
                    for (var e = o.default.PositiveType.shieldHaloBegin; e <= o.default.PositiveType.shieldExEnd; ++e) if (this.hasBuff(!0, e)) return !0;
                    return !1
                }, e.prototype.hasShieldInType = function (e) {
                    return this.hasBuff(!0, e) || this.hasBuff(!0, e - o.default.PositiveType.shieldBegin + o.default.PositiveType.shieldHaloBegin) || this.hasBuff(!0, e - o.default.PositiveType.shieldBegin + o.default.PositiveType.shieldExBegin)
                }, e.prototype.hasShieldExInType = function (e) {
                    return this.hasBuff(!0, e - o.default.PositiveType.shieldBegin + o.default.PositiveType.shieldHaloBegin) || this.hasBuff(!0, e - o.default.PositiveType.shieldBegin + o.default.PositiveType.shieldExBegin)
                }, e.prototype.decShieldWhenRoundBegin = function () {
                    for (var e = o.default.PositiveType.shieldBegin; e <= o.default.PositiveType.shieldExEnd; ++e) if (this.hasBuff(!0, e)) {
                        for (var t = !1, n = 1; ;) {
                            var a = this._underSkills[n - 1];
                            if (null == a) break;
                            if (a._positiveType == e && a._value >= 65536) {
                                this._underSkills.splice(n - 1, 1), t = !0;
                                break
                            }
                            n += 1
                        }
                        t && this.resetBuffAfterRemove(!0, e)
                    }
                }, e.prototype.addMark = function (e, t, n, a, r) {
                    this.getBuffValue(!0, e);
                    e == o.default.PositiveType.powerMark && this.hasSkills([2015]) && !this.getIsLostAbility() && (t += 1);
                    for (var _ = 0; _ < t; _++) this._owner.incPositiveStatus(this, e, !1, n, a, r), this._owner.incPositiveValue(this, e, 1, i.Data.AggregateType.sum, n, a, r);
                    return t > 0
                }, e.prototype.removeMark = function (e, t, n, a) {
                    if (t <= 0) return 0;
                    if (this.getBuffValue(!0, e) <= 0) return 0;
                    for (var i = 0, o = 1; null != this._underSkills[o - 1];) {
                        if (this._underSkills[o - 1]._positiveType == e) {
                            if (this._underSkills.splice(o - 1, 1), (i += 1) == t) break;
                            o -= 1
                        }
                        o += 1
                    }
                    return i > 0 && this.accountBuffValue(!0, e), i
                }, e.prototype.removePowerMark = function (e, t, n, a) {
                    return void 0 === a && (a = null), this.removeMark(o.default.PositiveType.powerMark, e, t, n)
                }, e.prototype.removeAllPowerMark = function (e, t, n) {
                    return this.removeMark(o.default.PositiveType.powerMark, this.getBuffValue(!0, o.default.PositiveType.powerMark), e, t)
                }, e.prototype.baseResetSkills = function () {
                    for (var e = 0; e < this._info._skillId.length; ++e) {
                        var t = this._info._skillId[e];
                        if (0 == t) break;
                        var n = a.B.createSkill(t, 1, this);
                        this._skills.push(n)
                    }
                }, e.prototype.resetSkills = function () {
                    for (var e = 0; e < this._skills.length; ++e) this._skills[e]._level = this._skills[e]._maxLevel, this._skills[e]._castTimes = 0, this._skills[e]._totalCastedTimes = 0, this._skills[e]._coinFaceCount = 0
                }, e.prototype.addSkill = function (e, t, n) {
                    for (var i = 0; i < this._skills.length; ++i) {
                        var o = this._skills[i];
                        if (o._id == e) return o._maxLevel < t && (null == o._saved && (o._saved = {
                            _maxLevel: o._maxLevel,
                            _provider: o._provider
                        }), o._maxLevel = Math.min(t, r.CardHelper.getSkillMaxLevel(e)), o._provider = n, this.updateSkillLevel()), o
                    }
                    var _ = a.B.createSkill(e, t);
                    return 2001 == e && cc.log(""), _._provider = n, _._owner = this, this._skills.push(_), _
                }, e.prototype.removeSkill = function (e, t) {
                    for (var n = 1; n <= this._skills.length; ++n) {
                        var a = this._skills[n - 1];
                        if (a._id == e && a._provider == t) return void (null != a._saved ? (a._maxLevel = a._saved._maxLevel, a._provider = a._saved._provider, a._saved = null, this.updateSkillLevel()) : this._skills.splice(n - 1, 1))
                    }
                }, e.prototype.removeSkills = function (e) {
                    for (var t = {}, n = 1; ;) {
                        var a = this._skills[n - 1];
                        if (null == a) break;
                        a._provider == e ? (t[a._id] = a._totalCastedTimes, null != a._saved ? (a._maxLevel = a._saved._maxLevel, a._provider = null, a._saved = null, this.updateSkillLevel(), n += 1) : this._skills.splice(n - 1, 1)) : n += 1
                    }
                    return t
                }, e.prototype.removeSkillById = function (e) {
                    for (var t = 1; t <= this._skills.length; ++t) {
                        this._skills[t - 1]._id == e && this._skills.splice(t - 1, 1)
                    }
                }, e.prototype.getSkillById = function (e) {
                    for (var t = 1; t <= this._skills.length; ++t) {
                        var n = this._skills[t - 1];
                        if (n._id == e) return n
                    }
                    return null
                }, e.prototype.getSkillsByProvider = function (e) {
                    for (var t = [], n = 1; n <= this._skills.length; ++n) {
                        var a = this._skills[n - 1];
                        a._provider == e && t.push(a)
                    }
                    return t
                }, e.prototype.accountExtraSkill = function () {
                    var e = this.removeSkills(o.default.SkillProvider.extra),
                        t = this.getBuffValues(!0, o.default.PositiveType.extraSkill);
                    if (null != t && "number" != typeof t && t.length > 0) for (var n = 1; n <= t.length; ++n) if (void 0 != t[n - 1]) {
                        var a = t[n] % 65536, i = Math.floor(t[n - 1] / 65536),
                            r = this.addSkill(a, i, o.default.SkillProvider.extra);
                        null != e[a] && (r._totalCastedTimes = e[a])
                    }
                }, e.prototype.updateSkillLevel = function () {
                    for (var e = this._skillLevelInc, t = 1; t <= this._underSkills.length; ++t) {
                        var n = this._underSkills[t - 1];
                        1 != n._disabled && null != n._skillLevelInc && (e += n._skillLevelInc)
                    }
                    for (t = 1; t <= this._skills.length; ++t) {
                        var a = this._skills[t - 1];
                        a._level = Math.min(a._maxLevel + e, r.CardHelper.getSkillMaxLevel(a._id))
                    }
                }, e.prototype.getIsSpellHaloSkill = function (e, t) {
                    var n = i.Data._skillInfo[e]._refId;
                    return 2005 == n || 2016 == n || 2018 == n || 2019 == n || 2020 == n || 2021 == n || 2025 == n ? a.B.isSkillAddEnergy(t) : 2009 != e && 2011 != e && 2012 != e && 2013 != e && 2014 != e && 2022 != e && 2040 != e && 2041 != e && 2045 != e && 6066 != e || i.Data.getSkillType(t) == i.Data.SkillType.monster_attack
                }, e.prototype.getIsLostAbility = function () {
                    return null != this._binds[0] && this._binds[0].hasSkills([6036]) || this.hasBuff(!1, o.default.NegativeType.lostAbility)
                }, e.prototype.getIsIgnoreNegative = function () {
                    return !1
                }, e.prototype.setSkillDecPowerAdjust = function (e, t) {
                    null == this._skillDecPowerAdjust && (this._skillDecPowerAdjust = null), this._skillDecPowerAdjust[e] = t
                }, e.prototype.getSkillDecPowerAdjust = function () {
                    return this._skillDecPowerAdjust && this._skillDecPowerAdjust[this._owner._round] ? this._skillDecPowerAdjust[this._owner._round] : 0
                }, e.prototype.getSkillsByMode = function (e, t) {
                    void 0 === t && (t = null);
                    var n = [];
                    if (this.isMonster()) {
                        var r = this._binds[0] || this._prevBindCard;
                        if (e == i.Data.SkillMode.initiative) {
                            i.Data.getSkillType(this._ids[1]) != i.Data.SkillType.monster_attack || 1 != this._chaosBeforeSkill && !this.hasBuff(!1, o.default.NegativeType.chaos) || null != this._owner._castedSkillCounts[this._ids[1]] || (this._chaosBeforeSkill = !0, n.push(a.B.createSkill(50005, 1, this))), null != this.getSkillById(this._ids[1]) && n.push(this.getSkillById(this._ids[1]));
                            for (var _ = a.B.mergeTable([this._owner.getHaloModeSkills(i.Data.SkillMode.magic_casted), this._owner._opponent.getHaloModeSkills(i.Data.SkillMode.magic_casted + 1)]), s = 0; s < _.length; s++) this.getIsSpellHaloSkill(_[s]._id, this._ids[1]) && n.push(_[s]);
                            return null != r && a.B.skillHasMode(r._skills[0], i.Data.SkillMode.monster_initiative) && n.push(r._skills[0]), n.sort(function (e, t) {
                                return e._priority < t._priority ? -1 : t._priority < e._priority ? 1 : e._id < t._id ? -1 : t._id < e._id ? 1 : e._owner && !t._owner ? 1 : !e._owner && t._owner ? -1 : e._owner._id < t._owner._id ? -1 : 1
                            }), n
                        }
                        for (s = 0; s < this._skills.length; s++) a.B.skillHasMode(this._skills[s], e) && n.push(this._skills[s]);
                        if (e != i.Data.SkillMode.bcs2gl && null != r && r._skills[0] && a.B.skillHasMode(r._skills[0], e) && n.push(r._skills[0]), e == i.Data.SkillMode.round_end || e == i.Data.SkillMode.oppo_round_end) this.hasBuff(!1, o.default.NegativeType.sleep) && n.push(a.B.createSkill(50001, 1, this)), this.hasBuff(!1, o.default.NegativeType.poison) && n.push(a.B.createSkill(50002, 1, this)), this.hasBuff(!1, o.default.NegativeType.burn) && n.push(a.B.createSkill(50003, 1, this)), e == i.Data.SkillMode.round_end && this.hasBuff(!1, o.default.NegativeType.numb) && n.push(a.B.createSkill(50004, 1, this)), e == i.Data.SkillMode.round_end && this._dieInRoundEnd && n.push(a.B.createSkill(51007, 1, this)), e == i.Data.SkillMode.oppo_round_end && this.hasBuff(!1, o.default.NegativeType.lostAbility) && n.push(a.B.createSkill(52005, 1, this)); else if (e == i.Data.SkillMode.under_spell_damage) this.hasBuff(!0, o.default.PositiveType.ignoreOppoMonsterSkillDamageHalo) && n.push(a.B.createSkill(51001, 1, this)), this.hasBuff(!0, o.default.PositiveType.ignoreOppoMonsterSkillEffectHalo) && n.push(a.B.createSkill(51002, 1, this)), this.hasBuff(!0, o.default.PositiveType.ignoreOppoMonsterSkillHalo) && n.push(a.B.createSkill(51003, 1, this)), this.hasBuff(!0, o.default.PositiveType.ignoreChaos) && n.push(a.B.createSkill(51006, 1, this)); else if (e == i.Data.SkillMode.round_begin || e == i.Data.SkillMode.oppo_round_begin) this.hasBuff(!0, o.default.NegativeType.extraDecHp) && n.push(a.B.createSkill(51004, 1, this)), e == i.Data.SkillMode.round_begin && this.hasBuff(!1, o.default.NegativeType.sleep) && n.push(a.B.createSkill(50001, 1, this)); else if (e == i.Data.SkillMode.bcs2gl || e == i.Data.SkillMode.bcs2_) null != this._prevPower && this._prevPower > 0 && n.push(a.B.createSkill(52001, 1, this)); else if (e == i.Data.SkillMode.using) {
                            for (_ = a.B.mergeTable([this._owner.getHaloModeSkills(i.Data.SkillMode.pos_changed), this._owner._opponent.getHaloModeSkills(i.Data.SkillMode.pos_changed), this._owner.getHaloModeSkills(i.Data.SkillMode.monster_to_board), this._owner._opponent.getHaloModeSkills(i.Data.SkillMode.oppo_monster_to_board)]), s = 0; s < _.length; s++) n.push(_[s]);
                            null != this._owner._exMaxHpInBattleByNature[this._info._nature] && n.push(a.B.createSkill(52006, 1, this))
                        } else e == i.Data.SkillMode.spell_damage && this.hasBuff(!0, o.default.PositiveType.exDamageToAllWhenAtk) && n.push(a.B.createSkill(51005, 1, this));
                        null != this._owner._fortressSkill && a.B.skillHasMode(this._owner._fortressSkill, e) && n.push(this._owner._fortressSkill)
                    } else if (this._type == i.Data.CardType.magic) {
                        for (s = 0; s < this._skills.length; s++) a.B.skillHasMode(this._skills[s], e) && n.push(this._skills[s]);
                        e != i.Data.SkillMode.round_begin && e != i.Data.SkillMode.round_end || null == this._owner._fortressSkill || !a.B.skillHasMode(this._owner._fortressSkill, e) || n.push(this._owner._fortressSkill)
                    } else this._type == i.Data.CardType.trap || (this._type, i.Data.CardType.fortress);
                    if (e == i.Data.SkillMode.pos_changed) for (_ = a.B.mergeTable([this._owner.getHaloModeSkills(i.Data.SkillMode.pos_changed), this._owner._opponent.getHaloModeSkills(i.Data.SkillMode.pos_changed)]), s = 0; s < _.length; s++) n.push(_[s]);
                    var c = null;
                    if (e == i.Data.SkillMode.magic ? c = i.Data.SkillMode.magic_casted : e == i.Data.SkillMode.trap ? c = i.Data.SkillMode.trap_casted : e == i.Data.SkillMode.fortress_damaged ? c = i.Data.SkillMode.fortress_damaged : e == i.Data.SkillMode.bcs2gl ? c = i.Data.SkillMode.card_destroyed_from_bcs : e == i.Data.SkillMode.h2g_by_self || e == i.Data.SkillMode.h2g_by_oppo ? c = i.Data.SkillMode.card_destroyed_from_hand : e != i.Data.SkillMode.p2g_by_self && e != i.Data.SkillMode.p2g_by_oppo || (c = i.Data.SkillMode.card_destroyed_from_pile), null != c) {
                        this._haloSkills = this._haloSkills || [], 0 == t && (cc.log(""), this._haloSkills[c] = a.B.mergeTable([this._owner.getHaloModeSkills(c), this._owner._opponent.getHaloModeSkills(c + 1)]));
                        for (_ = this._haloSkills[c] || [], s = 0; s < _.length; s++) this.getIsSpellHaloSkill(_[s]._id, this._ids && this._ids[1]) && n.push(_[s])
                    }
                    return n.sort(function (e, t) {
                        return e._priority < t._priority ? 1 : e._priority < t._priority ? -1 : e._id < t._id ? 1 : e._id < t._id ? -1 : (null == e._owner && cc.log("="), e._owner && !t._owner ? 1 : !e._owner && t._owner ? -1 : e._owner._id < t._owner._id ? 1 : -1)
                    }), n
                }, e.prototype.getSkillByMode = function (e, t) {
                    var n = this.getSkillsByMode(e, t);
                    return 0 == t ? null : n[t - 1]
                }, e.prototype.saveSkillCastTimes = function () {
                    var e = [];
                    if (this.isMonster()) for (var t = 1; t <= this._skills.length; t++) e.push(this._skills[t - 1]._castTimes);
                    return e
                }, e.prototype.loadSkillCastTimes = function (e) {
                    if (e.length > 0) for (var t = 1; t <= this._skills.length; ++t) this._skills[t - 1]._castTimes = e[t - 1] || 0
                }, e.prototype.hasSkills = function (e) {
                    for (var t = 1; t <= this._skills.length; ++t) for (var n = this._skills[t - 1]._id, a = 0; a < e.length; ++a) if (n == e[a]) return !0;
                    return !1
                }, e.prototype.hasSkillInMode = function (e) {
                    for (var t = 1; t <= this._skills.length; ++t) {
                        var n = this._skills[t - 1];
                        if (a.B.skillHasMode(n, e)) return {_isHas: !0, _skill: n}
                    }
                    return {_isHas: !1, _skill: null}
                }, e.prototype.hasChoiceSkill = function () {
                    for (var e = 1; e <= this._skills.length; ++e) {
                        var t = this._skills[e];
                        if (a.B.skillHasMode(t, i.Data.SkillMode.choice)) return [!0, t]
                    }
                    return [!1, null]
                }, e.prototype.hasNoGemSkill = function () {
                    for (var e = 1; e <= this._skills.length; ++e) {
                        var t = this._skills[e - 1];
                        if (1 == i.Data._skillInfo[t._id]._needNoGem) return {_has: !0, _skill: t}
                    }
                    return {_has: !1, _skill: null}
                }, e.prototype.hasNeedExtraGemSkill = function () {
                    for (var e = 1; e <= this._skills.length; ++e) {
                        var t = this._skills[e];
                        if (1 == i.Data._skillInfo[t._id]._needExtraGem) return !0
                    }
                    return !1
                }, e.prototype.hasDefendRuseSkill = function () {
                    return !1
                }, e.prototype.hasTargetUsingSkill = function () {
                    for (var e = 1; e <= this._skills.length; ++e) {
                        var t = this._skills[e - 1];
                        if (0 != i.Data._skillInfo[t._id]._targetType) return {_isHas: !0, _skill: t}
                    }
                    return {_isHas: !1, _skill: null}
                }, e.prototype.getSkillVal = function (e) {
                    if (this.isMonster()) for (var t = 1; t <= this._skills.length; ++t) if (e == this._skills[t - 1]._id) return i.Data._skillInfo[e]._val[this._skills[t - 1]._level - 1];
                    return 0
                }, e.prototype.incSkillMaxLevel = function (e, t) {
                    var n = this._skillMaxLevelInc[e] || 0;
                    n += t, this._skillMaxLevelInc[e] = n
                }, e.prototype.getUnderSkillIndex = function (e) {
                    for (var t = Math.floor(e / i.Data.INFO_ID_GROUP_SIZE), n = [], a = 1; a <= this._underSkills.length; ++a) {
                        var o = this._underSkills[a - 1], r = i.Data.getSkillType(o._sid);
                        if (!o._disabled && r == t) {
                            for (var _ = !1, s = 1; s <= n.length; ++s) if (n[s - 1] == o._sid) {
                                _ = !0;
                                break
                            }
                            _ || n.push(o._sid)
                        }
                    }
                    var c = 1;
                    for (a = 1; a <= n.length; ++a) if (n[a - 1] == e) {
                        c = a;
                        break
                    }
                    return c
                }, e.prototype.saveExtraSkills = function () {
                    var e = [];
                    if (this.isMonster()) for (var t = 1; t <= this._skills.length; t++) {
                        var n = this._skills[t - 1];
                        n._provider != o.default.SkillProvider.extra && n._provider != o.default.SkillProvider.given || this._sourceStatus != o.default.CardStatus.board || this._destStatus != o.default.CardStatus.grave && this._destStatus != o.default.CardStatus.leave || a.B.skillHasMode(n, i.Data.SkillMode.bcs2gl) && e.push(n)
                    }
                    return e
                }, e.prototype.loadExtraSkills = function (e) {
                    if (0 != e.length) for (var t = 0; t < e.length; t++) this._skills.push(e[t])
                }, e.prototype.getMaxSkillPower = function () {
                    for (var e = 0, t = 1; t <= this._skills.length; ++t) e < i.Data._skillInfo[this._skills[t - 1]._id]._power && (e = i.Data._skillInfo[this._skills[t - 1]._id]._power);
                    return e
                }, e.prototype.disableUnderSkill = function (e, t, n, a) {
                    return 1 != e._ignoreDisable && (this._underSkills.push({
                        _cid: t,
                        _sid: n,
                        _mode: a,
                        _toggle: e
                    }), e._disabled = !0, null != e._toggle && (e._toggle._disabled = !1, null != e._toggle._trigger && (e._toggle._trigger._disabled = !1)), null == e._bind || e._bind._type != i.Data.CardType.magic && e._bind._type != i.Data.CardType.trap || this._owner.setCardStatus(e._bind, o.default.CardStatus.grave, t, n, a), !0)
                }, e.prototype.disableUnderSkillByIds = function (e, t, n, a, i) {
                    for (var o = !1, r = 1; r <= this._underSkills.length; ++r) {
                        var _ = this._underSkills[r - 1];
                        if (1 != _._disabled) for (var s = 0; s < e.length; ++s) if (_._sid == e[s] && (null == t || t == _._mode)) {
                            this.disableUnderSkill(_, n, a, i) && (o = !0);
                            break
                        }
                    }
                    return o
                }, e.prototype.disableUnderSkillByType = function (e, t, n, a) {
                    for (var o = !1, r = 1; r <= this._underSkills.length; ++r) {
                        var _ = this._underSkills[r - 1];
                        1 != _._disabled && i.Data.getSkillType(_._sid) == e && _._mode != i.Data.SkillMode.halo && this.disableUnderSkill(_, t, n, a) && (o = !0)
                    }
                    return o
                }, e.prototype.disableUnderSkillByOppoMonsterDamage = function (e, t, n) {
                    for (var a = !1, i = 1; i <= this._underSkills.length; ++i) {
                        var o = this._underSkills[i - 1];
                        if (1 != o._disabled && 1 != o._directDamageMark) {
                            var r = this._owner.getCardById(o._cid);
                            null != r && r.isMonster() && r._owner != this._owner && null != r._hpInc && r._hpInc < 0 && this.disableUnderSkill(o, e, t, n) && (a = !0)
                        }
                    }
                    return a
                }, e.prototype.disableUnderSkillByOppoMonsterEffect = function () {
                }, e.prototype.disableUnderSkillByOppoMonster = function (e, t, n) {
                    for (var a = !1, i = 1; i <= this._underSkills.length; ++i) {
                        var o = this._underSkills[i - 1];
                        if (1 != o._disabled) {
                            var r = this._owner.getCardById(o._cid);
                            null != r && r.isMonster() && r._owner != this._owner && this.disableUnderSkill(o, e, t, n) && (a = !0)
                        }
                    }
                    return a
                }, e.prototype.disableUnderSkillByBuff = function (e, t, n, a, i) {
                    for (var o = !1, r = 1; r <= this._underSkills.length; ++r) {
                        var _ = this._underSkills[r - 1];
                        _._incPositive != i && _._incNegative != i || this.disableUnderSkill(_, t, n, a) && (o = !0)
                    }
                    return o
                }, e.prototype.removeUnderSkillByRemoveMode = function (e) {
                    for (var t = 1; ;) {
                        var n = this._underSkills[t];
                        if (null == n) break;
                        0 != n._sid && n._mode != i.Data.SkillMode.halo && a.B.skillInfoHasRemoveMode(i.Data._skillInfo[n._sid], e) ? this._underSkills.splice(t - 1, 1) : t += 1
                    }
                }, e.prototype.underSkillHasMode = function (e) {
                    for (var t = 1; t <= this._underSkills.length; ++t) {
                        if (this._underSkills[t - 1]._mode == e) return !0
                    }
                    return !1
                }, e.prototype.underSkillHasType = function (e) {
                    for (var t = 1; t <= this._underSkills.length; ++t) {
                        var n = this._underSkills[t - 1];
                        if (i.Data.getSkillType(n._sid) == e) return !0
                    }
                    return !1
                }, e.prototype.isUnderSkillHaloedBySelfExtraSkill = function (e) {
                    if (e._cid != this._id || e._mode != i.Data.SkillMode.halo) return !1;
                    for (var t = 1; t <= this._skills.length; ++t) {
                        var n = this._skills[t - 1];
                        if (e._sid == n._id && (null == n._provider || n._saved && null == n._saved._provider)) return !1
                    }
                    return !0
                }, e.prototype.advanceLastUnderSkill = function (e) {
                    var t = this._underSkills[this._underSkills.length - 1];
                    null != t && (t._advance = e)
                }, e.prototype.hasAdvanceUnderSkill = function () {
                    for (var e = 1; e <= this._underSkills.length; ++e) if (null != this._underSkills[e - 1]._advance) return !0;
                    return !1
                }, e.prototype.hasUnderSkillByDamageFrom = function (e) {
                    for (var t = 1; t <= this._underSkills.length; ++t) {
                        var n = this._underSkills[t - 1];
                        if (1 != n._disabled && 0 == n._removable && null != n._hpInc && n._hpInc < 0 && n._cid == e._id) return !0
                    }
                    return !1
                }, e.prototype.addBind = function (e) {
                    for (var t = 1; t <= this._binds.length; ++t) if (this._binds[t - 1] == e) return;
                    this._binds.push(e)
                }, e.prototype.removeBind = function (e) {
                    for (var t = 1; t <= this._binds.length; ++t) if (this._binds[t] == e) {
                        this._binds.splice(t - 1, 1);
                        break
                    }
                }, e.prototype.removeBinds = function () {
                    this._binds = []
                }, e.prototype.isBinded = function (e) {
                    for (var t = 1; t <= this._binds.length; ++t) if (this._binds[t - 1]._infoId == e) return !0;
                    return !1
                }, e.prototype.isBindedSkill = function (e) {
                    for (var t = 1; t <= this._binds.length; ++t) if (this._binds[t - 1].hasSkills([e])) return !0;
                    return !1
                }, e.prototype.isBoardCard = function () {
                    return this._type != i.Data.CardType.fortress
                }, e.prototype.isAlive = function () {
                    return this.isMonster() ? this._status == o.default.CardStatus.board && this._hp > 0 : this._type == i.Data.CardType.fortress && this._hp > 0
                }, e.prototype.hasChangeStatusUnderSkill = function (e) {
                    for (var t = 1; t <= this._underSkills.length; t++) for (var n = this._underSkills[t - 1], a = 0; a < e.length; a++) if (n._status == e[a]) return !0;
                    return !1
                }, e.prototype.isDying = function () {
                    return this.isChangingToStatus([o.default.CardStatus.grave, o.default.CardStatus.leave])
                },e.prototype.isUsing = function () {
                    return this.isChangingToStatus([o.default.CardStatus.board])
                },e.prototype.isToOppoBoard = function () {
                    return this.isChangingToStatus([o.default.CardStatusVal.b2b_oppo_once, o.default.CardStatusVal.b2b_oppo_forever])
                },e.prototype.isChangingToStatus = function (e) {
                    for (var t = this._owner.getActionPlayer(); null != t;) {
                        var n = t._cardStatusToChange;
                        if (null == n) break;
                        for (var a = 1; a <= n.length; ++a) for (var i = n[a - 1], o = 0; o < e.length; ++o) if (i._card == this && i._destStatus == e[o]) return !0;
                        t = t._saved
                    }
                    return !1
                },e.prototype.isChangingWithStatusVal = function (e) {
                    return !1
                },e.prototype.canAction = function () {
                    return this._actionIndex <= this._actionCount
                },e.prototype.isHurt = function () {
                    return this._hp < this._maxHp + this._haloedMaxHpInc
                },e.prototype.isAtkHide = function () {
                    return (this._info._option & i.Data.CardOption.hide_atk) > 0
                },e.prototype.isDefHide = function () {
                    return (this._info._option & i.Data.CardOption.hide_def) > 0
                },e.prototype.setDieStat = function () {
                    this._prevBoardPos = this._pos, this._prevAtk = this._atk, this._dieRound = Math.max(this._owner._round, this._owner._opponent._round), this._dieByEffect = !0, this._dieCount = this._dieCount + 1
                },e.prototype.setDamageExtraAdjust = function (e, t, n, a) {
                    null == this._damageExtraAdjust[e] && (this._damageExtraAdjust[e] = {}), null == this._damageExtraAdjust[e][t] && (this._damageExtraAdjust[e][t] = {}), this._damageExtraAdjust[e][t][n] = a
                },e.prototype.getQuality = function () {
                    return r.CardHelper.getCardQuality(this)
                },e.prototype.getCost = function () {
                    return r.CardHelper.getCardCost(this)
                },e.prototype.getSkillLevel = function (e) {
                    return this._level
                },e.prototype.getAtk = function () {
                    return this._atk
                },e.prototype.getHp = function () {
                    return this._hp
                },e.prototype.getStar = function () {
                    return r.CardHelper.getCardStar(this)
                },e.prototype.getOriginOwner = function () {
                    return 1 == this._isBorrowed ? this._owner._opponent : this._owner
                },e.prototype.getOriginId = function () {
                    return !this.hasSkills([3113]) || this._status != o.default.CardStatus.board && this._status != o.default.CardStatus.grave ? i.Data.getOriginId(this._infoId) : i.Data._skillInfo[3113]._refCards[0]
                },e.prototype.iChaomeng = function () {
                    return 14012 == this._infoId
                },e.prototype.testSkills = function () {
                },e
            }();
        n.default = _, cc._RF.pop()
    }, {
        "../../data/CardHelper": "CardHelper",
        "../../data/data": "data",
        "./BattleData": "BattleData",
        "./BattlleCardStatus": "BattlleCardStatus"
    }],
    BattleChatDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0db24JnebJNl6mKUNTTL6ar", "BattleChatDialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../data/data"), o = e("../../const/ViewConst"), r = e("../../utils/SpriteUtil"),
            _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"), c = e("../../config/UICfg"),
            l = e("../../../noxcc"), d = e("../../utils/SpineUtil"), p = e("../../ui/widget/MaskLayer"),
            u = e("../../part/BattlePart"), g = e("../../utils/UIUtil"), h = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._battleUi = null, t
                }

                return a(t, e), t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t.prototype.removeFromParent = function () {
                    this._battleUi._battleAtkDialog = null, this.node.removeFromParent()
                }, t.prototype.init = function (e, t) {
                    if (this._battleUi = e, t) {
                        for (var n in i.Data._pvpChatInfo) {
                            var a = i.Data._pvpChatInfo[n];
                            this.addChatWidget(t, _.lcStr(a._nameSid), cc.v2(250 + 200 * (a._id % 2 == 0 ? -1 : 1), 110 * (Math.floor((a._id - 1) / 2) + 1) + 30), cc.size(330, 105), a._id % 2 == 0)
                        }
                        for (var r = ["ai", "dalian", "jusang", "ku", "tiaopi", "xiao"], c = 1; c <= 6; c++) this.addChatWidget(t, r[c - 1], cc.v2(980 + 100 * (c % 2 == 0 ? -1 : 1), 140 * (Math.floor((c - 1) / 2) + 1) + 100), cc.size(410, 130), c % 2 == 0, !0)
                    } else this.addChatWidget(t, _.lcStr(e._isIgnoreChat && s.STR.SHOW_CHAT || s.STR.IGNORE_CHAT), cc.v2(o.ViewConst.SCR_W - 200 - 200, o.ViewConst.SCR_H - 140), cc.size(410, 130), !1)
                }, t.prototype.hide = function () {
                    this.node.removeFromParent()
                }, t.prototype.sendChatMsg = function (e) {
                    this._battleUi.addChat(this._battleUi._player, e), u.BattlePart.sendBattleChat(e)
                }, t.prototype.addChatWidget = function (e, t, n, a, i, o) {
                    void 0 === o && (o = !1);
                    var _ = this, s = (this._battleUi, l.noxcc.newNode());
                    s.setContentSize(a), s.setAnchorPoint(.5, .5), s.setPosition(n), this.node.addChild(s);
                    var p = s.addComponent(cc.Button);
                    if (l.noxcc.addClick(p, function () {
                        _.sendChatMsg(t), _.hide()
                    }), o) {
                        var u = d.SpineUtil.createSpineAnim("biaoqing", "default", t, !0);
                        s.addChild(u)
                    } else {
                        (u = r.SpriteUtil.createScale9Sprite("img_tip_bg2").node).setContentSize(a), u.setFlippedX(i), u.setFlippedY(!e), u.setPosition(a.width / 2, a.height / 2), s.addChild(u);
                        var h = g.UIUtil.createTTF(t, c.UICfg.FontSize.S1, c.UICfg.COLOR_TEXT_DARK);
                        h.setPosition(cc.v2(a.width / 2 + (i ? 10 : -10), a.height / 2)), s.addChild(h)
                    }
                    s.setScale(.3), s.runAction(cc.scaleTo(.3, 1))
                }, t
            }(p.MaskLayer);
        n.BattleChatDialog = h, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../ui/widget/MaskLayer": "MaskLayer",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil"
    }],
    BattleCondition: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "316163Y3exDObykd9BGV7he", "BattleCondition"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattlleCardStatus"), o = e("./BattleData"),
            r = e("../../../leocool/lcStr"), _ = e("../../StringEnums"), s = function () {
                function e(e, t) {
                    this._player = e;
                    if (this._conditions = [], Object.keys(t).length > 0) for (var n = 1; n <= t._conditionIds.length; n++) {
                        var i = a.Data._conditionInfo[t._conditionIds[n - 1]];
                        if (null != i) {
                            var o = {_id: i._id, _info: i, _value: t._conditionValues[n - 1]};
                            this._conditions.push(o)
                        }
                    }
                }

                return e.prototype.reset = function () {
                    this._results = []
                }, e.prototype.getTaskResult = function () {
                    if (0 == this._results.length) for (var e = 1; e <= this._conditions.length; e++) {
                        var t = this._conditions[e - 1], n = this.castCondition(t._id, t._value);
                        this._results.push(n)
                    }
                    return this._results
                }, e.prototype.isAllSatisfied = function () {
                    for (var e = this.getTaskResult(), t = 1; t <= e.length; t++) if (!e[t - 1]) return !1;
                    return !0
                }, e.prototype.getIsWin = function () {
                    for (var e = 1; e <= this._conditions.length; e++) {
                        var t = this._conditions[e - 1];
                        if (15 == t._id && this._player._macroStatus == o.default.Status.round_begin && this._player._round > t._value) return !0;
                        if (28 == t._id && this.castCondition(t._id, t._value)) return !0
                    }
                    return !1
                }, e.prototype.castCondition = function (e, t) {
                    var n = !1, o = this._player, r = this._player._opponent;
                    if (1 == e) o.getResult() > a.Data.BattleResult.draw && (n = !0); else if (2 == e) {
                        if (0 == r._pileCards.length && 0 == r.getBattleCards("B").length) {
                            for (var _ = 0, s = 1; s <= r._handCards.length; s++) {
                                var c = r._handCards[s - 1];
                                null != c && c._type == a.Data.CardType.monster && (_ += 1)
                            }
                            0 == _ && (n = !0)
                        }
                    } else if (3 == e) {
                        var l = Math.max(o._round, r._round);
                        o.getResult() > a.Data.BattleResult.draw && l <= t && (n = !0)
                    } else if (4 == e) o.getResult() > a.Data.BattleResult.draw && o._graveCards.length <= t && (n = !0); else if (5 == e) o.getResult() > a.Data.BattleResult.draw && o._ball >= t && (n = !0); else if (7 == e) this.getCardCountByType(a.Data.CardType.monster) >= t && (n = !0); else if (8 == e) this.getCardCountByType(a.Data.CardType.magic) >= t && (n = !0); else if (10 == e) 0 == this.getCardCountByMinLevel(t) && (n = !0); else if (11 == e) 0 == this.getCardCountByNature(t) && (n = !0); else if (14 == e) {
                        var d = o._battleEvent.getEventById(t) || r._battleEvent.getEventById(t);
                        null != d && d._isCasted && (n = !0)
                    } else if (15 == e) o._round >= t && (n = !0); else if (16 == e) this.getCardCountByType() <= t && (n = !0); else if (e >= 17 && e <= 19) this.getCardCountByType(e - 16) <= t && (n = !0); else if (21 == e) null != r._cards[t] && i.B.isAlive(r._cards[t]) && (n = !0); else if (27 == e) r._ball <= 0 && (n = !0); else if (28 == e) this._player._isAttacker && (this._player._destroyMonsterCount[0] || 0) >= t && (n = !0); else if (29 == e) {
                        var p = t % 1e5;
                        _ = Math.floor(t / 1e5);
                        this._player._isAttacker && (this._player._destroyMonsterCount[p] || 0) >= _ && (n = !0)
                    }
                    return n
                }, e.prototype.getCardCountByType = function (e) {
                    void 0 === e && (e = null);
                    for (var t = 0, n = 1; n <= this._player._troopCards.length; n++) {
                        var i = this._player._troopCards[n - 1], o = a.Data.getType(i.info_id);
                        (null != e && o == e || null == e) && (t += i.num)
                    }
                    return t
                }, e.prototype.checkMonsterNature = function (e) {
                    for (var t = 0, n = 1; n <= this._player._troopCards.length; n++) {
                        var i = this._player._troopCards[n - 1], o = a.Data.getInfo(i.info_id), r = o.shift();
                        if (o.shift() == a.Data.CardType.monster) {
                            if (r._nature != e) return !1;
                            t = i.num + t
                        }
                    }
                    return !(t <= 0)
                }, e.prototype.getCardCountByMinStar = function (e) {
                    for (var t = 0, n = 1; n <= this._player._troopCards.length; n++) {
                        var i = this._player._troopCards[n - 1], o = a.Data.getInfo(i.info_id);
                        o._type == a.Data.CardType.monster && o._star >= e && (t += i.num)
                    }
                    return t
                }, e.prototype.getCardCountByNature = function (e) {
                    for (var t = 0, n = 1; n <= this._player._troopCards.length; n++) {
                        var i = this._player._troopCards[n - 1], o = a.Data.getInfo(i.info_id), r = o.shift();
                        o.shift() == a.Data.CardType.monster && r._nature == e && (t += i.num)
                    }
                    return t
                }, e.prototype.getCardCountByMinLevel = function (e) {
                    for (var t = 0, n = 1; n <= this._player._troopCards.length; n++) {
                        var i = this._player._troopCards[n - 1], o = a.Data.getInfo(i.info_id), r = o.shift();
                        o.shift() == a.Data.CardType.monster && r._level == e && (t += i.num)
                    }
                    return t
                }, e.prototype.getConditionDesc = function () {
                    if (null == this._desc) {
                        for (var e = [], t = 1; t <= this._conditions.length; t++) {
                            var n = this._conditions[t - 1], i = "";
                            if (null != n._value) {
                                var o = null, s = "";
                                if (11 == n._id) o = r.lcStr(_.STR.NATURE_NONE + n._value); else if (13 == n._id) {
                                    var c = a.Data._monsterInfo[n._value];
                                    o = r.lcStr(c._nameSid)
                                } else if (14 == n._id) o = r.lcStr(a.Data._eventInfo[n._value]._nameSid); else if (29 == n._id) {
                                    var l = n._value % 1e5;
                                    o = "" + Math.floor(n._value / 1e5);
                                    c = a.Data.getInfo(l).shift();
                                    s = r.lcStr(c._nameSid)
                                } else o = n._value, i = r.lcStr(n._info._descSid);
                                i = i.replace(/\[.*\]/g, o) + s, i = this.specialName(n._id, n._value, i)
                            }
                            e.push(i)
                        }
                        this._desc = e
                    }
                    return this._desc
                }, e.prototype.specialName = function (e, t, n) {
                    return 0 == t && e >= 17 && e <= 19 ? r.lcStr(40510 + e - 17) : n
                }, e
            }();
        n.default = s, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "./BattleData": "BattleData",
        "./BattlleCardStatus": "BattlleCardStatus"
    }],
    BattleDataType: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7c8838QxY1JBJzX1hNaYcpu", "BattleDataType"), Object.defineProperty(n, "__esModule", {value: !0}), cc._RF.pop()
    }, {}],
    BattleData: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8558awdeMxFcrZ8ITVb3HTW", "BattleData"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.MAX_POWER_COUNT = 6, e.MAX_BALL_COUNT = 6, e.TAG_BATTLE_LIST_DIALOG = 1230, e.CharacterCard = [null, 35001, 35002, 35003, 35004], e.CharacterNature = [null, 1, 2, 3, 4], e.Status = {
                default: 0,
                after_account_event: 34,
                before_account_finish: 35,
                attack_end: 18,
                after_account_halo: 28,
                change_fortress_skill: 241,
                end_spell: 128,
                account_halo: 114,
                after_account_status: 22,
                wait_oppo_use_card: 213,
                use: 13,
                after_account_finish: 36,
                round_end: 15,
                account_trap: 115,
                account_reorder: 112,
                before_account_status: 21,
                under_spell: 122,
                under_defend_spell: 123,
                under_spell_damage: 124,
                try_use_card: 211,
                before_account_reorder: 23,
                before_account_trap: 37,
                before_account_pos_change: 25,
                battle_start: 2,
                after_spell: 127,
                before_account_halo: 27,
                account_event: 151,
                initial_deal: 16,
                forwarding_end: 261,
                under_counter_spell: 125,
                before_account_spell: 29,
                select_main: 17,
                account_spell: 126,
                send_battle_end: 214,
                wait_observe_use_card: 216,
                update_score_damage: 231,
                after_account_spell: 30,
                account_status: 111,
                pvp_timing_begin: 251,
                do_use_card: 212,
                account_finish: 161,
                after_account_reorder: 24,
                spelling: 121,
                deal: 12,
                wait_opponent: 1,
                use_card: 221,
                after_account_pos_change: 26,
                action: 14,
                round_begin: 11,
                battle_end: 3,
                after_account_trap: 38,
                ai_use_card: 217,
                account_pos_change: 113,
                update_score_destroy_card: 232,
                before_account_event: 33
            }, e.CardStatus = {
                leave2: 12,
                pile: 2,
                cover: 9,
                energy: 14,
                leave: 1,
                fortress: 11,
                board2: 13,
                hand: 3,
                grave: 5,
                board: 4,
                show: 10
            }, e.CardStatusVal = {
                b2g_degrade2: 122,
                h2g_magic: 51,
                g2b_4111: 111,
                e2h_self_new: 33,
                p2g_fast: 141,
                h2l_temp: 61,
                b2g_degrade: 121,
                h2g_show: 52,
                g2h_oppo: 151,
                e2x_fast_def: 2,
                f2f_fortress_damaged: 161,
                b2b_oppo_rob_horse: 13,
                x2p_top: 172,
                x2p_bottom: 173,
                p2g_show: 142,
                p2h_show_random: 74,
                e2h_copy_oppo_hand: 31,
                p2b_def: 91,
                b2l_evolve: 171,
                p2h_oppo: 72,
                r2b_compose: 101,
                b2h_oppo_once: 23,
                b2p_oppo: 22,
                h2b_normal: 41,
                f2f_halo: 162,
                b2b_oppo_once: 11,
                e2h_copy_oppo_board: 32,
                p2h_show: 71,
                g2p_fast: 131,
                g2b_decompose: 113,
                g2b_5096: 112,
                b2b_oppo_forever: 12,
                b2h_oppo: 21,
                e2x_fast: 1,
                p2h_random: 73
            }, e.PositiveType = {
                shieldExTrap: 42,
                shieldHaloTrap: 32,
                count: 53,
                shieldMonster: 35,
                ignoreOppoMonsterSkillDamageHalo: 25,
                changeRandom: 20,
                disableDyingSkill: 23,
                haloSkillBegin: 10,
                extraFaceCountInRound: 49,
                shieldHaloHp: 33,
                magnetic: 14,
                lockAtk: 24,
                shieldExHp: 43,
                ignoreSleep: 11,
                spellMaster: 17,
                shieldExMagic: 41,
                grassMark: 50,
                shieldHaloEnd: 33,
                shieldHp: 38,
                mask: 16,
                ignoreNegative: 22,
                shieldTrap: 37,
                ignoreOppoMonsterSkillEffectHalo: 26,
                shieldBegin: 34,
                shieldEnd: 38,
                shieldExMonster: 40,
                spellMaster2: 18,
                skillEnhanced: 4,
                extraSkill: 12,
                shieldHaloBegin: 29,
                powerMark: 2,
                spellMasterWu: 19,
                dinosaurMark: 46,
                extraBaseDamageInRound: 47,
                extraDamageInRound: 48,
                electricityMark: 53,
                exDamageToAllWhenAtk: 3,
                haloSkillEnd: 33,
                shieldMagic: 36,
                r5: 28,
                fireMark: 51,
                shieldHaloMonster: 30,
                shieldHaloMagic: 31,
                waterMark: 52,
                accurateArrow: 13,
                ignoreOppoMonsterSkillHalo: 27,
                poisonMaster: 21,
                guard: 15,
                pumpkinMark: 45,
                ignoreChaos: 10,
                shieldExBegin: 39,
                craze: 1,
                shieldExEnd: 43
            }, e.NegativeType = {
                sleep: 1,
                poison: 2,
                burn: 3,
                numb: 4,
                chaos: 5,
                damage: 6,
                sleepOneRound: 7,
                r1: 8,
                powerLock: 9,
                disableLastSkill: 10,
                haloSkillEnd: 11,
                haloSkillBegin: 11,
                extraDrawbackCost: 11,
                extraDecHp: 12,
                cannotRecHp: 13,
                lostAbility: 14,
                decDamage: 15,
                count: 15,
                atkFrozen: 110,
                boardLock: 111
            }, e.SkillProvider = {extra: 1, given: 2}, e.CardPosChange = {
                shiftleft: 4,
                loop: 3,
                shiftright: 5,
                random: 1,
                x21: 6,
                swap: 2
            }, e.UseCardType = {
                swap: 22,
                drop: 23,
                spell: 31,
                attack_end: 4,
                init_b1: 11,
                round: 1,
                none: 0,
                retreat: 2,
                h2b: 21,
                swap_in_round_end: 24,
                init_bx: 12
            }, e.UseRoundCardType = {
                default: -1,
                auto2: -5,
                auto1: -4,
                normal: -6,
                time_out2: -3,
                oppo_normal: -7,
                time_out: -2
            }, e.CardId = {defender_base: 2e3, attacker_base: 1e3}, e.PlayerType = {
                opponent: 2,
                ai: 11,
                observe: 3,
                replay: 21,
                player: 1
            }, e.MaxRound = 15, e.NEGATIVE_COMMON = [e.NegativeType.sleep, e.NegativeType.poison, e.NegativeType.burn, e.NegativeType.numb, e.NegativeType.chaos], e.NEGATIVE_CLEAR_WHEN_ROUND_END = [e.NegativeType.sleepOneRound, e.NegativeType.r1, e.NegativeType.cannotRecHp], e.NEGATIVE_CLEAR_WHEN_ROUND_BEGIN = {}, e.NEGATIVE_CLEAR_WHEN_ROUND_END_PLUS = {}, e.POSITIVE_CLEAR_WHEN_ROUND_END = [e.PositiveType.exDamageToAllWhenAtk], e.POSITIVE_CLEAR_WHEN_ROUND_BEGIN = [], e.POSITIVE_CLEAR_WHEN_ROUND_END_PLUS = [e.PositiveType.skillEnhanced], e._battleUseCardList = null, e.resetBattleUseCardList = function (t) {
                void 0 === t && (t = null), e._battleUseCardList = {
                    _useCardIdx: 1,
                    _cardOpList: [],
                    _curPlayer: null,
                    _type: null
                }
            }, e
        }();
        n.default = a, cc._RF.pop()
    }, {}],
    BattleDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6dba25ymzFIppsHvw6H46RQ", "BattleDialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../const/ViewConst"), o = e("../../utils/NodeUtil"), r = e("../../../leocool/lc"),
            _ = e("../../utils/ParticleUtil"), s = e("../../utils/SpineUtil"), c = e("../scene/BattleScene"),
            l = e("../../AudioEnums"), d = e("../../../leocool/lcAudio"), p = e("../../../leocool/lcStr"),
            u = e("../../StringEnums"), g = e("../../data/data"), h = e("../../utils/SpriteUtil"),
            f = e("../../ui/node/NodeWithLabel"), m = e("../../config/UICfg"), y = e("../../ClientData"),
            T = e("../../../noxcc"), S = e("../../utils/UIUtil"), C = function (e) {
                function t() {
                    var n = e.call(this) || this;
                    n._battleUi = null, t.sDialog = n, n.node.setContentSize(i.ViewConst.SCR_SIZE), n.node.setAnchorPoint(new cc.Vec2(0, 0));
                    i.ViewConst.SCR_EDGE;
                    var a = n.node.addComponent(cc.Widget);
                    return a.isAlignLeft = !0, a.isAlignRight = !0, a.isAlignTop = !0, a.isAlignBottom = !0, a.left = 0, a.right = 0, a.top = 0, a.bottom = 0, n
                }

                return a(t, e), t.create = function (e, n, a) {
                    t.sDialog && t.sDialog.hide();
                    var i = new t;
                    return i.init(e, n, a), i
                }, t.prototype.init = function (e, n, a) {
                    this._battleUi = e;
                    var o = new cc.Vec2(i.ViewConst.SCR_CW, i.ViewConst.SCR_CH), C = this;
                    if (n == t.Type.your_round || n == t.Type.oppo_round || n == t.Type.remain_round || n == t.Type.initial_deal || n == t.Type.inning) {
                        var v = _.ParticleUtil.createParticle("par_round_explode");
                        this.addChild(v), v.setPosition(o.x, o.y + 60);
                        var b = "";
                        n == t.Type.your_round ? b = "wofang" + (a || "") : n == t.Type.oppo_round ? b = "difang" : n == t.Type.remain_round ? b = "shengyu" + a : n == t.Type.initial_deal ? b = "chushi" : n == t.Type.inning && (b = "dijiju" + a);
                        var E = s.SpineUtil.createSpineAnim("huihe", "default", b, !1);
                        r.lc.addChildToPosLB(this.node, E, cc.v2(o.x, o.y + 50), c.BattleScene.ZOrder.dialog + 1), d.lcAudio.playAudio(l.AUDIO.E_BAT_ROUND), n == t.Type.oppo_round && E.runAction(r.lc.sequence(r.lc.delay(1.2), r.lc.removeSelf()))
                    } else if (n == t.Type.solo_start) {
                        E = s.SpineUtil.createSpineAnim("zhanchangduijue", "default", "animation", !1);
                        r.lc.addChildToPosLB(this.node, E, cc.v2(o.x, o.y + 50), c.BattleScene.ZOrder.dialog + 1)
                    } else if (t.Type.dialog_start < n && n < t.Type.dialog_end) {
                        var I = "", P = new cc.Vec2(i.ViewConst.SCR_CW + 160, i.ViewConst.SCR_CH - 230);
                        n == t.Type.defender_hand_cards ? (I = string.format(p.lcStr(u.STR.BATTLE_DIALOG_HAND_CARDS), this._battleUi._opponentUi._pHandCards.length), P.y = i.ViewConst.SCR_CH + (this._battleUi._isReverse ? -150 : 340)) : n == t.Type.attacker_hand_cards ? (I = string.format(p.lcStr(u.STR.BATTLE_DIALOG_HAND_CARDS), this._battleUi._opponentUi._pHandCards.length), P.y = i.ViewConst.SCR_CH + (this._battleUi._isReverse ? 340 : -150)) : n == t.Type.not_enough_gem ? I = p.lcStr(u.STR.BATTLE_DIALOG_NOT_ENOUGH_GEM) : n == t.Type.board_card_full ? I = string.format(p.lcStr(u.STR.BATTLE_DIALOG_BOARD_FULL), g.Data.MAX_CARD_COUNT_ON_BOARD) : n == t.Type.adding_board_card ? I = p.lcStr(u.STR.BATTLE_DIALOG_ADDING_CARD) : n == t.Type.card_need_aim ? I = p.lcStr(0 == a ? u.STR.BATTLE_DIALOG_CARD_NEED_AIM : u.STR.BATTLE_DIALOG_CARD_NEED_JCTQ_TARGET) : n == t.Type.card_need_target ? I = p.lcStr(0 == a ? u.STR.BATTLE_DIALOG_CARD_NEED_TARGET0 : 1 == a ? u.STR.BATTLE_DIALOG_CARD_NEED_TARGET1 : u.STR.BATTLE_DIALOG_CARD_NEED_TARGET2) : n == t.Type.special_summon_invalid ? I = p.lcStr(u.STR.BATTLE_DIALOG_SPECIAL_SUMMON_INVALID) : n == t.Type.not_your_round ? I = p.lcStr(u.STR.BATTLE_DIALOG_NOT_YOUR_ROUND) : n == t.Type.cannot_effect ? "number" == typeof a && (I = string.format(p.lcStr(u.STR.BATTLE_DIALOG_CANNOT_EFFECT), y.ClientData.getStrByCardType(a))) : n == t.Type.trap_existed ? I = p.lcStr(u.STR.BATTLE_DIALOG_TRAP_EXISTED) : n == t.Type.target_unattackable ? I = p.lcStr(u.STR.BATTLE_DIALOG_TARGET_UNATTACKABLE) : n == t.Type.cannot_attack ? I = p.lcStr(u.STR.BATTLE_DIALOG_CANNOT_ATTACK) : n == t.Type.need_main_card && (I = p.lcStr(1 == a ? u.STR.BATTLE_DIALOG_NEED_MAIN_CARD_EX : u.STR.BATTLE_DIALOG_NEED_MAIN_CARD));
                        var A = h.SpriteUtil.createWithSpriteFrameName("bat_dlg_bg2", cc.rect(50, 30, 1, 1)).node;
                        A.setPosition(P), A.setRotation(-90), this.addChild(A);
                        var R = f.NodeWithLabel.createWithTTF(I, m.UICfg.TTF_FONT, m.UICfg.FontSize.S1);
                        R.color = r.lc.Color3B.black, R.setAnchorPoint(0, .5), R.setPosition(P.x + 50 - 200, P.y + 15), this.addChild(R), A.setContentSize(cc.size(70, 420)), A.setScale(1, -1), A.runAction(cc.sequence(cc.scaleTo(r.lc.absTime(.1), 1.2, -1), cc.scaleTo(r.lc.absTime(.1), 1, -1), cc.delayTime(r.lc.absTime(n == t.Type.need_main_card && 1 == a ? 5 : 1.5)), cc.fadeOut(r.lc.absTime(1)), cc.callFunc(function () {
                            C.hide()
                        }))), n == t.Type.need_main_card && 1 == a || d.lcAudio.playAudio(l.AUDIO.E_BAT_DIALOG)
                    } else if (t.Type.tip_start < n) ; else if (n == t.Type.chat_dialog || n == t.Type.oppo_chat_dialog || n == t.Type.no_base_monster) {
                        var B = n == t.Type.oppo_chat_dialog || n == t.Type.no_base_monster && 1 == a,
                            N = T.noxcc.newNode(), D = this.checkLabelStrIsFace(a), U = null;
                        if (D) {
                            var M = s.SpineUtil.createSpineAnim("biaoqing", "default", a + "", !0);
                            r.lc.addChildToCenter(N, M), N.setScale(.2), N.runAction(cc.scaleTo(.3, .8)), r.lc.addChildToPosLB(this.node, N, cc.v2(170, B && m.UICfg.SCR_H - 150 || 150))
                        } else {
                            (U = h.SpriteUtil.createScale9Sprite("img_tip_bg2").node).setContentSize(D && cc.size(330, 105) || cc.size(Math.max(250, r.lc.w(U) + 100), 130)), e._isReverse ? (U.setFlippedY(!B), U.setFlippedX(B), r.lc.addChildToPosLB(N, U, cc.v2(B ? -20 : 15, 0), -1)) : (U.setFlippedY(B), U.setFlippedX(!0), r.lc.addChildToPosLB(N, U, cc.v2(0, 0), -1), r.lc.offset(U, 20));
                            var k = r.lc.cw(U) + (n == t.Type.no_base_monster ? 80 : 0);
                            if (e._isReverse) N.setScale(.2), N.runAction(cc.scaleTo(.3, 1)), r.lc.addChildToPosLB(this.node, N, cc.v2(!B && m.UICfg.SCR_W - k || k, m.UICfg.SCR_CH + (B ? -200 : 200))); else if (a && "string" == typeof a) {
                                var L = S.UIUtil.createTTF(a, m.UICfg.FontSize.S1, m.UICfg.COLOR_TEXT_DARK);
                                N.addChild(L), N.setScale(.2), N.runAction(cc.scaleTo(.3, 1)), r.lc.addChildToPosLB(this.node, N, cc.v2(k + 100, B ? m.UICfg.SCR_H - r.lc.ch(U) - 90 : r.lc.ch(U) + 90))
                            }
                        }
                        N.runAction(r.lc.sequence(r.lc.scaleTo(r.lc.absTime(.4), 1), r.lc.delay(r.lc.absTime(2)), r.lc.scaleTo(r.lc.absTime(.3), 0), r.lc.removeSelf()))
                    }
                }, t.prototype.addSkillItem = function () {
                }, t.prototype.checkLabelStrIsFace = function (e) {
                    return !!{ai: !0, dalian: !0, jusang: !0, ku: !0, tiaopi: !0, xiao: !0}[e]
                }, t.prototype.hide = function () {
                    t.sDialog = null, this.removeFromParent()
                }, t.Type = {
                    your_round: 1,
                    oppo_round: 2,
                    remain_round: 3,
                    initial_deal: 4,
                    inning: 5,
                    solo_start: 6,
                    chat_dialog: 31,
                    oppo_chat_dialog: 32,
                    no_base_monster: 33,
                    fortress_skill: 41,
                    dialog_start: 100,
                    defender_hand_cards: 101,
                    not_enough_gem: 102,
                    board_card_full: 103,
                    not_your_round: 104,
                    card_need_aim: 105,
                    card_need_target: 106,
                    special_summon_invalid: 107,
                    adding_board_card: 108,
                    cannot_effect: 109,
                    trap_existed: 110,
                    target_unattackable: 111,
                    cannot_attack: 112,
                    attacker_hand_cards: 114,
                    need_main_card: 115,
                    dialog_end: 200,
                    tip_start: 200,
                    your_card_pile: 201,
                    oppo_card_pile: 202,
                    your_gem: 203,
                    oppo_gem: 204,
                    your_grave: 205,
                    oppo_grave: 206,
                    round_info: 207,
                    tip_end: 299
                }, t.sDialog = null, t
            }(o.NodeUtil);
        n.BattleDialog = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../ui/node/NodeWithLabel": "NodeWithLabel",
        "../../utils/NodeUtil": "NodeUtil",
        "../../utils/ParticleUtil": "ParticleUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../scene/BattleScene": "BattleScene"
    }],
    BattleEnergyDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1aadecU5D1NzJTlOeV6AD+U", "BattleEnergyDialog"), cc._RF.pop()
    }, {}],
    BattleEventDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "96319c3Hp1ONJFum9bTO7/G", "BattleEventDialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BattleUi"), o = e("../../GuideManager"), r = e("../../utils/NodeUtil"),
            _ = e("../../const/ViewConst"), s = e("../../utils/UIUtil"), c = e("../scene/BattleScene"),
            l = e("../../../leocool/lc"), d = e("../../utils/SpriteUtil"), p = e("../../../leocool/lcMath"),
            u = e("../../../nox"), g = e("../../data/data"), h = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    t._blockTouch = null, t._guideArrow = null, t._ignoreTouch = null, t.node.setContentSize(new cc.Size(_.ViewConst.SCR_W, _.ViewConst.SCR_H)), t.node.setAnchorPoint(new cc.Vec2(0, 0));
                    var n = t.node.addComponent(cc.Widget);
                    return n.isAlignLeft = !0, n.isAlignRight = !0, n.isAlignTop = !0, n.isAlignBottom = !0, n.left = 0, n.right = 0, n.top = 0, n.bottom = 0, t
                }

                return a(t, e), t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t.prototype.init = function (e, n, a, i) {
                    this._type = n, this._battleUi = e, this._battleUi._guideCard = null, this._val = a, this._delayFinger = i, n == t.Type.info_help ? this.showHelp() : n == t.Type.guide_tap ? this.showGuideTap(a) : n == t.Type.guide_drag ? this.showGuideDrag(a) : n != t.Type.guide_drag_to_card && n != t.Type.guide_drag_to_pos && n != t.Type.guide_drag_to_attack && n != t.Type.guide_drag_to_defend || this.showGuideDragTo(n, a)
                }, t.prototype.hide = function () {
                    this._type == t.Type.story && o.GuideManager.closeStoryDialog(), this.removeFromParent()
                }, t.prototype.showStory = function () {
                    var e = this, t = e._story[0];
                    if (null == t || 0 == t) return e._battleUi.hideEvent();
                    e._story.shift();
                    var n = g.Data._storyInfo[t];
                    if (null == n) return e._battleUi.hideEvent();
                    var a = o.GuideManager.createStoryDialog(n, function () {
                        e.showStory()
                    });
                    if (e.addChild(a, c.BattleScene.ZOrder.form), e._battleUi._isAuto && !e._battleUi._isBattleFinished) {
                        var i = 3 * cc.director.getScheduler().getTimeScale();
                        a.runAction(l.lc.sequence(i, function () {
                            o.GuideManager.closeStoryDialog(), e.showStory()
                        }))
                    }
                }, t.prototype.showHelp = function () {
                }, t.prototype.showGuideTap = function (e) {
                    this.createOperateLayer(e, null)
                }, t.prototype.showFinger = function () {
                }, t.prototype.showGuideDrag = function (e) {
                    this.createOperateLayer(e._pFrame, cc.p(_.ViewConst.SCR_CW, _.ViewConst.SCR_CH))
                }, t.prototype.showGuideDragTo = function (e, n) {
                    if (null != n[0]) {
                        var a, i = n[0]._pFrame, o = n[1];
                        if (o) a = (t.Type.guide_drag_to_card, this._battleUi._node.convertToNodeSpace(o.convertToWorldSpace(cc.p(0, 0)))); else if (e == t.Type.guide_drag_to_attack) a = cc.p(_.ViewConst.SCR_CW, 600); else if (e == t.Type.guide_drag_to_defend) a = cc.p(_.ViewConst.SCR_CW - 20, 100); else {
                            for (var r = this._battleUi._playerUi._pBoardCards, s = g.Data.MAX_CARD_COUNT_ON_BOARD; s >= 1; s--) if (r[s]) {
                                a = cc.p(_.ViewConst.SCR_CW - 100, _.ViewConst.SCR_CH);
                                break
                            }
                            (null == a || a.x < _.ViewConst.SCR_CW) && (a = cc.p(_.ViewConst.SCR_CW - 140, _.ViewConst.SCR_CH))
                        }
                        var c = this._battleUi._node.convertToNodeSpace(n[0].getParent().convertToWorldSpace(n[0]._default._position)),
                            u = p.lcMath.pGetDistance(c, a),
                            h = 90 - p.lcMath.deg(p.lcMath.pToAngleSelf(p.lcMath.pSub(a, c))),
                            f = d.SpriteUtil.createScale9Sprite("img_arrow_up_4").node;
                        f.setContentSize(48, u), f.setRotation(h), f.opacity = 0, l.lc.addChildToPosAR(this.node, f, cc.p((a.x + c.x) / 2, (a.y + c.y) / 2)), this._guideArrow = f, this.createOperateLayer(i, a)
                    } else cc.log("-")
                }, t.prototype.createOperateLayer = function (e, t) {
                    var n = this, a = s.UIUtil.createTouchLayer();
                    return n.addChild(a), a.setTouchHandler(function (t) {
                        if (n._ignoreTouch || o.GuideManager._tipLayer && 1 == n._battleUi._guideTipVals.t.touch) return !1;
                        if (n._blockTouch) return !0;
                        var a = n._battleUi._btnRoundEnd;
                        return e.node == a ? (n._battleUi._guideNode = e, !1) : l.lc.contain(e.node, t.getLocation()) ? (n._battleUi._guideNode = e, !1) : (n._battleUi._guideNode = null, l.lc.contain(a.node, t.getLocation()))
                    }), n.showFinger = function () {
                        var n = this, a = function () {
                            return l.lc.convertPosAR(u.nox.cpos(e.node), e.node, n._battleUi._node)
                        }, r = a(), _ = o.GuideManager.createFinger(!1, r, t, a, n._battleUi._node);
                        n._battleUi._node.addChild(_.node, i.BattleUi.ZOrder.cover_card_ui), n._guideArrow && (n._guideArrow.opacity = 255, n._guideArrow.runAction(l.lc.repeat(l.lc.sequence(1, l.lc.fadeTo(.5, 100), l.lc.fadeTo(.5, 255)), 2))), n._blockTouch = null
                    }, n._delayFinger ? n._blockTouch = !0 : n.showFinger(), a
                }, t.Type = {
                    guide_drag_to_card: 33,
                    info_help: 21,
                    guide_drag_to_pos: 34,
                    guide_drag_to_attack: 35,
                    guide_drag: 32,
                    guide_tap: 31,
                    guide_drag_to_defend: 36,
                    story: 11
                }, t
            }(r.NodeUtil);
        n.BattleEventDialog = h, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcMath": "lcMath",
        "../../../nox": "nox",
        "../../GuideManager": "GuideManager",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../utils/NodeUtil": "NodeUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../scene/BattleScene": "BattleScene",
        "./BattleUi": "BattleUi"
    }],
    BattleEvent: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d64ff8EvXtDVaK4ZkW6bj9b", "BattleEvent"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattlleCardStatus"), o = e("./BattleData"), r = function () {
            function e(e, t) {
                if (this._player = e, this._events = [], t && t.length > 0) for (var n = 0; n <= t.length; n++) {
                    var i = t[n], o = a.Data._eventInfo[i];
                    if (o) {
                        var r = {_id: i, _info: o};
                        this._events.push(r)
                    }
                }
                this.reset()
            }

            return e.prototype.reset = function () {
                for (var e = 0; e < this._events.length; e++) {
                    var t = this._events[e];
                    t._owner = this._player, t._isCasted = !1
                }
            }, e.prototype.getSatisfiedEvents = function (e) {
                for (var t = [], n = 1; n <= this._events.length; n++) {
                    var a = this._events[n - 1];
                    a._info._status == e && this.isEventSatisfied(a) && t.push(a)
                }
                return t
            }, e.prototype.isEventSatisfied = function (e) {
                for (var t = !0, n = 0; n < e._info._condition.length; n++) {
                    var a = e._info._condition[n], i = e._info._conditionValue[n];
                    if ((1 == e._info._isOnce || e._isCasted) && !this.isSatisfied(a, i)) {
                        t = !1;
                        break
                    }
                }
                return t
            }, e.prototype.isSatisfied = function (e, t) {
                var n = !1, i = t[0], r = this._player, _ = this._player._opponent, s = r._actionCard || _._actionCard;
                if (1 == e) n = !0; else if (2 == e) {
                    if (s._infoId == i && s._sourceStatus == t[1] && s._destStatus == t[2]) return !0
                } else if (11 == e || 13 == e) {
                    if (null != r._boardCards[t[1]] && r._boardCards[t[1]]._infoId == i) return !0
                } else if (12 == e || 14 == e) 0 == r.getBattleCardsByInfoId("B", i).length && (n = !0); else if (15 == e) 0 == r.getBattleCardsByInfoId("B", i).length && 0 == _.getBattleCardsByInfoId("B", i).length && (n = !0); else if (16 == e) null != r.getBoardCardByEventId(t[9]).length && (n = !0); else if (17 == e || 18 == e) (r.getBattleCardsByInfoId("B", i).length > 0 || _.getBattleCardsByInfoId("B", i).length > 0) && (n = !0); else if (19 == e) ; else if (20 == e) r.getBattleCardsByInfoId("B", i).length > 0 && (n = !0); else if (21 == e || 23 == e) r.getBattleCardsByInfoId("H", i).length > 0 && (n = !0); else if (22 == e || 24 == e) 0 == r.getBattleCardsByInfoId("H", i).length && (n = !0); else if (25 == e || 26 == e) 0 == r.getBattleCardsByInfoId("E", i).length && (n = !0); else if (31 == e) null != s && s._infoId == i && (n = !0); else if (32 == e) null != s && s._infoId == i && (n = !0); else if (33 == e) null != s && s._type == a.Data.CardType.monster && s._owner == r && (n = !0); else if (34 == e) {
                    if (null != r._cardToTryUse && r._cardToTryUse._type == i) {
                        var c = r._cardToTryUse._ids[0], l = r.getCardById(c);
                        r._cardToTryUse._type == o.default.UseCardType.round ? c == t[1] && (n = !0) : r._cardToTryUse._type != o.default.UseCardType.h2b && r._cardToTryUse._type != o.default.UseCardType.spell && r._cardToTryUse._type != o.default.UseCardType.swap || null == l || l._infoId != t[1] || (n = !0)
                    }
                } else if (41 == e) r._round == i && (n = !0); else if (42 == e) r._round >= i && (n = !0); else if (43 == e) r._round <= i && (n = !0); else if (44 == e) r.getActionPlayer() == r && (n = !0); else if (45 == e) ; else if (51 == e) r._isAttacker && r.getResult() > a.Data.BattleResult.draw ? n = !0 : r._opponent._isAttacker && r._opponent.getResult() > a.Data.BattleResult.draw && (n = !0); else if (52 == e) r._isAttacker && a.Data.BattleResult.draw < r.getResult() ? n = !0 : r._opponent._isAttacker && r._opponent.getResult() > a.Data.BattleResult.draw && (n = !0); else if (53 == e) {
                    var d = this.getEventById(i);
                    null == d || d._isCasted || (n = !0)
                } else 61 == e ? i == r._gem && (n = !0) : 71 == e && (r._isUsedCard || r._opponent._isUsedCard || (n = !0));
                return n
            }, e.prototype.castEffect = function (e, t, n) {
                var r = !1, _ = this._player, s = this._player._opponent;
                _._actionCard || s._actionCard;
                if (t = t || {}, 1 == e) r = !0; else if (2 == e) {
                    null != (c = i.B.createCardByEvent(t)) && (_.addCardToCards(c), c._type == a.Data.CardType.monster ? null != _.getEmptyBoardPos(c) ? _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.board) : _._handCards.length < a.Data.MAX_CARD_COUNT_IN_HAND ? _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.hand, o.default.CardStatusVal.e2h_self_new) : _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.pile) : _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.board), r = !0)
                } else if (3 == e) {
                    null != (c = i.B.createCardByEvent(t)) && (_._handCards.length < a.Data.MAX_CARD_COUNT_IN_HAND ? _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.hand, o.default.CardStatusVal.e2h_self_new) : _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.pile), r = !0)
                } else if (4 == e) {
                    null != (c = _.getBattleCardsByInfoId("H", t.c.id)[1]) && (_.changeCardStatus(c, o.default.CardStatus.hand, o.default.CardStatus.board), r = !0)
                } else if (5 == e) {
                    null != (c = _.getBattleCardsByInfoId("B", t.c.id)[1]) && (_.changeCardStatus(c, o.default.CardStatus.board, o.default.CardStatus.grave), r = !0)
                } else if (6 == e || 17 == e) ; else if (7 == e) r = !0; else if (8 == e) ; else if (9 == e) r = !0; else if (10 == e) r = !0; else if (11 == e) r = !0; else if (12 == e) {
                    null != (c = i.B.createCardByEvent(t)) && (_.addCardToCards(c), _.changeCardStatus(c, o.default.CardStatus.leave, o.default.CardStatus.pile), r = !0)
                } else if (13 == e) r = !0; else if (14 == e) r = !0; else if (15 == e) r = !0; else if (16 == e) r = !0; else if (18 == e) {
                    var c;
                    (c = _._fortress)._hpInc = c._hpInc + t.hp, c._maxHpInc = c._hpInc > 0 ? c._hpInc : 0, c._haloedMaxHpInc = c._maxHpInc, c._hp = Math.max(c._maxHp + c._hpInc, 0)
                } else 19 == e ? r = !0 : 20 == e ? r = !0 : 21 == e ? r = !0 : 22 == e ? r = !0 : 51 == e || 52 == e || 53 == e || 54 == e || 55 == e ? r = !0 : 61 == e ? r = !0 : 81 == e && (r = !0);
                r && (n._isCasted = !0)
            }, e.prototype.getEventById = function (e) {
                for (var t = 1; t <= this._events.length; t++) {
                    var n = this._events[t];
                    if (n._id == e) return n
                }
                return null
            }, e.EventType = {
                battle_start: 1,
                battle_end: 2,
                round_begin: 3,
                round_end: 4,
                try_use_card: 5,
                do_use_card: 6,
                after_status_change: 7,
                before_status_change: 8,
                all_cards_died: 10,
                fortress_died: 11,
                card_use: 13,
                card_die: 14,
                card_deal: 15
            }, e
        }();
        n.default = r, cc._RF.pop()
    }, {"../../data/data": "data", "./BattleData": "BattleData", "./BattlleCardStatus": "BattlleCardStatus"}],
    BattleHelpForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "02d10pAcOxJr5TGCcjA8qpa", "BattleHelpForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.BattleHelpForm = a, cc._RF.pop()
    }, {}],
    BattleHelper: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "70bfbalOMZMbZQsatQMhbgA", "BattleHelper"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattlleCardStatus"), o = e("./BattleData"), r = function () {
            function e(e) {
                this._player = e
            }

            return e.prototype.changeCardStatus = function (e, t, n, r, _) {
                void 0 === r && (r = null), void 0 === _ && (_ = null), 39999 == e._infoId && cc.log("---"), null == e && cc.log("card can't be null");
                var s = this._player;
                (n != o.default.CardStatus.grave || e._isTroopCard) && (t != o.default.CardStatus.board || n != o.default.CardStatus.hand && n != o.default.CardStatus.pile || e._isTroopCard) || (n = o.default.CardStatus.leave);
                var c = {};
                if (c._card = e, c._sourceStatus = t, c._destStatus = n, c._statusVal = r, c._triggerCard = _, s.getActionPlayer()._cardStatusToChange.push(c), e.isMonster() && t == o.default.CardStatus.board && n != o.default.CardStatus.board) {
                    if (null != (u = e._binds[0])) {
                        if (e._prevBindCard = u, e.removeBind(e._binds[0]), u.removeBind(e), !u.hasChangeStatusUnderSkill([o.default.CardStatus.grave, o.default.CardStatus.leave]) && r != o.default.CardStatusVal.b2l_evolve) {
                            var l = u.hasSkills([6042]) ? o.default.CardStatus.hand : n == o.default.CardStatus.hand ? n : o.default.CardStatus.grave;
                            this.changeCardStatus(u, u._status, l)
                        }
                    } else e._prevBindCard = null;
                    for (var d = e._baseCard; null != d && r != o.default.CardStatusVal.b2l_evolve;) {
                        s.changeCardStatus(d, d._status, o.default.CardStatus.grave);
                        var p = d._baseCard;
                        d._baseCard = null, d = p
                    }
                    r != o.default.CardStatusVal.b2l_evolve && (e._baseCard = null)
                } else if (e.isMonster() && t != o.default.CardStatus.board && n == o.default.CardStatus.board) e._prevBindCard = null, e._isEvolved = !0; else if ((e._type == a.Data.CardType.magic || e._type == a.Data.CardType.trap) && t == o.default.CardStatus.show && n != o.default.CardStatus.show) {
                    var u = e._binds[0];
                    i.B.isAlive(u) ? (e._prevBindCard = u, e.removeBind(u), u.removeBind(e)) : e._prevBindCard = null
                }
            }, e.prototype.changeCardPos = function (e, t) {
                var n = this._player, a = {};
                a._card = e, a._type = t, n.getActionPlayer()._cardPosToChange.push(a)
            }, e.prototype.changeEvent = function (e, t) {
                var n = this._player, a = {};
                a._event = e, a._type = t, n.getActionPlayer()._eventToChange.push(a)
            }, e.prototype.removeCardFromPile = function (e) {
                for (var t = this._player, n = 1; n <= t._pileCards.length; n++) if (t._pileCards[n - 1]._id == e._id) {
                    t._pileCards.splice(n - 1, 1);
                    break
                }
                for (n = 1; n <= t._pileCards.length; n++) {
                    t._pileCards[n - 1]._pos = n
                }
                e.saveAndReset()
            }, e.prototype.removeCardFromHand = function (e) {
                var t = this._player;
                t._handCards.splice(e._pos - 1, 1);
                for (var n = 1; n <= t._handCards.length; n++) {
                    t._handCards[n - 1]._pos = n
                }
                e.saveAndReset()
            }, e.prototype.removeCardFromBoard = function (e) {
                var t = this._player,
                    n = e._statusVal == o.default.CardStatusVal.b2b_oppo_once || e._statusVal == o.default.CardStatusVal.b2h_oppo_once,
                    a = e._statusVal == o.default.CardStatusVal.b2b_oppo_once || e._statusVal == o.default.CardStatusVal.b2b_oppo_forever || e._statusVal == o.default.CardStatusVal.b2b_oppo_rob_horse;
                (a || e._statusVal == o.default.CardStatusVal.b2h_oppo || e._statusVal == o.default.CardStatusVal.b2p_oppo || e._statusVal == o.default.CardStatusVal.b2h_oppo_once) && e._owner.removeCardToOppo(e), n && (e._isBorrowed ? e._isBorrowed = !1 : (t._macroStatus != o.default.Status.use && t._opponent._macroStatus != o.default.Status.use && (e._saved._pos = e._pos), e._isBorrowed = !0)), e.isMonster() && (t._boardCards[e._pos] = null, e._prevPower = e.getBuffValue(!0, o.default.PositiveType.powerMark)), a || e.saveAndReset()
            }, e.prototype.removeCardFromGrave = function (e) {
                var t = this._player;
                e._statusVal == o.default.CardStatusVal.g2h_oppo && e._owner.removeCardToOppo(e), t._graveCards.splice(e._pos - 1, 1);
                for (var n = 1; n <= t._graveCards.length; n++) {
                    t._graveCards[n - 1]._pos = n
                }
                e.saveAndReset()
            }, e.prototype.removeCardFromLeave = function (e) {
                e.saveAndReset()
            }, e.prototype.removeCardFromEnergy = function (e) {
                var t = this._player;
                t._energyCards.splice(e._pos - 1, 1);
                for (var n = 1; n <= t._energyCards.length; n++) {
                    t._energyCards[n - 1]._pos = n
                }
                e.saveAndReset()
            }, e.prototype.addCardToPile = function (e) {
                var t = this._player, n = 1;
                e._statusVal == o.default.CardStatusVal.x2p_top ? n = 1 : e._statusVal == o.default.CardStatusVal.x2p_bottom ? n = t._pileCards.length + 1 : null != e._saved._pos && e._saved._pos > 0 && e._saved._pos <= t._pileCards.length + 1 && (n = e._saved._pos), t._pileCards.splice(n - 1, 0, e);
                for (var a = 1; a <= t._pileCards.length; a++) {
                    t._pileCards[a - 1]._pos = a
                }
                e._status = o.default.CardStatus.pile, e._saved = {}
            }, e.prototype.addCardToHand = function (e) {
                var t = this._player;
                if (t._handCards.length == a.Data.MAX_CARD_COUNT_IN_HAND) return e._destStatus = o.default.CardStatus.grave, void t.addCardToGrave(e);
                var n = t._handCards.length;
                if (39999 != e._infoId) for (; null != t._handCards[n - 1] && 39999 == t._handCards[n - 1]._infoId;) n -= 1;
                t._handCards.splice(n, -1, e), e._pos = t._handCards.length;
                for (var i = 1; i <= t._handCards.length; i++) t._handCards[i - 1]._pos = i;
                e._status = o.default.CardStatus.hand, e._saved = {}
            }, e.prototype.addCardToBoard = function (e) {
                var t = this._player;
                if (e.isMonster()) {
                    var n = e._saved._pos && t.isBoardPosEmpty(e._saved._pos) ? e._saved._pos : t.getEmptyBoardPos(e);
                    if (e._saved._pos = null, null != n) {
                        if (t._boardCards[n] = e, e._pos = n, null != e._saved._bind && (e.addBind(e._saved._bind), e._saved._bind._equipTarget = e, e._saved._bind.addBind(e), e._saved._bind = null), e._type == a.Data.CardType.monster && (e._monsterTarget = e._saved._monsterTarget), null != e._saved._addSkills) {
                            for (var r = 1; r <= e._saved._addSkills.length; r++) e.addSkill(e._saved._addSkills[r], 1, o.default.SkillProvider.given);
                            e._saved._addSkills = null
                        }
                        if (null != e._saved._powerMark && e._saved._powerMark > 0) {
                            e._positiveStatus[o.default.PositiveType.powerMark] = !0, e._positiveValues[o.default.PositiveType.powerMark] = e._saved._powerMark;
                            for (r = 1; r <= e._saved._powerMark; r++) {
                                var _ = {
                                    _sid: 0,
                                    _value: 1,
                                    _removable: !0,
                                    _mode: 0,
                                    _cid: 0,
                                    _positiveType: o.default.PositiveType.powerMark,
                                    _aggregateType: a.Data.AggregateType.sum
                                };
                                e._underSkills.push(_)
                            }
                        }
                        if (null != e._saved._powerMark && e._saved._newPowerMark > 0) {
                            e._positiveStatus[o.default.PositiveType.powerMark] = !0, e._positiveValues[o.default.PositiveType.powerMark] = e._saved._newPowerMark;
                            for (r = 1; r <= e._saved._newPowerMark; r++) {
                                _ = {
                                    _sid: 0,
                                    _value: 1,
                                    _removable: !0,
                                    _mode: 0,
                                    _cid: 0,
                                    _positiveType: o.default.PositiveType.powerMark,
                                    _aggregateType: a.Data.AggregateType.sum
                                };
                                e._underSkills.push(_);
                                var s = i.B.createCard(39999);
                                s._isTroopCard = !0, s._status = o.default.CardStatus.leave, t.addCardToCards(s)
                            }
                        }
                        t._isSummoned = !0, t._summonedMonsterCounts[e._infoId] = (t._summonedMonsterCounts[e._infoId] || 0) + 1, e._summonStatusVal = e._statusVal, e._summonRound = t._round, t._totalSummonedMonsterCount[e._info._level + 1] = t._totalSummonedMonsterCount[e._info._level + 1] + 1
                    } else e._destStatus = o.default.CardStatus.grave, t.addCardToGrave(e)
                }
                e._status = o.default.CardStatus.board, e._isBorrowed || (e._saved = {})
            }, e.prototype.addCardToGrave = function (e) {
                var t = this._player;
                e._sourceStatus == o.default.CardStatus.board && e._statusVal != o.default.CardStatusVal.b2g_degrade && e._statusVal != o.default.CardStatusVal.b2g_degrade2 && (e._owner._ball = Math.max(e._owner._ball - 1, 0)), t._graveCards.push(e), e._type == a.Data.CardType.magic ? e._magicTarget = e._saved._magicTarget : e._type == a.Data.CardType.trap && (e._trapTarget = e._saved._trapTarget), e._status = o.default.CardStatus.grave, e._pos = t._graveCards.length, e._saved = {}, e.setDieStat()
            }, e.prototype.addCardToLeave = function (e) {
                var t = this._player;
                e._status = o.default.CardStatus.leave, e._type == a.Data.CardType.magic ? e._magicTarget = e._saved._magicTarget : e._type == a.Data.CardType.trap && (e._trapTarget = e._saved._trapTarget), e._statusVal == o.default.CardStatusVal.h2l_temp && t._tempLeaveCards.push(e), e.setDieStat()
            }, e.prototype.addCardToEnergy = function (e) {
                var t = this._player;
                t._energyCards.push(e), e._pos = t._energyCards.length + 1, e._saved = {}, e._status = o.default.CardStatus.energy
            }, e
        }();
        n.BattleHelper = r, cc._RF.pop()
    }, {"../../data/data": "data", "./BattleData": "BattleData", "./BattlleCardStatus": "BattlleCardStatus"}],
    BattleInputUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "67770ghibhKKJa16aifhGyR", "BattleInputUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data/data"), i = e("../../nox"), o = e("../const/SceneId"), r = e("../StringEnums"),
            _ = e("../../leocool/lcStr"), s = e("../../leocool/lcAppCfg"), c = e("../battle/data/BattleData"),
            l = e("../scene/SceneManager"), d = function () {
                return function () {
                    this._bossLevel = null, this._isUnionBoss = null, this._assistantHp = null
                }
            }();
        n.BattleInputCharacter = d;
        var p = function () {
            return function () {
            }
        }();
        n.BattlePlayerInfo = p;
        var u = function () {
            return function () {
                this._bossLevel = null, this._needForward = !1, this._replayingLog = null
            }
        }();
        n.BattleInput = u, function (e) {
            function t(e) {
                for (var t = a.Data._guidanceInfo[e], n = [], i = [], o = [], r = [], _ = 0, s = 0, c = 1, l = 1, d = 1; d <= 2; ++d) {
                    var p = 1 == d ? n : o, u = 1 == d ? i : r, g = a.Data._troopInfo[1 == d ? t._card : t._oppoCard];
                    1 == d ? (_ = g._fortressHp, c = g._picId[0]) : (s = g._fortressHp, l = g._picId[0]);
                    for (var h = 0; h < g._infoId.length; ++h) p.push({
                        info_id: g._infoId[h],
                        num: g._num[h]
                    }), u.push({info_id: g._infoId[h], level: g._level[h]})
                }
                return {
                    troopCards: n,
                    cardLevels: i,
                    fortressHp: _,
                    avatar: c,
                    oppoTroopCards: o,
                    oppoCardLevels: r,
                    oppoFortressHp: s,
                    oppoAvatar: l
                }
            }

            function n(e, t) {
                var n = t._sceneSkills;
                n[0] && n[0][0] && n[0][0] > 0 && (e._opponent._fortressSkill = {
                    _id: t._sceneSkills[0][0],
                    _level: t._sceneSkills[0][1]
                }), n[1] && n[1][0] && n[1][0] > 0 && (e._player._fortressSkill = {
                    _id: t._sceneSkills[1][0],
                    _level: t._sceneSkills[1][1]
                })
            }

            function p(t) {
                if (t) e._fromSceneId = t; else {
                    var n = l.SceneManager.getRunningScene();
                    null == n || n._sceneId != o.SceneId.city && n._sceneId != o.SceneId.world ? e._fromSceneId = o.SceneId.city : e._fromSceneId = n._sceneId
                }
            }

            function g(t) {
                cc.log("BATTLE RANDOM SEED   ", t.random_seq[0]);
                var n = t.player_troop.info || {}, o = t.opponent_troop.info || {}, r = new u;
                return r._type = t.type, r._timestamp = t.timestamp, r._copyId = t.copy_id, r._levelId = t.level_id, r._isOppoOnline = t.is_op_online || !1, r._isAttacker = t.is_attacker || !1, r._isWatcher = t.is_watcher || !1, r._randomSeed = t.random_seq && t.random_seq.length > 0 ? t.random_seq[0] : null, r.opponentRemainTime = Math.floor(t.opponent_remain_time / 1e3), r.playerRemainTime = Math.floor(t.player_remain_time / 1e3), r._player = new d, r._opponent = new d, r._player._name = i.nox.D(n.name, ""), r._player._level = i.nox.D(n.level, 0), r._player._vip = i.nox.D(n.vip, 0), r._player._avatar = i.nox.D(n.avatar, 0), r._player._region = n.rid, r._player._avatarFrame = n.avatar_frame, r._player._cardBackId = 0 == n.card_back ? a.Data.PropsId.card_back : n.card_back, r._player._isNpc = n.is_npc, r._player._troopCards = t.player_troop.cards, r._player._troopLevels = t.player_troop.levels, r._player._troopSkins = t.player_troop.skins, r._player._fortressHp = t.player_troop.hp, r._player._trophy = n.trophy, r._player._idInRoom = t.player_troop.id, r._player._crown = null != n.crown ? {
                    _infoId: n.crown.info_id,
                    _num: n.crown.num
                } : null, r._player._avatarFrameCount = null != n.avatar_frame_count ? n.avatar_frame_count : 0, r._player._usedCards = t.player_used_cards && t.player_used_cards.length > 0 ? t.player_used_cards : null, r._opponent._name = i.nox.D(o.name, ""), r._opponent._level = i.nox.D(o.level, 0), r._opponent._vip = i.nox.D(o.vip, 0), r._opponent._avatar = i.nox.D(o.avatar, 0), r._opponent._region = o.rid, r._opponent._avatarFrame = o.avatar_frame, r._opponent._cardBackId = 0 == o.card_back ? a.Data.PropsId.card_back : o.card_back, r._opponent._bossId = null != t.boss_id ? t.boss_id : 0, r._opponent._isNpc = o.is_npc, r._opponent._troopCards = t.opponent_troop.cards, r._opponent._troopLevels = t.opponent_troop.levels, r._opponent._troopSkins = t.opponent_troop.skins, r._opponent._fortressHp = t.opponent_troop.hp, r._opponent._trophy = o.trophy, r._opponent._idInRoom = t.opponent_troop.id, r._opponent._crown = null != o.crown ? {
                    _infoId: o.crown.info_id,
                    _num: o.crown.num
                } : null, r._opponent._avatarFrameCount = null != o.avatar_frame_count ? o.avatar_frame_count : 0, r._opponent._usedCards = t.opponent_used_cards && t.opponent_used_cards.length > 0 ? t.opponent_used_cards : null, e._isOppoOnline = r._isOppoOnline, e._usedCardsToAdd = [], e._observeUsedCards = [], r
            }

            function h(t) {
                var i = g(t), o = a.Data._levelInfo[i._levelId];
                return i._sceneType = 1, e._battleFromTravel = o, t.type == Battle_pb.BattleType.PB_BATTLE_NPC ? i._battleType = a.Data.BattleType.npc : t.type == Battle_pb.BattleType.PB_BATTLE_PLAYER ? i._battleType = a.Data.BattleType.PVP_revenge : t.type == Battle_pb.BattleType.PB_BATTLE_RESCUE ? i._battleType = a.Data.BattleType.PVP_rescue : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? i._battleType = a.Data.BattleType.PVP_room : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? i._battleType = a.Data.BattleType.PVP_group : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? i._battleType = a.Data.BattleType.PVP_room : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? i._battleType = a.Data.BattleType.PVP_group : t.type == Battle_pb.BattleType.PB_BATTLE_SEASON ? i._battleType = a.Data.BattleType.PVP_room : (i._battleType = a.Data.BattleType.task, i._isExploreAgain = t.type == Battle_pb.BattleType.PB_BATTLE_CITY, i._opponent._name = _.lcStr(a.Data._levelInfo[i._levelId]._nameSid), i._opponent._level = 0, i._conditionIds = o._condition, i._conditionValues = o._value, i._eventIds = o._eventId, i._oppoEventIds = o._oppoEventId, o._storyOppoUsedCards[0] > 0 && null == i._opponent._usedCards && (i._opponent._usedCards = o._storyOppoUsedCards), i._storyRound = o._storyRound, i._storyName = _.lcStr(o._storyName), i._sceneType = 1, n(i, o)), i
            }

            function f(t) {
                var i = g(t), o = a.Data._levelInfo[i._levelId];
                return e._battleFromTravel = o, i._battleType = a.Data.BattleType.sweep, i._opponent._name = _.lcStr(o._nameSid), i._conditionIds = o._condition, i._conditionValues = o._value, i._eventIds = o._eventId, i._oppoEventIds = o._oppoEventId, i._storyRound = o._storyRound, i._storyName = _.lcStr(o._storyName), i._sceneType = 1, n(i, o), i
            }

            function m(t) {
                var i = g(t), o = a.Data._levelInfo[i._levelId];
                return e._battleFromKillBoss = o, i._battleType = a.Data.BattleType.kill_boss, i._opponent._name = _.lcStr(o._nameSid), i._conditionIds = o._condition, i._conditionValues = o._value, i._eventIds = o._eventId, i._oppoEventIds = o._oppoEventId, i._storyRound = o._storyRound, i._storyName = _.lcStr(o._storyName), i._sceneType = 1, n(i, o), i
            }

            function y(e) {
                var t = g(e);
                return t._sceneType = e.opponent_troop.info.id % 4 + 1, null != e.level_id ? (t._battleType = a.Data.BattleType.PVP_revenge, t._levelId = e.level_id) : (t._battleType = a.Data.BattleType.PVP_trophy, p(o.SceneId.find)), t
            }

            function T(e) {
                var t = g(e);
                return t._battleType = a.Data.BattleType.PVP_room, t._sceneType = a.Data.BattleSceneType.gold_scene, p(o.SceneId.in_room), t
            }

            function S(t) {
                var n = g(t);
                return n._battleType = a.Data.BattleType.PVP_group, n._sceneType = a.Data.BattleSceneType.gold_scene, e._battleFromFindIndex = a.Data.FindMatchType.union_battle, p(o.SceneId.find), n
            }

            function C(e) {
                var t = g(e);
                t._sceneType = e.opponent_troop.info.id % 4 + 1, t._battleType = 0 == e.opponent_troop.info.id ? a.Data.BattleType.PVP_clash_npc : a.Data.BattleType.PVP_clash;
                var n = a.Data._activityTaskInfo._pvp._param[3][0];
                return t._eventIds = [n], t._oppoEventIds = [n], p(), t
            }

            function v(e) {
                var t = g(e);
                t._battleType = 0 == e.opponent_troop.info.id ? a.Data.BattleType.PVP_clash_npc : a.Data.BattleType.PVP_clash;
                var n = t._player._trophy, i = t._opponent._trophy;
                t._clashGrade = P._playerFindClash.getGrade(Math.max(n, i)), t._sceneType = 10 + t._clashGrade, t._reportInfo = e.report_info;
                var r;
                return r = t._battleType == a.Data.BattleType.PVP_clash_npc ? e.npc_type + 1 : 5, t._clashOppoType = r, p(o.SceneId.find), t
            }

            function b(e) {
                var t = g(e);
                t._battleType = a.Data.BattleType.PVP_new_clash;
                var n = t._player._trophy, i = t._opponent._trophy;
                t._clashGrade = P._playerFindClash.getGrade(Math.max(n, i)), t._sceneType = 10 + t._clashGrade;
                return 5, t._clashOppoType = 5, p(o.SceneId.find), t
            }

            function E(t) {
                var n = g(t);
                return n._battleType = 0 == t.opponent_troop.info.id ? a.Data.BattleType.PVP_ladder_npc : a.Data.BattleType.PVP_ladder, n._sceneType = 21, e._battleFromFindIndex = a.Data.FindMatchType.ladder, p(o.SceneId.find), n
            }

            function I(e) {
                var t = g(e);
                return t._battleType = a.Data.BattleType.PVP_Season, t._sceneType = 22, p(o.SceneId.city), t
            }

            function A(e) {
                var t = g(e);
                return t._battleType = a.Data.BattleType.PVP_duel, t._sceneType = 22, p(o.SceneId.find), t
            }

            function R(t, n) {
                var i = g(t);
                return n && P._playerExpedition.refresh(n), i._battleType = a.Data.BattleType.copy_expedition, i._sceneType = a.Data.BattleSceneType.gold_scene, e._battleFromCopy = {_type: a.Data.CopyType.expedition}, p(), i
            }

            function B(t, n) {
                var i = g(t);
                if (n) {
                    var o = n;
                    e._expeditionNpcInfos = [];
                    for (var r = 0; r < o.troops.length; ++r) {
                        var _ = {_level: o.troops[r].level, _challengeCount: o.troops[r].chanllenge_count};
                        e._expeditionNpcInfos.push(_)
                    }
                    if (null != o.boss) {
                        var s = o.boss;
                        null == e._expeditionBossInfo && (e._expeditionBossInfo = {_challengeCount: 0}), e._expeditionBossInfo._challengeCount = s.chanllenge_count
                    }
                    e._expeditionCurNpc = o.cur_npc
                }
                return i._battleType = t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION_EX_BOSS ? a.Data.BattleType.expedition_ex_boss : a.Data.BattleType.expedition_ex, i._sceneType = a.Data.BattleSceneType.gold_scene, e._battleFromCopy = {_type: a.Data.CopyType.expeidtion_ex}, p(), i
            }

            function N(t) {
                var n = g(t), i = a.Data._copyInfo[n._copyId];
                return n._opponent._name = _.lcStr(r.STR.COPY_COMMANDER), n._opponent._level = i._level, n._battleType = a.Data.BattleType.copy_commander, n._sceneType = a.Data.BattleSceneType.horse_scene, e._battleFromCopy = i, p(), n
            }

            function D(t) {
                var n = g(t), i = a.Data._bossInfo[n._opponent._bossId];
                return n._opponent._bossId >= 101 && n._opponent._bossId <= 112 ? (n._opponent._bossLevel = P.getToadLevel(n._player._level), e._battleFromCopy = {_type: a.Data.CopyType.boss}) : (n._opponent._bossLevel = 1, n._opponent._isUnionBoss = !0, e._battleFromUnionBoss = i, n._opponent._assistantHp = []), n._opponent._name = _.lcStr(i._nameSid), n._opponent._level = n._opponent._bossLevel, n._battleType = a.Data.BattleType.boss, n._sceneType = i._sceneType, p(), n
            }

            function U(t) {
                var n = g(t);
                n._battleType = a.Data.BattleType.copy_elite;
                var i = [r.STR.BATTLE_ACTIVITY_WEI, r.STR.BATTLE_ACTIVITY_SHU, r.STR.BATTLE_ACTIVITY_WU, r.STR.BATTLE_ACTIVITY_QUN],
                    o = a.Data._copyInfo[n._copyId], s = o._type % 10;
                return n._opponent._name = _.lcStr(i[s]), n._opponent._level = o._level, e._battleFromCopy = o, p(), n
            }

            function M(t) {
                var n = g(t);
                n._battleType = a.Data.BattleType.copy_boss;
                var i = a.Data._copyInfo[n._copyId];
                return n._opponent._name = _.lcStr(r.STR.TROOP_IMMUNITY_PHY), n._opponent._level = i._level, n._sceneType = a.Data.BattleSceneType.exp_scene, e._battleFromCopy = i, p(), n
            }

            function k(e) {
                for (var t = [], n = [], a = 0; a < e.length; ++a) {
                    var i = e[a];
                    t.push({info_id: i._infoId, num: i._num}), n.push({level: 1, info_id: i._infoId})
                }
                return [t, n]
            }

            function L(e) {
                var t = g(e);
                return t._battleType = a.Data.BattleType.PVP_friend, t._sceneType = e.opponent_troop.info.id % 4 + 1, t
            }

            function O(e) {
                var t = g(e);
                return t._battleType = a.Data.BattleType.PVP_union, t._sceneType = a.Data.BattleSceneType.union_scene, t
            }

            e._fromSceneId = null, e._isOppoOnline = !1, e._usedCardsToAdd = [], e._observeUsedCards = [], e._battleFromTravel = null, e._battleFromTeach = null, e._battleFromKillBoss = null, e._battleFromVisit = null, e._battleFromFindIndex = null, e._battleFromCopy = null, e._expeditionNpcInfos = null, e._expeditionBossInfo = null, e._expeditionCurNpc = null, e._battleFromUnionBoss = null, e._replayingLog = null, e.genGuidanceTroop = t, e.addSceneSkills = n, e.setBattleFromSceneId = p, e.genInputFromTeach = function (e) {
                var t = new u;
                return t._battleType = a.Data.BattleType.teach, t._type = null, t._timestamp = 0, t._levelId = null, t._isOppoOnline = !1, t._isAttacker = !0, t._player = new d, t._opponent = new d, t._player._vip = 0, t._player._level = 1, t._player._name = P._name || "Attacker", t._opponent._vip = 0, t._opponent._level = 1, t._opponent._name = "Defender", t._player._isNpc = !0, t._opponent._isNpc = !0, t._player._troopCards = [], t._player._troopLevels = [], t._player._troopSkins = [], t._opponent._troopCards = [], t._opponent._troopLevels = [], t._opponent._troopSkins = [], t._player._fortressHp = 4, t._opponent._fortressHp = 4, t._player._usedCards = [], t._opponent._usedCards = [], t._eventIds = [], t._oppoEventIds = [], t._storyRound = 0, t._storyName = "", t._sceneType = a.Data.BattleSceneType.forest_scene, t._randomSeed = 0, t._opponent._avatar = 1, t._player._avatar = P._avatar, this._isOppoOnline = !1, c.default.resetBattleUseCardList(), t
            }, e.genInputFromResp = g, e.genInputFromAttackResp = h, e.genInputFromChallengeResp = f, e.genInputFromKillBossResp = m, e.genInputFromFindStartResp = y, e.genInputFromMatchResp = T, e.genInputFromGroupResp = S, e.genInputFromActivityPvpResp = C, e.genInputFromLadderPvpResp = v, e.genInputFromNewLadderPvpResp = b, e.genInputFromLadderExPvpResp = E, e.genInputFromSeasonPvpResp = I, e.genInputFromDuelExPvpResp = A, e.genInputFromExpeditionResp = R, e.genInputFromExpeditionExResp = B, e.genInputFromCommanderResp = N, e.genInputFromBossResp = D, e.genInputFromEliteResp = U, e.genInputFromRobExpResp = M, e.getAttackUserFromInput = function (e) {
                return e._isAttacker ? e._player : this._opponent
            }, e.genRecommendTrainInput = function (t) {
                var n, r = new u;
                return r._type = a.Data.BattleType.recommend_train, r._timestamp = 0, r._copyId = t.copy_id, r._levelId = t.level_id, r._isOppoOnline = !1, r._isAttacker = !0, r._isWatcher = !1, r._opponent = new d, r._opponent._name = _.lcStr(i.nox.toNumber(t.opponent_troop.info.name)), r._opponent._avatar = t.opponent_troop.info.avatar ? t.opponent_troop.info.avatar : 100 * (t.opponent_troop.id - 3e3) + 1, r._opponent._level = t.opponent_troop.info.level, r._opponent._troopCards = t.opponent_troop.cards, r._opponent._troopLevels = t.opponent_troop.levels, r._opponent._troopSkins = t.opponent_troop.skins, r._opponent._fortressHp = t.opponent_troop.hp, r._opponent._usedCards = [], r._opponent._vip = 0, r._opponent._isNpc = !1, r._player = new d, r._player._usedCards = [], r._player._region = P._rid, r._player._avatar = P._avatar || 0, r._player._vip = P._vip || 0, r._player._level = P._level || 0, r._player._name = i.nox.D(P._name, ""), r._player._cardBackId = P._cardBackId, r._player._avatarFrame = P._avatarFrameId, r._player._isNpc = !1, n = k(P._playerCard.getTroop(P._curTroopIndex, !0)), r._player._troopCards = n[0], r._player._troopLevels = n[1], r._player._troopSkins = [], r._player._fortressHp = 4, r._player._crown = P._crown, r._player._avatarFrameCount = 0, r._randomSeed = i.nox.randomI(1, 65536) - 1, r._battleType = a.Data.BattleType.recommend_train, r._sceneType = a.Data.BattleSceneType.pvp_room_scene, e._isOppoOnline = r._isOppoOnline, e.setBattleFromSceneId(o.SceneId.city), c.default.resetBattleUseCardList(), r
            }, e.genInputFromReplayResp = function (t) {
                var n;
                return t.type == Battle_pb.BattleType.PB_BATTLE_CHAPTER || t.type == Battle_pb.BattleType.PB_BATTLE_NPC || t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_BOSS ? (n = h(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_CITY ? (n = f(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_ELITE ? (n = U(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_COMMANDER ? (n = N(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_EXP ? (n = M(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_GOLD || t.type == Battle_pb.BattleType.PB_BATTLE_UNION_BOSS ? (n = D(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION ? (n = R(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION_EX || t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION_EX_BOSS ? (n = B(t))._replayingLog = null : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? (n = v(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_EX ? (n = b(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX ? (n = E(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? (n = T(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? (n = S(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? (n = T(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? (n = S(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY ? (n = A(t))._replayingLog = e._replayingLog : t.type == Battle_pb.BattleType.PB_BATTLE_SEASON ? (n = I(t))._replayingLog = e._replayingLog : ((n = g(t))._battleType = a.Data.BattleType.PVP_trophy, n._sceneType = t.opponent_troop.info.id % 4 + 1, n._replayingLog = e._replayingLog), n._replayBattleType = n._battleType, n._battleType = a.Data.BattleType.replay, n
            }, e.genInputFromRecoverResp = function (t, n) {
                var a, i = e._fromSceneId;
                return t.type == Battle_pb.BattleType.PB_BATTLE_CHAPTER || t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_BOSS || t.type == Battle_pb.BattleType.PB_BATTLE_NPC || t.type == Battle_pb.BattleType.PB_BATTLE_RESCUE ? a = h(t) : t.type == Battle_pb.BattleType.PB_BATTLE_CITY ? a = f(t) : t.type == Battle_pb.BattleType.PB_BATTLE_FRIEND ? a = L(t) : t.type == Battle_pb.BattleType.PB_BATTLE_PLAYER ? a = y(t) : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD ? a = C(t) : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? a = v(t) : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_EX ? a = b(t) : t.type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX ? a = E(t) : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? a = T(t) : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? a = S(t) : t.type == Battle_pb.BattleType.PB_BATTLE_MATCH ? a = T(t) : t.type == Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE ? a = S(t) : t.type == Battle_pb.BattleType.PB_BATTLE_ELITE ? a = U(t) : t.type == Battle_pb.BattleType.PB_BATTLE_COMMANDER ? a = N(t) : t.type == Battle_pb.BattleType.PB_BATTLE_EXP ? a = M(t) : t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION ? a = n.hasExtensions_World_pb_SglWorldMsg_world_refresh_expedition_resp() ? R(t, n.getExtensions_World_pb_SglWorldMsg_world_refresh_expedition_resp()) : R(t) : t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION_EX || t.type == Battle_pb.BattleType.PB_BATTLE_EXPEDITION_EX_BOSS ? a = n.hasExtensions_World_pb_SglWorldMsg_world_get_expedition_ex_resp() ? B(t, n.getExtensions_World_pb_SglWorldMsg_world_get_expedition_ex_resp()) : B(t) : t.type == Battle_pb.BattleType.PB_BATTLE_GOLD || t.type == Battle_pb.BattleType.PB_BATTLE_UNION_BOSS ? a = D(t) : t.type == Battle_pb.BattleType.PB_BATTLE_UNION ? a = O(t) : t.type == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY ? a = A(t) : t.type == Battle_pb.BattleType.PB_BATTLE_KILL_BOSS ? a = m(t) : t.type == Battle_pb.BattleType.PB_BATTLE_SEASON && (a = I(t)), a._needForward = (a._player._usedCards ? a._player._usedCards.length : 0) + (a._opponent._usedCards ? a._opponent._usedCards.length : 0) > 0, p(i), a
            }, e.genInputFromFriendBattleResp = L, e.genInputFromGuidance = function (e) {
                var n = a.Data._guidanceInfo[e];
                if (null == n) return null;
                var i = new u;
                i._type = null, i._timestamp = 0, i._levelId = null, i._isOppoOnline = !1, i._isAttacker = 1 == n._isAttacker, i._player = new d, i._opponent = new d, i._player._name = P._name, i._player._level = 0, i._player._vip = 0, i._opponent._name = _.lcStr(n._oppoNameSid), i._opponent._level = 0, i._opponent._vip = 0, i._player._isNpc = !1, i._opponent._isNpc = !1;
                var o = t(e);
                if (i._player._troopCards = o.troopCards, i._player._troopLevels = o.cardLevels, i._player._fortressHp = o.fortressHp, i._player._avatar = o.avatar, i._opponent._troopCards = o.oppoTroopCards, i._opponent._troopLevels = o.oppoCardLevels, i._opponent._fortressHp = o.oppoFortressHp, i._opponent._avatar = o.oppoAvatar, 0 == i._player._avatar && (i._player._avatar = P._avatar, i._player._initialCharacter = P._initialCharacter, i._player._gender = P._gender), i._opponent._troopSkins = [], i._player._troopSkins = [], i._opponent._usedCards = n._oppoUsedCards, i._player._usedCards = n._usedCards, i._battleType = a.Data.BattleType.guidance, i._sceneType = a.Data.BattleSceneType.laboratory_scene, i._eventIds = n._event, i._oppoEventIds = n._oppoEvent, 1 == e && !s.lcAppCfg.isPlayVideo()) for (var r = 0; r < i._oppoEventIds.length; ++r) if (22 == i._oppoEventIds[r]) {
                    i._oppoEventIds.splice(r, 1);
                    break
                }
                return i._conditionIds = n._conditions, i._needForward = 0 != n._needForward, i._randomSeed = 0, c.default.resetBattleUseCardList(), i
            }, e.genInputFromUnionBattle = O
        }(n.BattleInputUtil || (n.BattleInputUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../StringEnums": "StringEnums",
        "../battle/data/BattleData": "BattleData",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../scene/SceneManager": "SceneManager"
    }],
    BattleInterfaces: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8bc88iUqj9OQ4lNH5RWFvfL", "BattleInterfaces"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
                this._name = "", this._level = 0, this._vip = 0, this._avatar = null, this._crown = null, this._isPvpTimeout = !1, this._attackingCard = null, this._ball = 0, this._maxBall = 0
            }
        }();
        n.BattleInterfaces = a, cc._RF.pop()
    }, {}],
    BattleLine: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6a710tnfKVBC62ebcsWffuw", "BattleLine"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../../utils/SpriteUtil"), o = e("../../../leocool/lcMath"),
            r = e("../../../nox"), _ = function () {
                function e() {
                    this.node = null, this._touchedCard = null, this._targetCard = null, this._startPos = null, this._targetPos = null, this._arrow = null, this._lastPosY = null, this._isAnimation = !1, this._isAniFromBottom = !1, this._scheduleId = null, this.node = a.lc.createNode()
                }

                return e.create = function (t, n) {
                    var a = new e;
                    return a.init(t, n), a
                }, e.prototype.init = function (e, t) {
                    var n = this;
                    this._touchedCard = t, this.node.setAnchorPoint(.5, 0), this.node.setPosition(e), n._arrow = a.lc.createNode(), i.SpriteUtil.addSprite(this._arrow, "bat_arrow_1"), n.addChild(n._arrow, 2), n._segments = [], n._startPos = e, n._scheduleId = r.nox.scheduleInterval(function (e) {
                        n.onSchedule(e)
                    }, 0)
                }, e.prototype.unSchedule = function () {
                    this._scheduleId && (r.nox.unschedule(this._scheduleId), this._scheduleId = null)
                }, e.prototype.onSchedule = function (t) {
                    if (!this._touchedCard || this._touchedCard.canAction() && this._touchedCard.isAlive()) {
                        if (this._isAnimation) {
                            this._arrow.setPosition(this._arrow.getPosition().x, a.lc.y(this._arrow) + e.MOVE_SPEED * t), a.lc.y(this._arrow) >= this._lastPosY && this._arrow.setVisible(!1), a.lc.top(this._arrow) > a.lc.h(this.node) - 90 && (this._arrow.scale > 0 && this._arrow.setScale(this._arrow.scale - e.SCALE_SPEED * t), this._arrow.opacity > 0 && (this._arrow.opacity = this._arrow.opacity - e.OPACITY_SPEED * t));
                            for (var n = 0; n < this._segments.length; n++) this._segments[n].y = a.lc.y(this._segments[n]) + e.MOVE_SPEED * t, a.lc.y(this._segments[n]) >= this._lastPosY || a.lc.y(this._segments[n]) <= 0 ? this._segments[n].setVisible(!1) : this._segments[n].setVisible(!0), a.lc.top(this._segments[n]) > a.lc.h(this.node) - 90 && (this._segments[n].scale > 0 && (this._segments[n].scale = this._segments[n].scale - e.SCALE_SPEED * t), this._segments[n].opacity > 0 && (this._segments[n].opacity = this._segments[n].opacity - e.OPACITY_SPEED * t));
                            (this._segments.length > 0 ? a.lc.bottom(this._segments[this._segments.length - 1]) : a.lc.bottom(this._arrow)) >= this._lastPosY && (this.resetToPos(0), this._arrow.setVisible(!0))
                        }
                    } else this.removeFromParent(!0)
                }, e.prototype.resetToPos = function (e) {
                    this._isAniFromBottom = !1, this._arrow.y = e, this._arrow.scale = 1, this._arrow.opacity = 255;
                    for (var t = a.lc.bottom(this._arrow) - 10, n = 0; n < this._segments.length; n++) this._segments[n].y = t - a.lc.h(this._segments[n]) / 2, this._segments[n].scale = 1, this._segments[n].opacity = 255, t = a.lc.bottom(this._segments[n]) - 10
                }, e.prototype.directTo = function (e, t) {
                    var n = i.SpriteUtil.frameFullSize("bat_arrow_2");
                    this._arrow.setVisible(!0);
                    var r = o.lcMath.calcDistance(e, this._startPos);
                    if (r < 70 && (r = 70), this.node.setContentSize(120, r), this.node.setRotation(90 - o.lcMath.deg(o.lcMath.pToAngleSelf(o.lcMath.pSub(e, this._startPos)))), this._isAnimation = !1, this._targetCard != t || null == t) {
                        for (var _ = 0; _ < this._segments.length; _++) this._segments[_].removeFromParent();
                        var s = this._segments;
                        this._segments = [], this._lastPosY = a.lc.h(this.node) - a.lc.h(this._arrow) / 2, this._arrow.setPosition(a.lc.w(this.node) / 2, a.lc.h(this.node) - a.lc.h(this._arrow) / 2), this._arrow.scale = 1, this._arrow.opacity = 255;
                        for (var c = a.lc.bottom(this._arrow) - 10; ;) {
                            var l = s[this._segments.length];
                            if (null == l && (l = a.lc.createNode(), i.SpriteUtil.addSprite(l, "bat_arrow_2")), l.scale = 1, l.opacity = 255, l.active = !0, l.setPosition(a.lc.w(this.node) / 2, c - n.height / 2), this.addChild(l), this._segments.push(l), (c = a.lc.bottom(l) - 10) <= 0) break
                        }
                        if (this._targetCard != t && (null != this._targetCard && (this._targetCard.udpateDirectToSelected(!1), this._targetCard.stopActionByTag(255), this._targetCard.setPosition(this._targetPos), this._targetCard.setScale(1), this._targetCard = null), this._targetCard = t, null != t)) {
                            this._targetPos = t.getPosition();
                            var d = cc.repeatForever(a.lc.sequence(cc.scaleTo(.5, 1.1), cc.scaleTo(.5, 1)));
                            d.setTag(255), t.runAction(d), t.udpateDirectToSelected(!0)
                        }
                    } else this._isAnimation = !0
                }, e.prototype.removeFromParent = function (e) {
                    void 0 === e && (e = null), this.node.removeFromParent(e)
                }, e.prototype.addChild = function (e, t, n) {
                    this.node.addChild(e, t, n)
                }, e.MOVE_SPEED = 400, e.SCALE_SPEED = 1, e.OPACITY_SPEED = 255, e
            }();
        n.BattleLine = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcMath": "lcMath",
        "../../../nox": "nox",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    BattleListDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "77960AJ/tZMgIS5Hdx3YLei", "BattleListDialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../ui/widget/MaskLayer"), o = e("../../ui/node/NodeWithListView"), r = e("../../const/ViewConst"),
            _ = e("../../utils/CardUtil"), s = e("../../../leocool/lc"), c = e("../../const/ZOrder"),
            l = e("../../utils/UIUtil"), d = e("../../config/UICfg"), p = e("../../utils/SpriteUtil"),
            u = e("../../../nox"), g = e("../../../leocool/lcStr"), h = e("../../StringEnums"),
            f = e("../../ui/node/NodeWithLabel"), m = e("../../ui/panel/CardInfoPanel"),
            y = e("../../ui/node/NodeWithShaderButton"), T = e("../../utils/SpineUtil"), S = u.nox.toNumber,
            C = e("../data/BattleData"), v = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._ui = null, t._button = null, t._cards = [], t._list = null, t._selectedList = {}, t._allCards = [], t._callbackHide = null, t._checkFunction = null, t._confirmFunction = null, t._cancelFunction = null, t._ignoreCancel = !1, t._choice = null, t
                }

                return a(t, e), t.create = function (e, n, a, i) {
                    void 0 === a && (a = null), void 0 === i && (i = null);
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t.prototype.init = function (e, n, a, i) {
                    this._ui = e;
                    var c = this;
                    if (this._mode = a, this._cardInfos = n, a == t.Mode.grave_list) {
                        var u = "mine" == i ? "img_form_title_bg_3" : "enemy" == i ? "img_form_title_bg_4" : "img_form_title_bg_5",
                            m = p.SpriteUtil.createSprite(u).node;
                        this.node.addChild(m), m.setPosition(new cc.Vec2(r.ViewConst.SCR_CW, r.ViewConst.SCR_H - 80))
                    } else {
                        var T = f.NodeWithLabel.createTTF(i, 24, d.UICfg.COLOR_TEXT_RED);
                        this.node.addChild(T), T.setPosition(new cc.Vec2(r.ViewConst.SCR_CW, r.ViewConst.SCR_H - 80))
                    }
                    if (n.length < 5) for (var S, C = function (e) {
                        var a = n[e], i = _.CardUtil.CardFrame.create(a._infoId, 0, 0), o = i.node;
                        o.setScale(.5);
                        var l = y.NodeWithShaderButton.createShaderButton(null, function () {
                            cc.log("click me"), c.onSelectItem(i, e)
                        });
                        v._allCards.push(i), l.setContentSize(t.ITEM_SIZE), l.setAnchorPoint(new cc.Vec2(.5, .5)), o.addChild(l), c.creatBuff(a, o), c.addTopLabel(a, o), S = cc.v2(r.ViewConst.SCR_CW + 485 * (e + 1 - (c._cardInfos.length + 1) / 2) * .5, r.ViewConst.SCR_CH), s.lc.addChildToPosLB(c.node, o, S)
                    }, v = this, b = 0; b < n.length; b++) C(b); else {
                        var E = o.NodeWithListView.createH(cc.size(r.ViewConst.SCR_W, t.ITEM_SIZE.height / 2 + 100), 5, -240);
                        E.setAnchorPoint(new cc.Vec2(.5, .5));
                        var I = function (e) {
                            var a = n[e], i = _.CardUtil.CardFrame.create(a._infoId, 0, 0), o = i.node;
                            o.setScale(.5);
                            var r = y.NodeWithShaderButton.createShaderButton(null, function () {
                                cc.log("click me"), c.onSelectItem(i, e)
                            });
                            P._allCards.push(i), r.setContentSize(t.ITEM_SIZE), r.setAnchorPoint(new cc.Vec2(.5, .5)), o.addChild(r), E.pushBackCustomItem(o), c.creatBuff(a, o), c.addTopLabel(a, o)
                        }, P = this;
                        for (b = 0; b < n.length; b++) I(b);
                        s.lc.addChildToCenter(this.node, E), E.setPosition(r.ViewConst.SCR_CW, r.ViewConst.SCR_CH), this._list = E
                    }
                    var A = l.UIUtil.createScale9ShaderButton("img_btn_green_s", function () {
                        cc.log(" confirm"), c.confirm()
                    }, d.UICfg.CRECT_BUTTON_S, 150);
                    A.addLabel(g.lcStr(h.STR.OK), null, d.UICfg.FontSize.M2), s.lc.addChildToPosAR(this.node, A, new cc.Vec2(r.ViewConst.SCR_CW, 60)), this._button = A, A.setEnabled(!1), A.setVisible(a != t.Mode.grave_list), this.updateView()
                }, t.prototype.onTouchBegan = function (e) {
                    return e.getLocation().y < r.ViewConst.SCR_CH - t.ITEM_SIZE.height / 4 && this.cancel(), !0
                }, t.prototype.getTouchCard = function (e) {
                    function t(t) {
                        if (!t.active) return !1;
                        var n = t.getContentSize().width * t.scaleX, a = t.getContentSize().height * t.scaleY,
                            i = t.getPosition().x - n / 2, o = t.getPosition().y - a / 2 + r.ViewConst.SCR_CH,
                            _ = cc.rect(i, o, n, a), s = e.getLocationX(), c = e.getLocationY(), l = new cc.Vec2(s, c);
                        return !!_.contains(l)
                    }

                    for (var n = 0; n < this._cards.length; n++) {
                        var a = this._cards[n];
                        if (t(a)) return a
                    }
                    return null
                }, t.prototype.creatBuff = function (e, t) {
                    for (var n = 0; n < C.default.NEGATIVE_COMMON.length; n++) if (e.hasBuff(!1, C.default.NEGATIVE_COMMON[n])) {
                        0 == n ? "bat_ico_buff_sleep" : 1 == n ? "bat_ico_buff_poison" : 2 == n ? "bat_ico_buff_burn" : 3 == n ? "bat_ico_buff_numb" : 4 == n && "bat_ico_buff_chaos"
                    }
                }, t.prototype.addTopLabel = function (e, t) {
                    var n;
                    if (null != e._status) {
                        var a = null != this._ui && g.lcStr(e._owner == this._ui._player && h.STR.SELF || h.STR.OPPONENT) || "",
                            i = ((n = {})[C.default.CardStatus.board] = 1 == e._pos && h.STR.BATTLE_BOARD_MAIN || h.STR.BATTLE_BOARD, n[C.default.CardStatus.hand] = h.STR.BATTLE_HAND, n[C.default.CardStatus.grave] = h.STR.BATTLE_GRAVE, n[C.default.CardStatus.pile] = h.STR.TROOP, n);
                        if (e._status != C.default.CardStatus.leave) {
                            var o = null;
                            o = e._owner == this._ui._player && 2 == e._status ? l.UIUtil.createTTFBold(g.lcStr(h.STR.Group_card) || "", d.UICfg.FontSize.B1) : l.UIUtil.createTTFBold(i[e._status] && a + g.lcStr(i[e._status]) || "", d.UICfg.FontSize.B1), s.lc.addChildToPosAR(t, o, cc.p(0, 480))
                        }
                    }
                }, t.prototype.show = function () {
                    this._ui._battleUi.addChild(this.node, c.ZOrder.dialog + 2)
                }, t.prototype.hide = function () {
                    this._ui.hideOperateDialogs(), this._callbackHide && this._callbackHide()
                }, t.prototype.setChoiceFunction = function (e, t, n) {
                    this._checkFunction = e, this._confirmFunction = t, this._cancelFunction = n
                }, t.prototype.onSelectItem = function (e, n) {
                    this._mode == t.Mode.grave_list ? m.CardInfoPanel.create(e._infoId, m.CardInfoPanel.OperateType.na).show() : this._mode != t.Mode.choice && this._mode != t.Mode.merge && this._mode != t.Mode.exchange || (this.isInSelectedList(n) ? this.removeFromSelectedList(n) : this.addToSelectedList(n))
                }, t.prototype.addToSelectedList = function (e) {
                    if (1 == this._choice) for (var t in this._selectedList) this._selectedList[t] = !1;
                    this._selectedList[e] = !0, this.updateView()
                }, t.prototype.removeFromSelectedList = function (e) {
                    this._selectedList[e] = !1, this.updateView()
                }, t.prototype.removeAllFromSelectedList = function () {
                    this._selectedList = {}, this.updateView()
                }, t.prototype.isInSelectedList = function (e) {
                    return this._selectedList[e]
                }, t.prototype.cancel = function () {
                    this._ignoreCancel || (this._cancelFunction && this._cancelFunction(this), this.hide())
                }, t.prototype.confirm = function () {
                    this._confirmFunction && this._confirmFunction(this), this.hide()
                }, t.prototype.getSelectedCount = function () {
                    var e = 0;
                    for (var t in this._selectedList) this._selectedList[t] && (e += 1);
                    return e
                }, t.prototype.getSelectedCards = function () {
                    var e = [];
                    for (var t in this._selectedList) this._selectedList[t] && e.push(this._cardInfos[S(t)]);
                    return e
                }, t.prototype.isChoiceSatisfied = function () {
                    return !!this._checkFunction && this._checkFunction(this)
                }, t.prototype.updateView = function () {
                    for (var e = 0; e < this._allCards.length; e++) {
                        var t = this._allCards[e];
                        if (this.isInSelectedList(e)) {
                            if (null == t._glow) {
                                var n = T.SpineUtil.createSpineAnim("xuanzhong", "default", "animation1", !0);
                                s.lc.addChildToCenter(t.node, n, -1), t._glow = n, n.setScale(1.8)
                            }
                        } else null != t._glow && (t._glow.removeFromParent(), t._glow = null)
                    }
                    this._button && this._button.setEnabled(this.isChoiceSatisfied())
                }, t.Mode = {
                    choice: 2,
                    grave_list: 1,
                    exchange: 6,
                    single_choice: 3,
                    merge: 5
                }, t.ITEM_SIZE = cc.size(485, 673), t
            }(i.MaskLayer);
        n.BattleListDialog = v, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../const/ZOrder": "ZOrder",
        "../../ui/node/NodeWithLabel": "NodeWithLabel",
        "../../ui/node/NodeWithListView": "NodeWithListView",
        "../../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../ui/panel/CardInfoPanel": "CardInfoPanel",
        "../../ui/widget/MaskLayer": "MaskLayer",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../data/BattleData": "BattleData"
    }],
    BattlePVPDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1d4c60vJrpBkaZhmhhlsRYy", "BattlePVPDialog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.prototype.init = function (e, t) {
            }, e.prototype.initOnline = function () {
            }, e.prototype.initOffline = function () {
            }, e.prototype.initThinking = function () {
            }, e.prototype.hide = function () {
            }, e.Type = {online: 1, offline: 2, thinking: 3}, e
        }();
        n.BattlePVPDialog = a, cc._RF.pop()
    }, {}],
    BattlePart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a768aegnNxB1K6JlScuufra", "BattlePart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil"), i = e("../battle/data/BattleData"), o = e("../utils/TimeUtil");
        (function (e) {
            e._replayInBattle = !1, e._replayInBattleType = null, e._isOppoOnline = !1, e._isPlayerOnline = !1, e._isAutoTesting = !1, e._battleRoundStartInfo = {}, e.sendWorldFindEx = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_EX;
                var i = n.addExtensions_World_pb_SglWorldMsg_world_find_ex_req();
                i.troop_id = e, i.type = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendWorldFindNpc = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                if (t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_NPC, null != e) {
                    var n = t.addExtensions_World_pb_SglWorldMsg_world_find_ex_req();
                    n.troop_id = e, n.type = 1
                }
                a.NetUtil.sendProtoMsg(t)
            }, e.sendWorldFindExCancel = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_EX_CANCEL, a.NetUtil.sendProtoMsg(e)
            }, e.sendBattleLoadingDone = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_LOADING_DONE, a.NetUtil.sendProtoMsg(e)
            }, e.sendGetPvpLogs = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_LOG_EX, t.setExtensions_Battle_pb_SglBattleMsg_battle_log_ex_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBattleLogGet = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_LOG, a.NetUtil.sendProtoMsg(e)
            }, e.sendBattleReplay = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = t ? SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY : SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY_EX, n.setExtensions_Battle_pb_SglBattleMsg_battle_replay_req(e), a.NetUtil.sendProtoMsg(n)
            }, e.sendBattleShareReplay = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY_SHARE, t.setExtensions_Battle_pb_SglBattleMsg_battle_replay_share_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBattleStart = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_START, t.setExtensions_Battle_pb_SglBattleMsg_battle_start_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBattleEnd = function (e) {
                void 0 === e && (e = null);
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SKIP, e && t.setExtensions_User_pb_SglUserMsg_user_set_guide_req(P._guideID), a.NetUtil.sendProtoMsg(t)
            }, e.sendBattleSkip = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SKIP, a.NetUtil.sendProtoMsg(e)
            }, e.sendBattleSync = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SYNC, a.NetUtil.sendProtoMsg(e)
            }, e.sendBattleUseCard = function (e, t, n, r) {
                var _ = Math.floor(o.TimeUtil.getCurrentTime()), s = SglMsg_pb.SglReqMsg.create();
                s.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_USECARD;
                var c = s.addExtensions_Battle_pb_SglBattleMsg_battle_usecard_req();
                c.push(t), c.push(n), c.push(r), c.push(_), a.NetUtil.sendProtoMsg(s), e._isOnlinePvp && e._playerType != i.default.PlayerType.observe && e._ops.push({
                    _card: t,
                    _target: n,
                    _timestamp: _
                })
            }, e.sendBattleUseCard_New = function (e, t, n, i) {
                var r = SglMsg_pb.SglReqMsg.create();
                r.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_USECARD;
                var _ = r.addExtensions_Battle_pb_SglBattleMsg_battle_usecard_req();
                1 == t && cc.log("-------------\u5df1\u65b9\u56de\u5408\u7ed3\u675f-------------------------");
                var s = t + " " + i + " " + n.length, c = Math.floor(o.TimeUtil.getCurrentTime());
                _.push(t), _.push(c), _.push(n.length);
                for (var l = 0; l < n.length; l++) _.push(n[l]), s = s + " " + n[l];
                switch (a.NetUtil.sendProtoMsg(r), cc.log("send msg to server:" + s), t) {
                    case 1:
                        cc.log("[BATTLE proto]\u56de\u5408\u7ed3\u675f");
                        break;
                    case 2:
                        cc.log("[BATTLE proto]battle rereat");
                        break;
                    case 4:
                        cc.log("[BATTLE proto]atk end");
                        break;
                    default:
                        cc.log(t)
                }
            }, e.sendBattleOppoUseCard = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_USECARD;
                var r = i.addExtensions_Battle_pb_SglBattleMsg_battle_op_usecard_req();
                r.push(e), r.push(t), r.push(n), r.push(-Math.floor(o.TimeUtil.getCurrentTime())), a.NetUtil.sendProtoMsg(i)
            }, e.sendBattleOppoUseCard_new = function (e, t, n, i) {
                var o = SglMsg_pb.SglReqMsg.create();
                o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_USECARD;
                var r = o.addExtensions_Battle_pb_SglBattleMsg_battle_op_usecard_req();
                r.push(t), r.push(i), r.push(n.length);
                for (var _ = 0; _ < n.length; _++) r.push(n[_]);
                a.NetUtil.sendProtoMsg(o)
            }, e.sendBattleRetry = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_RETRY, a.NetUtil.sendProtoMsg(e)
            }, e.sendBattleChat = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_CHAT, t.setExtensions_Battle_pb_SglBattleMsg_battle_chat_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBattleShare = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SHARE;
                var i = n.addExtensions_Battle_pb_SglBattleMsg_battle_share_req();
                i.log_id = e, i.text = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBattleAgain = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_AGAIN, e.setExtensions_Battle_pb_SglBattleMsg_battle_again_req(P._curTroopIndex), a.NetUtil.sendProtoMsg(e)
            }, e.sendShareLike = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_THUMBS_UP, t.setExtensions_Battle_pb_SglBattleMsg_battle_thumbs_up_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendShareLikeCancel = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_THUMBS_UP_CANCEL, t.setExtensions_Battle_pb_SglBattleMsg_battle_thumbs_up_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.saveBattleTimingInfo = function (t) {
                null != t && 0 != t.length && (t[1] < 0 || (e._battleRoundStartInfo = {
                    _round: t[0],
                    _recvTime: t[1],
                    _endTime: t[2],
                    _playerRemainTime: t[3],
                    _opponentRemainTime: t[4],
                    _recvTimeLocal: t[5],
                    _endTimeLocal: t[5] + (t[2] - t[1]) / 1e3
                }))
            }
        })(n.BattlePart || (n.BattlePart = {})), cc._RF.pop()
    }, {"../battle/data/BattleData": "BattleData", "../utils/NetUtil": "NetUtil", "../utils/TimeUtil": "TimeUtil"}],
    BattleResultDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f906d8gPQVES7yWdEsSlFrN", "BattleResultDialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../data/data"), o = e("../../utils/NodeUtil"), r = e("../../utils/SpineUtil"),
            _ = e("../../../leocool/lc"), s = e("../../const/ViewConst"), c = e("../../utils/UIUtil"),
            l = e("../../config/UICfg"), d = e("../../../leocool/lcStr"), p = e("../../StringEnums"),
            u = e("../scene/BattleScene"), g = e("../../ClientData"), h = e("../../../leocool/lcAppCfg"),
            f = e("../../ui/node/NodeWithLabel"), m = e("../../utils/SpriteUtil"), y = e("../../ClientView"),
            T = e("../../ui/widget/IconWidget"), S = e("../../../nox"), C = e("../../ui/panel/LevelUpPanel"),
            v = e("../../ui/node/NodeWithShaderButton"), b = e("../../scene/SceneManager"),
            E = e("../../scene/HeroCenterScene"), I = e("../../GuideManager"), A = e("../../ToastManager"),
            R = e("../../ui/widget/UserWidget"), B = e("../../const/SceneId"), N = e("../../ui/common/Dialog"),
            D = cc.Vec2, U = e("../../StaticPrefabMgr"), M = e("../../scene/TeachingScene"),
            k = e("../../scene/TutorialScene"), L = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._battleUi = null, t._type = null, t._btns = [], t._result = null, t.isGuideWorldBattle = !1, t._nameTag = "", t._battleType = null, t._baseBattleType = null, t._input = null, t.scheduleUpdate = null, t._pBtnTroop = null, t._pBtnTavern = null, t._pBtnRecommended = null, t._pBtnTeach = null, t._pBtnExit = null, t._pBtnRetry = null, t._pBtnRetreat = null, t._pBtnNextLevel = null, t._pBtnReplay = null, t._pBtnShare = null, t
                }

                return a(t, e), t.prototype.init = function (e, n, a) {
                    if (this._battleUi = e, this._type = n, this._result = a, n == i.Data.BattleType.task) {
                        var o = u.BattleScene.currenton();
                        o._battleUi._capturedMonster && a._cards.push({_infoId: o._battleUi._capturedMonster, _num: 1})
                    }
                    if (this._rewardItems = [], a._cards) {
                        for (var r = 0; r < a._cards.length; r++) {
                            var c = a._cards[r];
                            c._infoId == i.Data.PropsId.flag || c._infoId >= i.Data.PropsId.clash_chest && c._infoId <= i.Data.PropsId.clash_chest_end || c._infoId >= i.Data.PropsId.clash_total_chest && c._infoId <= i.Data.PropsId.clash_total_chest_end || c._infoId >= i.Data.PropsId.new_clash_chest && c._infoId <= i.Data.PropsId.new_clash_chest_end || c._infoId >= i.Data.PropsId.new_clash_total_chest && c._infoId <= i.Data.PropsId.new_clash_total_chest_end || this._rewardItems.push(c)
                        }
                        P.sortResultItems(this._rewardItems)
                    }
                    var d = cc.instantiate(U.StaticPrefabMgr.getSingleSprite());
                    d.color = cc.color(0, 0, 0, 192), d.addComponent(cc.BlockInputEvents), d.setContentSize(l.UICfg.SCR_SIZE), _.lc.addChildToPosLB(this.node, d, cc.v2(s.ViewConst.SCR_CW, s.ViewConst.SCR_CH)), n == t.Type.battle_result ? this.createBattleResult(a) : n == t.Type.guide_result ? this.createGuidanceResult(a) : n == t.Type.replay_result ? this.createReplayResult(a) : n == t.Type.dark_result && this.createDarkResult(a)
                }, t.prototype.hide = function () {
                    this._type == t.Type.dark_result && P._playerFindDark.clearScore(), this.removeFromParent()
                }, t.prototype.createBattleResult = function (e) {
                    var t = this.createTitle(e._resultType, 1, e._taskResult), n = 3;
                    _.lc.addChildToCenter(this.node, t);
                    var a = cc.v2(0, 0);
                    if (i.Data.BattleResult.draw < e._resultType) {
                        if (a.x = 250, a.y = 180, e._isTask) {
                            var o = this.createTask(e._tasks, e._taskResults, n), r = o[0];
                            n = o[1], a.y = a.y - _.lc.h(r) / 2, _.lc.addChildToPosAR(this.node, r, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH + a.y)), a.y = _.lc.bottom(r) - 20
                        } else {
                            if (e._isRank) if (P.getMaxCharacterLevel(e._isRank) >= 30) {
                                var s = this.createRank(e._rank, e._curRank, d.lcStr(p.STR.BATTLE_CUR_RANK), n), c = s[0];
                                n = s[1], a.y = a.y - _.lc.h(c) / 2, _.lc.addChildToPosAR(this.node, c, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH + a.y)), a.y = _.lc.bottom(c) - 20
                            }
                        }
                        var u = this.createResource(e, n), g = u[0], f = u[1];
                        a.y = a.y - _.lc.h(g) / 2, _.lc.addChildToPosAR(this.node, g, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH + a.y)), a.y = _.lc.bottom(g) - 20;
                        var m = this.createReward(f), y = m[0];
                        m[1];
                        y && (a.y = a.y - _.lc.h(y) / 2, _.lc.addChildToPosAR(this.node, y, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH + a.y)))
                    } else if (e._resultType < i.Data.BattleResult.draw) {
                        if (a.x = a.x + 250, a.y = a.y + 180, null != e._trophy && 0 == e._trophy && null != e._gold && 0 == e._gold && null != e._flag && 0 == e._flag && null != e._activePoint && 0 == e._activePoint && null != e._unionBattleTrophy && 0 != e._unionBattleTrophy) {
                            var T = this.createResource(e, n);
                            g = T[0], T[1];
                            a.y = a.y - _.lc.h(g) / 2, _.lc.addChildToPosAR(this.node, g, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH + a.y)), a.y = _.lc.bottom(g) - 20
                        }
                        var S = this.createReward(n);
                        y = S[0], S[1];
                        if (y) a.y = a.y - _.lc.h(y) / 2, _.lc.addChildToPosAR(this.node, y, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH)); else if (!h.lcAppCfg.isAppStoreReviewing() && this._battleUi._battleType != i.Data.BattleType.PVP_ladder && this._battleUi._battleType != i.Data.BattleType.PVP_ladder_npc && this._battleUi._battleType != i.Data.BattleType.teach && this._battleUi._battleType != i.Data.BattleType.PVP_room && this._battleUi._battleType != i.Data.BattleType.PVP_group) {
                            var C = this.createEnhancePath(n, a.y), v = C[0];
                            C[1];
                            a.y = a.y - _.lc.h(v) / 2, _.lc.addChildToPosAR(this.node, v, cc.v2(l.UICfg.SCR_CW + a.x, l.UICfg.SCR_CH))
                        }
                    }
                    this.createButton()
                }, t.prototype.createGuidanceResult = function (e) {
                    var t = cc.v2(l.UICfg.SCR_CW, l.UICfg.SCR_CH), n = this.createTitle(e._resultType);
                    _.lc.addChildToCenter(this.node, n);
                    var a = 3;
                    t.x = t.x + 250, t.y = t.y + 180;
                    var i = this.createResource(e, a), o = i[0];
                    i[1];
                    a += .2, t.y = t.y - _.lc.ch(o), _.lc.addChildToPosAR(this.node, o, t), t.y = _.lc.bottom(o), "normal" == this._battleUi._nameTag && (this.createButton(), I.GuideManager.showSoftGuideFinger(this._pBtnExit, null))
                }, t.prototype.createTitle = function (e, t, n) {
                    void 0 === t && (t = 1);
                    var a = _.lc.createNode(cc.size(1336, 530));
                    a.setScale(t);
                    var o = "";
                    if (o = e == i.Data.BattleResult.win ? "shengli" : e == i.Data.BattleResult.big_win ? "wansheng" : e == i.Data.BattleResult.lose || e == i.Data.BattleResult.big_lose ? "shibai" : "pingju", h.lcAppCfg.isAppStoreReviewing() && (o += "1"), i.Data.BattleResult.draw < e && this._battleUi._battleType == i.Data.BattleType.teach && null != n) for (var c = 0; c < n.length; c++) {
                        1 != n[c] && (o = "shibai")
                    }
                    var l = r.SpineUtil.createSpineAnim(o, "default", "animation", !1);
                    return a.addChild(l, 0), l.setPosition(new D(s.ViewConst.SCR_CW, s.ViewConst.SCR_CH)), l.runAction(_.lc.sequence(_.lc.delay(1), _.lc.callFunc(function () {
                        r.SpineUtil.setSpineAnim(l, o, "default", "animation2", !0)
                    }))), a
                }, t.prototype.createResource = function (e, t) {
                    var n = this, a = _.lc.createNode(), o = n._battleUi._battleType == i.Data.BattleType.PVP_clash_npc,
                        r = (e._trophy, e._gold, e._flag, e._ingot, e._personalPower, []);
                    if (n._battleUi._battleType != i.Data.BattleType.PVP_clash && e._trophy && 0 != e._trophy) {
                        var s = void 0;
                        o && ((s = i.Data.ResType.clash_trophy) || (s = i.Data.ResType.ladder_trophy));
                        var d = g.ClientData.getResIconName(s, !1);
                        r.push({_num: e._trophy, _iconName: d})
                    }
                    if (e._flag && 0 != e._flag) {
                        d = g.ClientData.getPropIconName(7019, !1);
                        r.push({_num: e._flag, _iconName: d})
                    }
                    if (e._gold && 0 != e._gold) {
                        d = g.ClientData.getResIconName(i.Data.ResType.gold, !1);
                        r.push({_num: e._gold, _iconName: d})
                    }
                    if (e._personalPower && 0 != e._personalPower) {
                        d = g.ClientData.getResIconName(i.Data.ResType.union_personal_power, !1);
                        r.push({_num: e._personalPower, _iconName: d})
                    }
                    if (e._yubi && e._yubi > 0) {
                        d = g.ClientData.getPropIconName(7024, !1);
                        r.push({_num: e._yubi, _iconName: d})
                    }
                    if (e._activePoint && e._activePoint > 0) {
                        d = g.ClientData.getResIconName(i.Data.ResType.union_personal_power, !1);
                        r.push({_num: e._activePoint, _iconName: d})
                    }
                    if (e._loseSkinCrystal) {
                        d = g.ClientData.getPropIconName(7109, !1);
                        r.push({_num: e._loseSkinCrystal, _iconName: d})
                    }
                    if (e._unionBattleTrophy && 0 != e._unionBattleTrophy) {
                        d = g.ClientData.getResIconName(i.Data.ResType.union_battle_trophy, !1);
                        r.push({_num: e._unionBattleTrophy, _iconName: d})
                    }
                    if (e._darkTrophy && 0 != e._darkTrophy) {
                        d = g.ClientData.getResIconName(i.Data.ResType.dark_trophy, !1);
                        r.push({_num: e._darkTrophy, _iconName: d})
                    }
                    if (n._battleUi._battleType != i.Data.BattleType.PVP_ladder && n._battleUi._battleType == i.Data.BattleType.PVP_ladder_npc && i.Data.BattleResult.draw < e._resultType) {
                        var p = i.Data._globalInfo._ladderExTrophy[P._playerFindLadder._winCount];
                        d = g.ClientData.getResIconName(i.Data.ResType.ladder_trophy, !1);
                        r.push({_num: p, _iconName: d})
                    }
                    var u = 60;
                    u = r.length > 0 && e._exp > 0 ? 110 : 60, e._trophy && 0 != e._trophy && (u += 100), a.setContentSize(cc.size(512, u));
                    var h = -10;
                    if (r.length > 0) {
                        for (var y = 0, T = cc.v2(0, 0), v = _.lc.createNode(cc.size(0, 50)), b = 0; b < r.length; b++) {
                            var E = r[b];
                            if ((p = E._num) > 0) {
                                var I = T.x, A = m.SpriteUtil.createSprite(E._iconName);
                                _.lc.addChildToPosAR(v, A.node, cc.v2(I + _.lc.cw(A.node) / 2, T.y + _.lc.ch(A.node)));
                                var R = E._num > 0 ? "+" + E._num : E._num.toString(),
                                    B = f.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_32, R);
                                B.color = l.UICfg.COLOR_TEXT_ORANGE, _.lc.addChildToPosAR(v, B, cc.v2(_.lc.right(A.node) + 10 + _.lc.w(B) / 2, T.y)), y = y + 0 + _.lc.w(A.node) + 10 + _.lc.w(B) + 20, T.x = T.x + _.lc.w(A.node) + 10 + _.lc.w(B) + 20
                            }
                        }
                        y -= 20, v.setContentSize(y, 40), _.lc.addChildToPosAR(a, v, cc.v2(0, h - 25)), h = h - 50 - 12
                    }
                    if (e._exp > 0) {
                        var N = e._exp, D = e._preExp, U = e._preLevel, M = e._curLevel,
                            k = c.UIUtil.createLevelExpBar(U, D, P.getLevelupExp(U), 360);
                        _.lc.addChildToPosAR(a, k, cc.v2(60, h - _.lc.ch(k))), h = h - _.lc.h(k) - 10;
                        var L = f.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_26, "+" + N);
                        L.setScale(.9), L.setAnchorPoint(1, .5), L.color = l.UICfg.COLOR_TEXT_GREEN, _.lc.addChildToPosAR(k, L, cc.v2(_.lc.aright(k) - 10, 0));
                        var O = U, x = Math.max(1, Math.floor(N / 50));
                        n.scheduleUpdate = S.nox.scheduleUpdate(function () {
                            N < x && (x = N), N -= x, D += x;
                            var e = P.getLevelupExp(O);
                            D >= e && (O += 1, D -= e, k._levelExp.setString(O.toString())), k.setLabel(D, e), k._bar.progress = 100 * D / e, 0 == N && S.nox.unscheduleUpdate(n.scheduleUpdate)
                        }, 0), M != U && C.LevelUpPanel.createLord(U, M).show(), t += .2
                    }
                    if (e._trophy && 0 != e._trophy) {
                        var w = c.UIUtil.createTrophyProgressBar(360);
                        _.lc.addChildToPosAR(a, w, cc.v2(60, h - _.lc.ch(w) - 40))
                    }
                    return [a, t]
                }, t.prototype.createTask = function (e, t, n) {
                    for (var a = _.lc.createNode(cc.size(512, 40 * e.length)), i = [], o = 0, r = 0; r < e.length; r++) {
                        var s = f.NodeWithLabel.createWithTTF(e[r], l.UICfg.TTF_FONT, l.UICfg.FontSize.M1);
                        s.color = _.lc.Color3B.white, i.push(s), s._icon = m.SpriteUtil.createSprite(t[r] ? "img_icon_right" : "img_icon_wrong"), o < _.lc.w(s) && (o = _.lc.w(s))
                    }
                    for (var c = 512 - o / 2, d = 0; d < i.length; d++) {
                        var p = m.SpriteUtil.createSprite(t[d] ? "bat_result_star_02" : "bat_result_star_01");
                        _.lc.addChildToPosAR(a, p.node, cc.v2(c, 40 * e.length + 20 - 40 * (d + 1))), _.lc.addChildToPosAR(a, i[d], cc.v2(_.lc.right(p.node) + 10 + _.lc.cw(i[d]), _.lc.y(p.node))), _.lc.addChildToPosAR(a, i[d]._icon, cc.v2(_.lc.right(i[d]) + 10 + _.lc.cw(i[d]._icon), _.lc.y(p.node)))
                    }
                    a.setVisible(!1);
                    return a.runAction(_.lc.sequence(_.lc.delay(n), function () {
                        a.setVisible(!0)
                    })), [a, n + .2]
                }, t.prototype.createReward = function (e) {
                    var t = this._rewardItems;
                    if (null == t || 0 == t.length) return [null, null];
                    for (var n = _.lc.createNode(cc.size(512, 120)), a = function (e) {
                        var a = t[e], i = cc.v2(Math.floor(120 * (e + 1 - (t.length + 1) / 2) + 256), 60),
                            o = T.IconWidget.create(a, T.IconWidget.DisplayFlag.ITEM);
                        o.setNameColor(l.UICfg.COLOR_TEXT_LIGHT), o.setTouchEnabled(!1), o.node.opacity = 0, o.node.runAction(_.lc.sequence(.3 * e, _.lc.fadeIn(.2), function () {
                            o.setTouchEnabled(!0), o.node.opacity = 255
                        })), _.lc.addChildToPosAR(n, o.node, i)
                    }, i = 0; i < t.length; i++) a(i);
                    return e = .2 * t.length, [n, e]
                }, t.prototype.createRank = function (e, t, n, a) {
                    var i = _.lc.createNode(cc.size(512, 40)), o = f.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_26, n);
                    o.color = _.lc.Color3B.yellow, _.lc.addChildToPosAR(i, o, cc.v2(-50, 20));
                    var r = f.NodeWithLabel.createBMFont(l.UICfg.BMFont.num_48, t.toString());
                    if (_.lc.addChildToPosAR(i, r, cc.v2(_.lc.right(o) + _.lc.cw(r) + 2, _.lc.y(o))), 0 != e) {
                        var s = e > 0 ? l.UICfg.COLOR_TEXT_GREEN : l.UICfg.COLOR_TEXT_RED,
                            c = m.SpriteUtil.createSprite(e > 0 ? "img_arrow_up_1" : "img_arrow_down_1");
                        c.node.color = s, _.lc.addChildToPosAR(i, c.node, cc.v2(_.lc.right(r) + 16, _.lc.y(r)));
                        var d = f.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_26, Math.abs(e).toString());
                        d.color = s, _.lc.addChildToPosAR(i, d, cc.v2(_.lc.right(c.node) + 4 + _.lc.w(d) / 2, _.lc.y(c.node)))
                    }
                    return [i, a + .2]
                }, t.prototype.createEnhancePath = function (e, t) {
                    var n = this, a = _.lc.createNode(cc.size(512, 188));
                    if (a.name = "EnhancePath", !n._battleUi.isGuideWorldBattle()) {
                        var i = v.NodeWithShaderButton.createShaderButton(null, function () {
                            b.SceneManager.pushScene(E.HeroCenterScene.create())
                        });
                        i.setContentSize(160, 168), _.lc.addChildToCenter(i, m.SpriteUtil.createSprite("enhance_troop").node), _.lc.addChildToPosAR(a, i, cc.v2(-120, 94)), n._pBtnTroop = i, (i = c.UIUtil.createScale9ShaderButton(null, function (e) {
                            n.onButtonEvent(e)
                        }, l.UICfg.CRECT_BUTTON_S, 160, 168)).setContentSize(160, 168), _.lc.addChildToCenter(i, m.SpriteUtil.createSprite("enhance_tavern").node), _.lc.addChildToPosAR(a, i, cc.v2(120, 94)), n._pBtnTavern = i;
                        var o = v.NodeWithShaderButton.createShaderButton(null, function () {
                            b.SceneManager.pushScene(M.TeachingScene.create(M.TeachingScene.Tab.RecommendTroop))
                        });
                        o.setContentSize(160, 168), _.lc.addChildToCenter(o, m.SpriteUtil.createSprite("enhance_troop").node), _.lc.addChildToPosAR(a, o, cc.v2(-120, -80)), n._pBtnRecommended = o;
                        var r = c.UIUtil.createScale9ShaderButton(null, function () {
                            b.SceneManager.pushScene(k.TutorialScene.create())
                        }, l.UICfg.CRECT_BUTTON_S, 160, 168);
                        r.setContentSize(160, 168), _.lc.addChildToCenter(r, m.SpriteUtil.createSprite("enhance_tavern").node), _.lc.addChildToPosAR(a, r, cc.v2(120, -80)), n._pBtnTeach = r
                    }
                    return a.runAction(_.lc.sequence(_.lc.delay(e), function () {
                        a.setVisible(!0)
                    })), [a, e]
                }, t.prototype.createButton = function () {
                    var e = this, t = (this._battleUi._battleType, null);
                    e._battleUi._baseBattleType == i.Data.BattleType.base_PVE && e._battleUi._battleType != i.Data.BattleType.expedition_ex && (t = e._battleUi._battleType == i.Data.BattleType.PVP_dark && !(t = P._playerFindDark.isDarkFinished()));
                    var n = !1;
                    if (e._battleUi._battleType == i.Data.BattleType.task && (!e._battleUi._input._isExploreAgain && !I.GuideManager.isGuideEnabled() && i.Data.BattleResult.draw < e._result._resultType)) {
                        if (e._battleUi.isTaskDone(e._result)) {
                            n = null != i.Data._levelInfo[P._playerWorld.getNextLevelId(e._battleUi._input._levelId)];
                            !1
                        }
                        e._result._log && !0 && 1
                    }
                    var a = _.lc.createNode(), o = a.addComponent(cc.Layout);
                    o.type = cc.Layout.Type.HORIZONTAL, o.resizeMode = cc.Layout.ResizeMode.CONTAINER, o.spacingX = 80, _.lc.addChildToPosAR(e.node, a, cc.v2(l.UICfg.SCR_CW + 200, 60));
                    var r = c.UIUtil.createScale9ShaderButton("img_btn_green_s", function (t) {
                        e.onButtonEvent(t)
                    }, l.UICfg.CRECT_BUTTON_S, 160);
                    if (r.addLabel(d.lcStr(p.STR.RETURN), null, l.UICfg.FontSize.M2), a.addChild(r), e._pBtnExit = r, e._result._resultType < i.Data.BattleResult.draw && e._battleUi._battleType == i.Data.BattleType.task) {
                        var s = c.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (t) {
                            e.onButtonEvent(t)
                        }, l.UICfg.CRECT_BUTTON_S, 160);
                        s.addLabel(d.lcStr(p.STR.BATTLE_AGAIN), null, l.UICfg.FontSize.M2), a.addChild(s), e._pBtnRetry = s
                    }
                    if (t) {
                        r.setVisible(!1);
                        var u = c.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (t) {
                            e.onButtonEvent(t)
                        }, l.UICfg.CRECT_BUTTON_S, 160);
                        u.addLabel(d.lcStr(p.STR.BATTLE_RETREAT), null, l.UICfg.FontSize.M2), a.addChild(u), e._pBtnRetreat = u
                    }
                    if (n) {
                        var g = c.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (t) {
                            e.onButtonEvent(t)
                        }, l.UICfg.CRECT_BUTTON_S, 160);
                        g.addLabel(d.lcStr(p.STR.NEXT_LEVEL), null, l.UICfg.FontSize.M2), a.addChild(g), e._pBtnNextLevel = g;
                        var h = P._playerWorld.getNextLevelId(e._battleUi._input._levelId);
                        if (null != h) {
                            var f = h % 100;
                            1 == f && (f = P._playerWorld.getChapterId(h), A.ToastManager.push(string.format(d.lcStr(p.STR.CHAPTER_UNLOCKED), d.lcStr(i.Data._chapterInfo[f]._nameSid))))
                        }
                    }
                    if (e._battleUi._baseBattleType == i.Data.BattleType.replay) {
                        var m = c.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (t) {
                            e.onButtonEvent(t)
                        }, l.UICfg.CRECT_BUTTON_S, 160);
                        m.addLabel(d.lcStr(p.STR.REPLAY), null, l.UICfg.FontSize.M2), a.addChild(m), e._pBtnReplay = m
                    }
                    if (e._result._log && e._battleUi._baseBattleType != i.Data.BattleType.PVP_dark && e._battleUi._baseBattleType != i.Data.BattleType.base_guidance && e._battleUi._battleType != i.Data.BattleType.task) {
                        var y = c.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (t) {
                            e.onButtonEvent(t)
                        }, l.UICfg.CRECT_BUTTON_S, 160);
                        y.addLabel(d.lcStr(p.STR.SHARE), null, l.UICfg.FontSize.M2), a.addChild(y), e._pBtnShare = y
                    }
                }, t.prototype.createReplayResult = function (e) {
                    cc.v2(l.UICfg.SCR_CW, l.UICfg.SCR_CH);
                    if (e._player) {
                        var t = r.SpineUtil.createSpineAnim(e._resultType == i.Data.BattleResult.draw ? "zhandouhuifang2" : "zhandouhuifang1", "default", "animation", !1);
                        t.runAction(_.lc.sequence(1, function () {
                            t.getComponent(sp.Skeleton).setAnimation(1, "animation2", !0)
                        })), _.lc.addChildToCenter(this.node, t);
                        for (var n = 0; n < 2; n++) {
                            var a = l.UICfg.SCR_W / 4 * 1;
                            1 == n ? e._resultType : e._resultType, i.Data.BattleResult.win;
                            if (0 == n && e._resultType < i.Data.BattleResult.draw) {
                                e._opponent;
                                var o = 0 == n ? e._player : e._opponent;
                                if (e._resultType < i.Data.BattleResult.draw) {
                                    var s = R.UserWidget.create(o, _.lc.bor(R.UserWidget.Flag.LEVEL_NAME, 1), 1, !1);
                                    if (_.lc.addChildToPosLB(this.node, s.node, cc.v2(a, l.UICfg.SCR_CH + 40)), e._battleType != i.Data.BattleType.PVP_ladder && e._battleType != i.Data.BattleType.PVP_ladder_npc && e._battleType != i.Data.BattleType.PVP_room && e._battleType != i.Data.BattleType.PVP_group && e._battleType != i.Data.BattleType.PVP_dark && e._trophy && 0 != e._trophy) {
                                        var u = m.SpriteUtil.createSprite("img_icon_res6_s");
                                        _.lc.addChildToPosLB(this.node, u.node, cc.v2(a - 80, l.UICfg.SCR_CH - 100));
                                        e._trophy, e._trophy;
                                        var g = f.NodeWithLabel.createWithTTF(S.nox.toString(600), l.UICfg.TTF_FONT, l.UICfg.FontSize.M1);
                                        g.setAnchorPoint(0, .5), _.lc.addChildToPosLB(this.node, g, cc.v2(_.lc.x(u.node) + 40, _.lc.y(u.node)))
                                    }
                                }
                            }
                        }
                        e._winScore;
                        if (e._winScore && (e._loseScore, e._loseScore)) {
                            var h = c.UIUtil.createBMFont(l.UICfg.BMFont.huali_32, d.lcStr(p.STR.WIN_S)),
                                y = c.UIUtil.createBMFont(l.UICfg.BMFont.num_48, e._winScore);
                            _.lc.addChildToPosLB(this.node, h, cc.v2(l.UICfg.SCR_W / 4 - 20, l.UICfg.SCR_CH - 40)), _.lc.addChildToPosLB(this.node, y, cc.v2(l.UICfg.SCR_W / 4 + 20, l.UICfg.SCR_CH - 40));
                            var T = c.UIUtil.createBMFont(l.UICfg.BMFont.huali_32, d.lcStr(p.STR.WIN_S)),
                                C = c.UIUtil.createBMFont(l.UICfg.BMFont.num_48, e._loseScore);
                            _.lc.addChildToPosLB(this.node, T, cc.v2(l.UICfg.SCR_W / 4 * 3 - 20, l.UICfg.SCR_CH - 40)), _.lc.addChildToPosLB(this.node, C, cc.v2(l.UICfg.SCR_W / 4 * 3 + 20, l.UICfg.SCR_CH - 40))
                        }
                    }
                    this.createButton()
                }, t.prototype.createWorldBossResult = function (e) {
                    var t = cc.v2(0, 0), n = this.createTitle(i.Data.BattleResult.win);
                    _.lc.addChildToCenter(this.node, n), t.y = t.y - _.lc.h(n) / 2 - 20;
                    var a = _.lc.createNode(cc.size(240, 120));
                    _.lc.addChildToPosAR(this.node, a, t);
                    var o = m.SpriteUtil.createSprite("img_icon_score");
                    _.lc.addChildToPosAR(a, o.node, cc.v2(0, _.lc.h(a) / 2 - 36));
                    var r = c.UIUtil.createBMFont(l.UICfg.BMFont.huali_32, e._score);
                    if (r.color = l.UICfg.COLOR_TEXT_GREEN, _.lc.addChildToPosAR(a, r, cc.v2(0, _.lc.h(a) / 2 + 44)), t.y = t.y - _.lc.h(a) / 2 - 20, e._isRank) {
                        var s = this.createRank(e._rank, e._curRank, d.lcStr(p.STR.BATTLE_SCORE_RANK), 3), u = s[0];
                        s[1];
                        t.y = t.y - _.lc.h(u) / 2, _.lc.addChildToPosAR(this.node, u, t), t.y = _.lc.bottom(u) - 20
                    }
                    var g = this.createReward(3), h = g[0];
                    g[1];
                    h && (t.y = t.y - _.lc.h(h) / 2, _.lc.addChildToPosAR(this.node, h, t)), this.createButton()
                }, t.prototype.createDarkResult = function (e) {
                    var t = _.lc.createNode(cc.size(512, 335));
                    _.lc.addChildToCenter(this.node, t);
                    var n = m.SpriteUtil.createSprite("win_lose_bg");
                    n.node.scaleX = i.Data.BattleResult.draw < e._resultType ? 1 : -1, n.node.scaleX = 80 / _.lc.h(n.node), _.lc.addChildToPosAR(this.node, n.node, cc.v2(0, l.UICfg.SCR_H / 2 - 100));
                    if (i.Data.BattleResult.draw < e._resultType) "dark_win"; else {
                        var a = m.SpriteUtil.createSprite(e._resultType < i.Data.BattleResult.draw ? "dark_lose" : "dark_draw");
                        _.lc.addChildToPosAR(this.node, a.node, cc.v2(l.UICfg.SCR_CW / 4, _.lc.y(n.node)))
                    }
                    if (i.Data.BattleResult.draw < e._resultType) "dark_lose"; else {
                        var o = m.SpriteUtil.createSprite(e._resultType < i.Data.BattleResult.draw ? "dark_win" : "dark_draw"),
                            r = cc.v2(3 * l.UICfg.SCR_CW / 4, _.lc.y(n.node));
                        _.lc.addChildToPosAR(this.node, o.node, r)
                    }
                    var s = c.UIUtil.createTTF(e._winScore.toString(), l.UICfg.FontSize.B1, l.UICfg.COLOR_TEXT_WHITE),
                        u = c.UIUtil.createTTF(e._loseScore.toString(), l.UICfg.FontSize.B1, l.UICfg.COLOR_TEXT_WHITE);
                    s.setAnchorPoint(1, .5), u.setAnchorPoint(0, .5), _.lc.addChildToPosAR(this.node, s, cc.v2(-50, _.lc.y(n.node))), _.lc.addChildToPosAR(this.node, u, cc.v2(50, _.lc.y(n.node)));
                    var g = m.SpriteUtil.createSprite({_name: "room_left_bg", _crect: cc.rect(10, 10, 1, 1)});
                    g.node.setContentSize(cc.size(_.lc.cw(this.node) - 20, _.lc.h(g.node)));
                    var h = R.UserWidget.Flag.LEVEL_NAME | R.UserWidget.Flag.UNION | R.UserWidget.Flag.REGION,
                        y = R.UserWidget.create(e._player, h, 1.2);
                    this.adjustUserWidget(y), _.lc.addChildToPosAR(g.node, y.node, cc.v2(-10, -10)), _.lc.addChildToPosLB(this.node, g.node, cc.v2(_.lc.cw(g.node), 335 + _.lc.ch(g.node)));
                    var T = _.lc.createNode();
                    _.lc.addChildToPosLB(g.node, T, cc.v2(_.lc.cw(g.node), 335 + _.lc.h(g.node) - 25));
                    var S = m.SpriteUtil.createSprite({_name: "room_right_bg", _crect: cc.rect(110, 10, 1, 1)});
                    S.node.setContentSize(cc.size(_.lc.cw(this.node) - 20, _.lc.h(S.node)));
                    var C = R.UserWidget.Flag.LEVEL_NAME | R.UserWidget.Flag.UNION | R.UserWidget.Flag.REGION,
                        v = R.UserWidget.create(e._opponent, C, 1.2);
                    this.adjustUserWidget(v, !0), _.lc.addChildToPosAR(S.node, v.node, cc.v2(-10, -10)), _.lc.addChildToPosLB(this.node, S.node, cc.v2(_.lc.w(this.node) - _.lc.cw(S.node), 335 + _.lc.ch(S.node)));
                    var b = _.lc.createNode();
                    _.lc.addChildToPosLB(S.node, b, cc.v2(_.lc.cw(S.node), _.lc.h(S.node) - 25));
                    var E = m.SpriteUtil.createSprite({
                        _name: "group_avatars_bg",
                        _crect: cc.rect(1, 1, 2, 2),
                        _size: cc.size(l.UICfg.SCR_W, 200)
                    }), I = this.createResource(e, 0), A = I[0];
                    I[1];
                    if (_.lc.addChildToPosAR(E.node, A, cc.v2(0, 110)), _.lc.addChildToPosAR(this.node, E.node, cc.v2(0, 220)), !P._playerFindDark.isDarkFinished()) {
                        var B = string.format(d.lcStr(p.STR.WAIT_FOR_NEXT_BATTLE), P._playerFindDark._inning + 1),
                            N = f.NodeWithLabel.createTTF(B, l.UICfg.FontSize.M1, l.UICfg.COLOR_TEXT_WHITE);
                        N.runAction(_.lc.sequence(1, function () {
                            N.setString(e + ".")
                        }, 1, function () {
                            N.setString(e + "..")
                        }, 1, function () {
                            N.setString(e + "...")
                        })), _.lc.addChildToCenter(E.node, N)
                    }
                    this.createButton()
                }, t.prototype.createCardAdvanceInfo = function () {
                }, t.prototype.adjustUserWidget = function (e, t) {
                    e._userLevelLabel.node.setVisible(!0), e._nameArea.setPosition(cc.v2(_.lc.right(e._frame) - 5, _.lc.y(e._frame))), e._unionArea.setPosition(cc.v2(_.lc.right(e._frame) + _.lc.cw(e._unionArea) + 5, _.lc.y(e._frame) - _.lc.ch(e._unionArea) - 10)), e._unionNameLabel.node.color = l.UICfg.COLOR_TEXT_WHITE, e._regionArea.node.x = _.lc.bottom(e._frame) - 20, e._regionArea.node.color = l.UICfg.COLOR_TEXT_WHITE, t && (e.node.scaleX = -e.node.scaleX, e._frame.scaleX = -e._frame.scaleX, e._userNameLabel.node.scaleX = -e._userNameLabel.node.scaleX, e._userNameLabel.node.setAnchorPoint(1, .5), e._userLevelLabel.node.scaleX = -e._userLevelLabel.node.scaleX, e.getUnionNameArea().scaleX = -e.getUnionNameArea().scaleX, e.getUnionNameArea().setAnchorPoint(1, .5), e._unionWordLabel.node.scaleX = -e._unionWordLabel.node.scaleX, e._regionArea.node.scaleX = -e._regionArea.node.scaleX, e._regionArea.node.setAnchorPoint(1, 0))
                }, t.prototype.onTouchBegan = function (e) {
                    var t = this._battleUi.getTouchBtn([this._pBtnExit], e.touch);
                    return t && this.onButtonEvent(t), !1
                }, t.prototype.onButtonEvent = function (e) {
                    e == this._pBtnTroop ? this._battleUi.exitScene(B.SceneId.manage_troop) : e == this._pBtnTavern ? this._battleUi.exitScene(B.SceneId.tavern) : e == this._pBtnExit ? (this._battleUi.hideTip(), this._battleUi.tryExitScene(), this.hide()) : e == this._pBtnRetry ? this._battleUi.retry() : e == this._pBtnReplay ? this._battleUi.replay() : e == this._pBtnShare ? this._battleUi.showShare(this._result._log.id) : e == this._pBtnRetreat ? N.Dialog.showDialog(d.lcStr(p.STR.DARK_BATTLE_WARNING), function () {
                        P._playerFindDark.retreat(), y.ClientView.getActiveIndicator().show(d.lcStr(p.STR.WAIT_BATTLE_RESULT))
                    }) : e == this._pBtnNextLevel && this._battleUi.nextLevel()
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t.Type = {battle_result: 1, guide_result: 4, dark_result: 6, replay_result: 2}, t
            }(o.NodeUtil);
        n.BattleResultDialog = L, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../scene/HeroCenterScene": "HeroCenterScene",
        "../../scene/SceneManager": "SceneManager",
        "../../scene/TeachingScene": "TeachingScene",
        "../../scene/TutorialScene": "TutorialScene",
        "../../ui/common/Dialog": "Dialog",
        "../../ui/node/NodeWithLabel": "NodeWithLabel",
        "../../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../ui/panel/LevelUpPanel": "LevelUpPanel",
        "../../ui/widget/IconWidget": "IconWidget",
        "../../ui/widget/UserWidget": "UserWidget",
        "../../utils/NodeUtil": "NodeUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../scene/BattleScene": "BattleScene"
    }],
    BattleRuleForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c05d7Lk+zpJqbOQ3FS4dWdA", "BattleRuleForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = e("../../../leocool/lc"),
            _ = e("../../data/data"), s = e("../../../leocool/lcStr"), c = e("../../utils/RichTextUtil"),
            l = e("../../config/UICfg"), d = e("../../utils/SpriteUtil"), p = function (e) {
                function t() {
                    var t = e.call(this, i.AllViewTypes.BattleRuleForm) || this;
                    return t.mBackBtn = null, t
                }

                return __extends(t, e), t.prototype.init = function () {
                    for (var e in this._pageContents = [], this._pageContents.push({_image: "1"}), this._pageContents.push({_image: "2"}), this._pageContents.push({_image: "3"}), this._pageContents.push({_image: "4"}), this._pageContents.push({_image: "5"}), this._pageContents.push({_contents: [{_title: 151}, {_content: 152}, {_content: 153}]}), this._pageContents.push({_contents: [{_title: 154}, {_content: 155}, {_title: 156}, {_content: 157}, {_title: 158}, {_content: 159}, {_content: 160}]}), this._pageContents.push({_contents: [{_title: 161}, {_content: 162}, {_title: 163}, {_content: 164}]}), this._pageContents.push({_contents: [{_title: 165}, {_content: 166}]}), this._pageTexts = [], _.Data._helpInfo) {
                        var t = _.Data._helpInfo[e];
                        t._type == _.Data.HelpType.battle && this._pageTexts.push(s.lcStr(t._nameSid, !0))
                    }
                    this._curPage = 1, this._totalPage = this._pageContents.length
                }, t.prototype.onInitWidget = function () {
                    this.mTeachListBox = o.noxcc.find("Center/Panel/view/content", this.mRoot), this.mBackBtn = o.noxcc.findButton("TopBar/closeBtn", this.mRoot), o.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.mLeftBtn = o.noxcc.findButton("Center/left_triangle", this.mRoot), o.noxcc.addClick(this.mLeftBtn, this, this.onLeftBtn), this.mLeftBtn.float = function () {
                        this.setPosition(this._pos), this.runAction(r.lc.sequence([r.lc.moveTo(.8, cc.p(this._pos.x - 8, this._pos.y)), r.lc.moveTo(.8, this._pos)]))
                    }, this.mRightBtn = o.noxcc.findButton("Center/right_triangle", this.mRoot), o.noxcc.addClick(this.mRightBtn, this, this.onRightBtn), this.mRightBtn.float = function () {
                        this.setPosition(this._pos), this.runAction(r.lc.sequence([r.lc.moveTo(.8, cc.p(this._pos.x + 8, this._pos.y)), r.lc.moveTo(.8, this._pos)]))
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    this.refresh()
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.onLeftBtn = function () {
                    this._curPage > 1 && (this._curPage = this._curPage - 1), this.refresh()
                }, t.prototype.onRightBtn = function () {
                    this._curPage < this._totalPage && (this._curPage = this._curPage + 1), this.refresh()
                }, t.prototype.refresh = function () {
                    this.mTeachListBox && this.mTeachListBox.destroyAllChildren(), 1 == this._curPage ? this.mLeftBtn.node.setVisible(!1) : this.mLeftBtn.node.setVisible(!0), this._curPage == this._totalPage ? this.mRightBtn.node.setVisible(!1) : this.mRightBtn.node.setVisible(!0);
                    var e = this._pageContents[this._curPage - 1];
                    if (e._image) {
                        var t = string.format("battle_help_%s", e._image);
                        this.createImage(t).setParent(this.mTeachListBox)
                    } else for (var n = 0; n < e._contents.length; n++) {
                        var a = e._contents[n];
                        if (null != a._title) {
                            var i = this._pageTexts[a._title - 151];
                            this.mTeachListBox.addChild(this.createTitle(i))
                        }
                        if (a._content) {
                            i = this._pageTexts[a._content - 151];
                            this.mTeachListBox.addChild(this.createText(i))
                        }
                    }
                    this.mTeachListBox.parent.getComponent(cc.ScrollView).scrollToTop(0)
                }, t.prototype.createTitle = function (e) {
                    var t = o.noxcc.newNode();
                    t.setContentSize(cc.size(r.lc.w(this.mTeachListBox), 60));
                    var n = d.SpriteUtil.createImageView({
                        _name: "img_com_bg_49",
                        _size: cc.size(r.lc.w(t), 48),
                        _crect: cc.rect(50, 24, 1, 1)
                    });
                    r.lc.addChildToPosLB(t, n, cc.p(r.lc.cw(n), r.lc.ch(t) - 20));
                    var a = c.RichTextUtil.createBoldRichText(e, {_fontSize: l.UICfg.FontSize.B2}, r.lc.w(this.mTeachListBox) - 10);
                    return r.lc.addChildToPosLB(t, a.node, cc.p(r.lc.cw(a.node) + 20, r.lc.ch(t) - 20)), t
                }, t.prototype.createText = function (e) {
                    var t = o.noxcc.newNode();
                    t.setContentSize(cc.size(r.lc.w(this.mTeachListBox), 60));
                    var n = c.RichTextUtil.createBoldRichText(e, l.UICfg.RICHTEXT_PARAM_LIGHT_S2, r.lc.w(this.mTeachListBox) - 10);
                    return t.setContentSize(cc.size(r.lc.w(this.mTeachListBox), r.lc.h(n.node) + 40)), t.setAnchorPoint(.5, .5), r.lc.addChildToPosLB(t, n.node, cc.p(r.lc.cw(n.node) + 20, r.lc.ch(t))), t
                }, t.prototype.createImage = function (e) {
                    var t = o.noxcc.newNode(), n = d.SpriteUtil.createSprite(e);
                    return t.setContentSize(r.lc.w(this.mTeachListBox), r.lc.h(n.node) + 20), t.setAnchorPoint(.5, .5), r.lc.addChildToPosLB(t, n.node, cc.p(r.lc.cw(t), r.lc.ch(t))), t
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(a.BaseForm);
        n.BattleRuleForm = p, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    BattleScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f8622Hdy6BOqrb8z+28SUzs", "BattleScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../scene/BaseScene"), o = e("../../const/SceneId"), r = e("../../ui/AllViewTypes"),
            _ = e("../ui/BattleUi"), s = e("../../part/UserPart"),
            c = (e("../../../leocool/lc"), e("../../utils/MsgHandler")), l = e("../../scene/SceneManager"),
            d = e("../../../nox"), p = (e("../data/PlayerBattle"), e("../data/BattleData"), e("../../ClientView")),
            u = e("../../part/BattlePart"), g = function (e) {
                function t() {
                    var t = e.call(this, o.SceneId.battle, r.AllViewTypes.BattleScene) || this;
                    return t._monsterExplored = null, t._isGuideOnEnter = !1, t
                }

                return a(t, e), t.currenton = function () {
                    return t.gCurrenton
                }, t.convertToWorldSpace = function (e) {
                    return t.gCurrenton.getRootNode().convertToWorldSpace(e.getPosition())
                }, t.create = function (e) {
                    var n = new t;
                    return n._input = e, n.init(), n
                }, t.prototype.onInitWidget = function () {
                    var e = this._input;
                    this._battleUiNormal = _.BattleUi.create(this, e, "normal"), this.getRootNode().addChild(this._battleUiNormal._node, t.ZOrder.battle), this._battleUi = this._battleUiNormal;
                    s.UserPart.sendUserEvent({
                        battleType: e._battleType,
                        isAttacker: e._isAttacker
                    }), P._guideID, t.gCurrenton = this, d.nox.isDebug, this._battleUi.loadUiControl()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this._battleUi.onEnter(), u.BattlePart.sendBattleLoadingDone()
                }, t.prototype.init = function () {
                    return !0
                }, t.prototype.initData = function () {
                }, t.prototype.onMsg = function (e) {
                    return !1
                }, t.prototype.onBattleEnd = function (e) {
                    this._battleUiNormal && this._battleUiNormal.onBattleEnd(e)
                }, t.prototype.onBattleRecover = function (e) {
                    p.ClientView.getActiveIndicator().hide(), e._sceneType != this._battleUi._sceneType && this._battleUi._node.stopAllActions(), l.SceneManager.replaceScene(t.create(e)), u.BattlePart.sendBattleLoadingDone()
                }, t.prototype.onMonsterExplored = function (e) {
                    if (this._battleUi._isShowingKO) this._battleUi._recvMonsterExplored = e; else {
                        var t = l.SceneManager.getRunningScene();
                        c.MsgHandler.onMonsterExploredEx(t, e)
                    }
                }, t.prototype.onLogin = function () {
                    this._battleUiNormal.exitScene()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), this._battleUi.unRegistTouchHandler(), this._battleUi.removeAllEvents(), t.gCurrenton = null
                }, t.gCurrenton = null, t.ZOrder = {dialog: 30, ui: 10, top: 100, battle: 20, form: 40, bg: 0, story: 50}, t
            }(i.BaseScene);
        n.BattleScene = g, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../ClientView": "ClientView",
        "../../const/SceneId": "SceneId",
        "../../part/BattlePart": "BattlePart",
        "../../part/UserPart": "UserPart",
        "../../scene/BaseScene": "BaseScene",
        "../../scene/SceneManager": "SceneManager",
        "../../ui/AllViewTypes": "AllViewTypes",
        "../../utils/MsgHandler": "MsgHandler",
        "../data/BattleData": "BattleData",
        "../data/PlayerBattle": "PlayerBattle",
        "../ui/BattleUi": "BattleUi"
    }],
    BattleSettingDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "97e87QhGy5Pha+Z/hZ8cesg", "BattleSettingDialog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                var t = e.call(this) || this;
                return t._battleUi = null, t._btns = [], t
            }

            return __extends(t, e), t.create = function (e) {
                var n = new t;
                return n.init(e), n
            }, t.prototype.init = function (e) {
                this._battleUi = e;
                var t = [e._btnMusic, e._btnSndEffect];
                e._needTask && t.push(e._btnTask), e._needRetreat ? t.push(e._btnRetreat) : t.push(e._btnReturn);
                for (var n = this.getDefaultPosition(), a = function (e) {
                    var a = new cc.Vec2(n.x - 112 * (e + 1), n.y);
                    t[e].stopAllActions(), t[e].setPosition(new cc.Vec2(n.x, n.y)), t[e].setVisible(!0);
                    var i = cc.director.getScheduler().getTimeScale();
                    t[e].runAction(cc.sequence(cc.delayTime(.05 * e * i), cc.callFunc(function () {
                        t[e].setVisible(!0)
                    }), cc.spawn(cc.scaleTo(.35 * i, 1), cc.moveTo(.35 * i, a))))
                }, i = 0; i < t.length; i++) a(i);
                this._btns = t
            }, t.prototype.hide = function () {
                for (var e = 0; e < this._btns.length; e++) this._btns[e].setVisible(!1);
                this.node.removeFromParent(), this._battleUi._settingLayer = null
            }, t.prototype.getDefaultPosition = function () {
                return this._battleUi._settingLayerBtnPos
            }, t.prototype.touchEvent = function (e) {
                var t = this.checkTouchBtn(e);
                return null != t && t ? (this._battleUi.onButtonEvent(t), !1) : (this.hide(), !0)
            }, t.prototype.checkTouchBtn = function (e) {
                return this._battleUi.getTouchBtn(this._btns, e, !0)
            }, t
        }(e("../../ui/widget/MaskLayer").MaskLayer);
        n.BattleSettingDialog = a, cc._RF.pop()
    }, {"../../ui/widget/MaskLayer": "MaskLayer"}],
    BattleSkill: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3dd8brRYiVF3I0sj2WCqNIE", "BattleSkill"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattleData"), o = e("./BattlleCardStatus"), r = function () {
            function e(e) {
                this._player = e
            }

            return e.prototype.castSkill = function (e, t, n) {
                var r = this._player, _ = r._opponent, s = a.Data.getSkillType(t._id), c = r.getActionCard(),
                    l = r._boardCards[1], d = a.Data._skillInfo[t._id]._val, p = a.Data._skillInfo[t._id],
                    u = r._opponent._boardCards[1],
                    g = (e._monsterTarget, e._magicTarget, e._trapTarget, t._owner || e), h = !1;
                if (n != a.Data.SkillMode.initiative || !e.hasBuff(!1, i.default.NegativeType.chaos) || !r._isMonsterActioned) {
                    if (1001 == p._refId) null != u && (d[0] > 0 && r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0); else if (1008 == p._refId) for (var f = r.getBattleCards("B"), m = 1; m <= f.length; m++) r.recHp(f[m - 1], d[0], e._id, t._id, n), h = !0; else if (1009 == p._refId) {
                        if (null != u) {
                            r.decHp(u, d[0], !1, e._id, t._id, n);
                            var y = r.randomOne(r._opponent.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u))._obj;
                            null != y && r.forceDrawbackMonster(u, y, e._id, t._id, n), h = !0
                        }
                    } else if (1012 == p._refId) {
                        if (null != l) for (m = 1; m <= d[0]; m++) l.addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), h = !0
                    } else if (1014 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n, e._maxHp - e._hp), h = !0); else if (1015 == p._refId) for (m = 1; m <= 2; m++) {
                        null != (E = r.getCardById(e._ids[2 + m - 1])) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1016 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r._skillKeepPowerByNatureCurRound[e._info._nature] || e.removePowerMark(d[1] + e.getSkillDecPowerAdjust(), e._id, t._id, n), h = !0); else if (1017 == p._refId) {
                        if (null != u) {
                            var T = p._coinCount;
                            null != e._baseCard && e._baseCard.hasSkills([2043]) && e._isEvolved && (T += 1), e._lastCount = o.B.throwCoins(e, T), r.decHp(u, d[0], !1, e._id, t._id, n, d[1] * o.B.getCoinFaceCount(e._lastCount)), h = !0
                        }
                    } else if (1018 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && r.incPositiveStatus(e, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo, !0, e._id, t._id, n), h = !0; else if (1020 == p._refId) {
                        if (null != u) {
                            var S = e.getBuffValue(!0, i.default.PositiveType.powerMark);
                            "number" == typeof S && (r.decHp(u, d[0], !1, e._id, t._id, n, S * d[1]), h = !0)
                        }
                    } else if (1023 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), u.removePowerMark(d[1], e._id, t._id, n), h = !0); else if (1026 == p._refId || 1042 == p._refId) null != u && (d[0] > 0 && r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && (1042 == p._refId ? r.incNegativeStatus(u, r.randomOne(p._refSkills)._obj, !1, e._id, t._id, n) : r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n)), h = !0); else if (1027 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), d[0] > 0 && r.decHp(u, d[0] * o.B.getCoinFaceCount(e._lastCount), !1, e._id, t._id, n), r.incNegativeStatus(e, p._refSkills, !1, e._id, t._id, n), h = !0); else if (1034 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_random), r.randomPile(), h = !0)
                    } else if (1037 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && r.incPositiveStatus(e, i.default.PositiveType.ignoreOppoMonsterSkillHalo, !0, e._id, t._id, n), h = !0; else if (1038 == p._refId) null != u && (e._maxHp <= e._hp ? (r.decHp(u, d[0], !1, e._id, t._id, n, d[1]), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n)) : r.decHp(e, d[0], !1, e._id, t._id, n), h = !0); else if (1041 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_random), r.randomPile(), h = !0)
                    } else if (1043 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n)), h = !0); else if (1045 == p._refId) {
                        if (null != u) {
                            e._lastCount = o.B.throwCoins(e, p._coinCount);
                            var C = o.B.getCoinFaceCount(e._lastCount);
                            o.B.getCoinFaceCount(e._lastCount) > 0 ? r.decHp(u, d[0], !1, e._id, t._id, n, p._val[C + 1 - 1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0
                        }
                    } else if (1047 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.recHp(e, Math.min(u._hp, o.B.getDamageByMonster(e, u, t._id, d[0])), e._id, t._id, n), h = !0); else if (1050 == p._refId) null != u && (u._info._nature == e._info._nature ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1056 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), _._disableDrawbackRounds[_._round + 1] = !0, h = !0); else if (1057 == p._refId) {
                        if (null != u) {
                            f = [r._pileCards[0], r._opponent._pileCards[0]];
                            var v = 0;
                            for (m = 1; m <= f.length; m++) null != f[m - 1] && (r.setCardStatus(f[m - 1], i.default.CardStatus.grave, e._id, t._id, n), v += 1);
                            v > 0 && (r.decHp(u, d[0] * v, !1, e._id, t._id, n), h = !0)
                        }
                    } else if (1059 == p._refId) {
                        e._lastCount = o.B.throwCoins(e, p._coinCount), null != (E = 1 != e._lastCount ? r.randomOne(r.getBattleCards("B"))._obj : r.randomOne(r._opponent.getBattleCards("B"))._obj) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1061 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.board, e._id, t._id, n, i.default.CardStatusVal.p2h_random), r.randomPile(), h = !0)
                    } else if (1065 == p._refId) {
                        if (null != u) r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.randomOne(r._opponent.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u))._obj) && r.decHp(E, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1066 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount ? (r.decHp(u, d[0], !1, e._id, t._id, n, d[1]), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n)) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1067 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), _._disableDrawbackRounds[_._round + 1] = !0, h = !0); else if (1068 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), e._summonRound == r._round && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0); else if (1069 == p._refId) {
                        if (null != u) e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n), (T = o.B.getCoinFaceCount(e._lastCount)) > 0 && u.removePowerMark(T * d[1], e._id, t._id, n), h = !0
                    } else if (1072 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.changeCardPos(e, i.default.CardPosChange.swap), r.changeCardPos(E, i.default.CardPosChange.swap), h = !0)
                    } else if (1076 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : (r.decHp(u, d[0], !1, e._id, t._id, n), r.decHp(e, d[2], !1, e._id, t._id, n)), h = !0); else if (1078 == p._refId) null != u && (1 == e._ids[2] ? (r.decHp(u, d[0] + d[1], !1, e._id, t._id, n), e.removeAllPowerMark(e._id, t._id, n)) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1081 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n), 0 == e._lastCount && e.removeAllPowerMark(e._id, t._id, n), h = !0); else if (1083 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, i.default.NegativeType.lostAbility, !1, e._id, t._id, n), r.incNegativeValue(u, i.default.NegativeType.lostAbility, _._round + 1, a.Data.AggregateType.max, e._id, t._id, n), h = !0); else if (1085 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.recHp(e, d[1], e._id, t._id, n), h = !0); else if (1088 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.addDamageMark(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1091 == p._refId) {
                        null != (E = r.randomOne(r.filterCardsByCardType(_.getBattleCards("H"), a.Data.CardType.monster))._obj) && (r.setCardStatus(E, i.default.CardStatus.leave, e._id, t._id, n), h = !0)
                    } else if (1092 == p._refId) for (f = _.getBattleCards("B"), m = 1; m <= f.length; m++) r.addDamageMark(f[m - 1], d[0], !1, e._id, t._id, n), h = !0; else if (1093 == p._refId || 7007 == p._refId) h = this.swapHandPileCards(r.getBattleCards("H", a.Data.CARD_MAX_LEVEL, e), _.getBattleCards("H").length, e._id, t._id, n); else if (1100 == p._refId) {
                        if (null != u) {
                            r.decHp(u, d[0], !1, e._id, t._id, n);
                            for (f = r.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l), m = 1; m <= f.length; m++) r.decHp(f[m - 1], d[1], !1, e._id, t._id, n);
                            h = !0
                        }
                    } else if (1102 == p._refId) {
                        if (null != u) {
                            C = 0;
                            var b = e.getBuffValue(!0, i.default.PositiveType.powerMark);
                            "number" == typeof b && b > 0 && (e._lastCount = o.B.throwCoins(e, b), C = o.B.getCoinFaceCount(e._lastCount)), C > 0 ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1] * C) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0
                        }
                    } else if (1104 == p._refId) null != u && (r.decHp(u, Math.max(0, d[0] + e._hp - e._maxHp), !1, e._id, t._id, n), h = !0); else if (1109 == p._refId) null != u && (1 == e._ids[2] ? (r.decHp(u, d[0], !1, e._id, t._id, n, d[1]), r.decHp(e, d[2], !1, e._id, t._id, n)) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1112 == p._refId) r.recHp(e, d[0], e._id, t._id, n), r._disableDrawbackRounds[r._round + 1] = !0, h = !0; else if (1118 == p._refId) r.recHp(e, e._maxHp - e._hp, e._id, t._id, n), r._disableSkillRounds[t._id] = r._disableSkillRounds[t._id] || {}, r._disableSkillRounds[t._id][r._round + 1] = !0, h = !0; else if (1123 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.decHp(E, d[0] * r.getBattleCardsByOriginId("B", p._refCards[0]).length, !1, e._id, t._id, n), h = !0)
                    } else if (1125 == p._refId) r._decMonsterDamageOppoRounds[_._round + 1] = (r._decMonsterDamageOppoRounds[_._round + 1] || 0) + d[0], h = !0; else if (1127 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), r.recHp(e, d[1], e._id, t._id, n), h = !0); else if (1128 == p._refId) null != u && (1 == e._ids[2] ? (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills[1], !1, e._id, t._id, n)) : (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills[0], !1, e._id, t._id, n)), h = !0); else if (1131 == p._refId) {
                        if (null != u) {
                            if (r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount) for (f = r.randomTable(_.getBattleCards("H"), d[1]), m = 1; m <= f.length; m++) r.setCardStatus(f[m - 1], i.default.CardStatus.grave, e._id, t._id, n, i.default.CardStatusVal.h2g_show);
                            h = !0
                        }
                    } else if (1135 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n, u.getCommonBuffCount() * d[1]), h = !0); else if (1139 == p._refId) {
                        if (null != u) {
                            r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount);
                            var E = r.getCardById(e._ids[2]);
                            1 == e._lastCount && null != E && E.removePowerMark(1, e._id, t._id, n), h = !0
                        }
                    } else if (1142 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), o.B.getCoinFaceCount(e._lastCount) > 0 && r.decHp(u, 2 * (e._maxHp - e._hp), !1, e._id, t._id, n), h = !0); else if (1143 == p._refId) {
                        if (null != u) {
                            f = [r._pileCards[0], _._pileCards[0]];
                            var I = 0;
                            for (m = 1; m <= f.length; m++) null != f[m - 1] && (f[m - 1]._type == a.Data.CardType.monster && I++, r.setCardStatus(f[m - 1], i.default.CardStatus.grave, e._id, t._id, n));
                            I > 0 && r.decHp(u, d[0] * I, !1, e._id, t._id, n), h = !0
                        }
                    } else if (1145 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n), 0 != o.B.getCoinFaceCount(e._lastCount) || r._skillKeepPowerByNatureCurRound[e._info._nature] || (e.getSkillDecPowerAdjust(), e.removePowerMark(d[1], e._id, t._id, n)), h = !0); else if (1148 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1150 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1154 == p._refId) {
                        if (null != u) {
                            var P = 0;
                            e._lastCount = 0;
                            for (m = 1; m <= 6 && 1 == o.B.throwCoin(e); m++) P += 1, e._lastCount = 2 * e._lastCount + 1;
                            r.decHp(u, d[0] * P, !1, e._id, t._id, n), h = !0
                        }
                    } else if (1157 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, i.default.NegativeType.disableLastSkill, !1, e._id, t._id, n), r.incNegativeValue(u, i.default.NegativeType.disableLastSkill, 1, a.Data.AggregateType.max, e._id, t._id, n), h = !0); else if (1163 == p._refId) null != u && (r.decHp(u, d[0] * r.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l).length, !1, e._id, t._id, n), h = !0); else if (1164 == p._refId) {
                        if (null != u) {
                            if (r.decHp(u, d[0], !1, e._id, t._id, n), !r._skillKeepPowerByNatureCurRound[e._info._nature]) "number" == typeof (R = e.getBuffValue(!0, i.default.PositiveType.powerMark)) || (R = 0), e.removePowerMark(R + e.getSkillDecPowerAdjust(), e._id, t._id, n);
                            h = !0
                        }
                    } else if (1168 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && r.incPositiveStatus(e, i.default.PositiveType.ignoreOppoMonsterSkillHalo, !0, e._id, t._id, n), h = !0); else if (1170 == p._refId) {
                        if (null != u) r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.getCardById(e._ids[2])) && r.decHp(E, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1186 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.decHpForce(e, d[1], !1, e._id, t._id, n), h = !0); else if (1192 == p._refId) r.recHp(e, d[0], e._id, t._id, n), h = !0; else if (1195 == p._refId) null != u && (r.decHp(u, u._maxHp - u._hp, !1, e._id, t._id, n), h = !0); else if (1199 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r._decMonsterDamageOppoRounds[_._round + 1] = (r._decMonsterDamageOppoRounds[_._round + 1] || 0) + d[1], h = !0); else if (1200 == p._refId) {
                        if (null != (E = r.getCardById(e._ids[2]))) r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show), e.removeAllPowerMark(e._id, t._id, n), null != (re = e._binds[0]) && (r.unbindCard(re, e, e._id, t._id, n), r.setCardStatus(re, i.default.CardStatus.pile, e._id, t._id, n)), h = !0
                    } else if (1207 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), o.B.getCoinFaceCount(e._lastCount) > 0 && null != u && r.decHp(u, d[0], !1, e._id, t._id, n), h = !0; else if (1213 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : (r.decHp(u, d[0], !1, e._id, t._id, n), r.decHp(e, d[2], !1, e._id, t._id, n)), h = !0); else if (1220 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), null != E._binds[0] && (r.unbindCard(E._binds[0], E, e._id, t._id, n), r.setCardStatus(E._binds[0], i.default.CardStatus.hand, e._id, t._id, n)), E.removeAllPowerMark(e._id, t._id, n), h = !0)
                    } else if (1224 == p._refId) {
                        var A = r.getBattleCardsBySkills("B", p._refSkills).length;
                        null != u && A > 0 && (r.decHp(u, d[0] * A, !1, e._id, t._id, n), h = !0)
                    } else if (1227 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), d[1] < l._hp && r.decHp(l, l._hp - d[1], !1, e._id, t._id, n), h = !0); else if (1229 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n), r._disableSkillRounds[t._id] = r._disableSkillRounds[t._id] || {}, r._disableSkillRounds[t._id][r._round + 1] = !0, h = !0); else if (1236 == p._refId) {
                        if (null != u) r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.getCardById(e._ids[2])) && r.decHp(E, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1240 == p._refId) {
                        if (null != u) {
                            var R = 0, B = r.getBattleCards("P")[0];
                            null != B && (r.setCardStatus(B, i.default.CardStatus.grave, e._id, t._id, n), B._info._nature == p._refCards[0] && (R = d[1])), r.decHp(u, d[0], !1, e._id, t._id, n, R), h = !0
                        }
                    } else if (1241 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (1247 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n, Math.min(r.getBattleCardsByNature("B", p._refCards[0]).length * d[1], d[2])), h = !0); else if (1248 == p._refId) {
                        var N = r.getCardById(e._ids[3]);
                        null != ($ = r.getCardById(e._ids[2])) && r.setCardStatus($, i.default.CardStatus.board, e._id, t._id, n), null != N && r.setCardStatus(N, i.default.CardStatus.board, e._id, t._id, n), r.incNegativeStatus(e, p._refSkills, !1, e._id, t._id, n), h = !0
                    } else if (1250 == p._refId) for (f = o.B.mergeTable([r.getBattleCardsByInfoId("B", p._refCards[0]), _.getBattleCardsByInfoId("B", p._refCards[0])]), m = 1; m <= f.length; m++) f[m - 1].addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), h = !0; else if (1257 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n, r.getBattleCardsByNature("B", p._refCards[0], a.Data.CARD_MAX_LEVEL, e).length * d[1]), h = !0); else if (1258 == p._refId) r.recHp(e, d[0], e._id, t._id, n), r.incPositiveStatus(e, i.default.PositiveType.extraBaseDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(e, i.default.PositiveType.extraBaseDamageInRound, 65536 * (r._round + 1) + d[1], a.Data.AggregateType.table, e._id, t._id, n), h = !0; else if (1262 == p._refId) {
                        if (null != u) e._lastCount = o.B.throwCoins(e, p._coinCount), (C = o.B.getCoinFaceCount(e._lastCount)) > 0 && u.removePowerMark(C * d[0], e._id, t._id, n), h = !0
                    } else if (1264 == p._refId) for (m = 1; m <= 2; m++) {
                        null != (E = r.getCardById(e._ids[2 + m - 1])) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1267 == p._refId) null != u && (e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && (r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0)); else if (1273 == p._refId) {
                        if (null != u) {
                            e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n);
                            E = r.randomOne(r.filterNotEnoughPowerCards(r.getBattleCardsByNature("B", p._refCards[0], a.Data.CARD_MAX_LEVEL, e)))._obj;
                            1 == e._lastCount && null != E && E.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n), h = !0
                        }
                    } else if (1274 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n), 0 == e._lastCount && r.decHp(e, d[1], !1, e._id, t._id, n), h = !0; else if (1281 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && (r._decMonsterDamageOppoRounds[_._round + 1] = (r._decMonsterDamageOppoRounds[_._round + 1] || 0) + d[0]), h = !0; else if (1282 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && r.incPositiveStatus(e, i.default.PositiveType.ignoreOppoMonsterSkillEffectHalo, !0, e._id, t._id, n), h = !0; else if (1284 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), r.decHp(u, d[0], !1, e._id, t._id, n), 1 == e._lastCount && (r._decMonsterDamageOppoRounds[_._round + 1] = (r._decMonsterDamageOppoRounds[_._round + 1] || 0) + d[1]), h = !0; else if (1291 == p._refId) null != u && (e.hasBuff(!1, i.default.NegativeType.poison) || e.hasBuff(!1, i.default.NegativeType.burn) ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1293 == p._refId) d[0] > 0 && null != u && r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(e, p._refSkills, !1, e._id, t._id, n), h = !0; else if (1294 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        r.forceDrawbackMonster(u, E, e._id, t._id, n), r.incNegativeStatus(E, p._refSkills, !1, e._id, t._id, n), h = !0
                    } else if (1296 == p._refId) {
                        if (null != u) r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.getCardById(e._ids[2])) && r.decHp(E, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1300 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.decHp(E, d[0], !1, e._id, t._id, n), h = !0), null != (N = r.getCardById(e._ids[3])) && (r.decHp(N, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (1302 == p._refId) {
                        if (null != u) {
                            var D = !1;
                            for (m = 1; m <= u._skills.length; m++) {
                                var U = a.Data.getSkillType(u._skills[m - 1]._id);
                                U != a.Data.SkillType.monster_body && U != a.Data.SkillType.monster_strength && U != a.Data.SkillType.monster_ability || (D = !0)
                            }
                            D ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0
                        }
                    } else if (1305 == p._refId) null != u && (e._hp < u._hp ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0); else if (1310 == p._refId) {
                        var M = d[0] - u._owner.getDrawbackCost(u) * d[1];
                        M > 0 && (r.decHp(u, M, !1, e._id, t._id, n), h = !0)
                    } else if (1315 == p._refId) null != e._binds[0] ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0; else if (1317 == p._refId) {
                        if (null != u) r.decHp(u, d[0], !1, e._id, t._id, n), (O = r.randomOne(r.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l))._obj) && r.forceDrawbackMonster(l, O, e._id, t._id, n);
                        h = !0
                    } else if (1321 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount), 1 == e._lastCount && r.recHp(r.getCardById(e._ids[2]), d[0], e._id, t._id, n), h = !0; else if (1325 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), r.decHp(e, d[1], !1, e._id, t._id, n), h = !0; else if (1326 == p._refId) {
                        e._lastCount = o.B.throwCoins(e, Math.floor((e._maxHp - e._hp) / d[0])), (C = o.B.getCoinFaceCount(e._lastCount)) > 0 && r.decHp(u, d[1] * C, !1, e._id, t._id, n), h = !0
                    } else if (1327 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n), h = !0; else if (1328 == p._refId) h = !0; else if (1334 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount ? r.decHp(u, d[0], !1, e._id, t._id, n, d[1]) : (r.decHp(u, d[0], !1, e._id, t._id, n), r._skillKeepPowerByNatureCurRound[e._info._nature] || e.removePowerMark(d[2] + e.getSkillDecPowerAdjust(), e._id, t._id, n)), h = !0; else if (1336 == p._refId) {
                        for (f = r.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].removeMark(i.default.PositiveType.electricityMark, f[0].getBuffValue(!0, i.default.PositiveType.electricityMark), e._id, t._id);
                        null != u && r.decHp(u, d[0] * T, !1, e._id, t._id, n), h = !0
                    } else if (1337 == p._refId) {
                        for (f = r.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].removeMark(i.default.PositiveType.waterMark, f[0].getBuffValue(!0, i.default.PositiveType.electricityMark), e._id, t._id);
                        r.decHp(e, d[0] * T, !1, e._id, t._id, n), h = !0
                    } else if (1338 == p._refId) {
                        for (f = r.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].removeMark(i.default.PositiveType.fireMark, f[0].getBuffValue(!0, i.default.PositiveType.electricityMark), e._id, t._id);
                        var k = r.randomTable(_.getBattleCards("H"), Math.floor(T / d[0]));
                        for (m = 0; m < k.length; m++) r.setCardStatus(k[m], i.default.CardStatus.grave, e._id, t._id, n);
                        h = !0
                    } else if (1339 == p._refId) {
                        for (f = r.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].removeMark(i.default.PositiveType.grassMark, f[0].getBuffValue(!0, i.default.PositiveType.electricityMark), e._id, t._id);
                        r.removePowerRandom(_.filterHasEnergyCards(_.getBattleCards("B")), Math.floor(T / d[0]), e._id, t._id, n), h = !0
                    } else if (1341 == p._refId) u && (r.decHp(u, d[0], !1, e._id, t._id, n), r.recHp(e, o.B.getDamageByMonster(e, u, t._id, d[0]), e._id, t._id, n), h = !0); else if (1344 == p._refId) r.decHp(u, d[0] * r.getBoardCardsNumByNatureForSkill(p._refCards[0]), !1, e._id, t._id, n), h = !0; else if (1345 == p._refId) r.decHp(u, 2 * (e._maxHp - e._hp), !1, e._id, t._id, n), h = !0; else if (1348 == p._refId) {
                        N = r.getCardById(e._ids[3]);
                        null != ($ = r.getCardById(e._ids[2])) && (null != N && r.setCardStatus(N, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.setCardStatus($, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0)
                    } else if (1350 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0; else if (1354 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), u.setDamageExtraAdjust(u._owner._round + 1, g._id, t._id, {_adjustVal: d[1]}), r.incNegativeStatus(u, i.default.NegativeType.extraDecHp, !1, e._id, t._id, n), h = !0; else if (1355 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e.removePowerMark(Math.max(0, d[1] - r.filterCardsByMinLevel(r.getBattleCardsByNature("B", p._refCards[0], a.Data.CARD_MAX_LEVEL, l), 1).length * d[2]), e._id, t._id, n), h = !0; else if (1362 == p._refId) e.setDamageExtraAdjust(e._owner._round, t._id, n, {
                        _forceVal: 0,
                        _condition: function (e) {
                            return e < d[0]
                        }
                    }), h = !0; else if (1364 == p._refId) {
                        N = r.getCardById(e._ids[3]);
                        null != ($ = r.getCardById(e._ids[2])) && (null != N && r.setCardStatus(N, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.setCardStatus($, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0)
                    } else if (1364 == p._refId) {
                        N = r.getCardById(e._ids[3]);
                        null != ($ = r.getCardById(e._ids[2])) && (null != N && r.setCardStatus(N, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.setCardStatus($, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0)
                    } else if (1365 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.getCardById(e._ids[2])) && r.recHp(E, d[1], e._id, t._id, n), h = !0
                    } else if (1366 == p._refId) e.removePowerMark(e.getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n), null != e._binds[0] && (r.unbindCard(e._binds[0], e, e._id, t._id, n), r.setCardStatus(e._binds[0], i.default.CardStatus.pile, e._id, t._id, n)), r.setCardStatus(e, i.default.CardStatus.pile, e._id, t._id, n), h = !0; else if (1371 == p._refId) r._exPowerCard[e._owner._round + 1] = (r._exPowerCard[e._owner._round + 1] || 0) + 1, h = !0; else if (1372 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), null != (E = r.getCardById(e._ids[2])) && (e.removePowerMark(d[1], e._id, t._id, n), E.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n)), h = !0
                    } else if (1375 == p._refId) n == a.Data.SkillMode.round_begin ? (r._castedSkillCounts[t._id] = e._hp, h = !1) : (r.decHp(u, d[0], !1, e._id, t._id, n, r._castedSkillCounts[t._id] && r._castedSkillCounts[t._id] < e._hp ? d[1] : 0), h = !0); else if (1386 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (E.addMark(i.default.PositiveType.powerMark, d[0], e._id, t._id, n), h = !0)
                    } else if (1398 == p._refId) {
                        for (f = r.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].getBuffValue(!0, i.default.PositiveType.powerMark);
                        r.decHp(u, d[0], !1, e._id, t._id, n, Math.min(d[1] * T, d[2])), h = !0
                    } else if (1403 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), u._cannotRecHp[u._owner._round + 1] = !0, r.incNegativeStatus(u, i.default.NegativeType.cannotRecHp, !1, e._id, t._id, n), h = !0; else if (1406 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0; else if (1412 == p._refId) r.decHpForce(u, d[0], !1, e._id, t._id, n), h = !0; else if (1417 == p._refId) null != u && (r.decHp(u, d[0], !1, e._id, t._id, n, d[1] * r.getBattleCardsByOriginId("B", p._refCards[0]).length), h = !0); else if (1422 == p._refId) {
                        if (r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 3 == e._lastCount) for (k = _.getBattleCards("H"), f = r.randomTable(k, Math.min(k.length, d[1])), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.pile, e._id, t._id, n, i.default.CardStatusVal.x2p_top);
                        h = !0
                    } else if (1432 == p._refId) r.decHp(o.B.getMinHpCard(_.getBattleCards("B")), d[0], !1, e._id, t._id, n), h = !0; else if (1436 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), r.incNegativeStatus(e, p._refSkills, !1, e._id, t._id, n), h = !0; else if (1442 == p._refId) r.decHp(r.getCardById(e._ids[2]), Math.min(r.getBoardCardsNumByNatureForSkill(p._refCards[0]) * d[0], d[1]), !1, e._id, t._id, n), h = !0; else if (1446 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount ? r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n) : u.removePowerMark(d[1], e._id, t._id, n), h = !0; else if (1447 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.board, e._id, t._id, n), h = !0; else if (1450 == p._refId) r.decHp(u, d[0] * r._ball, !1, e._id, t._id, n), h = !0; else if (1451 == p._refId) r.decHp(u, d[0] * (r.getBattleCards("B").length + _.getBattleCards("B").length), !1, e._id, t._id, n), h = !0; else if (1453 == p._refId) r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), e._summonRound == r._round && r.incNegativeStatus(u, i.default.NegativeType.numb, !1, e._id, t._id, n), h = !0; else if (1456 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount ? (r.decHp(u, d[0], !1, e._id, t._id, n, d[1]), r.recHp(e, d[2], e._id, t._id, n)) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0; else if (1457 == p._refId) {
                        for (f = _.getBattleCards("B"), T = 0, m = 0; m < f.length; m++) T += f[m].getBuffValue(!0, i.default.PositiveType.powerMark);
                        r.decHp(u, d[0], !1, e._id, t._id, n, T * d[1]), h = !0
                    } else if (1459 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n, d[1] * r.getBattleCardsByCategory("B", a.Data.CardCategory.ex).length), h = !0; else if (1460 == p._refId) n == a.Data.SkillMode.defeat_b2g ? r.recHp(g, 1e3, n, e._id, t._id) : r.decHp(u, d[0], !1, e._id, t._id, n), h = !0; else if (1461 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n, d[1] * u.getBuffValue(!0, i.default.PositiveType.powerMark)), h = !0; else if (1463 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), r.decHp(u, d[0], !1, e._id, t._id, n), u.removePowerMark(o.B.getCoinFaceCount(e._lastCount), e._id, t._id, n), h = !0; else if (1465 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n);
                        for (f = _.getBattleCards("B", null, u), m = 0; m < f.length; m++) r.decHpForce(f[m], d[1], !1, e._id, t._id, n);
                        h = !0
                    } else if (1466 == p._refId) {
                        for (f = _.getBattleCards("B", null, u), m = 0; m < f.length; m++) r.decHpForce(f[m], d[1], !1, e._id, t._id, n);
                        h = !0
                    } else if (1472 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n);
                        T = Math.min(u.getBuffValue(!0, i.default.PositiveType.powerMark), d[1]);
                        (f = r.filterNotEnoughPowerCards(_.getBattleCards("B", null, u), !1)).length > 0 && (u.removePowerMark(T, e._id, t._id, n), f[0].addMark(i.default.PositiveType.powerMark, T, e._id, t._id, n)), h = !0
                    } else if (1473 == p._refId) {
                        var L = 0;
                        e.hasBuff(!0, i.default.PositiveType.skillEnhanced) && e.getBuffIsSkillEnhanced(r._round, t._id) && (L = d[1]), r.decHp(u, d[0], !1, e._id, t._id, n, L), r.incPositiveStatus(e, i.default.PositiveType.skillEnhanced, !1, e._id, t._id, n), r.incPositiveValue(e, i.default.PositiveType.skillEnhanced, 196608 * (r._round + 1) + t._id, a.Data.AggregateType.table, e._id, t._id, n), h = !0
                    } else if (1475 == p._refId) null != u ? (r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && (e._owner._autoTrySpellWhenUse = {
                        _type: i.default.UseCardType.spell,
                        _ids: [e._id, , t._id]
                    }), h = !0) : h = !0; else if (1476 == p._refId) r.setCardStatus(r.getBattleCards("P")[0], i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (1477 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n);
                        for (f = r.getBattleCards("B"), m = 0; m < f.length; m++) r.recHp(f[m], d[1], e._id, t._id, n);
                        h = !0
                    } else if (1478 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n, u.getBuffValue(!0, i.default.PositiveType.powerMark) * d[1]), h = !0; else if (1479 == p._refId) r.decHp(r.getCardById(e._ids[2]), d[0], !1, e._id, t._id, n), h = !0; else if (1483 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 3 == e._lastCount && u.removePowerMark(u.getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n), h = !0; else if (1487 == p._refId) r.recHp(r.getCardById(e._ids[2]), d[0], e._id, t._id, n), h = !0; else if (1488 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t);
                        f = _.getBattleCards("B", null, e);
                        1 == e._lastCount && f.length > 0 && r.decHp(r.randomOne(f)._obj, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1489 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t);
                        f = _.getBattleCardsByLevel("B", 0);
                        1 == e._lastCount && f.length > 0 && r.randomOne(f)._obj.removePowerMark(d[1], e._id, t._id, n), h = !0
                    } else if (1490 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), (f = _.getBattleCardsByLevel("B", 0, null, u)).length > 0 && r.randomOne(f)._obj.removePowerMark(d[1], e._id, t._id, n), h = !0
                    } else if (1491 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), null != (O = r.getCardById(e._ids[2])) && O.removePowerMark(d[1], e._id, t._id, n), h = !0
                    } else if (1492 == p._refId) {
                        r.decHp(u, d[0], !1, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t);
                        f = _.getBattleCardsByLevel("B", 0, null, u);
                        1 == e._lastCount && f.length > 0 && r.randomOne(f)._obj.removePowerMark(d[1], e._id, t._id, n), h = !0
                    } else if (1493 == p._refId) {
                        var O;
                        r.decHp(u, d[0], !1, e._id, t._id, n), null != (O = r.getCardById(e._ids[2])) && r.decHp(O, d[1], !1, e._id, t._id, n), h = !0
                    } else if (1494 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), r.incNegativeStatus(u, i.default.NegativeType.decDamage, !1, e._id, t._id, n), r.incNegativeValue(u, i.default.NegativeType.decDamage, 65536 * (_._round + 1) + d[1], a.Data.AggregateType.table, e._id, t._id, n), h = !0; else if (1495 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), e.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n), h = !0; else if (1496 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n, e.getBuffValue(!0, i.default.PositiveType.powerMark) * d[1]), r.recHp(e, d[2], e._id, t._id, n), h = !0; else if (1497 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n, Math.max(0, r._ball - r._maxBall) * d[0]), h = !0; else if (2001 == p._refId) {
                        var x = [];
                        for (m = 0; m < g._underSkills.length; m++) g._underSkills[m]._sid == t._id || x.push(g._underSkills[m]);
                        g._underSkills = x, Math.max(r._round, _._round) > 0 && o.B.isAlive(g) && 1 != g._pos ? (r.incPositiveStatus(g, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo, !0, e._id, t._id, n), g.hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo) || (h = !0)) : g.hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo) && (h = !0)
                    } else if (2004 == p._refId) {
                        var w = g._owner.getBattleCards("B");
                        for (m = 0; m < w.length; m++) {
                            for (var F = [], V = w[m]._underSkills.length - 1; V >= 0; V--) w[m]._underSkills[V]._sid != t._id && F.push(w[m]._underSkills[V]);
                            w[m]._underSkills = F
                        }
                        var H = g._owner._boardCards[1];
                        n != a.Data.SkillMode.bcs2gl && null != H ? (r.incPositiveStatus(H, i.default.PositiveType.ignoreChaos, !0, e._id, t._id, n), H.hasBuff(!0, i.default.PositiveType.ignoreChaos) || (h = !0)) : null != H && H.hasBuff(!0, i.default.PositiveType.ignoreChaos) && (h = !0)
                    } else if (2005 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        g._id == e._ids[2] && (r.recHp(g, d[0], e._id, t._id, n), h = !0)
                    } else if (2006 == p._refId) 1 == g._pos && n != a.Data.SkillMode.bcs2gl ? g._owner._opponent._fortress._extraDrawbackCost = d[0] : g._owner._opponent._fortress._extraDrawbackCost = null; else if (2007 == p._refId) {
                        for (w = g._owner.getBattleCards("B"), m = 0; m < w.length; m++) {
                            for (F = [], V = w[m]._underSkills.length - 1; V >= 0; V--) w[m]._underSkills[V]._sid != t._id && F.push(w[m]._underSkills[V]);
                            w[m]._underSkills = F
                        }
                        var G = c._owner._boardCards[1];
                        Math.max(r._round, _._round) > 0 && g.hasBuff(!1, i.default.NegativeType.sleep) && !g.getIsIgnoreNegative() ? (r.incPositiveStatus(G, i.default.PositiveType.ignoreOppoMonsterSkillHalo, !0, e._id, t._id, n), g.hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillHalo) || (h = !0)) : null != g && g.hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillHalo) && (h = !0)
                    } else if (2008 == p._refId) {
                        (f = g._owner.getBattleCardsByNature("B", p._refCards[0], null, g)).length > 0 && (r.randomOne(f)._obj.addMark(i.default.PositiveType.powerMark, d[0], e._id, t._id, n), h = !0)
                    } else if (2009 == p._refId) Math.max(r._round, _._round) > 0 && g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0]}); else if (2010 == p._refId) null != l && l.getBuffValue(!0, i.default.PositiveType.powerMark) > 0 ? r._forceMonsterDrawbackCostCurRound = d[0] : r._forceMonsterDrawbackCostCurRound = null, h = !1; else if (2011 == p._refId) Math.max(r._round, _._round) > 0 && e._info._level > 0 ? g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_forceVal: 0}) : g.setDamageExtraAdjust(g._owner._round, g._id, t._id, null); else if (2012 == p._refId) {
                        (f = g._owner.getBattleCardsByInfoId("G", p._refCards[0])).length > 0 && g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -f.length * d[0]})
                    } else if (2013 == p._refId) 1 == e._pos && e.hasBuff(!1, i.default.NegativeType.poison) && g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0]}); else if (2014 == p._refId) 1 == e._pos && e.hasBuff(!1, i.default.NegativeType.poison) && c.setDamageExtraAdjust(c._owner._round, c._id, t._id, {_forceVal: 0}); else if (2016 == p._refId) r.decHp(e, d[0], !1, e._id, t._id, n), h = !0; else if (2018 == p._refId) e.addMark(i.default.PositiveType.grassMark, d[0], e._id, t._id, n), h = !0; else if (2019 == p._refId) e.addMark(i.default.PositiveType.fireMark, d[0], e._id, t._id, n), h = !0; else if (2020 == p._refId) e.addMark(i.default.PositiveType.waterMark, d[0], e._id, t._id, n), h = !0; else if (2021 == p._refId) e.addMark(i.default.PositiveType.electricityMark, d[0], e._id, t._id, n), h = !0; else if (2022 == p._refId) r.isCardInDecHpUnderSkill(l) && (r.decHp(e, d[0], !1, e._id, t._id, n), h = !0); else if (2025 == p._refId) {
                        var W = g.getBuffValue(!0, i.default.PositiveType.powerMark);
                        if (W >= 2 && (r._decMonsterInNatureDrawbackCostRounds[p._refCards[0]][r._round] = 1), W >= 4) for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < f.length; m++) 0 == f[m]._haloedMaxHpInc && (r.incHp(f[m], 10, !1, e._id, t._id, n), h = !0)
                    } else if (2029 == p._refId) g._isTroopCard && (g._owner._ball = g._owner._ball + 1); else if (2030 == p._refId) Math.max(r._round, _._round) > 0 && null != e._info._level && e._info._level > 0 ? g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0]}) : g.setDamageExtraAdjust(g._owner._round, g._id, t._id, null); else if (2031 == p._refId) for (f = g._owner.getBattleCards("B"), m = 0; m < f.length; m++) f[m]._info._nature == p._refCards[0] && f[m].setDamageExtraAdjust(f[m]._owner._round, g._id, t._id, {_adjustVal: -d[0]}); else if (2033 == p._refId) {
                        null != (E = g._owner._opponent._boardCards[1]) && (E.removePowerMark(d[0], e._id, t._id, n), h = !0)
                    } else if (2034 == p._refId) g._hp < g._maxHp && (r.recHp(g, d[0], e._id, t._id, n), h = !0); else if (2035 == p._refId) {
                        var Y = r.isCardInDecHpUnderSkill(c, !0);
                        Y._is && (g._damageWithWeakness ? r.decHpForce(g, d[1], !1, e._id, t._id, n) : (r.recHpForce(g, Math.min(d[0], -Y._result), !1, e._id, t._id, n), g._damageWithResist = !0))
                    } else if (2036 == p._refId) {
                        (E = o.B.createCard(p._refCards[0], 1))._status = i.default.CardStatus.leave, E._isTroopCard = !0, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.pile, i.default.CardStatusVal.x2p_bottom), h = !0
                    } else if (2038 == p._refId) {
                        (E = o.B.createCard(p._refCards[0], 1))._status = i.default.CardStatus.leave, E._isTroopCard = !0, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.board), h = !0
                    } else if (2039 == p._refId) {
                        for (T = r.getBattleCardsByOriginId("B", p._refCards[0]).length * d[0], x = [], m = 0; m < g._underSkills.length; m++) g._underSkills[m]._sid == t._id || x.push(g._underSkills[m]);
                        g._underSkills = x, r.incHp(g, T, !0, e._id, t._id, n), h = !0
                    } else if (2040 == p._refId) {
                        for (f = _.getBattleCards("B"), m = 0; m < f.length; m++) if (f[m]._hp < f[m]._maxHp) {
                            r.incPositiveStatus(g, i.default.PositiveType.extraBaseDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(g, i.default.PositiveType.extraBaseDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0;
                            break
                        }
                    } else if (2041 == p._refId) g.hasBuff(!1, p._refSkills[0]) && (r.incPositiveStatus(g, i.default.PositiveType.extraBaseDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(g, i.default.PositiveType.extraBaseDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0); else if (2045 == p._refId) {
                        var K = g.getBuffValue(!0, i.default.PositiveType.powerMark);
                        if (g._owner == r) {
                            var z = g._owner._opponent._boardCards[1];
                            r._actionCard == g && null != z ? (z.setDamageExtraAdjust(z._owner._round, g._id, t._id, {_adjustVal: d[0] * K}), h = !1) : z.setDamageExtraAdjust(z._owner._round, g._id, t._id, null)
                        } else g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0] * K}), h = !1
                    } else if (2046 == p._refId) {
                        f = r.getBattleCardsByOriginId("P", p._refCards[0]);
                        null != (E = r.getCardById(e._ids && e._ids[2])) ? (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), r._mustUseChooseCardSkill = null, h = !0) : f.length > 0 && (r._mustUseChooseCardSkill = {
                            _count: 1,
                            _sid: t._id,
                            _cid: e._id,
                            _ids: [e._id, t._id],
                            _cards: f,
                            _aiIds: [e._id, t._id, f[0]._id]
                        })
                    } else if (2050 == p._refId) {
                        var j = e._prevPower;
                        if ((f = r.filterNotEnoughPowerCards(r.getBattleCards("B", null, l), !1)).length > 0) r.randomOne(f)._obj.addMark(i.default.PositiveType.powerMark, j, e._id, t._id, n), h = !0
                    } else if (2051 == p._refId) d[0] <= e._prevPower && null != u && (r.setCardStatus(u, i.default.CardStatus.grave, e._id, t._id, n), h = !0); else if (2053 == p._refId) {
                        var q = (X = c._owner._opponent._boardCards[1]) ? X.getBuffValue(!0, i.default.PositiveType.powerMark) : 0;
                        Math.max(r._round, _._round) > 0 && q > 0 ? g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0] * q}) : g.setDamageExtraAdjust(g._owner._round, g._id, t._id, null)
                    } else if (2054 == p._refId) {
                        q = (X = g._owner._opponent._boardCards[1]) ? g._owner.getDrawbackCost(X) : 0;
                        Math.max(r._round, _._round) > 0 && q > 0 ? g.setDamageExtraAdjust(g._owner._round, g._id, t._id, {_adjustVal: -d[0] * q}) : g.setDamageExtraAdjust(g._owner._round, g._id, t._id, null)
                    } else if (2055 == p._refId) {
                        var X;
                        q = (X = g._owner._opponent._boardCards[1]) ? g._owner.getDrawbackCost(X) : 0;
                        Math.max(r._round, _._round) > 0 && null != g._binds[0] ? g.setDamageExtraAdjust(c._owner._round, g._id, t._id, {_adjustVal: -d[0]}) : g.setDamageExtraAdjust(c._owner._round, g._id, t._id, null)
                    } else if (2056 == p._refId) {
                        for (f = g._owner._opponent.getBattleCards("H"), m = 0; m < Math.min(f.length, d[0]); m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n), h = !0;
                        null != u && (u.removePowerMark(d[1], e._id, t._id, n), h = !0)
                    } else if (2057 == p._refId) for (f = g._owner.getBattleCards("B", null, g), m = 0; m < f.length; m++) {
                        for (x = [], V = f[m]._underSkills.length - 1; V >= 0; V--) f[m]._underSkills[V]._sid != t._id && x.push(f[m]._underSkills[V]);
                        f[m]._underSkills = x, Math.max(r._round, _._round) > 0 && o.B.isAlive(f[m]) && 1 != f[m]._pos && f[m]._info._nature == p._refCards[0] && n != a.Data.SkillMode.bcs2gl && (r.incPositiveStatus(f[m], i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo, !0, e._id, t._id, n), f[m].hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo) ? f[m].hasBuff(!0, i.default.PositiveType.ignoreOppoMonsterSkillDamageHalo) && (h = !0) : h = !0)
                    } else if (3001 == p._refId) {
                        for (x = [], m = 0; m < g._underSkills.length; m++) g._underSkills[m]._sid == t._id || x.push(g._underSkills[m]);
                        g._underSkills = x, n == a.Data.SkillMode.using && (r.incPositiveStatus(e, i.default.PositiveType.ignoreOppoMonsterSkillHalo, !0, e._id, t._id, n), h = !0)
                    } else if (3002 == p._refId) null == u ? h = !1 : e._ids && null != e._ids[2] ? (r.addGivenSkillToOppo(e, u._skills[e._ids[2] + 1 - 1]._id, e._id, t._id, n), r._mustUseChooseSkillSkill = null, h = !0) : 1 == u._skills.length ? (r.addGivenSkillToOppo(e, u._skills[0]._id, e._id, t._id, n), r._mustUseChooseSkillSkill = null, h = !0) : r._mustUseChooseSkillSkill = {
                        _cid: e._id,
                        _sid: t._id
                    }; else if (3003 == p._refId) {
                        for (q = 0, f = r.getBattleCards("B"), m = 0; m < f.length; m++) for (E = f[1], V = 0; V < E._skills.length; V++) {
                            var Z = a.Data.getSkillType(E._skills[V]._id);
                            if (Z == a.Data.SkillType.monster_body || Z == a.Data.SkillType.monster_strength || Z == a.Data.SkillType.monster_ability) {
                                q += 1;
                                break
                            }
                        }
                        r.incHp(c, q * d[0], !1, e._id, t._id, n), h = !0
                    } else if (3004 == p._refId) u.removePowerMark(d[0], e._id, t._id, n), h = !0; else if (3005 == p._refId) e._maxHp - e._hp > 0 && (r.recHp(e, e._maxHp, e._id, t._id, n), h = !0); else if (3006 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.forceDrawbackMonster(u, E, e._id, t._id, n), h = !0)
                    } else if (3007 == p._refId) {
                        E = r.getCardById(e._ids && e._ids[2]), f = r.filterCardsByLevel(r.filterCanChangeToHandCards(r.getBattleCardsByMaxHp("G", d[0])), 0);
                        var J = o.B.getMaxHpCard(f);
                        null != E ? (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), r._mustUseChooseCardSkill = null, h = !0) : null != J && (r._mustUseChooseCardSkill = {
                            _count: 1,
                            _sid: t._id,
                            _cid: e._id,
                            _ids: [e._id, t._id],
                            _cards: f,
                            _aiIds: [e._id, t._id, J._id]
                        })
                    } else if (3008 == p._refId) 1 != e._pos && (e.addMark(i.default.PositiveType.powerMark, d[0], e._id, t._id, n), h = !0); else if (3009 == p._refId) e.addMark(i.default.PositiveType.powerMark, d[0], e._id, t._id, n), h = !0; else if (3010 == p._refId) _._magicCardUseLimit[r._round + 1] = 1, h = !0; else if (3011 == p._refId) {
                        (f = r.getBattleCardsByOriginId("B", p._refCards[0])).length > 0 && (r.incHp(e, d[0] * f.length, !1, e._id, t._id, n), h = !0)
                    } else if (3012 == p._refId) {
                        E = r.getCardById(e._ids && e._ids[2]), f = r.getBattleCardsByCategory("G", a.Data.CardCategory.ex);
                        null != E ? (r._mustUseChooseCardSkill = null, r.setCardStatus(E, r.getBattleCards("B").length < a.Data.MAX_CARD_COUNT_ON_BOARD ? i.default.CardStatus.board : i.default.CardStatus.hand, e._id, t._id, n), e.removeSkillById(t._id), e.removeSkillById(p._refSkills[0]), e.addSkill(p._refSkills[0], 1, i.default.SkillProvider.given), h = !0) : f.length > 0 ? r._mustUseChooseCardSkill = {
                            _count: 1,
                            _sid: t._id,
                            _cid: e._id,
                            _ids: [e._id, t._id],
                            _cards: f,
                            _aiIds: [e._id, t._id, f[0]._id]
                        } : (e.removeSkillById(t._id), e.removeSkillById(p._refSkills[0]), e.addSkill(p._refSkills[0], 1, i.default.SkillProvider.given))
                    } else if (3013 == p._refId) {
                        k = r.getBattleCardsByOriginId("B", p._refCards[0], null, e);
                        var Q = _.getBattleCards("P");
                        if (null == r._castedSkillCounts[t._id] && k.length > 0 && Q.length > 0) {
                            for (m = 0; m < Math.min(d[0], Q.length); m++) r.setCardStatus(Q[m], i.default.CardStatus.grave, e._id, t._id, n);
                            h = !0
                        }
                    } else if (3014 == p._refId) {
                        if (null == (E = r.getCardById(e._ids && e._ids[2]))) {
                            f = _.getBattleCardsByLevel("B", 0, null, u);
                            null == r._castedSkillCounts[t._id] && f.length > 0 && (r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id],
                                _cards: f,
                                _aiIds: [e._id, t._id, f[0]._id]
                            })
                        } else r._mustUseChooseCardSkill = null, r.decHp(E, d[0], !1, e._id, t._id, n), h = !0
                    } else if (3015 == p._refId) {
                        if (null == (E = r.getCardById(e._ids && e._ids[2]))) {
                            for (f = _.getBattleCards("B"), k = [], m = 0; m < f.length; m++) f[m]._maxHp < f[m]._hp && k.push(f[m]);
                            null == r._castedSkillCounts[t._id] && f.length > 0 && (r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id],
                                _cards: k,
                                _aiIds: [e._id, t._id, k[0]._id]
                            })
                        } else r._mustUseChooseCardSkill = null, r.decMaxHp(E, E._haloedMaxHpInc, !1, e._id, t._id, n), h = !0
                    } else if (3016 == p._refId) null != u && u._maxHp < u._hp && (r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0); else if (3017 == p._refId) {
                        (E = o.B.createCard(r.randomOne(p._refCards)._obj, 1))._status = i.default.CardStatus.leave, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.hand), h = !0
                    } else if (4001 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0)
                    } else if (4002 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (E.addMark(i.default.PositiveType.powerMark, d[0], e._id, t._id, n), h = !0)
                    } else if (4003 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), e._lastCount, r.incNegativeStatus(u, i.default.NegativeType.poison, !1, e._id, t._id, n), h = !0; else if (4004 == p._refId) {
                        N = r.getCardById(e._ids[2]);
                        var $ = r.getCardById(e._ids[3]);
                        if (null != N && null != $) r.setCardStatus(N, i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus($, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show), r._mustUseChooseCardSkill = null, h = !0; else if (null != N) {
                            f = r.filterCardsExceptCategory(r.filterCardsExceptCategory(r.filterCanChangeToHandCards(r.getBattleCardsByNature("G", p._refCards[0])), a.Data.CardCategory.ex), a.Data.CardCategory.gx);
                            r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id, N._id],
                                _cards: f,
                                _aiIds: [e._id, t._id, N._id, f[0]._id]
                            }
                        }
                    } else if (4005 == p._refId || 7019 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.forceDrawbackMonster(_._boardCards[1], E, e._id, t._id, n), h = !0)
                    } else if (4006 == p._refId) {
                        var ee = d[2] - r.getBattleCards("H").length;
                        if (ee > 0) for (f = r.filterCanChangeToHandCards(r.getBattleCards("P")), m = 0; m < ee; m++) null != f[m] && (r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (4007 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0; else if (4013 == p._refId) {
                        var te = _.getBattleCards("H");
                        for (f = r.randomTable(te, Math.min(te.length, d[0])), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.pile, e._id, t._id, n, i.default.CardStatusVal.x2p_top);
                        h = !0
                    } else if (4014 == p._refId) {
                        for (te = _.getBattleCards("H"), f = r.randomTable(te, Math.min(te.length, d[0])), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.pile, e._id, t._id, n);
                        h = !0
                    } else if (4015 == p._refId) r.setCardStatus(r.getBattleCardsByOriginId("P", p._refCards[0])[0], i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (4016 == p._refId) {
                        var ne = [];
                        for (m = 1; m <= 5; m++) l.hasBuff(!1, m) && ne.push(m);
                        r.incNegativeStatus(u, r.randomOne(ne)._obj, !1, e._id, t._id, n), h = !0
                    } else if (4017 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (e._isSilentEvolve = !0, r.changeCardStatus(e, i.default.CardStatus.board, i.default.CardStatus.leave, i.default.CardStatusVal.b2l_evolve), E._baseCard = e, E._isEvolved = !0, E._isEvolve = !0, E._saved._pos = e._pos, E._saved._powerMark = Math.max(e.getBuffValue(!0, i.default.PositiveType.powerMark) - d[1], 0), E._saved._bind = e._binds[0], E._updateHp = e._maxHp, r.changeCardStatus(E, i.default.CardStatus.pile, i.default.CardStatus.board, i.default.CardStatusVal.h2b_normal), h = !0)
                    } else if (4018 == p._refId) {
                        (E = o.B.createCard(r.randomOne(p._refCards)._obj, 1))._status = i.default.CardStatus.leave, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.hand), h = !0
                    } else if (5001 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.recHp(E, d[0], e._id, t._id, n), h = !0)
                    } else if (5002 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.recHp(E, E._maxHp - E._hp, e._id, t._id, n), E.removePowerMark(d[0], e._id, t._id, n), h = !0)
                    } else if (5003 == p._refId) null != l && (r.decNegativeStatus(l, i.default.NEGATIVE_COMMON, !1, e._id, t._id, n), h = !0); else if (5005 == p._refId) null != l && (r.incPositiveStatus(l, i.default.PositiveType.extraBaseDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraBaseDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0); else if (5006 == p._refId) {
                        E = r.getCardById(e._ids[2]), N = r.filterCanChangeToHandCards(r._pileCards)[0];
                        null != E && (E.addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), null != N && r.setCardStatus(N, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (5007 == p._refId || 5014 == p._refId) {
                        if (null != l) for (m = 1; m <= d[0]; m++) l.addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), h = !0
                    } else if (5009 == p._refId) {
                        e._lastCount = o.B.throwCoins(e, p._coinCount, t);
                        C = o.B.getCoinFaceCount(e._lastCount), f = r.filterCanChangeToHandCards(r._pileCards);
                        if (C > 0) {
                            for (m = 0; m < Math.min(f.length, d[0]); m++) r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n);
                            null != u && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n)
                        }
                        h = !0
                    } else if (5010 == p._refId) r._incMonsterDamageToMainRounds[r._round] = (r._incMonsterDamageToMainRounds[r._round] || 0) - d[0], r._incMonsterDamageToMainRounds[r._round + 1] = (r._incMonsterDamageToMainRounds[r._round + 1] || 0) + d[1], h = !0; else if (5012 == p._refId) for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < f.length; m++) r.recHp(f[m], d[0], e._id, t._id, n), h = !0; else if (5013 == p._refId) r.incPositiveStatus(l, [i.default.PositiveType.extraSkill], !0, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraSkill, 65536 + p._refSkills[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0; else if (5015 == p._refId) r._nextMonsterSpellPowerFactor = 2, h = !0; else if (5016 == p._refId) r._nextSkillPowerFactor[p._refSkills[0]] = 10, h = !0; else if (5019 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (5020 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (5023 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (5025 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), r.setCardStatus(e, i.default.CardStatus.leave, e._id, t._id, n), h = !0)
                    } else if (5026 == p._refId) r.incPositiveStatus(l, i.default.PositiveType.extraFaceCountInRound, !1, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraFaceCountInRound, 65536 * r._round + 1, a.Data.AggregateType.table, e._id, t._id, n), h = !0; else if (5027 == p._refId) r.incNegativeStatus(l, p._refSkills, !1, e._id, t._id, n), r._skillKeepPowerByNatureCurRound[l._info._nature] = !0, h = !0; else if (5029 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount ? r.recHp(r._boardCards[1], d[0], e._id, t._id, n) : r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0; else if (5030 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        r.revertAbilitySkillEffect(e, E._skills[0], n), r.unbindCard(E, E._equipTarget, e._id, t._id, n), r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), h = !0
                    } else if (5031 == p._refId) {
                        for (f = r.filterHasEnergyCards(o.B.mergeTable([r.getBattleCards("B"), _.getBattleCards("B")])), m = 0; m < f.length; m++) f[m].removePowerMark(f[m].getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n);
                        h = !0
                    } else if (5032 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5033 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        r.revertAbilitySkillEffect(e, E._skills[0], n), E._equipTarget._owner != e._owner && E._equipTarget.removePowerMark(d[0], e._id, t._id, n), r.unbindCard(E, E._equipTarget, e._id, t._id, n), r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), h = !0
                    } else if (5035 == p._refId) {
                        null != (E = r.filterCanChangeToHandCards(r.getBattleCards("P"))[0]) && r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), null != u && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0
                    } else if (5039 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5040 == p._refId) {
                        for (f = r.getBattleCardsByOriginId("B", p._refCards[0]), m = 0; m < f.length; m++) r.incPositiveStatus(f[m], i.default.PositiveType.exDamageToAllWhenAtk, !1, e._id, t._id, n), r.incPositiveValue(f[m], i.default.PositiveType.exDamageToAllWhenAtk, d[0], a.Data.AggregateType.max, e._id, t._id, n);
                        h = !0
                    } else if (5041 == p._refId) {
                        if (null != (E = r.getCardById(e._ids[2]))) r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), r.setCardStatus(e, i.default.CardStatus.leave, e._id, t._id, n), null != ($ = (f = r.filterCanChangeToHandCards(r.getBattleCards("P")))[0] == E ? f[1] : f[0]) && r.setCardStatus($, i.default.CardStatus.hand, e._id, t._id, n);
                        h = !0
                    } else if (5043 == p._refId) {
                        (f = r.filterCanChangeToHandCards(r.getBattleCards("P")))[0]._type == a.Data.CardType.monster && 0 == f[0]._info._level ? r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show) : r.setCardStatus(f[0], i.default.CardStatus.grave, e._id, t._id, n, i.default.CardStatusVal.p2g_show), h = !0
                    } else if (5044 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        if (null == e._ids[3]) {
                            f = r.filterCardsByInfoType(r.getBattleCards("G"), a.Data.MagicTrapType.item);
                            r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id, e._ids[2]],
                                _cards: f,
                                _aiIds: [t._id, e._id, e._ids[2], f[0]._id]
                            }
                        } else r._mustUseChooseCardSkill = null, r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[3]), i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (5045 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        if (null == e._ids[3]) {
                            N = r.getCardById(e._ids[2]), f = r.filterCardsByNature(r.getBattleCards("G"), N._info._nature);
                            r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id, e._ids[2]],
                                _cards: f,
                                _aiIds: [e._id, t._id, e._ids[2], f[0]._id]
                            }
                        } else r._mustUseChooseCardSkill = null, r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[3]), i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (5046 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        if (null == e._ids[3]) {
                            for (N = r.getCardById(e._ids[3]), f = r.filterCanChangeToHandCards(r.getBattleCards("P")), Q = [], m = 0; m < f.length; m++) f[m]._info._originId != N._info._originId && f[m]._info._evoBase != N._info._originId && f[m]._info._originId != N._info._evoBase || Q.push(f[m]);
                            r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id, e._ids[2]],
                                _cards: Q,
                                _aiIds: [e._id, t._id, e._ids[2], Q[0]._id]
                            }
                        } else r._mustUseChooseCardSkill = null, r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[3]), i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (5047 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        if (null == e._ids[3]) {
                            f = r.filterCardsByInfoType(r.getBattleCards("P"), a.Data.MagicTrapType.item);
                            r._mustUseChooseCardSkill = {
                                _count: 1,
                                _sid: t._id,
                                _cid: e._id,
                                _ids: [e._id, t._id, e._ids[2]],
                                _cards: f,
                                _aiIds: [e._id, t._id, e._ids[2], f[0]._id]
                            }
                        } else r._mustUseChooseCardSkill = null, r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[3]), i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (5048 == p._refId) {
                        E = r.randomOne(r.filterCardsByMaxHp(r.getBattleCards("P"), 80))._obj;
                        r.setCardStatus(E, i.default.CardStatus.board, e._id, t._id, n), h = !0
                    } else if (5049 == p._refId) r.decBall(1, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5050 == p._refId) null != u && (r.incNegativeStatus(u, r.randomOne(p._refSkills)._obj, !1, e._id, t._id, n), h = !0); else if (5051 == p._refId) r.decHp(u, d[0], !1, e._id, t._id, n), h = !0; else if (5055 == p._refId) {
                        for (f = r.getBattleCards("B"), m = 0; m < f.length; m++) f[m]._info._nature == p._refCards[0] && r.incHp(f[m], d[0], !1, e._id, t._id, n);
                        r._exMaxHpInBattleByNature[p._refCards[0]] = (r._exMaxHpInBattleByNature[p._refCards[0]] || 0) + d[0], r._exDamageInBattleByNature[p._refCards[0]] = (r._exDamageInBattleByNature[p._refCards[0]] || 0) + d[1], h = !0
                    } else if (5059 == p._refId) r.recHp(r.getCardById(e._ids[2]), d[0] + d[1] * r.filterCardsByNature(r.getBattleCards("G"), p._refCards[0]).length, e._id, t._id, n), h = !0; else if (5063 == p._refId) {
                        for (f = o.B.mergeTable([r.getBattleCards("B"), _.getBattleCards("B")]), m = 0; m < f.length; m++) r.recHp(f[m], d[0], e._id, t._id, n);
                        h = !0
                    } else if (5064 == p._refId) {
                        r.recHp(r.getCardById(e._ids[2]), d[0], e._id, t._id, n), null != (E = r.getCardById(e._ids[3])) && r.recHp(E, d[0], e._id, t._id, n), h = !0
                    } else if (5065 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5066 == p._refId) r.decBall(1, e._id, t._id, n), r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5069 == p._refId) r.setCardStatus(r.getCardById(e._ids[2]), i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (5072 == p._refId) {
                        for (f = o.B.mergeTable([r.getBindCardsOnBoard(), _.getBindCardsOnBoard()]), m = 0; m < f.length; m++) {
                            E = f[0];
                            r.revertAbilitySkillEffect(e, f[m]._skills[0], n), r.unbindCard(E, E._equipTarget, e._id, t._id, n), r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n)
                        }
                        for (Q = _.getBattleCards("B"), m = 0; m < Q.length; m++) Q[m].removePowerMark(Q[m].getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n);
                        h = !0
                    } else if (s == a.Data.SkillType.magic_equip) {
                        if (n == a.Data.SkillMode.magic) {
                            var ae = r.getCardById(e._ids[2]);
                            if (6007 != p._refId && e._status == i.default.CardStatus.hand && 0 == ae._binds.length && (r.bindCard(e, ae, e._id, t._id, n), h = !0), e._equipTarget = ae, e._autoUnbindCt = null, 6007 == p._refId) null != ae && (ae.addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), r._powerUsedCount = r._powerUsedCount + 1, h = !0); else if (6043 == p._refId) {
                                if (1 != ae._pos) for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < f.length; m++) f[m]._maxHp < d[0] && f[m].setSkillDecPowerAdjust(-d[1], r._round)
                            } else if (6036 == p._refId) for (m = 0; m < ae._skills.length; m++) {
                                var ie = a.Data.getSkillType(ae._skills[m]._id);
                                ie != a.Data.SkillType.monster_body && ie != a.Data.SkillType.monster_strength && ie != a.Data.SkillType.monster_ability || r.revertAbilitySkillEffect(e, ae._skills[m], n)
                            } else 6050 == p._refId ? r.incHp(ae, d[0], !1, e._id, t._id, n) : 6065 == p._refId && r.incHp(ae, ae._info._originId == p._refCards[0] ? d[1] : d[0], !1, e._id, t._id, n)
                        } else if (6043 == p._refId) {
                            if (1 != c._equipTarget._pos) for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < f.length; m++) f[m]._maxHp < d[0] && f[m].setSkillDecPowerAdjust(-d[1], r._round)
                        } else if (n == a.Data.SkillMode.spell_damage) {
                            if (6055 == p._refId) {
                                f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u);
                                null != u && r._isMonsterActioned && r.isCardInDecHpUnderSkill(u)._is && f.length > 0 && r.decHp(r.randomOne(f)._obj, d[0], !1, e._id, t._id, n), h = !0
                            } else if (6060 == p._refId) f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL); else if (6069 == p._refId) f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL); else if (6077 == p._refId) f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL)
                        } else if (n == a.Data.SkillMode.under_spell_damage) c.isMonster() && c._owner != e._owner && e.hasUnderSkillByDamageFrom(c) && (6001 == p._refId || 6008 == p._refId ? 1 == e._pos && (r.addDamageMark(c, d[0], !1, e._id, t._id, n), h = !0) : 6005 == p._refId && (r.incNegativeStatus(c, i.default.NegativeType.poison, !1, e._id, t._id, n), h = !0)); else if (n == a.Data.SkillMode.bcs2gl) {
                            if (null == e._equipTarget) return;
                            if (6004 == p._refId) r.setCardStatus(e._equipTarget, i.default.CardStatus.hand, e._id, t._id, n), h = !0; else if (6006 == p._refId) u && u.removePowerMark(d[0], e._id, t._id, n), h = !0; else if (6009 == p._refId) u && r.addDamageMark(u, d[0], !1, e._id, t._id, n), h = !0; else if (6010 == p._refId) for (f = r.getBattleCards("B"), m = 0; m < f.length; m++) r.recHp(f[m], d[0], e._id, t._id, n), h = !0; else if (6014 == p._refId) {
                                for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < Math.min(d[0], e._equipTarget._prevPower); m++) {
                                    null != (E = r.randomOne(f)._obj) && (E.addMark(i.default.PositiveType.powerMark, 1, e._id, t._id, n), h = !0)
                                }
                                h && (e._equipTarget._prevPower = e._equipTarget._prevPower - Math.min(d[0], e._equipTarget._prevPower))
                            } else if (6018 == p._refId) {
                                null != (E = r.randomOne(o.B.filterInNatureCards(r.getBattleCardsByLevel("P", 0), e._equipTarget._info._nature))._obj) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                            } else if (6019 == p._refId) {
                                null != (E = r.randomOne(o.B.filterInNatureCards(o.B.mergeTable([r.getBattleCardsByLevel("P", 1), r.getBattleCardsByLevel("P", 2)]), e._equipTarget._info._nature))._obj) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                            } else if (6020 == p._refId) null != u && (u.removePowerMark(d[0], e._id, t._id, n), h = !0); else if (6021 == p._refId) {
                                if (null != u) u.removePowerMark(d[0], e._id, t._id, n), null != (E = r.randomOne(r.getBattleCardsByNature("B", p._refCards[0]))._obj) && E.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n), h = !0
                            } else if (6022 == p._refId) null != u && (r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0); else if (6025 == p._refId) {
                                null != (E = r.randomOne(_.getBattleCards("H"))._obj) && (r.setCardStatus(E, i.default.CardStatus.grave, e._id, t._id, n), h = !0)
                            } else if (6026 == p._refId) {
                                null != (E = o.B.getMinPowerCard(_.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u))) && (r.forceDrawbackMonster(u, E, e._id, t._id, n), h = !0)
                            } else if (6027 == p._refId) {
                                E = null;
                                if (null != e._equipTarget && e._equipTarget._info._level > 0) {
                                    for (E = e._equipTarget; null != E._baseCard;) E = E._baseCard;
                                    null != E && 0 == E._info._level && (r.setCardStatus(E, i.default.CardStatus.board, e._id, t._id, n), h = !0)
                                }
                            } else if (6028 == p._refId) {
                                E = r.filterCanChangeToHandCards(r._pileCards)[0];
                                r._ball <= _._ball && null != E && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                            } else if (6031 == p._refId) null != u && (r.incNegativeStatus(u, i.default.NegativeType.disableLastSkill, !1, e._id, t._id, n), r.incNegativeValue(u, i.default.NegativeType.disableLastSkill, 2, a.Data.AggregateType.max, e._id, t._id, n), h = !0); else if (6034 == p._refId) {
                                if (null != u && u._info._level == d[0] && null != u._baseCard) {
                                    E = u._baseCard;
                                    u._baseCard = null, r.setCardStatus(u, i.default.CardStatus.grave, e._id, t._id, n, i.default.CardStatusVal.b2g_degrade), E._saved._pos = u._pos, E._saved._powerMark = u.getBuffValue(!0, i.default.PositiveType.powerMark), E._saved._bind = u._binds[0], r.setCardStatus(E, i.default.CardStatus.board, e._id, t._id, n), h = !0
                                }
                            } else if (6058 == p._refId) for (f = g._owner._opponent.getBattleCards("B", a.Data.CARD_MAX_LEVEL, g._owner._opponent._boardCards[1]), m = 0; m < f.length; m++) r.decHp(f[m], d[0], !1, e._id, t._id, n), h = !0; else if (6061 == p._refId) {
                                var oe = g._owner._opponent.getBattleCards("H");
                                for (f = r.randomTable(oe, Math.min(d[0], oe.length)), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n), h = !0
                            }
                        } else if (n == a.Data.SkillMode.round_begin) if (6017 == p._refId) r.recHp(e, d[0], e._id, t._id, n), h = !0; else if (6039 == p._refId) o.B.isAlive(g._equipTarget) && g._equipTarget._hp < d[0] && (g._equipTarget.removePowerMark(g._equipTarget.getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n), h = !0); else if (6040 == p._refId) null == r._castedSkillCounts[t._id] && o.B.isAlive(g._equipTarget) && (g._skill6040RoundCount = (g._skill6040RoundCount || 0) + 1, 1 == g._equipTarget._pos && g._skill6040RoundCount == d[0] && (r.setCardStatus(g._equipTarget, i.default.CardStatus.grave, e._id, t._id, n), h = !0)); else if (6044 == p._refId) {
                            if (1 != g._equipTarget._pos) {
                                for (f = r.getBattleCardsByNature("B", p._refCards[0]), m = 0; m < f.length; m++) f[m]._maxHp < d[0] && r.recHp(f[m], d[1], e._id, t._id, n);
                                h = !0
                            }
                        } else 6056 == p._refId ? (r.decHp(g._equipTarget, d[0], !1, e._id, t._id, n), h = !0) : 6064 == p._refId && (g._equipTarget.removePowerMark(d[0], e._id, t._id, n), h = !0); else if (n == a.Data.SkillMode.round_end) if (6035 == p._refId) o.B.isAlive(g._equipTarget) && 1 == g._equipTarget._pos && (r.decHp(g._equipTarget, d[0], !1, e._id, t._id, n), h = !0); else if (6041 == p._refId) {
                            (f = r.filterCanEvolveWithCards(r.getBattleCardsByType("P", a.Data.CardType.monster), g._equipTarget, !0)).length > 0 && (r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                        } else 6052 == p._refId ? (r.unbindCard(g, g._equipTarget, e._id, t._id, n), r.setCardStatus(g, i.default.CardStatus.grave, e._id, t._id, n), h = !0) : 6053 == p._refId || 6059 == p._refId ? (g._autoUnbindCt = g._autoUnbindCt ? g._autoUnbindCt + 1 : 1, d[0] <= g._autoUnbindCt && (g._autoUnbindCt = null, r.unbindCard(g, g._equipTarget, e._id, t._id, n), r.setCardStatus(g, i.default.CardStatus.grave, e._id, t._id, n), h = !0)) : 6056 == p._refId || 6064 == p._refId ? (g._autoUnbindCt = g._autoUnbindCt ? g._autoUnbindCt + 1 : 1, d[1] <= g._autoUnbindCt && (c._autoUnbindCt = null, r.unbindCard(g, g._equipTarget, e._id, t._id, n), r.setCardStatus(g, i.default.CardStatus.grave, e._id, t._id, n), h = !0)) : 6078 == p._refId && o.B.isAlive(g._equipTarget) && 1 != g._equipTarget._pos && (r.decHp(g._equipTarget, d[0], !1, e._id, t._id, n), h = !0); else if (n == a.Data.SkillMode.initiative) if (6030 == p._refId) null != u && r._isMonsterActioned && (e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && r.incNegativeStatus(u, p._refSkills, !1, e._id, t._id, n), h = !0); else if (6042 == p._refId) {
                            if (null != u && r._isMonsterActioned && e._hp < d[0]) (f = r.getBattleCardsByNature("P", p._refCards[0])).length > 0 && r.setCardStatus(r.randomOne(f)._obj, i.default.CardStatus.hand, e._id, t._id, n), h = !0
                        } else 6066 == p._refId && null != u && u.hasBuff(!1, p._refSkills[0]) && (r.incPositiveStatus(e, i.default.PositiveType.extraBaseDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(e, i.default.PositiveType.extraBaseDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0); else if (n == a.Data.SkillMode.using) {
                            if (6062 == p._refId) (f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u)).length > 0 && (r.decHp(r.randomOne(f)._obj, d[0], !1, e._id, t._id, n), h = !0); else if (6063 == p._refId) {
                                (f = _.getBattleCards("H")).length > 0 && (r.setCardStatus(r.randomOne(f)._obj, i.default.CardStatus.grave, e._id, t._id, n), h = !0)
                            } else 6057 == p._refId && e._info._level >= 1 && (r.decHp(e, d[0], !1, e._id, t._id, n), h = !0)
                        }
                    } else if (7001 == p._refId) {
                        if (e._lastCount = o.B.throwCoins(e, p._coinCount, t), (T = o.B.getCoinFaceCount(e._lastCount)) > 0) for (f = r.filterCanChangeToHandCards(r._pileCards), m = 0; m < T; m++) null != f[m] && r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n);
                        h = !0
                    } else if (7002 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show_random), r.randomPile(), h = !0)
                    } else if (7003 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 != e._lastCount && 3 != e._lastCount || null == _._pileCards[0] || r.setCardStatus(_._pileCards[0], i.default.CardStatus.grave, e._id, t._id, n), 2 != e._lastCount && 3 != e._lastCount || null == _._pileCards[1] || r.setCardStatus(_._pileCards[1], i.default.CardStatus.grave, e._id, t._id, n), h = !0; else if (7004 == p._refId) r._incMonsterDamageToMainRounds[r._round] = (r._incMonsterDamageToMainRounds[r._round] || 0) + d[0], h = !0; else if (7005 == p._refId) {
                        if (null != (E = r.getCardById(e._ids[2]))) for (f = o.B.filterCardsByRandomInfo(r.filterCanChangeToHandCards(r.getBattleCards("P")), d[0], r._skillRandomInfo[7005]), m = 0; m < d[0]; m++) f[m] && (f[m], r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (7006 == p._refId) for (f = r.filterCanChangeToHandCards(r.getBattleCards("P")), m = 0; m < Math.min(d[0], f.length); m++) r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n, i.default.CardStatusVal.p2h_show), h = !0; else if (7008 == p._refId) r.swapHandPileCards(r.getBattleCards("H", a.Data.CARD_MAX_LEVEL, e), d[0], e._id, t._id, n), _.swapHandPileCards(_.getBattleCards("H"), d[0], e._id, t._id, n), h = !0; else if (7009 == p._refId) for (f = r.filterCanChangeToHandCards(r._pileCards), m = 0; m < d[0]; m++) null != f[m] && (r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n), h = !0); else if (7010 == p._refId) {
                        null != (f = r.filterCanChangeToHandCards(r._pileCards))[0] && (r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n), f[0]._info._nature == p._refCards[0] && null != f[1] && r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n), h = !0)
                    } else if (7012 == p._refId) r._forceMonsterDrawbackCostCurRound = 0, h = !0; else if (7015 == p._refId || 7016 == p._refId || 7017 == p._refId || 7018 == p._refId || 7051 == p._refId || 8001 == p._refId) {
                        if (null != (E = r.getCardById(e._ids[2]))) {
                            var re = l._binds[0];
                            l._isSilentEvolve = !0, r.changeCardStatus(l, i.default.CardStatus.board, i.default.CardStatus.leave, i.default.CardStatusVal.b2l_evolve), E._baseCard = l, E._isEvolved = !0, E._isEvolve = !0, E._saved._pos = l._pos, 7051 == p._refId ? (E._saved._powerMark = Math.max(q.getBuffValue(!0, i.default.PositiveType.powerMark) - d[1], 0), E._saved._bind = re) : 7017 != p._refId && 7018 != p._refId ? (E._saved._powerMark = q.getBuffValue(!0, i.default.PositiveType.powerMark), E._saved._bind = re) : null != re && r.changeCardStatus(re, i.default.CardStatus.leave, i.default.CardStatus.grave), E._updateHp = E._maxHp, r.changeCardStatus(E, i.default.CardStatus.pile, i.default.CardStatus.board, i.default.CardStatusVal.h2b_normal), h = !0
                        }
                    } else if (7020 == p._refId) r.incPositiveStatus(l, i.default.PositiveType.extraDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0; else if (7021 == p._refId) {
                        if (0 == e._ids[2]) r.incPositiveStatus(l, i.default.PositiveType.extraDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraDamageInRound, 65536 * r._round + d[0], a.Data.AggregateType.table, e._id, t._id, n), h = !0; else null != (E = r.filterCanChangeToHandCards(r._pileCards)[0]) && r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n)
                    } else if (7022 == p._refId) u && (e._lastCount = o.B.throwCoins(e, p._coinCount, t), u.removePowerMark(o.B.getCoinFaceCount(e._lastCount) * d[0], e._id, t._id, n), h = !0); else if (7025 == p._refId) {
                        (E = r.getCardById(e._ids[2])).removePowerMark(E.getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n), null != E._binds[0] && r.setCardStatus(E._binds[0], i.default.CardStatus.grave, e._id, t._id, n), r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (7026 == p._refId) _._disableEvoleMainCard[_._round + 1] = !0, h = !0; else if (7027 == p._refId) {
                        for (f = r.getBattleCards("H"), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n);
                        for (k = r.filterCanChangeToHandCards(r.getBattleCards("P")), m = 0; m < Math.min(k.length, d[0]); m++) r.setCardStatus(k[m], i.default.CardStatus.hand, e._id, t._id, n);
                        h = !0
                    } else if (7028 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), r.removePowerRandom(_.filterHasEnergyCards(_.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u)), d[0] * o.B.getCoinFaceCount(e._lastCount), e._id, t._id, n), h = !0; else if (7029 == p._refId) h = !0; else if (7030 == p._refId) {
                        if (e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount) (E = o.B.createCard(r.randomOne(_.getBattleCards("H"))._obj._infoId, 1))._status = i.default.CardStatus.leave, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.hand);
                        h = !0
                    } else if (7031 == p._refId) e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && r.setCardStatus(r.randomOne(_.getBattleCards("H"))._obj, i.default.CardStatus.grave, e._id, t._id, n), h = !0; else if (7032 == p._refId || 7033 == p._refId) {
                        7033 == p._refId && r.decBall(1, e._id, t._id, n), (T = u.getBuffValue(!0, i.default.PositiveType.powerMark)) > 0 && u.removePowerMark(T, e._id, t._id, n);
                        for (E = u; null != E;) r.setCardStatus(E, i.default.CardStatus.hand, e._id, t._id, n), E._baseCard = null, E = E._baseCard;
                        r._isMonsterActioned = !0, h = !0
                    } else if (7034 == p._refId) {
                        _._specialFail = !0;
                        for (f = r.getBattleCardsByInfoId("H", p._refCards[0]), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n, i.default.CardStatusVal.p2g_show), h = !0
                    } else if (7036 == p._refId) {
                        7036 == t._id && r.decBall(1, e._id, t._id, n);
                        var _e = Math.min(u._maxHp, Math.max(d[0], l._hp)) - u._hp,
                            se = Math.min(l._maxHp, Math.max(d[0], u._hp)) - l._hp;
                        se > 0 ? r.recHp(l, se, e._id, t._id, n) : se < 0 && r.decHp(l, -se, !1, e._id, t._id, n), _e > 0 ? r.recHp(u, _e, e._id, t._id, n) : _e < 0 && r.decHp(u, -_e, !1, e._id, t._id, n), h = !0
                    } else if (7037 == p._refId) {
                        r.decBall(1, e._id, t._id, n);
                        for (T = 0, f = r.filterHasEnergyCards(r.getBattleCards("B")), m = 0; m < f.length; m++) T += f[m].getBuffValue(!0, i.default.PositiveType.powerMark), f[m].removePowerMark(f[m].getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n);
                        r.decHp(u, d[0] * T, !1, e._id, t._id, n), h = !0
                    } else if (7037 == p._refId) {
                        null != (E = r.getCardById(e._ids[2])) && (r.recHp(E, E._maxHp, e._id, t._id, n), r.decNegativeStatus(E, i.default.NEGATIVE_COMMON, !1, e._id, t._id, n)), h = !0
                    } else if (7040 == p._refId) {
                        k = r.getBattleCards("B");
                        if ((Q = r.filterCanChangeToHandCards(r.getBattleCardsByInfoId("P", p._refCards[1]))).length > 0 && r.setCardStatus(Q[0], i.default.CardStatus.hand, e._id, t._id, n), k.length < a.Data.MAX_CARD_COUNT_ON_BOARD) (E = o.B.createCard(p._refCards[2], 1))._status = i.default.CardStatus.leave, r.addCardToCards(E), r.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.board);
                        h = !0
                    } else if (7041 == p._refId) {
                        E = r.getCardById(e._ids[2]);
                        r.decBall(1, e._id, t._id, n), r.setCardStatus(E, i.default.CardStatus.board, e._id, t._id, n), r.forceDrawbackMonster(l, E, e._id, t._id, n), E._dieInRoundEnd = !0
                    } else if (7042 == p._refId) {
                        for (f = r.filterCanChangeToHandCards(r.getBattleCards("P")), m = 0; m < Math.min(d[0], f.length); m++) r.setCardStatus(f[m], i.default.CardStatus.hand, e._id, t._id, n);
                        for (m = 0; m < d[0]; m++) r._disableDealCard[r._round + m + 1] = !0;
                        h = !0
                    } else if (7043 == p._refId) _._powerUseLimit[r._round + 1] = d[0], h = !0; else if (7044 == p._refId) for (m = 0; m < d[0]; m++) {
                        null != (E = r.getCardById(e._ids[2 + m])) && (r.decHp(E, d[1], !1, e._id, t._id, n), h = !0)
                    } else if (7045 == p._refId) r.recHp(l, d[1] * r.filterCardsByNature(r.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l), p._refCards[0]).length, e._id, t._id, n), h = !0; else if (7046 == p._refId) r.decBall(1, e._id, t._id, n), r._disableDeadRound[r._round] = d[0], h = !0; else if (7047 == p._refId) {
                        for (f = r.getBattleCards("H", a.Data.CARD_MAX_LEVEL, g), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n);
                        r.removePowerRandom(_.getBattleCards("B"), f.length, e._id, t._id, n), h = !0
                    } else if (7048 == p._refId) {
                        for (f = r.getBattleCards("H", a.Data.CARD_MAX_LEVEL, g), m = 0; m < f.length; m++) r.setCardStatus(f[m], i.default.CardStatus.grave, e._id, t._id, n);
                        r.recHp(l, d[0] * f.length, e._id, t._id, n), h = !0
                    } else if (7049 == p._refId) {
                        var ce = {};
                        for (T = 0, f = r.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l), m = 0; m < f.length; m++) null == ce[f[m]._info._nature] && f[m]._info._nature != l._info._nature && (ce[f[m]._info._nature] = !0, T += 1);
                        r.incPositiveStatus(l, i.default.PositiveType.extraDamageInRound, !1, e._id, t._id, n), r.incPositiveValue(l, i.default.PositiveType.extraDamageInRound, 65536 * r._round + d[0] + d[1] * T, a.Data.AggregateType.table, e._id, t._id, n), h = !0
                    } else if (7050 == p._refId) {
                        f = r.filterCanChangeToHandCards(r.getBattleCards("P"));
                        r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n), e._lastCount = o.B.throwCoins(e, p._coinCount, t), 3 == e._lastCount && null != f[1] && r.setCardStatus(f[1], i.default.CardStatus.hand, e._id, t._id, n), h = !0
                    } else if (7052 == p._refId) {
                        f = r.filterCanChangeToHandCards(r.getBattleCards("P"));
                        r.setCardStatus(f[0], i.default.CardStatus.hand, e._id, t._id, n), (E = o.B.createCard(p._refCards[0], 1))._status = i.default.CardStatus.leave, E._isTroopCard = !0, _.addCardToCards(E), _.changeCardStatus(E, i.default.CardStatus.leave, i.default.CardStatus.pile), h = !0
                    } else if (7052 == p._refId) r.incBall(d[0], e._id, t._id, n), h = !0; else if (7054 == p._refId) h = !0; else if (8002 == p._refId) u.removePowerMark(u.getBuffValue(!0, i.default.PositiveType.powerMark), e._id, t._id, n), l.addMark(i.default.PositiveType.powerMark, d[1], e._id, t._id, n), h = !0; else if (8003 == p._refId) r.forceDrawbackMonster(u, r.getCardById(e._ids[2]), e._id, t._id, n), h = !0; else if (8004 == p._refId) r._nextMonsterSpellPowerFactor = 2, h = !0; else if (50001 == p._refId) {
                        if (e.getIsIgnoreNegative()) return;
                        e._lastCount = o.B.throwCoins(e, p._coinCount, t), 1 == e._lastCount && (r.decNegativeStatus(e, i.default.NegativeType.sleep, !1, e._id, t._id, n), r.getActionPlayer()._spellIndex = r.getActionPlayer()._spellIndex - 1), h = !0
                    } else if (50002 == p._refId) {
                        if (e.getIsIgnoreNegative()) return;
                        1 == e._pos && (r.addDamageMark(e, d[0], !1, e._id, t._id, n), h = !0)
                    } else if (50003 == p._refId) {
                        if (e.getIsIgnoreNegative()) return;
                        if (e.hasSkills([2041, 2042])) return;
                        e._lastCount = o.B.throwCoins(e, p._coinCount, t), 0 == e._lastCount && r.addDamageMark(e, d[0], !1, e._id, t._id, n), h = !0
                    } else if (50004 == p._refId) {
                        if (e.getIsIgnoreNegative()) return;
                        r.decNegativeStatus(e, i.default.NegativeType.numb, !1, e._id, t._id, n), r.getActionPlayer()._spellIndex = r.getActionPlayer()._spellIndex - 1, h = !0
                    } else if (50005 == p._refId) {
                        if (e.getIsIgnoreNegative()) return;
                        null == r._castedSkillCounts[t._id] && (e._lastCount = o.B.throwCoins(e, p._coinCount, t), 0 == e._lastCount && (r._isMonsterActioned = !0, r.addDamageMark(e, d[0], !1, e._id, t._id, n)), h = !0)
                    } else if (51001 == p._refId) e.disableUnderSkillByOppoMonsterDamage(e._id, t._id, n) && (h = !0); else if (51002 == p._refId) e.disableUnderSkillByOppoMonsterEffect(e._id, t._id, n) && (h = !0); else if (51003 == p._refId) e.disableUnderSkillByOppoMonster(e._id, t._id, n) && (h = !0); else if (51004 == p._refId) ; else if (51005 == p._refId) {
                        for (K = e.getBuffValue(!0, i.default.PositiveType.exDamageToAllWhenAtk), f = _.getBattleCards("B", a.Data.CARD_MAX_LEVEL, u), m = 0; m < f.length; m++) r.decHp(f[m], K, !1, e._id, t._id, n);
                        h = !0
                    } else 51006 == p._refId ? h = e.disableUnderSkillByBuff(!1, i.default.NegativeType.chaos) : 51007 == p._refId ? (r.setCardStatus(e, i.default.CardStatus.grave, e._id, t._id, n), e._dieInRoundEnd = null, h = !0) : 52001 == p._refId || (52005 == p._refId ? g.hasBuff(!1, i.default.NegativeType.lostAbility) && g.getBuffValue(!1, i.default.NegativeType.lostAbility) <= c._owner._round && r.decNegativeStatus(g, i.default.NegativeType.lostAbility, !1, e._id, 0, n) : 52006 == p._refId && (g._owner._exMaxHpInBattleByNature[g._info._nature] && r.incHp(g, g._owner._exMaxHpInBattleByNature[g._info._nature], !1, e._id, t._id, n), h = !0));
                    h ? (e._type == a.Data.CardType.magic && (s == a.Data.SkillType.magic_item || s == a.Data.SkillType.magic_special || s == a.Data.SkillType.leader_magic ? (r.setCardStatus(e, i.default.CardStatus.grave, e._id, t._id, n), e.advanceLastUnderSkill(1)) : s == a.Data.SkillType.magic_equip && n == a.Data.SkillMode.magic && r.setCardStatus(e, i.default.CardStatus.leave, e._id, t._id, n)), s == a.Data.SkillType.monster_attack && (r._isMonsterActioned = !0), t._totalCastedTimes = t._totalCastedTimes + 1, o.B.isSkillModeCastedByOwner(n) ? r.skillCasted(t._owner, t, n) : r.skillCasted(e, t, n)) : n != a.Data.SkillMode.halo && (t._castTimes = 0)
                }
            }, e.prototype.skillCasted = function (e, t, n) {
                var i = this._player;
                if (i.getActionCard()._needAccount = !0, n != a.Data.SkillMode.halo) {
                    null == e && cc.log("===="), e._castedSkills.push(t), i._castedSkillCounts[t._id] = (i._castedSkillCounts[t._id] || 0) + 1;
                    var o = a.Data.getSkillType(t._id);
                    a.Data.getSkillType(t._id) == a.Data.SkillType.magic_special && (i._specialMagicUsed = !0), o != a.Data.SkillType.magic_item && o != a.Data.SkillType.magic_equip && o != a.Data.SkillType.magic_special && o != a.Data.SkillType.leader_magic || (i._magicCardUsedCount = i._magicCardUsedCount + 1)
                }
            }, e.prototype.revertAbilitySkillEffect = function (e, t, n) {
            }, e.prototype.forceDrawbackMonster = function (e, t, n, a, o) {
                var r = this._player;
                null != e ? (r.setCardPosChange(e, i.default.CardPosChange.swap, n, a, o), r.setCardPosChange(t, i.default.CardPosChange.swap, n, a, o), r.decNegativeStatus(e, i.default.NEGATIVE_COMMON, !1, n, a, o)) : r.setCardPosChange(t, i.default.CardPosChange.x21, n, a, o)
            }, e.prototype.canUseMonster = function (e, t) {
                var n = this._player, i = {_canUse: !1, _result: []};
                if (n._isSummonDisabled) return i;
                if (e.hasSkills([2044])) {
                    for (var o = 0, r = n.getBattleCards("B"), _ = 1; _ <= r.length; _++) {
                        r[_ - 1].hasSkills([2044]) && ++o
                    }
                    if (a.Data._skillInfo[2044]._val[1] <= o) return i
                }
                return n.canUseMonsterNormal(e, t)
            }, e.prototype.canUseMonsterNormal = function (e, t) {
                var n = this._player, a = n.filterCanEvolveCards(n.getBattleCardsByOriginId("B", e._info._evoBase), e);
                if (0 == e._info._level) {
                    if (null != n.getEmptyBackupPos()) return {_canUse: !0, _result: [e._id]}
                } else if (a.length > 0) return {_canUse: !0, _result: [e._id, a[0]._id]};
                return {_canUse: !1, _result: []}
            }, e.prototype.canUseMonsterSpell = function (e, t) {
                var n = this._player, r = {_canUse: !1, _result: []};
                if (n._round <= 0) return r;
                if (n != n.getActionPlayer()) return r;
                var _ = a.Data.getSkillType(t._id), s = a.Data._skillInfo[t._id], c = n._opponent._boardCards[1],
                    l = n._boardCards[1], d = t._id, p = n._opponent;
                if (e.getBuffValue(!0, i.default.PositiveType.powerMark) + 0 < n.getSkillPowerCost(s._power)) return r;
                if (d == e._info._skillId[e._info._skillId.length - 1] && e.hasBuff(!1, i.default.NegativeType.disableLastSkill)) return r;
                if (d == e._info._skillId[e._info._skillId.length - 1] && null != e._binds[0] && e._binds[0].hasSkills([6059])) return r;
                if (_ == a.Data.SkillType.monster_attack) {
                    if (1 == e._owner._round && e._owner._isAttacker && n._battleType != a.Data.BattleType.unittest && n._battleType != a.Data.BattleType.teach) return r;
                    if (1 != e._pos) return r;
                    if (!e.getIsIgnoreNegative() && (e.hasBuff(!1, i.default.NegativeType.sleep) || e.hasBuff(!1, i.default.NegativeType.sleepOneRound) || e.hasBuff(!1, i.default.NegativeType.numb))) return r
                }
                if (e.getIsLostAbility() && (_ == a.Data.SkillType.monster_body || _ == a.Data.SkillType.monster_strength || _ == a.Data.SkillType.monster_ability)) return r;
                var u = [], g = [];
                switch (s._refId) {
                    case 1001:
                    case 1009:
                    case 1014:
                    case 1016:
                    case 1017:
                    case 1020:
                    case 1023:
                    case 1026:
                    case 1042:
                    case 1027:
                    case 1038:
                    case 1043:
                    case 1045:
                    case 1047:
                    case 1050:
                    case 1056:
                    case 1065:
                    case 1066:
                    case 1067:
                    case 1068:
                    case 1069:
                    case 1076:
                    case 1078:
                    case 1081:
                    case 1083:
                    case 1085:
                    case 1100:
                    case 1102:
                    case 1104:
                    case 1109:
                    case 1127:
                    case 1128:
                    case 1131:
                    case 1135:
                    case 1139:
                    case 1145:
                    case 1154:
                    case 1157:
                    case 1164:
                    case 1168:
                    case 1186:
                    case 1199:
                    case 1207:
                    case 1213:
                    case 1224:
                    case 1227:
                    case 1240:
                    case 1247:
                    case 1257:
                    case 1262:
                    case 1267:
                    case 1273:
                    case 1274:
                    case 1284:
                    case 1291:
                    case 1293:
                    case 1302:
                    case 1305:
                    case 1310:
                    case 1315:
                    case 1317:
                    case 1325:
                    case 1327:
                    case 1334:
                    case 1341:
                    case 1350:
                    case 1354:
                    case 1372:
                    case 1375:
                    case 1398:
                    case 1403:
                    case 1412:
                    case 1417:
                    case 1422:
                    case 1436:
                    case 1446:
                    case 1450:
                    case 1451:
                    case 1453:
                    case 1456:
                    case 1457:
                    case 1459:
                    case 1460:
                    case 1461:
                    case 1463:
                    case 1465:
                    case 1472:
                    case 1473:
                    case 1475:
                    case 1477:
                    case 1478:
                    case 1483:
                    case 1488:
                    case 1489:
                    case 1490:
                    case 1491:
                    case 1492:
                    case 1493:
                    case 1494:
                    case 1495:
                    case 1496:
                    case 1497:
                        if (null != c) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1008:
                    case 1012:
                    case 1018:
                    case 1037:
                    case 1125:
                    case 1192:
                    case 1258:
                    case 1281:
                    case 1282:
                    case 1362:
                    case 1371:
                        return {_canUse: !0, _result: [e._id, t._id]};
                    case 1112:
                        if (e._hp < e._maxHp) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1118:
                        if (e._hp < e._maxHp && (null == n._disableSkillRounds[t._id] || 1 != n._disableSkillRounds[t._id][n._round])) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1015:
                    case 1059:
                    case 1088:
                    case 1092:
                    case 1150:
                    case 1479:
                        if ((u = p.getBattleCards("B")).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id, u[1] ? u[1]._id : null]
                        };
                        break;
                    case 1148:
                        if ((u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1123:
                        if (g = n.getBattleCardsByOriginId("B", s._refCards[0]), (u = p.getBattleCards("B")).length > 0 && g.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1264:
                        if ((u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id, u[1] ? u[1]._id : null]
                        };
                        break;
                    case 1072:
                    case 1220:
                        if ((u = n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, (o.B.getMaxHpCard(u) || u[0])._id]
                        };
                        break;
                    case 1236:
                        if (null != c) return (u = n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l)).length > 0 ? {
                            _canUse: !0,
                            _result: [e._id, t._id, o.B.getMaxHpCard(u)._id]
                        } : {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1034:
                        if ((u = n.filterCanChangeToHandCards(n.getBattleCards("P"))).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, (o.B.getMaxHpCard(u) || u[0])._id]
                        };
                        break;
                    case 1041:
                        if ((u = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByNature("P", s._refCards[0])), a.Data.CardCategory.ex), a.Data.CardCategory.gx)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, (o.B.getMaxHpCard(u) || u[0])._id]
                        };
                        break;
                    case 1061:
                        if ((u = n.filterCanChangeToBoardCards(n.getBattleCardsByLevel("P", 0))).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, (o.B.getMaxHpCard(u) || u[0])._id]
                        };
                        break;
                    case 1200:
                        if ((u = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster)), a.Data.CardCategory.ex), a.Data.CardCategory.gx)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, (o.B.getMaxHpCard(u) || u[0])._id]
                        };
                        break;
                    case 1057:
                        if (null != c && n._pileCards.length + p._pileCards.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1091:
                        if ((u = n.filterCardsByCardType(p.getBattleCards("H"), a.Data.CardType.monster)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1093:
                        if (u = p.getBattleCards("H"), n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0 && u.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1142:
                        if (null != c && e._hp < e._maxHp) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1143:
                        if (null != c && n._pileCards.length + n._pileCards.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1163:
                        if (null != c && n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, l).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1170:
                        if (null != c) return (u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0 ? {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        } : {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1195:
                        if (null != c && c._hp < c._maxHp) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1229:
                        if (null != c && (null == n._disableSkillRounds[t._id] || 1 != n._disableSkillRounds[t._id][n._round])) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1241:
                        if ((u = n.filterRemoveByInfoId(n.getBattleCardsByType("G", a.Data.CardType.magic), 39999)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1248:
                        var h = n.getEmptyBoardPosCount();
                        if ((u = n.filterCardsByNature(n.filterCanChangeToBoardCards(n.getBattleCardsByLevel("P", 0)), s._refCards[0])).length > 0 && h > 1) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1250:
                        if ((u = o.B.mergeTable([n.getBattleCardsByInfoId("B", s._refCards[0]), p.getBattleCardsByInfoId("B", s._refCards[0])])).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1294:
                        if (null != c && (u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1296:
                        if (null != c) return u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c), {
                            _canUse: !0,
                            _result: [e._id, t._id, null != u[0] ? u[0]._id : null]
                        };
                        break;
                    case 1300:
                        if ((u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, null != u[0] ? u[0]._id : null, null != u[1] ? u[1]._id : null]
                        };
                        break;
                    case 1321:
                        if ((u = n.getBattleCardsByHurt("B")).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, o.B.getMinHpCard(u)._id]
                        };
                        break;
                    case 1326:
                    case 1345:
                        if (null != c && e._hp < e._maxHp) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1328:
                        if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1344:
                        if (n.getBattleCardsByNature("B", s._refCards[0]).length > 0 && null != c) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1348:
                        if ((u = n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster))).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, null != u[0] ? u[0]._id : null, null != u[1] ? u[1]._id : null]
                        };
                        break;
                    case 1355:
                        if (null != c) {
                            var f = e.getBuffValue(!0, i.default.PositiveType.powerMark);
                            if (Math.max(0, s._val[1] - n.filterCardsByMinLevel(n.getBattleCardsByNature("B", s._refCards[0], a.Data.CARD_MAX_LEVEL, e), 1).length * s._val[2]) <= f) return {
                                _canUse: !0,
                                _result: [e._id, t._id]
                            }
                        }
                        break;
                    case 1364:
                        if ((u = n.filterCardsByLevel(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster)), s._val[0])).length > 0) {
                            var m = n.filterRemoveByNature(u, u[0]._info._nature);
                            return {_canUse: !0, _result: [e._id, t._id, u[0]._id, m[0] ? m[0]._id : null]}
                        }
                        break;
                    case 1365:
                        if (u = n.getBattleCardsByHurt("B", a.Data.CARD_MAX_LEVEL, e), null != c) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0] ? u[0]._id : null]
                        };
                        break;
                    case 1366:
                        if ((u = n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, e)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 1386:
                        if ((u = n.filterNotEnoughPowerCards(n.getBattleCards("B"))).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0] ? u[0]._id : null]
                        };
                        break;
                    case 1406:
                        if ((u = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster)), a.Data.CardCategory.ex), a.Data.CardCategory.gx)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0] ? u[0]._id : null]
                        };
                        break;
                    case 1432:
                        if (n.getBattleCards("B").length > 0) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1442:
                        if ((u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, o.B.getMinHpCard(u)._id]
                        };
                        break;
                    case 1447:
                        if (g = n.getBattleCards("B"), (u = n.getBattleCardsByOriginId("P", s._refCards[0])).length > 0 && g.length < a.Data.MAX_CARD_COUNT_ON_BOARD) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 1466:
                        if (n.getBattleCards("B", null, c).length > 0) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1476:
                        if (n.getBattleCards("P").length > 0) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 1487:
                        if ((u = o.B.mergeTable([n.getBattleCardsByHurt("B"), p.getBattleCardsByHurt("B")])).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 4001:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (u = n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster)), 0 != s._refCards[0] && (u = n.filterCardsByNature(u, s._refCards[0])), t._id >= 4008 && t._id <= 4011 && (u = n.filterCardsByLevel(u, 0)), (u = n.filterCardsExceptCategory(n.filterCardsExceptCategory(u, a.Data.CardCategory.ex), a.Data.CardCategory.gx)).length > 0) {
                            var y = o.B.getMaxHpCard(u);
                            return {_canUse: !0, _result: [e._id, t._id, null != y ? y._id : null]}
                        }
                        break;
                    case 4002:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if ((u = n.filterNotEnoughPowerCards(n.getBattleCardsByNature("B", s._refCards[0]))).length > 0) {
                            y = o.B.getMaxHpCard(u);
                            return {_canUse: !0, _result: [e._id, t._id, null != y ? y._id : null]}
                        }
                        break;
                    case 4003:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (null != c && !c.hasBuff(!1, i.default.NegativeType.poison) && !e.hasBuff(!1)) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 4004:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (u = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByNature("G", s._refCards[0])), a.Data.CardCategory.ex), a.Data.CardCategory.gx), (g = n.filterRemoveByInfoId(n.getBattleCards("H", a.Data.CARD_MAX_LEVEL, e), 39999)).length > 0 && u.length > 0) {
                            y = o.B.getMaxHpCard(u);
                            return {_canUse: !0, _result: [e._id, t._id, g[0]._id, null != y ? y._id : null]}
                        }
                        break;
                    case 4005:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (n._round != e._summonRound) return r;
                        if (null != c && (u = p.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c)).length > 0) {
                            y = o.B.getMaxHpCard(u);
                            return {_canUse: !0, _result: [e._id, t._id, g[0]._id, null != y ? y._id : null]}
                        }
                        break;
                    case 4006:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        u = n.filterCanChangeToHandCards(n.getBattleCards("P"));
                        var T = e.getBuffValue(!0, i.default.PositiveType.powerMark);
                        if (s._val[0] > n.getBattleCards("H").length && s._val[1] <= T && u.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 4007:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (null != c && !e.hasBuff(!1)) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 4013:
                    case 4014:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (1 != e._pos) return r;
                        if (p.getBattleCards("H").length > 0) return {_canUse: !0, _result: [e._id, t._id]};
                        break;
                    case 4015:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (n.getBattleCardsByOriginId("P", s._refCards[0]).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 4016:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (null == c || null == l) return r;
                        for (var S = 1; S <= 5; S++) if (l.hasBuff(!1, S)) return {
                            _canUse: !0,
                            _result: [e._id, t._id]
                        };
                        break;
                    case 4017:
                        if ((u = n.getBattleCardsByOriginId("P", s._refCards[0])).length > 0 && s._val[0] <= e.getBuffValue(!0, i.default.PositiveType.powerMark)) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        };
                        break;
                    case 4018:
                        if (null != n._castedSkillCounts[t._id]) return r;
                        if (1 == e._pos || null != e._binds[0] && e._binds[0].hasSkills([6081])) return {
                            _canUse: !0,
                            _result: [e._id, t._id, u[0]._id]
                        }
                }
                return r
            }, e.prototype.canUseAnyMonsterSpell = function (e) {
                var t = this._player;
                if (t != t.getActionPlayer()) return !1;
                for (var n = 1; n <= e._skills.length; n++) if (t.canUseMonsterSpell(e, e._skills[n - 1])._canUse) return !0;
                return !1
            }, e.prototype.canUseMonsterSpecial = function (e, t) {
                this._player;
                return !1
            }, e.prototype.canUseMonsterSpecific = function (e, t) {
                this._player;
                return !1
            }, e.prototype.canEvolveCard = function (e, t) {
                var n = this._player;
                if (n != n.getActionPlayer()) return !1;
                if (e._owner._round < 0) return !1;
                if (t._isEvolved && (null == t._binds[0] || !t._binds[0].hasSkills([6070, 6071, 6072, 6073]))) return !1;
                if (1 == n._disableEvoleMainCard[e._owner._round]) return !1;
                if (null != t._binds[0] && t._binds[0].hasSkills([6052])) return !1;
                if (e.hasSkills([2044])) {
                    for (var i = 0, o = n.getBattleCards("B"), r = 1; r <= o.length; r++) o[r - 1].hasSkills([2044]) && i++;
                    if (a.Data._skillInfo[2044]._val[1] <= i) return !1
                }
                return t._info._originId == e._info._evoBase
            }, e.prototype.canDrawbackCard = function (e) {
                var t = this._player;
                return t._drawbackCount > 0 ? [!1] : 1 != e._pos ? [!1] : t != t.getActionPlayer() ? [!1] : 1 == t._disableDrawbackRounds[t._round] ? [!1, !0] : e.getBuffValue(!0, i.default.PositiveType.powerMark) < t.getDrawbackCost(e) ? [!1] : !e.getIsIgnoreNegative() && (e.hasBuff(!1, i.default.NegativeType.sleep) || e.hasBuff(!1, i.default.NegativeType.sleepOneRound) || e.hasBuff(!1, i.default.NegativeType.numb)) ? [!1, !0] : 0 == t.getBattleCards("B", a.Data.CARD_MAX_LEVEL, t._boardCards[1]).length ? [!1] : e.hasBuff(!1, i.default.NegativeType.r1) ? [!1, !0] : null != t._opponent._boardCards[1] && t._opponent._boardCards[1].hasSkills([2017]) && !t._opponent._boardCards[1].getIsLostAbility() ? [!1, !0] : [!0]
            }, e.prototype.canUseMagic = function (e, t) {
                void 0 === t && (t = !1);
                var n = this._player, r = {_canUse: !1, _result: []};
                if (n._round <= 0) return r;
                if (n._isMagicTrapDisabled) return r;
                var _ = a.Data._skillInfo[e._skills[0]._id], s = _._val, c = n._boardCards[1],
                    l = a.Data.getSkillType(e._skills[0]._id), d = e._skills[0]._id, p = n._opponent._boardCards[1],
                    u = n._opponent;
                if (n._magicCardUseLimit[n._round] && n._magicCardUseLimit[n._round] <= n._magicCardUsedCount) return r;
                if (e._info._type == a.Data.MagicTrapType.item) {
                    if (n.getBattleCardsBySkills("B", [2003]).length + u.getBattleCardsBySkills("B", [2003]).length > 0) return r
                } else if (e._info._type == a.Data.MagicTrapType.special) {
                    if (n._specialMagicUsed && !e.hasSkills([7034])) return r
                } else if (e._info._type == a.Data.MagicTrapType.power && (a.Data.POWER_CAN_USE_COUNT(n._round) <= n._powerUsedCount || null != n._powerUseLimit[n._round] && n._powerUseLimit[n._round] <= n._powerUsedCount)) return r;
                if (5001 == _._refId || 5002 == _._refId || 5063 == _._refId) {
                    var g = n.getBattleCardsByHurt("B");
                    if (g.length > 0) {
                        var h = o.B.getMinHpCard(g);
                        return {_canUse: !0, _result: [e._id, d, h._id]}
                    }
                } else if (5003 == _._refId) {
                    if (null != c && c.hasBuffGroup(!1, i.default.NEGATIVE_COMMON)) return {
                        _canUse: !0,
                        _result: [e._id, d]
                    }
                } else {
                    if (5005 == _._refId || 5015 == _._refId) return {_canUse: !0, _result: [e._id, d]};
                    if (5006 == _._refId) {
                        var f = n.filterNotEnoughPowerCards(n.getBattleCards("B"));
                        if (f.length > 0) {
                            var m = o.B.getMaxHpCard(f);
                            return {_canUse: !0, _result: [e._id, d, m._id]}
                        }
                    } else if (5009 == _._refId || 5010 == _._refId) {
                        if (null != c && c._info._nature == _._refCards[0]) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5012 == _._refId) {
                        if (o.B.filterInNatureCards(n.getBattleCardsByHurt("B"), _._refCards[0]).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (5013 == _._refId) {
                        if (null != p && null != c && c._infoId == _._refCards[0]) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (5014 == _._refId) {
                        if (null != c && c._infoId == _._refCards[0]) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5016 == _._refId) {
                        if (null != c && c._infoId == _._refCards[0] && s[0] < c.getBuffValue(!0, i.default.PositiveType.powerMark)) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (5019 == _._refId) {
                        var y = o.B.filterInNatureCards(n.getBattleCardsByLevel("P", 0), c._info._nature);
                        if (null != c && y.length > 0) {
                            m = o.B.getMaxHpCard(y);
                            return {_canUse: !0, _result: [e._id, d, m._id]}
                        }
                    } else if (5020 == _._refId) {
                        var T = o.B.filterInNatureCards(o.B.mergeTable([n.getBattleCardsByLevel("P", 1), n.getBattleCardsByLevel("P", 2)]), c._info._nature);
                        if (T.length > 0 && null != c) {
                            m = o.B.getMaxHpCard(T);
                            return {_canUse: !0, _result: [e._id, d, m._id]}
                        }
                    } else if (5023 == _._refId) {
                        var S = o.B.filterInLevelCards(n.getBattleCardsByMaxHp("P", s[0]), _._refCards[0]);
                        if (S.length > 0) {
                            m = o.B.getMaxHpCard(S);
                            return {_canUse: !0, _result: [e._id, d, m._id]}
                        }
                    } else if (5025 == _._refId) {
                        if (5025 == d && n._ball > 1) return r;
                        var C = n.filterCanChangeToHandCards(n.getBattleCards("P"));
                        if (C.length > 0) {
                            m = o.B.getMaxHpCard(C);
                            return {_canUse: !0, _result: [e._id, d, m._id]}
                        }
                    } else if (5026 == _._refId) {
                        if (null != n._castedSkillCounts[d]) return r;
                        if (null != c && c._info._nature == _._refCards[0]) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5027 == _._refId) {
                        if (null != c && c._info._nature == _._refCards[0]) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5029 == _._refId) {
                        if (null != c && null != p) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5030 == _._refId) {
                        var v = t ? u.getBindCardsOnBoard() : o.B.mergeTable([n.getBindCardsOnBoard(), u.getBindCardsOnBoard()]);
                        if (v.length > 0) return {_canUse: !0, _result: [e._id, d, v[0]._id]}
                    } else if (5031 == _._refId) {
                        var b = t ? u.getBindCardsOnBoard() : o.B.mergeTable([n.getBindCardsOnBoard(), u.getBindCardsOnBoard()]);
                        if (n.filterHasEnergyCards(b).length > 0) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5032 == _._refId) {
                        for (var E = [], I = 1; I <= _._refCards.length; I++) {
                            var P = n.getBattleCardsByOriginId("P", _._refCards[I - 1]);
                            P.length > 0 && E.push(P)
                        }
                        var A = n.filterCanChangeToHandCards(o.B.mergeTable(E));
                        if (A.length > 0) return {_canUse: !0, _result: [e._id, d, A[0]._id]}
                    } else if (5033 == _._refId) {
                        var R = t ? u.getBindCardsOnBoard() : o.B.mergeTable([n.getBindCardsOnBoard(), u.getBindCardsOnBoard()]);
                        if (R.length > 0) return {_canUse: !0, _result: [e._id, d, R[0]._id]}
                    } else if (5035 == _._refId) {
                        if (null != c && c._info._nature == _._refCards[1] && (null != p || n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0)) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (5039 == _._refId) {
                        var B = n.getBattleCardsByMaxHp("G", s[0]);
                        if (B.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMaxHpCard(B)._id]}
                    } else if (5040 == _._refId) {
                        if (null != c && c._info._originId == _._refCards[0]) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5041 == _._refId) {
                        var N = n.filterCanChangeToHandCards(n.getBattleCards("P"));
                        if (N.length > 0) return {_canUse: !0, _result: [e._id, d, N[0]._id]}
                    } else if (5043 == _._refId) {
                        var D = n.filterCanChangeToHandCards(n.getBattleCards("P"));
                        if (D.length > 0) return {_canUse: !0, _result: [e._id, d, D[0]._id]}
                    } else if (5044 == _._refId) {
                        var U = n.filterCardsByInfoType(n.getBattleCards("G"), a.Data.MagicTrapType.item),
                            M = n.getBattleCardsByType("H", a.Data.CardType.monster);
                        if (U.length > 0 && M.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d, o.B.getMinHpCard(M)._id, U[0]._id]
                        }
                    } else if (5045 == _._refId) {
                        var k = n.getBattleCardsByType("H", a.Data.CardType.monster),
                            L = n.getBattleCardsByType("G", a.Data.CardType.monster), O = {};
                        for (I = 1; I <= L.length; I++) O[L[I - 1]._info._nature] = !0;
                        var x = [];
                        for (I = 1; I <= k.length; I++) O[k[I - 1]._info._nature] && x.push(k[I - 1]);
                        if (x.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d, o.B.getMinHpCard(x)._id, x[0]._id, n.filterCardsByNature(k, o.B.getMinHpCard(x)._info._nature)[0]._id]
                        }
                    } else if (5046 == _._refId) {
                        var w = [],
                            F = n.filterCanChangeToHandCards(n.getBattleCardsByType("P", a.Data.CardType.monster)),
                            V = n.getBattleCardsByType("H", a.Data.CardType.monster);
                        for (I = 1; I <= V.length; I++) for (var H = 1; H <= F.length; H++) if (V[I - 1]._info._originId == F[H - 1]._info._originId || V[I - 1]._info._evoBase == F[H - 1]._info._originId || V[I - 1]._info._originId == F[H - 1]._info._evoBase) {
                            w.push(V[I - 1]);
                            break
                        }
                        if (w.length > 0) {
                            var G = o.B.getMinHpCard(w), W = null;
                            for (H = 1; H <= F.length; H++) if (G._info._originId == F[H - 1]._info._originId || G._info._evoBase == F[H - 1]._info._originId || G._info._originId == F[H - 1]._info._evoBase) {
                                W = F[H - 1];
                                break
                            }
                            return {_canUse: !0, _result: [e._id, d, G._id, w[0]._id, null != W ? W._id : null]}
                        }
                    } else if (5047 == _._refId) {
                        var Y = n.filterCardsByInfoType(n.filterCanChangeToHandCards(n.getBattleCards("P")), a.Data.MagicTrapType.item);
                        if ((M = n.getBattleCardsByType("H", a.Data.CardType.monster)).length > 0 && Y.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d, o.B.getMinHpCard(M)._id, Y[0]._id]
                        }
                    } else if (5048 == _._refId) {
                        if (n.filterCardsByMaxHp(n.filterCardsByLevel(n.getBattleCardsByType("P", a.Data.CardType.monster), 0), s[0]).length > 0 && n.getBattleCards("B").length < a.Data.MAX_CARD_COUNT_ON_BOARD) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (5049 == _._refId) {
                        var K = n.getBattleCardsByType("P", a.Data.CardType.magic);
                        if (n._ball > 1 && K.length > 0) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5050 == _._refId) {
                        if (null != p) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5051 == _._refId) {
                        if (null != p && p.hasBuff(!1, _._refSkills[0])) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5055 == _._refId) {
                        var z = !0, j = n.getBattleCardsByType("P", a.Data.CardType.monster);
                        for (I = 1; I <= j.length; I++) {
                            j[I - 1]._info._nature != _._refCards[0] && (z = !1)
                        }
                        if (z && j.length > 0) return {_canUse: !0, _result: [e._id, d]}
                    } else if (5059 == _._refId) {
                        var q = n.filterCardsByNature(n.getBattleCardsByHurt("B"), _._refCards[0]);
                        if (q.length > 0) return {_canUse: !0, _result: [e._id, d, q[0]._id]}
                    } else if (5064 == _._refId) {
                        var X = u.getBattleCardsByHurt("B"), Z = n.getBattleCardsByHurt("B");
                        if (Z.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(Z)._id]};
                        if (X.length > 0 && !t) return {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(X)._id]}
                    } else if (5065 == _._refId) {
                        var J = n.filterCardsByLevel(n.filterCardsByMaxHp(n.getBattleCardsByCategory("P", a.Data.CardCategory.ex), s[0]), _._val[1]);
                        if (J.length > 0) return {_canUse: !0, _result: [e._id, d, J[0]._id]}
                    } else if (5066 == _._refId) {
                        var Q = n.getBattleCardsByCategory("G", a.Data.CardCategory.ex);
                        if (Q.length > 0) return {_canUse: !0, _result: [e._id, d, Q[0]._id]}
                    } else if (5069 == _._refId) ; else if (5072 == _._refId) {
                        var $ = o.B.mergeTable([n.getBindCardsOnBoard(), u.getBindCardsOnBoard()]);
                        if (s[0] <= n.filterCardsByOriginIds(n.getBattleCards("B"), _._refCards).length && $.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (6007 == _._refId) {
                        var ee = n.filterNotEnoughPowerCards(n.getBattleCards("B")), te = [];
                        for (I = 1; I <= ee.length; I++) null != ee[I - 1]._binds[0] && ee[I - 1]._binds[0].hasSkills([6053]) || te.push(ee[I - 1]);
                        if (null != te[0]) return {_canUse: !0, _result: [e._id, d, te[0]._id]}
                    } else if (l == a.Data.SkillType.magic_equip) {
                        var ne = n.filterCanEquipCards(n.isEquipSkillForOppoCard(_._refId) ? u.getBattleCards("B") : n.getBattleCards("B"), e);
                        if (ne.length > 0) return {_canUse: !0, _result: [e._id, d, ne[0]._id]}
                    } else if (7001 == _._refId) {
                        if (n.filterCanChangeToHandCards(n._pileCards).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (7002 == _._refId) {
                        var ae = n.filterCanChangeToHandCards(o.B.filterInMagicTrapTypeCards(n.getBattleCardsByType("P", a.Data.CardType.magic), a.Data.MagicTrapType.equip));
                        if (ae.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMaxHpCard(ae)._id]}
                    } else if (7003 == _._refId) {
                        if (u._pileCards.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d, o.B.getMaxHpCard(u._pileCards)._id]
                        }
                    } else if (7004 == _._refId) {
                        if (n._ball < u._ball && null != p) return {_canUse: !0, _result: [e._id, d]}
                    } else if (7005 == _._refId) ; else if (7006 == _._refId) {
                        if (u._ball <= n._ball) return r;
                        if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else if (7007 == _._refId) {
                        var ie = u.getBattleCards("H");
                        if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0 && ie.length > 0) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        }
                    } else {
                        if (7008 == _._refId || 7012 == _._refId || 7026 == _._refId || 7027 == _._refId || 7043 == _._refId) return {
                            _canUse: !0,
                            _result: [e._id, d]
                        };
                        if (7009 == _._refId) {
                            if (n.filterCanChangeToHandCards(n._pileCards).length > 0) return {
                                _canUse: !0,
                                _result: [e._id, d]
                            }
                        } else if (7010 == _._refId) {
                            if (null != c && c._info._nature == _._refCards[0] && n.filterCanChangeToHandCards(n._pileCards).length > 0) return {
                                _canUse: !0,
                                _result: [e._id, d]
                            }
                        } else if (7015 == _._refId || 7016 == _._refId || 7017 == _._refId || 7018 == _._refId) ; else if (7019 == _._refId) {
                            if (null == p) return r;
                            var oe = u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p);
                            if (oe.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(oe)._id]}
                        } else {
                            if (7020 == _._refId || 7021 == _._refId) return u._ball <= n._ball ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7022 == _._refId) return null == p ? r : u._ball <= n._ball ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7025 == _._refId) {
                                var re = n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c);
                                return 0 == re.length ? r : {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(re)._id]}
                            }
                            if (7028 == _._refId) return 0 == u.filterHasEnergyCards(u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p)).length ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7029 == _._refId) return 0 == u.getBindCardsOnBoard().length ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7030 == _._refId || 7031 == _._refId) return 0 == u.getBattleCards("H").length ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7032 == _._refId) {
                                var _e = u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p);
                                return null == p || 0 == _e.length || u._ball <= n._ball ? r : {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            }
                            if (7033 == _._refId) {
                                var se = u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p);
                                return null == p || 0 == se.length ? r : {_canUse: !0, _result: [e._id, d]}
                            }
                            if (7034 == _._refId) return n.getBattleCardsByInfoId("H", _._refCards[0]).length < 4 ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7036 == _._refId || 7038 == _._refId) return null == c || null == p ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7037 == _._refId) return null == p ? r : 0 == n.filterHasEnergyCards(n.getBattleCards("B")).length ? r : {
                                _canUse: !0,
                                _result: [e._id, d]
                            };
                            if (7039 == _._refId) {
                                var ce = n.getBattleCardsByHurt("B");
                                if (ce.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(ce)._id]}
                            } else if (7040 == _._refId) {
                                var le = n.filterCanChangeToHandCards(n.getBattleCardsByInfoId("P", _._refCards[1]));
                                if (null != c && c._info._originId == _._refCards[0] && (n.getBattleCards("B").length < a.Data.MAX_CARD_COUNT_ON_BOARD || le.length > 0)) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7041 == _._refId) {
                                var de = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.getBattleCardsByType("G", a.Data.CardType.monster), a.Data.CardCategory.ex), a.Data.CardCategory.gx);
                                if (n._ball > 1 && de.length > 0 && n.getBattleCards("B").length < a.Data.MAX_CARD_COUNT_ON_BOARD) return {
                                    _canUse: !0,
                                    _result: [e._id, d, o.B.getMaxHpCard(de)._id]
                                }
                            } else if (7042 == _._refId) {
                                if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7044 == _._refId) {
                                var pe = [], ue = u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p);
                                if (ue.length > 0) {
                                    pe = [e._id, d];
                                    for (I = 1; I <= Math.min(ue.length, s[0]); I++) pe.push(ue[I - 1]._id);
                                    return {_canUse: !0, _result: pe}
                                }
                            } else if (7045 == _._refId) {
                                if (n.filterCardsByNature(n.getBattleCards("B", a.Data.CARD_MAX_LEVEL, c), _._refCards[1]).length > 0 && null != c) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7046 == _._refId) {
                                if (n._ball > 1) return {_canUse: !0, _result: [e._id, d]}
                            } else if (7047 == _._refId) {
                                if (n.getBattleCards("H", a.Data.CARD_MAX_LEVEL, e).length > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7048 == _._refId) {
                                if (n.getBattleCards("H", a.Data.CARD_MAX_LEVEL, e).length > 0 && null != c && c._hp < c._maxHp) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7049 == _._refId) {
                                if (null != c) return {_canUse: !0, _result: [e._id, d]}
                            } else if (7050 == _._refId) {
                                if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7051 == _._refId) ; else if (7052 == _._refId) {
                                if (n.filterCanChangeToHandCards(n.getBattleCards("P")).length > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (7053 == _._refId) ; else if (7054 == _._refId) {
                                if (n.filterRemoveBySkillType(u.getBattleCardsByType("H", a.Data.CardType.magic), a.Data.SkillType.leader_magic).length > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (8001 == _._refId) ; else if (8002 == _._refId) {
                                if (n._ball < s[0] && null != p && null != c && p.getBuffValue(!0, i.default.PositiveType.powerMark) > 0) return {
                                    _canUse: !0,
                                    _result: [e._id, d]
                                }
                            } else if (8003 == _._refId) {
                                var ge = u.getBattleCards("B", a.Data.CARD_MAX_LEVEL, p);
                                if (ge.length > 0) return {_canUse: !0, _result: [e._id, d, o.B.getMinHpCard(ge)._id]}
                            } else if (8004 == _._refId && n._ball < s[0]) return {_canUse: !0, _result: [e._id, d]}
                        }
                    }
                }
                return r
            }, e.prototype.isEquipSkillForOppoCard = function (e) {
                return 6035 == e || 6036 == e || 6039 == e || 6040 == e || 6052 == e || 6053 == e || 6056 == e || 6064 == e || 6059 == e || 6078 == e || 6079 == e
            }, e.prototype.canEquipCard = function (e, t) {
                var n = e._skills[0]._id, o = a.Data._skillInfo[n],
                    r = (a.Data._skillInfo[n]._val, this._player._opponent, this._player, a.Data.getSkillType(n));
                if (null == t) return !1;
                if (r == a.Data.SkillType.magic_equip) {
                    if (6007 == o._refId) return t.getBuffValue(!0, i.default.PositiveType.powerMark) < a.Data.POWER_MAX_NUM && (null == t._binds[0] || !t._binds[0].hasSkills([6053]));
                    if (6008 == o._refId || 6009 == o._refId || 6011 == o._refId || 6012 == o._refId || 6014 == o._refId || 6017 == o._refId || 6020 == o._refId || 6021 == o._refId || 6023 == o._refId || 6024 == o._refId || 6025 == o._refId || 6026 == o._refId || 6027 == o._refId || 6028 == o._refId || 6029 == o._refId || 6030 == o._refId || 6031 == o._refId || 6041 == o._refId || 6042 == o._refId || 6043 == o._refId || 6044 == o._refId || 6045 == o._refId || 6065 == o._refId || 6066 == o._refId || 6069 == o._refId || 6070 == o._refId || 6074 == o._refId || 6075 == o._refId) return 0 == t._binds.length && t._info._nature == o._refCards[0];
                    if (6050 == o._refId || 6051 == o._refId || 6081 == o._refId) return 0 == t._binds.length && t._info._originId == o._refCards[0];
                    if (6036 != o._refId) return 6052 == o._refId || 6053 == o._refId || 6056 == o._refId || 6064 == o._refId ? 0 == t._binds.length && 1 != t._pos : 6059 == o._refId ? 0 == t._binds.length && 1 != t._pos : 6076 == o._refId ? t._info._level >= 1 : 6077 == o._refId ? 0 == t._binds.length && t._info._nature == o._refCards[0] && t._info._level >= 1 : 0 == t._binds.length;
                    if (0 != t._binds.length) return !1;
                    for (var _ = 1; _ <= t._skills.length; _++) {
                        var s = a.Data.getSkillType(t._skills[_ - 1]._id);
                        if (a.Data.getSkillType(t._skills[_ - 1]._id) == a.Data.SkillType.monster_body || s == a.Data.SkillType.monster_strength || s == a.Data.SkillType.monster_ability) return !0
                    }
                }
                return !1
            }, e.prototype.isSkillAddEnergy = function (e) {
                return 6007 == e || 4002 == e || 1273 == e || 1386 == e || 5006 == e || 5007 == e || 5008 == e
            }, e.prototype.isCardInDecHpUnderSkill = function (e, t) {
                void 0 === t && (t = !1);
                this._player;
                for (var n = !1, i = 0, o = 1; o < e._underSkills.length; o++) {
                    var r = a.Data.getSkillType(e._underSkills[o]._sid), _ = e._underSkills[o];
                    1 == e._underSkills[o]._disabled || t && r != a.Data.SkillType.monster_attack || null == _._hpInc || (i += _._hpInc, _._hpInc < 0 && (n = !0))
                }
                return {_is: n, _result: i}
            }, e.prototype.isCardInDecHpUnderSkillByCard = function () {
                this._player;
                return {_is: !1, _result: null}
            }, e.prototype.bindMagicTarget = function (e, t, n, a, i) {
                var o = this._player;
                return 0 == e._binds.length && null != t && (o.bindCard(e, t, n, a, i), !0)
            }, e.prototype.canUseTrap = function (e, t) {
                void 0 === t && (t = !1);
                this._player;
                return {_canUse: !1, _result: []}
            }, e.prototype.canUseTrapOnTarget = function (e, t) {
                this._player;
                return !1
            }, e.prototype.canUseTrapLater = function (e) {
                var t = this._player, n = e._skills[1]._id;
                a.Data._skillInfo[n], t._opponent;
                return t._playerType != i.default.PlayerType.ai
            }, e.prototype.canTrapEffect = function (e) {
                return this._player._disableTrapBy4127, !1
            }, e.prototype.canTriggerTrap = function (e) {
                var t = this._player;
                return !e._owner._isTrapTriggerDisabled && (!e._owner._isMagicTrapDisabledBy3274 && t.canTrapEffect(e))
            }, e.prototype.canTriggerTrapWhenStatusChange = function (e, t) {
                this._player;
                return !1
            }, e.prototype.canTriggerTrapWhenRoundBegin = function (e) {
                this._player;
                return !1
            }, e.prototype.canTriggerTrapWhenOppoRoundBegin = function (e) {
                this._player;
                return !1
            }, e.prototype.swapHandPileCards = function (e, t, n, a, r) {
                for (var _ = this._player, s = !1, c = _.randomTable(_.filterCanChangeToHandCards(o.B.mergeTable([o.B.filterNotEqualInfoIdCards(e, 39999), _.getBattleCards("P")])), t), l = 0; l < c.length; l++) c[l]._markTemp = !0;
                for (var d = 0; d < e.length; d++) _.setCardStatus(e[d], i.default.CardStatus.pile, n, a, r), e[d]._markTemp && (_.setCardStatus(e[d], i.default.CardStatus.hand, n, a, r, null, i.default.CardStatus.pile), e[d]._markTemp = null), s = !0;
                for (var p = 0; p < c.length; p++) c[p]._markTemp && (_.setCardStatus(c[p], i.default.CardStatus.hand, n, a, r, null, i.default.CardStatus.pile), c[p]._markTemp = null, s = !0);
                return s
            }, e.prototype.removePowerRandom = function (e, t, n, a, o) {
                for (var r = this._player.randomOne(e), _ = (r._obj, r._index); ;) {
                    var s = e[_].getBuffValue(!0, i.default.PositiveType.powerMark);
                    if (e[_].removePowerMark(Math.min(s, t), n, a, o), t -= Math.min(s, t), (_ = e.length < _ + 2 ? _ - e.length : _) - 1 == e.length || 0 == t) break
                }
            }, e
        }();
        n.default = r, cc._RF.pop()
    }, {"../../data/data": "data", "./BattleData": "BattleData", "./BattlleCardStatus": "BattlleCardStatus"}],
    BattleStaticHelper: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9a958PGhe5Mp6Hzg4dnTCiH", "BattleStaticHelper"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./PlayerBattle"), i = e("../../data/data"), o = e("./BattlleCardStatus"), r = e("./BattleData"),
            _ = function () {
                function e(e) {
                    this._player = e
                }

                return e.prototype.getAllCards = function () {
                    for (var e = this._player, t = [], n = [], a = {}, i = {}, o = e.getBattleCards("B"), r = e._opponent.getBattleCards("B"), _ = 1; _ <= o.length; _++) t.push(o[_ - 1]), a[o[_ - 1]._id] = o[_ - 1];
                    for (_ = 1; _ <= r.length; _++) n.push(r[_ - 1]), i[r[_ - 1]._id] = r[_ - 1];
                    var s = e.getBattleCards("H"), c = e._opponent.getBattleCards("H");
                    for (_ = 1; _ <= s.length; _++) t.push(s[_ - 1]), a[s[_ - 1]._id] = s[_ - 1];
                    for (_ = 1; _ <= c.length; _++) n.push(c[_ - 1]), i[c[_ - 1]._id] = c[_ - 1];
                    for (_ = 1; _ <= e._cards.length; _++) null == a[e._cards[_ - 1]._id] && (t.push(e._cards[_ - 1]), a[e._cards[_ - 1]._id] = e._cards[_ - 1]);
                    for (_ = 1; _ <= e._opponent._cards.length; _++) null == i[e._opponent._cards[_ - 1]._id] && (n.push(e._opponent._cards[_ - 1]), i[e._opponent._cards[_ - 1]._id] = e._opponent._cards[_ - 1]);
                    t.push(e._fortress), n.push(e._opponent._fortress);
                    var l = [];
                    for (_ = 0; _ < t.length; _++) l.push(t[_]);
                    for (_ = 0; _ < n.length; _++) l.push(n[_]);
                    return l
                }, e.prototype.getCardById = function (e) {
                    var t = this._player, n = t._opponent;
                    if (e == t._fortress._id) return t._fortress;
                    if (e == n._fortress._id) return n._fortress;
                    for (var a = 1; a <= t._cards.length; a++) if (t._cards[a - 1]._id == e) return t._cards[a - 1];
                    for (a = 1; a <= n._cards.length; a++) if (n._cards[a - 1]._id == e) return n._cards[a - 1];
                    return null
                }, e.prototype.addCardToCards = function (e) {
                    var t = this._player;
                    null == e._id && (t._cardIdBase = t._cardIdBase + 1, e._id = t._cardIdBase), t._cards.push(e), e._owner = t, e._originOwner = e._originOwner || t
                }, e.prototype.addCardByStatusPos = function (e, t, n, a, i, o, r) {
                    void 0 === o && (o = null), void 0 === r && (r = null);
                    var _ = this._player;
                    _.addCardToCards(e), _.setCardStatus(e, t, a, i, o, r), null != n && (e._saved = {_pos: n})
                }, e.prototype.removeCardFromCards = function (e) {
                    for (var t = this._player, n = 1; n <= t._cards.length; n++) if (e == t._cards[n - 1]) {
                        t._cards.splice(n - 1, 1);
                        break
                    }
                    null != e._horse && this.removeCardFromCards(e._horse)
                }, e.prototype.removeCardToOppo = function (e) {
                    var t = this._player;
                    t.removeCardFromCards(e), t._opponent.addCardToCards(e)
                }, e.prototype.getGhostCard = function () {
                    return this._player._fortress
                }, e.prototype.getBattleCards = function (e, t, n) {
                    void 0 === t && (t = null), void 0 === n && (n = null);
                    var a = this._player;
                    t = t || i.Data.CARD_MAX_LEVEL;
                    for (var r = [], _ = 0; _ < e.length; _++) {
                        var s = e.substr(_, 1);
                        if ("B" == s) for (var c = 1; c <= i.Data.MAX_CARD_COUNT_ON_BOARD; c++) {
                            var l = a._boardCards[c];
                            o.B.isAlive(l) && l != n && l._level <= t && (r[r.length] = l)
                        } else if ("H" == s) for (c = 1; c <= i.Data.MAX_CARD_COUNT_IN_HAND; c++) {
                            null != (l = a._handCards[c - 1]) && l != n && (l._level <= t || null == l._level) && (r[r.length] = l)
                        } else if ("P" == s) for (c = 1; c <= a._pileCards.length; c++) {
                            null != (l = a._pileCards[c - 1]) && l != n && (l._level <= t || null == l._level) && (r[r.length] = l)
                        } else if ("G" == s) for (c = a._graveCards.length; c > 0; c--) {
                            null != (l = a._graveCards[c - 1]) && l != n && (l._level <= t || null == l._level) && (r[r.length] = l)
                        } else if ("E" == s) for (c = a._energyCards.length; c > 0; c--) {
                            null != (l = a._energyCards[c - 1]) && l != n && (l._level <= t || null == l._level) && (r[r.length] = l)
                        }
                    }
                    return r
                }, e.prototype.getBattleCardsByInfoId = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._infoId == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByOriginId = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._info._originId != t && _._infoId != t || o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByInfoIdGroup = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this._player.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) for (var _ = i[r - 1], s = 0; s < t.length; s++) if (_._infoId == t[s]) {
                        o[o.length] = _;
                        break
                    }
                    return o
                }, e.prototype.getBattleCardsByType = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    this._player;
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._type == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByLevel = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    this._player;
                    for (var i = this.getBattleCards(e, null, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        null != _._level && _._level == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByCategory = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._info._category == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByCategoryGroup = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) for (var _ = i[r - 1], s = 0; s < t.length; s++) if (_._info._category == t[s]) {
                        o.push(_);
                        break
                    }
                    return o
                }, e.prototype.getBattleCardsByKeyword = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._info._keyword == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByNature = function (e, t, n, a) {
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _._info._nature == t && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByStr = function (e, t, n, a, i) {
                    void 0 === a && (a = null), void 0 === i && (i = null);
                    var o = this.getBattleCards(e, a, i);
                    return this.getCardsByStr(o, t, n, a, i)
                }, e.prototype.getCardsByStr = function (e, t, n, a, i) {
                    void 0 === a && (a = null), void 0 === i && (i = null);
                    for (var o = e, r = [], _ = 1; _ <= o.length; _++) for (var s = o[_ - 1], c = 0; c < n.length; c++) if ("keyword" == t) ; else if ("nature" == t) {
                        if (s._info._nature == n[c]) {
                            r.push(s);
                            break
                        }
                    } else if ("type" == t) {
                        if (s._type == n[c]) {
                            r.push(s);
                            break
                        }
                    } else if ("category" == t) {
                        if (s._info._category == n[c]) {
                            r.push(s);
                            break
                        }
                    } else if ("star" == t) {
                        if (s._info._star == n[c]) {
                            r.push(s);
                            break
                        }
                    } else if ("max_star" == t) {
                        if (s._info._star <= n[c]) {
                            r.push(s);
                            break
                        }
                    } else if ("min_star" == t) {
                        if (s._info._star >= n[c]) {
                            r.push(s);
                            break
                        }
                    } else {
                        if ("stars" == t) {
                            n[0] <= s._info._star && s._info._star <= n[1] && r.push(s);
                            break
                        }
                        if ("atk" == t) {
                            if (null != s._atk && n[c] == s._atk) {
                                r.push(s);
                                break
                            }
                        } else if (null != s._atk && "max_atk" == t) {
                            if (n[c] >= s._atk) {
                                r.push(s);
                                break
                            }
                        } else if ("min_atk" == t) {
                            if (null != s._atk && n[c] <= s._atk) {
                                r.push(s);
                                break
                            }
                        } else if ("min_hp" == t) {
                            if (null != s._info._hp && n[c] <= s._info._hp) {
                                r.push(s);
                                break
                            }
                        } else if ("max_hp" == t) {
                            if (null != s._info._hp && n[c] >= s._info._hp) {
                                r.push(s);
                                break
                            }
                        } else if ("CN" == t) {
                            if (s._info._category == n[0] && n[1] == s._info._nature) {
                                r.push(s);
                                break
                            }
                        } else if ("atk_def" == t) {
                            if (s._atk == n[0] && n[1] == s._hp) {
                                r.push(s);
                                break
                            }
                        } else {
                            if ("max_origin_atk" == t) {
                                if (!s.isAtkHide() && null != s._maxAtk && s._maxAtk <= n[c]) {
                                    r.push(s);
                                    break
                                }
                                break
                            }
                            if ("max_origin_def" == t) {
                                if (!s.isDefHide() && null != s._maxHp && s._maxHp <= n[c]) {
                                    r.push(s);
                                    break
                                }
                                break
                            }
                        }
                    }
                    return r
                }, e.prototype.getBattleCardsByHurt = function (e, t, n) {
                    for (var a = this.getBattleCards(e, t, n), i = [], o = 1; o <= a.length; o++) {
                        var r = a[o - 1];
                        null != r._hp && r._hp < r._maxHp && i.push(r)
                    }
                    return i
                }, e.prototype.getBattleCardsByBuff = function (e, t, n, a, i) {
                    void 0 === a && (a = null), void 0 === i && (i = null);
                    for (var o = this.getBattleCards(e, a, i), r = [], _ = 1; _ <= o.length; _++) {
                        var s = o[_ - 1];
                        s.hasBuff(t, n) && r.push(s)
                    }
                    return r
                }, e.prototype.getBattleCardsBySkills = function (e, t, n, a) {
                    void 0 === n && (n = null), void 0 === a && (a = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _.hasSkills(t) && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsBySkillMode = function (e, t, n, a) {
                    void 0 === n && (n = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _.hasSkillInMode(t)._isHas && o.push(_)
                    }
                    return o
                }, e.prototype.getBattleCardsByBindedSkill = function (e, t, n, a) {
                    void 0 === n && (n = null);
                    for (var i = this.getBattleCards(e, n, a), o = [], r = 1; r <= i.length; r++) {
                        var _ = i[r - 1];
                        _.isBindedSkill(t._id) && o.push(_)
                    }
                    return o
                }, e.prototype.filterNotEnoughPowerCards = function (e, t) {
                    void 0 === t && (t = !1);
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var o = e[a - 1], _ = t ? o.getMaxSkillPower() : i.Data.POWER_MAX_NUM;
                        o.isMonster() && o.getBuffValue(!0, r.default.PositiveType.powerMark) < _ && n.push(o)
                    }
                    return n
                }, e.prototype.getLeaveCards = function () {
                    for (var e = this._player._cards, t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a._status == r.default.CardStatus.leave && t.push(a)
                    }
                    return t
                }, e.prototype.getLeaveCardsByInfoId = function (e) {
                    for (var t = this._player.getLeaveCards(), n = [], a = 1; a <= t.length; a++) {
                        var i = t[a - 1];
                        i._infoId == e && n.push(i)
                    }
                    return n
                }, e.prototype.getBindCardsOnBoard = function () {
                    for (var e = this._player.getBattleCards("B"), t = [], n = 1; n <= e.length; n++) for (var a = e[n - 1]._binds, i = 1; i <= a.length; i++) t.push(a[i - 1]);
                    return t
                }, e.prototype.isNeedMainWhenInitialDeal = function () {
                    return 0 == this._player._round && 0 == this._player.getBattleCards("B").length
                }, e.prototype.isNeedMainWhenRoundBegin = function () {
                    var e = this._player;
                    return e._round > 0 && null == e._boardCards[1] && e._macroStatus != r.default.Status.select_main && e._macroStatus != r.default.Status.round_end
                }, e.prototype.isNeedMainWhenRoundEnd = function () {
                    var e = this._player;
                    return e._round > 0 && null == e._boardCards[1] && (e._macroStatus == r.default.Status.select_main || e._macroStatus == r.default.Status.round_end)
                }, e.prototype.isNeedDrop = function () {
                    return this._player._ai.getNeedDropHandCardNum() > 0
                }, e.prototype.isNeedSelectSkill = function () {
                    return null != this._player._mustUseChooseSkillSkill
                }, e.prototype.isMustUseASpecificSkill = function () {
                    return null != this._player._mustUseChooseCardSkill
                }, e.prototype.isMustUseASkill = function () {
                    return this._player.isNeedSelectSkill() ? 1 : this.isMustUseASpecificSkill() ? 2 : 0
                }, e.prototype.getBoardCardsNumByNatureForSkill = function (e) {
                    for (var t = 0, n = this._player.getBattleCardsByNature("B", e), a = 0; a < n.length; a++) {
                        for (var o = 1, r = 0; r < n[a]._skills.length; r++) {
                            var _ = i.Data._skillInfo[n[a]._skills[r]._id];
                            2044 == _._refId && _._refCards[0] == e && (o = _._val[0])
                        }
                        t += o
                    }
                    return t
                }, e.prototype.getHasUnderTypeCastedModeCards = function (e, t) {
                    return {_cards: [], _underCastedModes: []}
                }, e.prototype.getUnderSkillTypeCards = function () {
                }, e.prototype.isBoardPosLocked = function (e) {
                    var t = this._player._fortress.getBuffValues(!1, r.default.NegativeType.boardLock);
                    if (null == t) return !1;
                    if ("number" == typeof t) ; else for (var n = 1; n <= t.length; n++) if (e == t[n - 1]) return !0;
                    return !1
                }, e.prototype.isBoardPosEmpty = function (e) {
                    var t = this._player;
                    return null == t._boardCards[e] && !t.isBoardPosLocked(e)
                }, e.prototype.getEmptyBoardPosCount = function () {
                    for (var e = 0, t = 1; t <= i.Data.MAX_CARD_COUNT_ON_BOARD; t++) this.isBoardPosEmpty(t) && (e += 1);
                    return e
                }, e.prototype.getEmptyBoardPos = function (e) {
                    void 0 === e && (e = null);
                    this._player;
                    for (var t = 1; t <= i.Data.MAX_CARD_COUNT_ON_BOARD; t++) if (this.isBoardPosEmpty(t)) return t;
                    return null
                }, e.prototype.getEmptyBackupPos = function () {
                    this._player;
                    for (var e = 2; e <= i.Data.MAX_CARD_COUNT_ON_BOARD; e++) if (this.isBoardPosEmpty(e)) return e;
                    return null
                }, e.prototype.canSpecialSummonAnyCard = function () {
                    return !this._player._isSummonDisabled
                }, e.prototype.canSpecialSummon = function (e, t, n) {
                    return void 0 === t && (t = null), void 0 === n && (n = null), !!this._player.canSpecialSummonAnyCard() && (!(!e.hasSkillInMode(i.Data.SkillMode.use_disable)._isHas && e.hasSkillInMode(i.Data.SkillMode.use_special_disable)._isHas) && (!(!t && e.hasSkillInMode(i.Data.SkillMode.use_specific_by_another_card)._isHas) && (!(!n && e.hasSkillInMode(i.Data.SkillMode.use_specific_by_condition)._isHas) && (!e.hasSkillInMode(i.Data.SkillMode.use_special_disable_except)._isHas || 3178 != e._id || e._status != r.default.CardStatus.grave))))
                }, e.prototype.filterCanChangeToBoardCards = function (e, t, n) {
                    if (null == this._player.getEmptyBoardPos()) return [];
                    for (var a = [], i = 1; i <= e.length; i++) e[i - 1].isMonster() && this.getEmptyBoardPos(e[i - 1]) && a.push(e[i - 1]);
                    return n ? a : o.B.filterCanSpecialSummonCards(a, t)
                }, e.prototype.filterCanChangeToHandCards = function (e) {
                    this._player;
                    for (var t = [], n = 0; n < e.length; n++) t[t.length] = e[n];
                    return t
                }, e.prototype.filterCanEquipCards = function (e, t) {
                    for (var n = [], a = this._player, i = 1; i <= e.length; i++) a.canEquipCard(t, e[i - 1]) && n.push(e[i - 1]);
                    return n
                }, e.prototype.filterCanEvolveCards = function (e, t) {
                    for (var n = [], a = this._player, i = 1; i <= e.length; i++) a.canEvolveCard(t, e[i - 1]) && n.push(e[i - 1]);
                    return n
                }, e.prototype.filterCanEvolveWithCards = function () {
                }, e.prototype.filterHasEnergyCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) e[n - 1].getBuffValue(!0, r.default.PositiveType.powerMark) && t.push(e[n - 1]);
                    return t
                }, e.prototype.filterRemoveByInfoId = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._infoId != t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterRemoveByNature = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._info._nature != t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterRemoveBySkillType = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        i.Data.getSkillType(e[a - 1]._skills[0]._id) != t && n.push(e[a - 1])
                    }
                    return n
                }, e.prototype.filterCardsByNature = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._info._nature == t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByCardType = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._type == t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByInfoType = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._info._type == t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByLevel = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._info._level == t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByMinLevel = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._info._level >= t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByMaxHp = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) null != e[a - 1]._hp && e[a - 1]._hp <= t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByMinHp = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) null != e[a - 1]._hp && e[a - 1]._hp >= t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsExceptCategory = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1]._category != t && n.push(e[a - 1]);
                    return n
                }, e.prototype.filterCardsByOriginIds = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) for (var i = e[a - 1]._info._originId || e[a - 1]._infoId, o = 0; o < t.length; o++) i == t[o] && n.push(e[a - 1]);
                    return n
                }, e.prototype.isChooseCardsSkill = function (e) {
                    var t = {_is: !1, _cards: [], _choice: null};
                    if (null == e) return t;
                    var n = this._player, a = n._opponent, r = e._id, _ = i.Data._skillInfo[r], s = _._val,
                        c = n._boardCards[1], l = n._opponent._boardCards[1];
                    if (1015 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B"),
                        _choice: Math.min(2, d.length)
                    };
                    if (1034 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCanChangeToHandCards(n.getBattleCards("P")),
                        _choice: 1
                    };
                    if (1041 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByNature("P", _._refCards[0])), i.Data.CardCategory.ex), i.Data.CardCategory.gx),
                        _choice: 1
                    };
                    if (1061 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCanChangeToBoardCards(n.getBattleCardsByLevel("P", 0)),
                        _choice: 1
                    };
                    if (1072 == _._refId || 1220 == _._refId) return {
                        _is: !0,
                        _cards: d = n.getBattleCards("B", i.Data.CARD_MAX_LEVEL, e._owner),
                        _choice: 1
                    };
                    if (1088 == _._refId || 1123 == _._refId || 1139 == _._refId || 1150 == _._refId || 1479 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B"),
                        _choice: 1
                    };
                    if (1148 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                        _choice: Math.min(d.length, 1)
                    };
                    if (1170 == _._refId) return (d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l)).length > 0 ? {
                        _is: !0,
                        _cards: d,
                        _choice: 1
                    } : t;
                    if (1200 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", i.Data.CardType.monster)), i.Data.CardCategory.ex), i.Data.CardCategory.gx),
                        _choice: 1
                    };
                    if (1236 == _._refId) return (d = n.getBattleCards("B", i.Data.CARD_MAX_LEVEL, e._owner)).length > 0 ? {
                        _is: !0,
                        _cards: d,
                        _choice: 1
                    } : t;
                    if (1241 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterRemoveByInfoId(n.getBattleCardsByType("G", i.Data.CardType.magic), 39999),
                        _choice: 1
                    };
                    if (1248 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCardsByNature(n.filterCanChangeToBoardCards(n.getBattleCardsByLevel("P", 0)), _._refCards[0]),
                        _choice: Math.min(d.length, _._refCards[0], n.getEmptyBoardPosCount())
                    };
                    if (1264 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                        _choice: Math.min(d.length, 2)
                    };
                    if (1294 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                        _choice: Math.min(d.length, 1)
                    };
                    if (1296 == _._refId) return 0 == (d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l)).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: 1
                    };
                    if (1300 == _._refId) return 0 == (d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l)).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: Math.min(d.length, 2)
                    };
                    if (1348 == _._refId) return 0 == (d = n.filterCanChangeToHandCards(n.getBattleCardsByType("P", i.Data.CardType.monster))).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: Math.min(d.length, 2)
                    };
                    if (1364 == _._refId) return 0 == (d = n.filterCardsByLevel(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", i.Data.CardType.monster)), s[0])).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: Math.min(d.length, 2)
                    };
                    if (1365 == _._refId) return 0 == (d = n.getBattleCardsByHurt("B", i.Data.CARD_MAX_LEVEL, c)).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: 1
                    };
                    if (1372 == _._refId) return 0 == (d = n.filterNotEnoughPowerCards(n.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l), !1)).length ? t : {
                        _is: !0,
                        _cards: d,
                        _choice: 1
                    };
                    if (1386 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterNotEnoughPowerCards(n.getBattleCards("B"), !1),
                        _choice: 1
                    };
                    if (1406 == _._refId) return {
                        _is: !0,
                        _cards: d = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.filterCanChangeToHandCards(n.getBattleCardsByType("P", i.Data.CardType.monster)), i.Data.CardCategory.ex), i.Data.CardCategory.gx),
                        _choice: 1
                    };
                    if (1442 == _._refId) return {
                        _is: !0,
                        _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                        _choice: 1
                    };
                    if (1447 == _._refId) return {
                        _is: !0,
                        _cards: d = n.getBattleCardsByOriginId("P", _._refCards[0]),
                        _choice: 1
                    };
                    if (1487 == _._refId) return {
                        _is: !0,
                        _cards: d = o.B.mergeTable([n.getBattleCardsByHurt("B"), a.getBattleCardsByHurt("B")]),
                        _choice: 1
                    };
                    if (1491 == _._refId) {
                        if ((d = n.filterHasEnergyCards(a.getBattleCards("B", null, l))).length > 0) return {
                            _is: !0,
                            _cards: d,
                            _choice: 1
                        }
                    } else if (1493 == _._refId) {
                        if ((d = a.getBattleCards("B", null, l)).length > 0) return {_is: !0, _cards: d, _choice: 1}
                    } else if (3006 == _._refId) {
                        if ((d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l)).length > 0 && null != l) return {
                            _is: !0,
                            _cards: d,
                            _choice: 1
                        }
                    } else {
                        if (4001 == _._refId) {
                            var d = n.filterCanChangeToHandCards(n.getBattleCardsByType("P", i.Data.CardType.monster));
                            return 0 != _._refCards[0] && (d = n.filterCardsByNature(d, _._refCards[0])), r >= 4008 && r <= 4011 && (d = n.filterCardsByLevel(d, 0)), {
                                _is: !0,
                                _cards: d = n.filterCardsExceptCategory(n.filterCardsExceptCategory(d, i.Data.CardCategory.ex), i.Data.CardCategory.gx),
                                _choice: 1
                            }
                        }
                        if (4002 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByNature("B", _._refCards[0]),
                            _choice: 1
                        };
                        if (4004 == _._refId) return {
                            _is: !0,
                            _cards: d = n.filterRemoveByInfoId(n.getBattleCards("H", i.Data.CARD_MAX_LEVEL), 39999),
                            _choice: 1
                        };
                        if (4005 == _._refId || 7019 == _._refId) return {
                            _is: !0,
                            _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                            _choice: 1
                        };
                        if (4017 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByOriginId("P", _._refCards[0]),
                            _choice: 1
                        };
                        if (5001 == _._refId || 5002 == _._refId || 1321 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByHurt("B"),
                            _choice: 1
                        };
                        if (5006 == _._refId) return {_is: !0, _cards: d = n.getBattleCards("B"), _choice: 1};
                        if (5019 == _._refId) return {
                            _is: !0,
                            _cards: d = o.B.filterInNatureCards(n.getBattleCardsByLevel("P", 0), c._info._nature),
                            _choice: 1
                        };
                        if (5020 == _._refId) return {
                            _is: !0,
                            _cards: d = o.B.filterInNatureCards(o.B.mergeTable([n.getBattleCardsByLevel("P", 1), n.getBattleCardsByLevel("P", 2)]), c._info._nature),
                            _choice: 1
                        };
                        if (5023 == _._refId) return {
                            _is: !0,
                            _cards: d = o.B.filterInLevelCards(n.getBattleCardsByMaxHp("P", s[0]), _._refCards[0]),
                            _choice: 1
                        };
                        if (5025 == _._refId || 5041 == _._refId) return {
                            _is: !0,
                            _cards: d = n.filterCanChangeToHandCards(n.getBattleCards("P")),
                            _choice: 1
                        };
                        if (5030 == _._refId || 5033 == _._refId) return {
                            _is: !0,
                            _cards: d = o.B.mergeTable([n.getBindCardsOnBoard(), a.getBindCardsOnBoard()]),
                            _choice: 1
                        };
                        if (5032 == _._refId) {
                            for (var d = [], p = 0; p < _._refCards.length; p++) d.push(n.getBattleCardsByOriginId("P", _._refCards[p]));
                            return {_is: !0, _cards: n.filterCanChangeToHandCards(o.B.mergeTable(d)), _choice: 1}
                        }
                        if (5039 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByMaxHp("G", s[0]),
                            _choice: 1
                        };
                        if (5044 == _._refId || 5047 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByType("H", i.Data.CardType.monster),
                            _choice: 1
                        };
                        if (5045 == _._refId) {
                            var u = n.getBattleCardsByType("H", i.Data.CardType.monster), g = {},
                                h = n.getBattleCardsByType("G", i.Data.CardType.monster);
                            for (p = 0; p < h.length; p++) g[h[p]._info._nature] = !0;
                            var d = [];
                            for (p = 0; p < u.length; p++) g[u[p]._info._nature] && d.push(u[p]);
                            return {_is: !0, _cards: d, _choice: 1}
                        }
                        if (5046 == _._refId) {
                            for (var f = n.filterCanChangeToHandCards(n.getBattleCards("P")), d = [], m = (u = n.getBattleCardsByType("H", i.Data.CardType.monster), 0); m < u.length; m++) for (var y = 0; y < f.length; y++) u[m]._info._originId != f[y]._info._originId && u[m]._info._originId != f[y]._info._evoBase && u[m]._info._evoBase != f[y]._info._originId || d.push(f[y]);
                            return {_is: !0, _cards: d, _choice: 1}
                        }
                        if (5049 == _._refId) return {
                            _is: !0,
                            _cards: d = n.getBattleCardsByType("P", i.Data.CardType.magic),
                            _choice: 1
                        };
                        if (5059 == _._refId) return {
                            _is: !0,
                            _cards: d = n.filterCardsByNature(n.getBattleCardsByHurt("B"), _._refCards[0]),
                            _choice: 1
                        };
                        if (5064 == _._refId) return {
                            _is: !0,
                            _cards: d = o.B.mergeTable([n.getBattleCardsByHurt("B"), a.getBattleCardsByHurt("B")]),
                            _choice: 1
                        };
                        if (5065 == _._refId) {
                            if ((d = n.filterCardsByLevel(n.filterCardsByMaxHp(n.getBattleCardsByCategory("P", i.Data.CardCategory.ex), s[0]), s[1])).length > 0) return {
                                _is: !0,
                                _cards: d,
                                _choice: 1
                            }
                        } else if (5066 == _._refId) {
                            if ((d = n.getBattleCardsByCategory("G", i.Data.CardCategory.ex)).length > 0) return {
                                _is: !0,
                                _cards: d,
                                _choice: 1
                            }
                        } else if (5069 == _._refId) ; else if (7002 == _._refId) {
                            if ((d = n.filterCanChangeToHandCards(o.B.filterInMagicTrapTypeCards(n.getBattleCardsByType("P", i.Data.CardType.magic), i.Data.MagicTrapType.equip))).length > 0) return {
                                _is: !0,
                                _cards: d,
                                _choice: 1
                            }
                        } else if (7005 == _._refId) ; else if (7015 == _._refId || 7016 == _._refId || 7017 == _._refId || 7018 == _._refId) ; else {
                            if (7025 == _._refId) return {
                                _is: !0,
                                _cards: d = n.getBattleCards("B", i.Data.CARD_MAX_LEVEL, c),
                                _choice: 1
                            };
                            if (7039 == _._refId) {
                                if ((d = n.getBattleCardsByHurt("B")).length > 0) return {
                                    _is: !0,
                                    _cards: d,
                                    _choice: 1
                                }
                            } else if (7041 == _._refId) {
                                if ((d = n.filterCardsExceptCategory(n.filterCardsExceptCategory(n.getBattleCardsByType("G", i.Data.CardType.monster), i.Data.CardCategory.ex), i.Data.CardCategory.gx)).length > 0) return {
                                    _is: !0,
                                    _cards: d,
                                    _choice: 1
                                }
                            } else if (7044 == _._refId) {
                                if ((d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l)).length > 0) return {
                                    _is: !0,
                                    _cards: d,
                                    _choice: 1
                                }
                            } else if (8001 == _._refId || 7051 == _._refId) ; else if (8003 == _._refId) {
                                return {
                                    _is: !0,
                                    _cards: d = a.getBattleCards("B", i.Data.CARD_MAX_LEVEL, l),
                                    _choice: 1
                                }
                            }
                        }
                    }
                    return t
                }, e.prototype.getDrawbackCost = function (e) {
                    var t = this._player,
                        n = t._decMonsterInNatureDrawbackCostRounds[e._info._nature] && t._decMonsterInNatureDrawbackCostRounds[e._info._nature][t._round] ? t._decMonsterInNatureDrawbackCostRounds[e._info._nature][t._round] : 0,
                        a = null != t._forceMonsterDrawbackCostCurRound ? t._forceMonsterDrawbackCostCurRound : e._info._retreatCost + (t._fortress._extraDrawbackCost || 0) - n;
                    return Math.max(a, 0)
                }, e.prototype.randomPile = function () {
                    var e = this._player;
                    e._pileCards = e.randomTable(e._pileCards, e._pileCards.length);
                    for (var t = 1; t <= e._pileCards.length; t++) e._pileCards[t - 1]._pos = t
                }, e.prototype.canUseHandCard = function () {
                    var e = this._player;
                    if (0 == e._handCards.length) return !1;
                    for (var t = 1; t <= e._handCards.length; t++) {
                        var n = e._handCards[t - 1];
                        if (n._type == i.Data.CardType.monster) {
                            if (e.canUseMonster(n, !1)._canUse) return !0
                        } else if (n._type == i.Data.CardType.magic) {
                            if (e.canUseMagic(n, !1)._canUse) return !0
                        } else if (n._type == i.Data.CardType.trap && e.canUseTrap(n, !1)._canUse) return !0
                    }
                    return !1
                }, e.prototype.getMaxRound = function (e) {
                    return void 0 === e && (e = null), r.default.MaxRound
                }, e.prototype.getRandom = function () {
                    var e = this._player;
                    return e._isClient && P._guideID < 100 || e._battleType == i.Data.BattleType.teach ? 0 : (e._battleType == i.Data.BattleType.unittest && null == a.PlayerBattle._randomSeed && (a.PlayerBattle._randomSeed = 0), a.PlayerBattle._randomSeed = (1103515245 * a.PlayerBattle._randomSeed + 12345) % 65536, a.PlayerBattle._randomSeed)
                }, e.prototype.getRandomIntInRange = function (e, t) {
                    return e == t ? e : e + this.getRandom() % (t - e + 1)
                }, e.prototype.getRandomByHalo = function () {
                    var e = this._player, t = e.getRandomIntInRange(0, 99), n = e.getChangeRandomValue(),
                        a = e._opponent.getChangeRandomValue();
                    return Math.min(99, Math.max(0, t + a - n))
                }, e.prototype.haloRandom = function (e) {
                    var t = this._player, n = e, a = t.getChangeRandomValue(), i = t._opponent.getChangeRandomValue();
                    return Math.min(100, Math.max(0, n + a - i))
                }, e.prototype.getChangeRandomValue = function () {
                    for (var e = this._player.getBattleCards("B"), t = 0, n = 1; n <= e.length; n++) {
                        var a = e[n];
                        if (null != a && a._positiveStatus[r.default.PositiveType.changeRandom]) {
                            var i = a.getBuffValue(!0, r.default.PositiveType.changeRandom);
                            "number" == typeof i && (t += i)
                        }
                    }
                    return t
                }, e.prototype.randomOne = function (e) {
                    if (null == e) return {_obj: null, _index: null};
                    var t = e.length;
                    if (0 == t) return {_obj: null, _index: null};
                    if (1 == t) return {_obj: e[0], _index: 1};
                    var n = this.getRandomIntInRange(1, t);
                    return {_obj: e[n - 1], _index: n - 1}
                }, e.prototype.randomOneTryExcept = function (e, t) {
                    for (var n = [], a = 0; a < e.length; a++) e[a] != t && n.push(e[a]);
                    return this.randomOne(n)._obj || t
                }, e.prototype.randomOneExcept = function (e, t) {
                    this._player;
                    for (var n = [], a = 1; a <= e.length; a++) e[a - 1] != t && n.push(e[a - 1]);
                    return this.randomOne(n)._obj
                }, e.prototype.randomTable = function (e, t) {
                    var n = [], a = this._player;
                    if (null == e) return n;
                    var i = e.length;
                    if (i < t) for (var o = 1; o <= i; o++) n.push(e[o - 1]); else {
                        var r = {};
                        for (o = 1; o <= t; o++) {
                            var _ = a.getRandomIntInRange(1, i);
                            for (a.battleLog("*****************************rand is " + _); ;) {
                                if (1 != r[_ - 1]) {
                                    r[_ - 1] = !0, n.push(e[_ - 1]);
                                    break
                                }
                                _ = _ % i + 1
                            }
                        }
                    }
                    return n
                }, e.prototype.getSkillRandomInfoWhenRoundBegin = function () {
                }, e.prototype.getDamageFactor = function (e) {
                    for (var t = this._player._destroyCardScore[e] || 0, n = [1.05, 1.1, 1.2, 1.35, 1.55, 1.8, 2.1, 2.45, 2.85, 3.3], a = 1, i = 1; i <= t; i++) a *= n[Math.abs(Math.min(n.length - 1, t - 1))];
                    return a
                }, e.prototype.getTotalDamageScore = function () {
                    return this._player._damageScore[a.PlayerBattle.KEY_TOTAL]
                }, e.prototype.addDamageScore = function (e) {
                    var t = this._player;
                    if (!(t._round < 1)) {
                        var n = "R" + Math.max(t._round, t._opponent._round);
                        null == t._damageScore[n] && (t._damageScore[n] = 0), t._damageScore[n] = t._damageScore[n] + e * this.getDamageFactor(n), t._damageScore[a.PlayerBattle.KEY_TOTAL] = t._damageScore[a.PlayerBattle.KEY_TOTAL] + e, t._isReviewing || t.sendEvent(r.default.Status.update_score_damage)
                    }
                }, e.prototype.addDestroyCardScore = function (e) {
                    var t = this._player;
                    if (!(t._round < 1)) {
                        var n = "R" + Math.max(t._round, t._opponent._round);
                        null == t._destroyCardScore[n] && (t._destroyCardScore[n] = 0), t._destroyCardScore[n] = t._destroyCardScore[n] + 1, t._destroyCardScore[a.PlayerBattle.KEY_TOTAL] = t._destroyCardScore[a.PlayerBattle.KEY_TOTAL] + 1, e._type == i.Data.CardType.monster && (null == t._destroyHeroScore[n] && (t._destroyHeroScore[n] = 0), t._destroyHeroScore[n] = t._destroyHeroScore[n] + 1, t._destroyHeroScore[a.PlayerBattle.KEY_TOTAL] = t._destroyHeroScore[a.PlayerBattle.KEY_TOTAL] + 1), e.isMonster() && (null == t._destroyMonsterCount[e._infoId] && (t._destroyMonsterCount[e._infoId] = 0), t._destroyMonsterCount[e._infoId] = t._destroyMonsterCount[e._infoId] + 1, t._destroyMonsterCount[0] = t._destroyMonsterCount[0] + 1), t._isReviewing || t.sendEvent(r.default.Status.update_score_destroy_card)
                    }
                }, e.prototype.getTotalRound = function () {
                    return this._player._round
                }, e.prototype.loadUnitTest = function () {
                    var e = this._player;
                    if (null != e._unitTestData) {
                        var t = e._opponent, n = e._unitTestData.AttackerFields, a = e._unitTestData.DefenderFields;
                        e.loadFields(n, "PHBG"), t.loadFields(a, "PHBG")
                    }
                }, e.prototype.loadFields = function (e, t) {
                    for (var n = this._player, a = 0; a < t.length; a++) {
                        var o = t.substr(a, 1);
                        if ("B" == o) for (var _ = 0; _ < i.Data.MAX_CARD_COUNT_ON_BOARD; _++) {
                            var s = e.B[_];
                            n.loadCard(s, r.default.CardStatus.board, _ + 1)
                        } else if ("P" == o) for (_ = 0; _ < e.P.length; _++) {
                            s = e.P[_];
                            n.loadCard(s, r.default.CardStatus.pile, _ + 1)
                        } else if ("H" == o) for (_ = 0; _ < e.H.length; _++) {
                            s = e.H[_];
                            n.loadCard(s, r.default.CardStatus.hand, _ + 1)
                        } else if ("G" == o) for (_ = 0; _ < e.G.length; _++) {
                            s = e.G[_];
                            n.loadCard(s, r.default.CardStatus.grave, _ + 1)
                        }
                    }
                }, e.prototype.loadCard = function (e, t, n, a) {
                    void 0 === a && (a = null);
                    var i = this._player;
                    if (0 != e && null != e) {
                        var _ = o.B.createCard(Math.abs(e), 1);
                        switch (i.addCardToCards(_), _._isTroopCard = !0, _._saved._pos = n, _._saved._newPowerMark = a, t) {
                            case r.default.CardStatus.leave:
                                i.addCardToLeave(_);
                                break;
                            case r.default.CardStatus.pile:
                                i.addCardToPile(_);
                                break;
                            case r.default.CardStatus.hand:
                                i.addCardToHand(_);
                                break;
                            case r.default.CardStatus.board:
                                i.addCardToBoard(_);
                                break;
                            case r.default.CardStatus.grave:
                                i.addCardToGrave(_)
                        }
                    }
                }, e.prototype.loadUsedCards = function (e) {
                    var t = this._player;
                    null != e && (t._ops = o.B.parseOperations(e, !0))
                }, e.prototype.sendEvent = function (e, t, n) {
                    a.PlayerBattle.EVENT.dispatchEvent({_type: e, _param: t, _params: n, _sender: this._player})
                }, e.prototype.battleLog = function (e) {
                }, e.prototype.cardName = function (e) {
                    return null == e._info ? (cc.warn("the card has not info, please check"), "") : "---------------"
                }, e.prototype.createCharacterCard = function () {
                    var e = this._player;
                    if (null == e._avatar) return null;
                    var t = null;
                    return null == r.default.CharacterCard[Math.floor(e._avatar / 100) - 1] ? null : ((t = o.B.createCard(r.default.CharacterCard[Math.floor(e._avatar / 100) - 1], 1))._isTroopCard = !0, t._status = r.default.CardStatus.leave, e.addCardToCards(t), t)
                }, e
            }();
        n.BattleStaticHelper = _, cc._RF.pop()
    }, {
        "../../data/data": "data",
        "./BattleData": "BattleData",
        "./BattlleCardStatus": "BattlleCardStatus",
        "./PlayerBattle": "PlayerBattle"
    }],
    BattleStep: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e07bctUw8tJ3r/1o4k2cwjv", "BattleStep"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./PlayerBattle"), i = e("../../data/data"), o = e("./BattlleCardStatus"), r = e("./BattleCard"),
            _ = e("./BattleEvent"), s = e("./BattleData"), c = function () {
                function e(e) {
                    this._player = e
                }

                return e.prototype.resetWhenBattleStart = function () {
                    var e = this._player;
                    e._battleCondition.reset(), e._battleEvent.reset(), e._resultType = i.Data.BattleResult.draw, e._isFinished = !1, e._isForwarding = !1, e._isReviewing = !1, e._isPaused = !1, e._pausedStatus = null, e._isRetreat = !1, e._isRemainUnusable = !1, e._isInitialDealed = !1, e._isUsedCard = !1, e._isDealDisabled = !1, e._isForceEndRound = !1, e._isUnittestloaded = !1, e._specialFail = null, e._cardIdBase = e._isAttacker ? s.default.CardId.attacker_base : s.default.CardId.defender_base, e._cards = [], e._pileCards = [], e._handCards = [], e._boardCards = {}, e._graveCards = [], e._energyCards = [], e._result = {}, e._gemUnderSkills = [], e._tempLeaveCards = [], e._delaySkillCards = [], e._frozenAttackRounds = {}, e._extraPowerCost = {}, e._disableDrawbackRounds = {}, e._disableSkillRounds = {}, e._disableEvoleMainCard = {}, e._disableDealCard = {}, e._disableDeadRound = {}, e._powerUseLimit = {}, e._incMonsterDamageToMainRounds = {}, e._decMonsterDamageOppoRounds = {}, e._magicCardUseLimit = {}, e._exMaxHpInBattleByNature = {}, e._exDamageInBattleByNature = {}, e._decMonsterInNatureDrawbackCostRounds = {};
                    for (var t = 0; t < i.Data.CardNature.count; t++) e._decMonsterInNatureDrawbackCostRounds[t] = {};
                    e._exPowerCard = {}, e._castedSkillCounts = {}, e._summonedMonsterCounts = {}, e._nextSkillPowerFactor = {}, e._drawbackCount = 0, e._stepStatus = s.default.Status.default, e._macroStatus = s.default.Status.default, e._normalStatus = s.default.Status.default, e._round = e._battleType == i.Data.BattleType.unittest || e._battleType == i.Data.BattleType.teach ? 0 : -1, e._fortressSkill = null, e._fortressSkillInfo && e._fortressSkillInfo._id && e._fortressSkillInfo._level && 6e4 == e._fortressSkillInfo._id && (e._fortressSkill = o.B.createSkill(e._fortressSkillInfo._id, e._fortressSkillInfo._level)), e._replayIndex = 1, e._gem = 0, e._fortress = new r.default(0, 1, e), 0 != e._fortressHp && (e._fortress._updateInitHp = e._fortressHp), e._fortress.resetOnce(), e._fortress._owner = e, e._fortress._id = e._isAttacker ? s.default.CardId.attacker_base : s.default.CardId.defender_base;
                    var n = {};
                    for (t = 1; t <= e._troopLevels.length; t++) {
                        var _ = e._troopLevels[t - 1];
                        null == _.info_id ? n[_[0]] = _[1] : n[_.info_id] = _.level
                    }
                    var c = {};
                    if (e._isClient) for (t = 1; t <= e._troopSkins.length; t++) {
                        var l = e._troopSkins[t - 1];
                        c[l.info_id] = l.skin_id
                    }
                    e._skins = c;
                    var d = [], p = 1;
                    for (t = 1; t <= e._troopCards.length; t++) {
                        var u = e._troopCards[t - 1];
                        null == u.num && (u.num = u[1], u.info_id = u[0]);
                        for (var g = 1; g <= u.num; g++) {
                            var h = {_id: p, _infoId: u.info_id, _level: n[u.info_id] || 1};
                            d.push(h), p += 1
                        }
                    }
                    for (t = 1; t <= d.length; t++) {
                        var f = d[t - 1];
                        (T = new r.default(f._infoId, f._level, e))._isTroopCard = !0, e.addCardToCards(T)
                    }
                    var m = [];
                    for (t = 1; t <= e._cards.length; t++) {
                        (T = e._cards[t - 1])._type != i.Data.CardType.monster && T._type != i.Data.CardType.magic && T._type != i.Data.CardType.trap || (T._status = s.default.CardStatus.pile, m.push(t))
                    }
                    for (t = 1; t <= m.length; t++) {
                        var y = m[(g = e.getRandomIntInRange(t, m.length)) - 1];
                        m[g - 1] = m[t - 1];
                        var T = e._cards[y - 1];
                        e._pileCards.push(T), T._pos = e._pileCards.length
                    }
                    for (t = 1; t <= e._cards.length; t++) {
                        (T = e._cards[t - 1]).resetOnce()
                    }
                    var S = e._fortressHp;
                    null != S && 0 != S || (S = s.default.MAX_BALL_COUNT), e._maxBall = S, e._ball = e._maxBall, e._cardStatusToChange = [], e._cardPosToChange = [], e._eventToChange = [], e._saved = {}, e._disableTrapBy4127 = null, e._damageScore = {}, e._damageScore[a.PlayerBattle.KEY_TOTAL] = 0, e._destroyCardScore = {}, e._destroyCardScore[a.PlayerBattle.KEY_TOTAL] = 0, e._destroyHeroScore = {}, e._destroyHeroScore[a.PlayerBattle.KEY_TOTAL] = 0, e._destroyMonsterCount = {}, e._destroyMonsterCount[0] = 0, e._totalSummonedMonsterCount = {}, e._totalCastedMagicCount = 0, e._totalCastedTrapCount = 0, o.B._lastAccount = null
                }, e.prototype.resetWhenRoundBegin = function () {
                    var e = this._player;
                    e._eventObj = {}, e._round = e._round + 1, e._powerUsedCount = 0, e._magicCardUsedCount = 0, e._reorderDone = !1, e._eventDone = !1, e._haloDone = !1, e._trapDone = !1, e._saved = {}, e._cardStatusToChange = [], e._cardPosToChange = [], e._eventToChange = [], e.removeGemUnderSkillsByRound();
                    for (var t = e.getAllCards(), n = 1; n <= t.length; n++) {
                        var a = t[n - 1];
                        a._owner == e ? a.resetCardWhenRoundBegin() : a._owner == e._opponent && a.resetCardWhenOppoRoundBegin()
                    }
                    t = o.B.mergeTable([e.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand), e._opponent.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand), e.getBattleCards("BS"), e._opponent.getBattleCards("BS"), e.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e._opponent.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave)]);
                    for (n = 1; n <= t.length; n++) t[n - 1]._actionIndex = 1, t[n - 1]._actionCount = 1;
                    e._cardInAction = null, e._isMonsterActioned = !1, e._isSummoned = !1, e._isNormalSummoned = !1, e._isSummonDisabled = !1, e._isMagicTrapDisabled = !1, e._drawbackCount = 0, e._isTrapTriggerDisabled = !1, e._opponent._isTrapTriggerDisabled = !1, e._specialMagicUsed = !1, e._castedSkillCounts = {}, e._summonedMonsterCounts = {}, e._nextMonsterSpellPowerFactor = null, e._nextSkillPowerFactor = {}, e._forceMonsterDrawbackCostCurRound = null, e._skillKeepPowerByNatureCurRound = {}, e._mustUseChooseSkillSkill = null, e._mustUseChooseCardSkill = null
                }, e.prototype.resetWhenInitialDeal = function () {
                    var e = this._player;
                    e._graveCards = [], e._fortress.reset()
                }, e.prototype.resetActionCard = function () {
                    var e = this._player, t = e._actionCard;
                    e._opponent._actionCard = null, t._needAccount = !1, t._spellingSkill = null
                }, e.prototype.resetAccount = function () {
                    for (var e = this._player, t = e.getAllCards(), n = 1; n <= t.length; n++) {
                        var a = t[n - 1];
                        a._castedSkills = [], a._changed = {}
                    }
                    var i = e._actionCard || e._opponent._actionCard;
                    null != i && (i._needAccount = !1)
                }, e.prototype.beginForward = function (e) {
                    var t = this._player;
                    t._isForwarding = !0, t._isReviewing = !0, t._forwardToRound = e
                }, e.prototype.endForward = function () {
                    var e = this._player;
                    e._isForwarding = !1, e._isReviewing = !1, e._forwardToRound = null, e._forwardCt = null
                }, e.prototype.retreat = function () {
                    var e = this._player;
                    e._isRetreat = !0;
                    var t = e.getActionPlayer();
                    return t.checkFinish() ? (t._stepStatus = s.default.Status.battle_end, t.step()) : t.step()
                }, e.prototype.skip = function () {
                    this._player._isPaused = !0
                }, e.prototype.pause = function () {
                    this._player._isPaused = !0
                }, e.prototype.resume = function () {
                    var e = this._player;
                    e._isPaused = !1, null != e._pausedStatus && (e._pausedStatus = null, e.step())
                }, e.prototype.checkFinish = function () {
                    var e = this._player;
                    if (e._isClient && (e._battleType == i.Data.BattleType.unittest || e._battleType == i.Data.BattleType.teach) && e._isAttacker && 1 == e._round && e._macroStatus == s.default.Status.round_begin) return !1;
                    if (e._isFinished || e._opponent._isFinished) return !0;
                    var t = !1;
                    return (t = e._isAttacker ? e.getIsLose() || e._opponent.getIsLose() : e._opponent.getIsLose() || e.getIsLose()) || (t = e.getIsWin() || e._opponent.getIsWin()), t
                }, e.prototype.getIsWin = function () {
                    return this._player._battleCondition.getIsWin()
                }, e.prototype.getIsLose = function () {
                    var e = this._player;
                    return !!e._isRetreat || (!!e._specialFail || (0 == e._ball || (!!e.getIsRoundExceed() || (!!(e._round > 0 && e.getIsAllCardsDied()) || !(e._macroStatus != s.default.Status.round_begin || !e.getIsPileEmpty() || e._battleType == i.Data.BattleType.teach || e._battleType == i.Data.BattleType.task)))))
                }, e.prototype.getIsPileEmpty = function () {
                    var e = this._player;
                    return 0 == e._pileCards.length && e._baseBattleType == i.Data.BattleType.base_PVE && !e._isAttacker
                }, e.prototype.getIsRoundExceed = function () {
                    var e = this._player,
                        t = e._round >= e._maxRound && e._opponent._round >= e._maxRound && (e._macroStatus == s.default.Status.round_end || e._macroStatus == s.default.Status.battle_end) && (e._opponent._macroStatus == s.default.Status.round_end || e._opponent._macroStatus == s.default.Status.battle_end);
                    return e._isOnlinePvp ? t : e._isAttacker && t
                }, e.prototype.getIsAllCardsDied = function () {
                    var e = this._player;
                    if (e.getBattleCards("B").length > 0) return !1;
                    for (var t = 1; t < i.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        var n = e._opponent._boardCards[t];
                        if (o.B.isAlive(n) && n._isBorrowed) return !1
                    }
                    e._handCards.length > 0 && (e._isRemainUnusable = !0);
                    for (t = 1; t <= e._cardStatusToChange.length; t++) {
                        if (e._cardStatusToChange[t - 1]._destStatus == s.default.CardStatus.board) return !1
                    }
                    return !0
                }, e.prototype.genResult = function (e) {
                    var t = this._player;
                    t._isFinished = !0, t._opponent._isFinished = !0, t._resultType = e, t._opponent._resultType = e == i.Data.BattleResult.draw ? e : -e
                }, e.prototype.isBigWin = function () {
                    var e = this._player;
                    return 0 == e._opponent._ball || 0 == e._opponent.getBattleCards("B").length || e._opponent.getIsPileEmpty() || s.default._battleUseCardList._useCardIdx > 1 && s.default._battleUseCardList._type == s.default.UseCardType.retreat || s.default._battleUseCardList._cardOpList.length > 0 && s.default._battleUseCardList._type == s.default.UseCardType.retreat
                }, e.prototype.getResult = function () {
                    return this._player._resultType
                }, e.prototype.step = function () {
                    var e = this._player;
                    if (e._isPaused) null == e._pausedStatus && (e._pausedStatus = e._stepStatus); else switch (e._stepStatus) {
                        case s.default.Status.battle_start:
                            return e.start();
                        case s.default.Status.battle_end:
                            return e.finish();
                        case s.default.Status.round_begin:
                            return e.roundBegin();
                        case s.default.Status.deal:
                            return e.deal();
                        case s.default.Status.use:
                            return e.use();
                        case s.default.Status.action:
                            return e.action();
                        case s.default.Status.round_end:
                            return e.roundEnd();
                        case s.default.Status.initial_deal:
                            return e.initialDeal();
                        case s.default.Status.select_main:
                            return e.selectMain();
                        case s.default.Status.attack_end:
                            return e.attackEnd();
                        case s.default.Status.before_account_status:
                            return e.beforeAccountStatus();
                        case s.default.Status.after_account_status:
                            return e.afterAccountStatus();
                        case s.default.Status.before_account_reorder:
                            return e.beforeAccountReorder();
                        case s.default.Status.after_account_reorder:
                            return e.afterAccountReorder();
                        case s.default.Status.before_account_pos_change:
                            return e.beforeAccountPosChange();
                        case s.default.Status.after_account_pos_change:
                            return e.afterAccountPosChange();
                        case s.default.Status.before_account_halo:
                            return e.beforeAccountHalo();
                        case s.default.Status.after_account_halo:
                            return e.afterAccountHalo();
                        case s.default.Status.before_account_spell:
                            return e.beforeAccountSpell();
                        case s.default.Status.after_account_spell:
                            return e.afterAccountSpell();
                        case s.default.Status.before_account_event:
                            return e.beforeAccountEvent();
                        case s.default.Status.after_account_event:
                            return e.afterAccountEvent();
                        case s.default.Status.before_account_finish:
                            return e.beforeAccountFinish();
                        case s.default.Status.after_account_finish:
                            return e.afterAccountFinish();
                        case s.default.Status.before_account_trap:
                            return e.beforeAccountTrap();
                        case s.default.Status.after_account_trap:
                            return e.afterAccountTrap();
                        case s.default.Status.account_status:
                            return e.accountStatus();
                        case s.default.Status.account_reorder:
                            return e.accountReorder();
                        case s.default.Status.account_pos_change:
                            return e.accountPosChange();
                        case s.default.Status.account_halo:
                            return e.accountHalo();
                        case s.default.Status.account_trap:
                            return e.accountTrap();
                        case s.default.Status.spelling:
                            return e.spelling();
                        case s.default.Status.under_spell:
                            return e.underSpell();
                        case s.default.Status.under_defend_spell:
                            return e.underDefendSpell();
                        case s.default.Status.under_spell_damage:
                            return e.underSpellDamage();
                        case s.default.Status.under_counter_spell:
                            return e.underCounterSpell();
                        case s.default.Status.account_spell:
                            return e.accountSpell();
                        case s.default.Status.after_spell:
                            return e.afterSpell();
                        case s.default.Status.end_spell:
                            return e.endSpell();
                        case s.default.Status.account_event:
                            return e.accountEvent();
                        case s.default.Status.account_finish:
                            return e.accountFinish();
                        case s.default.Status.try_use_card:
                            return e.tryUseCard();
                        case s.default.Status.do_use_card:
                            return e.doUseCard();
                        case s.default.Status.wait_oppo_use_card:
                            return e.waitOppoUseCard();
                        case s.default.Status.wait_observe_use_card:
                            return e.waitObserveUseCard()
                    }
                }, e.prototype.start = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.battle_start) {
                        e.battleLog("[BATTLE] =================================="), e._macroStatus = s.default.Status.battle_start, e._stepStatus = s.default.Status.battle_start, e._opponent._stepStatus = s.default.Status.wait_opponent, s.default._battleUseCardList._curPlayer = e;
                        for (var t = _.default.EventType.battle_start, n = e.getEvents(t), a = 1; a <= n.length; a++) {
                            var i = n[a - 1];
                            e.changeEvent(i, t)
                        }
                        if (!e._isReviewing) return e.sendEvent(s.default.Status.battle_start)
                    }
                    return e._eventToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_event, e.step()) : (e._stepStatus = e._isInitialDealed || -1 != e._round ? s.default.Status.round_begin : s.default.Status.initial_deal, e._isInteach && 0 == e._round && (e._stepStatus = s.default.Status.round_begin), e.step())
                }, e.prototype.finish = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.battle_end) {
                        if (e.battleLog("[BATTLE] =================================="), e._isForwarding && !e._isReviewing) return e.sendEvent(s.default.Status.forwarding_end);
                        e._macroStatus = s.default.Status.battle_end;
                        var t = i.Data.BattleResult.draw, n = e.getIsLose();
                        e._opponent.getIsLose() ? t = e.isBigWin() ? i.Data.BattleResult.big_win : i.Data.BattleResult.win : n && (t = e._opponent.isBigWin() ? i.Data.BattleResult.big_lose : i.Data.BattleResult.lose), e.genResult(t);
                        for (var a = _.default.EventType.battle_end, o = e.getEvents(a), r = 1; r <= o.length; r++) {
                            var c = o[r - 1];
                            e.changeEvent(c, a)
                        }
                        if (!e._isReviewing) return e.sendEvent(s.default.Status.battle_end)
                    }
                    if (e._eventToChange.length > 0) return e._stepStatus = s.default.Status.before_account_event, this.step();
                    if (e._battleType == i.Data.BattleType.unittest) ; else if (!e._isReviewing) return e.sendEvent(s.default.Status.send_battle_end)
                }, e.prototype.initialDeal = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.initial_deal && (e.battleLog(""), e.battleLog("[BATTLE] <INITIAL DEAL>"), e._isInitialDealed = !0, e._macroStatus = s.default.Status.initial_deal, e._normalStatus = s.default.Status.default, e._initialDealIndex = 0, e.resetWhenInitialDeal(), e._opponent.resetWhenInitialDeal()), e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, this.step();
                    if (0 == e._initialDealIndex) {
                        if (e._initialDealIndex = 1, !e._isReviewing && !e._opponent._isInitialDealed) return e.sendEvent(s.default.Status.initial_deal)
                    } else if (1 == e._initialDealIndex) if (e.battleLog(""), e.battleLog("[BATTLE] <INITIAL DEAL> 1"), e._battleType == i.Data.BattleType.unittest) e._stepStatus = s.default.Status.round_begin, e.step(); else {
                        e._initialDealIndex = 2;
                        var t = e._isClient && P._guideID < 100 ? 1 : i.Data.CARD_COUNT_OF_INITIAL_DEAL,
                            n = Math.min(t, e._pileCards.length, i.Data.MAX_CARD_COUNT_IN_HAND - e._handCards.length),
                            a = 0,
                            r = o.B.isNeedCharacterCardByBattleType(e._battleType) || e._battleType == i.Data.BattleType.replay && o.B.isNeedCharacterCardByBattleType(e._replayType) ? e.createCharacterCard() : null,
                            _ = e.randomOne(e.getBattleCardsByLevel("P", 0))._obj,
                            c = e.randomOne(o.B.filterInLevelCards(e.getBattleCardsByMaxHp("P", 70, i.Data.CARD_MAX_LEVEL, _), 0))._obj,
                            l = e.getBattleCardsByInfoId("P", 30020)[0];
                        null != r && (a += 1, e.changeCardStatus(r, s.default.CardStatus.leave, s.default.CardStatus.hand)), null != _ && (a += 1, e.changeCardStatus(_, s.default.CardStatus.pile, s.default.CardStatus.hand)), null != c && 1 != t && (a += 1, e.changeCardStatus(c, s.default.CardStatus.pile, s.default.CardStatus.hand)), null != l && 1 != t && (a += 1, e.changeCardStatus(l, s.default.CardStatus.pile, s.default.CardStatus.hand));
                        for (var d = 1; d <= e._pileCards.length && !(n <= a); d++) {
                            var p = e._pileCards[d - 1];
                            p != l && p != _ && p != c && e.changeCardStatus(p, s.default.CardStatus.pile, s.default.CardStatus.hand), a += 1
                        }
                    } else if (2 == e._initialDealIndex && (e._initialDealIndex = 3, e._stepStatus = s.default.Status.round_begin, !e._isReviewing)) return e.sendEvent(s.default.Status.initial_deal);
                    return this.step()
                }, e.prototype.roundBegin = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.round_begin) {
                        e._macroStatus = s.default.Status.round_begin, e._normalStatus = s.default.Status.default, e._fortressSkillDone = !1, e._reorderDone = !1, this.resetWhenRoundBegin();
                        for (var t = e._isAttacker ? e : e._opponent, n = e._isAttacker ? e._opponent : e, a = "[BATTLE] [H] ", r = 1; r <= n._handCards.length; r++) a = a + e.cardName(n._handCards[r - 1]) + "\t";
                        e.battleLog(a), a = "[BATTLE] [B] ";
                        for (r = 1; r <= i.Data.MAX_CARD_COUNT_ON_BOARD; r++) null != n._boardCards[r] && (a = a + e.cardName(n._boardCards[r]) + "\t");
                        e.battleLog(a), a = "[BATTLE] [B] ";
                        for (r = 1; r <= i.Data.MAX_CARD_COUNT_ON_BOARD; r++) null != t._boardCards[r] && (a = a + e.cardName(t._boardCards[r]) + "\t");
                        e.battleLog(a), a = "[BATTLE] [H] ";
                        for (r = 1; r <= t._handCards.length; r++) a = a + e.cardName(t._handCards[r - 1]) + "\t";
                        if (e.battleLog(a), e._round > 1) {
                            var c = e.getBattleCards("B");
                            if (e._actionCard = c[0] || e.getGhostCard(), null != e._actionCard) {
                                this.resetActionCard(), this.resetAccount();
                                var l = e.getBattleCards("BC");
                                for (r = 1; r <= l.length; r++) {
                                    var d = l[r - 1];
                                    e.decNegativeStatus(d, s.default.NEGATIVE_CLEAR_WHEN_ROUND_BEGIN, !1, d._id, 0, i.Data.SkillMode.once), e.decPositiveStatus(d, s.default.POSITIVE_CLEAR_WHEN_ROUND_BEGIN, !1, d._id, 0, i.Data.SkillMode.once), d.decShieldWhenRoundBegin()
                                }
                                e._fortress.decShieldWhenRoundBegin(), e.account(), this.removeDeadCards()
                            }
                        }
                        var p = _.default.EventType.round_begin, u = e.getEvents(p);
                        for (r = 1; r <= u.length; r++) {
                            var g = u[r - 1];
                            e.changeEvent(g, p)
                        }
                        if (e._isClient && e._isOnlinePvp && e._playerType != s.default.PlayerType.replay && !e._isForwarding && e.sendEvent(s.default.Status.pvp_timing_begin), !e._isReviewing) return e.sendEvent(s.default.Status.round_begin)
                    }
                    if (!e._isForwarding || e._round != e._forwardToRound) {
                        if (e.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                        if (e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                        if (e._eventToChange.length > 0) return e._stepStatus = s.default.Status.before_account_event, e.step();
                        if (!e._fortressSkillDone && null != e._fortressSkill) return e._fortressSkillDone = !0, e._actionCard = e.getGhostCard(), e.resetActionCard(), e.resetAccount(), e._spellType = i.Data.SkillMode.round_begin, e._stepStatus = s.default.Status.before_account_spell, e.step();
                        o.B.isAlive(e._cardInAction) || (e._cardInAction = null);
                        var h = e._cardInAction;
                        if (null == h) for (c = o.B.mergeTable([e.getBattleCards("BS"), e._opponent.getBattleCards("BS")]), r = 1; r <= c.length; r++) {
                            d = c[r - 1];
                            if (o.B.isAlive(d) && d._actionIndex <= d._actionCount) {
                                h = d;
                                break
                            }
                        }
                        if (null == h) for (c = o.B.mergeTable([e.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e._opponent.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave)]), r = 1; r <= c.length; r++) {
                            if ((d = c[r - 1])._actionIndex <= d._actionCount) {
                                h = d;
                                break
                            }
                        }
                        return null != h ? h._actionIndex <= h._actionCount ? (e._cardInAction = h, e._actionCard = h, e._spellType = h._owner == e ? i.Data.SkillMode.round_begin : i.Data.SkillMode.oppo_round_begin, e._stepStatus = s.default.Status.before_account_spell, h._actionIndex = h._actionIndex + 1, this.step()) : (e._cardInAction = null, e._actionCard = null, e._stepStatus = s.default.Status.round_begin, e.step()) : (e._cardInAction = null, e._reorderDone || (e._reorderDone = !0), e._haloDone || (e._haloDone = !0), e._stepStatus = s.default.Status.deal, this.step())
                    }
                    e.sendEvent(s.default.Status.forwarding_end)
                }, e.prototype.deal = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.deal) {
                        e.battleLog(""), e.battleLog("[BATTLE] <DEAL>"), e._macroStatus = s.default.Status.deal, e._normalStatus = s.default.Status.default;
                        for (var t = 1; ;) {
                            if (null == (c = e._tempLeaveCards[t - 1])) break;
                            c._returnRound == e._round ? (e.changeCardStatus(c, s.default.CardStatus.leave, s.default.CardStatus.hand), e._tempLeaveCards.splice(t - 1, 1)) : t += 1
                        }
                        if (!e._isDealDisabled && e._round > 0) {
                            if ((!e._isClient || e._battleType != i.Data.BattleType.unittest && e._battleType != i.Data.BattleType.teach || !e._isAttacker || e._round > 1) && e._pileCards.length > 0) {
                                var n = Math.min(i.Data.CARD_COUNT_OF_ROUND_DEAL, Math.min(e._pileCards.length, i.Data.MAX_CARD_COUNT_IN_HAND - e._handCards.length));
                                e._isClient && 11 == P._guideID && e._isAttacker && 1 == e._round && (n = 0), e._disableDealCard[e._round] && (n = 0);
                                for (var a = 1; a <= n; a++) e.changeCardStatus(e._pileCards[a - 1], s.default.CardStatus.pile, s.default.CardStatus.hand)
                            }
                            for (var r = i.Data.POWER_DEAL_COUNT(e._round) + (e._exPowerCard[e._round] || 0), _ = 1; _ <= r; _++) {
                                var c;
                                (c = o.B.createCard(39999, 1))._isTroopCard = !0, e._status = s.default.CardStatus.leave, e.addCardToCards(c), e.changeCardStatus(c, s.default.CardStatus.leave, s.default.CardStatus.hand)
                            }
                        }
                        if (e._isDealDisabled = !1, !e._isReviewing) return e.sendEvent(s.default.Status.deal)
                    }
                    return this.checkFinish() ? (e._stepStatus = s.default.Status.before_account_finish, e.step()) : e._cardStatusToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_status, this.step()) : (e._stepStatus = s.default.Status.use, this.step())
                }, e.prototype.use = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.use && e._macroStatus != s.default.Status.select_main && e._macroStatus != s.default.Status.round_end) {
                        e.battleLog(""), e.battleLog("[BATTLE] <USE>"), e._macroStatus = s.default.Status.use, e._normalStatus = s.default.Status.default;
                        for (var t = e.getBattleCards("B"), n = 1; n <= t.length; n++) t[n - 1]._actionIndex = 1, t[n - 1]._actionCount = 1;
                        if (!e._isReviewing) return e.sendEvent(s.default.Status.use)
                    }
                    if (this.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                    if (e._cardPosToChange.length > 0) return e._stepStatus = s.default.Status.before_account_pos_change, e.step();
                    if (e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                    if (null != e._autoTrySpellWhenUse) return e._autoTrySpellWhenUse = null, e.useCard(e._autoTrySpellWhenUse._type, e._autoTrySpellWhenUse._ids);
                    var a = null, i = null;
                    if (e._isForwarding || e._playerType == s.default.PlayerType.replay || e._playerType == s.default.PlayerType.observe || e._playerType == s.default.PlayerType.opponent) {
                        var o = e.replayUseCard();
                        if (a = o._type, i = o._ids, a == s.default.UseCardType.retreat) return cc.log(" get in battle end "), i[0] == e._fortress._id ? e.retreat() : e._opponent.retreat();
                        if (null == a) {
                            if (e._isForwarding) return e.sendEvent(s.default.Status.forwarding_end);
                            if (e._playerType == s.default.PlayerType.replay) {
                                n = "test";
                                return a = (r = e._ai.aiUseCard())._type, i = r._ids, null == r._type && cc.log("---"), e.addAUseCardToList(a, i), e.step()
                            }
                            if (e._playerType == s.default.PlayerType.observe) return e.waitObserveUseCard();
                            if (e._playerType == s.default.PlayerType.opponent) return e.waitOppoUseCard()
                        }
                    } else {
                        var r;
                        if (e._playerType == s.default.PlayerType.player) return a = (r = e.replayUseCard())._type, i = r._ids, null == a ? e.tryUseCard() : e.doUseCard(a, i);
                        if (e._playerType == s.default.PlayerType.ai && (a = (r = e.replayUseCard())._type, i = r._ids, null == a)) {
                            var _ = e._ai.aiUseCard();
                            return a = _._type, i = _._ids, e.addAUseCardToList(a, i), e._isReviewing ? e.step() : e.sendEvent(s.default.Status.ai_use_card, a, i)
                        }
                    }
                    return e.useCard(a, i)
                }, e.prototype.action = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.action) {
                        e.battleLog(""), e.battleLog("[BATTLE] <ACTION>"), e._macroStatus = s.default.Status.action, e._normalStatus = s.default.Status.default;
                        for (var t = 1; t <= 2 * i.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                            var n = t <= i.Data.MAX_CARD_COUNT_ON_BOARD ? e._boardCards[t] : e._opponent._boardCards[t - i.Data.MAX_CARD_COUNT_ON_BOARD];
                            o.B.isAlive(n) && (n._actionIndex = 1, n._actionCount = 1)
                        }
                        if (e._cardInAction = null, e._actionStep = 1, !e._isReviewing) return e.sendEvent(s.default.Status.action)
                    }
                    if (e.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                    var a = null;
                    if (null != e._cardInAction) for (t = 1; t <= i.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        n = e._boardCards[t];
                        if (o.B.isAlive(n) && n._actionIndex <= n._actionCount) {
                            a = n;
                            break
                        }
                    }
                    if (null != a) {
                        if (1 == e._actionStep) return e._actionStep = e._actionStep + 1, e._cardInAction = a, e._actionCard = a, e._spellType = i.Data.SkillMode.spelling, e._stepStatus = s.default.Status.before_account_spell, e.step();
                        if (2 == e._actionStep) return e._actionStep = 1, a._actionIndex = a._actionIndex + 1, e._cardInAction = null, e._actionCard = null, e._stepStatus = s.default.Status.action, e.step()
                    }
                    return e._cardInAction = null, e._stepStatus = s.default.Status.round_end, this.step()
                }, e.prototype.attackEnd = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.attack_end) {
                        e._macroStatus = s.default.Status.attack_end, e._normalStatus = s.default.Status.default, e._reorderDone = !1, e._eventDone = !1, e._fortressSkillDone = e._round < 0, e._isSummonDisabled = !1;
                        for (var t = o.B.mergeTable([e.getBattleCards("BS"), e._opponent.getBattleCards("BS"), e.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e._opponent.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand), e._opponent.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand)]), n = 1; n <= t.length; n++) t[n - 1]._actionIndex = 1, t[n - 1]._actionCount = 1;
                        for (n = 1; n <= e._delaySkillCards.length; n++) e._delaySkillCards[n - 1]._actionIndex = 1, e._delaySkillCards[n - 1]._actionCount = 1;
                        for (n = 1; n <= e._opponent._delaySkillCards.length; n++) e._opponent._delaySkillCards[n - 1]._actionIndex = 1, e._opponent._delaySkillCards[n - 1]._actionCount = 1;
                        e._cardInAction = null;
                        var a = o.B.mergeTable([e.getBattleCards("B"), e._opponent.getBattleCards("B")]);
                        if (a.length > 0) {
                            e._actionCard = a[0], e.resetActionCard(), e.resetAccount();
                            var r = 0, c = 0;
                            for (n = 1; n <= i.Data.MAX_CARD_COUNT_ON_BOARD; n++) e._opponent.isBoardPosEmpty(n) && (r += 1);
                            for (n = 1; n <= i.Data.MAX_CARD_COUNT_ON_BOARD; n++) {
                                if (o.B.isAlive(e._boardCards[n])) (h = e._boardCards[n])._actionCount = 1, e.decPositiveStatus(h, s.default.POSITIVE_CLEAR_WHEN_ROUND_END, !1, h._id, 0, i.Data.SkillMode.once), h._isBorrowed ? c < r ? (e.changeCardStatus(h, s.default.CardStatus.board, s.default.CardStatus.board, s.default.CardStatusVal.b2b_oppo_once), c += 1) : (e.changeCardStatus(h, s.default.CardStatus.board, s.default.CardStatus.hand, s.default.CardStatusVal.b2h_oppo_once), null != h._horse && e.changeCardStatus(h._horse, s.default.CardStatus.board, s.default.CardStatus.hand)) : (e.decNegativeStatus(h, s.default.NEGATIVE_CLEAR_WHEN_ROUND_END, !1, h._id, 0, i.Data.SkillMode.once), h.decBuffValue(!1, s.default.NegativeType.atkFrozen), h.decBuffValue(!1, s.default.NegativeType.disableLastSkill)), h.removeUnderSkillByRemoveMode(i.Data.SkillMode.round_end);
                                o.B.isAlive(e._opponent._boardCards[n]) && e._opponent._boardCards[n].removeUnderSkillByRemoveMode(i.Data.SkillMode.oppo_round_end)
                            }
                            e._fortress._actionCount = 1, e.decPositiveStatus(e._fortress, s.default.POSITIVE_CLEAR_WHEN_ROUND_END, !1, e._fortress._id, 0, i.Data.SkillMode.once), e.decNegativeStatus(e._fortress, s.default.NEGATIVE_CLEAR_WHEN_ROUND_END, !1, e._fortress._id, 0, i.Data.SkillMode.once), e.updateBuffsEoundEndPart2(), e.account(), e.removeDeadCards()
                        }
                        if (!e._isReviewing) return e.sendEvent(s.default.Status.attack_end)
                    }
                    if (e.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                    if (e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                    if (!e._eventDone) {
                        e._eventDone = !0;
                        var l = _.default.EventType.round_end, d = e.getEvents(l);
                        for (n = 1; n <= d.length; n++) {
                            var p = d[n - 1];
                            e.changeEvent(p, l)
                        }
                    }
                    if (e._eventToChange.length > 0) return e._stepStatus = s.default.Status.before_account_event, e.step();
                    if (!e._fortressSkillDone && null != e._fortressSkill) return e._fortressSkillDone = !0, e._actionCard = e.getGhostCard(), e.resetActionCard(), e.resetAccount(), e._spellType = i.Data.SkillMode.round_end, e._stepStatus = s.default.Status.before_account_spell, e.step();
                    var u = null;
                    if (null == e._cardInAction) {
                        var g = o.B.mergeTable([e.getBattleCards("BS"), e._opponent.getBattleCards("BS"), e.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e._opponent.getBattleCardsBySkillMode("G", i.Data.SkillMode.in_grave), e.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand), e._opponent.getBattleCardsBySkillMode("H", i.Data.SkillMode.in_hand)]);
                        for (n = 1; n <= g.length; n++) {
                            var h = g[n - 1];
                            if (o.B.isAlive(h) && h._actionIndex <= h._actionCount) {
                                u = h;
                                break
                            }
                        }
                        if (null == u) for (n = 1; n <= e._delaySkillCards.length; n++) {
                            if ((h = e._delaySkillCards[n - 1]).hasSkillInMode(i.Data.SkillMode.round_end) && h._actionIndex <= h._actionCount) {
                                u = h, e._delaySkillCards.splice(n - 1, 1);
                                break
                            }
                        }
                        if (null == u) for (n = 1; n <= e._delaySkillCards.length; n++) {
                            if ((h = e._delaySkillCards[n - 1]).hasSkillInMode(i.Data.SkillMode.oppo_round_end) && h._actionIndex <= h._actionCount) {
                                u = h, e._delaySkillCards.splice(n - 1, 1);
                                break
                            }
                        }
                    }
                    return null != u ? u._actionIndex <= u._actionCount ? (e._cardInAction = u, e._actionCard = u, e._spellType = u._owner == e ? i.Data.SkillMode.round_end : i.Data.SkillMode.oppo_round_end, e._stepStatus = s.default.Status.before_account_spell, u._actionIndex = u._actionIndex + 1, e.step()) : (e._cardInAction = null, e._actionCard = null, e._stepStatus = s.default.Status.attack_end, e.step()) : (e._cardInAction = null, e._reorderDone || (e._reorderDone = !0), e._stepStatus = s.default.Status.select_main, e.step())
                }, e.prototype.roundEnd = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.round_end) {
                        if (e._macroStatus != s.default.Status.select_main) return e._isForceEndRound = !0, e._stepStatus = s.default.Status.attack_end, e.step();
                        if (e._isForceEndRound = !1, e._macroStatus = s.default.Status.round_end, e._normalStatus = s.default.Status.default, e._reorderDone = !1, e._eventDone = !1, e._isSummonDisabled = !1, e._opponent._disableTrapBy4127 = null, e.isNeedMainWhenInitialDeal()) {
                            var t = e._ai.aiChooseMainWhenInitialDeal()._ids;
                            e.changeCardStatus(e.getCardById(t[0]), s.default.CardStatus.hand, s.default.CardStatus.board)
                        }
                        if (e.getBattleCards("B").length > 0 && e.isNeedMainWhenRoundEnd()) {
                            cc.log("===================");
                            t = e._ai.aiChooseMainWhenRoundEnd()._ids;
                            e.changeCardPos(e.getCardById(t[0]), s.default.CardPosChange.x21)
                        }
                        if (e.isNeedDrop()) {
                            t = e._ai.aiDropCard(!0)._ids;
                            for (var n = 0; n < t.length; n++) e.changeCardStatus(e.getCardById(t[n]), s.default.CardStatus.hand, s.default.CardStatus.grave)
                        }
                        for (n = 1; n <= e._handCards.length; n++) 39999 == e._handCards[n - 1]._infoId && e.changeCardStatus(e._handCards[n - 1], s.default.CardStatus.hand, s.default.CardStatus.leave)
                    }
                    if (e.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                    if (e._cardPosToChange.length > 0) return e._stepStatus = s.default.Status.before_account_pos_change, this.step();
                    if (e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                    if (!e._eventDone) {
                        e._eventDone = !0;
                        var a = _.default.EventType.round_end, i = e.getEvents(a);
                        for (n = 1; n <= i.length; n++) e.changeEvent(i[n - 1], a)
                    }
                    return e._eventToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_event, this.step()) : (e._opponent._stepStatus = e._opponent._isInitialDealed || -1 != e._opponent._round ? s.default.Status.round_begin : s.default.Status.initial_deal, e._stepStatus = s.default.Status.wait_opponent, e._opponent.step())
                }, e.prototype.selectMain = function () {
                    var e = this._player;
                    if (e._macroStatus != s.default.Status.select_main && (e.battleLog(""), e.battleLog("[BATTLE] <SELECT MAIN>"), e._macroStatus = s.default.Status.select_main, e._normalStatus = s.default.Status.default, !e._isForceEndRound && null == e._boardCards[1] && e.getBattleCards("B").length > 0 && e._playerType != s.default.PlayerType.replay && !e._isReviewing)) return e.sendEvent(s.default.Status.select_main);
                    var t = e.replayUseCard(), n = t._type, a = t._ids;
                    return null != n ? e.useCard(n, a) : e._cardPosToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_pos_change, this.step()) : e._isForceEndRound ? (e._stepStatus = s.default.Status.round_end, e.step()) : e._playerType == s.default.PlayerType.replay || e._isReviewing ? (cc.log("Err in selectMain"), e._stepStatus = s.default.Status.round_end, e.step()) : e.sendEvent(s.default.Status.round_end)
                }, e.prototype.beforeAccountStatus = function () {
                    var e = this._player, t = e._cardStatusToChange[0];
                    e._cardStatusToChange.splice(0, 1), t || cc.assert(!1, "fatal error");
                    var n = t._card;
                    return n._sourceStatus = t._sourceStatus, n._destStatus = t._destStatus, n._statusVal = t._statusVal, n._triggerCard = t._triggerCard, e.saveStatus(), e._actionCard = n, e.resetActionCard(), n._sourceStatus != n._status ? (e._stepStatus = s.default.Status.after_account_status, this.step()) : (e._stepStatus = s.default.Status.account_status, e._normalStatus = s.default.Status.default, this.step())
                }, e.prototype.afterAccountStatus = function () {
                    var e = this._player;
                    e._normalStatus != s.default.Status.after_account_status && (e._normalStatus = s.default.Status.after_account_status, e._eventDone = !1, e._costSpellDone = !1, e._spellDone = !1, e._trapDone = !1, e._triggerDone = !1);
                    var t = e._actionCard;
                    if (!e._costSpellDone) {
                        e._costSpellDone = !0;
                        var n = t._sourceStatus, a = t._destStatus;
                        if (t.isMonster() && n != s.default.CardStatus.board && a == s.default.CardStatus.board) return e._spellType = i.Data.SkillMode.using, e._stepStatus = s.default.Status.before_account_spell, e.step()
                    }
                    if (!e._trapDone) return e._trapDone = !0, e._stepStatus = s.default.Status.before_account_trap, e.step();
                    var r = null;
                    if (!e._spellDone) {
                        e._spellDone = !0;
                        n = t._sourceStatus, a = t._destStatus;
                        if (r = t._triggerCard, t.isMonster()) {
                            if (n == s.default.CardStatus.grave && a == s.default.CardStatus.board) return e._spellType = i.Data.SkillMode.g2b, e._stepStatus = s.default.Status.before_account_spell, e.step();
                            if (n == s.default.CardStatus.pile && a == s.default.CardStatus.board) return e._spellType = i.Data.SkillMode.p2b, e._stepStatus = s.default.Status.before_account_spell, this.step();
                            if (n == s.default.CardStatus.board && (a == s.default.CardStatus.grave || a == s.default.CardStatus.leave) && t._statusVal != s.default.CardStatusVal.b2l_evolve) return e._spellType = i.Data.SkillMode.bcs2gl, e._stepStatus = s.default.Status.before_account_spell, this.step();
                            if (n == s.default.CardStatus.board && a != s.default.CardStatus.board) return e._spellType = i.Data.SkillMode.bcs2_, e._stepStatus = s.default.Status.before_account_spell, e.step();
                            if (n != s.default.CardStatus.hand || a != s.default.CardStatus.grave && a != s.default.CardStatus.leave) {
                                if (n == s.default.CardStatus.pile && (a == s.default.CardStatus.grave || a == s.default.CardStatus.leave) && null != r) return e._spellType = r._owner != t._owner ? i.Data.SkillMode.p2g_by_oppo : i.Data.SkillMode.p2g_by_self, e._stepStatus = s.default.Status.before_account_spell, e.step()
                            } else if (null != r) return e._spellType = r._owner != t._owner ? i.Data.SkillMode.h2g_by_oppo : i.Data.SkillMode.h2g_by_self, e._stepStatus = s.default.Status.before_account_spell, e.step()
                        } else if (t._type == i.Data.CardType.magic) {
                            if (n == s.default.CardStatus.hand && (a == s.default.CardStatus.grave || a == s.default.CardStatus.leave) && t._statusVal == s.default.CardStatusVal.h2g_magic || a == s.default.CardStatus.show) return e._spellType = i.Data.SkillMode.magic, e._stepStatus = s.default.Status.before_account_spell, e.step();
                            if (n == s.default.CardStatus.show && (a == s.default.CardStatus.grave || a == s.default.CardStatus.leave)) return e._spellType = i.Data.SkillMode.bcs2gl, e._stepStatus = s.default.Status.before_account_spell, e.step();
                            if (n == s.default.CardStatus.show && a != s.default.CardStatus.show) return e._spellType = i.Data.SkillMode.bcs2_, e._stepStatus = s.default.Status.before_account_spell, e.step();
                            if (n != s.default.CardStatus.hand || a != s.default.CardStatus.grave && a != s.default.CardStatus.leave || t._statusVal == s.default.CardStatusVal.h2g_magic) {
                                if (n != s.default.CardStatus.pile || a != s.default.CardStatus.grave && a != s.default.CardStatus.leave) {
                                    if (n == s.default.CardStatus.leave && a == s.default.CardStatus.grave) return e._spellType = i.Data.SkillMode.bcs2gl, e._stepStatus = s.default.Status.before_account_spell, e.step()
                                } else if (null != r) return e._spellType = r._owner != t._owner ? i.Data.SkillMode.p2g_by_oppo : i.Data.SkillMode.p2g_by_self, e._stepStatus = s.default.Status.before_account_spell, this.step()
                            } else if (null != r) return e._spellType = r._owner != t._owner ? i.Data.SkillMode.h2g_by_oppo : i.Data.SkillMode.h2g_by_self, e._stepStatus = s.default.Status.before_account_spell, this.step()
                        } else if (t._type == i.Data.CardType.fortress && t._statusVal == s.default.CardStatusVal.f2f_fortress_damaged) return e._spellType = i.Data.SkillMode.fortress_damaged, e._stepStatus = s.default.Status.before_account_spell, e.step()
                    }
                    if (!e._triggerDone) {
                        e._triggerDone = !0;
                        t._destStatus;
                        if (t._sourceStatus == s.default.CardStatus.board && t._destStatus == s.default.CardStatus.grave && null != t._lastAttackedInfo) {
                            var c = e.getCardById(t._lastAttackedInfo._cid), l = null;
                            if (o.B.isAlive(c) && c.isMonster()) {
                                for (l = 1; ;) {
                                    var d = c.getSkillByMode(i.Data.SkillMode.defeat_b2g, l);
                                    if (null == c.getSkillByMode(i.Data.SkillMode.defeat_b2g, l)) break;
                                    c._owner.castSkill(c, d, i.Data.SkillMode.defeat_b2g), l += 1
                                }
                                c._needAccount && e.account()
                            }
                        }
                    }
                    if (!e._eventDone) {
                        e._eventDone = !0;
                        var p = _.default.EventType.after_status_change;
                        if (null != p) for (var u = e.getEvents(p), g = 1; g <= u.length; g++) e.changeEvent(u[g - 1], p)
                    }
                    return e._eventToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_event, e.step()) : (t._sourceStatus = null, t._destStatus = null, t._statusVal = null, t._triggerCard = null, e._normalStatus = s.default.Status.default, e.loadStatus())
                }, e.prototype.beforeAccountReorder = function () {
                    var e = this._player;
                    e.saveStatus();
                    for (var t = null, n = 1; n <= 2 * i.Data.MAX_CARD_COUNT_ON_BOARD; n++) {
                        var a = n <= i.Data.MAX_CARD_COUNT_ON_BOARD ? e._boardCards[n] : e._opponent._boardCards[n - i.Data.MAX_CARD_COUNT_ON_BOARD];
                        if (o.B.isAlive(a)) {
                            t = a;
                            break
                        }
                    }
                    return null == t ? (e._stepStatus = s.default.Status.after_account_reorder, e.step()) : (e._actionCard = t, e.resetActionCard(), e._normalStatus = s.default.Status.default, e._stepStatus = s.default.Status.account_reorder, this.step())
                }, e.prototype.afterAccountReorder = function () {
                    var e = this._player;
                    return e._normalStatus != s.default.Status.after_account_reorder && (e._normalStatus = s.default.Status.after_account_reorder), e._normalStatus = s.default.Status.default, e.loadStatus()
                }, e.prototype.beforeAccountPosChange = function () {
                    var e = this._player;
                    e.saveStatus();
                    for (var t = [], n = 1; n <= e._cardPosToChange.length; n++) {
                        var a = e._cardPosToChange[n - 1]._card;
                        o.B.isAlive(a) && t.push(a)
                    }
                    return 0 == t.length ? (e._stepStatus = s.default.Status.after_account_pos_change, e.step()) : (e._normalStatus = s.default.Status.default, e._stepStatus = s.default.Status.account_pos_change, e.step())
                }, e.prototype.afterAccountPosChange = function () {
                    var e = this._player;
                    return e._normalStatus != s.default.Status.after_account_pos_change && (e._normalStatus = s.default.Status.after_account_pos_change, e._cardPosToChange = [], e._posChangeSpellDone = !1), e._posChangeSpellDone ? (e._normalStatus = s.default.Status.default, e.loadStatus()) : (e._posChangeSpellDone = !0, e._actionCard = e._fortress, e._spellType = i.Data.SkillMode.pos_changed, e._stepStatus = s.default.Status.before_account_spell, e.step())
                }, e.prototype.beforeAccountHalo = function () {
                    var e = this._player;
                    e.saveStatus();
                    var t = e._actionCard;
                    if (null == t) {
                        t = null;
                        for (var n = 1; n <= 2 * i.Data.MAX_CARD_COUNT_ON_BOARD; n++) {
                            var a = n <= i.Data.MAX_CARD_COUNT_ON_BOARD ? e._boardCards[n] : e._opponent._boardCards[n - i.Data.MAX_CARD_COUNT_ON_BOARD];
                            if (o.B.isAlive(a)) {
                                t = a;
                                break
                            }
                        }
                    }
                    return null == t ? (e._stepStatus = s.default.Status.after_account_halo, e.step()) : (e._actionCard = t, this.resetActionCard(), e._normalStatus = s.default.Status.default, e._stepStatus = s.default.Status.account_halo, e.step())
                }, e.prototype.afterAccountHalo = function () {
                    var e = this._player;
                    return e._normalStatus = s.default.Status.default, e.loadStatus()
                }, e.prototype.beforeAccountSpell = function () {
                    var e = this._player;
                    return e.saveStatus(), e.resetActionCard(), e._spellIndex = 0, e._spellCountIndex = 0, e._stepStatus = s.default.Status.spelling, e._normalStatus = s.default.Status.default, e.step()
                }, e.prototype.afterAccountSpell = function () {
                    var e = this._player;
                    return e._normalStatus = s.default.Status.default, e.loadStatus()
                }, e.prototype.beforeAccountEvent = function () {
                    var e = this._player, t = e._eventToChange[0];
                    e._eventToChange.splice(0, 1);
                    var n = t._event;
                    t._type;
                    return e.saveStatus(), n._owner.getIsEventSatisfied(n) ? (e._actionEvent = n, null == e._actionCard && (e._actionCard = e._cards[0] || e._opponent._cards[0] || e.getGhostCard()), e.resetActionCard(), e._normalStatus = s.default.Status.default, e._stepStatus = s.default.Status.account_event, this.step()) : (e._stepStatus = s.default.Status.after_account_event, e.step())
                }, e.prototype.afterAccountEvent = function () {
                    var e = this._player;
                    return e._normalStatus = s.default.Status.default, e.loadStatus()
                }, e.prototype.beforeAccountFinish = function () {
                    var e = this._player;
                    return e.saveStatus(), e._normalStatus = s.default.Status.default, e._stepStatus = s.default.Status.account_finish, e.step()
                }, e.prototype.afterAccountFinish = function () {
                    var e = this._player;
                    return e._normalStatus = s.default.Status.default, e.checkFinish() ? (e._saved = {}, e._stepStatus = s.default.Status.battle_end, e.step()) : e.loadStatus()
                }, e.prototype.beforeAccountTrap = function () {
                    var e = this._player;
                    return e.saveStatus(), e.resetActionCard(), e._stepStatus = s.default.Status.account_trap, e._normalStatus = s.default.Status.default, e.step()
                }, e.prototype.afterAccountTrap = function () {
                    var e = this._player;
                    return e._normalStatus = s.default.Status.default, e.loadStatus()
                }, e.prototype.tryUseCard = function () {
                    var e = this._player;
                    if (!e._isPaused) {
                        if (e._normalStatus != s.default.Status.try_use_card) {
                            e._normalStatus = s.default.Status.try_use_card;
                            for (var t = _.default.EventType.try_use_card, n = e.getEvents(t), a = 1; a <= n.length; a++) e.changeEvent(n[a - 1], t)
                        }
                        return e._eventToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_event, this.step()) : (e._normalStatus = s.default.Status.default, e.sendEvent(s.default.Status.try_use_card))
                    }
                }, e.prototype.doUseCard = function (e, t) {
                    var n = this._player;
                    if (!n._isPaused) {
                        if (n._normalStatus != s.default.Status.do_use_card) {
                            n._normalStatus = s.default.Status.do_use_card, n._cardToTryUse = {_type: e, _ids: t};
                            for (var a = _.default.EventType.do_use_card, i = n.getEvents(a), o = 1; o <= i.length; o++) n.changeEvent(i[o - 1], a)
                        }
                        return n._eventToChange.length > 0 ? (n._stepStatus = s.default.Status.before_account_event, n.step()) : (n._normalStatus = s.default.Status.default, null == n._cardToTryUse._type && null == n._cardToTryUse._ids || (e = n._cardToTryUse._type, t = n._cardToTryUse._ids), n._cardToTryUse = {
                            _type: null,
                            _ids: null
                        }, n.useCard(e, t))
                    }
                }, e.prototype.waitOppoUseCard = function () {
                    return this._player.sendEvent(s.default.Status.wait_oppo_use_card)
                }, e.prototype.waitObserveUseCard = function () {
                    return this._player.sendEvent(s.default.Status.wait_observe_use_card)
                }, e.prototype.useCard = function (e, t) {
                    var n = this._player;
                    return e == s.default.UseCardType.retreat ? t[0] == n._fortress._id ? n.retreat() : n._opponent.retreat() : e == s.default.UseCardType.round ? n.endRound(e, t) : e == s.default.UseCardType.attack_end ? n.endAttack(e, t) : e == s.default.UseCardType.init_b1 ? n.initMainMonster(e, t) : e == s.default.UseCardType.init_bx ? n.initBackupMonsters(e, t) : e == s.default.UseCardType.h2b ? n.monsterToBoard(e, t) : e == s.default.UseCardType.swap ? n.drawbackMonster(e, t) : e == s.default.UseCardType.drop ? n.dropHandCard(e, t) : e == s.default.UseCardType.spell ? n.useSpell(e, t) : void 0
                }, e.prototype.replayUseCard = function () {
                    var e = this._player, t = e._ops[e._replayIndex - 1];
                    return s.default._battleUseCardList._curPlayer != e ? {
                        _type: null,
                        _ids: [],
                        _checkData: "change round"
                    } : null != t ? (t._type == s.default.UseCardType.round && (s.default._battleUseCardList._curPlayer = e._opponent), e._replayIndex = e._replayIndex + 1, 2 == t._type && cc.log("why no get battle end"), {
                        _type: t._type,
                        _ids: t._ids
                    }) : {_type: null, _ids: [], _checkData: "no data now"}
                }, e.prototype.endRound = function (e, t) {
                    var n = this._player;
                    return n._stepStatus = s.default.Status.round_end, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.initMainMonster = function (e, t) {
                    var n = this._player;
                    return n.changeCardStatus(n.getCardById(t[0]), s.default.CardStatus.hand, s.default.CardStatus.board), n._stepStatus = s.default.Status.initial_deal, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.initBackupMonsters = function (e, t) {
                    for (var n = this._player, a = 1; a <= t.length; a++) n.changeCardStatus(n.getCardById(t[a - 1]), s.default.CardStatus.hand, s.default.CardStatus.board);
                    return n._stepStatus = s.default.Status.initial_deal, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.monsterToBoard = function (e, t) {
                    var n = this._player, a = n.getCardById(t[0]);
                    n._actionCard = a, n.resetActionCard(), n.resetAccount(), n._actionCard._ids = t;
                    s.default.Status.before_account_status;
                    if (a._status == s.default.CardStatus.hand) if (a._type == i.Data.CardType.magic) ; else if (0 == a._info._level) a._isEvolved = !0, n.changeCardStatus(a, s.default.CardStatus.hand, s.default.CardStatus.board, s.default.CardStatusVal.h2b_normal); else {
                        var o = n.getCardById(t[1]);
                        o._isSilentEvolve = !0, n.changeCardStatus(o, s.default.CardStatus.board, s.default.CardStatus.leave, s.default.CardStatusVal.b2l_evolve), a._baseCard = o, a._isEvolved = !0, a._isEvolve = !0, a._saved._pos = o._pos, a._saved._powerMark = o.getBuffValue(!0, s.default.PositiveType.powerMark), a._saved._bind = o._binds[0], a._updateHp = a._maxHp, n.changeCardStatus(a, s.default.CardStatus.hand, s.default.CardStatus.board, s.default.CardStatusVal.h2b_normal)
                    }
                    return n._stepStatus = s.default.Status.before_account_status, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.drawbackMonster = function (e, t) {
                    var n = this._player, a = n.getCardById(t[1]), o = n.getCardById(t[0]), r = n._boardCards[1];
                    return null != r ? (n.changeCardPos(r, s.default.CardPosChange.swap), o == r ? n.changeCardPos(a, s.default.CardPosChange.swap) : n.changeCardPos(o, s.default.CardPosChange.swap), r.removePowerMark(n.getDrawbackCost(r), r._id, 0, i.Data.SkillMode.once), n.decNegativeStatus(r, s.default.NEGATIVE_COMMON, !1, null, null, null), n.account(), n._drawbackCount = n._drawbackCount + 1) : (null != a ? n.changeCardPos(a, s.default.CardPosChange.x21) : null != o && n.changeCardPos(o, s.default.CardPosChange.x21), n.account()), n._cardInAction = null, n._actionCard = o || a, n._stepStatus = n._macroStatus == s.default.Status.select_main ? s.default.Status.select_main : s.default.Status.use, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.dropHandCard = function (e, t) {
                    var n = this._player;
                    return n.changeCardStatus(n.getCardById(t[0]), s.default.CardStatus.hand, s.default.CardStatus.grave), n._stepStatus = s.default.Status.use, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.useSpell = function (e, t) {
                    var n = this._player, a = n.getCardById(t[0]);
                    return null == a && cc.log("error"), a._ids = t, n._actionCard = a, a.isMonster() ? n._spellType = i.Data.SkillMode.initiative : a._type == i.Data.CardType.magic && (39999 != a._infoId && (a._owner._totalCastedMagicCount = a._owner._totalCastedMagicCount + 1), n._spellType = i.Data.SkillMode.magic), n._stepStatus = s.default.Status.before_account_spell, n._isReviewing ? n.step() : n.sendEvent(s.default.Status.use_card, e, t)
                }, e.prototype.accountStatus = function () {
                    var e = this._player;
                    if (e._normalStatus != s.default.Status.account_status && (o.B._lastAccount = s.default.Status.account_status, e._normalStatus = s.default.Status.account_status, e._eventDone = !1), !e._eventDone) {
                        e._eventDone = !0;
                        var t = _.default.EventType.before_status_change;
                        if (null != t) for (var n = e.getEvents(t), a = 1; a <= n.length; a++) e.changeEvent(n[a - 1], t)
                    }
                    if (e._eventToChange.length > 0) return e._stepStatus = s.default.Status.before_account_event, this.step();
                    var r = e._actionCard;
                    if (r._type == i.Data.CardType.fortress && e.checkFinish()) return e._stepStatus = s.default.Status.before_account_finish, e.step();
                    switch (r._sourceStatus != s.default.CardStatus.board || r._destStatus != s.default.CardStatus.grave && r._destStatus != s.default.CardStatus.leave || r._statusVal == s.default.CardStatusVal.b2l_evolve || (r.getOriginOwner()._opponent.addDamageScore(r._hp), r.getOriginOwner()._opponent.addDestroyCardScore(r)), r._sourceStatus) {
                        case s.default.CardStatus.pile:
                            r._owner.removeCardFromPile(r);
                            break;
                        case s.default.CardStatus.hand:
                            r._owner.removeCardFromHand(r);
                            break;
                        case s.default.CardStatus.board:
                            r._owner.removeCardFromBoard(r);
                            break;
                        case s.default.CardStatus.grave:
                            r._owner.removeCardFromGrave(r);
                            break;
                        case s.default.CardStatus.leave:
                            r._owner.removeCardFromLeave(r);
                            break;
                        case s.default.CardStatus.energy:
                            r._owner.removeCardFromEnergy(r)
                    }
                    switch (r._destStatus) {
                        case s.default.CardStatus.pile:
                            r._owner.addCardToPile(r);
                            break;
                        case s.default.CardStatus.hand:
                            r._owner.addCardToHand(r);
                            break;
                        case s.default.CardStatus.board:
                            r._owner.addCardToBoard(r);
                            break;
                        case s.default.CardStatus.grave:
                            r._owner.addCardToGrave(r);
                            break;
                        case s.default.CardStatus.leave:
                            r._owner.addCardToLeave(r);
                            break;
                        case s.default.CardStatus.energy:
                            r._owner.addCardToEnergy(r)
                    }
                    return e._stepStatus = s.default.Status.after_account_status, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.account_status)
                }, e.prototype.accountReorder = function () {
                    var e = this._player;
                    return e.battleLog(""), e.battleLog("[BATTLE] <REORDER>"), e._normalStatus = s.default.Status.account_reorder, e.doReorderBoard(), e._opponent.doReorderBoard(), e._stepStatus = s.default.Status.after_account_reorder, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.account_reorder)
                }, e.prototype.doReorderBoard = function () {
                    var e = this._player, t = e.getBattleCards("B");
                    e._boardCards = {};
                    for (var n = 1; n <= t.length; n++) {
                        var a = t[n - 1];
                        a._pos = n, e._boardCards[n] = a
                    }
                }, e.prototype.accountPosChange = function () {
                    var e = this._player;
                    e.battleLog(""), e.battleLog("[BATTLE] <ACCOUNT POS CHANGE>"), e._normalStatus = s.default.Status.account_pos_change;
                    for (var t = e._cardPosToChange[0]._card._owner, n = e._cardPosToChange[0]._type, a = [], r = 1; r <= e._cardPosToChange.length; r++) {
                        var _ = e._cardPosToChange[r - 1]._card;
                        o.B.isAlive(_) && a.push(_)
                    }
                    if (n == s.default.CardPosChange.random) for (r = 1; r <= a.length - 1; r++) {
                        var c = e.getRandomIntInRange(r + 1, a.length), l = a[r - 1], d = a[c - 1];
                        if (null != d) {
                            var p = l._pos, u = d._pos;
                            l._pos = u, d._pos = p, t._boardCards[p] = d, t._boardCards[u] = l, a[r - 1] = d, a[c - 1] = l
                        }
                    } else if (n == s.default.CardPosChange.swap) {
                        var g = a[0], h = a[1], f = g._pos, m = g._owner, y = h ? h._owner : null, T = a[1] ? h._pos : 1;
                        null != g && null != h ? (m != y && (m.removeCardToOppo(g), y.removeCardToOppo(h)), m._boardCards[f] = h, y._boardCards[T] = g, g._pos = T, h._pos = f) : null == g || 1 == g._pos || o.B.isAlive(m._boardCards[T]) || (m._boardCards[f] = null, m._boardCards[T] = g, g._pos = T)
                    } else if (n == s.default.CardPosChange.x21) {
                        var S = a[0];
                        null != a && (S._owner._boardCards[1] = S, S._owner._boardCards[S._pos] = null, S._pos = 1)
                    } else if (n == s.default.CardPosChange.loop) {
                        var C = {};
                        for (r = 0; r < a.length; r++) {
                            C[(S = a[r])._pos] = !0, t._boardCards[S._pos] = null
                        }
                        for (r = 0; r < a.length; r++) {
                            for (c = (S = a[r])._pos + 1; ;) if (c > i.Data.MAX_CARD_COUNT_ON_BOARD) c = 1; else {
                                if (C[c]) break;
                                c += 1
                            }
                            S._pos = c, t._boardCards[c] = S
                        }
                    } else if (n == s.default.CardPosChange.shiftleft) for (r = 0; r < a.length; r++) {
                        S = a[r];
                        t._boardCards[S._pos] = null, S._pos = S._pos - 1, t._boardCards[S._pos] = S
                    } else if (n == s.default.CardPosChange.shiftright) for (r = 0; r < a.length; r++) {
                        S = a[r];
                        t._boardCards[S._pos] = null, S._pos = S._pos + 1, t._boardCards[S._pos] = S
                    }
                    return e._stepStatus = s.default.Status.after_account_pos_change, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.account_pos_change)
                }, e.prototype.accountHalo = function () {
                    var e = this._player;
                    if (o.B._lastAccount == s.default.Status.account_halo) return e._stepStatus = s.default.Status.after_account_halo, e.step();
                    o.B._lastAccount = s.default.Status.account_halo;
                    for (var t = e._actionCard, n = o.B.mergeTable([e.getBattleCards("B"), e._opponent.getBattleCards("B"), [e._fortress, e._opponent._fortress]]), a = 1; a <= n.length; a++) {
                        for (var r = n[a - 1], _ = 1; null != r._underSkills[_];) r._underSkills[_]._mode == i.Data.SkillMode.halo ? (r._underSkills.splice(_ - 1, 1), t._needAccount = !0) : _ += 1;
                        if (null != r._positiveSkills) for (var c = 1; c <= s.default.PositiveType.count; c++) for (var l = 1; null != r._positiveSkills[c][l];) r._positiveSkills[c][l]._mode == i.Data.SkillMode.halo ? t._needAccount = !0 : l += 1;
                        if (null != r._negativeSkills) for (var d = 1; d <= s.default.NegativeType.count; d++) for (l = 1; null != r._negativeSkills[d][l];) r._negativeSkills[d][l]._mode == i.Data.SkillMode.halo ? t._needAccount = !0 : l += 1
                    }
                    var p = [];
                    for (a = 1; a <= n.length; a++) {
                        var u = (r = n[a - 1]).getSkillsByMode(i.Data.SkillMode.halo);
                        u.length > 0 && (r._accountHaloSkills = u, r._accountHaloIndex = 1, p.push(r))
                    }
                    for (var g = 0, h = 255; ;) {
                        for (a = 1; a <= p.length; a++) for (r = p[a]; r._accountHaloIndex <= r._accountHaloSkills.length;) {
                            var f = r._accountHaloSkills[r._accountHaloIndex];
                            if (g < f._priority) {
                                f._priority < h && (h = f._priority);
                                break
                            }
                            f._priority == g && r._owner.castSkill(r, f, i.Data.SkillMode.halo), r._accountHaloIndex = r._accountHaloIndex + 1
                        }
                        if (255 == h) break;
                        g = h, h = 255
                    }
                    return t._needAccount && e.account(), e._stepStatus = s.default.Status.after_account_halo, t._needAccount && !e._isReviewing ? e.sendEvent(s.default.Status.account_halo) : e.step()
                }, e.prototype.spelling = function () {
                    var e = this._player, t = e._actionCard;
                    e.resetActionCard(), e.resetAccount(), e._spellCountIndex = e._spellCountIndex + 1;
                    var n = t.getSkillByMode(e._spellType, e._spellIndex);
                    (null == n || e._spellCountIndex >= n._count) && (e._spellIndex = e._spellIndex + 1, e._spellCountIndex = 0, n = t.getSkillByMode(e._spellType, e._spellIndex));
                    var a = !0;
                    return null == n && (a = !1), a && t.isMonster() && (e._spellType == i.Data.SkillMode.bcs2gl || (e._spellType, i.Data.SkillMode.bcs2_), e._spellType == i.Data.SkillMode.bcs2gl || e._spellType == i.Data.SkillMode.bcs2_ || e._spellType == i.Data.SkillMode.sacrifice || e._spellType == i.Data.SkillMode.round_begin || e._spellType == i.Data.SkillMode.oppo_round_begin || e._spellType == i.Data.SkillMode.round_end || e._spellType == i.Data.SkillMode.oppo_round_end || e._spellType == i.Data.SkillMode.h2g_by_self || e._spellType == i.Data.SkillMode.h2g_by_oppo || e._spellType == i.Data.SkillMode.p2g_by_self || e._spellType == i.Data.SkillMode.p2g_by_oppo || o.B.isAlive(t) || (a = !1)), a ? (t._owner.castSkill(t, n, e._spellType), t._needAccount ? (t._spellingSkill = n, e._stepStatus = 1 == i.Data._skillInfo[n._id]._isIgnoreDefend ? s.default.Status.account_spell : s.default.Status.under_spell, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.spelling)) : (e._stepStatus = s.default.Status.end_spell, this.step())) : (e._stepStatus = s.default.Status.after_account_spell, this.step())
                }, e.prototype.underSpell = function () {
                    var e = this._player, t = e._actionCard;
                    e.resetAccount();
                    for (var n = e.getUnderSkillCards(t._id, t._spellingSkill._id), a = 1; a <= n.length; a++) {
                        var r = n[a - 1];
                        if (o.B.isAlive(r) && r.isMonster()) for (var _ = 1; ;) {
                            if (null == (u = r.getSkillByMode(i.Data.SkillMode.under_spell, _))) break;
                            r._owner.castSkill(r, u, i.Data.SkillMode.under_spell), _ += 1
                        }
                    }
                    var c = Math.floor(t._spellingSkill._id / i.Data.INFO_ID_GROUP_SIZE),
                        l = e.getHasUnderTypeCastedModeCards(c, t._spellingSkill), d = l._cards, p = l._underCastedModes;
                    for (a = 1; a <= d.length; a++) {
                        if ((r = d[a - 1]).isMonster() && r._status == s.default.CardStatus.board && o.B.isAlive(r)) {
                            for (_ = 1; ;) {
                                for (var u = null, g = null, h = 1; h <= p.length && (g = p[h - 1], null == (u = r.getSkillByMode(g, _))); h++) ;
                                if (null == u) break;
                                r._owner.castSkill(r, u, g), _ += 1
                            }
                            for (_ = 1; ;) {
                                if (null == (u = r.getSkillByMode(i.Data.SkillMode.under_spell, _))) break;
                                r._owner.castSkill(r, u, i.Data.SkillMode.under_spell), _ += 1
                            }
                        }
                    }
                    return t._needAccount ? (e._stepStatus = s.default.Status.under_defend_spell, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.under_spell)) : (e._stepStatus = s.default.Status.under_spell_damage, e.step())
                }, e.prototype.underDefendSpell = function () {
                    var e = this._player, t = e._actionCard;
                    this.resetAccount();
                    for (var n = 1; ;) {
                        var a = t.getSkillByMode(i.Data.SkillMode.under_defend_spell, n);
                        if (null == a) break;
                        t._owner.castSkill(t, a, i.Data.SkillMode.under_defend_spell), n += 1
                    }
                    return e._stepStatus = s.default.Status.under_spell_damage, t._needAccount && !e._isReviewing ? e.sendEvent(s.default.Status.under_spell) : e.step()
                }, e.prototype.underSpellDamage = function () {
                    var e = this._player, t = e._actionCard;
                    this.resetAccount();
                    for (var n = e.getUnderSkillCards(t._id, t._spellingSkill._id), a = 1; a <= n.length; a++) {
                        var r = n[a - 1];
                        if (o.B.isAlive(r) && r.isMonster()) for (var _ = 1; ;) {
                            if (null == (l = r.getSkillByMode(i.Data.SkillMode.under_spell_damage, _))) break;
                            r._owner.castSkill(r, l, i.Data.SkillMode.under_spell_damage), _ += 1
                        }
                    }
                    for (var c = 1; ;) {
                        var l;
                        if (null == (l = t.getSkillByMode(i.Data.SkillMode.spell_damage, c))) break;
                        t._owner.castSkill(t, l, i.Data.SkillMode.spell_damage), c += 1
                    }
                    return t._needAccount ? (e._stepStatus = s.default.Status.under_counter_spell, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.under_spell_damage)) : (e._stepStatus = s.default.Status.account_spell, this.step())
                }, e.prototype.underCounterSpell = function () {
                    var e = this._player, t = e._actionCard;
                    e.resetAccount();
                    for (var n = 1; ;) {
                        var a = t.getSkillByMode(i.Data.SkillMode.under_counter_spell, n);
                        if (null == a) break;
                        t._owner.castSkill(t, a, i.Data.SkillMode.under_counter_spell), n += 1
                    }
                    return e._stepStatus = s.default.Status.account_spell, t._needAccount && !e._isReviewing ? e.sendEvent(s.default.Status.under_counter_spell) : e.step()
                }, e.prototype.accountSpell = function () {
                    var e = this._player;
                    return e._normalStatus == s.default.Status.account_spell || (o.B._lastAccount = s.default.Status.account_spell, e._normalStatus = s.default.Status.account_spell, e.resetAccount(), e.account(), e.removeDeadCards(), e._isReviewing) ? e._cardStatusToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_status, e.step()) : e._cardPosToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_pos_change, e.step()) : (e._stepStatus = s.default.Status.after_spell, e._normalStatus = s.default.Status.default, e.step()) : e.sendEvent(s.default.Status.account_spell)
                }, e.prototype.afterSpell = function () {
                    var e = this._player;
                    if (e._normalStatus != s.default.Status.after_spell && (e._normalStatus = s.default.Status.after_spell, e._afterSpellIndex = 0), e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                    var t = e._actionCard;
                    e.resetAccount(), e._afterSpellIndex = e._afterSpellIndex + 1;
                    var n = t.getSkillByMode(i.Data.SkillMode.after_spell, e._afterSpellIndex);
                    return o.B.isAlive(t) && null != n ? (t._owner.castSkill(t, n, i.Data.SkillMode.after_spell), t._needAccount && (e.account(), e.removeDeadCards()), e._stepStatus = s.default.Status.after_spell, t._needAccount && !e._isReviewing ? e.sendEvent(s.default.Status.after_spell) : this.step()) : (e._stepStatus = s.default.Status.end_spell, e._normalStatus = s.default.Status.default, e.step())
                }, e.prototype.endSpell = function () {
                    var e = this._player;
                    return e._normalStatus == s.default.Status.end_spell || (e._normalStatus = s.default.Status.end_spell, e._isReviewing) ? (e._cardStatusToChange.length > 0 ? e._stepStatus = s.default.Status.before_account_status : e._stepStatus = s.default.Status.spelling, e.step()) : e.sendEvent(s.default.Status.end_spell)
                }, e.prototype.endAttack = function (e, t) {
                    void 0 === e && (e = null), void 0 === t && (t = null);
                    var n = this._player;
                    return n._stepStatus = s.default.Status.attack_end, n.step()
                }, e.prototype.accountEvent = function () {
                    var e = this._player;
                    if (e._normalStatus != s.default.Status.account_event && (e.battleLog(""), e._normalStatus = s.default.Status.account_event, e._eventIndex = 1, e._effectIndex = 0, !e._isReviewing)) return e.sendEvent(s.default.Status.account_event);
                    if (e._cardStatusToChange.length > 0) return e._stepStatus = s.default.Status.before_account_status, e.step();
                    var t = e._actionEvent, n = e.getActionEffect(t, e._eventIndex), a = n.shift(), i = n.shift();
                    if (null != a) {
                        if (0 == e._effectIndex) return e._effectIndex = e._effectIndex + 1, e._stepStatus = s.default.Status.account_event, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.account_event);
                        if (1 == e._effectIndex) return e._effectIndex = e._effectIndex + 1, this.resetAccount(), t._owner._battleEvent.castEffect(a, i, t), e._actionCard._needAccount && e.account(), e._stepStatus = s.default.Status.account_event, e._isReviewing ? e.step() : e.sendEvent(s.default.Status.account_event);
                        if (2 == e._effectIndex) return e._effectIndex = 0, e._eventIndex = e._eventIndex + 1, e._stepStatus = s.default.Status.account_event, this.step()
                    }
                    return e._stepStatus = s.default.Status.after_account_event, e.step()
                }, e.prototype.accountFinish = function () {
                    var e = this._player;
                    if (e._normalStatus != s.default.Status.account_finish) {
                        if (e._normalStatus = s.default.Status.account_finish, this.getIsAllCardsDied()) for (var t = _.default.EventType.all_cards_died, n = e.getEvents(t), a = 1; a <= n.length; a++) e.changeEvent(n[a - 1], t);
                        if (e._opponent.getIsAllCardsDied()) for (t = _.default.EventType.all_cards_died, n = e._opponent.getEvents(t), a = 1; a <= n.length; a++) e.changeEvent(n[a - 1], t)
                    }
                    return e._eventToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_event, e.step()) : (e._stepStatus = s.default.Status.after_account_finish, e.step())
                }, e.prototype.accountTrap = function () {
                    var e = this._player;
                    e._normalStatus != s.default.Status.account_trap && (e._normalStatus = s.default.Status.account_trap);
                    for (var t = o.B.mergeTable([e.getBattleCards("C"), e._opponent.getBattleCards("C")]), n = 1; n <= t.length; n++) {
                        var a = t[n - 1];
                        if (a._owner.canTriggerTrapWhenStatusChange(a, e._actionCard)) {
                            a._trapTarget = e._actionCard, e.changeCardStatus(a, a._status, s.default.CardStatus.show);
                            break
                        }
                    }
                    return e._cardStatusToChange.length > 0 ? (e._stepStatus = s.default.Status.before_account_status, e.step()) : (e._stepStatus = s.default.Status.after_account_trap, e.step())
                }, e.prototype.saveStatus = function () {
                    var e = this._player;
                    e._saved = {_saved: e._saved};
                    var t = e._saved;
                    t._normalStatus = e._normalStatus, t._spellType = e._spellType, t._eventType = e._eventType, t._cardStatusToChange = e._cardStatusToChange, t._eventToChange = e._eventToChange, t._reorderDone = e._reorderDone, t._eventDone = e._eventDone, t._costSpellDone = e._costSpellDone, t._spellDone = e._spellDone, t._haloDone = e._haloDone, t._trapDone = e._trapDone, t._actionStep = e._actionStep, t._spellIndex = e._spellIndex, t._spellCountIndex = e._spellCountIndex, t._attackIndex = e._attackIndex, t._afterSpellIndex = e._afterSpellIndex, t._afterAttackIndex = e._afterAttackIndex, t._actionStatus = {}, null != e._actionCard && (t._actionCard = e._actionCard, t._actionStatus._needAccount = e._actionCard._needAccount, t._actionStatus._spellingSkill = e._actionCard._spellingSkill), null != e._actionEvent && (t._actionEvent = e._actionEvent, t._actionStatus._eventIndex = e._eventIndex, t._actionStatus._effectIndex = e._effectIndex), e._cardStatusToChange = [], e._eventToChange = []
                }, e.prototype.loadStatus = function () {
                    var e = this._player, t = e._saved;
                    switch (e._saved = t._saved, e._normalStatus = t._normalStatus, e._spellType = t._spellType, e._eventType = t._eventType, e._cardStatusToChange = t._cardStatusToChange, e._eventToChange = t._eventToChange, e._reorderDone = t._reorderDone, e._eventDone = t._eventDone, e._costSpellDone = t._costSpellDone, e._spellDone = t._spellDone, e._haloDone = t._haloDone, e._trapDone = t._trapDone, e._actionStep = t._actionStep, e._spellIndex = t._spellIndex, e._spellCountIndex = t._spellCountIndex, e._attackIndex = t._attackIndex, e._afterSpellIndex = t._afterSpellIndex, e._afterAttackIndex = t._afterAttackIndex, null != t._actionCard && (e._actionCard = t._actionCard, e._actionCard._needAccount = t._actionStatus._needAccount, e._actionCard._spellingSkill = t._actionStatus._spellingSkill), null != t._actionEvent && (e._actionEvent = t._actionEvent, e._eventIndex = t._actionStatus._eventIndex, e._effectIndex = t._actionStatus._effectIndex), e._normalStatus) {
                        case s.default.Status.after_account_status:
                            return e._stepStatus = s.default.Status.after_account_status, e.step();
                        case s.default.Status.account_status:
                            return e._stepStatus = s.default.Status.account_status, e.step();
                        case s.default.Status.after_account_reorder:
                            return e._stepStatus = s.default.Status.after_account_reorder, this.step();
                        case s.default.Status.after_account_pos_change:
                            return e._stepStatus = s.default.Status.after_account_pos_change, e.step();
                        case s.default.Status.account_spell:
                            return e._stepStatus = s.default.Status.account_spell, e.step();
                        case s.default.Status.after_spell:
                            return e._stepStatus = s.default.Status.after_spell, this.step();
                        case s.default.Status.end_spell:
                            return e._stepStatus = s.default.Status.end_spell, e.step();
                        case s.default.Status.account_event:
                            return e._stepStatus = s.default.Status.account_event, e.step();
                        case s.default.Status.account_finish:
                            return e._stepStatus = s.default.Status.account_finish, e.step();
                        case s.default.Status.account_trap:
                            return e._stepStatus = s.default.Status.account_trap, e.step();
                        case s.default.Status.try_use_card:
                            return e._stepStatus = s.default.Status.try_use_card, e.step();
                        case s.default.Status.do_use_card:
                            return e._stepStatus = s.default.Status.do_use_card, e.step()
                    }
                    switch (e._macroStatus) {
                        case s.default.Status.battle_start:
                            return e._stepStatus = s.default.Status.battle_start, e.step();
                        case s.default.Status.battle_end:
                            return e._stepStatus = s.default.Status.battle_end, e.step();
                        case s.default.Status.round_begin:
                            return e._stepStatus = s.default.Status.round_begin, e.step();
                        case s.default.Status.deal:
                            return e._stepStatus = s.default.Status.deal, e.step();
                        case s.default.Status.use:
                            return e._stepStatus = s.default.Status.use, e.step();
                        case s.default.Status.action:
                            return e._stepStatus = s.default.Status.action, e.step();
                        case s.default.Status.round_end:
                            return e._stepStatus = s.default.Status.round_end, e.step();
                        case s.default.Status.initial_deal:
                            return e._stepStatus = s.default.Status.initial_deal, e.step();
                        case s.default.Status.select_main:
                            return e._stepStatus = s.default.Status.select_main, e.step();
                        case s.default.Status.attack_end:
                            return e._stepStatus = s.default.Status.attack_end, e.step()
                    }
                }, e.prototype.removeDeadCards = function () {
                    for (var e = this._player, t = [], n = e._saved; null != n && Object.keys(n).length > 0;) {
                        for (var a = 1; a <= n._cardStatusToChange.length; a++) {
                            var r = n._cardStatusToChange[a - 1], _ = r._card;
                            r._sourceStatus == s.default.CardStatus.board && r._destStatus == s.default.CardStatus.grave && t.push(_)
                        }
                        n = n._saved
                    }
                    var c = [];
                    for (a = 1; a <= 2 * i.Data.MAX_CARD_COUNT_ON_BOARD; a++) {
                        (_ = a <= i.Data.MAX_CARD_COUNT_ON_BOARD ? e._opponent._boardCards[a] : e._boardCards[a - i.Data.MAX_CARD_COUNT_ON_BOARD]) && !o.B.isAlive(_) && c.push(_)
                    }
                    for (a = 0; a < c.length; a++) {
                        for (var l = c[a], d = !1, p = 0; p < t.length; p++) if (t[p]._id == l._id) {
                            d = !0;
                            break
                        }
                        !d && l && (null != l._binds[0] && l._binds[0].hasSkills([6038]) && null == l._binds[0]._usedOnce ? (l._binds[0]._usedOnce = !0, l._hp = i.Data._skillInfo[6038]._val[0], l._hpInc = -(l._maxHp - l._hp)) : null != l._owner._disableDeadRound[l._owner._round] ? (l._hp = l._owner._disableDeadRound[l._owner._round], l._hpInc = -(l._maxHp - l._hp)) : e.changeCardStatus(l, s.default.CardStatus.board, s.default.CardStatus.grave))
                    }
                }, e
            }();
        n.default = c, cc._RF.pop()
    }, {
        "../../data/data": "data",
        "./BattleCard": "BattleCard",
        "./BattleData": "BattleData",
        "./BattleEvent": "BattleEvent",
        "./BattlleCardStatus": "BattlleCardStatus",
        "./PlayerBattle": "PlayerBattle"
    }],
    BattleTaskDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "937cbZxpnJP2q4Orx3AxoqX", "BattleTaskDialog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../ui/widget/MaskLayer"), i = e("../../utils/SpriteUtil"), o = e("../../../leocool/lc"),
            r = e("../../utils/UIUtil"), _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"),
            c = e("../../config/UICfg"), l = e("../../utils/TimeUtil"), d = e("../../utils/SpineUtil"),
            p = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._bg = null, t
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._battleUi = e;
                    for (var t = 501, n = string.split(_.lcStr(s.STR.NOVICE_TEACH_TIP_02), "|"), a = "", p = 0; p < n.length; p++) a += n[p];
                    P.isNoviceTeachPassed(1) && (t = null, a = null);
                    var u = null == t ? "animation2" : "animation4",
                        g = d.SpineUtil.createSpineAnim("guoguantiaojian", "default", u, !1);
                    o.lc.addChildToPosLB(this.node, g, cc.v2(c.UICfg.SCR_CW + 20, c.UICfg.SCR_CH + 40));
                    var h = null == t && this._battleUi._player._battleCondition.getConditionDesc() || string.split(a, "|"),
                        f = cc.v2(cc.v2(g.getContentSize().width / 2, g.getContentSize().height / 2).x - 170, cc.v2(g.getContentSize().width / 2, g.getContentSize().height / 2).y + 50);
                    for (p = 0; p < h.length; p++) {
                        var m = cc.v2(f.x, f.y - 55 * p),
                            y = r.UIUtil.createWithTTF(h[p], c.UICfg.TTF_FONT, c.UICfg.FontSize.S2);
                        y.color = o.lc.Color3B.black, y.setAnchorPoint(cc.v2(0, .5)), y.setPosition(m), g.addChild(y);
                        var T = i.SpriteUtil.createSprite("battle_task_star");
                        T.node.scale = .8, o.lc.addChildToPosAR(g, T.node, cc.p(o.lc.left(y) - 30, m.y))
                    }
                    this._bg = g, g.setScale(0), g.runAction(o.lc.scaleTo(.3 * cc.director.getScheduler().getTimeScale(), 1).easing(cc.easeBackOut()));
                    var S = r.UIUtil.createTTF(_.lcStr(s.STR.CONTINUE), c.UICfg.FontSize.S1);
                    S.runAction(o.lc.sequence(o.lc.fadeIn(.5), o.lc.delay(.5), o.lc.fadeOut(.5)).repeatForever()), o.lc.addChildToPosLB(this.node, S, cc.v2(c.UICfg.SCR_CW, 40)), this._initTime = l.TimeUtil.getCurrentTime()
                }, t.prototype.hide = function () {
                    this.node.removeFromParent(), this._battleUi._testMaskLayer = null
                }, t.prototype.touchEvent = function () {
                    return this.hide(), !0
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.MaskLayer);
        n.BattleTaskDialog = p, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../ui/widget/MaskLayer": "MaskLayer",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil"
    }],
    BattleUi: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "eaf8dMEn+9Lb7TMtjBj2Ihp", "BattleUi"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../const/ViewConst"), i = e("../../../leocool/lc"), o = e("../scene/BattleScene"),
            r = e("./CardSprite"), _ = e("./PlayerUi"), s = e("../../utils/BattleInputUtil"),
            c = e("../data/PlayerBattle"), l = e("../../../noxcc"), d = e("../../data/data"),
            p = e("../../part/BattlePart"), u = e("../../ToastManager"), g = e("../../../leocool/lcStr"),
            h = e("../../StringEnums"), f = e("../data/BattleData"), m = e("../../GuideManager"),
            y = e("../../part/GuidePart"), T = e("../../../nox"), S = e("./BattleDialog"),
            C = e("./BattleResultDialog"), v = e("./BattleLine"), b = e("../../ui/common/ActiveIndicator"),
            E = e("./SelectTargetLayer"), I = e("./BattleEventDialog"), A = e("../../utils/SpriteUtil"),
            R = e("./BattleAtkDialog"), B = e("./BattleListDialog"), N = e("./DropLayer"),
            D = e("./BattleSettingDialog"), U = e("../../ui/common/Dialog"), M = e("../../ClientView"),
            k = e("../../utils/SpineUtil"), L = e("../../../leocool/lcAudio"), O = e("../../AudioEnums"),
            x = e("../../scene/SceneManager"), w = e("../../utils/CardUtil"), F = e("../../ui/panel/CardInfoPanel"),
            V = e("../data/BattlleCardStatus"), H = e("../../utils/MsgCenter"), G = e("../../utils/TimeUtil"),
            W = e("../../../leocool/lcAppCfg"), Y = e("../../utils/RichTextUtil"), K = e("../../config/UICfg"),
            z = e("../../const/SceneId"), j = e("../../scene/ResSwitchScene"), q = e("../../part/BonusPart"),
            X = e("./BattleChatDialog"), Z = e("./BattleTaskDialog"), J = e("../../ui/node/NodeWithShaderButton"),
            Q = e("../../part/WorldPart"), $ = e("../../ui/form/ShareForm"), ee = function () {
                function e() {
                    this._node = null, this._layer = null, this._isObserver = !1, this._isAttacker = !1, this._scene = null, this._isReverse = !1, this._playerUi = null, this._opponentUi = null, this._dropLayer = null, this._choiceMaskLayer = null, this._isOnlinePvp = !1, this._battleSpeed = null, this._spellSatus = null, this._btns = [], this._settigBtns = [], this._battleAtkDialog = null, this._battleListDialog = null, this._settingLayer = null, this._chatLayer = null, this._dialog = null, this._eventLayer = null, this._testMaskLayer = null, this._capturedMonster = null, this._tip = null, this._btnRoundEnd = null, this._btnChat = null, this._btnChatOpp = null, this._btnSet = null, this._btnEndRoundBg = null, this._btnRoundEndEnabled = !1, this._pRoundTitle = null, this._btnMusic = null, this._btnSndEffect = null, this._btnTask = null, this._btnRetreat = null, this._btnReturn = null, this._btnSpeed = null, this._btnAuto = null, this._roundLabel = null, this._roundLabelBg = null, this._defPileLabel = null, this._atkPileLabel = null, this._arrow = null, this._openVs = null, this._isIgnoreChat = !1, this._processBarYellow = null, this._processBarRed = null, this._showReds = null, this._coinArea = null, this._coinFIcon = null, this._coinZIcon = null, this._coinCntZ = null, this._coinCntF = null, this._input = null, this._nameTag = null, this._player = null, this._opponent = null, this._pvpPlayer = null, this._needEvents = !1, this._touchCard = null, this._pAttackingCard = null, this._cardUseTips = null, this._needSoftGuide = !1, this._resultDialog = null, this._selectTargetLayer = null, this._attacker_board_pos = [], this._attack_main_board_pos = null, this._defender_board_pos = [], this._defender_main_board_pos = null, this._settingLayerBtnPos = null, this._isObserve = !1, this._playVideo = !1, this._isAutoAuto = !1, this._autoConfig = !1, this._isAuto = !1, this._isPaused = !1, this._isOperating = !1, this._isAddingBoardCard = !1, this._isBattleFinished = !1, this._isWaitting = !1, this._isEndOperating = !1, this._isEnableDrap = !1, this._isEndAllOperation = !1, this._isTouching = !1, this._isPvpTimeout = !1, this._timeOutTimes = 0, this._isSpiteDelay = !1, this._needSendEvent = !1, this._needShowInning = !1, this._needTask = !1, this._needReturn = !1, this._isBattleEndSended = !1, this._recvMonsterExplored = !1, this._isRecvResult = !1, this._needRetreat = !1, this._showResult = {}, this._needForward = !1, this._forwardingEndCallback = null, this._isShowingKO = null, this._result = null, this._baseBattleType = null,this._replayBaseType = null,this._timestamp = null,this._guideNode = null,this._guideCard = null,this._freeTip = null,e.LayerInfo.Scale = 1 - .04 * (21 - e.LayerInfo.gridWidth),e.LayerInfo.OffsetY = 60 - 4 * (21 - e.LayerInfo.gridWidth),this._scale = e.LayerInfo.Scale,this._offsetY = e.LayerInfo.OffsetY
                }

                return e.prototype.init = function (e, t, n) {
                    var o = this;
                    this._scene = e, this._node = i.lc.createNode(), this._node.setContentSize(a.ViewConst.SCR_SIZE), this._node.setAnchorPoint(new cc.Vec2(0, 0));
                    a.ViewConst.SCR_EDGE;
                    var s = this._node.addComponent(cc.Widget);
                    return s.isAlignLeft = !0, s.isAlignRight = !0, s.isAlignTop = !0, s.isAlignBottom = !0, s.left = 0, s.right = 0, s.top = 0, s.bottom = 0, this._node.setPosition(new cc.Vec2(0, 0 - this._offsetY)), this._input = t, this._nameTag = n, this.initData(t), f.default.resetBattleUseCardList(), _.PlayerUi.Event.addListener(this, function (e) {
                        o.onPlayerUiEvent(e._sender, {_type: e._type, _ids: e._ids, _val: e._val})
                    }), r.CardSprite.EVENT.addListener(this, function (e) {
                        o.onCardSpriteEvent(e)
                    }), c.PlayerBattle.EVENT.addListener(this, function (e) {
                        o.onBattleEvent(e)
                    }), this._playerUi = new _.PlayerUi(this, this._player, t._sceneType, t._player._cardBackId), this._opponentUi = new _.PlayerUi(this, this._opponent, t._sceneType, t._opponent._cardBackId), this._playerUi._opponentUi = this._opponentUi, this._opponentUi._opponentUi = this._playerUi, this._playerUi.resetWhenBattleStart(), this._opponentUi.resetWhenBattleStart(), !0
                }, e.prototype.removeAllEvents = function () {
                    _.PlayerUi.Event.removeAllListeners(), r.CardSprite.EVENT.removeAllListeners(), c.PlayerBattle.EVENT.removeAllListeners()
                }, e.prototype.addChild = function (e, t, n) {
                    this._node.addChild(e, t, n)
                }, e.prototype.runAction = function (e) {
                    this._node.runAction(e)
                }, e.prototype.onEnter = function () {
                    var e = this;
                    this.setBattleSpeed(), H.MsgCenter.addMsgListener(e, function (t) {
                        return e.onMsg(t)
                    }, 0), this.runAction(i.lc.sequence(i.lc.delay(1), i.lc.callFunc(function () {
                        if (e._needForward) 11 == P._guideID ? this.forwardToRound(!1, 1) : 41 == P._guideID ? this.forwardToRound(!0, 3) : 51 == P._guideID ? this.forwardToRound(!0, 4) : e.forwardToCurRound(); else if (e._needTask) {
                            if (e._battleType == d.Data.BattleType.teach) {
                                var t = e._input._teachingId;
                                null != t && e.loadYgoContent(gAllTeachInfos["res/teach/" + t]), e.showTask()
                            }
                        } else e.startBattle();
                        W.lcAppCfg.isEnableBattleGuide() || m.GuideManager.releaseLayer(), e.openVS()
                    })))
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_USECARD) return this.oppoTryUseCard(), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_USECARD) return this.observeTryUseCard(), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_ONLINE) return this.setOppoOnline(!0), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_OFFLINE) return this.setOppoOnline(!0), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_CHAT) {
                        var n = e.getExtensions_Battle_pb_SglBattleMsg_battle_chat_resp();
                        return this.addChat(this._player, n), !0
                    }
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_CHAT) {
                        n = e.getExtensions_Battle_pb_SglBattleMsg_battle_chat_resp();
                        return this._isIgnoreChat || this.addChat(this._opponent, n), !0
                    }
                }, e.prototype.initData = function (e) {
                    this._timeOutTimes = 0, this._autoConfig = !1, this.setBattleSpeed();
                    var t = new s.BattlePlayerInfo, n = new s.BattlePlayerInfo;
                    t._isClient = !0, t._randomSeed = e._randomSeed, t._isAttacker = e._isAttacker, t._fortressHp = e._player._fortressHp, t._troopCards = e._player._troopCards, t._troopLevels = e._player._troopLevels, t._troopSkins = e._player._troopSkins, t._events = e._eventIds, t._conditions = {
                        _conditionIds: e._conditionIds || [],
                        _conditionValues: e._conditionValues || []
                    }, t._atkLevel = e._isAttacker ? e._player._level : e._opponent._level, t._fortressSkill = e._player._fortressSkill, t._battleType = e._battleType, t._isNpc = e._player._isNpc, t._idInRoom = e._player._idInRoom, t._usedCards = e._player._usedCards, n._isClient = !0, n._randomSeed = e._randomSeed, n._isAttacker = !e._isAttacker, n._fortressHp = e._opponent._fortressHp, n._troopCards = e._opponent._troopCards, n._troopLevels = e._opponent._troopLevels, n._troopSkins = e._opponent._troopSkins, n._events = e._eventIds, n._conditions = {
                        _conditionIds: e._conditionIds || [],
                        _conditionValues: e._conditionValues || []
                    }, n._atkLevel = e._isAttacker ? e._player._level : e._opponent._level, n._fortressSkill = e._opponent._fortressSkill, n._battleType = e._battleType, n._isNpc = e._opponent._isNpc, n._idInRoom = e._opponent._idInRoom, n._usedCards = e._opponent._usedCards, this._player = new c.PlayerBattle(t), this._opponent = new c.PlayerBattle(n), this.resetBattle(), this._player._opponent = this._opponent, this._opponent._opponent = this._player, i.lc.V(e._replayBattleType) && (this._player._replayType = e._replayBattleType, this._player._opponent._replayType = e._replayBattleType, this._replayBaseType = Math.floor(e._replayBattleType / d.Data.BattleType.base_type)), this._battleType = e._battleType, this._baseBattleType = Math.floor(e._battleType / d.Data.BattleType.base_type), this._needForward = e._needForward, this._isReverse ? this._isAttacker = !e._isAttacker : this._isAttacker = e._isAttacker, this._isBattleEndSended = !1, this._isOnlinePvp = this._battleType == d.Data.BattleType.PVP_clash || this._battleType == d.Data.BattleType.PVP_ladder || this._battleType == d.Data.BattleType.PVP_room || this._battleType == d.Data.BattleType.PVP_group || this._battleType == d.Data.BattleType.PVP_duel || this._battleType == d.Data.BattleType.PVP_Season || this._battleType == d.Data.BattleType.PVP_new_clash, this._isObserver = e._isWatcher, this._needSendEvent = this._baseBattleType == d.Data.BattleType.base_PVP || this._baseBattleType == d.Data.BattleType.base_PVE, this._needRetreat = (this._baseBattleType == d.Data.BattleType.base_PVP || this._baseBattleType == d.Data.BattleType.base_PVE || this._baseBattleType == d.Data.BattleType.base_test || this._battleType == d.Data.BattleType.unittest || this._battleType == d.Data.BattleType.teach) && !this._isObserver, this._needReturn = (this._baseBattleType == d.Data.BattleType.base_replay || this._battleType == d.Data.BattleType.recommend_train) && !this._isObserver, this._needTask = this._battleType == d.Data.BattleType.teach && !this._isObserver, this._needEvents = this._baseBattleType == d.Data.BattleType.base_PVP || this._replayBaseType == d.Data.BattleType.base_PVP || this._battleType == d.Data.BattleType.task || this._battleType == d.Data.BattleType.guidance || this._battleType == d.Data.BattleType.recommend_train || this._battleType == d.Data.BattleType.test || this._battleType == d.Data.BattleType.replay, this._needShowInning = this._battleType == d.Data.BattleType.PVP_dark, this._needSoftGuide = this._battleType != d.Data.BattleType.unittest && (this._battleType != d.Data.BattleType.teach || !P.isNoviceTeachPassed(1)) && P.getMaxCharacterLevel() <= 10 && P._guideID > 100, this._baseBattleType == d.Data.BattleType.base_replay ? (this._player._playerType = f.default.PlayerType.replay, this._opponent._playerType = f.default.PlayerType.replay) : this._baseBattleType == d.Data.BattleType.base_guidance ? (this._player._playerType = P._guideID < 21 ? f.default.PlayerType.replay : f.default.PlayerType.player, this._opponent._playerType = f.default.PlayerType.replay) : this._baseBattleType == d.Data.BattleType.base_PVP ? (this._battleType == d.Data.BattleType.PVP_room && this._isObserver ? this._player._playerType = f.default.PlayerType.observe : this._player._playerType = f.default.PlayerType.player, this._isOnlinePvp ? this._opponent._playerType = f.default.PlayerType.opponent : this._opponent._playerType = f.default.PlayerType.ai) : this._baseBattleType == d.Data.BattleType.base_PVE ? (this._player._playerType = f.default.PlayerType.player, this._opponent._playerType = f.default.PlayerType.ai) : this._battleType == d.Data.BattleType.test || (this._battleType == d.Data.BattleType.recommend_train ? (this._player._playerType = p.BattlePart._isAutoTesting ? f.default.PlayerType.ai : f.default.PlayerType.player, this._opponent._playerType = f.default.PlayerType.ai) : this._battleType == d.Data.BattleType.unittest ? (this._player._playerType = f.default.PlayerType.player, this._opponent._playerType = f.default.PlayerType.ai) : this._battleType == d.Data.BattleType.teach && (this._player._playerType = f.default.PlayerType.player, this._opponent._playerType = f.default.PlayerType.ai)), this._player._name = e._player._name, this._opponent._name = e._opponent._name, this._player._level = e._player._level, this._opponent._level = e._opponent._level, this._player._vip = e._player._vip, this._opponent._vip = e._opponent._vip, this._player._avatar = e._player._avatar, this._opponent._avatar = e._opponent._avatar, this._player._crown = e._player._crown, this._opponent._crown = e._opponent._crown, this._isOnlinePvp && this.stopPvpTiming(), this._timestamp = Math.floor(e._timestamp / 1e3);
                    var a = G.TimeUtil.getCurrentTime(), o = this._timestamp - a;
                    0 != o && cc.log("time delta is " + o)
                }, e.prototype.resetAction = function () {
                }, e.prototype.loadUiControl = function () {
                    this._scene;
                    this.initBg(), this.createPlayerInfoHeadArea(), this.initCoinArea(), this.initCardPosArea(), this.initPlayerUiData(), this.initBtns(), this.initOpenVs(), this.registTouchHandler()
                }, e.prototype.createPlayerInfoHeadArea = function () {
                    var e = this._scene, t = this._player, n = this._opponent, a = this._playerUi, i = this._opponentUi,
                        o = t._ball, r = n._ball, _ = l.noxcc.findLabel("num_jinglingqiu", e.getRootNode());
                    _.string = "x" + o, a._ballLabel = _, a._ballValue = o;
                    var s = l.noxcc.findLabel("num_jinglingqiu_opp", e.getRootNode());
                    s.string = "x" + r, i._ballLabel = s, i._ballValue = r;
                    var c = l.noxcc.findSkeleton("jinglingqiu", e.getRootNode()).node;
                    a._ballIcon = c;
                    var d = l.noxcc.findSkeleton("jinglingqiu_opp", e.getRootNode()).node;
                    i._ballIcon = d;
                    var p = l.noxcc.findSprite("avatar_icon", e.getRootNode()), u = string.format("avatar_%04d", t._avatar);
                    0 == t._avatar && (u = "avatar_5999"), A.SpriteUtil.setSprite(p, u);
                    var g = l.noxcc.findSprite("avatar_icon_opp", e.getRootNode());
                    u = 0 == n._avatar ? "avatar_5999" : string.format("avatar_%04d", n._avatar), A.SpriteUtil.setSprite(g, u), l.noxcc.findLabel("name_label", e.getRootNode()).string = this._player._name, l.noxcc.findLabel("opp_name_label", e.getRootNode()).string = this._opponent._name
                }, e.prototype.initPlayerUiData = function () {
                    var e = this._scene, t = this._playerUi, n = this._opponentUi;
                    t._isOnBottomHalf ? (n._pGraveLabel = l.noxcc.findLabel("def_grave_label", e.getRootNode()), t._pGraveLabel = l.noxcc.findLabel("atk_grave_label", e.getRootNode())) : (t._pGraveLabel = l.noxcc.findLabel("def_grave_label", e.getRootNode()), n._pGraveLabel = l.noxcc.findLabel("atk_grave_label", e.getRootNode()))
                }, e.prototype.initBg = function () {
                    var t = this._scene.getRootNode().getChildByName("bg"), n = "bat_scene_" + e.s_bgRand + "_bg";
                    A.SpriteUtil.setSprite(t, n)
                }, e.prototype.initCoinArea = function () {
                    var e = this._scene;
                    this._coinArea = l.noxcc.find("coinArea", e.getRootNode()), this._coinFIcon = l.noxcc.findSprite("coinArea/bat_coin_back", e.getRootNode()).node, this._coinZIcon = l.noxcc.findSprite("coinArea/bat_coin_face", e.getRootNode()).node, this._coinCntZ = l.noxcc.findLabel("coinArea/coinCntZ", e.getRootNode()), this._coinCntF = l.noxcc.findLabel("coinArea/coinCntF", e.getRootNode()), this._coinArea.setVisible(!1)
                }, e.prototype.setCoinArea = function () {
                    this._coinArea.setVisible(!0), this._coinArea.setPosition(93, 0)
                }, e.prototype.setOppCoinArea = function () {
                    this._coinArea.setVisible(!0), this._coinArea.setPosition(-20, 200)
                }, e.prototype.initCardPosArea = function () {
                    var t = this._scene;
                    _.PlayerUi.Pos.attacker_board_y = [], _.PlayerUi.Pos.defender_board_y = [], _.PlayerUi.Pos.attacker_board_x = [], _.PlayerUi.Pos.defender_board_x = [];
                    var n = t.getRootNode().getChildByName("bat_main_card_bg_img"),
                        a = t.getRootNode().getChildByName("bat_opp_main_card_bg_img");
                    this._attack_main_board_pos = n.parent.convertToWorldSpaceAR(n.position), this._defender_main_board_pos = a.parent.convertToWorldSpaceAR(a.position), _.PlayerUi.Pos.attacker_board_y.push(this._attack_main_board_pos.y), _.PlayerUi.Pos.defender_board_y.push(this._defender_main_board_pos.y), _.PlayerUi.Pos.attacker_board_x.push(this._attack_main_board_pos.x), _.PlayerUi.Pos.defender_board_x.push(this._defender_main_board_pos.x), _.PlayerUi.Pos.attacker_1v1 = this._attack_main_board_pos, _.PlayerUi.Pos.defender_1v1 = this._defender_main_board_pos;
                    for (var i = 0; i < 5; i++) {
                        var o = t.getRootNode().getChildByName(string.format("bat_card_%d_bg_img", i)),
                            r = t.getRootNode().getChildByName(string.format("bat_opp_card_%d_bg_img", i)),
                            s = o.parent.convertToWorldSpaceAR(o.position), c = r.parent.convertToWorldSpaceAR(r.position);
                        _.PlayerUi.Pos.attacker_board_x.push(s.x), _.PlayerUi.Pos.attacker_board_y.push(s.y), _.PlayerUi.Pos.defender_board_x.push(c.x), _.PlayerUi.Pos.defender_board_y.push(c.y)
                    }
                    var l = t.getRootNode().getChildByName("bat_pile_atk"),
                        d = t.getRootNode().getChildByName("bat_pile_def");
                    _.PlayerUi.Pos.attacker_pile = this._node.convertToWorldSpace(l.getPosition()), _.PlayerUi.Pos.defender_pile = this._node.convertToWorldSpace(d.getPosition());
                    var p = t.getRootNode().getChildByName("bat_grave_heap_0"),
                        u = t.getRootNode().getChildByName("opp_bat_grave_heap_0"),
                        g = this._node.convertToWorldSpace(p.getPosition());
                    _.PlayerUi.Pos.attacker_grave = new cc.Vec2(g.x, g.y + e.converPosDeletaY), g = this._node.convertToWorldSpace(u.getPosition()), _.PlayerUi.Pos.defender_grave = new cc.Vec2(g.x, g.y + e.converPosDeletaY)
                }, e.prototype.initBtns = function () {
                    var t = this._scene, n = l.noxcc.newNode("layer");
                    n.setContentSize(a.ViewConst.SCR_SIZE), n.setAnchorPoint(0, 0), i.lc.addChildToCenter(this._scene.getRootNode(), n, o.BattleScene.ZOrder.ui), this._layer = n, this._btnChat = l.noxcc.findButton("avatar_frame", t.getRootNode());
                    var r = this._btnChat.node.parent.convertToWorldSpaceAR(this._btnChat.node.position);
                    this._btnChat.node.removeFromParent(), this._node.addChild(this._btnChat.node), this._btnChat.node.setPosition(r), l.noxcc.addClick(this._btnChat, this, this.onButtonEvent), this._btnChatOpp = l.noxcc.findButton("avatar_frame_opp", t.getRootNode()), r = this._btnChatOpp.node.parent.convertToWorldSpaceAR(this._btnChatOpp.node.position), this._btnChatOpp.node.removeFromParent(), this._node.addChild(this._btnChatOpp.node), this._btnChatOpp.node.setPosition(r), l.noxcc.addClick(this._btnChatOpp, this, this.onButtonEvent), this._btnRoundEnd = l.noxcc.findButton("bat_btn_end", t.getRootNode()), r = this._btnRoundEnd.node.parent.convertToWorldSpaceAR(this._btnRoundEnd.node.position), this._btnRoundEnd.node.removeFromParent(), this._node.addChild(this._btnRoundEnd.node), this._btnRoundEnd.node.setPosition(r), l.noxcc.addClick(this._btnRoundEnd, this, this.onButtonEvent);
                    var s = l.noxcc.findButton("bat_scene_round_bottom", t.getRootNode());
                    r = s.node.parent.convertToWorldSpaceAR(s.node.position), s.node.removeFromParent(), this._node.addChild(s.node), s.node.setPosition(r), s.node.zIndex = e.ZOrder.cover_card_ui + 2, this._roundLabelBg = s.node, this._roundLabel = l.noxcc.findLabel("round_label", t.getRootNode()), r = this._roundLabel.node.parent.convertToWorldSpaceAR(this._roundLabel.node.position), this._roundLabel.node.removeFromParent(), this._node.addChild(this._roundLabel.node), this._roundLabel.node.setPosition(r), this._roundLabel.node.zIndex = e.ZOrder.cover_card_ui + 2, this._pRoundTitle = A.SpriteUtil.createSprite("bat_label_end2").node, this._btnRoundEnd.node.addChild(this._pRoundTitle), this._btnSet = l.noxcc.findButton("bat_btn_set2", t.getRootNode()), r = this._btnSet.node.parent.convertToWorldSpaceAR(this._btnSet.node.position), this._settingLayerBtnPos = r, this._btnSet.node.removeFromParent(), this._node.addChild(this._btnSet.node), this._btnSet.node.setPosition(this._settingLayerBtnPos), l.noxcc.addClick(this._btnSet, this, this.onButtonEvent), this._progressTimerBgBlue = k.SpineUtil.createSpineAnim("jieshulanse", "default", "animation", !0);
                    var c = l.noxcc.find("bat_btn_bg", t.getRootNode());
                    this._progressTimerBgBlue.setScale(.8, .8), this._progressTimerBgBlue.setPosition(-5, 5), this._btnEndRoundBg = c, c.addChild(this._progressTimerBgBlue), this._progressTimerBgRed = k.SpineUtil.createSpineAnim("jieshuhongse", "default", "animation", !0), this._progressTimerBgRed.setScale(.8, .8), this._progressTimerBgRed.setPosition(-5, 5), c.addChild(this._progressTimerBgRed), this._progressTimerBgRed.setVisible(!1), this._defPileLabel = l.noxcc.findLabel("defender_pile_label", t.getRootNode()), this._atkPileLabel = l.noxcc.findLabel("atk_pile_label", t.getRootNode()), this._processBarRed = l.noxcc.findProgressBar(" progress_bar_red", t.getRootNode()), this._processBarRed.node.active = !1, this._processBarRed.node.rotation = 90, this._processBarYellow = l.noxcc.findProgressBar(" progress_bar_yellow", t.getRootNode()), this._processBarYellow.node.active = !1, this._processBarYellow.node.rotation = 90, _.PlayerUi.Pos.round_btn_area = this._node.convertToWorldSpace(this._btnRoundEnd.node.getPosition()), this._btnRetreat = this.createBtn("img_btn_pop", "bat_btn_retreat", new cc.Size(73, 71)), this._btnMusic = this.createBtn("img_btn_pop", "bat_btn_music_on", new cc.Size(73, 71), "bat_btn_music_off"), this._btnSndEffect = this.createBtn("img_btn_pop", "bat_btn_snd_effect_on", new cc.Size(73, 71), "bat_btn_snd_effect_off"), this._btnSpeed = this.createBtn("img_btn_pop", "bat_speed_x1", new cc.Size(73, 71)), this._btnAuto = this.createBtn("img_btn_pop", "bat_btn_icon_manual", new cc.Size(73, 71), "bat_btn_icon_auto"), this._btnTask = this.createBtn("img_btn_pop", "bat_btn_task", new cc.Size(73, 71)), this._btnReturn = this.createBtn("img_btn_pop", "bat_btn_icon_back", new cc.Size(73, 71));
                    this.createBtn("img_btn_pop", "bat_btn_retreat", new cc.Size(73, 71));
                    this.addChild(this._btnRetreat, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnMusic, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnSndEffect, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnTask, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnSpeed, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnAuto, o.BattleScene.ZOrder.form + 1), this.addChild(this._btnReturn, o.BattleScene.ZOrder.form + 1), this._btnAuto.setPosition(new cc.Vec2(a.ViewConst.SCR_W - 36.5, 116)), this._btnSpeed.setPosition(new cc.Vec2(a.ViewConst.SCR_W - 36.5, 45.5)), this._btns.push(this._btnAuto), this._btns.push(this._btnSpeed), this._settigBtns.push(this._btnRetreat), this._settigBtns.push(this._btnMusic), this._settigBtns.push(this._btnSndEffect), this._settigBtns.push(this._btnTask), this._settigBtns.push(this._btnReturn), this._btnRetreat.setVisible(!1), this._btnMusic.setVisible(!1), this._btnSndEffect.setVisible(!1), this._btnReturn.setVisible(!1), this._btnTask.setVisible(!1), this.onSwitchEffectView(), this.onSwitchMusicView(), this.setBtnAuto(this._isAuto)
                }, e.prototype.addProcessBar = function (e) {
                    var t = this, n = e, a = !1, o = 10, r = T.nox.scheduleInterval(function (e) {
                        var _ = n / 60;
                        if (n > 10) t._processBarYellow.node.active = !0, t._processBarYellow.getComponent(cc.Sprite).fillRange = _; else if (n <= 10 && n > 0) {
                            if (a || (L.lcAudio.playAudio(O.AUDIO.E_COUNTDOWN), a = !0, t._processBarYellow.node.active = !1, t._processBarRed.node.active = !0, t._progressTimerBgBlue.setVisible(!1), t._progressTimerBgRed.setVisible(!0)), t._processBarRed.getComponent(cc.Sprite).fillRange = _, o > 0) {
                                var s = A.SpriteUtil.createSprite("bat_red_" + o).node;
                                i.lc.addChildToCenter(t._btnEndRoundBg, s), i.lc.offset(s, -170, 0), s.runAction(i.lc.spawn(i.lc.sequence(i.lc.fadeIn(.3), .3, i.lc.fadeOut(.3)), i.lc.sequence(i.lc.scaleBy(.9, 1.3), function () {
                                    s.removeFromParent()
                                })))
                            }
                            o--
                        } else t._progressTimerBgBlue.setVisible(!0), t._progressTimerBgRed.setVisible(!1), t._processBarYellow.node.active = !1, t._processBarYellow.getComponent(cc.Sprite).fillRange = 1, t._processBarRed.node.active = !1, t._processBarRed.getComponent(cc.Sprite).fillRange = 1, t.pvpTimeout(), T.nox.unschedule(r);
                        n -= 1
                    }, 1);
                    t._pvpTimingScheduler = r
                }, e.prototype.initOpenVs = function () {
                    var e = this;
                    this._scene;
                    if (P._guideID >= 21 && this._battleType != d.Data.BattleType.teach) {
                        this._openVs = k.SpineUtil.createSpineAnim("vs", "default", "animation", !1), i.lc.addChildToPosLB(this._node, this._openVs, cc.p(a.ViewConst.SCR_CW, a.ViewConst.SCR_CH), o.BattleScene.ZOrder.top), this.runAction(i.lc.sequence(1, function () {
                            k.SpineUtil.setSpineAnim(e._openVs, "vs", "default", "animation2", !0)
                        }));
                        var t = M.ClientView.getCharAnimName(Math.floor(this._player._avatar / 100));
                        null == t && (t = M.ClientView.getCharAnimName(this._player._avatar));
                        var n = k.SpineUtil.createSpineAnim(t, "default", "animation", !0);
                        i.lc.addChildToPosLB(this._openVs, n, cc.p(250 - a.ViewConst.SCR_CW, -a.ViewConst.SCR_CH)), i.lc.offset(n, -a.ViewConst.SCR_CW, 0), n.runAction(i.lc.ease(i.lc.moveTo(.5, cc.p(250 - a.ViewConst.SCR_CW, i.lc.y(n))), "BackO"));
                        var r = null, _ = null;
                        if ("vs_npc" == (r = this._input._levelId && 0 != this._input._levelId ? "vs_npc" : P._guideID < 100 ? "liliai" : this._battleType == d.Data.BattleType.teach ? "liliai" : M.ClientView.getCharAnimName(Math.floor(this._opponent._avatar / 100)))) {
                            var s = A.SpriteUtil.createSprite("vs_npc").node;
                            i.lc.addChildToPosLB(this._openVs, s, cc.p(a.ViewConst.SCR_CW - 200, 320 - a.ViewConst.SCR_CH)), _ = s
                        } else {
                            null == r && (r = M.ClientView.getCharAnimName(this._opponent._avatar)), null == r && (r = "vs_npc");
                            var c = k.SpineUtil.createSpineAnim(r, "default", "liliai" == r ? "animation2" : "animation", !0);
                            i.lc.addChildToPosLB(this._openVs, c, cc.p(a.ViewConst.SCR_CW - 250, -a.ViewConst.SCR_CH)), i.lc.offset(c, a.ViewConst.SCR_CW, 0), _ = c
                        }
                        _.runAction(i.lc.ease(i.lc.moveTo(.5, cc.p(a.ViewConst.SCR_CW - 250, i.lc.y(_))), "BackO"))
                    }
                }, e.prototype.createBtn = function (e, t, n, a) {
                    void 0 === a && (a = null);
                    var i = this, o = l.noxcc.newNode(t);
                    o.setContentSize(n);
                    var r = J.NodeWithShaderButton.createShaderButton(null, function () {
                        i.onButtonEvent(o)
                    });
                    o.addChild(r), r.setContentSize(new cc.Size(73, 71));
                    var _ = A.SpriteUtil.addSprite(l.noxcc.newNode(), e).node,
                        s = A.SpriteUtil.addSprite(l.noxcc.newNode(), e + "_gray").node,
                        c = A.SpriteUtil.addSprite(l.noxcc.newNode(), t).node;
                    if (a) {
                        var d = A.SpriteUtil.addSprite(l.noxcc.newNode(), a).node;
                        o.addChild(d, 2, "icon_gray"), d.active = !1
                    }
                    return s.active = !1, o.addChild(_, 0, "bg"), o.addChild(s, 1, "bg_gray"), o.addChild(c, 0, "icon"), o
                }, e.prototype.pushBtn = function (e) {
                    this._btns.push(e)
                }, e.prototype.removeBtn = function (e) {
                    for (var t = 0; t < this._btns.length; t++) {
                        this._btns[t] == e && this._btns.splice(t, 1)
                    }
                }, e.prototype.onButtonEvent = function (e) {
                    if (!M.ClientView.getActiveIndicator().isShow()) if (e == this._btnRoundEnd.node) {
                        if (!this._btnRoundEndEnabled) return;
                        this._battleAtkDialog ? this.onBtnEndRound() : null == this._playerUi._pBoardCards[1] || (this._player.canUseAnyMonsterSpell(this._playerUi._pBoardCards[1]._card) ? this.showCardAttack(this._playerUi._pBoardCards[1]) : this.onBtnEndRound())
                    } else if (e == this._btnSet.node) null == this._settingLayer ? this.showSetting() : this.hideSetting(); else if (e == this._btnChat.node) null == this._chatLayer ? this.showChat(!0) : this.hideChat(); else if (e == this._btnChatOpp.node) null == this._chatLayer ? this.showChat(!1) : this.hideChat(); else if (e == this._btnTask) null == this._testMaskLayer ? (this.showTask(), this.hideSetting()) : this.hideTask(); else if (e == this._btnRetreat) this.showRetreat(); else if (e == this._btnReturn) this.tryExitScene(); else if (e == this._btnMusic) L.lcAudio.toggleAudio(L.lcAudio.Behavior.music, !L.lcAudio._isMusicOn), this.onSwitchMusicView(); else if (e == this._btnSndEffect) L.lcAudio.toggleAudio(L.lcAudio.Behavior.effect, !L.lcAudio._isEffectOn), this.onSwitchEffectView(); else if (e == this._btnSpeed) {
                        var t = 0 != P._id && P.getMaxCharacterLevel() || this._player._level,
                            n = P._vip || this._player._vip, a = this._battleSpeed;
                        this._baseBattleType == d.Data.BattleType.base_replay ? (4 == (a += 1) && (a = 1), this.setBattleSpeed(a)) : 1 == a && t < d.Data._globalInfo._2xSpeedLevel && n < d.Data._globalInfo._2xSpeedVip ? u.ToastManager.push(string.format(g.lcStr(h.STR.LORD_UNLOCK_LEVEL), d.Data._globalInfo._2xSpeedLevel) + W.lcAppCfg.breakCharacter() + g.lcStr(h.STR.BATTLE_SPEED_2X)) : 2 == a && t < d.Data._globalInfo._3xSpeedLevel && n < d.Data._globalInfo._3xSpeedVip ? (u.ToastManager.push(string.format(g.lcStr(h.STR.LORD_UNLOCK_LEVEL), d.Data._globalInfo._3xSpeedLevel) + W.lcAppCfg.breakCharacter() + g.lcStr(h.STR.BATTLE_SPEED_3X)), a = 1, this.setBattleSpeed(a)) : (4 == (a += 1) && (a = 1), this.setBattleSpeed(a))
                    } else if (e == this._btnAuto) {
                        (t = 0 != P._id && P.getMaxCharacterLevel() || this._player._level) < 10 ? u.ToastManager.push(string.format(g.lcStr(h.STR.LORD_UNLOCK_LEVEL), 10) + g.lcStr(h.STR.BATTLE_AUTO)) : (this._autoConfig = !this._autoConfig, this.autoOperate(!this._isAuto))
                    }
                }, e.prototype.onSwitchMusicView = function () {
                    var e = this._btnMusic.getChildByName("bg_gray"), t = this._btnMusic.getChildByName("bg"),
                        n = this._btnMusic.getChildByName("icon_gray"), a = this._btnMusic.getChildByName("icon");
                    e.active = !L.lcAudio._isMusicOn, t.active = L.lcAudio._isMusicOn, n.active = !L.lcAudio._isMusicOn, a.active = L.lcAudio._isMusicOn
                }, e.prototype.onSwitchEffectView = function () {
                    var e = this._btnSndEffect.getChildByName("bg_gray"), t = this._btnSndEffect.getChildByName("bg"),
                        n = this._btnSndEffect.getChildByName("icon_gray"), a = this._btnSndEffect.getChildByName("icon");
                    e.active = !L.lcAudio._isEffectOn, t.active = L.lcAudio._isEffectOn, n.active = !L.lcAudio._isEffectOn, a.active = L.lcAudio._isEffectOn
                }, e.prototype.resetWhenBattleStart = function () {
                    this._isAutoAuto = !1, this._isAuto = this._autoConfig, this._isPaused = !1, this._isOperating = !1, this._isAddingBoardCard = !1, this._isBattleFinished = !1, this._isWaitting = !1, this._node.removeChildrenByTagID(e.Tag.remove_when_reset)
                }, e.prototype.resetWhenBattleEnd = function () {
                }, e.prototype.resetWhenRoundBegin = function () {
                    this._isOperating = !1, this._isEndOperating = !1, this._isAddingBoardCard = !1, this._isEnableDrap = !1, this.updateRoundButton(), this.updateRound()
                }, e.prototype.resetWhenInitialDeal = function () {
                    this._playerUi.resetWhenInitialDeal(), this._opponentUi.resetWhenInitialDeal()
                }, e.prototype.startBattle = function () {
                    return this._isAttacker ? this._player.start() : this._opponent.start()
                }, e.prototype.start = function (e) {
                    return this.updatePile(this._playerUi), this.updatePile(this._opponentUi), this.updateRound(), e + this.showStartCoin()
                }, e.prototype.finish = function () {
                    if (!this._isBattleFinished) {
                        this.resetWhenBattleEnd(), this._isBattleFinished = !0;
                        var e = .5;
                        return this._player.getResult() != d.Data.BattleResult.draw && (this._player._isRetreat || this._opponent._isRetreat ? (this.addChat(this._player._isRetreat && this._player || this._opponent, g.lcStr(h.STR.BATTLE_CHAT_RETREAT)), e = .5) : this._player.getIsRoundExceed() || this._opponent.getIsRoundExceed() ? (this.addChat(d.Data.BattleResult.draw < this._player.getResult() && this._opponent || this._player, g.lcStr(h.STR.BATTLE_CHAT_ROUND_EXCEED)), e = .5) : 0 == this._player._ball || 0 == this._opponent._ball ? (this.addChat(d.Data.BattleResult.draw < this._player.getResult() && this._opponent || this._player, g.lcStr(h.STR.BATTLE_CHAT_BALL_EMPTY)), e = .5) : 0 == this._player.getBattleCards("B").length || 0 == this._opponent.getBattleCards("B").length ? (this.addChat(d.Data.BattleResult.draw < this._player.getResult() && this._opponent || this._player, g.lcStr(h.STR.BATTLE_CHAT_MAIN_EMPTY)), e = .5) : this._player.getIsPileEmpty() || this._opponent.getIsPileEmpty() ? (this.addChat(d.Data.BattleResult.draw < this._player.getResult() && this._opponent || this._player, g.lcStr(h.STR.BATTLE_CHAT_PILE_EMPTY)), e = .5) : this._player._isRemainUnusable || this._opponent._isRemainUnusable ? (this.addChat(this._player._isRemainUnusable && this._player || this._opponent, g.lcStr(h.STR.BATTLE_CHAT_REMAIN_UNUSABLE)), e = .5) : this._player._specialFail || this._opponent._specialFail ? (this.addChat(this._player._specialFail && this._opponent || this._player, g.lcStr(h.STR.MIE_SHI_BAO_DAN)), e = .5) : this._baseBattleType == d.Data.BattleType.base_PVP && (this.addChat(d.Data.BattleResult.draw < this._player.getResult() && this._opponent || this._player, g.lcStr(h.STR.BATTLE_CHAT_LOSE)), e = .5)), this._playerUi.finish(e)
                    }
                }, e.prototype.sendBattleEnd = function () {
                    var e = this;
                    if (this._needSendEvent) {
                        if (this._isBattleEndSended) return;
                        if (this._isBattleEndSended = !0, this._player._resultType == d.Data.BattleResult.big_win ? (this._isShowingKO = !0, this._playerUi.showKO(function () {
                            (e._isShowingKO = null, e._recvMonsterExplored || e._isRecvResult || e.showWaiting(), e._recvMonsterExplored) && (o.BattleScene.currenton().onMonsterExplored(e._recvMonsterExplored), e._recvMonsterExplored = null);
                            e._isRecvResult && (e.showResult(), e._showResult._isRecvResult = null)
                        })) : e.showWaiting(), e.isGuideWorldBattle()) {
                            for (var t = P._guideID; "in battle" != d.Data._guideInfo[t]._stepName;) t += 1;
                            d.Data.BattleResult.draw < e._player.getResult() ? (P._guideID = t + 1, p.BattlePart.sendBattleEnd(), P._isGuideBattleLose = null) : (P._guideID = t - 6, p.BattlePart.sendBattleEnd(), P._isGuideBattleLose = !0)
                        } else p.BattlePart.sendBattleEnd()
                    } else e._isObserver || (e._player._resultType == d.Data.BattleResult.big_win ? e._playerUi.showKO(function () {
                        e.showResult()
                    }) : e.showResult())
                }, e.prototype.retry = function () {
                    var e = P._playerCard.getTroop(P._curTroopIndex);
                    null != e && 0 != e.length ? (b.ActiveIndicator.show(g.lcStr(h.STR.WAITING)), p.BattlePart.sendBattleAgain()) : u.ToastManager.push(g.lcStr(h.STR.EMPTY_IN_TROOP))
                }, e.prototype.showResult = function () {
                    cc.director.getScheduler().setTimeScale(1);
                    var e = this._result || {}, t = C.BattleResultDialog.Type.battle_result, n = this._baseBattleType,
                        a = C.BattleResultDialog.Type.battle_result;
                    if (n == d.Data.BattleType.PVP_room ? this._isObserver && (a = C.BattleResultDialog.Type.replay_result) : n == d.Data.BattleType.PVP_dark ? a = C.BattleResultDialog.Type.dark_result : n == d.Data.BattleType.base_guidance && (a = C.BattleResultDialog.Type.guide_result, e._resultType = d.Data.BattleResult.big_win, e._gold = 200), this._battleType == d.Data.BattleType.recommend_train) ; else if (this._battleType == d.Data.BattleType.PVP_dark) e = {
                        _resultType: d.Data.BattleType.PVP_dark,
                        _winScore: P._playerFindDark._winScore,
                        _loseScore: P._playerFindDark._loseScore,
                        _hideButton: t == C.BattleResultDialog.Type.replay_result
                    }; else if (this._battleType != d.Data.BattleType.base_PVP && this._battleType == d.Data.BattleType.base_PVE && e._resultType < d.Data.BattleResult.draw) null != e._trophy && e._trophy > 0 && (e._trophy = -e._trophy), this._needTask ? e = {
                        _isTask: !0,
                        _tasks: this._player._battleCondition.getConditionDesc(),
                        _taskResults: e._taskResult
                    } : e._curRank && 0 != e._curRank && (e = {
                        _isRank: !0,
                        _rank: (e._preRank || 0) - (e._curRank || 0),
                        _curRank: T.nox.D(e._curRank, 0)
                    }); else if (this._baseBattleType == d.Data.BattleType.base_replay) if (this._input._replayingLog) {
                        var i = this._input._replayingLog;
                        e = null != i._player ? {
                            _resultType: i._resultType,
                            _isAttacker: i._isAttack,
                            _city: i._city,
                            _trophy: i._trophy,
                            _gold: i._gold,
                            _log: i,
                            _player: i._player,
                            _opponent: i._opponent,
                            _battleType: 17 == i._battleType ? d.Data.BattleType.PVP_ladder : null
                        } : null != i._attacker ? {
                            _resultType: i._resultType,
                            _isAttacker: !0,
                            _log: i,
                            _player: i._attacker,
                            _opponent: i._defender
                        } : {}
                    } else e = {_resultType: d.Data.BattleResult.win}; else if (this._battleType == d.Data.BattleType.teach) {
                        (e = {
                            _ingot: 0,
                            _gold: 0,
                            _exp: 0,
                            _activePoint: 0,
                            _unionBattleTrophy: 0,
                            _darkTrophy: 0,
                            _loseSkinCrystal: 0,
                            _yubi: 0,
                            _flag: 0,
                            _propId: null,
                            _timestamp: null,
                            _trophy: null,
                            _preRank: null,
                            _curRank: null,
                            _ladderChest: null,
                            _cards: [],
                            _levelId: null,
                            _resultType: this._player.getResult(),
                            _BattleTypeFromServer: null,
                            _taskResult: null,
                            _score: this._player._damageScore[c.PlayerBattle.KEY_TOTAL],
                            _battleType: this._battleType,
                            _player: this._player,
                            _opponent: this._opponent
                        })._tasks = this._player._battleCondition.getConditionDesc(), e._taskResults = this._player._battleCondition.getTaskResult();
                        var r = this._input._teachingId, _ = d.Data._teachInfo[r],
                            s = P._playerBonus._bonusTeach[_._bonusId];
                        null != s && !s._isClaimed && e._resultType > d.Data.BattleResult.draw && 1 == e._taskResults[0] && (s._value = s._info._val, q.BonusPart.sendTeachingFinish(r))
                    }
                    var l = C.BattleResultDialog.create(this, a, e);
                    this.addChild(l.node, o.BattleScene.ZOrder.top), l.setPosition(0, 0), this._resultDialog = l
                }, e.prototype.nextLevel = function () {
                    var e = P._playerCard.getTroop(P._curTroopIndex);
                    null != e && 0 != e.length ? (b.ActiveIndicator.show(g.lcStr(h.STR.WAITING)), Q.WorldPart.sendWorldExplore(P._curTroopIndex, P._playerWorld.getNextLevelId(this._input._levelId))) : u.ToastManager.push(g.lcStr(h.STR.EMPTY_IN_TROOP))
                }, e.prototype.replay = function () {
                    return this.hideResult(), this._playerUi.efcFortressDieRemove(), this._opponentUi.efcFortressDieRemove(), this.resetBattle(), this._playerUi.resetWhenBattleStart(), this._opponentUi.resetWhenBattleStart(), this.resetWhenBattleStart(), this.setBattleSpeed(), f.default._battleUseCardList._useCardIdx = 1, this.startBattle()
                }, e.prototype.retreat = function (e) {
                    this._player._isFinished || this._opponent._isFinished || (e[0] == f.default.CardId.attacker_base && this._player._isAttacker || e[0] != f.default.CardId.attacker_base && !this._player._isAttacker ? this._player.retreat() : this._player._opponent.retreat())
                }, e.prototype.pause = function () {
                    this._isPaused = !0, m.GuideManager.pauseGuide(), this._player.pause(), this._opponent.pause()
                }, e.prototype.resume = function () {
                    this._isPaused = !1, m.GuideManager.resumeGuide(), this._player.resume(), this._opponent.resume()
                }, e.prototype.forwardToRound = function (e, t) {
                    var n = this;
                    this._player.beginForward(e ? null : t), this._opponent.beginForward(e ? null : t), this.startBattle(), this._forwardingEndCallback = function () {
                        n._player.endForward(), n._opponent.endForward(), n._battleType == d.Data.BattleType.teach && (n._player._maxBall = n._player._unitTestData.AttackerFields.HP, n._opponent._maxBall = n._player._unitTestData.DefenderFields.HP, n._player._ball = n._player._maxBall, n._opponent._ball = n._opponent._maxBall), n._playerUi.forward(), n._opponentUi.forward(), n.updateRound(), n._playerUi.updateBall(!0), n._opponentUi.updateBall(!0);
                        var e = n._player.getActionPlayer();
                        if (n._player._isFinished || n._opponent._isFinished) return n.finish(), n.sendBattleEnd();
                        n.runAction(i.lc.sequence(3 - t, function () {
                            n.openVS(), e.step()
                        }))
                    }
                }, e.prototype.forwardToCurRound = function () {
                    var e = this;
                    this._player.beginForward(), this._opponent.beginForward(), this.startBattle(), this._forwardingEndCallback = function () {
                        e._player.endForward(), e._opponent.endForward(), e._playerUi.forward(), e._opponentUi.forward(), e.updateRound();
                        var t = e._player.getActionPlayer();
                        if (e._player._isFinished || e._opponent._isFinished) return e.finish(), e.sendBattleEnd();
                        e.runAction(i.lc.sequence(.1, function () {
                            e.openVS(), t.step()
                        }))
                    }
                }, e.prototype.initialDeal = function () {
                    return this.resetWhenInitialDeal(), this.showDialog(S.BattleDialog.Type.initial_deal), .6
                }, e.prototype.initialDealChooseMain = function (e) {
                    if (this._playerUi._player == e) this._playerUi.showChoiceInitialMonstersMain(e.getBattleCardsByLevel("H", 0)); else if (e._playerType == f.default.PlayerType.opponent) this.waitOppoUseCard(); else {
                        var t = e._ai.aiChooseMainWhenInitialDeal();
                        this._opponentUi.sendEvent(_.PlayerUi.EventType.send_use_card, {_val: t._type, _ids: t._ids})
                    }
                }, e.prototype.initialDealChooseBackup = function (e) {
                    if (this._playerUi._player == e) this._playerUi.showChoiceInitialMonstersBackup(e.getBattleCardsByLevel("H", 0, d.Data.CARD_MAX_LEVEL, e._boardCards[1])); else if (e._playerType == f.default.PlayerType.opponent) this.waitOppoUseCard(); else {
                        var t = e._ai.aiChooseBackupWhenInitialDeal();
                        this._opponentUi.sendEvent(_.PlayerUi.EventType.send_use_card, {_val: t._type, _ids: t._ids})
                    }
                }, e.prototype.roundEndChooseMain = function (e) {
                    if (e._playerType != f.default.PlayerType.player || this._isAuto) if (e._playerType == f.default.PlayerType.opponent) this.waitOppoUseCard(); else if (e._playerType == f.default.PlayerType.observe) this.waitObserveUseCard(); else {
                        var t = e._ai.aiChooseMainWhenRoundEnd();
                        this._playerUi._player == e ? this._playerUi.sendEvent(_.PlayerUi.EventType.send_use_card, {
                            _val: t._type,
                            _ids: t._ids
                        }) : this._opponentUi.sendEvent(_.PlayerUi.EventType.send_use_card, {_val: t._type, _ids: t._ids})
                    } else this._playerUi.showChoiceSelectMain(e.getBattleCards("B"))
                }, e.prototype.toNextRound = function (e) {
                    this._playerUi._player == e ? this.playerUseCard(f.default.UseCardType.round, [e._round, f.default.UseRoundCardType.normal, f.default.UseRoundCardType.normal, 0, 0]) : e._playerType == f.default.PlayerType.opponent ? this.waitOppoUseCard() : this._opponentUi.sendEvent(_.PlayerUi.EventType.send_use_card, {
                        _val: f.default.UseCardType.round,
                        _ids: [e._round, f.default.UseRoundCardType.oppo_normal, f.default.UseRoundCardType.normal, 0, 0]
                    })
                }, e.prototype.roundBegin = function (e, t) {
                    var n = this;
                    this.resetWhenRoundBegin();
                    var a = e._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi;
                    if (a.roundBegin(), 0 == e._round) t = .2; else {
                        var o = 0;
                        this._playerUi.updateBoardCardsBuffIcons(), this._opponentUi.updateBoardCardsBuffIcons();
                        var _ = function (e) {
                            n.runAction(i.lc.sequence(cc.rotate3DTo(.2, 0, -90, 0), i.lc.hide())), n.runAction(i.lc.sequence(.2, cc.callFunc(function () {
                                e.initNormal(), e.initFight(), e._pCardAreaAll.setScale(w.CardUtil.getBoardCardScale(e))
                            }), i.lc.show(), cc.rotate3DTo(.2, 0, 0, 0)))
                        };
                        if (1 == e._round && e._isAttacker) {
                            o += .4;
                            var s = 1, c = function (e) {
                                var t = n._playerUi._pBoardCards[e];
                                t._status == r.CardSprite.Status.back && (t.runAction(i.lc.sequence(.2 * (s - 1), function () {
                                    _(t)
                                })), s += 1)
                            };
                            for (var l in n._playerUi._pBoardCards) c(l);
                            s = 1;
                            var p = function (e) {
                                var t = n._opponentUi._pBoardCards[e];
                                t._status == r.CardSprite.Status.back && (t.runAction(i.lc.sequence(.2 * (s - 1), function () {
                                    _(t)
                                })), s += 1)
                            };
                            for (var l in n._opponentUi._pBoardCards) p(l);
                            s > 1 && L.lcAudio.playAudio(O.AUDIO.E_BAT_CARD_FLIP)
                        }
                        if (1 == e._round && 0 == e._opponent._round && (T.nox.scheduleTimeout(function () {
                            n.showDialog(S.BattleDialog.Type.solo_start)
                        }, o), o += 1.9), e._isAttacker && e._round > e._maxRound - 3) e._maxRound - e._round >= 0 && T.nox.scheduleTimeout(function () {
                            n.showDialog(S.BattleDialog.Type.remain_round, e._maxRound - e._round + 1)
                        }, o); else {
                            var u = e._isAttacker == this._isAttacker ? S.BattleDialog.Type.your_round : S.BattleDialog.Type.oppo_round,
                                g = null;
                            d.Data.POWER_DOUBLE_ROUND - 3 <= e._round && e._round < d.Data.POWER_DOUBLE_ROUND && (g = d.Data.POWER_DOUBLE_ROUND - e._round), T.nox.scheduleTimeout(function () {
                                n.showDialog(u, g)
                            }, o), o += 1
                        }
                        t = .6 + o
                    }
                    return a._isController && 0 == e._round && n.showDialog(S.BattleDialog.Type.need_main_card, 1), t
                }, e.prototype.roundEnd = function (e, t) {
                    return t = (e._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi).roundEnd(t), P._guideID < 100 && (P._guideID = P._guideID + 1, y.GuidePart.sendGuideID(P._guideID)), t
                }, e.prototype.action = function (e) {
                    (e._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi).action()
                }, e.prototype.onBattleEvent = function (e) {
                    var t = this, n = e._sender;
                    if (e._sender == this._player || e._sender == this._opponent) {
                        var a = e._type, i = e._param, o = e._params, r = n._actionCard,
                            _ = n._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi,
                            s = null != r ? r._owner._isAttacker == t._isAttacker ? t._playerUi : t._opponentUi : null,
                            c = 0;
                        if (n._isForwarding) {
                            if (a == f.default.Status.forwarding_end && (this._player._isOnlinePvp && this._player._playerType != f.default.PlayerType.replay && this.pvpTimingWhenRoundBegin(n), null != this._forwardingEndCallback)) return this._forwardingEndCallback()
                        } else if (a == f.default.Status.battle_start) c = this.start(c); else if (a == f.default.Status.battle_end) c = this.finish(); else if (a == f.default.Status.round_begin) c = _.accountAction(this.roundBegin(n, c), a, r); else {
                            if (a == f.default.Status.round_end) return this.toNextRound(n);
                            if (a == f.default.Status.attack_end) c = _.accountAction(this.roundEnd(n, c), a, r), n.getUnderChangedCards().length > 0 && (c += .5); else if (a == f.default.Status.use) this._playerUi.updateBoardCardsActive(), this._opponentUi.updateBoardCardsActive(); else if (a == f.default.Status.action) this.action(n); else if (a == f.default.Status.initial_deal) 1 == n._initialDealIndex ? c = this.initialDeal() : n._initialDealIndex; else {
                                if (a == f.default.Status.select_main) return this.roundEndChooseMain(n);
                                if (a == f.default.Status.spelling || a == f.default.Status.under_spell || a == f.default.Status.under_defend_spell || a == f.default.Status.under_spell_damage || a == f.default.Status.under_counter_spell || a == f.default.Status.account_spell || a == f.default.Status.after_spell || a == f.default.Status.end_spell) c = _.accountAction(c, a, r); else if (a == f.default.Status.account_status) c = s.accountStatus(r, c); else if (a == f.default.Status.account_reorder) c = _.accountReorder(c); else if (a == f.default.Status.account_pos_change) c = _.accountPosChange(c); else if (a == f.default.Status.account_halo) c = _.accountAction(_.accountHalo(c, a, r), a, r); else if (a == f.default.Status.account_event && W.lcAppCfg.isEnableBattleGuide()) {
                                    if (null == _.accountEvent(c)) return
                                } else {
                                    if (a == f.default.Status.try_use_card) return this.tryUseCard(n);
                                    if (a == f.default.Status.wait_oppo_use_card) return this.waitOppoUseCard(n);
                                    if (a == f.default.Status.wait_observe_use_card) return this.waitObserveUseCard();
                                    if (a == f.default.Status.send_battle_end) return cc.log("-----------done--------------------------"), this.sendBattleEnd();
                                    a == f.default.Status.use_card ? i != f.default.UseCardType.round ? (this.addBoardCardBegan(n), c = this.prepareAction(n, r)) : this._player._isOnlinePvp && this._player._playerType != f.default.PlayerType.replay && (this.stopPvpTiming(), p.BattlePart.saveBattleTimingInfo(o)) : a == f.default.Status.ai_use_card ? this._needSendEvent && n._playerType == f.default.PlayerType.ai && p.BattlePart.sendBattleOppoUseCard_new(n, i, o, f.default._battleUseCardList._cardOpList.length) : a == f.default.Status.update_score_damage ? n._isAttacker && cc.log("----") : a == f.default.Status.update_score_destroy_card ? cc.log("----") : a == f.default.Status.change_fortress_skill ? _.updateFortressSkill() : a == f.default.Status.pvp_timing_begin && this.pvpTimingWhenRoundBegin(n)
                                }
                            }
                        }
                        this._battleEvent = {
                            _type: e._type,
                            _sender: e._sender
                        }, this._statusScheduler = T.nox.scheduleTimeout(function () {
                            t.onBattleEventFinished()
                        }, c || 0)
                    }
                }, e.prototype.onBattleEventFinished = function () {
                    return null != this._statusScheduler && (T.nox.unscheduleTimeout(this._statusScheduler), this._statusScheduler = null), this._battleEvent._sender.step()
                }, e.prototype.playerUseCard = function (e, t) {
                    if (this._needSendEvent && p.BattlePart.sendBattleUseCard_New(this._player, e, t, f.default._battleUseCardList._cardOpList.length + 1), e == f.default.UseCardType.retreat) return this._player.retreat();
                    e == f.default.UseCardType.round && this._player._isOnlinePvp, this._player.addAUseCardToList(e, t), this._isWaitting = !0, this.observeTryUseCard()
                }, e.prototype.oppoUseCard = function (e, t) {
                    this._needSendEvent && p.BattlePart.sendBattleOppoUseCard_new(this._player, e, t, f.default._battleUseCardList._cardOpList.length + 1), this._opponent.addAUseCardToList(e, t), this._isWaitting = !0, this.oppoTryUseCard()
                }, e.prototype.tryUseCard = function (e) {
                    this._isEndAllOperation ? this._isAutoAuto && (this._isEndAllOperation = this._playerUi.getIsEndAllOperation(), this._isEndAllOperation || (this._isAuto = !1, this._isAutoAuto = !1, this.setBtnAuto(this._isAuto))) : (this._isEndAllOperation = "normal" == this._nameTag && this._playerUi.getIsEndAllOperation() || !1, this._isEndAllOperation && !this._isAuto && this._baseBattleType != d.Data.BattleType.base_replay && (this._isAuto = !0, this._isAutoAuto = !0, this.setBtnAuto(this._isAuto)));
                    var t = this._playerUi.getForceAutoUseCard(), n = t[0], a = t[1];
                    if (null != n) return this.playerUseCard(n, a);
                    if (this._isPvpTimeout) return this.playerUseCard(f.default.UseCardType.round, [e._round, this._isSpiteDelay ? f.default.UseRoundCardType.time_out : f.default.UseRoundCardType.time_out2, this._isSpiteDelay ? f.default.UseRoundCardType.time_out : f.default.UseRoundCardType.time_out2, 0, 0]);
                    if (this._isAuto) {
                        var i = e._ai.aiUseCard();
                        return this.playerUseCard(i._type, i._ids)
                    }
                    if (e._isMonsterActioned) {
                        if (e.isNeedDrop()) {
                            var o = e._ai.aiDropCard();
                            return this.playerUseCard(o._type, o._ids)
                        }
                        var r = e.isMustUseASkill();
                        if (r > 0) {
                            if (1 == r) return this._playerUi.showSelectSkillForMustUseSkill();
                            if (2 == r) return this._playerUi.showSelectCardForMustUseSkill()
                        }
                        var _ = e._ai.aiUseCard();
                        return _._type == f.default.UseCardType.round && e == this._player && e._ops[e._ops.length - 1]._type != f.default.UseCardType.attack_end && (_._ids = [e._round, -2, -2, 0, 0], _._type = f.default.UseCardType.attack_end), this.playerUseCard(_._type, _._ids)
                    }
                    if (this._isOperating ? this.addBoardCardEnded(e) : this.operateBegin(), e.isNeedMainWhenRoundBegin()) return this.addBoardCardBegan(e), this._playerUi.showChoiceSwapMonsters(e.getBattleCards("B"), !0);
                    if (e.isNeedMainWhenRoundEnd()) return this.addBoardCardBegan(e), this._playerUi.showChoiceSelectMain(e.getBattleCards("B"));
                    var s = e.isMustUseASkill();
                    return 1 == s ? this._playerUi.showSelectSkillForMustUseSkill() : 2 == s ? this._playerUi.showSelectCardForMustUseSkill() : void (this._isEnableDrap && (this._player.getActionPlayer().isNeedDrop() ? this.showDropHand() : this.finishDropHand()))
                }, e.prototype.waitOppoUseCard = function (e) {
                    void 0 === e && (e = null), this._isWaitting = !0, this.oppoTryUseCard() || this.showThinking()
                }, e.prototype.waitObserveUseCard = function () {
                    this._isWaitting = !0, this.observeTryUseCard() || this.showThinking()
                }, e.prototype.operateBegin = function () {
                    this._isOperating || (this._isOperating = !0, this._playerUi.updateCardsActive(), this.updateRoundButton(), this._needSoftGuide && this.addSoftGuide())
                }, e.prototype.operateEnd = function () {
                    return !!this._isOperating && (this._isOperating = !1, this._isEndOperating = !0, this.hideCardAttack(), this._isTouching && this.onTouchCanceled(!0), this._playerUi.hideOperateDialogs(), this._dropLayer && this.hideDropHand(), this._choiceMaskLayer && this._choiceMaskLayer.cancelChoice(), this._playerUi.updateCardsActive(), this.updateRoundButton(), this.removeExchangeArrow(), this.removeSoftGuide(), this._timeOutTimes >= 3 && !this._isAuto && (this._timeOutTimes = 0, this._isAuto = !0, this.setBtnAuto(this._isAuto)), !0)
                }, e.prototype.useOperateEndCard = function () {
                    if (this._isAddingBoardCard) {
                        if (this._isPvpTimeout) return this.tryUseCard(this._player)
                    } else {
                        if (this._isAuto) return this.tryUseCard(this._player);
                        if (this._isPvpTimeout) return this.tryUseCard(this._player);
                        this.playerUseCard(f.default.UseCardType.attack_end, [this._player._round])
                    }
                }, e.prototype.autoOperate = function (e) {
                    this._isAuto = e, e ? this._isOperating && this.operateEnd() && this.useOperateEndCard() : this._isAddingBoardCard && this.operateBegin(), this.setBtnAuto(this._isAuto)
                }, e.prototype.addBoardCardBegan = function (e) {
                    this._isOperating && (this._isAddingBoardCard = !0, (e._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi).updateCardsActive(), this.updateRoundButton(), this._needSoftGuide && this.removeSoftGuide())
                }, e.prototype.addBoardCardEnded = function (e) {
                    this._isAddingBoardCard && (this._isAddingBoardCard = !1, (e._isAttacker == this._isAttacker ? this._playerUi : this._opponentUi).updateCardsActive(), this.updateRoundButton(), this._isOperating && this._needSoftGuide && this.removeSoftGuide())
                }, e.prototype.setOppoOnline = function (e) {
                    e = e && !this._isBattleFinished, p.BattlePart._isOppoOnline ? e && this.showOppoOnline() : (e && this.showOppoOffline(), !this._isOperating && this._opponent._isPvpTimeout && this.opponentTimeOutAndOffline(), this._battleType == d.Data.BattleType.PVP_friend && this._isWaitting && (this._isWaitting = !1, this.hideThinking(), this._opponent.use()))
                }, e.prototype.setPlayerOnline = function (e) {
                    e = e && !this._isBattleFinished, p.BattlePart._isPlayerOnline ? this.showPlayerOnline() : e && this.showPlayerOffline()
                }, e.prototype.onBtnEndRound = function () {
                    this._player.getActionPlayer().isNeedMainWhenInitialDeal() ? this._playerUi.sendEvent(_.PlayerUi.EventType.dialog_need_main_card, {_val: 0}) : this._player.isNeedDrop() ? (this._playerUi.hideOperateDialogs(), this.showDropHand()) : (this._timeOutTimes = 0, this.operateEnd() && this.useOperateEndCard(), this.hideTip(), this.setGuideHelpButtonVisible(!1))
                }, e.prototype.onSwitchView = function () {
                }, e.prototype.tryExitScene = function () {
                    p.BattlePart._replayInBattle ? (p.BattlePart._replayInBattle = !1, this._isBattleFinished = !0, this._battleType = p.BattlePart._replayInBattleType, this._baseBattleType = d.Data.BattleType.base_PVE, this.hideSetting(), this.pause()) : this.exitScene()
                }, e.prototype.reverse = function () {
                    cc.log("-------------")
                }, e.prototype.getTouchBtn = function (e, t, n) {
                    void 0 === n && (n = !1);
                    var i = this;

                    function o(e) {
                        if (!e.active) return !1;
                        var o = e.getContentSize().width, r = e.getContentSize().height;
                        e.getParent() == i._node && (n = !0);
                        var _ = e.getPosition().x - o / 2 + (n ? 0 : a.ViewConst.SCR_CW),
                            s = e.getPosition().y - r / 2 + (n ? 0 : a.ViewConst.SCR_CH), c = cc.rect(_, s, o, r),
                            l = t.getLocationX(), d = t.getLocationY(), p = new cc.Vec2(l, d);
                        return !!c.contains(p)
                    }

                    for (var r = 0; r < e.length; r++) if (o(e[r])) return cc.log(""), e[r];
                    return null
                }, e.prototype.getTouchedCard = function (e) {
                    if (this._touchCard && this._touchCard.containsTouchLocation(e.getLocation().x, e.getLocation().y)) return this._touchCard;

                    function t(t) {
                        if (!t._node.active) return !1;
                        var n = t.getContentSize().width * t._pCardAreaAll.scaleX,
                            a = t.getContentSize().height * t._pCardAreaAll.scaleY, i = t._node.getPosition().x - n / 2,
                            o = t._node.getPosition().y - a / 2, r = cc.rect(i, o, n, a), _ = e.getLocationX(),
                            s = e.getLocationY(), c = new cc.Vec2(_, s);
                        return !!r.contains(c)
                    }

                    for (var n = 1; n <= 2; n++) {
                        for (var a = 1 == n ? this._playerUi : this._opponentUi, i = a._pHandCards.length - 1; i > -1; i--) {
                            if (null != (o = a._pHandCards[i]) && t(o)) return o
                        }
                        for (i = 1; i <= d.Data.MAX_CARD_COUNT_ON_BOARD; i++) {
                            if (null != (o = a._pBoardCards[i]) && t(o)) return o
                        }
                        for (i = 0; i <= a._pGraveCards.length; i++) {
                            var o;
                            if (null != (o = a._pGraveCards[i]) && t(o)) return o
                        }
                    }
                    return null
                }, e.prototype.getTouchedBoardCard = function (e, t) {
                    function n(t) {
                        if (!t._node.active) return !1;
                        var n = t.getContentSize().width * t._pCardAreaAll.scaleX,
                            a = t.getContentSize().height * t._pCardAreaAll.scaleY, i = t._node.getPosition().x - n / 2,
                            o = t._node.getPosition().y - a / 2, r = cc.rect(i, o, n, a), _ = e.getLocationX(),
                            s = e.getLocationY(), c = new cc.Vec2(_, s);
                        return !!r.contains(c)
                    }

                    for (var a = d.Data.MAX_CARD_COUNT_ON_BOARD; a > -1; a--) {
                        var i = t._pBoardCards[a];
                        if (null != i && n(i)) return i
                    }
                    return null
                }, e.prototype.registTouchHandler = function () {
                    var e = this._node;
                    null != e && (e.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this), e.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), e.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this))
                }, e.prototype.unRegistTouchHandler = function () {
                    var e = this._node;
                    null != e && (e.off(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this), e.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), e.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this)), H.MsgCenter.removeMsgListener(this)
                }, e.prototype.onTouchBegan = function (e) {
                    cc.log("------------------");
                    var t = e.touch;
                    t.getLocationX(), t.getLocationY();
                    if (this._tip && this._tip.onTouchEnd(e), !this._node.active || this._isTouching) return !1;
                    if (P._guideID < 20) return !1;
                    if (this._dropLayer) return this._isTouching = this._dropLayer.onTouchBegan(t), this._isTouching;
                    if (this._resultDialog && this._resultDialog.onTouchBegan(e), !(this._battleAtkDialog && this._battleAtkDialog._node.active && this._battleAtkDialog.onTouchBegan(t) || this._battleListDialog && this._battleListDialog.node.active && this._battleListDialog.onTouchBegan(t))) {
                        if (this._choiceMaskLayer && this._choiceMaskLayer.touchEvent(), this._settingLayer && this._settingLayer.node.active) return this._settingLayer.touchEvent(t);
                        if (this._testMaskLayer && this._testMaskLayer.node.active) return this._testMaskLayer.touchEvent();
                        var n = this.getTouchBtn([this._btnRoundEnd.node], t);
                        if (null != n && P._guideID < 100) return this.onButtonEvent(n), !1;
                        var a = this.getTouchedCard(t);
                        if (null != a) {
                            if (this._pAttackingCard && a != this._pAttackingCard && this.hideCardAttack(), a._status != r.CardSprite.Status.back) return this._isTouching = !0, this._touchCard = a, a.onTouchBegan(t), a._targetCard = null, !0;
                            if (a._card._status == f.default.CardStatus.hand) return a._ownerUi._isController ? a._ownerUi.sendEvent(_.PlayerUi.EventType.dialog_attacker_hand_cards, {}) : a._ownerUi.sendEvent(_.PlayerUi.EventType.dialog_defender_hand_cards, {}), !1;
                            if (a._card._status == f.default.CardStatus.board) return a._ownerUi._isController && this.showCardInfo(a, a._card), !1
                        }
                        return this._pAttackingCard && (this.hideCardAttack(), this._pAttackingCard = null), !1
                    }
                }, e.prototype.onTouchMove = function (e) {
                    var t = e.touch;
                    if (this._isTouching && !this._pAttackingCard) {
                        if (this._dropLayer) return this._dropLayer.onTouchMoved(t);
                        if (null != this._touchCard) {
                            var n = this._touchCard._card._owner, a = this._touchCard._ownerUi;
                            if (this._selectTargetLayer) return this._selectTargetLayer.onTouchMoved(t);
                            this._touchCard.onTouchMoved(t);
                            var i = this._touchCard._card, o = this._touchCard;
                            if (this._isOperating) if (o._touchEvent._touchCardType == r.CardSprite.TouchCardType.self_hand_card) {
                                var s = !1;
                                if (this._isAddingBoardCard ? (s = !0, a.sendEvent(_.PlayerUi.EventType.dialog_adding_board_card, {})) : i.isMonster() ? n.canUseMonster(i, !1)._canUse || (s = !0, a.sendEvent(_.PlayerUi.EventType.dialog_not_enough_gem, {})) : i._type == d.Data.CardType.magic && (n.canUseMagic(i, !1)._canUse || (s = !0, a.sendEvent(_.PlayerUi.EventType.dialog_cannot_effect, {_val: i._type}))), s) return this.hidePreview(o), o.onTouchEnded(), this._touchCard = null, void a.playAction(o, _.PlayerUi.Action.replace_hand_card, 0, 1);
                                if (i.isMonster() && i._info._level > 0 || i._type == d.Data.CardType.magic && (i._info._type == d.Data.MagicTrapType.equip || i._info._type == d.Data.MagicTrapType.power)) return void this.showSelectTarget(o, t)
                            } else o._touchEvent._touchCardType == r.CardSprite.TouchCardType.energy_card && (this._isAddingBoardCard ? (a.sendEvent(_.PlayerUi.EventType.dialog_adding_board_card, {}), o.onTouchEnded(), this._touchCard = null) : this.showSelectTarget(o, t)); else o._touchEvent._touchCardType == r.CardSprite.TouchCardType.self_hand_card && _.PlayerUi.Pos.use_area <= t.getLocation().y && t.getPreviousLocation().y < _.PlayerUi.Pos.use_area && (n.getActionPlayer() == n ? a.sendEvent(_.PlayerUi.EventType.dialog_adding_board_card, {}) : a.sendEvent(_.PlayerUi.EventType.dialog_not_your_round, {}), o.onTouchEnded(), this._touchCard = null, a.playAction(o, _.PlayerUi.Action.replace_hand_card, 0, 1))
                        }
                    }
                }, e.prototype.onTouchCanceled = function (e) {
                    if (void 0 === e && (e = !1), this._isTouching) {
                        if (this._dropLayer) return this._dropLayer.onTouchCanceled();
                        if (this._touchCard) {
                            this._touchCard._card._owner;
                            var t = this._touchCard._ownerUi, n = this._touchCard;
                            if (this._touchCard.onTouchCanceled(), this._touchCard = null, this._selectTargetLayer) return this._selectTargetLayer.onTouchCanceled();
                            n._touchEvent._touchCardType == r.CardSprite.TouchCardType.self_hand_card ? (this._isOperating && this.hidePreview(n), t.playAction(n, _.PlayerUi.Action.replace_hand_card, 0, 1)) : n._touchEvent._touchCardType == r.CardSprite.TouchCardType.board_card && (this.hidePreview(n), this.removeExchangeArrow())
                        }
                    }
                }, e.prototype.onTouchEnd = function (e) {
                    cc.log("------------------");
                    var t = e.touch;
                    if (this._isTouching && (this._isTouching = !1, !this._pAttackingCard)) {
                        if (this._dropLayer) return this._dropLayer.onTouchEnded(t);
                        if (null != this._touchCard) {
                            var n = this._touchCard._card._owner, a = this._touchCard._ownerUi, i = this._touchCard,
                                o = i._card;
                            if (this._touchCard.onTouchEnded(t), this._touchCard = null, this._isOperating) {
                                if (i._touchEvent._touchCardType == r.CardSprite.TouchCardType.energy_card) {
                                    if (this._selectTargetLayer && !this._isAddingBoardCard) return this._selectTargetLayer.onTouchEnded(t)
                                } else if (i._touchEvent._touchCardType == r.CardSprite.TouchCardType.self_hand_card) {
                                    if (this._selectTargetLayer) return this._selectTargetLayer.onTouchEnded(t);
                                    var s = i._targetCard;
                                    this.hidePreview(i);
                                    var c = !1;
                                    if (this._isAddingBoardCard ? c = !0 : o.isMonster() ? n.canUseMonster(o, !1)._canUse || (c = !0) : o._type == d.Data.CardType.magic && (n.canUseMagic(o, !1)._canUse || (c = !0)), (o.isMonster() && o._info._level > 0 || o._type == d.Data.CardType.magic && (o._info._type == d.Data.MagicTrapType.equip || o._info._type == d.Data.MagicTrapType.power)) && (c = !0), c) return void a.playAction(i, _.PlayerUi.Action.replace_hand_card, 0, 1);
                                    if (!this._isAddingBoardCard && _.PlayerUi.Pos.use_area <= t.getLocation().y) {
                                        var l = this.getEventDrag();
                                        if (null != l && l != i) return void a.playAction(i, _.PlayerUi.Action.replace_hand_card, 0, 1);
                                        var p = this.getEventDragTo(), u = p[0], g = p[1];
                                        if ((g == I.BattleEventDialog.Type.guide_drag_to_pos || g == I.BattleEventDialog.Type.guide_drag_to_attack || g == I.BattleEventDialog.Type.guide_drag_to_defend) && s != u) return a.sendEvent(_.PlayerUi.EventType.dialog_card_need_aim, {_val: 0}), void a.playAction(i, _.PlayerUi.Action.replace_hand_card, 0, 1);
                                        if (o.isMonster()) 0 == o._info._level && a.sendEvent(_.PlayerUi.EventType.send_use_card, {
                                            _val: f.default.UseCardType.h2b,
                                            _ids: [o._id]
                                        }); else if (o._type == d.Data.CardType.magic) {
                                            var h = o._owner.isChooseCardsSkill(o._skills[0]);
                                            h._is ? a.showChoiceCards(i, h._cards, h._choice, [o._id, o._skills[0]._id]) : a.showChoiceSkill(i, [o._id, o._skills[0]._id])
                                        }
                                    } else a.playAction(i, _.PlayerUi.Action.replace_hand_card, 0, 1)
                                }
                            } else i._touchEvent._touchCardType == r.CardSprite.TouchCardType.self_hand_card && a.playAction(i, _.PlayerUi.Action.replace_hand_card, 0, 1)
                        }
                    }
                }, e.prototype.showSelectTarget = function (t, n) {
                    this._selectTargetLayer = E.SelectTargetLayer.create(this, t, 0, i.lc.Color3B.black, a.ViewConst.SCR_SIZE), t.showUseTips(), t.setPosition(t._default._position), t.hideLargePic(), t.onTouchEnded(n), this.addChild(this._selectTargetLayer._layer, e.ZOrder.opetation_layer);
                    var o = v.BattleLine.create(t.getPosition(), null);
                    this._selectTargetLayer._arrow = o, this._selectTargetLayer._layer.addChild(o.node), o.directTo(n.getLocation(), null)
                }, e.prototype.isSelectOppoBoardCard = function (e) {
                    return e._card._type == d.Data.CardType.magic && e._card.hasSkills([6035, 6036, 6039, 6040, 6052, 6053, 6056, 6064, 6059, 6078, 6079])
                }, e.prototype.hidePreview = function (e) {
                    if (null != e._targetCard) {
                        e._card._owner;
                        this.hidePreviewInsertBoardCard(e._targetCard, e), e._targetCard = null
                    }
                }, e.prototype.preview = function (e, t) {
                    e._card._owner;
                    null != e._targetCard && this.hidePreviewInsertBoardCard(e._targetCard), e._targetCard = t, this.previewInsertBoardCard(t, e)
                }, e.prototype.previewInsertBoardCard = function (e, t) {
                    if (null != e) for (var n = e._card._pos, a = e._ownerUi, o = e._ownerUi.calBoardCardStep(), _ = 0; _ < d.Data.MAX_CARD_COUNT_ON_BOARD; _++) {
                        var s = a._pBoardCards[_];
                        null != s && (s.stopAllActions(), s.runAction(i.lc.moveTo(.2, new cc.Vec2(s._default._position.x + (_ < n ? 0 : o), s._default._position.y))))
                    }
                    null != t && t.setScale(r.CardSprite.Scale.normal)
                }, e.prototype.hidePreviewInsertBoardCard = function (e, t) {
                    if (void 0 === t && (t = null), null != e) for (var n = e._ownerUi, a = 0; a < d.Data.MAX_CARD_COUNT_ON_BOARD; a++) {
                        var o = n._pBoardCards[a];
                        null != o && (o.stopAllActions(), o.runAction(i.lc.moveTo(.2, o._default._position)))
                    }
                    null != t && t.setScale(r.CardSprite.Scale.hd)
                }, e.prototype.onPlayerUiEvent = function (e, t) {
                    var n = t._type, a = t._val;
                    n == _.PlayerUi.EventType.dialog_defender_hand_cards ? this.showDialog(S.BattleDialog.Type.defender_hand_cards) : n == _.PlayerUi.EventType.dialog_attacker_hand_cards ? this.showDialog(S.BattleDialog.Type.attacker_hand_cards) : n == _.PlayerUi.EventType.dialog_not_enough_gem ? this.showDialog(S.BattleDialog.Type.not_enough_gem) : n == _.PlayerUi.EventType.dialog_board_card_full ? this.showDialog(S.BattleDialog.Type.board_card_full) : n == _.PlayerUi.EventType.dialog_not_your_round ? this.showDialog(S.BattleDialog.Type.not_your_round) : n == _.PlayerUi.EventType.dialog_card_need_aim ? this.showDialog(S.BattleDialog.Type.card_need_aim, a) : n == _.PlayerUi.EventType.dialog_card_need_target ? this.showDialog(S.BattleDialog.Type.card_need_target, a) : n == _.PlayerUi.EventType.dialog_cannot_effect ? this.showDialog(S.BattleDialog.Type.cannot_effect, a) : n == _.PlayerUi.EventType.dialog_special_summon_invalid ? this.showDialog(S.BattleDialog.Type.special_summon_invalid) : n == _.PlayerUi.EventType.dialog_trap_existed ? this.showDialog(S.BattleDialog.Type.trap_existed, a) : n == _.PlayerUi.EventType.dialog_adding_board_card ? this.showDialog(S.BattleDialog.Type.adding_board_card) : n == _.PlayerUi.EventType.dialog_target_unattackable ? this.showDialog(S.BattleDialog.Type.target_unattackable) : n == _.PlayerUi.EventType.dialog_cannot_attack ? this.showDialog(S.BattleDialog.Type.cannot_attack) : n == _.PlayerUi.EventType.dialog_need_main_card ? this.showDialog(S.BattleDialog.Type.need_main_card, a) : n == _.PlayerUi.EventType.dialog_no_base_monster ? this.showDialog(S.BattleDialog.Type.no_base_monster, a) : n == _.PlayerUi.EventType.efc_screen_fortress_die || n == _.PlayerUi.EventType.efc_screen_fortress_hurt || n == _.PlayerUi.EventType.efc_screen_to_board || n == _.PlayerUi.EventType.efc_screen_equip_book || n == _.PlayerUi.EventType.efc_screen_attack_card || n == _.PlayerUi.EventType.efc_camera_to || (n == _.PlayerUi.EventType.update_card_pile_count ? this.updatePile(e) : n == _.PlayerUi.EventType.send_use_card && (e == this._playerUi ? (this.playerUseCard(t._val, t._ids), this._isSpiteDelay = !1) : this.oppoUseCard(t._val, t._ids)))
                }, e.prototype.onCardSpriteEvent = function (e) {
                    e._sender._card;
                    var t = e._sender, n = t._ownerUi;
                    if (e._sender._battleUi == this) if (e._type == r.CardSprite.EventType.show_card_info) this._pAttackingCard || this.showCardInfo(t, t._card); else if (e._type == r.CardSprite.EventType.hide_card_info) this.hideCardInfo(); else if (e._type == r.CardSprite.EventType.shuffle_pile) ; else if (e._type == r.CardSprite.EventType.show_grave_list) {
                        var a = t._card._owner._graveCards, i = t._ownerUi._isController ? "mine" : "enemy";
                        this._battleListDialog = B.BattleListDialog.create(n, a, B.BattleListDialog.Mode.grave_list, i), this._battleListDialog.show()
                    }
                }, e.prototype.softGuide = function () {
                }, e.prototype.addSoftGuide = function () {
                }, e.prototype.removeSoftGuide = function () {
                }, e.prototype.addChat = function (e, t) {
                    e._isAttacker == this._isAttacker ? this.showDialog(S.BattleDialog.Type.chat_dialog, t) : this.showDialog(S.BattleDialog.Type.oppo_chat_dialog, t)
                }, e.prototype.changeResource = function (e) {
                    e._preExp = P._characters[P.getCharacterId()]._exp, e._preLevel = P._characters[P.getCharacterId()]._level, P.changeExp(e._exp, e._timestamp / 1e3), e._curExp = P._characters[P.getCharacterId()]._exp, e._curLevel = P._characters[P.getCharacterId()]._level, P.changeResource(d.Data.ResType.gold, e._gold), P.changeResource(d.Data.ResType.ingot, e._ingot)
                }, e.prototype.initResource = function (e) {
                }, e.prototype.isTaskDone = function (e) {
                    for (var t = !0, n = 0; n < e._taskResult.length; n++) if (!e._taskResult[n]) {
                        t = !1;
                        break
                    }
                    return t
                }, e.prototype.onBattleEnd = function (e) {
                    cc.log("[battle]  enter battel result"), M.ClientView.getActiveIndicator().hide();
                    var t = {
                        _ingot: 0,
                        _gold: 0,
                        _exp: 0,
                        _activePoint: 0,
                        _unionBattleTrophy: 0,
                        _darkTrophy: 0,
                        _loseSkinCrystal: 0,
                        _yubi: 0,
                        _flag: 0,
                        _propId: null,
                        _timestamp: e.timestamp,
                        _trophy: e.trophy,
                        _preRank: e.rank1,
                        _curRank: e.rank2,
                        _ladderChest: null,
                        _cards: [],
                        _levelId: e.city,
                        _resultType: e.type,
                        _BattleTypeFromServer: e.battle_type,
                        _taskResult: e.task_result,
                        _score: this._player._damageScore[c.PlayerBattle.KEY_TOTAL],
                        _battleType: this._battleType,
                        _player: this._player,
                        _opponent: this._opponent
                    };
                    e.log && (t._log = e.log), e.score && (t._score = e.score), null == e.resource && (e.resource = []);
                    for (var n = 0; n < e.resource.length; n++) {
                        var a = e.resource[n];
                        a.info_id == d.Data.ResType.gold ? t._gold = a.num : a.info_id == d.Data.ResType.ingot ? t._ingot = a.num : a.info_id == d.Data.ResType.exp || a.info_id == d.Data.ResType.character_exp ? t._exp = a.num : a.info_id == d.Data.ResType.union_personal_power ? t._activePoint = a.num : a.info_id == d.Data.ResType.union_battle_trophy ? t._unionBattleTrophy = a.num : a.info_id == d.Data.ResType.dark_trophy ? t._darkTrophy = a.num : a.info_id == d.Data.PropsId.skin_crystal ? a.num < 0 && (t._loseSkinCrystal = a.num) : a.info_id == d.Data.PropsId.yubi ? t._yubi = a.num : d.Data.PropsId.ladder_chest_end >= a.info_id && a.info_id >= d.Data.PropsId.ladder_chest ? t._ladderChest = a.info_id : a.info_id == d.Data.PropsId.flag && (t._flag = a.num)
                    }
                    t._propId = e.param, this.hideWaitting(), this._baseBattleType == d.Data.BattleType.base_PVP && this._battleType != d.Data.BattleType.PVP_friend || this._baseBattleType == d.Data.BattleType.base_PVE ? this.changeResource(t) : this.initResource(t), this._player.genResult(t._resultType), this._result = t, this._scene._monsterExplored || this._recvMonsterExplored ? (this._scene._monsterExplored = null, cc.director.getScheduler().setTimeScale(1)) : this._isShowingKO ? this._isRecvResult = !0 : this.showResult()
                }, e.prototype.checkUnlockModule = function () {
                }, e.prototype.isGuideWorldBattle = function (e) {
                    return !(this._battleType != d.Data.BattleType.task || !m.GuideManager.isGuideEnabled()) && (null != e ? this._input._levelId == e : this._input._levelId <= 10101)
                }, e.prototype.oppoTryUseCard = function () {
                    if (s.BattleInputUtil._usedCardsToAdd.length > 0) {
                        for (var e = [], t = 0; t < s.BattleInputUtil._usedCardsToAdd.length; t++) for (var n = 0; n < s.BattleInputUtil._usedCardsToAdd[t].length; n++) e.push(s.BattleInputUtil._usedCardsToAdd[t][n]);
                        for (var a = V.B.parseOperations(e, !1), i = 1; i <= a.length; i++) this._opponent._ops.push(a[i - 1]);
                        s.BattleInputUtil._usedCardsToAdd = []
                    }
                    return !(this._opponent._replayIndex > this._opponent._ops.length) && (this._opponent._ops[this._opponent._replayIndex - 1]._type == f.default.UseCardType.retreat ? (this.hideThinking(), this.stopPvpTiming(), this.retreat(this._opponent._ops[this._opponent._replayIndex - 1]._ids), !0) : 0 != this._isWaitting && (this._isWaitting = !1, this.hideThinking(), this._opponent.use(), !0))
                }, e.prototype.observeTryUseCard = function () {
                    if (f.default._battleUseCardList._useCardIdx > f.default._battleUseCardList._cardOpList.length) return !1;
                    var e = f.default._battleUseCardList._cardOpList[f.default._battleUseCardList._useCardIdx - 1];
                    return e._type == f.default.UseCardType.retreat ? (this.hideThinking(), this.retreat(e._ids), !0) : this._player._playerType == f.default.PlayerType.player && e._type == f.default.UseCardType.retreat ? (this.hideThinking(), this.retreat(e._ids), !0) : (e._type != f.default.UseCardType.round && e._type != f.default.UseCardType.attack_end || (this.stopPvpTiming(), this._isWaitting = !0, this.operateEnd()), 0 != this._isWaitting && (this._isWaitting = !1, this.hideThinking(), this._player.use(), !0))
                }, e.prototype.updateScoreDamage = function () {
                    null != this._scoreSchedulerID && T.nox.unscheduleTimeout(this._scoreSchedulerID)
                }, e.prototype.setBtnAuto = function (e) {
                    var t = this._btnAuto.getChildByName("icon_gray"), n = this._btnAuto.getChildByName("icon");
                    t.active = e, n.active = !e
                }, e.prototype.pvpTimingWhenRoundBegin = function (t) {
                    this.stopPvpTiming(), this._isPvpTimeout = !1, this._pvpPlayer = t, this.addProcessBar(e.PVP_ROUND_DURATION)
                },e.prototype.startPvpTiming = function (t) {
                    var n = this;
                    if (n.stopPvpTiming(), n._pvpTimingScheduler = T.nox.scheduleOnce(function () {
                        n.showPvpTimingRope(e.PVP_ROPE_DURATION)
                    }, t * cc.director.getScheduler().getTimeScale()), !(t - e.PVP_ROPE_DURATION < 0)) {
                        cc.director.getScheduler().getTimeScale();
                        this._processBarYellow.node.runAction(i.lc.repeatForever(i.lc.sequence(i.lc.delay(1), i.lc.callFunc(function () {
                            n.updatePvpTiming()
                        })))), this._progressTimerBgBlue.setVisible(!0), this._progressTimerBgRed.setVisible(!1)
                    }
                },e.prototype.showPvpTimingRope = function (t) {
                    var n = this;
                    cc.director.getScheduler().getTimeScale(), e.PVP_ROPE_DURATION;
                    this._processBarRed.node.runAction(i.lc.repeatForever(i.lc.sequence(i.lc.delay(1), i.lc.callFunc(function () {
                        n.updatePvpTiming()
                    })))), n._progressTimerBgBlue.setVisible(!1), n._progressTimerBgRed.setVisible(!0), n._isSpiteDelay = !0
                },e.prototype.updatePvpTiming = function () {
                    this._progressTimerBgBlue.setVisible(!1), this._progressTimerBgRed.setVisible(!0);
                    var e = 100 * (p.BattlePart._battleRoundStartInfo._endTimeLocal - G.TimeUtil.getCurrentTime()) - (p.BattlePart._battleRoundStartInfo._endTime - p.BattlePart._battleRoundStartInfo._recvTime);
                    if (e <= 0) this.pvpTimeout(); else if (this._processBarRed.progress = e / 100 * cc.director.getScheduler().getTimeScale(), e <= 10 && this._showReds != e) {
                        this._showReds = e;
                        var t = A.SpriteUtil.createSprite("bat_red_" + e).node;
                        i.lc.addChildToCenter(this._btnEndRoundBg, t), i.lc.offset(t, -170, 0), 10 == e && L.lcAudio.playAudio(O.AUDIO.E_COUNTDOWN), t.runAction(i.lc.spawn(i.lc.sequence(i.lc.fadeIn(.3), .3, i.lc.fadeOut(.3)), i.lc.sequence(i.lc.scaleBy(.9, 1.3), function () {
                            t.removeFromParent()
                        })))
                    }
                },e.prototype.stopPvpTiming = function () {
                    null != this._pvpTimingScheduler && (T.nox.unschedule(this._pvpTimingScheduler), this._pvpTimingScheduler = null), this._processBarRed && this._processBarRed.node.stopAllActions(), this._progressTimerBgBlue && this._progressTimerBgBlue.setVisible(!0), this._progressTimerBgRed && this._progressTimerBgRed.setVisible(!1), this._showReds = null
                },e.prototype.recreateProgressTimer = function (e) {
                },e.prototype.pvpTimeout = function () {
                    var e = this._player._isAttacker ? this._player : this._opponent;
                    this._pvpPlayer == (this._isAttacker ? e : e._opponent) ? (this.stopPvpTiming(), this._isPvpTimeout = !0, this.operateEnd() && this.useOperateEndCard()) : this._isObserver || p.BattlePart._isOppoOnline || this.stopPvpTiming()
                },e.prototype.prepareAction = function (e, t) {
                    var n = e == this._playerUi._player ? this._playerUi : this._opponentUi,
                        a = t._saved._monsterTarget || t._saved._magicTarget || t._atkTarget,
                        o = this._playerUi.getCardSprite(t) || this._opponentUi.getCardSprite(t);
                    if (!a || !o) return 0;
                    if (o.updatePositiveStatus(), n._isController && e._playerType == f.default.PlayerType.player) return 0;
                    var r = this._playerUi.getCardSprite(a) || this._opponentUi.getCardSprite(a),
                        _ = this._selectTargetLayer._layer.convertToNodeSpace(o._node.convertToWorldSpace(cc.p(0, 0))),
                        s = new cc.Vec2(0, 0);
                    r ? s = cc.p(this._selectTargetLayer._layer.convertToNodeSpace(r._node.convertToWorldSpace(cc.p(0, 0)))) : this._isReverse;
                    var c = v.BattleLine.create(_, null);
                    this._selectTargetLayer._arrow = c, this._selectTargetLayer._layer.addChild(c.node), c.directTo(s, null);
                    return c.node.runAction(i.lc.sequence(i.lc.delay(.8), cc.removeSelf())), .8
                },e.prototype.openVS = function () {
                    cc.log("\u6218\u6597\u5f00\u59cb---------------\u52a8\u753b");
                    var e = this;
                    null != this._openVs && (k.SpineUtil.setSpineAnim(this._openVs, "vs", "default", "animation3", !1), this._openVs.runAction(i.lc.sequence(1, i.lc.callFunc(function () {
                        e._openVs.removeFromParent(!0), e._openVs = null
                    })))), L.lcAudio.playAudio(O.AUDIO.E_BAT_VS)
                },e.prototype.resetBattle = function () {
                    c.PlayerBattle._randomSeed = c.PlayerBattle._originRandomSeed, this._player._isAttacker ? (this._player.resetWhenBattleStart(), this._opponent.resetWhenBattleStart()) : (this._opponent.resetWhenBattleStart(), this._player.resetWhenBattleStart())
                },e.prototype.loadUnitTestFile = function () {
                },e.prototype.loadYgoContent = function (e) {
                    this._player._playerType = f.default.PlayerType.player, this._player._unitTestData = e, this._playerUi.efcFortressDieRemove(), this._opponentUi.efcFortressDieRemove(), this.resetBattle(), this._playerUi.resetWhenBattleStart(), this._opponentUi.resetWhenBattleStart(), this.resetWhenBattleStart(), this.setBattleSpeed(), this._player.loadUnitTest(), this._player._isInteach = !0, this._opponent._isInteach = !0, this.forwardToRound(!1, 1)
                },e.prototype.setLoadRelativeButtonsVisbile = function () {
                },e.prototype.startBatchSingle = function () {
                },e.prototype.onExportUnitTestData = function () {
                },e.prototype.updateRoundButton = function () {
                    if (this._btnRoundEnd.node.zIndex = e.ZOrder.cover_card_ui, this._roundLabel.node.zIndex = e.ZOrder.cover_card_ui + 2, this._roundLabelBg.zIndex = e.ZOrder.cover_card_ui + 2, null == this._pRoundTitle && (this._pRoundTitle = A.SpriteUtil.createSprite("bat_label_skip").node, this._btnRoundEnd.node.addChild(this._pRoundTitle)), null != this._battleAtkDialog) A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_skip"), this._btnRoundEndEnabled = !0, this._btnRoundEnd.enabled = !0, this._btnRoundEnd.node.zIndex = e.ZOrder.high_priority_ui + 1, this._roundLabel.node.zIndex = e.ZOrder.high_priority_ui + 2, this._roundLabelBg.zIndex = e.ZOrder.high_priority_ui + 2; else if (null != this._dropLayer) this._btnRoundEnd.enabled = !1, this._btnRoundEndEnabled = !1; else if (this._choiceMaskLayer) this._btnRoundEnd.enabled = !1, this._btnRoundEndEnabled = !1; else if (this._player._macroStatus == f.default.Status.round_begin) A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end2"), this._btnRoundEndEnabled = !1, this._btnRoundEnd.enabled = !1; else if (this._opponent._macroStatus == f.default.Status.round_begin) A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_def"), this._btnRoundEndEnabled = !1, this._btnRoundEnd.enabled = !1; else if (this._player == this._player.getActionPlayer()) if (this._isOperating) if (this._isAddingBoardCard) A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end2"), this._btnRoundEndEnabled = !1, this._btnRoundEnd.enabled = !1; else if (this._playerUi.getIsMoreOperation()) {
                        var t = this._playerUi._pBoardCards[1];
                        null != t && (this._player.canUseAnyMonsterSpell(t._card) ? (this._btnRoundEndEnabled = !0, this._btnRoundEnd.enabled = !0, A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_atk")) : (this._btnRoundEndEnabled = !0, this._btnRoundEnd.enabled = !0, A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end")))
                    } else this._btnRoundEndEnabled = !0, this._btnRoundEnd.enabled = !0, A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end"); else A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end2"), this._btnRoundEndEnabled = !1, this._btnRoundEnd.enabled = !1; else A.SpriteUtil.setSprite(this._pRoundTitle, "bat_label_end2"), this._btnRoundEndEnabled = !1, this._btnRoundEnd.enabled = !1
                },e.prototype.updateRound = function () {
                    var e = Math.max(this._player._round, this._opponent._round);
                    (this._roundLabel.string = "" + e, this._player._energyCards.length > 0) && (this._player.canUseMagic(this._player._energyCards[0], !1)._canUse && this._playerUi.addCardToEnergy(this._player._energyCards[0], 0, 0))
                },e.prototype.updatePile = function (e) {
                    var t = e._player._pileCards.length;
                    if (e == this._playerUi) if (this._atkPileLabel) this._atkPileLabel.string = t + ""; else {
                        var n = null;
                        n = T.nox.scheduleTimeout(function () {
                            this._atkPileLabel && (this._atkPileLabel.string = t + "", T.nox.unscheduleTimeout(n))
                        }.bind(this), .2)
                    } else if (this._defPileLabel) this._defPileLabel.string = t + ""; else {
                        T.nox.scheduleTimeout(function () {
                            this._defPileLabel && (this._defPileLabel.string = t + "", T.nox.unscheduleTimeout(null))
                        }.bind(this), 1)
                    }
                },e.prototype.showWaiting = function () {
                    M.ClientView.getActiveIndicator().show(g.lcStr(h.STR.WAITING))
                },e.prototype.hideWaitting = function () {
                    M.ClientView.getActiveIndicator().hide()
                },e.prototype.showSetting = function () {
                    this._battleAtkDialog && this._battleAtkDialog._node.active && (this._battleAtkDialog.removeFromParent(), this._battleAtkDialog = null);
                    var e = D.BattleSettingDialog.create(this);
                    this.addChild(e.node, o.BattleScene.ZOrder.form), this._settingLayer = e
                },e.prototype.hideSetting = function () {
                    null != this._settingLayer && (this._settingLayer.hide(), this._settingLayer = null)
                },e.prototype.showTask = function () {
                    this._battleAtkDialog && this._battleAtkDialog._node.active && (this._battleAtkDialog.removeFromParent(), this._battleAtkDialog = null);
                    var e = Z.BattleTaskDialog.create(this);
                    this.addChild(e.node, o.BattleScene.ZOrder.form), this._testMaskLayer = e
                },e.prototype.hideTask = function () {
                    null != this._testMaskLayer && (this._testMaskLayer.hide(), this._testMaskLayer = null)
                },e.prototype.hideResult = function () {
                },e.prototype.createBattleTitle = function () {
                },e.prototype.showEvent = function (t, n, a) {
                    var i = I.BattleEventDialog.create(this, t, n, a);
                    this._node.addChild(i.node, e.ZOrder.cover_card_ui - 1), this._eventLayer = i
                },e.prototype.hideEvent = function () {
                    if (this._eventLayer) return this._eventLayer.hide(), this._eventLayer = null, this.hideTip(), this._baseBattleType == d.Data.BattleType.base_guidance && this.setGuideHelpButtonVisible(!1), m.GuideManager.releaseFinger(), this._player.getActionPlayer().step()
                },e.prototype.showCardInfo = function (e, t) {
                    var n = F.CardInfoPanel.create(t._infoId, 1, F.CardInfoPanel.OperateType.na, t);
                    n.setScale(.8), n.show()
                },e.prototype.hideCardInfo = function () {
                },e.prototype.getSkillBtnImg = function () {
                },e.prototype.createCardInfoPanelInBattle = function (e) {
                    var t = l.noxcc.newNode("card_info_panel_battle");
                    t.setContentSize(a.ViewConst.CARD_SIZE);
                    for (var n = e._card, i = 0; i < n._skills.length; i++) {
                        var o = A.SpriteUtil.createScale9Sprite("bat_skill_panel0").node;
                        A.SpriteUtil.setScale9Enabled(o.getComponent(cc.Sprite), !0), o.setContentSize(new cc.Size(a.ViewConst.CARD_SIZE.width, a.ViewConst.CARD_SIZE.height / 3));
                        var r = w.CardUtil.addSkillItem(n._skills[i]._id, n._infoId);
                        t.addChild(o), t.addChild(r), o.setPosition(new cc.Vec2(0, 120 - 675 * i / 3)), r.setPosition(new cc.Vec2(-253, 140 - 675 * i / 3))
                    }
                    return t
                },e.prototype.showTip = function (t) {
                    if (t.t.story, this.hideTip(), 0 != t.t.story) {
                        this.setGuideHelpButtonVisible(!1), this._guideTipVals = t;
                        var n, o, r = g.lcStr(d.Data._storyInfo[t.t.story]._nameSid);
                        if ("/" == r[0]) o = r.substring(1, r.length); else {
                            var _ = string.splitByChar(r, "/");
                            n = _[0], o = _[1]
                        }
                        if (t.t.guide, o && this.isGuideWorldBattle()) {
                            var s = A.SpriteUtil.createScale9Sprite("img_com_bg_11").node;
                            s.setContentSize(cc.size(290, 120)), i.lc.addChildToPosAR(this._node, s, cc.p(i.lc.w(this._node) / 2 + 350, 180)), this._freeTip = s;
                            var c = Y.RichTextUtil.createBoldRichText(o, {
                                _normalClr: K.UICfg.COLOR_TEXT_DARK,
                                _boldClr: K.UICfg.COLOR_TEXT_GREEN_DARK,
                                _fontSize: K.UICfg.FontSize.S1,
                                _width: 210
                            }).node;
                            i.lc.addChildToPosAR(s, c, cc.p(i.lc.w(s) / 2, i.lc.h(s) / 2 + 2))
                        }
                        if (null != n) {
                            var l = 1 == t.t.touch,
                                p = m.GuideManager.createNpcTipLayer(d.Data._storyInfo[t.t.story], l, 1 == t.t.left, !0, t.t.width);
                            l ? (this._eventLayer && (this._eventLayer._blockTouch = null), p.setCloseHandler(function () {
                                this._eventLayer && this._eventLayer._delayFinger && this._eventLayer.showFinger(), this._tip = null, this.setGuideHelpButtonVisible(!0), this._player.getActionPlayer().step()
                            }.bind(this))) : p.setCanCloseHandler(function () {
                                this._eventLayer && this._eventLayer._delayFinger && this._eventLayer.showFinger()
                            }.bind(this)), this._tip = p;
                            var u, h, f = t.t.hl_type;
                            if (i.lc.V(f)) f == m.GuideManager.HighlightType.battle_setting_btn && (h = this._btnSet), u = m.GuideManager.addHighlightEffect(f, h);
                            var y = m.GuideManager.addContainerLayer(p, e.ZOrder.cover_card_ui + 50, u, this._node);
                            y.setPosition((a.ViewConst.SCR_W - i.lc.w(y)) / 2, 0)
                        } else this._eventLayer && this._eventLayer._delayFinger && this._eventLayer.showFinger(), this.setGuideHelpButtonVisible(!0)
                    }
                },e.prototype.hideTip = function () {
                    m.GuideManager.closeNpcTipLayer(), this.setGuideHelpButtonVisible(!0), this._freeTip && (this._freeTip.removeFromParent(), this._freeTip = null), this._tip = null
                },e.prototype.setBattleSpeed = function (t) {
                    if (void 0 === t && (t = null), null == (t = t || this._battleSpeed)) {
                        var n = T.nox.UserDefault.getIntegerForKey("battle_speed", 1), a = P.getSpeedInBattle();
                        null != n && (n <= a || (n = a)), t = n
                    }
                    null == t && (t = 1), t > e.BattleSpeed.length && (t = e.BattleSpeed.length);
                    var i = e.BattleSpeed[t - 1];
                    if (null == i && (i = e.BattleSpeed[0]), this._battleSpeed = t, T.nox.UserDefault.setIntegerForKey("battle_speed", t), cc.director.getScheduler().setTimeScale(i), this._btnSpeed) {
                        var o = this._btnSpeed.getChildByName("icon");
                        A.SpriteUtil.setSprite(o, "bat_speed_x" + t)
                    }
                },e.prototype.showDialog = function (e, t) {
                    void 0 === t && (t = null);
                    var n = S.BattleDialog.create(this, e, t);
                    this._node.addChild(n.node, o.BattleScene.ZOrder.dialog)
                },e.prototype.showRetreat = function () {
                    var e = this, t = this._battleType;
                    M.ClientView.getActiveIndicator();
                    this.hideSetting();
                    var n = e._player;
                    t == d.Data.BattleType.teach ? U.Dialog.showDialog(g.lcStr(h.STR.BATTLE_DIALOG_RETREAT), function () {
                        e.exitScene()
                    }) : U.Dialog.showDialog(g.lcStr(h.STR.BATTLE_DIALOG_RETREAT), function () {
                        M.ClientView.getActiveIndicator().show(), e.playerUseCard(f.default.UseCardType.retreat, [n._fortress._id])
                    })
                },e.prototype.showShare = function (e) {
                    $.ShareForm.create(e).show()
                },e.prototype.showChat = function (e) {
                    this._battleAtkDialog && this._battleAtkDialog._node.active && (this._battleAtkDialog.removeFromParent(), this._battleAtkDialog = null);
                    var t = X.BattleChatDialog.create(this, e);
                    this.addChild(t.node, o.BattleScene.ZOrder.form), this._chatLayer = t
                },e.prototype.hideChat = function () {
                    null != this._chatLayer && (this._chatLayer.hide(), this._chatLayer = null)
                },e.prototype.showOppoOnline = function () {
                    u.ToastManager.push(g.lcStr(h.STR.OPPONENT_ONLINE))
                },e.prototype.showOppoOffline = function () {
                    u.ToastManager.push(g.lcStr(h.STR.OPPONENT_OFFLINE))
                },e.prototype.shakeScreen = function (t, n, a, i) {
                    var o = n._isAttacker == this._isAttacker, r = o ? 1 : -1, _ = null;
                    if (t == e.ShakeScreenType.fortress_hurt) {
                        var s = .1, c = 12, l = (S = cc.moveBy(s, cc.v2(0, c))).easing(cc.easeInOut(2.5)),
                            d = (v = cc.moveBy(s, cc.v2(-c, 0))).easing(cc.easeInOut(2.5)),
                            p = (E = cc.moveBy(s, cc.v2(0, -c))).easing(cc.easeInOut(2.5)),
                            u = cc.moveBy(s, cc.v2(c, 0)).easing(cc.easeInOut(2.5));
                        _ = cc.sequence(l, d, p, u)
                    } else if (t == e.ShakeScreenType.fortress_die) {
                        _ = this.genAShakeScreenAction(1.1, .04, 10)
                    } else if (t == e.ShakeScreenType.retreat) {
                        s = .05, c = 10 * r, l = (S = cc.moveBy(s, cc.v2(0, c))).easing(cc.easeInOut(2.5)), d = (v = cc.moveBy(s, cc.v2(-c, 0))).easing(cc.easeInOut(2.5)), p = (E = cc.moveBy(s, cc.v2(0, -c))).easing(cc.easeInOut(2.5)), u = cc.moveBy(s, cc.v2(c, 0)).easing(cc.easeInOut(2.5));
                        _ = cc.sequence(l, d, p, u)
                    } else if (t == e.ShakeScreenType.to_board) {
                        var g = a._startPos, h = a._endPos, f = n.calLengthAndAngle(g, h), m = (f[0], f[1]),
                            y = cc.v2(8 * Math.cos(m / 180 * Math.PI), 8 * Math.sin(m / 180 * Math.PI)),
                            T = cc.scaleTo(.08, .975 * this._scale), S = cc.moveBy(.08, y),
                            C = (l = cc.spawn(T, S).easing(cc.easeInOut(2.5)), cc.scaleTo(.1, 1.01 * this._scale)),
                            v = cc.moveBy(.1, cc.v2(1.05 * -y.x, 1.05 * -y.y)),
                            b = (d = cc.spawn(C, v).easing(cc.easeInOut(2.5)), cc.scaleTo(.1, this._scale)),
                            E = cc.moveBy(.1, cc.v2(.05 * y.x, .05 * -y.y));
                        p = cc.spawn(b, E).easing(cc.easeInOut(2.5)), cc.sequence(l, d, p)
                    } else if (t == e.ShakeScreenType.equip_book) if (o) {
                        l = cc.moveBy(.06, cc.v2(4, 8)).easing(cc.easeInOut(2.5)), d = (v = cc.moveBy(.08, cc.v2(-4, -8))).easing(cc.easeInOut(2.5)), p = cc.moveBy(.1, cc.v2(5, 5)).easing(cc.easeInOut(2.5)), u = cc.moveBy(.1, cc.v2(-5, -5)).easing(cc.easeInOut(2.5));
                        var I = cc.moveBy(.1, cc.v2(2, 3)).easing(cc.easeInOut(2.5)),
                            P = cc.moveBy(.1, cc.v2(-2, -3)).easing(cc.easeInOut(2.5));
                        cc.sequence(l, d, p, u, I, P)
                    } else l = (S = cc.moveBy(.06, cc.v2(5, 5))).easing(cc.easeInOut(2.5)), d = (v = cc.moveBy(.1, cc.v2(-6, -5))).easing(cc.easeInOut(2.5)), p = (E = cc.moveBy(.1, cc.v2(2, 3))).easing(cc.easeInOut(2.5)), u = cc.moveBy(.1, cc.v2(-1, -3)).easing(cc.easeInOut(2.5)), cc.sequence(l, d, p, u); else t == e.ShakeScreenType.effect_skill && (_ = this.genAShakeScreenAction(a._shakeTime, .03, 4, .07, a._delay || 0));
                    this.resetAction(), _ && this.runAction(_)
                },e.prototype.genAShakeScreenAction = function (e, t, n, a, o) {
                    for (var r = n || 8, _ = a || .02, s = Math.floor(e / (4 * (t || .03))) + 1, c = o ? [i.lc.delay(o)] : [], l = 1; l <= s; l++) {
                        var d = l == s ? r : 2 * r, p = void 0;
                        l == s && (p = 1 + _), p || (p = 1 + _ / 2);
                        var u = l % 4;
                        if (0 == u) {
                            var g = .05, h = cc.moveBy(g, cc.v2(-d, -d)).easing(cc.easeInOut(2.5)),
                                f = cc.moveBy(g, cc.v2(-d, d)).easing(cc.easeInOut(2.5)),
                                m = cc.moveBy(g, cc.v2(d, d)).easing(cc.easeInOut(2.5)),
                                y = cc.moveBy(g, cc.v2(d, -d)).easing(cc.easeInOut(2.5)), T = cc.sequence(h, f, m, y),
                                S = cc.scaleTo(g, p), C = cc.scaleTo(g, 1), v = cc.scaleTo(g, p), b = cc.scaleTo(g, 1),
                                E = cc.sequence(S, C, v, b), I = i.lc.spawn(T, E);
                            c[c.length] = I
                        } else if (1 == u) {
                            g = .05, h = cc.moveBy(g, cc.v2(d, d)).easing(cc.easeInOut(2.5)), f = cc.moveBy(g, cc.v2(d, -d)).easing(cc.easeInOut(2.5)), m = cc.moveBy(g, cc.v2(-d, -d)).easing(cc.easeInOut(2.5)), y = cc.moveBy(g, cc.v2(-d, d)).easing(cc.easeInOut(2.5));
                            var P = cc.sequence(h, f, m, y);
                            S = cc.scaleTo(g, p), C = cc.scaleTo(g, 1), v = cc.scaleTo(g, p), b = cc.scaleTo(g, 1), E = cc.sequence(S, C, v, b), I = i.lc.spawn(P, E);
                            c[c.length] = I
                        } else if (2 == u) {
                            g = .05, h = cc.moveBy(g, cc.v2(-d, -d)).easing(cc.easeInOut(2.5)), f = cc.moveBy(g, cc.v2(d, -d)).easing(cc.easeInOut(2.5)), m = cc.moveBy(g, cc.v2(d, d)).easing(cc.easeInOut(2.5)), y = cc.moveBy(g, cc.v2(-d, d)).easing(cc.easeInOut(2.5)), P = cc.sequence(h, f, m, y), S = cc.scaleTo(g, p), C = cc.scaleTo(g, 1), v = cc.scaleTo(g, p), b = cc.scaleTo(g, 1), E = cc.sequence(S, C, v, b), I = i.lc.spawn(P, E);
                            c[c.length] = I
                        } else if (3 == u) {
                            g = .05, h = cc.moveBy(g, cc.v2(d, d)).easing(cc.easeInOut(2.5)), f = cc.moveBy(g, cc.v2(-d, d)).easing(cc.easeInOut(2.5)), m = cc.moveBy(g, cc.v2(-d, -d)).easing(cc.easeInOut(2.5)), y = cc.moveBy(g, cc.v2(d, -d)).easing(cc.easeInOut(2.5)), P = cc.sequence(h, f, m, y), S = cc.scaleTo(g, p), C = cc.scaleTo(g, 1), v = cc.scaleTo(g, p), b = cc.scaleTo(g, 1), E = cc.sequence(S, C, v, b), I = i.lc.spawn(P, E);
                            c[c.length] = I
                        }
                    }
                    return cc.sequence(c)
                },e.prototype.cameraTo = function () {
                },e.prototype.showDropHand = function () {
                    var t = this._player.getActionPlayer(), n = this._player,
                        a = n == this._player ? this._playerUi : this._opponentUi;
                    if (t == n) {
                        var i = N.DropLayer.create(this);
                        this.addChild(i.node, e.ZOrder.card_hand), this.updateRoundButton();
                        for (var o = 1; o <= a._pHandCards.length; o++) {
                            var r = a._pHandCards[o];
                            r && r.updateActive(39999 != r._card._infoId)
                        }
                        this._dropLayer = i
                    }
                },e.prototype.finishDropHand = function () {
                },e.prototype.showStartCoin = function () {
                    this._player._isAttacker;
                    var e = this._player._isAttacker ? "z2" : "f2",
                        t = k.SpineUtil.createSpineAnim("ryb", "default", e, !1);
                    i.lc.addChildToCenter(this._node, t), i.lc.offset(t, 57, 13);
                    var n, a = this._player._isAttacker ? "bat_first_player" : "bat_first_oppo";
                    return this._node.runAction(i.lc.sequence(2.8, i.lc.callFunc(function () {
                        n = A.SpriteUtil.createSprite(a).node, i.lc.addChildToCenter(t, n), i.lc.offset(n, 135, 0), n.setScale(1.2), n.runAction(i.lc.sequence(i.lc.spawn(.2, i.lc.scaleTo(.3, 1)), .3, i.lc.fadeOut(.3), i.lc.callFunc(function () {
                            n.removeFromParent()
                        })))
                    }), 1, i.lc.callFunc(function () {
                    }))), L.lcAudio.playAudio(O.AUDIO.E_BAT_COIN_2), T.nox.scheduleTimeout(function () {
                        t.removeFromParent()
                    }, 4.5), 4.5
                },e.prototype.canOperateCard = function (e) {
                    var t = e._card._owner;
                    return t.getActionPlayer() != t ? (this._playerUi.sendEvent(_.PlayerUi.EventType.dialog_not_your_round, {}), !1) : !this._isAddingBoardCard || (this._playerUi.sendEvent(_.PlayerUi.EventType.dialog_adding_board_card, {}), !1)
                },e.prototype.showThinking = function () {
                },e.prototype.hideThinking = function () {
                },e.prototype.hideDropHand = function () {
                    if (this._dropLayer) {
                        this._dropLayer.removeFromParent(), this._dropLayer = null;
                        var e = this._player;
                        e == e.getActionPlayer() && (this._playerUi.updateCardsActive(), this.updateRoundButton())
                    }
                },e.prototype.exitScene = function (e) {
                    if (e = T.nox.D(e, s.BattleInputUtil._fromSceneId), this._node.stopAllActions(), cc.director.getScheduler().setTimeScale(1), P._guideID < 20) {
                        var t = Math.floor(P._guideID / 10) + 1;
                        t > 1 ? (m.GuideManager.setGuideIDandSave(101), L.lcAudio.playAudio(O.AUDIO.E_FLASH), x.SceneManager.replaceScene(j.ResSwitchScene.create(this._scene._sceneId, z.SceneId.city))) : (m.GuideManager.setGuideIDandSave(10 * t + 1, !0), this._scene.onBattleRecover(s.BattleInputUtil.genInputFromGuidance(t)))
                    } else P._guideID < 100 ? (m.GuideManager.setGuideIDandSave(101), L.lcAudio.playAudio(O.AUDIO.E_FLASH), x.SceneManager.replaceScene(j.ResSwitchScene.create(this._scene._sceneId, z.SceneId.city))) : (this._baseBattleType == d.Data.BattleType.base_guidance ? e = z.SceneId.city : m.GuideManager._hasNewCityGuide && (e = z.SceneId.city), x.SceneManager.replaceScene(j.ResSwitchScene.create(z.SceneId.battle, e)))
                },e.prototype.showPlayerOffline = function () {
                },e.prototype.showPlayerOnline = function () {
                },e.prototype.setGuideHelpButtonVisible = function (e) {
                },e.prototype.getEventDrag = function () {
                    if (null != this._eventLayer && null != this._eventLayer._val) {
                        var e = this._eventLayer._type;
                        if (e == I.BattleEventDialog.Type.guide_drag_to_card || e == I.BattleEventDialog.Type.guide_drag_to_pos || e == I.BattleEventDialog.Type.guide_drag_to_attack || e == I.BattleEventDialog.Type.guide_drag_to_defend || e == I.BattleEventDialog.Type.guide_drag) return this._eventLayer._val[0]
                    }
                    return null
                },e.prototype.getEventDragTo = function () {
                    if (null != this._eventLayer && null != this._eventLayer._val) {
                        var e = this._eventLayer._type;
                        if (e == I.BattleEventDialog.Type.guide_drag_to_card || e == I.BattleEventDialog.Type.guide_drag_to_pos || e == I.BattleEventDialog.Type.guide_drag_to_attack) return [this._eventLayer._val[1], e];
                        if (e == I.BattleEventDialog.Type.guide_drag_to_defend) return [null, e]
                    }
                    return [null, null]
                },e.prototype.getEventTap = function () {
                    var e = this._eventLayer;
                    if (null != e) {
                        var t = e._val;
                        if (null != t) {
                            e._type;
                            if (I.BattleEventDialog.Type.guide_tap) return t
                        }
                    }
                    return null
                },e.prototype.reverseThinking = function () {
                },e.prototype.opponentTimeOutAndOffline = function () {
                },e.prototype.removeExchangeArrow = function () {
                    this._arrow && (this._arrow.unSchedule(), this._arrow.removeFromParent(), this._arrow = null)
                },e.prototype.showCardAttack = function (t) {
                    if (!this._isAddingBoardCard) {
                        this._pAttackingCard = t, this._playerUi._player._attackingCard = t._card, t.updateZOrder(!0), t.updateBoardActive(), t._attackNode && t._attackNode.removeFromParent();
                        var n = R.BattleAtkDialog.create(this, t);
                        t._attackNode = n, this.addChild(n._node, e.ZOrder.high_priority_ui), this._battleAtkDialog = n, n._node.setPosition(new cc.Vec2(0, 0)), this.updateRoundButton()
                    }
                },e.prototype.hideCardAttack = function () {
                    var e = this._pAttackingCard;
                    null != e && (this._pAttackingCard = null, this._playerUi._player._attackingCard = null, e.updateZOrder(), e._ownerUi.updateBoardCardsActive(), e._attackNode && e._attackNode.removeFromParent(), this.updateRoundButton(), this._needSoftGuide)
                },e.prototype.updateCardZOrder = function () {
                    for (var e = 1; e <= 2; e++) for (var t = 1 == e ? this._playerUi : this._opponentUi, n = d.Data.MAX_CARD_COUNT_ON_BOARD + t._pGraveCards.length + t._pHandCards.length, a = 1; a <= n; a++) {
                        var i = null;
                        (i = n <= d.Data.MAX_CARD_COUNT_ON_BOARD ? t._pBoardCards[a] : n <= d.Data.MAX_CARD_COUNT_ON_BOARD + t._pGraveCards.length ? t._pGraveCards[a - d.Data.MAX_CARD_COUNT_ON_BOARD] : t._pHandCards[a - d.Data.MAX_CARD_COUNT_ON_BOARD - t._pGraveCards.length - 1]) && i.updateZOrder(!1)
                    }
                },e.create = function (t, n, a) {
                    var i = new e;
                    return i.init(t, n, a), i
                },e.converPosDeletaY = 58,e.s_bgRand = 1,e.PVP_ROUND_DURATION = 45,e.PVP_ROUND_OFFLINE_DURATION = 2,e.PVP_ROPE_DURATION = 15,e.PVP_RETREAT_DURATION = 90,e.BattleSpeed = [1.5, 2, 2.5],e.ShakeScreenType = {
                    effect_skill: 3,
                    to_board: 1,
                    equip_book: 2,
                    fortress_hurt: 13,
                    retreat: 21,
                    fortress_die: 12
                },e.Tag = {
                    remove_when_reset: 2e3,
                    hide_attack_zorder: 3002,
                    help_dialog: 1e3,
                    mask_layer_1v1: 3003,
                    hide_attack_pos: 3001,
                    retreat_dialog: 1001
                },e.ZOrder = {
                    ui: -10,
                    normal: 0,
                    action: 1,
                    card: 10,
                    card_board: 20,
                    card_hand: 30,
                    card_action: 40,
                    opetation_layer: 50,
                    cover_card_ui: 80,
                    effect: 100,
                    label: 110,
                    skill_label: 120,
                    card_touch: 200,
                    high_priority_ui: 300
                },e.LayerInfo = {
                    gridWidth: Math.min(Math.max(16, Math.floor(a.ViewConst.SCR_W / 64)), 21),
                    Scale: 1,
                    OffsetY: 0
                },e.Pos = {
                    round_btn_area: new cc.Vec2(a.ViewConst.SCR_W - 95 - a.ViewConst.SCR_EDGE - (i.lc.isIPhoneX() ? 38 : 8), a.ViewConst.SCR_H / 2 + 62),
                    energy_ball: new cc.Vec2(10, 5)
                },e
            }();
        n.BattleUi = ee, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../part/BonusPart": "BonusPart",
        "../../part/GuidePart": "GuidePart",
        "../../part/WorldPart": "WorldPart",
        "../../scene/ResSwitchScene": "ResSwitchScene",
        "../../scene/SceneManager": "SceneManager",
        "../../ui/common/ActiveIndicator": "ActiveIndicator",
        "../../ui/common/Dialog": "Dialog",
        "../../ui/form/ShareForm": "ShareForm",
        "../../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../ui/panel/CardInfoPanel": "CardInfoPanel",
        "../../utils/BattleInputUtil": "BattleInputUtil",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../data/BattleData": "BattleData",
        "../data/BattlleCardStatus": "BattlleCardStatus",
        "../data/PlayerBattle": "PlayerBattle",
        "../scene/BattleScene": "BattleScene",
        "./BattleAtkDialog": "BattleAtkDialog",
        "./BattleChatDialog": "BattleChatDialog",
        "./BattleDialog": "BattleDialog",
        "./BattleEventDialog": "BattleEventDialog",
        "./BattleLine": "BattleLine",
        "./BattleListDialog": "BattleListDialog",
        "./BattleResultDialog": "BattleResultDialog",
        "./BattleSettingDialog": "BattleSettingDialog",
        "./BattleTaskDialog": "BattleTaskDialog",
        "./CardSprite": "CardSprite",
        "./DropLayer": "DropLayer",
        "./PlayerUi": "PlayerUi",
        "./SelectTargetLayer": "SelectTargetLayer"
    }],
    BattlleCardStatus: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "db943rJ1LVLToNUHhkRcZCv", "BattlleCardStatus"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BattleCard"), i = e("../../data/data"), o = e("./BattleData"), r = e("../../data/CardHelper"),
            _ = function () {
                function e() {
                }

                return e.createCard = function (e, t) {
                    void 0 === t && (t = null);
                    var n = new a.default(e, t);
                    return n.resetOnce(), n._status = o.default.CardStatus.leave, n
                }, e.createCardByEvent = function (t) {
                    return e.createCard(t.c.id, 1)
                }, e.isSkillAddEnergy = function (e) {
                    return 6007 == e || 4002 == e || 1273 == e || 1386 == e || 5006 == e || 5007 == e || 5008 == e
                }, e.createSkill = function (e, t, n) {
                    void 0 === n && (n = null);
                    var a = i.Data._skillInfo[e];
                    return 2001 == e && cc.log(""), {
                        _id: e,
                        _level: t,
                        _maxLevel: Math.min(t, r.CardHelper.getSkillMaxLevel(e)),
                        _modes: a._modes,
                        _priority: a._priority,
                        _count: a._count,
                        _castTimes: 0,
                        _totalCastedTimes: 0,
                        _owner: n
                    }
                }, e.skillHasMode = function (t, n) {
                    for (var a = 0; a < t._modes.length; a++) if (t._modes[a] == n) return !0;
                    return n == i.Data.SkillMode.bcs2gl ? e.skillHasMode(t, i.Data.SkillMode.bcs2_) : n == i.Data.SkillMode.g2b && e.skillHasMode(t, i.Data.SkillMode.using)
                }, e.skillInfoHasRemoveMode = function (e, t) {
                    for (var n = 0; n < e._removeMode.length; n++) if (e._removeMode[n] == t) return !0;
                    return !1
                }, e.isMergeSkill = function (e) {
                    return 4048 == e._id
                }, e.isSkillChoiceSkill = function (e) {
                    return 3208 == e._id ? e._owner._owner._opponent.getBattleCards("B").length > 0 : 3037 == e._id || 3098 == e._id || 3108 == e._id || 3119 == e._id || 4007 == e._id || 4081 == e._id || 5081 == e._id
                }, e.isMonsterSkill = function (e) {
                    return e < 5e3
                }, e.isEffectSkill = function (e) {
                    return e >= 5e4 && e < 51e3
                }, e.isSkillModeCastedByOwner = function (e) {
                    return e >= i.Data.SkillMode.fortress_damaged
                }, e.throwCoin = function (e) {
                    var t = e._owner, n = 50;
                    return t._status != o.default.Status.round_end && t.getBattleCardsBySkills("S", [7078]).length > 0 && (n = 75), t.getRandomByHalo() <= n ? 1 : 0
                }, e.throwCoins = function (t, n, a) {
                    void 0 === a && (a = null);
                    for (var i = 0, o = 1; o <= n; o++) i += Math.pow(2, o - 1) * e.throwCoin(t);
                    return i
                }, e.getCoinFaceCount = function (e) {
                    for (var t = 0, n = 1; n <= 255; n++) {
                        var a = Math.pow(2, n - 1);
                        if (0 != (e & a) && (t += 1), a > e) break
                    }
                    return t
                }, e.getDamageByMonster = function (t, n, a, r, _) {
                    void 0 === _ && (_ = null), null != t._owner._nextMonsterSpellPowerFactor && t._status == o.default.CardStatus.board && (r *= t._owner._nextMonsterSpellPowerFactor), null != t._owner._nextSkillPowerFactor[a] && (r *= t._owner._nextSkillPowerFactor[a]), r += t.getExtraBaseDamageInRound(t._owner._round), 1 == n._pos && (r += t._owner._incMonsterDamageToMainRounds[t._owner._round] || 0), n._damageWithWeakness = null, n._damageWithResist = null;
                    var s = 0;
                    if (1 == n._pos || 1479 == a) {
                        for (var c = 1153 == a || 1345 == a, l = 1031 == a || 1107 == a || 1357 == a || 1837 == a, d = n._owner.getBattleCardsBySkills("B", [2002]), p = n._owner.getBattleCardsBySkills("B", [2025]), u = 0, g = 0; g < d.length; g++) d[g].getIsLostAbility() || (u += 1);
                        for (g = 0; g < p.length; g++) p[g].getIsLostAbility() || p[g].getBuffValue(!0, o.default.PositiveType.powerMark) || u + 1;
                        c = c || u > 0 && n._info._nature == i.Data._skillInfo[2002]._refCards[0] || u > 0, n.isBindedSkill(6032) || c || n._info._weakness != t._info._nature || (n._info._weaknessFactor >= 10 ? (r += n._info._weaknessFactor, n._damageWithWeakness = !0) : n._info._weaknessFactor > 0 && (s = r, r *= n._info._weaknessFactor, n._damageWithWeakness = !0)), n._info._resist == t._info._nature && !l && n._info._resistFactor > 0 && (r = Math.max(0, r - n._info._resistFactor), n._damageWithResist = !0)
                    }
                    if (r = r + (_ || 0) + t.getExtraDamageInRound(t._owner._round), null != t._owner._exDamageInBattleByNature[t._info._nature] && (r += t._owner._exDamageInBattleByNature[t._info._nature]), n._damageWithWeakness) {
                        var h = e.mergeTable([t._owner.getBattleCardsBySkills("B", [2048]), t._owner._opponent.getBattleCardsBySkills("B", [2048])]);
                        for (g = 0; g < h.length; g++) if (!h[g].getIsLostAbility()) {
                            r += i.Data._skillInfo[2048]._val[0];
                            break
                        }
                        if (s > 0) for (p = e.mergeTable([t._owner.getBattleCardsBySkills("B", [2052]), t._owner._opponent.getBattleCardsBySkills("B", [2052])]), g = 0; g < p.length; g++) if (!p[g].getIsLostAbility()) {
                            r += s * (i.Data._skillInfo[2052]._val[2] - 2);
                            break
                        }
                    }
                    var f = r;
                    if (null != n._damageExtraAdjust[n._owner._round]) for (var m in n._damageExtraAdjust[n._owner._round]) for (var y in n._damageExtraAdjust[n._owner._round][m]) {
                        if ((P = n._damageExtraAdjust[n._owner._round][m][y]) && P._adjustVal && P._adjustVal > 0 && (r += P._adjustVal), P && null != P._forceVal && (null == P._condition || P._condition(f))) {
                            r = P._forceVal;
                            break
                        }
                    }
                    if (Math.max(0, r) < f && (n._damageWithResist = !0), null != (t._binds[0] && t._binds[0]._skills[0])) {
                        var T = i.Data._skillInfo[t._binds[0]._skills[0]._id], S = T._val[0] || 0, C = T._val[1] || 0;
                        6002 == T._refId || 6012 == T._refId ? t._owner != n._owner && 1 == n._pos && (r += S) : 6022 == T._refId ? t._owner != n._owner && 1 == n._pos && (t._info._originId == T._refCards[0] ? r += C : r += S) : 6029 == T._refId ? t._owner != n._owner && n.hasBuff(!1, o.default.NegativeType.sleep) && (r += S) : 6033 == T._refId ? t._info._level < n._info._level && (r += S) : 6041 == T._refId ? t._owner != n._owner && 1 == n._pos && (r += S) : 6045 == T._refId && t._owner != n._owner && 1 == n._pos && (r += t._info._level > 0 ? C : S)
                    }
                    f = Math.max(0, r - t.getDecDamageInRound(t._owner._round)), r = Math.max(0, r - (n._owner._decMonsterDamageOppoRounds[n._owner._opponent._round] || 0));
                    var v = null;
                    if (n._binds[0] && (v = n._binds[0]._skills[0]), null != v) {
                        var b = i.Data._skillInfo[v._id], E = b._val[0] || 0,
                            I = n._owner.getBattleCardsByOriginId("B", b._refCards[0]);
                        6003 == b._refId ? t._owner != n._owner && (r -= E) : 6051 == b._refId && I.length > 0 && (r -= E * I.length)
                    }
                    if (null != n._damageExtraAdjust[n._owner._round]) for (var m in n._damageExtraAdjust[n._owner._round]) for (var y in n._damageExtraAdjust[n._owner._round][m]) {
                        var P;
                        if ((P = n._damageExtraAdjust[n._owner._round][m][y]) && P._adjustVal && P._adjustVal < 0 && (r += P._adjustVal), P && null != P._forceVal && (null == P._condition || P._condition(f))) {
                            r = P._forceVal;
                            break
                        }
                    }
                    return Math.max(0, r) < f && (n._damageWithResist = !0), r
                }, e.getDamageByEffect = function () {
                }, e.isAlive = function (e) {
                    return null != e && e.isAlive()
                }, e.getMaxHpCard = function (e) {
                    for (var t = null, n = -1, a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        null != i._hp && i._hp > n && (t = i, n = i._hp)
                    }
                    return null == t ? e[0] : t
                }, e.getMinHpCard = function (e, t) {
                    void 0 === t && (t = !1);
                    for (var n = null, a = 2147483647, i = 1; i <= e.length; i++) {
                        var o = e[i - 1];
                        null != o._hp && o._hp < a && (!t || o._hp < o._maxHp + o._haloedMaxHpInc) && (n = o, a = o._hp)
                    }
                    return null == n ? e[0] : n
                }, e.getMaxAtkCard = function (e) {
                    for (var t = null, n = -1, a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        null != i._atk && i._atk > n && (t = i, n = i._atk)
                    }
                    return null == t ? e[0] : t
                }, e.getMinAtkCard = function (e) {
                    for (var t = null, n = 2147483647, a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        null != i._atk && i._atk < n && (t = i, n = i._atk)
                    }
                    return t
                }, e.getMinPowerCard = function (e) {
                    for (var t = null, n = 2147483647, a = 1; a <= e.length; a++) {
                        var i = e[a - 1], r = i.getBuffValue(!0, o.default.PositiveType.powerMark);
                        "number" == typeof r && r < n && (n = r, t = i)
                    }
                    return t
                }, e.sortCardsByAtk = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) t.push(e[n - 1]);
                    return t.sort(function (e, t) {
                        return null != e._atk && null == t._atk ? -1 : null == e._atk && null != t._atk ? 1 : null == e._atk && null == t._atk ? e._infoId - t._infoId : e._atk > t._atk ? -1 : e._atk < t._atk ? 1 : t._hp - e._hp
                    }), t
                }, e.sortCardsByStar = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) null != e[n - 1]._info._star && t.push(e[n - 1]);
                    return t.sort(function (e, t) {
                        return e._info._star > t._info._star ? -1 : e._info._star < t._info._star ? 1 : e._atk > t._atk ? -1 : e._atk < t._atk ? 1 : t._hp - e._hp
                    }), t
                }, e.splitCardsByCategory = function () {
                }, e.filterInTypeCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._type == t && n.push(i)
                    }
                    return n
                }, e.filterInCategoryCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._category == t && n.push(i)
                    }
                    return n
                }, e.filterNotInCategoryCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._category != t && n.push(i)
                    }
                    return n
                }, e.filterInNatureCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._nature == t && n.push(i)
                    }
                    return n
                }, e.filterNotInNatureCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._nature != t && n.push(i)
                    }
                    return n
                }, e.filterInKeywordCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._keyword == t && n.push(i)
                    }
                    return n
                }, e.filterInStatusCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._status == t && n.push(i)
                    }
                    return n
                }, e.filterInLevelCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._level == t && n.push(i)
                    }
                    return n
                }, e.filterAtkEqualCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._atk == t && n.push(i)
                    }
                    return n
                }, e.filterDefEqualCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._hp == t && n.push(i)
                    }
                    return n
                }, e.filterAtkLessThanCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        null != i._atk && i._atk <= t && n.push(i)
                    }
                    return n
                }, e.filterDefLessThanCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a];
                        null != i._hp && i._hp <= t && n.push(i)
                    }
                    return n
                }, e.filterOriginAtkLessThanCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        !i.isAtkHide() && null != i._maxAtk && i._maxAtk <= t && n.push(i)
                    }
                    return n
                }, e.filterOriginDefLessThanCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a];
                        !i.isDefHide() && null != i._maxHp && i._maxHp <= t && n.push(i)
                    }
                    return n
                }, e.filterBindedCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a._binds.length > 0 && t.push(a)
                    }
                    return t
                }, e.filterNotBindedCards = function (e, t, n) {
                    for (var a = [], i = 1; i <= e.length; i++) {
                        var r = e[i - 1];
                        n && (r.hasShieldInType(o.default.PositiveType.shieldMagic) || r.hasSkills([6009])) || r.isBinded(t) || a.push(r)
                    }
                    return a
                }, e.filterCanActionCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a.canAction() && t.push(a)
                    }
                    return t
                }, e.filterCannotActionCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a.canAction() || t.push(a)
                    }
                    return t
                }, e.filterNotActionedCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a.canAction() && t.push(a)
                    }
                    return t
                }, e.filterHasSameInGraveCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a._owner.getBattleCards("G", a._infoId).length + a._owner._opponent.getBattleCards("G", a._infoId).length > 0 && t.push(a)
                    }
                    return t
                }, e.filterInMagicTrapTypeCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._info._type == t && n.push(i)
                    }
                    return n
                }, e.filterAtkBiggerCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        (t && i._atk > i._hp || !t && i._atk < i._hp) && n.push(i)
                    }
                    return n
                }, e.filterCanSpecialSummonCards = function (e, t) {
                    void 0 === t && (t = !1);
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._owner.canSpecialSummon(i, t) && n.push(i)
                    }
                    return n
                }, e.filterNormalSummonCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._summonStatusVal && (t && i._summonStatusVal == o.default.CardStatusVal.h2b_normal || !t && i._summonStatusVal != o.default.CardStatusVal.h2b_normal) && (n[n.length] = i)
                    }
                    return n
                }, e.filterTrapInTypeCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var o = e[a - 1];
                        i.Data._trapInfo[o._infoId]._type == t && n.push(o)
                    }
                    return n
                }, e.filterTrapNotInTypeCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var o = e[a - 1];
                        i.Data._trapInfo[o._infoId]._type != t && n.push(o)
                    }
                    return n
                }, e.filterDyingCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i.isDying() == t && n.push(i)
                    }
                    return n
                }, e.filterUsingCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i && i.isUsing() == t && n.push(i)
                    }
                    return n
                }, e.filterToOppoBoardCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i && i.isToOppoBoard() == t && n.push(i)
                    }
                    return n
                }, e.filterNoSkillCards = function (e, t) {
                    void 0 === t && (t = null);
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        null != i && (null != t ? i.hasSkills([t]) || n.push(i) : 0 == i._skills.length && n.push(i))
                    }
                    return n
                }, e.filterNotEqualInfoIdCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._infoId != t && n.push(i)
                    }
                    return n
                }, e.filterNoShieldCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i.hasShieldInType(t) || n.push(i)
                    }
                    return n
                }, e.filterNoShieldExCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i.hasShieldExInType(t) || n.push(i)
                    }
                    return n
                }, e.filterEffectCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        (t && i._skills.length > 0 || !t && 0 == i._skills.length) && n.push(i)
                    }
                    return n
                }, e.filterNotViewedCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        a._trapViewed || t.push(a)
                    }
                    return t
                }, e.filterSameAtkCards = function (e) {
                    for (var t = [], n = {}, a = 1; a <= e.length; a++) {
                        var i = e[a - 1], o = i._atk;
                        null != o && (null == n[o] ? n[o] = [i] : n[o][n[o].length] = i)
                    }
                    for (var r in n) {
                        var _ = n[r];
                        if (_.length > 1) for (a = 0; a < _.length; a++) t[t.length + 1] = _[a]
                    }
                    return t
                }, e.filterTokenCards = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) {
                        var a = e[n - 1];
                        null != a._info._option && (a._info._option & i.Data.CardOption.is_token) > 0 && t.push(a)
                    }
                    return t
                }, e.filterStarLessThanSumOfOthers = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        for (var i = e[a - 1], o = 0, r = 1; r <= t.length; r++) t[r - 1] != i && (o += t[r - 1].getStar());
                        o >= i.getStar() && (n[n.length] = i)
                    }
                    return n
                }, e.filterFirstCards = function (e, t) {
                    for (var n = [], a = 1; a <= Math.min(t, e.length); a++) {
                        var i = e[a - 1];
                        n[n.length] = i
                    }
                    return n
                }, e.filterOwnerCards = function (e, t) {
                    for (var n = [], a = 1; a <= e.length; a++) {
                        var i = e[a - 1];
                        i._owner == t && (n[n.length] = i)
                    }
                    return n
                }, e.prototype.filterCardsByRandomInfo = function () {
                }, e.isSummon = function (e) {
                    return e.isMonster() && e._destStatus == o.default.CardStatus.board && e._statusVal != o.default.CardStatusVal.b2b_oppo_forever
                }, e.isNormalSummon = function (t) {
                    return e.isSummon(t) && t._statusVal == o.default.CardStatusVal.h2b_normal
                }, e.isSpecialSummon = function (t) {
                    return e.isSummon(t) && t._statusVal != o.default.CardStatusVal.h2b_normal
                }, e.isOppoSummon = function (t, n) {
                    return t._owner != n._owner && e.isSummon(n)
                }, e.isOppoNormalSummon = function (t, n) {
                    return t._owner != n._owner && e.isNormalSummon(n)
                }, e.isOppoSpecialSummon = function (t, n) {
                    return t._owner != n._owner && e.isSpecialSummon(n)
                }, e.isDeal = function (e) {
                    return e._sourceStatus == o.default.CardStatus.pile && e._destStatus == o.default.CardStatus.hand
                }, e.isOppoDeal = function (t, n) {
                    return t._owner != n._owner && e.isDeal(n)
                }, e.isTrapTriggering = function (e) {
                    return e._type == i.Data.CardType.trap && e._destStatus == o.default.CardStatus.show
                }, e.isOppoTrapTriggering = function (t, n) {
                    return t._owner != n._owner && e.isTrapTriggering(n)
                }, e.isOppoTrapTriggeringOnSelfMonster = function (t, n) {
                    if (!e.isOppoTrapTriggering(t, n)) return !1;
                    var a = n.hasSkills([5094, 5097]) ? n._trapTarget2 : n._trapTarget;
                    return null != a && a.isMonster() && a._owner == t._owner
                }, e.isOppoTrapTriggeringOnOppoMonster = function (t, n) {
                    if (!e.isOppoTrapTriggering(t, n)) return !1;
                    var a = n.hasSkills([5094, 5097]) ? n._trapTarget2 : n._trapTarget;
                    return null != a && a.isMonster() && a._owner == n._owner
                }, e.isNeedCharacterCardByBattleType = function (e) {
                    return e == i.Data.BattleType.PVP_clash_npc || e == i.Data.BattleType.PVP_clash || e == i.Data.BattleType.PVP_ladder_npc || e == i.Data.BattleType.PVP_ladder || e == i.Data.BattleType.PVP_room
                }, e.isOppoMagicCasting = function (t, n) {
                    return t._owner != n._owner && e.isMagicCasting(n) && 0 != i.Data._skillInfo[n._skills[0]._id]._isIgnoreDefend
                }, e.isOppoMagicCastingOnSelfMonster = function (t, n) {
                    return !!e.isOppoMagicCasting(t, n) && (!!n.hasSkills([4129, 7057]) || null != n._magicTarget && n._magicTarget.isMonster() && n._magicTarget._owner == t._owner)
                }, e.isOppoMagicCastingOnOppoMonster = function (t, n) {
                    return e.isOppoMagicCasting(t, n) && null != n._magicTarget && n._magicTarget.isMonster() && n._magicTarget._owner == n._owner
                }, e.isMonsterLeftBoard = function (e) {
                    return e.isMonster() && e._sourceStatus == o.default.CardStatus.board && e._destStatus != o.default.CardStatus.board
                }, e.isSelfMonsterLeftBoard = function (t, n) {
                    return t._owner == n._owner && e.isMonsterLeftBoard(n)
                }, e.isMonsterDestroyed = function (t) {
                    return e.isMonsterLeftBoard(t) && (t._destStatus == o.default.CardStatus.grave || t._destStatus == o.default.CardStatus.leave)
                }, e.isSelfMonsterDestroyed = function (t, n) {
                    return t._owner == n._owner && e.isMonsterDestroyed(n)
                }, e.isMagicLeftBoard = function (e) {
                    return e._type == i.Data.CardType.magic && e._sourceStatus == o.default.CardStatus.show && e._destStatus != o.default.CardStatus.show
                }, e.isMagicDestroyed = function (t) {
                    return e.isMagicLeftBoard(t) && (t._destStatus == o.default.CardStatus.grave || t._destStatus == o.default.CardStatus.leave)
                }, e.isTrapLeftBoard = function (e) {
                    return !1
                }, e.isTrapDestroyed = function (e) {
                    return !1
                }, e.isCardLeftBoard = function (t) {
                    return e.isMonsterLeftBoard(t) || e.isMagicLeftBoard(t) || e.isTrapLeftBoard(t)
                }, e.isCardDestroyed = function (t) {
                    return e.isMonsterDestroyed(t) || e.isMagicDestroyed(t) || e.isTrapDestroyed(t)
                }, e.isSelfCardDestroyed = function (t, n) {
                    return t._owner == n._owner && e.isCardDestroyed(n)
                }, e.isCardToLeave = function (e) {
                    return e._destStatus == o.default.CardStatus.leave
                }, e.isSelfCardToLeave = function (t, n) {
                    return t._owner == n._owner && e.isCardToLeave(n)
                }, e.isFortressDamaged = function (e) {
                    return e._type == i.Data.CardType.fortress && e._sourceStatus == o.default.CardStatus.fortress && e._destStatus == o.default.CardStatus.fortress
                }, e.isSelfFortressDamaged = function (t, n) {
                    return t._owner == n._owner && e.isFortressDamaged(n)
                }, e.mergeTable = function (e) {
                    for (var t = [], n = 1; n <= e.length; n++) for (var a = 1; a <= e[n - 1].length; a++) t.push(e[n - 1][a - 1]);
                    return t
                }, e.reverseTable = function (e) {
                    for (var t = [], n = e.length; n >= 1; n--) t[t.length] = e[n - 1];
                    return t
                }, e.isSwap = function (e, t, n) {
                    if (t < n - 1) {
                        for (var a = t; a <= n - 1; a++) if (e[a] == e[n]) return !1
                    } else for (a = t; a >= n - 1; a--) if (e[a] == e[n]) return !1;
                    return !0
                }, e.permutateTable = function (e) {
                    var t = [];
                    return this.fullPermutation(e, 1, e.length, t), t
                },e.getChoiceByCandidatePos = function (e, t) {
                    for (var n = 0, a = 1, i = 1; i <= e.length; i++) e[i - 1]._tempIndex = a, a += 1;
                    for (i = 0; i < t.length; i++) n += Math.pow(2, t[i]._tempIndex - 1);
                    for (i = 1; i <= e.length; i++) e[i - 1]._tempIndex = null;
                    return n
                },e.isStatusChange = function (e, t, n, a, i) {
                    for (var o = 1; o <= e; o++) {
                        if (t[o] != a[o]) return !0;
                        if (typeof n[o - 1] != typeof i[o - 1]) return !0;
                        if ("number" == typeof n[o - 1] && n[o - 1] != i[o - 1]) return !0;
                        if (n[o - 1] instanceof Array) {
                            if (n[o - 1].length != i[o - 1].length) return !0;
                            for (var r = 0, _ = 0, s = 1; s <= n[o - 1].length; s++) r += n[o - 1][s - 1], _ += i[o - 1][s - 1];
                            if (r != _) return !0
                        }
                    }
                    return !1
                },e.parseOperations = function (e, t) {
                    var n = 0, a = [];
                    if (null == e) return a;
                    for (; ;) {
                        0 != n && (n += 1);
                        var i = {_type: e[n] || 0, _ids: []};
                        e[n += 1];
                        if (n += 1, 0 == i._type) break;
                        var o = e[n];
                        if (o > 0) for (var r = 0; r < o; r++) n += 1, i._ids.push(e[n]);
                        a.push(i)
                    }
                    return a
                },e._lastAccount = null,e.isMagicCasting = function (e) {
                    return e._type == i.Data.CardType.magic && (e._destStatus == o.default.CardStatus.show || e._statusVal == o.default.CardStatusVal.h2g_magic)
                },e.fullPermutation = function (e, t, n, a) {
                    if (t >= n) {
                        for (var i = [], o = 1; o <= e.length; o++) i[i.length + 1] = e[o];
                        a[a.length + 1] = i
                    } else for (var r = t; r <= n; r++) if (this.isSwap(e, t, r)) {
                        var _ = e[t];
                        e[t] = e[r], e[r] = _, this.fullPermutation(e, t + 1, n, a);
                        var s = e[t];
                        e[t] = e[r], e[r] = s
                    }
                },e
            }();
        n.B = _, cc._RF.pop()
    }, {
        "../../data/CardHelper": "CardHelper",
        "../../data/data": "data",
        "./BattleCard": "BattleCard",
        "./BattleData": "BattleData"
    }],
    BehaviorTree: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "64bd2QtqHVI1qIjIqEJAYCq", "BehaviorTree");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            var t;
            (function (e) {
                e[e.BH_INVALID = -1] = "BH_INVALID", e[e.BH_SUCCESS = 0] = "BH_SUCCESS", e[e.BH_FAILURE = 1] = "BH_FAILURE", e[e.BH_RUNNING = 2] = "BH_RUNNING", e[e.BH_ABORTED = 3] = "BH_ABORTED"
            })(t = e.Status || (e.Status = {}));
            var n = function () {
                function e() {
                    this.m_eStatus = t.BH_INVALID
                }

                return e.prototype.update = function () {
                    return cc.assert(!1, "no implemetation"), t.BH_INVALID
                }, e.prototype.onInitialize = function () {
                }, e.prototype.onTerminate = function (e) {
                }, e.prototype.tick = function () {
                    return this.m_eStatus != t.BH_RUNNING && this.onInitialize(), this.m_eStatus = this.update(), this.m_eStatus != t.BH_RUNNING && this.onTerminate(this.m_eStatus), this.m_eStatus
                }, e.prototype.reset = function () {
                    this.m_eStatus = t.BH_INVALID
                }, e.prototype.abort = function () {
                    this.onTerminate(t.BH_ABORTED), this.m_eStatus = t.BH_ABORTED
                }, e.prototype.isTerminated = function () {
                    return this.m_eStatus == t.BH_SUCCESS || this.m_eStatus == t.BH_FAILURE
                }, e.prototype.isRunning = function () {
                    return this.m_eStatus == t.BH_RUNNING
                }, e.prototype.getStatus = function () {
                    return this.m_eStatus
                }, e
            }();
            e.Behavior = n;
            var i = function (e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return n.m_pChild = t, n
                }

                return a(t, e), t
            }(n);
            e.Decorator = i;
            var o = function (e) {
                function n(t) {
                    return e.call(this, t) || this
                }

                return a(n, e), n.prototype.setCount = function (e) {
                    this.m_iLimit = e
                }, n.prototype.onInitialize = function () {
                    this.m_iCounter = 0
                }, n.prototype.update = function () {
                    for (; this.m_pChild.tick(), this.m_pChild.getStatus() != t.BH_RUNNING;) {
                        if (this.m_pChild.getStatus() == t.BH_FAILURE) return t.BH_FAILURE;
                        if (++this.m_iCounter == this.m_iLimit) return t.BH_SUCCESS;
                        this.m_pChild.reset()
                    }
                    return t.BH_INVALID
                }, n
            }(i);
            e.Repeat = o;
            var r = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.m_Children = [], t
                }

                return a(t, e), t.prototype.addChild = function (e) {
                    this.m_Children.push(e)
                }, t.prototype.removeChild = function (e) {
                    this.m_Children.splice(this.m_Children.indexOf(e), 1)
                }, t.prototype.clearChildren = function () {
                    this.m_Children = []
                }, t
            }(n);
            e.Composite = r;
            var _ = function (e) {
                function n() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(n, e), n.prototype.onInitialize = function () {
                    this.m_CurrentChild = 0
                }, n.prototype.update = function () {
                    for (; ;) {
                        var e = this.m_Children[this.m_CurrentChild].tick();
                        if (e != t.BH_SUCCESS) return e;
                        if (++this.m_CurrentChild >= this.m_Children.length) return t.BH_SUCCESS
                    }
                    return cc.assert(!1, "impossible"), t.BH_INVALID
                }, n
            }(r);
            e.Sequence = _;
            var s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.addCondition = function (e) {
                    this.m_Children.unshift(e)
                }, t.prototype.addAction = function (e) {
                    this.m_Children.push(e)
                }, t
            }(_);
            e.Filter = s;
            var c, l = function (e) {
                function n() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(n, e), n.prototype.onInitialize = function () {
                    this.m_Current = 0
                }, n.prototype.update = function () {
                    for (; ;) {
                        var e = this.m_Children[this.m_Current].tick();
                        if (e != t.BH_FAILURE) return e;
                        if (++this.m_Current >= this.m_Children.length) return t.BH_FAILURE
                    }
                    return cc.assert(!1, "impossible"), t.BH_INVALID
                }, n
            }(r);
            e.Selector = l, function (e) {
                e[e.RequireOne = 0] = "RequireOne", e[e.RequireAll = 1] = "RequireAll"
            }(c = e.Policy || (e.Policy = {}));
            var d = function (e) {
                function n(t, n) {
                    var a = e.call(this) || this;
                    return a.m_eSuccessPolicy = t, a.m_eFailurePolicy = n, a
                }

                return a(n, e), n.prototype.update = function () {
                    for (var e = 0, n = 0, a = 0; a < this.m_Children.length; ++a) {
                        var i = this.m_Children[a];
                        if (i.isTerminated() || i.tick(), i.getStatus() == t.BH_SUCCESS && (++e, this.m_eSuccessPolicy == c.RequireOne)) return t.BH_SUCCESS;
                        if (i.getStatus() == t.BH_FAILURE && (++n, this.m_eFailurePolicy == c.RequireOne)) return t.BH_FAILURE
                    }
                    return this.m_eFailurePolicy == c.RequireAll && n == this.m_Children.length ? t.BH_FAILURE : this.m_eSuccessPolicy == c.RequireAll && e == this.m_Children.length ? t.BH_SUCCESS : t.BH_RUNNING
                }, n.prototype.onTerminate = function (e) {
                    for (var t = 0; t < this.m_Children.length; ++t) {
                        var n = this.m_Children[t];
                        n.isRunning() && n.abort()
                    }
                }, n
            }(r);
            e.Parallel = d;
            var p = function (e) {
                function t() {
                    return e.call(this, c.RequireOne, c.RequireOne) || this
                }

                return a(t, e), t.prototype.addCondition = function (e) {
                    this.m_Children.unshift(e)
                }, t.prototype.addAction = function (e) {
                    this.m_Children.push(e)
                }, t
            }(d);
            e.Monitor = p;
            var u = function (e) {
                function n() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(n, e), n.prototype.onInitialize = function () {
                    this.m_Current = this.m_Children.length
                }, n.prototype.update = function () {
                    var n = this.m_Current;
                    e.prototype.onInitialize.call(this);
                    var a = e.prototype.update.call(this);
                    return n != this.m_Children.length && this.m_Current != n && this.m_Children[n].onTerminate(t.BH_ABORTED), a
                }, n
            }(l);
            e.ActiveSelector = u
        }(n.bt1 || (n.bt1 = {})), cc._RF.pop()
    }, {}],
    BlurredLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c1292dflOBFRaxkB1hATn7Z", "BlurredLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseComponent"), i = e("../../../noxEvent"), o = e("../../utils/SpriteUtil"),
            r = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this), this.scheduleOnce(function () {
                        t.director_after_blur.dispatchEvent()
                    }, .01)
                }, t.prototype.onDisable = function () {
                    e.prototype.onDisable.call(this)
                }, t.create = function (e) {
                    var n = o.SpriteUtil.createLayerColor(cc.color(0, 0, 0, e), 8192, 8192);
                    return n.name = "BlurredLayer", n.addComponent(t)
                }, t.director_after_blur = new i.noxEvent0, t
            }(a.BaseComponent);
        n.BlurredLayer = r, cc._RF.pop()
    }, {
        "../../../noxEvent": "noxEvent",
        "../../BaseComponent": "BaseComponent",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    BonusBoxPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "16bf2Fi8iBNPbfXRggWNBbw", "BonusBoxPanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../AllViewTypes"), o = e("../node/NodeWithShaderButton"),
            r = e("../../ClientView"), _ = e("./BasePanel"), s = e("../../ClientData"), c = e("../../utils/SpineUtil"),
            l = e("../../GuideManager"), d = e("../../data/data"), p = e("../../config/UICfg"), u = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.BonusBoxPanel) || this
                }

                return __extends(t, e), t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t.prototype.init = function (e, t) {
                    var n = this;
                    this._bonus = e, this._isHave = t;
                    var i = o.NodeWithShaderButton.createShaderButton(null, function () {
                        n.onClaimBonus(n._bonus)
                    });
                    this._button = i, this._button.setContentSize(cc.size(300, 300)), a.lc.addChildToCenter(this.getRootNode(), i), this._spriteAnim = c.SpineUtil.createSpineAnim("baoxiang", "huangjin", "animation2", !0), a.lc.addChildToCenter(this._button, this._spriteAnim), a.lc.offset(this._spriteAnim, -30, -50), this._button.opacity = 0, this._button.runAction(a.lc.spawn(a.lc.fadeIn(.2), a.lc.sequence(a.lc.delay(.1), a.lc.scaleTo(.15, 1.3), a.lc.scaleTo(.15, 1)))), l.GuideManager.addContainerLayer(l.GuideManager.createNpcTipLayer(d.Data._storyInfo[801], !0, !1, null, 0)), l.GuideManager.createNpcTipLayer(d.Data._storyInfo[801], !0, !1, null, 0)._closeHandler = function () {
                        a.lc.addChildToCenter(l.GuideManager.createFinger(!1, cc.v2(p.UICfg.SCR_W, p.UICfg.SCR_CH), null, null).node, null)
                    }
                }, t.prototype.onClaimBonus = function (e) {
                    this._bonus = e, this.hide(), r.ClientView.showClaimBonusResult(this._bonus, s.ClientData.claimBonus(this._bonus))
                }, t
            }(_.BasePanel);
        n.BonusBoxPanel = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/SpineUtil": "SpineUtil",
        "../AllViewTypes": "AllViewTypes",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "./BasePanel": "BasePanel"
    }],
    BonusPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "afa62OZkPBIEqccwOw4Luts", "BonusPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendTeachingFinish = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_TEACHING_FINISH, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_teaching_finish_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.appendGuideIdIfNeed(t), a.NetUtil.sendProtoMsg(t)
            }, e.sendSevenBonusClaimBonus = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_NEW_RECHARGE_CLAIM;
                var i = n.addExtensions_Bonus_pb_SglBonusMsg_bonus_new_recharge_claim_req();
                i.bonus_id = e, i.day = t, a.NetUtil.appendGuideIdIfNeed(n), a.NetUtil.sendProtoMsg(n)
            }, e.sendClaimOpenServerBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CLAMI_OPEND_SERVER_BONUS, t.addExtensions_User_pb_SglUserMsg_user_climed_open_server_req().info_id = e, a.NetUtil.sendProtoMsg(t)
            }, e.sendCustonClaimBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_ACTIVITY_CLAIM;
                var n = t.addExtensions_Buy_pb_SglBuyMsg_activity_claim_req();
                n.activity_id = e._type, n.gear = e._infoId + "", a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimOnlineBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ONLINE_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimVipExBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CLAIM_VIPEX_BONUS, t.setExtensions_Bonus_pb_SglBonusMsg_claim_vipex_bonus_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendNewSuitBagsBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FUND_PACKAGE_BONUS_ONLINE_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimSuperGrowthFund = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SUPER_GROW_FUND_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSupplyMonthCheckinBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_RE_CHECK_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimServerBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ACTIVITY_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_activity_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimServerBySendBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_CLAIM_GIFT, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_activity_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendClaimRoseSendBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_CLAIM_ROSE, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_activity_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetRoseRank = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_POINT_RANK, a.NetUtil.sendProtoMsg(e)
            }, e.sendClaimActivityBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ACTIVITY_EX_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBonusRequest = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_PLAYER_BONUS, a.NetUtil.sendProtoMsg(e)
            }, e.sendResetFundTask = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_DAILY_TASK_RESET, t.setExtensions_Bonus_pb_SglBonusMsg_daily_task_reset_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendOnlineLimiteBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_ONLINE, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_glod_time_num_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendOnlineLimiteBonus2 = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_ONLINE_TWO, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_glod_time_num_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendPrimeTimeDiscount = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_ONSALE, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_glod_time_num_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendPrimeTimeJingJiZhiMen = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_BATTLE, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_glod_time_num_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.monitors = ["sendClaimActivityBonus", "sendClaimServerBySendBonus", "sendClaimServerBonus", "sendNewSuitBagsBonus", "sendClaimOnlineBonus", "sendClaimSuperGrowthFund", "sendCustonClaimBonus", "sendClaimOpenServerBonus", "sendClaimBonus"]
        })(n.BonusPart || (n.BonusPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    BonusWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ec6a4/wmbtLJbYaeoRT0MWx", "BonusWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../noxcc"), o = e("../../utils/SpriteUtil"), r = e("../../../leocool/lc"),
            _ = e("../node/NodeWithLabel"), s = e("../../ClientView"), c = e("../../config/UICfg"),
            l = e("../../../leocool/lcStr"), d = e("../../utils/TimeUtil"), p = e("../../data/data"),
            u = e("../../utils/UIUtil"), g = e("../../StringEnums"), h = e("./IconWidget"), f = e("../../ClientData"),
            m = e("../../GuideManager"), y = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    o.SpriteUtil.addScale9Sprite(this.getRoot(), "img_bonus_bg");
                    var a = o.SpriteUtil.createSprite({
                        _name: "img_bonus_title_bg",
                        _crect: cc.rect(1, 0, 5, 35),
                        _size: cc.size(345, 35)
                    }).node;
                    a.setPosition(r.lc.aleft(this.getRoot()) + r.lc.asw(a), r.lc.atop(this.getRoot()) - 10 - r.lc.astop(a)), this.addProtectedChild(a), this._titleBg = a;
                    var i = _.NodeWithLabel.createWithTTF("", c.UICfg.TTF_FONT, c.UICfg.FontSize.S2);
                    i.color = c.UICfg.COLOR_TEXT_LIGHT, i.setPosition(r.lc.aleft(a) + r.lc.asw(i), 0), i.width = a.width - 30, i._label.overflow = cc.Label.Overflow.SHRINK, a.addChild(i), this._title = i;
                    var s = _.NodeWithLabel.createWithTTF("", c.UICfg.TTF_FONT, c.UICfg.FontSize.S2);
                    if (s.color = c.UICfg.COLOR_TEXT_TITLE_DESC, a.addChild(s), this._desc = s, null != e._id) {
                        var l = _.NodeWithLabel.createTTF("", c.UICfg.FontSize.S2, c.UICfg.COLOR_TEXT_TITLE);
                        l.setAnchorPoint(1, .5), r.lc.addChildToPosAR(this.getRoot(), l, cc.v2(r.lc.aright(this.getRoot()) - 50, a.y)), this._time = l
                    }
                    this.setBonus(e, t, n)
                }, t.prototype.setBonus = function (e, t, n) {
                    this._bonus = e;
                    var a = this._title;
                    a.setString(t || l.lcStr(e._info._nameSid)), a.x = r.lc.aleft(a.parent) + r.lc.asw(a) + 20;
                    var i = this._desc;
                    i.setString(r.lc.D(n, "")), i.setPosition(r.lc.aright(i.parent) + r.lc.asw(i) + 6, r.lc.y(a));
                    var o = this._time;
                    null != o && o.setString(d.TimeUtil.getTimeAgo(e._timestamp)), s.ClientView.checkNewFlag(this.node, 0), this.removeAllChildren(), this._time = null, this._tip = null, this._progBar = null, this.addBonusItems(r.lc.bottom(this._titleBg)), this.addButton(r.lc.bottom(this._titleBg) + 12);
                    var g = e._info;
                    if (null != g) if (g._type == p.Data.BonusType.online || g._type == p.Data.BonusType.facebook) {
                        var h = _.NodeWithLabel.createTTF("", c.UICfg.FontSize.S1, c.UICfg.COLOR_TEXT_WHITE);
                        h.setScale(.8), h.setAnchorPoint(1, 0), r.lc.addChildToPosAR(this.getRoot(), h, cc.v2(r.lc.right(this._button), r.lc.top(this._button) + 2)), this._tip = h
                    } else if (g._val > 0 && !e.isChapter() && !e.isTeach() && 809 != e._info._cid && 811 != e._info._cid && 3003 != e._info._cid) {
                        var f = u.UIUtil.createLabelProgressBar(170);
                        r.lc.addChildToPosAR(this.getRoot(), f, cc.v2(r.lc.aright(this.getRoot()) - r.lc.asright(f) - 20, r.lc.top(this._titleBg) - r.lc.ash(f) + 6)), this._progBar = f
                    }
                    this.updateView()
                }, t.prototype.onEnable = function () {
                    var e = this;
                    e._listener = p.Data.Event.bonus_dirty.addListener(e, function (t) {
                        t._bonus == this._bonus && e.updateView()
                    })
                }, t.prototype.onDisable = function () {
                    this._listener.remove(), this._listener = null
                }, t.prototype.update = function (e) {
                    this._bonus && this._bonus._info && this._bonus._info._type == p.Data.BonusType.online && this.updateOnlineBonusTip()
                }, t.prototype.onDestroy = function () {
                    this.clear()
                }, t.prototype.clear = function () {
                    this.removeAllChildren(), this._button = null
                }, t.prototype.updateOnlineBonusTip = function () {
                    var e, t = this._bonus, n = this._bonus._info, a = t.getPrevBonus();
                    null == a || a._isClaimed ? t._isClaimed || t.canClaim() ? this._tip.setString("") : ((e = Math.ceil(n._val - t._value)) < 0 && (e = 0), this._tip.setString(string.format(l.lcStr(g.STR.CLAIM_AFTER1), d.TimeUtil.formatPeriod(e)))) : ((e = n._val - (a ? a._info._val : 0)) < 0 && (e = 0), this._tip.setString(string.format(l.lcStr(g.STR.CLAIM_AFTER2), d.TimeUtil.formatPeriod(e, 1))))
                }, t.prototype.addBonusItems = function (e) {
                    this._bonusPos = cc.v2(r.lc.aleft(this.getRoot()) + 40, -20);
                    var t = [], n = [], a = this._bonus._info;
                    if (null != a) for (var i = a._rid, _ = a._level, s = a._count, d = (a._isFragment, 0); d < i.length; d++) {
                        var p = i[d];
                        if (1 == p || 2 == p || 3 == p || 4 == p || 7 == p || 8 == p || 14 == p || 7111 == p || 7105 == p) n.push(this.addIconSmall(p, s[d])); else (f = h.IconWidget.create({
                            _infoId: p,
                            _level: _[d],
                            _count: s[d]
                        }, h.IconWidget.DisplayFlag.COUNT)).getNameLabel().node.color = r.lc.Color3B.black, f.getRoot().setScale(.8), f.addNewHighLight(), t.push(f)
                    } else if (this._bonus._extraBonus) for (d = 0; d < this._bonus._extraBonus.length; d++) {
                        var f, m = this._bonus._extraBonus[d], y = m._infoId;
                        if (1 == y || 2 == y || 3 == y || 4 == y || 7 == y || 8 == y || 14 == y || 7111 == y || 7105 == y) n.push(this.addIconSmall(y, m._count)); else (f = h.IconWidget.create(m, h.IconWidget.DisplayFlag.COUNT)).getRoot().setScale(.8), f.getNameLabel().node.color = r.lc.Color3B.white, f.getNameLabel().node.active = !1, t.push(f)
                    }
                    P.sortResultItems(t);
                    var T = r.lc.aright(this.getRoot()) - 500, S = e - 2;
                    for (d = 0; d < t.length; d++) {
                        f = t[d];
                        var C = T + r.lc.asw(f.getRoot()), v = S - r.lc.astop(f.getRoot()) + 4;
                        f.node.setPosition(C, v), this.getRoot().addChild(f.node, 2), f.getRoot().zIndex = 2, T = T + r.lc.sw(f.getRoot()) + 10, f.checkHighlight()
                    }
                    if (t.length > 0) {
                        var b = 4 * r.lc.sw(t[0].getRoot()) + 0 + 8, E = r.lc.sh(t[0].getRoot()) + 8,
                            I = o.SpriteUtil.createSprite({
                                _name: "img_com_bg_58",
                                _crect: c.UICfg.CRECT_COM_BG58,
                                _size: cc.size(b, E)
                            }).node, A = r.lc.aright(this.getRoot()) - 500 - 4 + r.lc.asw(I), R = t[0].getRoot().y;
                        r.lc.addChildToPosAR(this.getRoot(), I, cc.v2(A, R)), I.opacity = 127, this._extraBg = I;
                        var B = u.UIUtil.createTTF(l.lcStr(g.STR.ADDITION_BONUS), c.UICfg.FontSize.S2, c.UICfg.COLOR_TEXT_ORANGE);
                        R = r.lc.top(I) + 2 + r.lc.ash(B), r.lc.addChildToPosAR(this.getRoot(), B, cc.v2(A, R)), this._extraTitle = B
                    }
                }, t.prototype.addIconSmall = function (e, t) {
                    var n;
                    n = e > 1e3 ? o.SpriteUtil.createSprite(f.ClientData.getPropIconName(e, !1)).node : o.SpriteUtil.createSprite(f.ClientData.getResIconName(e, !1)).node, r.lc.addChildToPosAR(this.getRoot(), n, this._bonusPos);
                    var a = u.UIUtil.createBMFont(c.UICfg.BMFont.huali_26, t);
                    return r.lc.addChildToPosAR(n, a, cc.v2(r.lc.aright(n) + 1 + r.lc.asw(a), 0)), this._bonusPos.x += r.lc.w(n) + r.lc.w(a) + 1 + 20, n
                }, t.prototype.addButton = function (e) {
                    var t = this, n = u.UIUtil.createScale9ShaderButton("img_btn_green", function (e) {
                        null != t._callback && t._callback(t._bonus);
                        var n = m.GuideManager.getCurStepName();
                        "claim task" == n || n.indexOf("goto task") >= 0 ? m.GuideManager.finishStepLater() : "novice claim" == n && m.GuideManager.finishStep(), null != e._softGuideFinger && m.GuideManager.releaseFinger()
                    }, c.UICfg.CRECT_BUTTON_S, 170, 84);
                    n.addLabel("", null, c.UICfg.FontSize.M2), n.setDisabledShader(c.UICfg.SHADER_DISABLE), r.lc.addChildToPosAR(this.getRoot(), n, cc.v2(r.lc.aright(this.getRoot()) - r.lc.asw(n) - 20, e - r.lc.astop(n)), 1), this._button = n
                }, t.prototype.registerCallback = function (e) {
                    this._callback = e
                }, t.prototype.updateView = function () {
                    var e = this._bonus, t = this._bonus._info, n = e.canClaim();
                    if (this._progBar) {
                        t._cid;
                        var a = e._value, o = t._val;
                        this._progBar.setPercent(Math.floor(100 * a / o)), this._progBar.setBarColor(n ? r.lc.Color3B.green : r.lc.Color3B.white);
                        var _ = this.isProgGold(e);
                        this._progBar.setLabelString(Math.min(a, o), o, _), i.noxcc.setActive(this._progBar, !e._isClaimed)
                    }
                    if (this._tip && (t._type == p.Data.BonusType.online ? this.updateOnlineBonusTip() : i.noxcc.setLabelString(this._tip, "")), this._button && (e._isClaimed && (i.noxcc.setButtonInteractable(this._button, !1), i.noxcc.setLabelString(this._button._label, l.lcStr(g.STR.CLAIMED))), this.checkNewFlag(this.node, 0), !e._isClaimed)) if (n) {
                        if (i.noxcc.setButtonInteractable(this._button, !0), null != e._claimTimesMax) {
                            var s = e._value - e._claimTimes;
                            i.noxcc.setLabelString(this._button._label, 1 == s ? l.lcStr(g.STR.CLAIM) : l.lcStr(g.STR.CLAIM_ALL));
                            var c = this.checkNewFlag(this.node, s, -32, -20, 1);
                            null != c && (c.setSpriteFrame("img_new_g"), e._info._type == p.Data.BonusType.invite && r.lc.offset(c, 55, 14))
                        } else i.noxcc.setLabelString(this._button._label, l.lcStr(g.STR.CLAIM));
                        this._button.setDisplayFrame("img_btn_green")
                    } else this.isButtonShowGo(this._bonus) ? (i.noxcc.setButtonInteractable(this._button, !0), i.noxcc.setLabelString(this._button._label, l.lcStr(g.STR.GO)), this._button.setDisplayFrame("img_btn_blue")) : (i.noxcc.setButtonInteractable(this._button, !1), i.noxcc.setLabelString(this._button._label, l.lcStr(g.STR.CLAIM)))
                }, t.prototype.isProgGold = function (e) {
                    return e._info._type == p.Data.BonusType.gold_cost || e._info._type == p.Data.BonusType.gold_gain
                }, t.prototype.isButtonShowGo = function (e) {
                    var t = e._value;
                    return (101 != e._cid || e._type == p.Data.BonusType.novice) && 301 != t && 302 != t && 304 != t && 401 != t && 402 != t && 404 != t && e._type != p.Data.BonusType.online && e._type != p.Data.BonusType.fund_7days && e._type != p.Data.BonusType.fund_all && e._type != p.Data.BonusType.fund_level && e._type != p.Data.BonusType.invite && e._type != p.Data.BonusType.level && e._type != p.Data.BonusType.bottle && e._type != p.Data.BonusType.login_day && !p.Data.isPersonalFund(e._id)
                }, t.prototype.checkNewFlag = function () {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                }, t.prototype.adjustPosition = function (e) {
                    e && (this._button.y = 15, this._button.setContentSize(cc.size(170, 50)), this._button._label.y = 25)
                }, t.prototype.getButton = function () {
                    return this._button
                }, t.prototype.getTitle = function () {
                    return this._title
                }, t.create = function (e, n, a, i) {
                    var o = r.lc.createNode();
                    o.setContentSize(e, 130);
                    var _ = o.addComponent(t);
                    return _.init(n, a, i), _
                }, t
            }(e("../../BaseComponent").BaseComponent);
        n.BonusWidget = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "./IconWidget": "IconWidget"
    }],
    Bonus: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "40bffuk+LhLv7holtEpgebv", "Bonus"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../utils/TimeUtil"), o = function () {
            function e(e) {
                this._infoId = e, this._info = a.Data._bonusInfo[e], 0 != e ? (null == this._info && cc.assert(!1, "fatal error"), this._type = this._info._type) : this._type = 0, this._value = 0, this._isClaimed = !1
            }

            return e.prototype.sendBonusDirty = function (e) {
                void 0 === e && (e = null), a.Data.Event.bonus_dirty.dispatchEvent({
                    _bonus: this,
                    _lastValue: e
                }), this._value >= this._info._val && !this._isDefaultClaimable && (this._isDefaultClaimable = !0)
            }, e.prototype.setValue = function (e) {
                return e != this._value && (this._value = e, !0)
            }, e.prototype.isChapter = function () {
                var e = this._info._cid;
                return 103 == e || 104 == e || 105 == e || 810 == e
            }, e.prototype.isTeach = function () {
                return this._info._type == a.Data.BonusType.teach
            }, e.prototype.isWeekPackage = function () {
                return !1
            }, e.prototype.isDouble = function () {
                var e = this._info;
                if (e && e._type == a.Data.BonusType.fund_7days && this.canClaim() && e._val > 1) {
                    var t = P.getIapLastBuyTime(a.Data.PurchaseType.fund_sign_in);
                    if (t) if (i.TimeUtil.getDiffDay(t) + 1 == e._val) return !0
                }
                return !1
            }, e.prototype.canClaim = function () {
                var e = this._info;
                if (!(this._value >= e._val && e._val > 0 && !this._isClaimed)) return !1;
                if (e._type == a.Data.BonusType.online) {
                    var t = this.getPrevBonus();
                    if (null != t && !t._isClaimed) return !1
                } else if (e._type == a.Data.BonusType.invite) return this._claimTimes < this._claimTimesMax && this._value > this._claimTimes && !this._isClaimed;
                return !0
            }, e.prototype.getPrevBonus = function () {
                var e = this._info, t = P._playerBonus._bonuses[e._id - 1];
                return null != t && t._info._type != this._type && (t = null), t
            }, e
        }();
        n.Bonus = o, cc._RF.pop()
    }, {"../../utils/TimeUtil": "TimeUtil", "../data": "data"}],
    BoxProgressBar: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "40b5ehzUmNK4pfF66sV9hlU", "BoxProgressBar"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../StaticPrefabMgr"), i = e("../../../noxcc"), o = e("../../utils/SpriteUtil"),
            r = e("../../../leocool/lc"), _ = e("../../utils/UIUtil"), s = e("../../config/UICfg"),
            c = e("../../../nox"), l = e("../../../../comp/LongTouchComp"), d = e("./RewardsTip"),
            p = e("../../utils/SpineUtil"), u = ["qingtong", "baiyin", "huangjin", "bojin", "zuanshi"],
            g = function () {
                function e() {
                    this.node = i.noxcc.instantiate(a.StaticPrefabMgr.getBoxProgressBar())
                }

                return e.prototype.init = function (e, t, n, a, g) {
                    var h = this;
                    this._data = e, this._isNotStart = g, this.node.setContentSize(cc.size(t, 20)), this.node.getComponent(cc.ProgressBar).totalLength = t;
                    var f = this.node.getChildByName("bar");
                    f.setPosition(r.lc.asleft(this.node), f.y), f.setContentSize(cc.size(t, 15)), i.noxcc.setProgressBarValue(this.node, 0), this._nodes = [];
                    for (var m = function (f) {
                        var m = e[f], y = t * (f / (e.length - 1));
                        g && (y = t * (m._val / 100));
                        var T = o.SpriteUtil.createSprite(m._darkSpr);
                        r.lc.addChildToPosLB(h.node, T.node, cc.v2(y, 7));
                        var S = _.UIUtil.createTTF(m._str || m._val.toString(), s.UICfg.FontSize.S3, s.UICfg.COLOR_TEXT_WHITE);
                        r.lc.addChildToPosLB(h.node, S, cc.v2(y, 5 - c.nox.ch(S)));
                        var C = p.SpineUtil.createSpineAnim("baoxiang", u[f], "animation", !0);
                        C._claimed = m._claimed;
                        var v = i.noxcc.newNode("chestBtn"), b = v.addComponent(cc.Button);
                        v.addComponent(l.LongTouchComp), b.target = C, b.transition = cc.Button.Transition.SCALE, b.zoomScale = .95, v.removeFromParent(), r.lc.addChildToCenter(C, v), v.setContentSize(cc.size(120, 140)), i.noxcc.addClick(v, h, function (e) {
                            n && n(e, f)
                        }), r.lc.addChildToPosLB(h.node, C, cc.v2(y, 65)), v._spine = C, v._index = f, v._bonus = a[f]._info, i.noxcc.addLongTouchBegin(v, h, function (n) {
                            var i = d.RewardsTip.create(a[f], h._isNotStart);
                            i.setName("rewardsTip");
                            var o = i.getNode(), _ = i.getTargetParent();
                            if (h._isNotStart) {
                                y = t * (m._val / 100);
                                var s = cc.v2(y, -r.lc.ch(C) - 30), l = r.lc.convertPosAR(s, h.node, _);
                                i.getNode().setAnchorPoint(.5, .5);
                                var p = r.lc.cw(o);
                                return l.x + p > r.lc.aright(_) && (l.x = r.lc.aright(_) - p + 60), l = r.lc.convertPosAR(l, _, h.node), void r.lc.addChildToPosLB(h.node, o, cc.v2(l.x, -r.lc.ch(C) - 30))
                            }
                            y = t * (f / (e.length - 1)), r.lc.addChildToPosLB(h.node, o, cc.v2(y, r.lc.y(C) + 100)), h._isNotStart || 0 != f || c.nox.offsetBy(o, 50)
                        }), i.noxcc.addLongTouchEnd(b, h, function () {
                            i.noxcc.find("rewardsTip", h.node).removeFromParent(!0)
                        }), h._nodes.push({_val: m._val, _point: T.node, _spine: C})
                    }, y = 0; y < e.length; y++) m(y)
                }, e.prototype.update = function (e) {
                    var t = e / this._data[this._data.length - 1]._val;
                    i.noxcc.setProgressBarValue(this.node, t);
                    for (var n = 0; n < this._nodes.length; n++) {
                        var a = this._nodes[n];
                        e >= a._val && o.SpriteUtil.setSprite(a._point, "light_point"), e < a._val ? p.SpineUtil.setSpineAnim(a._spine, "baoxiang", u[n], "animation", !0) : a._spine._claimed ? p.SpineUtil.setSpineAnim(a._spine, "baoxiang", u[n], "animation3", !0) : p.SpineUtil.setSpineAnim(a._spine, "baoxiang", u[n], "animation2", !0)
                    }
                }, e.prototype.updateData = function (e, t) {
                    this._data = e, this._bonuses = t;
                    for (var n = 0; n < e.length; n++) this._nodes[n]._spine._claimed = e[n]._claimed
                }, e.createBoxProgressBar = function (t, n, a, i, o) {
                    var r = new e;
                    return o ? r.init(t, n, a, i, o) : r.init(t, n, a, i), r
                }, e
            }();
        n.BoxProgressBar = g, cc._RF.pop()
    }, {
        "../../../../comp/LongTouchComp": "LongTouchComp",
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../config/UICfg": "UICfg",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "./RewardsTip": "RewardsTip"
    }],
    BuyPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f465ecoXotKk4203zCWoart", "BuyPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil"), i = e("../../nox"), o = e("../sdk/SdkManager");
        (function (e) {
            e.sendTurnBox = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BOX_TURN_TABLE_LOTTERY, t.setExtensions_Buy_pb_SglBuyMsg_turn_table_count(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCustomXunBao1 = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TREASURE_LOTTERY, t.setExtensions_Buy_pb_SglBuyMsg_treasure_count(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCustomLottery = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TURN_TABLE_LOTTERY, t.setExtensions_Buy_pb_SglBuyMsg_turn_table_count(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSevenColorTreasureChest = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REFESH_OPEN_BOX, a.NetUtil.sendProtoMsg(e)
            }, e.sendOpenTreasureBox = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_BOX;
                var i = n.addExtensions_User_pb_SglUserMsg_user_open_box_req();
                i.num = t, i.info_id = e, a.NetUtil.sendProtoMsg(n)
            }, e.sendLeiYaWheel = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TREASURE_LOTTERY_3, t.setExtensions_Buy_pb_SglBuyMsg_turn_table_count_3(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBuySkin = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_SKIN, n.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), n.setExtensions_Shop_pb_SglShopMsg_shop_buy_type_req(t), a.NetUtil.sendProtoMsg(n)
            }, e.sendBuyGold = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_GOLD, t.setExtensions_Buy_pb_SglBuyMsg_buy_gold_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBuyGrain = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_GRAIN, a.NetUtil.sendProtoMsg(e)
            }, e.sendBuyDust = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_DUST;
                var i = n.addExtensions_Buy_pb_SglBuyMsg_buy_dust_req();
                i.id = e, i.grade = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBuyGoods = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_DAILY;
                var i = n.addExtensions_Buy_pb_SglBuyMsg_buy_daily_req();
                i.id = e, i.count = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBuyWeekPackage = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_GIFT_PACK, t.setExtensions_Buy_pb_SglBuyMsg_buy_gift_pack_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBuySuperGrowthFund = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SUPER_GROW_FUND, t.setExtensions_Buy_pb_SglBuyMsg_buy_super_grow_fund(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendIAPStartReq = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_IAP_START, t.setExtensions_Buy_pb_SglBuyMsg_iap_start_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendIAPFinishReq = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_IAP_FINISH;
                var t = e.addExtensions_Buy_pb_SglBuyMsg_iap_finish_req();
                t.purchase_id = i.nox.D(o.SdkManager._purchaseId, "0"), t.is_success = !1, t.fail_desc = "", a.NetUtil.sendProtoMsg(e)
            }
        })(n.BuyPart || (n.BuyPart = {})), cc._RF.pop()
    }, {"../../nox": "nox", "../sdk/SdkManager": "SdkManager", "../utils/NetUtil": "NetUtil"}],
    CapturePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "39362JI1BJH+ZMTLgW5qO5S", "CapturePanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../utils/MsgCenter"),
            s = e("../../data/data"), c = e("../../GuideManager"), l = e("../../scene/SceneManager"),
            d = e("../../ClientView"), p = e("../../const/ZOrder"), u = e("../../../leocool/lc"),
            g = e("../../const/SceneId"), h = e("../../AudioEnums"), f = e("../../../leocool/lcAudio"),
            m = e("../../StringEnums"), y = e("../../../leocool/lcStr"), T = e("../../ToastManager"),
            S = e("../widget/CardThumbnail"), C = e("../../utils/SpriteUtil"), v = e("../../ClientData"),
            b = e("../../utils/UIUtil"), E = e("../../config/UICfg"), I = e("../node/NodeWithShaderButton"),
            A = e("./CardInfoPanel"), R = e("../../utils/CardUtil"), B = e("../common/Dialog"),
            N = e("../../utils/TimeUtil"), D = e("../../part/WorldPart"), U = e("../form/DepotForm"),
            M = e("../../../nox"), k = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.CapturePanel) || this;
                    return t._listeners = [], t._monster = null, t._shadow = null, t._btnCapture = null, t._btnMonster = null, t._bigBtnLeave = null, t._btnLeave = null, t._btnBag = null, t._ballIcon = null, t._btnGiveUp = null, t._capturePanel = null, t._timesLabel = null, t._timeLabel = null, t._rateLabel = null, t._schedulerID = null, t
                }

                return a(t, e), t.prototype.init = function (t) {
                    e.prototype.init.call(this);
                    this._isForce = !0, this._levelId = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this._exploreInfo = P._playerWorld.getExploreInfo(this._levelId), this._monsterId = this._exploreInfo._monsterId, this._ballId = P._playerWorld._lastUsedBallId;
                    var t = this._levelId % 100 > 5 ? this._levelId % 100 - 5 : this._levelId % 100;
                    this._bgStr = "bat_scene_" + t + "_bg_4x";
                    var n = r.noxcc.find("capture_bg", this.mRoot);
                    C.SpriteUtil.setSprite(n, this._bgStr)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._isShowResourceUI = !0, t.showCapture(), _.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 1), t._listeners = [], t._listeners.push(c.GuideManager.Event.seek.addListener(t, function () {
                        t.onGuide()
                    })), c.GuideManager.isGuideEnabled() && c.GuideManager.finishStepLater(), l.SceneManager.isInBattleScene() && (r.noxcc.setZIndex(d.ClientView.getResourceUI().node, p.ZOrder.form + 1), t.mRoot.addChild(d.ClientView.getResourceUI().node)), t.mRoot.runAction(u.lc.sequence(0, function () {
                        d.ClientView.getResourceUI().setMode(t._ballId)
                    }))
                }, t.prototype.onExit = function () {
                    this._schedulerID && (M.nox.unscheduleInterval(this._schedulerID), this._schedulerID = null);
                    var t = l.SceneManager.getRunningScene();
                    l.SceneManager.getRunningSceneId() == g.SceneId.battle && (d.ClientView.removeResourceFromParent(), t._battleUi._capturedMonster = this._capturedMonster), _.MsgCenter.removeMsgListener(this);
                    for (var n = 0; n < this._listeners.length; ++n) this._listeners[n].remove();
                    l.SceneManager.getRunningSceneId() == g.SceneId.battle && d.ClientView.removeResourceFromParent(), d.ClientView.getResourceUI().setMode(s.Data.ResType.gold), e.prototype.onExit.call(this), l.SceneManager.getRunningSceneId() == g.SceneId.battle ? t._battleUi.showResult() : l.SceneManager.getRunningSceneId() == g.SceneId.expedition && (t.updateChapters(), d.ClientView.getResourceUI().setMode(s.Data.PropsId.explore_token), t.updateChapterPanel(P._playerWorld.getChapterId(this._levelId), this._levelId))
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CATCH) {
                        var t = e.getExtensions_World_pb_SglWorldMsg_world_explore_monster_resp();
                        d.ClientView.getActiveIndicator().hide(), this.updateCatchTimes(), f.lcAudio.playAudio(h.AUDIO.E_EXPLORE_CATCH);
                        var n = string.format("skin%02d", this._ballId - s.Data.PropsId.ball_begin);
                        this.mRoot.getChildByName("animation") && this.mRoot.getChildByName("animation").removeFromParent();
                        var a = r.noxcc.findSkeleton("zjl", this.mRoot), i = r.noxcc.findSkeleton("zjl1", this.mRoot),
                            o = r.noxcc.findSkeleton("zjl2", this.mRoot);
                        a.defaultSkin = n, i.defaultSkin = n, o.defaultSkin = n, a.node.active = !1, i.node.active = !1, o.node.active = !1;
                        var _ = t, c = this;
                        if (0 != t) c._capturedMonster = _, a.node.active = !0, a.setAnimation(0, "aninmation1", !1), c._monster.runAction(u.lc.sequence(.3, u.lc.scaleTo(.3, 0), .6, function () {
                            f.lcAudio.playAudio(h.AUDIO.E_CAPTURE_SUCCESS)
                        }, 5.93, function () {
                            T.ToastManager.push(string.format(y.lcStr(m.STR.CAPTURE_SUCCESS), y.lcStr(s.Data._monsterInfo[_]._nameSid))), c.updateRate(), o.node.active = !0, o.setAnimation(0, "aninmation3", !1)
                        }, .6, function () {
                            var e = S.CardThumbnail.create(_, P._playerCard.getSkinId(_));
                            e.node.scale = .6, u.lc.addChildToPosAR(c.mRoot, e.node, cc.v2(15, 80), 2), c.afterSuccessCapture()
                        }, .3, function () {
                        })), c._shadow.runAction(u.lc.sequence(.3, u.lc.scaleTo(.3, 0))); else {
                            var l = r.noxcc.instantiate(i.node);
                            l.name = "animation", u.lc.addChildToCenter(c.mRoot, l), l.active = !0, l.getComponent(sp.Skeleton).setAnimation(0, "aninmation2", !1), c._monster.runAction(u.lc.sequence(.3, u.lc.scaleTo(.3, 0), .3, function () {
                                f.lcAudio.playAudio(h.AUDIO.E_CAPTURE_FAIL)
                            }, 2.5, u.lc.scaleTo(.2, 1.2), function () {
                                T.ToastManager.push(y.lcStr(m.STR.CAPTURE_FAILED)), c.toggleButtonsEnable(!0), c.updateRate()
                            })), c._shadow.runAction(u.lc.sequence(.3, u.lc.scaleTo(.3, 0), 2.8, u.lc.scaleTo(.2, 1)))
                        }
                        return !0
                    }
                    return !1
                }, t.prototype.onGuide = function (e) {
                    "click fight" == c.GuideManager.getCurStepName() && (P._guideID = c.GuideManager.getGuideIDByStepName("capture monster")), "capture monster" == c.GuideManager.getCurStepName() ? c.GuideManager.setOperateLayer(this._btnCapture.node, null, [this._btnMonster]) : "leave capture" == c.GuideManager.getCurStepName() && (c.GuideManager.setOperateLayer(this._bigBtnLeave || this._btnLeave), !0, this.mRoot.runAction(u.lc.sequence(1, function () {
                        this._bigBtnLeave && (this._bigBtnLeave.getComponent(cc.Button).interactable = !0)
                    }.bind(this))))
                }, t.prototype.showCapture = function () {
                    this.addCapturePanel(), this.addButtons(), this.addTimes(), this.addRate(), this.addClock(), this.addMonster()
                }, t.prototype.addCapturePanel = function () {
                    var e = r.noxcc.find(this.mRoot, "capture_info");
                    this._capturePanel = e
                }, t.prototype.addButtons = function () {
                    var e = this;
                    e._btnLeave = r.noxcc.find("back_btn", e._capturePanel), r.noxcc.addClick(e._btnLeave, e, function () {
                        e.onLeave()
                    }), e._btnBag = r.noxcc.find("bag_btn", e._capturePanel), r.noxcc.addClick(e._btnBag, e, function () {
                        e.onOpenBag()
                    }), e._btnCapture = r.noxcc.findButton("capture_btn", e._capturePanel), r.noxcc.addClick(e._btnCapture, e, function () {
                        e._ballId >= 7054 && e._ballId <= 7059 && !P._propBag.hasProps(e._ballId, 1) || e.onCapture()
                    }), e._ballIcon = r.noxcc.find("ball_icon", e._btnCapture.node), C.SpriteUtil.setSprite(e._ballIcon, v.ClientData.getPropBigIconName(e._ballId)), e._btnGiveUp = r.noxcc.find("give_up", e.mRoot), r.noxcc.addClick(e._btnGiveUp, e, function () {
                        e.onGiveUp()
                    })
                }, t.prototype.addTimes = function () {
                    var e = b.UIUtil.createTTFBold(string.format(y.lcStr(m.STR.CAPTURE_REMAIN_TIMES), this._exploreInfo._maxCatchTimes - this._exploreInfo._curCatchTimes, this._exploreInfo._maxCatchTimes), E.UICfg.FontSize.S2);
                    u.lc.addChildToPosAR(this._capturePanel.getChildByName("capture_info_left"), e, cc.v2(165, 38)), this._timesLabel = e, e.scaleX = -1
                }, t.prototype.addRate = function () {
                    var e = b.UIUtil.createTTFBold(y.lcStr(m.STR.CAPTURE_RATE) + P._playerWorld.calCapturePossibility(this._levelId, this._ballId) + "%", E.UICfg.FontSize.S2);
                    u.lc.addChildToPosAR(this._capturePanel.getChildByName("capture_info_right"), e, cc.v2(165, 38)), this._rateLabel = e
                }, t.prototype.addClock = function () {
                    var e = this, t = r.noxcc.find("time/timeLabel", e.mRoot);
                    e._timeLabel = t, e.updateTime(), this._schedulerID && (M.nox.unscheduleInterval(this._schedulerID), this._schedulerID = null), e._schedulerID = M.nox.scheduleInterval(function () {
                        e.updateTime()
                    }, 1)
                }, t.prototype.addMonster = function () {
                    var e = this,
                        t = R.CardUtil.CardTransfiguration.create(e._monsterId, null, null, s.Data._monsterInfo[e._monsterId]._hp, 0)._node;
                    t.setScale(.75), u.lc.addChildToPosAR(e.mRoot, t, cc.v2(0, 60), 1);
                    var n = I.NodeWithShaderButton.createShaderButton(null, function () {
                        A.CardInfoPanel.create(e._monsterId, 1, A.CardInfoPanel.OperateType.view).show()
                    });
                    n.setContentSize(t.getContentSize()), u.lc.addChildToCenter(t, n, -1), e._monster = t, e._btnMonster = n;
                    var a = C.SpriteUtil.createSprite("capture_shadow").node;
                    u.lc.addChildToPosAR(e.mRoot, a, cc.v2(u.lc.x(t), u.lc.y(t) - 80)), e._shadow = a
                }, t.prototype.onCapture = function () {
                    this._exploreInfo._maxCatchTimes <= this._exploreInfo._curCatchTimes ? T.ToastManager.push(y.lcStr(m.STR.CAPTURE_TIMES_NOT_ENOUGH)) : P._propBag.hasProps(this._ballId, 1) ? (this.toggleButtonsEnable(!1), P._propBag.changeProps(this._ballId, -1), d.ClientView.getActiveIndicator().show(y.lcStr(m.STR.WAITING)), P._playerWorld.catch(this._levelId, this._ballId), "capture monster" == c.GuideManager.getCurStepName() && (c.GuideManager.finishStep(), c.GuideManager.showOperateLayer())) : d.ClientView.showResExchangeForm(this._ballId)
                }, t.prototype.onOpenBag = function () {
                    var e = this, t = U.DepotForm.create(s.Data.PropsType.ball);
                    t.setUseCallback(function () {
                        t.hide(), e._ballId = P._playerWorld._lastUsedBallId, C.SpriteUtil.setSprite(e._ballIcon, v.ClientData.getPropBigIconName(e._ballId)), d.ClientView.getResourceUI().setMode(e._ballId), e.updateRate()
                    }), t.show()
                }, t.prototype.onLeave = function () {
                    this.hide(), "leave capture" == c.GuideManager.getCurStepName() && c.GuideManager.finishStep()
                }, t.prototype.hide = function () {
                    e.prototype.hide.call(this)
                }, t.prototype.onGiveUp = function () {
                    var e = this;
                    B.Dialog.showDialog(y.lcStr(m.STR.CAPTURE_CONFIRM_GIVEUP), function () {
                        e.toggleButtonsEnable(!1), D.WorldPart.sendWorldCatchCancel(e._levelId), P._playerWorld.removeExploreInfo(e._levelId, !1), e.hide()
                    })
                }, t.prototype.updateTime = function () {
                    r.noxcc.setLabelString(this._timeLabel, N.TimeUtil.formatTime(this._exploreInfo._disappearTime - N.TimeUtil.getCurrentTime())), this._exploreInfo._disappearTime - N.TimeUtil.getCurrentTime() <= 0 && (this._btnCapture.enabled = !1)
                }, t.prototype.updateRate = function () {
                    this._rateLabel.setString(y.lcStr(m.STR.CAPTURE_RATE) + P._playerWorld.calCapturePossibility(this._levelId, this._ballId) + "%")
                }, t.prototype.updateCatchTimes = function () {
                    this._timesLabel.setString(string.format(y.lcStr(m.STR.CAPTURE_REMAIN_TIMES), this._exploreInfo._maxCatchTimes - this._exploreInfo._curCatchTimes, this._exploreInfo._maxCatchTimes))
                }, t.prototype.toggleButtonsEnable = function (e) {
                    r.noxcc.setButtonInteractable(this._btnCapture, e), r.noxcc.setButtonInteractable(this._btnLeave, e), r.noxcc.setButtonInteractable(this._btnBag, e), r.noxcc.setButtonInteractable(this._btnGiveUp, e)
                }, t.prototype.afterSuccessCapture = function () {
                    var e = this;
                    r.noxcc.setActive(e._btnCapture.node, !1), r.noxcc.setButtonInteractable(e._btnLeave, !1), e._bigBtnLeave = r.noxcc.find("back2_btn", e._capturePanel), r.noxcc.setActive(e._bigBtnLeave, !0), r.noxcc.addClick(e._bigBtnLeave, e, function () {
                        e.onLeave()
                    }), c.GuideManager.isGuideEnabled() && e.toggleButtonsEnable(!1), "in capture" == c.GuideManager.getCurStepName() && (c.GuideManager.showOperateLayer(!1), c.GuideManager.finishStepLater(.5))
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePanel);
        n.CapturePanel = k, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../const/ZOrder": "ZOrder",
        "../../data/data": "data",
        "../../part/WorldPart": "WorldPart",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../common/Dialog": "Dialog",
        "../form/DepotForm": "DepotForm",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../widget/CardThumbnail": "CardThumbnail",
        "./BasePanel": "BasePanel",
        "./CardInfoPanel": "CardInfoPanel"
    }],
    CardHelper: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "785c1ZFJmJCQbTp+vIGVLiN", "CardHelper"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./data"), i = function () {
            function e() {
            }

            return e.getCardQuality = function (e) {
                return e._info._quality || -1
            }, e.getCardReputation = function (e) {
                return e._info._reputation
            }, e.getCardCost = function (e) {
                return e._type == a.Data.CardType.monster ? e._info._cost : 0
            }, e.getCardStar = function (e, t) {
                return void 0 === t && (t = null), null == t && (t = e._info._star || 0), t
            }, e.getCardFrameId = function (e) {
                if (e._type != a.Data.CardType.monster) return 0
            }, e.getSkillFightingFactor = function (e, t, n, a, i) {
            }, e.getSkillMaxLevel = function (e) {
                for (var t = a.Data._skillInfo[e], n = 1; n <= t._val.length; n++) if (0 == t._val[n - 1]) return Math.max(1, n - 1);
                return t._val.length
            }, e.getCardsTotalCount = function (e) {
                for (var t = 0, n = 0; n < e.length; n++) t += e[n]._num;
                return t
            }, e
        }();
        n.CardHelper = i, cc._RF.pop()
    }, {"./data": "data"}],
    CardInfoPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c5bc5PtcORF+YRvOSiuVeb4", "CardInfoPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../../data/data"), r = e("../../../nox"), _ = e("../AllViewTypes"),
            s = e("../../const/SceneId"), c = e("../widget/CardThumbnail"), l = e("../../config/UICfg"),
            d = e("../../../leocool/lc"), p = e("../../utils/SpriteUtil"), u = e("../../battle/ui/CardSprite"),
            g = e("../../StringEnums"), h = e("../widget/CardInfoWidget"), f = e("../../../leocool/lcStr"),
            m = e("../../ClientView"), y = e("../../utils/UIUtil"), T = e("../../GuideManager"),
            S = e("../../../leocool/lcAppCfg"), C = e("../widget/IconWidget"), v = e("./CardOperatePanel"),
            b = e("../../battle/scene/BattleScene"), E = e("../../scene/SceneManager"), I = e("../../../noxcc");
        (function (e) {
            e[e.na = 1] = "na", e[e.recovery = 5] = "recovery", e[e.troop = 2] = "troop", e[e.view = 3] = "view", e[e.operate = 4] = "operate"
        })(n.OperateType || (n.OperateType = {}));
        var A = function (e) {
            function t() {
                var t = e.call(this, _.AllViewTypes.CardInfoPanel) || this;
                return t._initTab = 0, t._thumbnail = null, t._list = null, t._cardList = null, t._cardListIndex = 0, t._indexLabel = null, t._count = 0, t._countLabel = null, t._arrowLeft = null, t._arrowRight = null, t._currentOwnLabel = null, t._btnDecompose = null, t._scale = null, t
            }

            return a(t, e), t.prototype.init = function (e, t, n, a) {
                this._panelName = "CardInfoPanel", this._infoId = P._playerCard.convert2CardId(e), null != t && (this._level = r.nox.D(P._playerCard._levels[e], 1), this._card = n, this._initTab = a)
            }, t.prototype.initListData = function (e, t, n) {
                this._cardList = e, this._cardListIndex = t, this._count = n
            }, t.prototype.onInitWidget = function () {
                e.prototype.onInitWidget.call(this), t.gCurrenton = this;
                this._scale && this.getRootNode().setScale(this._scale), this.getRootNode().addChild(this.createCard(), 1), this.createRightArea(), t._operateType >= t.OperateType.view && (this.createCurrentOwn(), this.createButtons()), this._cardList && this.setCardList(), this._count && this.setCardCount(), this._detailArea._showTab(this._detailArea._focusTabIndex || 0)
            }, t.prototype.onReleaseWidget = function () {
                e.prototype.onReleaseWidget.call(this), t.gCurrenton = null
            }, t.prototype.setScale = function (e) {
                this._scale = e
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var n = this;
                this._listeners = [], n._listeners.push(T.GuideManager.Event.seek.addListener(null, function () {
                    n.onGuide()
                })), n._listeners.push(o.Data.Event.card_dirty.addListener(null, function (e) {
                    n.updateCurrentOwn(), t._operateType != t.OperateType.na && n._thumbnail.getComponent(c.CardThumbnail) && n._thumbnail.getComponent(c.CardThumbnail).updateComponent(n._infoId, P._playerCard.getSkinId(n._infoId))
                }));
                var a = T.GuideManager.getCurStepName();
                "show card info" == a ? T.GuideManager.finishStepLater() : "leave card reward" != a && "leave claim" != a && "capture monster" != a || T.GuideManager.pauseGuide()
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this);
                for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                this._listeners = [], T.GuideManager.resumeGuide()
            }, t.prototype.createCard = function () {
                var e = null;
                if (t._operateType != t.OperateType.na && (e = P._playerCard.getSkinId(P._playerCard, this._infoId)), null == this._card) {
                    var n = c.CardThumbnail.create(this._infoId, e);
                    n.node.setPosition(-d.lc.cw(n.node) - 60, 10), n.setScaleFactor(.9), this._thumbnail = n.node;
                    for (var a = 1; a <= 2; ++a) {
                        var i = p.SpriteUtil.createSprite("card_back_edge_0" + a).node;
                        i.setAnchorPoint(0, 1), d.lc.addChildToPosAR(n.node, i, cc.v2(d.lc.asleft(n.node) - 50, d.lc.astop(n.node) + 28), -1), 1 != a && d.lc.offset(i, 1, 34)
                    }
                } else if (E.SceneManager.getRunningSceneId() == s.SceneId.battle) {
                    var o = u.CardSprite.create(this._card, b.BattleScene.currenton()._battleUi._playerUi, !0);
                    o._pCardAreaAll.setScale(1), o._node.setRotation(0, 0, 0), o.updateAtkHp(), o._node.setPosition(-l.UICfg.CARD_SIZE.width / 2 - 50, 0), this._thumbnail = o._node
                }
                return this._thumbnail
            }, t.prototype.createRightArea = function () {
                var e, n = this, a = E.SceneManager.getRunningSceneId();
                a != s.SceneId.battle && (e = d.lc.sh(this._thumbnail) - 8, a || (e = l.UICfg.CARD_SIZE.height));
                var i = I.noxcc.find("rightArea", n.mRoot);
                i.setContentSize(cc.size(520, e || l.UICfg.CARD_SIZE.height)), i.setAnchorPoint(0, 1), a != s.SceneId.battle ? (i.setPosition(cc.v2(d.lc.right(this._thumbnail) + 20, d.lc.top(this._thumbnail) - 4)), a || i.setPosition(cc.v2(-30, l.UICfg.CARD_SIZE.height / 2 - 4))) : i.setPosition(cc.v2(-30, l.UICfg.CARD_SIZE.height / 2 - 4)), n._detailArea = i;
                var r = o.Data.getInfo(this._infoId), _ = i.getContentSize();
                n._detailArea._lists = [];
                var c = [];
                c.push({_img: "icon_poke_info_1", _str: f.lcStr(g.STR.INFO)});
                var p = o.Data.getType(this._infoId),
                    u = h.CardInfoWidget.create(this._infoId, this._level, cc.size(_.width - 10, _.height - 6), !1, this._card);
                if (u._jumpSceneCallback = function () {
                    n.hide()
                }, d.lc.addChildToCenter(i, u.node), n._detailArea._lists.push(u.node), 0 != r._skillId[0]) {
                    c.push({_img: "icon_poke_info_2", _str: f.lcStr(g.STR.SKILL)});
                    var C = I.noxcc.find("rightArea/skillList", n.mRoot);
                    C.setContentSize(cc.size(_.width - 10, d.lc.h(i) - 22));
                    for (var v = I.noxcc.find("rightArea/skillList/layout", n.mRoot), b = 0; b < r._skillId.length; ++b) {
                        var P = m.ClientView.getSkillDisplayInfo(r._skillId[b]),
                            A = (P[0], P[1], P[2], P[3], P[4], P[5], I.noxcc.find("rightArea/skillWidget", n.mRoot));
                        A = I.noxcc.instantiate(A), I.noxcc.setActive(A, !0), y.UIUtil.createTitleContentPanel(A, d.lc.w(C) - 16, r._skillId[b], function (e) {
                            T.GuideManager.isGuideInCity() || E.SceneManager.isInBattleScene() || t.create(e).show()
                        }).setParent(v)
                    }
                    n._detailArea._lists.push(C)
                }
                if (p == o.Data.CardType.monster) {
                    if (!S.lcAppCfg.isAppStoreReviewing()) {
                        c.push({_img: "icon_poke_info_3", _str: f.lcStr(g.STR.POKEMON_INFO)});
                        var R = this.createEvolveList(cc.size(_.width - 10, d.lc.h(i) - 26));
                        n._detailArea._lists.push(R)
                    }
                } else {
                    var B = I.noxcc.find("rightArea/buttonList/btn_associated", n.mRoot);
                    I.noxcc.setActive(B, !1)
                }
                this._detailArea._showTab = function (e) {
                    n._detailArea._focusTabIndex = e;
                    for (var t = 0; t < n._detailArea._lists.length; ++t) {
                        n._detailArea._lists[t].setVisible(t == e)
                    }
                }, n._detailArea._tabs = [];
                for (var N = I.noxcc.find("rightArea/buttonList", n.mRoot), D = function (e) {
                    var t = N.children[e];
                    I.noxcc.addClick(t, n, function () {
                        n._detailArea._showTab && n._detailArea._showTab(e)
                    }), n._detailArea._tabs.push(t)
                }, U = 0; U < c.length; U++) D(U);
                return null != n._initTab && n._initTab < c.length && n._detailArea._showTab(n._initTab), i
            }, t.prototype.createEvolveList = function (e) {
                var n = this, a = !T.GuideManager.isGuideInCity() && !E.SceneManager.isInBattleScene(),
                    i = I.noxcc.find("rightArea/evolveList", n.mRoot);
                i.setContentSize(e), this._list = i.getChildByName("layout");
                o.Data.getType(this._infoId);
                for (var r = o.Data.getInfo(this._infoId), _ = []; null != r._evoBase && 0 != r._evoBase;) r = o.Data.getInfo(r._evoBase);
                _.push(o.Data._OriginInfoIdMap[r._originId]);
                for (var s = 0; 0 != o.Data.getInfo(_[s][0])._evoResult[0]; ++s) {
                    _.push([]);
                    for (var c = _[s], p = 0; p < c.length; ++p) if (0 == p) for (var u = c[p], h = o.Data.getInfo(u)._evoResult, m = 0; m < h.length; ++m) for (var y = h[m], S = o.Data._OriginInfoIdMap[y], v = 0; v < S.length; ++v) _[s + 1].push(S[v])
                }
                for (var b = {}, P = 0; P < _.length; ++P) {
                    var A = I.noxcc.find("rightArea/evolveWidget", n.mRoot);
                    A = I.noxcc.instantiate(A), I.noxcc.setActive(A, !0), A.setContentSize(cc.size(d.lc.w(i) - 16, 186));
                    var R = void 0;
                    R = 0 == P ? f.lcStr(g.STR.POKEMON_LVL_0) : P + f.lcStr(g.STR.POKEMON_LVL_1);
                    var B = A.getChildByName("title");
                    I.noxcc.setLabelString(B, R), b[P] = A.getChildByName("list"), A.setParent(n._list);
                    for (var N = function (e) {
                        var i = _[P][e];
                        if (null != o.Data.getInfo(i)._isHide) {
                            var r = C.IconWidget.create({_infoId: i}, C.IconWidget.DisplayFlag.ITEM);
                            r.node.scale = .95;
                            var s = !1;
                            a && (s = n._infoId != i), r.setTouchEnabled(s), r.getNameLabel().node.color = l.UICfg.COLOR_BMFONT, r.registCallback(function () {
                                n._cardList || n.hide(), t.create(r._data._infoId, null, null, null, 3).show()
                            }), I.noxcc.getChild(b[P], "content").addChild(r.node)
                        }
                    }, D = 0; D < _[P].length; ++D) N(D)
                }
                return i
            }, t.prototype.showTab = function (e) {
                for (var t = 0; t < this._detailArea._lists.length; ++t) this._detailArea._lists[t].setVisible(t == e)
            }, t.prototype.setCardList = function (e) {
                void 0 === e && (e = ""), this.createIndexLabel(), this._indexLabel.setString(this._cardListIndex + "/" + this._cardList.length), this.checkCardList()
            }, t.prototype.setCardCount = function () {
                if (null == this._countLabel) {
                    var e = p.SpriteUtil.createSprite({
                        _name: "img_card_count_bg",
                        _crect: cc.rect(16, 10, 2, 1),
                        _size: cc.size(400, 42)
                    }).node;
                    e.setAnchorPoint(.5, 1), d.lc.addChildToPosAR(this._thumbnail, e, cc.v2(0, d.lc.asbottom(this._thumbnail)));
                    var t = y.UIUtil.createBMFont(l.UICfg.BMFont.huali_32, f.lcStr(g.STR.AMOUNT) + ": " + this._count);
                    d.lc.addChildToPosAR(e, t, cc.v2(0, -20)), this._countLabel = t
                } else this._countLabel.setString(f.lcStr(g.STR.AMOUNT) + ": " + this._count)
            }, t.prototype.checkCardList = function () {
                var e = this;
                if (null != this._cardList) {
                    var n = this._cardList, a = this._cardListIndex, i = function (a) {
                        e._cardListIndex = e._cardListIndex + (a ? 1 : -1);
                        var i = n[e._cardListIndex], o = null, r = null;
                        "number" == typeof i ? o = i : (o = i._infoId, r = i._num);
                        var _ = t.create(o, null, null, i, e._detailArea._focusTabIndex);
                        _.initListData(n, e._cardListIndex, r), _.show(), e.hide()
                    }, o = function (e, t) {
                        e.setEnabled(t), e.setVisible(t)
                    };
                    null == e._arrowLeft && (e._arrowLeft = m.ClientView.createPageArrow(!0, cc.v2(d.lc.left(e.mRoot) + 60, 0), function () {
                        i(!1)
                    }), e._arrowLeft.setContentSize(cc.size(50, 50)), d.lc.addChildToPosAR(e.mRoot, e._arrowLeft, cc.v2(d.lc.left(e.mRoot) + 60, 0))), null == e._arrowRight && (e._arrowRight = m.ClientView.createPageArrow(!1, cc.v2(d.lc.right(e.mRoot) - 60 - 10, 0), function () {
                        i(!0)
                    }), e._arrowRight.setContentSize(cc.size(50, 50)), d.lc.addChildToPosAR(e.mRoot, e._arrowRight, cc.v2(d.lc.right(e.mRoot) - 60 - 10, 0))), o(e._arrowLeft, null != n[a - 1]), o(e._arrowRight, null != n[a + 1])
                }
            }, t.prototype.createCurrentOwn = function () {
                var e = p.SpriteUtil.createSprite({
                    _name: "img_card_count_bg",
                    _crect: cc.rect(16, 10, 2, 1),
                    _size: cc.size(400, 42)
                }).node;
                e.setAnchorPoint(.5, 1), d.lc.addChildToPosAR(this._thumbnail, e, cc.v2(0, d.lc.asbottom(this._thumbnail)));
                var t = y.UIUtil.createBMFont(l.UICfg.BMFont.huali_32, "");
                d.lc.addChildToPosAR(e, t, cc.v2(0, -20)), this._currentOwnLabel = t, this.updateCurrentOwn()
            }, t.prototype.createAdvenceInfo = function () {
                var e = o.Data.getInfo(this._infoId);
                o.Data.getType(this._infoId);
                if (null != e._advancedId && 0 != e._advancedId) {
                    var t = P._playerCard.getCardAdvanceCoin(P._playerCard, this._infoId), n = t[0], a = t[1], i = t[2],
                        r = slot0 - 110, _ = p.SpriteUtil.createSprite({
                            _name: "card_advence_bar_bg",
                            _crect: cc.rect(8, 5, 1, 1),
                            _size: cc.size(slot0 - 110, 33)
                        }).node, s = ccui.LoadingBar.create(ccui.LoadingBar);
                    s.loadTexture("card_advence_bar", ccui.TextureResType.plistType), s.setDirection(ccui.LoadingBarDirection.LEFT), s.setScale9Enabled(!0), s.setCapInsets(cc.rect(8, 5, 1, 1)), s.setContentSize(r, 33), s.setPercent(a), d.lc.addChildToCenter(_, s);
                    var c = p.SpriteUtil.createSprite("card_advence_bar_tip").node;
                    d.lc.addChildToPosLB(_, c, cc.v2(0, d.lc.ch(_)));
                    var u = y.UIUtil.createTTFBold(n + "/" + i, l.UICfg.FontSize.S2);
                    u.enableOutline(d.lc.Color4B.black, 1), d.lc.addChildToCenter(_, u), _.setAnchorPoint(0, 1), d.lc.addChildToPosLB(this.getRootNode(), _, cc.v2(d.lc.x(this._rightArea) + 20, d.lc.bottom(this._rightArea) - 6));
                    var g = y.UIUtil.createShaderButton("advence_open", function (t) {
                        e = CardAdvanceScene.create(t._infoId), E.SceneManager.pushScene(e), t.hide()
                    });
                    g.setAnchorPoint(0, 1), d.lc.addChildToPosLB(this.getRootNode(), g, cc.v2(d.lc.right(_) - 10, d.lc.bottom(this._rightArea) + 4))
                }
            }, t.prototype.createIndexLabel = function () {
                var e = y.UIUtil.createBMFont(l.UICfg.BMFont.huali_26, "1/1");
                d.lc.addChildToPosAR(this.getRootNode(), e, cc.v2(0, d.lc.bottom(this.mRoot) + 30), 3), this._indexLabel = e
            }, t.prototype.createButtons = function () {
                var e = this;
                if (t._operateType != t.OperateType.operate || (t._operateType, t.OperateType.recovery), P._guideID >= 500) {
                    var n = o.Data.getInfo(this._infoId);
                    if (t._operateType == t.OperateType.operate) {
                        var a = y.UIUtil.createShaderButton("img_btn_decompose", function () {
                            v.CardOperatePanel.create(e._infoId, v.CardOperatePanel.OperateMode.decompose, null, n).show()
                        });
                        a.setAnchorPoint(1, 1), a.setDisabledShader(l.UICfg.SHADER_DISABLE), d.lc.addChildToPosAR(e.getRootNode(), a, cc.v2(d.lc.asright(e._thumbnail) - d.lc.aw(e._thumbnail) / 2 - 200 - 16, d.lc.asbottom(e._thumbnail) + 10), 2), e._btnDecompose = a
                    } else if (t._operateType == t.OperateType.recovery) {
                        var i = y.UIUtil.createShaderButton("img_btn_decompose", function () {
                            v.CardOperatePanel.create(e._infoId, v.CardOperatePanel.OperateMode.recovery, e._card, n).show()
                        });
                        i.setAnchorPoint(1, 1), d.lc.addChildToPosAR(this.getRootNode(), i, cc.v2(d.lc.asleft(this._thumbnail) - d.lc.aw(e._thumbnail) / 2 - 200 - 10, d.lc.asbottom(e._thumbnail))), e._btnDecompose = i
                    }
                }
                this._btnDecompose && this._btnDecompose.setEnabled(P._playerCard.getCardCount(this._infoId) > 4)
            }, t.prototype.updateView = function () {
                var e = this._detailArea._focusTabIndex;
                null == e && (e = 0), this._detailArea._showTab(e), this._btnDecompose && this._btnDecompose.setEnabled(!(P._playerCard.getCardCount(P._playerCard, this._infoId) <= 4))
            }, t.prototype.updateCurrentOwn = function () {
                this._currentOwnLabel && this._currentOwnLabel.setString(f.lcStr(g.STR.CURRENT_OWN) + ": " + P._playerCard.getCardCount(this._infoId))
            }, t.prototype.onGuide = function (e) {
                var t = T.GuideManager.getCurStepName();
                if ("show card attr" == t) T.GuideManager.setOperateLayer(this._detailArea._tabs[1]); else {
                    if ("show card path" != t) return;
                    T.GuideManager.setOperateLayer(this._detailArea._tabs[2])
                }
                e.stopPropagation()
            }, t.currenton = function () {
                return t.gCurrenton
            }, t.create = function (e, n, a, i, r) {
                var _ = new t, s = o.Data.getInfo(P._playerCard.convert2CardId(e));
                if (a == t.OperateType.operate && s && s._packageId[0] == o.Data.UNION_SHOP_PACKAGE_ID && (a = t.OperateType.recovery, !i)) for (var c in o.Data._unionProductsExInfo) {
                    var l = o.Data._unionProductsExInfo[c];
                    if (l._cardId == e) {
                        i = l;
                        break
                    }
                }
                return null != a && (t._operateType = a), null == t._operateType && (t._operateType = t.OperateType.na), _.init(e, n, i, r), _
            }, t.OperateType = {na: 1, recovery: 5, troop: 2, view: 3, operate: 4}, t
        }(i.BasePanel);
        n.CardInfoPanel = A, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../battle/scene/BattleScene": "BattleScene",
        "../../battle/ui/CardSprite": "CardSprite",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../data/data": "data",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../widget/CardInfoWidget": "CardInfoWidget",
        "../widget/CardThumbnail": "CardThumbnail",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel",
        "./CardOperatePanel": "CardOperatePanel"
    }],
    CardInfoWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7a712r7UHFOApWNxWoi4dvZ", "CardInfoWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseComponent"), o = e("../../data/data"), r = e("../../../leocool/lcAppCfg"),
            _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"), c = e("../../GuideManager"),
            l = e("../../ToastManager"), d = e("../../../nox"), p = e("../../scene/ExpeditionScene"),
            u = e("../../scene/ShopScene"), g = e("../../scene/TavernScene"), h = e("../../StaticPrefabMgr"),
            f = e("../../../noxcc"), m = e("../../scene/SceneManager"), y = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n, a, i) {
                    this._infoId = e, this._level = t, this._isBrief = a, this._card = i, n && this.node.setContentSize(n), this._list = f.noxcc.find("view/content", this.node), this._categoryArea = f.noxcc.find("category", this._list), this._categoryContentLabel = f.noxcc.findLabel("content", this._categoryArea), this._descArea = f.noxcc.find("desc", this._list), this._descContentLabel = f.noxcc.findLabel("content", this._descArea), this._troopLimitArea = f.noxcc.find("troop_limit", this._list), this._troopLimitContentLabel = f.noxcc.findLabel("content", this._troopLimitArea), this._obtainPathArea = f.noxcc.find("obtain_path", this._list), this._obtainTmplItem = f.noxcc.find("tmpl_item", this._obtainPathArea), this._obtainTmplItem.active = !1, this._obtainTmplItem.parent = this.node, this.updateList()
                }, t.prototype.updateList = function () {
                    o.Data.getInfo(this._infoId);
                    var e = o.Data.getType(this._infoId);
                    this._categoryArea.active = !1, this._descArea.active = !1, this._troopLimitArea.active = !1, this._obtainPathArea.active = !1, this._isBrief || (e == o.Data.CardType.monster && this.createCategoryInfo(), this.createDesc(), this.createTroopLimit(), r.lcAppCfg.isAppStoreReviewing() || this.createObtainNode())
                }, t.prototype.createCategoryInfo = function () {
                    var e = "", t = o.Data.getInfo(this._infoId);
                    t._categoryData && (e = _.lcStr(s.STR.BASE_HP) + ":" + t._hp + "\n\n" + _.lcStr(t._categoryInfo) + "\n" + _.lcStr(s.STR.CARD_BODYHEIGHT) + ": " + string.format("%d'%02d\"", t._categoryData[1] / 100, t._categoryData[1] % 100) + "\n" + _.lcStr(s.STR.CARD_BODYWEIGHT) + ": " + string.format("%.1f Lbs", t._categoryData[2] / 10)), this._categoryContentLabel.string = e, this._categoryArea.active = !0
                }, t.prototype.createDesc = function () {
                    this._descContentLabel.string = _.lcStr(o.Data.getInfo(this._infoId)._descSid), this._descArea.active = !0
                }, t.prototype.createTroopLimit = function () {
                    this._troopLimitContentLabel.string = string.format(_.lcStr(s.STR.USE_LIMIT_DESC), o.Data.getInfo(this._infoId)._maxCount), this._troopLimitArea.active = !0
                }, t.prototype.createObtainNode = function () {
                    this._obtainPathArea.removeChildrenByTagID(1e4);
                    var e = !c.GuideManager.isGuideEnabled() && !m.SceneManager.isInBattleScene(),
                        t = o.Data.getInfo(this._infoId), n = (o.Data.getType(this._infoId), t._obtainPath);
                    if (!n || 0 == n.length || !n[0]) return null;
                    for (var a = 0; a < n.length; ++a) {
                        var i = f.noxcc.instantiate(this._obtainTmplItem);
                        i.active = !0, i.setTagID(1e4);
                        var r = o.Data._cardObtainPathInfo[n[a]] || o.Data._cardObtainPathInfo[0];
                        f.noxcc.find("line", i).active = a != n.length - 1, i.getComponent(cc.Label).string = _.lcStr(r._nameSid);
                        var s = f.noxcc.findButton("go", i);
                        e && 1 == r._jumpEnable ? f.noxcc.addClick(s, this, this.gotoSceneByObtainId, r) : s.node.active = !1, this._obtainPathArea.addChild(i)
                    }
                    this._obtainPathArea.active = !0
                }, t.prototype.gotoSceneByObtainId = function (e) {
                    var t = e._type;
                    if (1 == t) m.SceneManager.pushScene(g.TavernScene.create(0 == e._value ? g.TavernScene.Type.nature : 1 == e._value ? g.TavernScene.Type.rare : g.TavernScene.Type.super)); else if (2 == t) {
                        var n = Math.floor(e._value / 100 % 10);
                        if (P._playerWorld.isLevelLocked(1e4 + 100 * n + 1)) return l.ToastManager.push(_.lcStr(s.STR.EXPLORE_LOCKED_2));
                        for (var a = null, i = 1; i <= o.Data.LEVEL_NUM_PER_CHAPTER; ++i) for (var r = o.Data._levelInfo[1e4 + 100 * n + i], c = 0; c < r._pid.length; ++c) this._infoId == P._playerCard.convert2CardId(r._pid[c]) && (a = r._id);
                        m.SceneManager.replaceScene(p.ExpeditionScene.createWithLevelIdAndBool(a, d.nox.D(a, !0)))
                    } else if (3 == t) m.SceneManager.pushScene(u.ShopScene.create(e._value, this._infoId)); else {
                        if (4 != t) return;
                        m.SceneManager.replaceScene(p.ExpeditionScene.createWithLevel(e._value))
                    }
                    this._jumpSceneCallback && this._jumpSceneCallback()
                }, t.create = function (e, n, a, i, o) {
                    var r = f.noxcc.instantiate(h.StaticPrefabMgr.getCardInfoWidgetPrefab()).addComponent(t);
                    return r.init(e, n, a, i, o), r
                }, t
            }(i.BaseComponent);
        n.CardInfoWidget = y, cc._RF.pop()
    }, {
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../GuideManager": "GuideManager",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../scene/ExpeditionScene": "ExpeditionScene",
        "../../scene/SceneManager": "SceneManager",
        "../../scene/ShopScene": "ShopScene",
        "../../scene/TavernScene": "TavernScene"
    }],
    CardList: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d15fdyu9r1KF5x4LVYoXyva", "CardList");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../leocool/lc"), o = e("../../config/UICfg"), r = e("./CardThumbnail"),
            _ = e("../../../noxcc"), s = e("../node/NodeWithLabel"), c = e("../../ClientView"),
            l = e("../../data/data"), d = e("../../GuideManager"), p = e("../../StringEnums"),
            u = e("../../../leocool/lcStr"), g = e("../../ClientData"), h = e("../../../leocool/lcAudio"),
            f = e("../../AudioEnums"), m = e("../../utils/SpriteUtil"), y = e("../../BaseComponent"),
            T = e("../../scene/SceneManager"), S = e("../../utils/SpineUtil"), C = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._cards = null, t._items = null, t._excepts = null, t._filters = null, t._sort = null, t._selectedCards = [], t._onTouchThumbnail = null, t._onCardSelected = null, t._onTapBtnCustom1 = null, t._onTapRadio = null, t._onTapCheck = null, t._onCardSelectCountChange = null, t._unionInfo = null, t._rareInfo = null, t._diamondInfo = null, t._godInfo = null, t._rareCards = null, t._guideFront = null, t._tip = null, t._lastSelectCard = null, t._troopIndex = 0, t._pageLeft = null, t._pageRight = null, t._recruiteInfo = null, t._pageFormat = "", t._pageLabel = null, t._curPageLabel = null, t._isRare = !1, t
                }

                return a(t, e), t.prototype.getRoot = function () {
                    return this.node
                }, t.prototype.initUI = function () {
                    var e = this, t = e._hideBottom ? 0 : 50;
                    t += e._addH ? e._addH : 0;
                    var n = o.UICfg.CARD_SIZE.width * e._itemScale, a = (o.UICfg.CARD_SIZE.height + t) * e._itemScale,
                        _ = 2, l = 5;
                    i.lc.h(e.node), i.lc.w(e.node);
                    e.node.width < 1e3 && (l = 4, i.lc.w(e.node)), e.node.height < 400 && (_ = 1), e._itemRow = _, e._itemCol = l, e._curPage = 1, e._totalPage = 1, e._pageFormat = "%s%d/%d%s", e._items = [];
                    for (var d = 0; d < _; d++) {
                        e._items[d] = [];
                        for (var p = 0; p < l; p++) {
                            var u = r.CardThumbnail.createFromPool(null, e._itemScale), g = u._thumbnail;
                            g._infoId = null, g._index = d * l + (p + 1), g.node.off(cc.Node.EventType.TOUCH_START, e.onTouchThumbnail, e, !0), g.node.off(cc.Node.EventType.TOUCH_MOVE, e.onTouchThumbnail, e, !0), g.node.off(cc.Node.EventType.TOUCH_END, e.onTouchThumbnail, e, !0), g.node.off(cc.Node.EventType.TOUCH_CANCEL, e.onTouchThumbnail, e, !0), g.node.on(cc.Node.EventType.TOUCH_START, e.onTouchThumbnail, e, !0), g.node.on(cc.Node.EventType.TOUCH_MOVE, e.onTouchThumbnail, e, !0), g.node.on(cc.Node.EventType.TOUCH_END, e.onTouchThumbnail, e, !0), g.node.on(cc.Node.EventType.TOUCH_CANCEL, e.onTouchThumbnail, e, !0), u.setVisible(!1), u.setContentSize(cc.size(n, a)), i.lc.addChildToCenter(e.node, u), e._items[d][p] = u
                        }
                    }
                    var h = T.SceneManager.getRunningScene().getSceneNode(), f = i.lc.aw(h) - i.lc.aw(e.node) - 50,
                        m = cc.v2(i.lc.asleft(e.node) + f, e.node.y);
                    e._pageLeft = c.ClientView.createPageArrow(!0, m, function () {
                        e._curPage > 1 && (e._curPage = e._curPage - 1), e.refresh(!1)
                    }), i.lc.addChildToPosAR(h, e._pageLeft, m, 5), m = cc.v2(i.lc.aright(e.node) + f, e.node.y), e._pageRight = c.ClientView.createPageArrow(!1, m, function () {
                        e._curPage < e._totalPage && (e._curPage = e._curPage + 1), e.refresh(!1)
                    }), i.lc.addChildToPosAR(h, e._pageRight, m, 5);
                    var y = s.NodeWithLabel.createBMFont(o.UICfg.BMFont.huali_26, "1/1");
                    e._pageLabel = y, e._curPageLabel = s.NodeWithLabel.createBMFont(o.UICfg.BMFont.huali_20, "1")
                }, t.prototype.init = function (e, t, n, a, o) {
                    if (this._type = e, this._excepts = t, n ? this.setSortFunc(n._func, n._isReverse, !1) : this._sort = null, this._filters = {}, null != a) for (var r in a) {
                        var _ = a[r];
                        this.setFilterFunc(r, _._func, _._keyVal, !1)
                    }
                    this._selectedCards = i.lc.D(o, [])
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this);
                    var t = this;
                    t._listeners = [];
                    var n = l.Data.Event.card_list_dirty.addListener(null, function (e) {
                        t._type == e && t.refresh(!1)
                    });
                    t._listeners.push(n);
                    var a = l.Data.Event.card_dirty.addListener(null, function (e) {
                        for (var n = 0; n < t._itemRow; n++) for (var a = 0; a < t._itemCol; a++) {
                            var i = t._items[n][a];
                            i._thumbnail._infoId == e && t.refreshItem(i, e)
                        }
                    });
                    t._listeners.push(a);
                    var i = d.GuideManager.Event.seek.addListener(null, function () {
                        t.onGuide()
                    });
                    t._listeners.push(i)
                }, t.prototype.onDisable = function () {
                    e.prototype.onDisable.call(this);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = []
                }, t.prototype.onRecycleCard = function () {
                    for (var e = 0; e < this._itemRow; e++) for (var t = 0; t < this._itemCol; t++) {
                        var n = this._items[e][t];
                        n._rrSpine && (n._rrSpine.destroy(), n._rrSpine = null), r.CardThumbnail.releaseToPool(n)
                    }
                }, t.prototype.onDestroy = function () {
                    e.prototype.onDestroy.call(this)
                }, t.prototype.getThumbnail = function (e) {
                    for (var t = 0; t < this._itemRow; t++) for (var n = 0; n < this._itemCol; n++) {
                        var a = this._items[t][n];
                        if (a && a._thumbnail._infoId == e) return a._thumbnail
                    }
                }, t.prototype.insertItem = function (e, t) {
                    var n = t;
                    (!n || n <= 0) && (n = this._cards.length + 1), this._cards.splice(n - 1, 0, e)
                }, t.prototype.onTouchThumbnail = function (e) {
                    var t = e.type;
                    switch (e.target.stopAllActions(), t) {
                        case cc.Node.EventType.TOUCH_START:
                            e.target.runAction(cc.scaleTo(.1, .95)), null != this._onTouchThumbnail && this._onTouchThumbnail(e, t);
                            break;
                        case cc.Node.EventType.TOUCH_END:
                            e.target.runAction(cc.scaleTo(.08, 1)), null != this._onTouchThumbnail && this._onTouchThumbnail(e, t), null != this._onCardSelected && this._onCardSelected(e, e.target.parent._thumbnail._index);
                            break;
                        case cc.Node.EventType.TOUCH_MOVE:
                            null != this._onTouchThumbnail && this._onTouchThumbnail(e, t);
                            break;
                        case cc.Node.EventType.TOUCH_CANCEL:
                            e.target.runAction(cc.scaleTo(.08, 1)), null != this._onTouchThumbnail && this._onTouchThumbnail(e, t)
                    }
                }, t.prototype.registerCardSelectedHandler = function (e) {
                    this._onCardSelected = e
                }, t.prototype.registerTouchThumbnail = function (e) {
                    this._onTouchThumbnail = e
                }, t.prototype.registerTapBtnCustom1 = function (e) {
                    this._onTapBtnCustom1 = e
                }, t.prototype.registerTapRadio = function (e) {
                    this._onTapRadio = e
                }, t.prototype.registerTapCheck = function (e) {
                    this._onTapCheck = e
                }, t.prototype.setMode = function (e) {
                    null == this._mode && (this._mode = e)
                }, t.prototype.setIsRare = function (e) {
                    this._isRare = e
                }, t.prototype.setSortFunc = function (e, t, n) {
                    this._sort = {_func: e, _isReverse: t}
                }, t.prototype.setFilterFunc = function (e, t, n, a) {
                    this._filters[e] = {_func: t, _keyVal: n}
                }, t.prototype.refresh = function (e) {
                    var n = [], a = [], i = [], r = [];
                    if (this._mode == t.ModeType.union_shop) for (var s = 0; s < this._unionInfo.length; s++) {
                        var c = this._unionInfo[s]._infoId;
                        i.push(c)
                    } else if (this._mode == t.ModeType.rare_shop) for (s = 0; s < this._rareInfo.length; s++) {
                        c = this._rareInfo[s]._infoId;
                        i.push(c)
                    } else if (this._mode == t.ModeType.diamond_shop) for (s = 0; s < this._diamondInfo.length; s++) {
                        c = this._diamondInfo[s]._infoId;
                        i.push(c)
                    } else if (this._mode == t.ModeType.god_shop) for (s = 0; s < this._godInfo.length; s++) {
                        c = this._godInfo[s]._infoId;
                        i.push(c)
                    } else if (this._mode == t.ModeType.recruite || this._mode == t.ModeType.recruite_rare) for (s = 0; s < this._recruiteInfo.length; s++) {
                        c = this._recruiteInfo[s]._infoId || this._recruiteInfo;
                        i.push(c)
                    } else if (this._mode == t.ModeType.recruite_list) for (s = 0; s < this._recruiteInfo.length; s++) {
                        c = this._recruiteInfo[s]._infoId || this._recruiteInfo;
                        i.push(c)
                    } else if (this._mode == t.ModeType.multi_select && null != this._rareCards) for (s = 0; s < this._rareCards.length; s++) {
                        var g = this._rareCards[s];
                        g._selected = this._selectedCards[this._rareCards[s]] || 0, g._num = P._playerCard.getCardCount(g._infoId) - P._playerCard.getCardCountInTroop(g._infoId);
                        var h = this._selectedCards;
                        g.setSelected = function (e, t, n) {
                            e._selected = n, t[e._infoId] = n
                        }.bind(null, g, h), i.push(g)
                    } else if (this._mode == t.ModeType.union_battle_troop) {
                        var f = P._playerCard.getGroupCards(this._type);
                        for (var m in f) parseInt(f[m]) > 0 && i.push(m)
                    } else {
                        f = P._playerCard.getCards(this._type);
                        for (var m in f) {
                            var y = f[m];
                            if (!this._excepts || !this._excepts[m]) for (; ;) {
                                if (this._mode == t.ModeType.troop) {
                                    if (d.GuideManager.isGuideEnabled() && (this._guideFront || (this._guideFront = {}), this._guideFront[m] || (this._guideFront[m] = P._playerCard.getCardCountInTroop(m) < P._playerCard.getCardCount(m))), this._guideFront && 1 == this._guideFront[m]) {
                                        a.push(m);
                                        break
                                    }
                                } else if (this._mode == t.ModeType.radio || this._mode == t.ModeType.check) {
                                    if (this._selectedCards[m]) {
                                        n.push(m);
                                        break
                                    }
                                } else if (this._mode == t.ModeType.sacrifice) {
                                    if (!d.GuideManager.isGuideEnabled()) {
                                        a.push(m);
                                        break
                                    }
                                } else this._mode, t.ModeType.expedition_troop;
                                y > 0 && i.push(parseInt(m));
                                break
                            }
                        }
                    }
                    for (var m in this._sort && (n = this._sort._func(n, this._sort._isReverse), a = this._sort._func(a, this._sort._isReverse), i = this._sort._func(i, this._sort._isReverse), r = this._sort._func(r, this._sort._isReverse)), this._filters) {
                        var T = this._filters[m];
                        n = T._func(n, T._keyVal), a = T._func(a, T._keyVal), i = T._func(i, T._keyVal), r = T._func(r, T._keyVal)
                    }
                    var S = n.length + a.length + i.length + r.length;
                    if (null == this._cards || e) {
                        this._cards = [];
                        for (var C = 0; C < n.length; C++) this.insertItem(n[C]);
                        for (C = 0; C < a.length; C++) this.insertItem(a[C]);
                        for (C = 0; C < i.length; C++) this.insertItem(i[C]);
                        for (C = 0; C < r.length; C++) this.insertItem(r[C])
                    }
                    this._totalPage = 0 == this._cards.length ? 1 : Math.floor((this._cards.length - 1) / (this._itemRow * this._itemCol)) + 1, e && (this._curPage = 1);
                    for (s = 0; s < this._itemRow; s++) for (var v = 0; v < this._itemCol; v++) {
                        var b = this._items[s][v],
                            E = this._cards[(this._curPage - 1) * this._itemRow * this._itemCol + s * this._itemCol + v];
                        this.refreshItem(b, E)
                    }
                    this._pageLabel.setString(string.format("%d / %d%s", this._curPage, this._totalPage, " " + u.lcStr(p.STR.PAGE_SUFFIX))), this._curPageLabel.setString(this._curPage.toString()), this._pageLeft.setVisible(this._curPage > 1), this._pageLeft.float(), this._pageRight.setVisible(this._curPage < this._totalPage), this._pageRight.float(), _.noxcc.setLabelString(this._tip, ""), this._mode == t.ModeType.sacrifice || this._mode == t.ModeType.radio || this._mode == t.ModeType.check || this._mode == t.ModeType.multi_select && null == this._rareCards || this._mode == t.ModeType.troop || this._mode == t.ModeType.expedition_troop || this._mode == t.ModeType.dark_troop || this._mode == t.ModeType.union_battle_troop ? 0 == S && (this._type == l.Data.CardType.monster ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_CARD), u.lcStr(p.STR.MONSTER))) : this._type == l.Data.CardType.magic ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_CARD), u.lcStr(p.STR.MAGIC))) : this._type == l.Data.CardType.trap ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_CARD), u.lcStr(p.STR.TRAP))) : _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_CARD), u.lcStr(p.STR.RARE) + u.lcStr(p.STR.MONSTER))), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.multi_select && this._rareCards ? 0 == S && (_.noxcc.setLabelString(this._tip, u.lcStr(p.STR.COMPOSE_LIST_EMPTY_NO_CARD)), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.recruite || this._mode == t.ModeType.recruite_rare ? 0 == S && (this._type == l.Data.CardType.monster ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_X), u.lcStr(p.STR.MONSTER) + u.lcStr(p.STR.CARD))) : this._type == l.Data.CardType.magic ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_X), u.lcStr(p.STR.MAGIC) + u.lcStr(p.STR.CARD))) : this._type == l.Data.CardType.trap ? _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_X), u.lcStr(p.STR.TRAP) + u.lcStr(p.STR.CARD))) : _.noxcc.setLabelString(this._tip, string.format(u.lcStr(p.STR.LIST_EMPTY_NO_X), u.lcStr(40093) + u.lcStr(p.STR.CARD))), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.union_shop ? 0 == S && (_.noxcc.setLabelString(this._tip, ""), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.rare_shop ? 0 == S && (_.noxcc.setLabelString(this._tip, ""), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.diamond_shop ? 0 == S && (_.noxcc.setLabelString(this._tip, ""), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT)) : this._mode == t.ModeType.god_shop && 0 == S && (_.noxcc.setLabelString(this._tip, ""), _.noxcc.setLabelColor(this._tip, o.UICfg.COLOR_LABEL_LIGHT))
                }, t.prototype.refreshItem = function (e, n) {
                    n ? (this._mode == t.ModeType.recruite || this._mode == t.ModeType.recruite_rare ? e._thumbnail.updateComponent(n) : this._mode == t.ModeType.multi_select && this._rareCards ? e._thumbnail.updateComponent(n._infoId) : e._thumbnail.updateComponent(n, P._playerCard.getSkinId(n)), _.noxcc.setActive(e, !0), this.refreshItemCustom(e, n)) : _.noxcc.setActive(e, !1)
                }, t.prototype.refreshItemCustom = function (e, n) {
                    var a = this;
                    if (a._mode == t.ModeType.troop || a._mode == t.ModeType.expedition_troop || a._mode == t.ModeType.union_battle_troop || a._mode == t.ModeType.dark_troop) {
                        e._statusRect;
                        a._mode == t.ModeType.expedition_troop && e.showStatusRect(null == n._fragmentNum && n._isDead, u.lcStr(p.STR.CARD_DEAD_STATUS), o.UICfg.COLOR_TEXT_RED);
                        var r = g.ClientData._cloneTroops[a._troopIndex - 1], s = a.getCardCountInTroop(r, n), y = s[0],
                            T = s[1];
                        if (1 == l.Data.getInfo(e._thumbnail._infoId)._isHide) e._countArea.update(!0, y, 0, 0, null, 0); else if (a._mode == t.ModeType.union_battle_troop) {
                            var C = l.Data.getInfo(e._thumbnail._infoId);
                            e._countArea.update(!0, y, l.Data.getInfo(l.Data.getOriginId(n))._maxCount * l.Data.GROUP_NUM, T, P._playerCard.getGroupCardCount(e._thumbnail._infoId) - a.getCardCountInUnionTroops(n)[0], C._maxCount * l.Data.GROUP_NUM)
                        } else if (a._mode == t.ModeType.dark_troop) {
                            C = l.Data.getInfo(e._thumbnail._infoId);
                            e._countArea.update(!0, y, l.Data.getInfo(l.Data.getOriginId(n))._maxCount, T, P._playerCard.getCardCount(e._thumbnail._infoId) - a.getCardCountInDarkTroops(n)[0], C._maxCount)
                        } else {
                            C = l.Data.getInfo(e._thumbnail._infoId);
                            e._countArea.update(!0, y, l.Data.getInfo(l.Data.getOriginId(n))._maxCount, T, null, C._maxCount)
                        }
                        e._thumbnail.updateFlag()
                    } else if (a._mode == t.ModeType.radio || a._mode == t.ModeType.check) {
                        a._mode == t.ModeType.radio ? (e._btnRadio.setVisible(!0), e._btnRadio._checkedSprite.setVisible(null != a._selectedCards[n]), a._selectedCards[n] && (a._lastSelectCard = n), e._btnRadio.setEnabled(!0), _.noxcc.addClick(e._btnRadio, a, function (e, t) {
                            t == cc.Node.EventType.TOUCH_END && (h.lcAudio.playAudio(f.AUDIO.E_BUTTON_DEFAULT), null != a._lastSelectCard && a._lastSelectCard != n && (a._selectedCards[a._lastSelectCard] = null, P._playerCard.sendCardSelect(a._lastSelectCard, 0)), a._lastSelectCard = n, a._selectedCards[n] ? (a._selectedCards[n] = null, P._playerCard.sendCardSelect(a._lastSelectCard, 0)) : (a._selectedCards[n] = 1, P._playerCard.sendCardSelect(a._lastSelectCard, 1)), null != a._onTapRadio && a._onTapRadio(n), d.GuideManager.isGuideEnabled() && d.GuideManager.finishStep())
                        }), e._btnRadio) : (e._btnCheck.setVisible(!0), e._btnCheck._checkedSprite.setVisible(n._selected > 0), e._btnCheck.setEnabled(!0), _.noxcc.addClick(e._btnCheck, a, function (e, t) {
                            t == cc.Node.EventType.TOUCH_END && (h.lcAudio.playAudio(f.AUDIO.E_BUTTON_DEFAULT), n.setSelected(0 == n._selected ? 1 : 0), null != a._onTapCheck && a._onTapCheck(a), d.GuideManager.isGuideEnabled() && d.GuideManager.finishStep())
                        }.bind(a)), e._btnCheck)
                    } else {
                        if (a._mode == t.ModeType.multi_select) return _.noxcc.setActive(e._multiSelectArea, !0), e._multiSelectArea._callbackAdd = function () {
                            n._selected < n._num && (n.setSelected(n._selected + 1), e._multiSelectArea._label.setString(n._selected), a._onCardSelectCountChange && a._onCardSelectCountChange())
                        }, e._multiSelectArea._callbackMinus = function () {
                            n._selected > 0 && (n.setSelected(n._selected - 1), n.setSelected._label.setString(n._selected), a._onCardSelectCountChange && a._onCardSelectCountChange())
                        }, void e._multiSelectArea._label.setString(n._selected);
                        if (a._mode == t.ModeType.mix || a._mode == t.ModeType.mix_book) e._countArea.update(!0); else if (a._mode == t.ModeType.recruite) {
                            (C = a._recruiteInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]) && (e._countArea.updateDetermined(!0, C._remainNum, C._remainNum + C._getNum), a._isRare && l.Data.CardQuality.SR > l.Data.getInfo(C._infoId)._quality && _.noxcc.setActive(e._countArea, !1))
                        } else if (a._mode == t.ModeType.recruite_rare) e._countArea.update(!1); else if (a._mode == t.ModeType.recruite_list) if (e._countArea.update(!0, a._recruiteInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._num), e._thumbnail.updateFlag(), l.Data.CardQuality.RR <= l.Data.getInfo(a._recruiteInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._infoId)._quality) {
                            if (null == e._rrSpine) {
                                var v = S.SpineUtil.createSpineAnim("spine/xuanzhong", "default", "animation1", !0);
                                v.setScale(1.8 * a._itemScale), i.lc.addChildToCenter(e._thumbnail.node, v, -2), e._rrSpine = v
                            }
                        } else null != e._rrSpine && (e._rrSpine.removeFromParent(), e._rrSpine = null); else if (a._mode == t.ModeType.union_shop) {
                            C = a._unionInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1];
                            var b = P._playerCard.getCardCount(a._unionInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._infoId),
                                E = (l.Data.getInfo(a._unionInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._infoId)._maxCount || 3) - b;
                            e._thumbnail.updateUnionShopFlag(b, E + b, C._price, C._priceType, C._disCount), m.SpriteUtil.addSprite(e._btnCustom1, "buy_button"), e._btnCustom1.setVisible(!0), e._btnCustom1.setContentSize(140, 90), e._btnCustom1._label.setVisible(!1), c.ClientView.addPriceToBtn(e._btnCustom1, C._price, C._priceType, 100, 30), e._btnCustom1._card = C, null == e._btnCustom1._callback && null != a._onTapBtnCustom1 && (e._btnCustom1._callback = a._onTapBtnCustom1), e._btnCustom1.setPosition(0, i.lc.bottom(e._countArea) - i.lc.ch(e._btnCustom1) + 20), e._btnCustom1.setLocalZOrder(-3)
                        } else if (a._mode == t.ModeType.rare_shop) {
                            C = a._rareInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1], b = P._playerCard.getCardCount(C._infoId), E = (l.Data.getInfo(a._rareInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._infoId)._maxCount || 3) - b;
                            var I = !1;
                            P._playerMarket._rareGoodsMap[C._id] && (I = !0), e._thumbnail.updateRareShopFlag(b, E + b, C._price, C._priceType, I), m.SpriteUtil.addSprite(e._btnCustom1, "buy_button"), e._btnCustom1.setVisible(!0), e._btnCustom1.setContentSize(140, 90), e._btnCustom1._label.setVisible(!1), c.ClientView.addPriceToBtn(C._btnCustom1, C._price, C._priceType, 100, 30), e._btnCustom1._card = C, null == e._btnCustom1._callback && null != a._onTapBtnCustom1 && (e._btnCustom1._callback = a._onTapBtnCustom1), e._btnCustom1.setPosition(0, i.lc.bottom(e._countArea) - i.lc.ch(e._btnCustom1) + 20), e._btnCustom1.setLocalZOrder(-3)
                        } else if (a._mode == t.ModeType.diamond_shop) {
                            C = a._diamondInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1], b = P._playerCard.getCardCount(C._infoId), E = (l.Data.getInfo(a._diamondInfo[(a._curPage - 1) * a._itemRow * a._itemCol + e._thumbnail._index - 1]._infoId)._maxCount || 3) - b;
                            e._thumbnail.updateDiamondShopFlag(b, E + b, C._price, C._priceType), m.SpriteUtil.addSprite(e._btnCustom1, "buy_button"), e._btnCustom1.setVisible(!0), e._btnCustom1.setContentSize(140, 90), e._btnCustom1._label.setVisible(!1), c.ClientView.addPriceToBtn(e._btnCustom1, C._price, C._priceType, 100, 30), e._btnCustom1._card = C, null == e._btnCustom1._callback && null != a._onTapBtnCustom1 && (e._btnCustom1._callback = a._onTapBtnCustom1), e._btnCustom1.setPosition(0, i.lc.bottom(e._countArea) - i.lc.ch(e._btnCustom1) + 20), e._btnCustom1.setLocalZOrder(-3)
                        } else e._countArea.update(!0)
                    }
                }, t.prototype.getSelectedCards = function () {
                    return this._selectedCards
                }, t.prototype.getUnselectedCards = function () {
                    for (var e = [], t = 0; t < this._cards.length; t++) 0 == this._cards[t]._selected && e.push(this._cards[t]);
                    return e
                }, t.prototype.getSelectedCardNumber = function () {
                    for (var e = 0, t = 0; t < this._cards.length; t++) this._cards[t]._selected > 0 && (e += this._cards[t]._selected);
                    return e
                }, t.prototype.getUnselectedCardNumber = function () {
                    for (var e = 0, t = 0; t < this._cards.length; t++) 0 == this._cards[t]._selected && (e += 1);
                    return e
                }, t.prototype.selectAllCards = function () {
                    for (var e = 0; e < this._cards.length; e++) this._cards[e].setSelected(1)
                }, t.prototype.unselectAllCards = function () {
                    for (var e = 0; e < this._cards.length; e++) this._cards[e].setSelected(1)
                }, t.prototype.getCardCountInTroop = function (e, t) {
                    for (var n = l.Data.getOriginId(t), a = 0, i = 0, o = 0; o < e.length; o++) l.Data.getOriginId(e[o]._infoId) == n && (a += e[o]._num), e[o]._infoId == t && (i += e[o]._num);
                    return [a, i]
                }, t.prototype.getCardCountInUnionTroops = function (e) {
                    for (var t = l.Data.getOriginId(e), n = 0, a = 0, i = l.Data.TroopIndex.union_battle1 - 1; i < l.Data.TroopIndex.union_battle1 + l.Data.GROUP_NUM - 1; i++) if (i != this._troopIndex - 1) for (var o = g.ClientData._cloneTroops[i] || P._playerCard.getTroop(i + 1, !1), r = 0; r < o.length; r++) l.Data.getOriginId(o[r]._infoId) == t && (n += o[r]._num), o[r]._infoId == e && (a += o[r]._num);
                    return [n, a]
                }, t.prototype.getCardCountInDarkTroops = function (e) {
                    for (var t = l.Data.getOriginId(e), n = 0, a = 0, i = l.Data.TroopIndex.dark_battle1 - 1; i < l.Data.TroopIndex.dark_battle3; i++) if (i != this._troopIndex - 1) for (var o = g.ClientData._cloneTroops[i] || P._playerCard.getTroop(i + 1, !1), r = 0; r < o.length; r++) l.Data.getOriginId(o[r]._infoId) == t && (n += o[r]._num), o[r]._infoId == e && (a += o[r]._num);
                    return [n, a]
                }, t.prototype.onGuide = function (e) {
                    var n = d.GuideManager.getCurStepName();
                    if ("enter upgrade card" == n) {
                        if (this._mode == t.ModeType.sacrifice) for (var a = this._items, i = 0; i < a.length; i++) {
                            if ((o = (r = a[i])._thumbnail._card).getQuality() == l.Data.CardQuality.UR && 1 == o._level) {
                                d.GuideManager.setOperateLayer(r._btnCustom1), !0;
                                break
                            }
                        }
                    } else if ("enter evolve card" == n) {
                        if (this._mode == t.ModeType.sacrifice) for (a = this._items, i = 0; i < a.length; i++) {
                            var o;
                            if ((o = (r = a[i])._thumbnail._card).getQuality() == l.Data.CardQuality.UR) {
                                d.GuideManager.setOperateLayer(r._btnCustom1), !0;
                                break
                            }
                        }
                    } else {
                        if ("pick card" != n) return;
                        if (this._mode == t.ModeType.check || this._mode == t.ModeType.radio) {
                            for (a = this._items, i = 0; i < a.length; i++) {
                                var r = a[i];
                                d.GuideManager.setOperateLayer(this._mode == t.ModeType.check ? r._btnCheck : r._btnRadio);
                                break
                            }
                            !0
                        }
                    }
                }, t.create = function (e, n, a, r, c) {
                    var l = _.noxcc.newNode("CardList");
                    l.setContentSize(e);
                    var d = l.addComponent(t), p = l.addComponent(cc.Layout);
                    return p.resizeMode = cc.Layout.ResizeMode.NONE, e.height > 400 ? (p.type = cc.Layout.Type.GRID, p.startAxis = cc.Layout.AxisDirection.HORIZONTAL, p.paddingTop = 10, p.spacingX = 18, p.spacingY = 10) : (p.type = cc.Layout.Type.HORIZONTAL, p.spacingX = 22), d._itemScale = i.lc.D(n, 1), d._hideBottom = a, d._addH = i.lc.D(r, 0), d._tip = s.NodeWithLabel.createWithTTF("", o.UICfg.TTF_FONT, o.UICfg.FontSize.S1), d._tip.setPosition(i.lc.aw(d.node), i.lc.ah(d.node)), d.initUI(), d
                }, t.ModeType = {
                    mix_book: 5,
                    sacrifice: 1,
                    multi_select: 10,
                    dark_troop: 19,
                    union_shop: 14,
                    diamond_shop: 18,
                    recruite: 11,
                    check: 4,
                    rare_shop: 15,
                    expedition_troop: 8,
                    exchange: 6,
                    recruite_list: 13,
                    mix: 2,
                    union_battle_troop: 17,
                    troop: 7,
                    recruite_rare: 12,
                    god_shop: 16,
                    radio: 3
                }, t.FilterType = {
                    search: 6,
                    quality: 3,
                    magictype: 8,
                    category: 5,
                    country: 1,
                    cost: 7,
                    equip: 2,
                    status: 5
                }, t
            }(y.BaseComponent);
        n.CardList = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "./CardThumbnail": "CardThumbnail"
    }],
    CardOperatePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d31e8v4atZATpc2Xm2kRU1G", "CardOperatePanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BasePanel"), i = e("../AllViewTypes"), o = e("../../ClientData"), r = e("../../../leocool/lc"),
            _ = e("../../StringEnums"), s = e("../../utils/UIUtil"), c = e("../../../leocool/lcStr"),
            l = e("../../config/UICfg"), d = e("../../GuideManager"), p = e("../../data/data"), u = e("../../../nox"),
            g = e("../../../noxcc"), h = e("../../ToastManager"), f = e("../common/Dialog"),
            m = e("../widget/CardThumbnail"), y = e("./CardInfoPanel"), T = e("../widget/IconWidget"),
            S = e("../../ClientView"), C = e("../../part/CardPart"), v = e("./RewardPanel"),
            b = e("../form/ExchangeResForm"), E = e("../../utils/MsgCenter"), I = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.CardOperatePanel) || this
                }

                return __extends(t, e), t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t.currenton = function () {
                    return t.gCurrenton
                }, t.prototype.init = function (t, n, a, i) {
                    e.prototype.init.call(this, !0), this._panelName = "CardOperatePanel", this._isShowResourceUI = !0, this._infoId = t, this._mode = n, this._card = a, this._level = P._playerCard._levels[t] || 1, this._infoPanel = i
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), t.gCurrenton = this;
                    var n = this;
                    n._listeners = [], n._listeners.push(d.GuideManager.Event.seek.addListener(null, function () {
                        n.onGuide()
                    })), "enter evolve card" == d.GuideManager.getCurStepName() && d.GuideManager.finishStepLater()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this), t.gCurrenton = null
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    E.MsgCenter.addMsgListener(this, this.onMsg.bind(this)), this._mode == t.OperateMode.compose || (this._mode == t.OperateMode.decompose ? this.decomposeInit() : (this._mode, t.OperateMode.recovery))
                }, t.prototype.decomposeInit = function () {
                    var e = this, t = g.noxcc.find("decompose/bg/title", e.mRoot);
                    g.noxcc.setLabelString(t, [c.lcStr(_.STR.COMPOSE), c.lcStr(_.STR.DECOMPOSE), c.lcStr(_.STR.RECOVERY)][e._mode - 1]);
                    var n = g.noxcc.find("decompose/close", e.mRoot);
                    g.noxcc.addClick(n, e, function () {
                        e.hide()
                    });
                    var a = P._playerCard.getCardCount(e._infoId), i = P._playerCard.getCardCountInTroop(e._infoId);
                    this._max = Math.max(a - i - 1, 0);
                    var o = g.noxcc.find("decompose/LabelArr/CURRENT_OWN", e.mRoot);
                    g.noxcc.setLabelString(o, c.lcStr(_.STR.CURRENT_OWN) + ": " + a);
                    var r = g.noxcc.find("decompose/LabelArr/INTROOPED", e.mRoot);
                    g.noxcc.setLabelString(r, c.lcStr(_.STR.INTROOPED) + ": " + i);
                    var s = g.noxcc.find("decompose/LabelArr/DECOMPOSE", e.mRoot);
                    g.noxcc.setLabelString(s, c.lcStr(_.STR.CAN_S) + c.lcStr(_.STR.DECOMPOSE) + ": " + this._max);
                    var l = g.noxcc.find("decompose/btnOK", e.mRoot);
                    g.noxcc.addClick(l, e, function () {
                        e.onDecompose()
                    }), e._count = 0;
                    var d = g.noxcc.find("decompose/btnArr/add", e.mRoot),
                        p = g.noxcc.find("decompose/btnArr/add10", e.mRoot),
                        h = g.noxcc.find("decompose/btnArr/reduce", e.mRoot),
                        f = g.noxcc.find("decompose/btnArr/reduces", e.mRoot);
                    this._countVal = g.noxcc.find("decompose/btnArr/input/label", e.mRoot), g.noxcc.addClick(d, e, function () {
                        m(1)
                    }), g.noxcc.addClick(p, e, function () {
                        m(10)
                    }), g.noxcc.addClick(h, e, function () {
                        m(-1)
                    }), g.noxcc.addClick(f, e, function () {
                        m(-10)
                    });
                    var m = function (t) {
                        var n = u.nox.toNumber(g.noxcc.getLabelString(e._countVal));
                        n += t;
                        var a = Math.min(e._max, 100);
                        n < 0 ? n = 0 : a >= 0 && n > a && (n = a), g.noxcc.setLabelString(e._countVal, n), e._count = n, e.updateView()
                    };
                    e.updateView()
                }, t.prototype.getConsumeGold = function () {
                    var e = 0;
                    return this._mode == t.OperateMode.compose ? e = P._playerCard.getComposeGold(this._infoId) * this._count : this._mode == t.OperateMode.decompose && (e = P._playerCard.getDecomposeGold(this._infoId) * this._count), e || 0
                }, t.prototype.onGuide = function () {
                }, t.prototype.createThumbnail = function (e, t) {
                    var n = m.CardThumbnail.create(e, null);
                    return n && g.noxcc.addClick(n.node, this, function () {
                        y.CardInfoPanel.create(e, t, y.CardInfoPanel.OperateType.na).show()
                    }), n.node
                }, t.prototype.onDecompose = function () {
                    var e = this, t = p.Data.getType(e._infoId);
                    if (0 != e._count) {
                        if (!(e._count > e._max)) return P._playerCard.getCardCount(e._infoId) - e._count <= 3 ? f.Dialog.showDialog(string.format(c.lcStr(_.STR.FEW_AFTER_DECOMPOSE)), function () {
                            e.doDecompose()
                        }) : void this.doDecompose();
                        h.ToastManager.push(string.format(c.lcStr(_.STR.NOT_ENOUGH), o.ClientData.getStrByCardType(t)))
                    } else h.ToastManager.push(c.lcStr(_.STR.SELECT_COUNT_FIRST))
                }, t.prototype.doDecompose = function () {
                    var e = P._playerCard.decomposeCard(this._infoId, this._count).shift();
                    e == p.Data.ErrorType.ok ? (S.ClientView.getActiveIndicator().show(), C.CardPart.sendCardDecompose(this._infoId, this._count), this.updateView()) : e == p.Data.ErrorType.need_more_gold ? (h.ToastManager.push(c.lcStr(_.STR.NOT_ENOUGH_GOLD)), b.ExchangeResForm.create(p.Data.ResType.gold).show()) : e == p.Data.ErrorType.need_more_samecard && h.ToastManager.push(string.format(c.lcStr(_.STR.NOT_ENOUGH), o.ClientData.getStrByCardType(p.Data.getType(this._infoId))))
                }, t.prototype.updateGotMaterialArea = function () {
                    var e = this;
                    null != e._gotMatArea && (e._gotMatArea.removeAllChildren(), e._gotMatArea = null);
                    var n = [], a = function (e, t, n) {
                        var a = {_icon: null, _need: null};
                        return t ? (a._icon = T.IconWidget.create({
                            _infoId: t,
                            _num: P.getItemCount(t)
                        }, 0), a._need = r.lc.D(n, 1)) : (a._icon = T.IconWidget.create({
                            _infoId: e,
                            _count: P._playerCard.getCardCount(e)
                        }, 0), a._need = r.lc.D(n, 1)), a
                    };
                    if (e._mode == t.OperateMode.compose) n.push(a(e._infoId, null, e._count)); else if (e._mode == t.OperateMode.decompose) {
                        P._playerCard.getCardOperateDecomposeDust(e._infoId).forEach(function (t, i, o) {
                            var r = t[0], _ = t[1];
                            _ *= e._count, n.push(a(e._infoId, r, _))
                        })
                    } else if (e._mode == t.OperateMode.recovery) {
                        var i = P._playerCard.getRecoveryDust(e._card._id), o = i.shift(), _ = i.shift();
                        _ *= e._count, n.push(a(e._infoId, o, _))
                    }
                    var c = g.noxcc.find("decompose/info/icon", e.mRoot);
                    n.forEach(function (e, t, n) {
                        var a = e._icon.node,
                            i = s.UIUtil.createBMFont(l.UICfg.BMFont.huali_20, string.format("%s", e._need));
                        r.lc.addChildToPosAR(a, i, cc.v2(0, -75)), r.lc.addChildToCenter(c, e._icon.node)
                    }), e._gotMatArea = c, e._count <= 0 ? e._gotMatArea.setVisible(!1) : e._gotMatArea.setVisible(!0)
                }, t.prototype.updateView = function () {
                    var e = P._playerCard.getCardCount(this._infoId), n = P._playerCard.getCardCountInTroop(this._infoId);
                    this._max = Math.max(e - n - 1, 0);
                    var a = g.noxcc.find("decompose/LabelArr/CURRENT_OWN", this.mRoot);
                    g.noxcc.setLabelString(a, c.lcStr(_.STR.CURRENT_OWN) + ": " + e);
                    var i = g.noxcc.find("decompose/LabelArr/INTROOPED", this.mRoot);
                    g.noxcc.setLabelString(i, c.lcStr(_.STR.INTROOPED) + ": " + n);
                    var o = g.noxcc.find("decompose/LabelArr/DECOMPOSE", this.mRoot);
                    g.noxcc.setLabelString(o, c.lcStr(_.STR.CAN_S) + c.lcStr(_.STR.DECOMPOSE) + ": " + this._max), this._mode == t.OperateMode.recovery ? g.noxcc.setLabelString(o, c.lcStr(_.STR.CAN_S) + c.lcStr(_.STR.RECOVERY) + ": " + this._max) : g.noxcc.setLabelString(o, c.lcStr(_.STR.CAN_S) + c.lcStr(_.STR.DECOMPOSE) + ": " + this._max), this.updateGotMaterialArea()
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_DECOMPOSE) {
                        S.ClientView.getActiveIndicator().hide();
                        var t = e.getExtensions_Card_pb_SglCardMsg_card_decompose_resp();
                        v.RewardPanel.create(t).show()
                    }
                }, t.OperateMode = {decompose: 2, compose: 1, recovery: 3}, t
            }(a.BasePanel);
        n.CardOperatePanel = I, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../part/CardPart": "CardPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../common/Dialog": "Dialog",
        "../form/ExchangeResForm": "ExchangeResForm",
        "../widget/CardThumbnail": "CardThumbnail",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel",
        "./CardInfoPanel": "CardInfoPanel",
        "./RewardPanel": "RewardPanel"
    }],
    CardPackagePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8c2bbcgkfpO2pWVRd93UKHa", "CardPackagePanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../leocool/lcAudio"),
            _ = e("../../AudioEnums"), s = e("../../GuideManager"), c = e("../../data/data"), l = e("../../ClientView"),
            d = e("../../../noxcc"), p = e("../../utils/SpriteUtil"), u = e("../../../leocool/lc"),
            g = e("../../utils/ParticleUtil"), h = e("../widget/CardThumbnail"), f = e("../../config/UICfg"),
            m = e("../../utils/SpineUtil"), y = e("./CardInfoPanel"), T = e("../node/NodeWithShaderButton"),
            S = e("../../StringEnums"), C = e("../../../leocool/lcStr"), v = e("../widget/CardList"),
            b = e("../../utils/UIUtil"), E = e("../../scene/TavernScene"), I = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.CardPackagePanel) || this;
                    return t._isEndShowCards = !1, t._finishCount = 0, t._ZOrder = 0, t._isShowTotalList = !1, t._cardList = null, t
                }

                return a(t, e), t.prototype.init = function (e, t, n, a, i) {
                    this._mode = e, this._newCards = t, this._recruitInfo = n, this._recruitInfoOnce = a, this._packageIndex = i || 1, this._cardScale = .5, this._listeners = []
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mRoot.setContentSize(f.UICfg.SCR_SIZE), d.noxcc.setActive(l.ClientView.getResourceUI().node, !1);
                    var n = d.noxcc.find("BlackBg", this.mRoot);
                    n.opacity = 0, n.runAction(u.lc.sequence(u.lc.delay(1), u.lc.fadeTo(1, 200))), this._mode == t.Mode.open_one ? (this.openPackage(), s.GuideManager.closeNpcTipLayer(), s.GuideManager.finishStepLater(3)) : this.showTotalCards()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._listeners.push(s.GuideManager.Event.seek.addListener(null, function () {
                        t.onGuide()
                    })), r.lcAudio.playAudio(_.AUDIO.E_TAVERN_OPEN_PACKAGE)
                }, t.prototype.openPackage = function () {
                    var e = this, t = e.mRoot.getChildByName("particle");
                    this.mRoot.runAction(u.lc.sequence(0, function () {
                        t.getChildByName("par_chouka02").getComponent(cc.ParticleSystem).playOnLoad = !0
                    }, function () {
                        t.getChildByName("par_chouka04").getComponent(cc.ParticleSystem).playOnLoad = !0
                    }, .1, function () {
                        t.getChildByName("par_chouka05").getComponent(cc.ParticleSystem).playOnLoad = !0, e.showCards()
                    }))
                }, t.prototype.showCards = function () {
                    var e = this;
                    e._isEndShowCards = !1;
                    for (var n = e._cardScale, a = [], i = (e._packageIndex - 1) * t.PACKAGE_CARD_COUNT; i < Math.min(e._newCards.length, e._packageIndex * t.PACKAGE_CARD_COUNT); i++) a.push(e._newCards[i]);
                    cc.v2(-340, 200);
                    if (e._cardThumbnails = [], e._finishCount = 0, e._ZOrder = 9, P._guideID < 120) {
                        var o = a.splice(1, 1);
                        a.unshift(o[0])
                    }
                    for (var s = function (t) {
                        var i = a[t], o = d.noxcc.newNode("layout").addComponent(cc.Layout).node;
                        u.lc.addChildToCenter(e.mRoot, o, 6), e._cardThumbnails.push(o);
                        var s = cc.v2(400 * (t - 1), 100 - 40 * Math.abs(t - 1));
                        o._pos = cc.v2(400 * (t - 1), 100 - 40 * Math.abs(t - 1)), o._rot = 3 * (t - 1), o._card = i;
                        var l = p.SpriteUtil.createSprite("card_back_0");
                        o.setContentSize(l.node.getContentSize()), u.lc.addChildToCenter(o, l.node), o._cardBack = l;
                        var f = h.CardThumbnail.createFromPool(i._infoId, 1);
                        f._thumbnail.updateComponent(i._infoId), f._thumbnail.updateFlag(2), u.lc.addChildToCenter(o, f), f.setContentSize(f._thumbnail.node.getContentSize()), f.setVisible(!1), o._cardSprite = f, o._thumbnail = f._thumbnail;
                        var y = d.noxcc.newNode("effectNode");
                        u.lc.addChildToCenter(o, y), o._effectNode = y, o.setScale(n), o.runAction(u.lc.sequence(function () {
                            var n = g.ParticleUtil.createParticle("par_kbtw");
                            u.lc.addChildToCenter(e._cardThumbnails[t], n, -1), e._cardThumbnails[t]._par1 = n
                        }, u.lc.scaleTo(.1, 2 * n), .2, u.lc.scaleTo(.25, 1.8 * n), u.lc.spawn(cc.bezierBy(.32, [cc.v2(75, 150), cc.v2(200, 150), cc.v2(200, -50)]), u.lc.rotateTo(.32, 10, -30, 25), u.lc.scaleTo(.32, 1.6 * n)), u.lc.spawn(cc.bezierBy(.55, [cc.v2(-150, -450), cc.v2(s.x - 200 - u.lc.x(o) - 300, s.y - 100 - u.lc.y(o) - 250), cc.v2(s.x - 200 - u.lc.x(o), s.y - 100 - u.lc.y(o))]), u.lc.rotateTo(.55, e._cardThumbnails[0]._rot, 0, 0), u.lc.scaleTo(.55, 1.4 * n)), .32 * t, u.lc.spawn(u.lc.moveTo(.32, e._cardThumbnails[t]._pos), u.lc.rotateTo(.3, e._cardThumbnails[t]._rot)), function () {
                            if (r.lcAudio.playAudio(_.AUDIO.E_TAVERN_MOVE), c.Data.getInfo(e._cardThumbnails[t]._card._infoId)._quality < c.Data.CardQuality.R) e.openCard(e._cardThumbnails[t]); else {
                                var n = m.SpineUtil.createSpineAnim("spine/xuanzhong", "default", "animation1", !0);
                                n.setScale(1.7), u.lc.addChildToCenter(e._cardThumbnails[t], n, -2)
                            }
                            e._finishCount = e._finishCount + 1, e._cardThumbnails[t]._par1.destroy(), e._cardThumbnails[t]._par1 = null
                        }, function () {
                            e.endShowCards()
                        }))
                    }, l = 0; l < a.length; l++) s(l)
                }, t.prototype.endShowCards = function () {
                    for (var e = this, n = (e._cardScale, function (t) {
                        var n = e._cardThumbnails[t];
                        if (n._thumbnail.node.addComponent(cc.Button).interactable = !1, n._cardBack.node.active) return n._cardBack.node.addComponent(cc.Button), d.noxcc.addClick(n._cardBack.node, e, function () {
                            if (!n._isOpened) return e.openCard(n)
                        }), "continue";
                        d.noxcc.addClick(n._thumbnail.node, e, function () {
                            if (!n._isOpened) return e.openCard(n);
                            y.CardInfoPanel.currenton() || y.CardInfoPanel.create(n._card._infoId).show()
                        })
                    }), a = 0; a < e._cardThumbnails.length; a++) n(a);
                    if (e._finishCount == t.PACKAGE_CARD_COUNT) {
                        for (a = 0; a < e._cardThumbnails.length; a++) {
                            e._cardThumbnails[a]._thumbnail.node.getComponent(cc.Button).interactable = !0
                        }
                        e._finishCount = 0
                    }
                }, t.prototype.openCard = function (e) {
                    e._isOpened = !0;
                    var t = 1.4 * this._cardScale;
                    r.lcAudio.playAudio(_.AUDIO.E_TAVERN_FLIP_UR);
                    for (var n = !0, a = 0; a < this._cardThumbnails.length; a++) if (!this._cardThumbnails[a]._isOpened) {
                        n = !1;
                        break
                    }
                    n && this.showButtons(), e._cardBack.node.runAction(u.lc.sequence(.2, u.lc.spawn(u.lc.rotateTo(.2, 0, -90, 0), u.lc.moveBy(.2, 0, 0)), cc.hide())), d.noxcc.setActive(e._cardSprite, !0), e._cardSprite.runAction(u.lc.sequence(.2, cc.show(), u.lc.spawn(u.lc.rotateTo(.2, 0, 0, 0), u.lc.moveBy(.2, 0, -30)))), e._effectNode.runAction(u.lc.rotateTo(.3, 0, -180, 0));
                    u.lc.x(e), u.lc.y(e), cc.v2(f.UICfg.SCR_CW, f.UICfg.SCR_CH + 80);
                    d.noxcc.setZIndex(e, this._ZOrder), this._ZOrder = this._ZOrder + 1, e._effectNode.runAction(u.lc.sequence(u.lc.delay(.1), function () {
                        var n = c.Data.getInfo(e._card._infoId);
                        if (c.Data.getInfo(e._card._infoId)._quality == c.Data.CardQuality.RR) {
                            var a = g.ParticleUtil.createParticle("par_rr01");
                            u.lc.addChildToCenter(e._effectNode, a), a.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var i = g.ParticleUtil.createParticle("par_rr02");
                            u.lc.addChildToCenter(e._effectNode, i), i.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var o = g.ParticleUtil.createParticle("par_rr03");
                            u.lc.addChildToCenter(e._effectNode, o), o.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var r = g.ParticleUtil.createParticle("par_rr04");
                            u.lc.addChildToCenter(e._effectNode, r), r.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var _ = cc.v2(e.x, e.y);
                            e.runAction(u.lc.sequence(.1, u.lc.spawn(u.lc.moveTo(.7, a.position), u.lc.scaleTo(.7, 1.3 * t)), function () {
                                o.getComponent(cc.ParticleSystem).playOnLoad = !0
                            }, u.lc.spawn(u.lc.moveTo(.15, _), u.lc.scaleTo(.15, t))))
                        } else if (n._quality == c.Data.CardQuality.R) {
                            var s = g.ParticleUtil.createParticle("par_r");
                            u.lc.addChildToCenter(e._effectNode, s, 10), s.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            a = g.ParticleUtil.createParticle("par_r01");
                            u.lc.addChildToCenter(e._effectNode, a, 10), a.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var l = g.ParticleUtil.createParticle("par_r02");
                            u.lc.addChildToCenter(e._effectNode, l, 10), l.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            _ = cc.v2(e.x, e.y);
                            e.runAction(u.lc.sequence(.1, u.lc.spawn(u.lc.moveTo(.7, a.position), u.lc.scaleTo(.7, 1.3 * t)), function () {
                                l.getComponent(cc.ParticleSystem).playOnLoad = !0
                            }, u.lc.spawn(u.lc.moveTo(.15, _), u.lc.scaleTo(.15, t))))
                        } else if (n._quality == c.Data.CardQuality.SR) {
                            a = g.ParticleUtil.createParticle("par_sr01");
                            u.lc.addChildToCenter(e._effectNode, a), a.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            i = g.ParticleUtil.createParticle("par_sr02");
                            u.lc.addChildToCenter(e._effectNode, i), i.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var d = g.ParticleUtil.createParticle("par_srxz");
                            u.lc.addChildToCenter(e._effectNode, d), (h = m.SpineUtil.createSpineAnim("spine/xuanzhong", "default", "animation1", !0)).setScale(1.6), u.lc.addChildToCenter(e._thumbnail.node, h, -1);
                            _ = cc.v2(e.x, e.y);
                            e.runAction(u.lc.sequence(.1, u.lc.spawn(u.lc.moveTo(.7, a.position), u.lc.scaleTo(.7, 1.3 * t)), function () {
                                d.getComponent(cc.ParticleSystem).playOnLoad = !0
                            }, u.lc.spawn(u.lc.moveTo(.15, _), u.lc.scaleTo(.15, t))))
                        } else if (n._quality == c.Data.CardQuality.HR) {
                            a = g.ParticleUtil.createParticle("par_hr01");
                            u.lc.addChildToCenter(e._effectNode, a), a.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            i = g.ParticleUtil.createParticle("par_hr02");
                            u.lc.addChildToCenter(e._effectNode, i), i.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var p = g.ParticleUtil.createParticle("par_srxz");
                            u.lc.addChildToCenter(e._effectNode, p, -1);
                            _ = cc.v2(e.x, e.y);
                            e.runAction(u.lc.sequence(.1, u.lc.spawn(u.lc.moveTo(.7, a.position), u.lc.scaleTo(.7, 1.3 * t)), function () {
                                p.getComponent(cc.ParticleSystem).playOnLoad = !0
                            }, u.lc.spawn(u.lc.moveTo(.15, _), u.lc.scaleTo(.15, t))))
                        } else if (n._quality == c.Data.CardQuality.UR) {
                            a = g.ParticleUtil.createParticle("par_ur01");
                            u.lc.addChildToCenter(e._effectNode, a), a.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            i = g.ParticleUtil.createParticle("par_ur02");
                            u.lc.addChildToCenter(e._effectNode, i), i.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED;
                            var h, f = g.ParticleUtil.createParticle("par_ur03");
                            u.lc.addChildToCenter(e._effectNode, f), f.getComponent(cc.ParticleSystem).positionType = cc.ParticleSystem.PositionType.GROUPED, (h = m.SpineUtil.createSpineAnim("spine/xuanzhong", "default", "animation1", !0)).setScale(1.6), u.lc.addChildToCenter(e._thumbnail.node, h, -1);
                            _ = cc.v2(e.x, e.y);
                            e.runAction(u.lc.sequence(.1, u.lc.spawn(u.lc.moveTo(.7, a.position), u.lc.scaleTo(.7, 2.1 * t)), function () {
                                f.getComponent(cc.ParticleSystem).playOnLoad = !0
                            }, u.lc.spawn(u.lc.moveTo(.15, _), u.lc.scaleTo(.15, t))))
                        }
                    })), s.GuideManager.closeNpcTipLayer()
                }, t.prototype.showButtons = function () {
                    var e = this, n = E.TavernScene.currenton();
                    e.mRoot.getChildByName("Buttons") && (e.mRoot.getChildByName("Buttons").destroyAllChildren(), e.mRoot.getChildByName("Buttons").destroy());
                    var a = d.noxcc.newNode("Buttons");
                    if (u.lc.addChildToPosAR(e.mRoot, a, cc.v2(0, u.lc.bottom(e.mRoot) + 70)), 1 == e._packageIndex && e._packageIndex * t.PACKAGE_CARD_COUNT >= e._newCards.length) {
                        var i = T.NodeWithShaderButton.createScale9ShaderButton("img_btn_green_s", function () {
                            e.finish()
                        }, f.UICfg.CRECT_BUTTON_S, 210, 70);
                        u.lc.addChildToCenter(a, i), i.addLabel(C.lcStr(S.STR.BACK)), e._btnBack = i, s.GuideManager.isGuideEnabled() ? i.setEnabled(!1) : (u.lc.offset(e._btnBack, -180, 0), u.lc.addChildToPosAR(a, n.createBuyBtn(e._recruitInfo, e._recruitInfo._value % 100, e._recruitInfoOnce, !1, e), cc.v2(180, 0)))
                    } else {
                        var o = T.NodeWithShaderButton.createScale9ShaderButton("img_btn_green_s", function () {
                            t.create(t.Mode.open_one, e._newCards, e._recruitInfo, e._recruitInfoOnce, e._packageIndex + 1).show(), e.hide()
                        }, f.UICfg.CRECT_BUTTON_S, 256, 70);
                        o.addLabel(C.lcStr(S.STR.RECRUIT_NEXT_ONE)), u.lc.addChildToCenter(a, o), e._btnNext = o
                    }
                    a.setScale(0), a.runAction(u.lc.sequence(u.lc.delay(.65), u.lc.ease(u.lc.scaleTo(.5, 1), "BackO"), function () {
                        s.GuideManager.finishStepLater(0)
                    }))
                }, t.prototype.finish = function () {
                    this.hide(), E.TavernScene.currenton().afterOpenPackage(this._newCards)
                }, t.prototype.showTotalCards = function () {
                    var e = this, t = E.TavernScene.currenton();
                    e._isShowTotalList = !0;
                    for (var n = [], a = 0; a < e._newCards.length; ++a) {
                        for (var i = e._newCards[a], o = n.length + 1, r = 0; r < n.length; ++r) if (n[r]._infoId == i._infoId) {
                            o = r + 1;
                            break
                        }
                        n[o - 1] ? n[o - 1]._num = n[o - 1]._num + 1 : n[o - 1] = {_infoId: i._infoId, _num: 1}
                    }
                    n.sort(function (e, t) {
                        return c.Data.getInfo(t._infoId)._quality - c.Data.getInfo(e._infoId)._quality
                    });
                    var _ = p.SpriteUtil.createScale9Sprite("img_title_bg");
                    _.node.setContentSize(cc.size(480, 52)), u.lc.addChildToPosAR(e.mRoot, _.node, cc.v2(0, u.lc.astop(e.mRoot) - 50));
                    var s = b.UIUtil.createTTF(C.lcStr(S.STR.GET) + C.lcStr(S.STR.CARD), f.UICfg.FontSize.S1, u.lc.Color3B.yellow);
                    u.lc.addChildToPosAR(_.node, s, cc.v2(0, 5));
                    var l = Math.min(f.UICfg.SCR_W - 200, 800);
                    e._cardList = v.CardList.create(cc.size(l, 510), .32, !1), e._cardList.setMode(v.CardList.ModeType.recruite_list), u.lc.addChildToPosAR(e.mRoot, e._cardList.node, cc.v2(50, 20)), e._cardList.getComponent(cc.Layout).spacingX = 24, e._cardList._pageLeft._pos = cc.v2(u.lc.asleft(e._cardList.node), 0), e._cardList._pageRight._pos = cc.v2(u.lc.asright(e._cardList.node) + 20, 0), e._cardList._pageLabel.setParent(e.mRoot), e._cardList._pageLabel.setPosition(cc.v2(0, u.lc.asbottom(e._cardList.node))), e._cardList.setMode(v.CardList.ModeType.recruite_list), e._cardList._recruiteInfo = n, e._cardList.init(null, []), e._cardList.refresh(!0), e._cardList._pageLeft.setParent(e.mRoot), e._cardList._pageLeft.setPosition(e._cardList._pageLeft._pos), e._cardList._pageRight.setParent(e.mRoot), e._cardList._pageRight.setPosition(e._cardList._pageRight._pos), e._cardList.registerCardSelectedHandler(function (e) {
                        var t = e.target.parent._thumbnail._infoId;
                        y.CardInfoPanel.create(t, 1, y.CardInfoPanel.OperateType.view).show()
                    });
                    var g = d.noxcc.newNode();
                    u.lc.addChildToPosAR(e.mRoot, g, cc.v2(0, u.lc.bottom(e.mRoot) + 70));
                    var h = b.UIUtil.createScale9ShaderButton("img_btn_green_s", function () {
                        e.finish()
                    }, f.UICfg.CRECT_BUTTON_S, 220, 70);
                    h.addLabel(C.lcStr(S.STR.BACK)), u.lc.addChildToPosAR(g, h, cc.v2(u.lc.cw(g) - 180, u.lc.ch(g))), e._btnBack = h, u.lc.addChildToPosAR(g, t.createBuyBtn(e._recruitInfo, e._recruitInfo._value % 100, e._recruitInfoOnce, !1, e), cc.v2(180, 0)), e._cardList.node.setPosition(cc.v2(50, u.lc.asbottom(e.mRoot) - u.lc.ch(e._cardList.node))), e._cardList.node.runAction(u.lc.sequence(u.lc.delay(.5), u.lc.ease(u.lc.moveTo(.5, cc.v2(50, 20)), "BackO"))), g.setScale(0), g.runAction(u.lc.sequence(u.lc.delay(1), u.lc.ease(u.lc.scaleTo(.5, 1), "BackO")))
                }, t.prototype.onGuide = function (e) {
                    var t = this;
                    if ("click card" == s.GuideManager.getCurStepName()) s.GuideManager.setOperateLayer(t._cardThumbnails[2]); else {
                        if ("leave card reward" != s.GuideManager.getCurStepName()) return;
                        s.GuideManager.setOperateLayer(t._btnBack, null, t._cardThumbnails), t.mRoot.runAction(u.lc.sequence(.5, function () {
                            t._btnBack.setEnabled(!0)
                        })), y.CardInfoPanel.currenton() && s.GuideManager.pauseGuide()
                    }
                }, t.prototype.onReleaseWidget = function () {
                    null != this._cardList && this._cardList.onRecycleCard(), e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    l.ClientView.getResourceUI().node.setVisible(!0);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    if (this._cardThumbnails) for (t = 0; t < this._cardThumbnails.length; t++) h.CardThumbnail.releaseToPool(this._cardThumbnails[t]._cardSprite);
                    e.prototype.onExit.call(this)
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.create = function (e, n, a, i, o) {
                    var r = new t;
                    return r.init(e, n, a, i), r
                }, t.Mode = {open_one: 1, show_all: 2}, t.PACKAGE_CARD_COUNT = 3, t
            }(i.BasePanel);
        n.CardPackagePanel = I, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../scene/TavernScene": "TavernScene",
        "../../utils/ParticleUtil": "ParticleUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../widget/CardList": "CardList",
        "../widget/CardThumbnail": "CardThumbnail",
        "./BasePanel": "BasePanel",
        "./CardInfoPanel": "CardInfoPanel"
    }],
    CardPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9674d+w6oRLzZY6PqgWapO9", "CardPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil"), i = e("../../nox");
        (function (e) {
            e.sendCardUnlockConfirmed = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_UNLOCK, t.setExtensions_Card_pb_SglCardMsg_card_unlock_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCardUpgrade = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_UPGRADE, t.setExtensions_Card_pb_SglCardMsg_card_upgrade_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCardSetSkill = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_SKILL_SET;
                var o = i.addExtensions_Card_pb_SglCardMsg_card_skill_set_req();
                o.id = e, o.info_id = t, o.is_keep = !n, a.NetUtil.sendProtoMsg(i)
            }, e.sendCardCompose = function (e, t, n) {
                var o = SglMsg_pb.SglReqMsg.create();
                o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_COMPOSE, o.setExtensions_Card_pb_SglCardMsg_card_compose_package_id(i.nox.toNumber(e));
                var r = o.addExtensions_Card_pb_SglCardMsg_card_compose_req(), _ = new Data_pb.Resource;
                r.push(_), _.info_id = t, _.num = 1;
                for (var s = 0; s < n.length; ++s) {
                    var c = n[s], l = new Data_pb.Resource;
                    r.push(l), l.info_id = s, l.num = c
                }
                a.NetUtil.sendProtoMsg(o)
            }, e.sendCardDecompose = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_DECOMPOSE;
                var i = n.addExtensions_Card_pb_SglCardMsg_card_decompose_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendCardRecovery = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_RECOVERY;
                var i = n.addExtensions_Card_pb_SglCardMsg_card_recovery_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendShopCardRecovery = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_SHOP_RECOVERY;
                var i = n.addExtensions_Card_pb_SglCardMsg_card_recovery_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendCardDecomposeBatch = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_DECOMPOSE_BATCH, a.NetUtil.sendProtoMsg(e)
            }, e.sendCardSell = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_SELL;
                var i = n.addExtensions_Card_pb_SglCardMsg_card_sell_req();
                i.info_id = e;
                for (var o = 0; o < t.length; ++o) i.id.push(t[o]);
                a.NetUtil.sendProtoMsg(n)
            }, e.sendCardLottery = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_LOTTERY;
                var o = i.addExtensions_Card_pb_SglCardMsg_card_lottery_req();
                o.pkg_id = e, o.is_free = t, n && i.setExtensions_Card_pb_SglCardMsg_card_lottery_use_token(!0), a.NetUtil.appendGuideIdIfNeed(i), a.NetUtil.sendProtoMsg(i)
            }, e.sendCardBoxInfo = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARDBOX_INFO, t.setExtensions_Card_pb_SglCardMsg_card_box_info_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCardBoxReset = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_RESET_CARDBOX, t.setExtensions_Card_pb_SglCardMsg_reset_card_box_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBookLottery = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_LOTTERY_BOOK, t.setExtensions_Card_pb_SglCardMsg_card_lottery_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendExchangeResolve = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PROP_ELEVATE;
                var n = t.addExtensions_Card_pb_SglCardMsg_prop_elevate_req();
                n.info_id = e, n.num = 1, a.NetUtil.sendProtoMsg(t)
            }
        })(n.CardPart || (n.CardPart = {})), cc._RF.pop()
    }, {"../../nox": "nox", "../utils/NetUtil": "NetUtil"}],
    CardSprite: [function (e, t, n) {
        "use strict";
        var a, i;
        cc._RF.push(t, "4d328afJkVEMpkXr3yaylfF", "CardSprite"), Object.defineProperty(n, "__esModule", {value: !0});
        var o = e("./PlayerUi"), r = e("./BattleUi"), _ = e("../../../leocool/lc"), s = e("../../data/data"),
            c = e("../data/BattleData"), l = e("../../../nox"), d = e("../../../noxEvent"),
            p = e("../../const/ViewConst"), u = e("../../utils/SpriteUtil"), g = e("../../../noxcc"),
            h = e("../../utils/CardUtil"), f = e("../../utils/SpineUtil"), m = e("../../../leocool/lcMath"),
            y = e("../../config/UICfg"), T = e("../../utils/ParticleUtil"), S = e("../../../leocool/lcAudio"),
            C = e("../../AudioEnums"), v = e("../../StringEnums"), b = e("../../../leocool/lcStr"),
            E = e("../../utils/UIUtil"), I = e("../../../framework/NoxResMgr"), A = e("../../GuideManager"),
            R = function () {
                function e() {
                    this._node = null, this._isGuiding72 = null, this._pInfoArea = null, this._pFrame = null, this._pHpSpr = null, this._drawBackNode = null, this._skillBtns = [], this._pTransfiguration = null, this._pCardAreaAll = null, this._pCardArea = null, this._pShadowArea = null, this._pMaskParticleArea = null, this._handGlow = null, this._boardGlowAtk = null, this._attackNode = null, this._isOnBottomHalf = !1, this._posiBuffIconValue = null, this._negaBuffIconValue = null, this._isController = !1, this._isAttacker = !1, this._targetCard = null, this._triggerSkill = null, this._spineDie = null, this._toEvolveSpine = null, this._toBoardSpine = null, this._spellUsedFlag = null, this._powerGetSpine = null, this._delayAction = null, this.aaaname = null, this._touchEvent = {}, this._node = new cc.Node
                }

                return e.create = function (t, n, a) {
                    void 0 === a && (a = !1);
                    var i = new e;
                    return i.init(t, n, a), i
                }, Object.defineProperty(e.prototype, "node", {
                    get: function () {
                        return this._node
                    }, enumerable: !0, configurable: !0
                }), e.prototype.getPosition = function () {
                    return this._node.getPosition()
                }, e.prototype.convertToWorldSpace = function (e) {
                    return this.node.convertToWorldSpace(e)
                }, e.prototype.setPosition = function (e) {
                    (isNaN(e.x) || isNaN(e.y)) && cc.log(""), this._node.setPosition(e)
                }, e.prototype.setScale = function (e) {
                    this._node.setScale(e)
                }, e.prototype.getScale = function () {
                    return this._node.scale
                }, e.prototype.getRotation = function () {
                    this._node.getRotation(null);
                    return 0
                }, e.prototype.setVisible = function (e) {
                    g.noxcc.setActive(this._node, e)
                }, e.prototype.getContentSize = function () {
                    if (this._card._status == c.default.CardStatus.board) {
                        if (this._pTransfiguration) return this._pTransfiguration._node.getContentSize()
                    } else this._card._status, c.default.CardStatus.show;
                    return this._pFrame.getContentSize()
                }, e.prototype.getParent = function () {
                    return this._node.getParent()
                }, e.prototype.removeFromParent = function () {
                    this._node.removeFromParent()
                }, e.prototype.setRotation3D = function (e) {
                }, e.prototype.setLocalZOrder = function (e) {
                    this._node.zIndex = e
                }, e.prototype.runAction = function (e) {
                    this._node.runAction(e)
                }, e.prototype.addChild = function (e, t) {
                    void 0 === t && (t = null), this._node.addChild(e, t)
                }, e.prototype.stopActionByTag = function (e) {
                    this._node.stopActionByTag(e)
                }, e.prototype.stopAllActions = function () {
                    this._node.stopAllActions()
                }, e.prototype.init = function (t, n, a) {
                    void 0 === a && (a = !1), this.setPlayerUi(n), this._battleUi = n._battleUi, this._card = t, this._scene = n._battleUi._scene, this._default = {
                        _position: new cc.Vec2(0, 0),
                        _rotation: {
                            z: 0,
                            y: 0,
                            x: this._battleUi._battleType == s.Data.BattleType.layout ? 0 : this._battleUi._isReverse ? -p.ViewConst.BATTLE_ROTATION_X : p.ViewConst.BATTLE_ROTATION_X
                        }
                    }, this._pCardAreaAll = new cc.Node, this._pCardAreaAll.active = !0, this.addChild(this._pCardAreaAll, e.ZOrder.card), this._pCardArea = _.lc.createNode(), this._pCardArea.active = !0, this._pCardAreaAll.addChild(this._pCardArea, e.ZOrder.card), this._pCardArea.is3DNode = !0, this._pShadowArea = _.lc.createNode(), this.addChild(this._pShadowArea, e.ZOrder.shadow), this._pShadowArea.active = !1, this._pShadowArea.is3DNode = !0, this._pMaskParticleArea = _.lc.createNode(), this.addChild(this._pMaskParticleArea, e.ZOrder.effect), this._posiBuffIconValue = 0, this._negaBuffIconValue = 0, this._buffIcons = {}, this._buffIconsAtk = {}, this._ignoreIconEffect = a, this._iconEffectDelay = .5, this.shouldShowNormal() ? this.initNormal() : this.initBack()
                }, e.prototype.shouldShowNormal = function () {
                    return !this._battleUi._isObserver && this._battleUi._battleType != s.Data.BattleType.replay || this._card._status != c.default.CardStatus.hand ? this._isController : !this._ownerUi._hideHandCards
                }, e.prototype.shouldShowCardInfo = function () {
                    this._ownerUi._player, this._ownerUi._opponentUi._player;
                    return this._isController || this._battleUi._isObserver
                }, e.prototype.setPlayerUi = function (e) {
                    this._ownerUi = e, this._isAttacker = e._isAttacker, this._isOnBottomHalf = e._isOnBottomHalf, this._isController = this._isAttacker == e._battleUi._isAttacker
                }, e.prototype.initCard = function (t) {
                    void 0 === t && (t = null), null != t && (this._status = t), null == this._pFrame && (null == this._card && cc.log(""), this._pFrame = h.CardUtil.CardFrame.create(this._card._infoId, this._ownerUi._cardBackId, this._ownerUi._player._skins[this._card._infoId]), this._pCardArea.addChild(this._pFrame.node, 1), this._pHpSpr = this._pFrame._hpValue), this._status == e.Status.back || this._status != e.Status.normal && (this._status, e.Status.dead), this.aaaname = b.lcStr(this._card._info._nameSid)
                }, e.prototype.initNormal = function () {
                    var t = this._status;
                    this._status = e.Status.normal, t != this._status && (this.removeCardActive(), this.initCard(), this._pFrame.setVisible(!0), this._pFrame.setStatus(!0, !1), this._pCardAreaAll.setScale(e.Scale.normal), this.setRotation3D(this._default._rotation), this._pTransfiguration && (this._pTransfiguration._mainNode.setVisible(!0), null != this._pTransfiguration._backNode && (this._pTransfiguration._backNode.removeFromParent(), this._pTransfiguration._backNode = null)))
                }, e.prototype.initBack = function () {
                    var t = this._status;
                    this._status = e.Status.back, t != this._status && (this.removeCardActive(), this.removeAllStatus(), this.initCard(), this._pFrame.setVisible(!0), this._pFrame.setStatus(!1, !1), this._pCardAreaAll.setScale(e.Scale.normal), this.setRotation3D(this._default._rotation), this._pTransfiguration && (this._pTransfiguration._mainNode.setVisible(!1), null == this._pTransfiguration._backNode && (this._pTransfiguration._backNode = u.SpriteUtil.createSprite(this._ownerUi._cardBackAtkName).node, this._pTransfiguration._node.addChild(this._pTransfiguration._backNode))))
                }, e.prototype.initFight = function () {
                    this._status != e.Status.fight && (this._status = e.Status.fight, this.initCard(), this._pFrame.setVisible(!0), this._pFrame.setStatus(!0, !0), this._pCardAreaAll.setScale(h.CardUtil.getBoardCardScale(this)), this.reloadAllStatus(), this._battleUi._battleType == s.Data.BattleType.layout && this.addPowerChanger())
                }, e.prototype.initTeachBoard = function () {
                    this.loadTransfigureNode(!1), this.transfigure(), this._pCardAreaAll.setScale(h.CardUtil.getBoardCardScale(this))
                }, e.prototype.initDead = function () {
                    this._status = e.Status.dead
                }, e.prototype.onTouchBegan = function (t) {
                    if (null != this._touchEvent._status && this._touchEvent._status != e.TouchStatus.ungrabbed) return !1;
                    this._touchEvent._status = e.TouchStatus.grabbed;
                    var n = this;
                    this._touchEvent._focusedScheduler = l.nox.scheduleTimeout(function () {
                        n._touchEvent._isLongPressed || (n._touchEvent._isLongPressed = !0, n._touchEvent._isTapped = !1, n._touchEvent._touchCardType == e.TouchCardType.self_hand_card && n._status == e.Status.large && n.showCardInfo())
                    }, .4), this._touchEvent._focusTimes = 0, this._touchEvent._isTapped = !0, this._touchEvent._isLongPressed = !1, !this.shouldShowCardInfo() || this._card._status != c.default.CardStatus.hand || 52 == P._guideID && null != this._battleUi._pAttackingCard ? this._card._status == c.default.CardStatus.board ? this._touchEvent._touchCardType = e.TouchCardType.board_card : this._card._status == c.default.CardStatus.grave ? this._touchEvent._touchCardType = e.TouchCardType.grave_card : this._card._status == c.default.CardStatus.energy && (this._touchEvent._touchCardType = e.TouchCardType.energy_card) : (this._touchEvent._touchCardType = e.TouchCardType.self_hand_card, this._touchEvent._startPos = this.getPosition(), this.showLargePic(null == t))
                }, e.prototype.onTouchMoved = function (t) {
                    var n = this._touchEvent._status;
                    if (null != n && n != e.TouchStatus.ungrabbed) if (this._touchEvent._status = e.TouchStatus.moved, n == e.TouchStatus.grabbed) m.lcMath.pGetDistance(t.getLocation(), t.getStartLocation()) <= y.UICfg.BUDGE_LIMIT ? this._touchEvent._status = n : (this._touchEvent._isTapped = !1, this._touchEvent._isLongPressed = !1, this._pCardArea.stopAllActions(), this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? this._status == e.Status.info && this.hideCardInfo() : this._touchEvent._touchCardType == e.TouchCardType.board_card && this.sendEvent(e.EventType.hide_card_info)); else if (n == e.TouchStatus.moved && (this.hideCardInfo(), this._touchEvent._focusTimes = 0, this._touchEvent._touchCardType == e.TouchCardType.self_hand_card)) {
                        var a = new cc.Vec2(this._touchEvent._startPos.x + t.getLocation().x - t.getStartLocation().x, this._touchEvent._startPos.y + t.getLocation().y - t.getStartLocation().y);
                        this.setPosition(a), this.handCardMove(2, t.getLocation().x - t.getPreviousLocation().x, t.getLocation().y - t.getPreviousLocation().y)
                    }
                }, e.prototype.onTouchFocused = function () {
                    this._touchEvent._focusTimes = this._touchEvent._focusTimes + 1, this._touchEvent._status == e.TouchStatus.ungrabbed ? null != this._touchEvent._focusedScheduler && (l.nox.unscheduleTimeout(this._touchEvent._focusedScheduler), this._touchEvent._focusedScheduler = null) : this._touchEvent._status == e.TouchStatus.grabbed ? !this._touchEvent._isLongPressed && this._touchEvent._focusTimes > 5 && (this._touchEvent._isLongPressed = !0, this._touchEvent._isTapped = !1, this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? this._status == e.Status.large && this.showCardInfo() : (this._touchEvent._touchCardType, e.TouchCardType.board_card)) : this._touchEvent._status == e.TouchStatus.moved && this._touchEvent._touchCardType == e.TouchCardType.self_hand_card && this._touchEvent._focusTimes > 1 && this.handCardMove(1)
                }, e.prototype.onTouchEnded = function (t) {
                    if (void 0 === t && (t = null), null != this._touchEvent._status && this._touchEvent._status != e.TouchStatus.ungrabbed) {
                        var n = this._touchEvent._status;
                        this._touchEvent._status = e.TouchStatus.ungrabbed, n == e.TouchStatus.grabbed ? this._touchEvent._isTapped ? this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? this.hideLargePic() : this._touchEvent._touchCardType == e.TouchCardType.board_card ? !this._isController || !this._card._owner.canUseAnyMonsterSpell(this._card) && 1 != this._card._pos || this._battleUi._isAuto || this._card._owner._macroStatus != c.default.Status.use || this.isGuideNotShowAttack() || this._battleUi._isObserver ? this.sendEvent(e.EventType.show_card_info) : this._battleUi.showCardAttack(this) : this._touchEvent._touchCardType == e.TouchCardType.grave_card ? this.sendEvent(e.EventType.show_grave_list) : this._touchEvent._touchCardType == e.TouchCardType.energy_card && this._battleUi._isAddingBoardCard && this._ownerUi.sendEvent(o.PlayerUi.EventType.dialog_adding_board_card, {}) : this._touchEvent._isLongPressed && (this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? this.hideLargePic() : this._touchEvent._touchCardType == e.TouchCardType.board_card && this.sendEvent(e.EventType.hide_card_info)) : n == e.TouchStatus.moved && (this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? (this.hideLargePic(), this.handCardMove(0)) : this._touchEvent._touchCardType == e.TouchCardType.board_card && this.sendEvent(e.EventType.hide_card_info))
                    }
                }, e.prototype.onTouchCanceled = function () {
                    null != this._touchEvent._status && this._touchEvent._status != e.TouchStatus.ungrabbed && (this._touchEvent._status = e.TouchStatus.ungrabbed, this._touchEvent._status == e.TouchStatus.grabbed ? this._touchEvent._isTapped ? this._touchEvent._touchCardType == e.TouchCardType.self_hand_card && this.hideLargePic() : this._touchEvent._isLongPressed && (this._touchEvent._touchCardType == e.TouchCardType.self_hand_card ? this.hideLargePic() : this._touchEvent._touchCardType == e.TouchCardType.board_card && this.sendEvent(e.EventType.hide_card_info)) : this._touchEvent._status == e.TouchStatus.moved && this._touchEvent._touchCardType == e.TouchCardType.self_hand_card && (this.hideLargePic(), this.handCardMove(0)))
                }, e.prototype.showUseTips = function () {
                    this._card
                }, e.prototype.removeUseTips = function () {
                    null != this._battleUi._cardUseTips && (this._battleUi._cardUseTips.removeFromParent(), this._battleUi._cardUseTips = null)
                }, e.prototype.sendEvent = function (t) {
                    e.EVENT.dispatchEvent({_sender: this, _type: t})
                }, e.prototype.containsTouchLocation = function (e, t) {
                    return cc.rect(0, 0, 100, 100).contains(new cc.Vec2(e, t))
                }, e.prototype.handCardMove = function (t, n, a) {
                    if (void 0 === n && (n = null), void 0 === a && (a = null), 0 == t) this._pCardArea.setRotation(new cc.Quat(0, 0, 0)), this._pShadowArea.setRotation(new cc.Quat(0, 0, 0)), this._pShadowArea.setPosition(0, 0), this._pShadowArea.setScale(1); else if (1 == t) {
                        this._pCardArea.getRotation(null), 4;
                        var i = new cc.Vec2(-100, -100), o = this._pShadowArea.getPosition(), r = {
                            x: (o = new cc.Vec2(o.x - i.x, o.y - i.y)).x < -4 ? o.x + 4 : o.x > 4 ? o.x - 4 : 0,
                            y: o.y < -4 ? o.y + 4 : o.y > 4 ? o.y - 4 : 0
                        };
                        this._pShadowArea.setPosition(r.x + i.x, r.y + i.y), this._pShadowArea.setScale(1 / e.Scale.normal * .8)
                    } else if (2 == t) {
                        i = new cc.Vec2(-100, -100), o = this._pShadowArea.getPosition(), r = {
                            x: (o = new cc.Vec2(o.x - i.x, o.y - i.y)).x < 5 * -n - 20 ? o.x + 6 : o.x > 5 * -n + 20 ? o.x - 6 : o.x,
                            y: o.y < 5 * -a - 20 ? o.y + 6 : o.y > 5 * -a + 20 ? o.y - 6 : o.y
                        };
                        this._pShadowArea.setPosition(r.x + i.x, r.y + i.y), this._pShadowArea.setScale(1 / e.Scale.normal * .8)
                    }
                }, e.prototype.showLargePic = function (t) {
                    this._tempStatus = this._status, this._status = e.Status.large;
                    var n = 2 * cc.director.getScheduler().getTimeScale();
                    this.stopAllActions(), this.setPosition(new cc.Vec2(p.ViewConst.SCR_CW - 300, 380)), this.setScale(1), this._pShadowArea.stopAllActions(), this._pShadowArea.setPosition(0, 0), this._pShadowArea.setScale(1, 1), this._pCardAreaAll.setScale(e.Scale.hd), t || this._pCardArea.runAction(cc.repeatForever(cc.sequence(cc.moveBy(n, cc.p(5, 10)).easing(cc.easeOut(2)), cc.moveBy(n, cc.p(-5, -10)).easing(cc.easeIn(2)), cc.moveBy(n, cc.p(-5, -10)).easing(cc.easeOut(2)), cc.moveBy(n, cc.p(5, 10)).easing(cc.easeIn(2))))), this.updateZOrder(), this._isGuiding72 && (this._isGuiding72 = null, A.GuideManager.releaseFinger())
                }, e.prototype.hideLargePic = function () {
                    this._status != e.Status.large && this._status != e.Status.info || (this.hideCardInfo(), this._pMaskParticleArea.setVisible(!0), this._pCardArea.stopAllActions(), this._pCardAreaAll.setScale(e.Scale.normal), this._pCardAreaAll.stopAllActions(), this._pCardAreaAll.setPosition(0, 0), this._status = this._tempStatus, this.updateZOrder())
                }, e.prototype.showCardInfo = function (t) {
                    void 0 === t && (t = !0), this._status = e.Status.info, null != this._pInfoArea && this._pInfoArea.removeFromParent(), this._pInfoArea = g.noxcc.newNode("info_area"), this._pCardArea.addChild(this._pInfoArea, 10);
                    var n = this._battleUi.createCardInfoPanelInBattle(this);
                    _.lc.addChildToPosAR(this._pInfoArea, n, cc.p(500, 90))
                }, e.prototype.hideCardInfo = function () {
                    null != this._pInfoArea && this._pInfoArea.removeFromParent(), this._pInfoArea = null
                }, e.prototype.updateZOrder = function (t) {
                    void 0 === t && (t = !1), this._status == e.Status.large || this._status == e.Status.info ? this.setLocalZOrder(r.BattleUi.ZOrder.card_touch) : t ? this.setLocalZOrder(r.BattleUi.ZOrder.card_action) : this._status == e.Status.normal ? this.setLocalZOrder(r.BattleUi.ZOrder.card_hand + (this._card._pos || 0)) : this._status == e.Status.back ? this.setLocalZOrder(r.BattleUi.ZOrder.card + (this._card._pos || 0)) : this._status == e.Status.fight ? this.setLocalZOrder(r.BattleUi.ZOrder.card_board + (this._card._pos || 0)) : this._status == e.Status.dead && this.setLocalZOrder(r.BattleUi.ZOrder.card)
                }, e.prototype.updateAtkHp = function () {
                    this.updateBuffIcons(), this._pTransfiguration && (u.SpriteUtil.setSprite(this._pTransfiguration._hpNode, "card_hp_" + this._card._hp), this._card._hp < this._card._info._hp ? this._pTransfiguration._hpNode.color = _.lc.Color3B.red : this._card._hp > this._card._info._hp ? this._pTransfiguration._hpNode.color = _.lc.Color3B.blue : this._pTransfiguration._hpNode.color = _.lc.Color3B.white)
                }, e.prototype.updateActive = function (e) {
                    if (e) {
                        if (null == this._handGlow) {
                            this._handGlow = _.lc.createNode(), _.lc.addChildToCenter(this._pFrame.node, this._handGlow, -1);
                            var t = f.SpineUtil.createSpineAnim(39999 == this._card._infoId ? "xuanzhong2" : "xuanzhong", "default", "animation1", !0);
                            this._handGlow.addChild(t), this._handGlow.runAction(_.lc.sequence(.1, function () {
                                t.setScale(1.8), t.getComponent(sp.Skeleton).setAnimation(1, "animation1", !0)
                            }.bind(this)))
                        }
                    } else null != this._handGlow && (this._handGlow.removeFromParent(), this._handGlow = null)
                }, e.prototype.updateBoardActive = function () {
                    if (this._card._status == c.default.CardStatus.board) if (this._ownerUi._player.getActionPlayer() == this._ownerUi._player && this._battleUi._pAttackingCard != this && (this._card._owner.canUseAnyMonsterSpell(this._card) || this._card._owner.canDrawbackCard(this._card)[0]) && this._ownerUi._player._round > 0) {
                        if (null == this._boardGlowAtk) {
                            var e = f.SpineUtil.createSpineAnim("kpcz", "default", "animation3", !0);
                            _.lc.addChildToPosAR(this._pCardAreaAll, e, cc.v2(0, -13), -20);
                            h.CardUtil.getBoardCardScale(this);
                            e.setScale(.8), this._boardGlowAtk = e;
                            e.runAction(_.lc.scaleTo(1.6, 1.62))
                        }
                    } else null != this._boardGlowAtk && (this._boardGlowAtk.removeFromParent(), this._boardGlowAtk = null)
                }, e.prototype.udpateDirectToSelected = function (e) {
                }, e.prototype.isNeedAddPositiveStatus = function () {
                    for (var e = this._card, t = 1; t <= c.default.PositiveType.count; t++) t != c.default.PositiveType.powerMark && e.hasBuff(!0, t) && !0;
                    return !1
                }, e.prototype.updatePositiveStatus = function () {
                    this.updateBuffIcons(), this.updateBoardActive()
                }, e.prototype.updateNegativeStatus = function () {
                    this.updateBuffIcons(), this.updateBoardActive()
                }, e.prototype.reloadAllStatus = function () {
                    this.updateBuffIcons(), this.updateBoardActive()
                }, e.prototype.removeAllStatus = function () {
                }, e.prototype.removeCardActive = function () {
                    null != this._handGlow && (this._handGlow.removeFromParent(), this._handGlow = null)
                }, e.prototype.playToBoard = function (e, t) {
                    return void 0 === t && (t = !1), t ? this.playToBoardEvolve(e) : this.playToBoardNormal(e)
                }, e.prototype.playToBoardNormal = function (t) {
                    var n = this, a = this._ownerUi;
                    a._battleUi;
                    this.updateActive(!1), this.shouldShowNormal() && this._status != e.Status.normal ? this.initNormal() : this.shouldShowNormal() || this._status == e.Status.back || this.initBack(), this._card._sourceStatus == c.default.CardStatus.pile ? this.setPosition(new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH)) : this._card._sourceStatus == c.default.CardStatus.hand && a.replaceHandCards(t, this._card);
                    var i = new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH), o = this.getPosition(),
                        r = (this._default._position, e.Scale.normal, a.calLengthAndAngle(i, o)[0] / 1500),
                        s = a._player._round <= 0;
                    return n._node.is3DNode = !0, this.runAction(_.lc.sequence(_.lc.callFunc(function () {
                        n.loadTransfigureNode(!1)
                    }), _.lc.delay(t), _.lc.callFunc(function () {
                        n.updateZOrder(!0)
                    }), _.lc.spawn(_.lc.moveTo(r, n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? n._default._position : i), _.lc.rotateTo(r, (n._battleUi._isReverse ? p.ViewConst.BATTLE_ROTATION_X : p.ViewConst.BATTLE_ROTATION_X, 0)), _.lc.scaleTo(n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 0 : r, n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 0 : 1 / e.Scale.normal_main)), _.lc.callFunc(function () {
                        var t = T.ParticleUtil.createParticle("par_kprc01");
                        _.lc.addChildToCenter(n.node, t, e.ZOrder.efc), n._status == e.Status.normal || s || n.initNormal()
                    }), _.lc.callFunc(function () {
                        a.preloadEfcCardToBoard(n)
                    }), _.lc.delay(n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 1.2 : .4), _.lc.spawn(_.lc.moveTo(.35, n._default._position), _.lc.scaleTo(.35, .7), _.lc.callFunc(function () {
                        s && (n.runAction(_.lc.callFunc(function () {
                            n._node.runAction(cc.rotate3DTo(.175, 0, 90, 0)), _.lc.hide()
                        })), n._node.eulerAngles = new cc.Vec3(0, -90, 0), n.runAction(_.lc.sequence(.175, _.lc.callFunc(function () {
                            n.initBack(), _.lc.show(), n._node.runAction(cc.rotate3DTo(.175, 0, 0, 0))
                        }))))
                    })), 0, _.lc.callFunc(function () {
                        n._node.setRotation(0, 0, 0, 1), n.setScale(1), n.transfigure()
                    }), _.lc.callFunc(function () {
                        a.efcCardToBoard(n);
                        var t = T.ParticleUtil.createParticle("par_yhcx");
                        _.lc.addChildToCenter(n._node, t, e.ZOrder.efc), n.initFight(), n.updateAtkHp(), s && (n.initBack(), n._pCardAreaAll.setScale(h.CardUtil.getBoardCardScale(n)))
                    }), .15, _.lc.callFunc(function () {
                        n.updateZOrder(), a.updateBoardCardsActive()
                    }))), n._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(r, new cc.Vec2(-100, -50)), _.lc.scaleTo(r, .6), _.lc.fadeTo(r, 200)), _.lc.delay(.4), _.lc.spawn(_.lc.moveTo(.35, new cc.Vec2(0, 0)), _.lc.scaleTo(.35, 1), _.lc.fadeTo(.35, 255)))), t + r + (n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 1.2 : .4) + .35 + .4
                }, e.prototype.playToBoardEvolve = function (t) {
                    var n = this, a = this._ownerUi;
                    a._battleUi;
                    this.updateActive(!1), this.shouldShowNormal() && this._status != e.Status.normal ? this.initNormal() : this.shouldShowNormal() || this._status == e.Status.back || this.initBack(), this._card._sourceStatus == c.default.CardStatus.pile ? this.setPosition(new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH)) : this._card._sourceStatus == c.default.CardStatus.hand && a.replaceHandCards(t, this._card);
                    var i = new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH), o = this.getPosition(),
                        r = (this._default._position, e.Scale.normal, a.calLengthAndAngle(i, o)[0] / 1500),
                        s = a._player._round <= 0;
                    return this._node.is3DNode = !0, this.runAction(_.lc.sequence(_.lc.callFunc(function () {
                        n.loadTransfigureNode(!1)
                    }), _.lc.delay(t), _.lc.callFunc(function () {
                        n.updateZOrder(!0)
                    }), _.lc.spawn(_.lc.moveTo(r, n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? n._default._position : i), _.lc.rotateTo(r, (n._battleUi._isReverse ? p.ViewConst.BATTLE_ROTATION_X : p.ViewConst.BATTLE_ROTATION_X, 0)), _.lc.scaleTo(n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 0 : r, n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 0 : 1 / e.Scale.normal_main)), _.lc.callFunc(function () {
                        var t = T.ParticleUtil.createParticle("par_kprc01");
                        _.lc.addChildToCenter(n.node, t, e.ZOrder.efc), n._status == e.Status.normal || s || n.initNormal()
                    }), _.lc.callFunc(function () {
                        a.preloadEfcCardEvolve(n)
                    }), _.lc.delay(n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 1.2 : .4), _.lc.spawn(_.lc.moveTo(.35, n._default._position), cc.rotate3DTo(.35, 0, 90, 0), _.lc.scaleTo(.35, .7), _.lc.callFunc(function () {
                        a._isController && s && (n.runAction(_.lc.callFunc(function () {
                            n._node.runAction(cc.rotate3DTo(.175, 0, 90, 0)), _.lc.hide()
                        })), n._node.eulerAngles = new cc.Vec3(0, -90, 0), n.runAction(_.lc.sequence(.175, _.lc.callFunc(function () {
                            n.initBack(), _.lc.show(), n._node.runAction(cc.rotate3DTo(.175, 0, 0, 0))
                        }))))
                    })), .02, _.lc.callFunc(function () {
                        n._node.setRotation(0, 0, 0, 1), n.setScale(1), n.transfigure(), n._pCardAreaAll.setVisible(!1)
                    }), _.lc.callFunc(function () {
                        a.efcCardEvolve(n);
                        var t = T.ParticleUtil.createParticle("par_yhcx");
                        _.lc.addChildToCenter(n._node, t, e.ZOrder.efc), n.initFight(), n.updateAtkHp(), s && (n.initBack(), n._pCardAreaAll.setScale(h.CardUtil.getBoardCardScale(n)))
                    }), .9, _.lc.callFunc(function () {
                        n._pCardAreaAll.setVisible(!0)
                    }), .15, _.lc.callFunc(function () {
                        null != n._boardGlowAtk && (n._boardGlowAtk.removeFromParent(), n._boardGlowAtk = null), n.updateZOrder(), a.updateBoardCardsActive()
                    }))), n._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(r, new cc.Vec2(-100, -50)), _.lc.scaleTo(r, .6), _.lc.fadeTo(r, 200)), _.lc.delay(.4), _.lc.spawn(_.lc.moveTo(.35, new cc.Vec2(0, 0)), _.lc.scaleTo(.35, 1), _.lc.fadeTo(.35, 255)))), t + r + (n._card._statusVal == c.default.CardStatusVal.g2b_4111 ? 1.2 : .4) + .35 + 1.84 + (n._card._info._level >= 2 ? 1.5 : 1)
                }, e.prototype.fastToHand = function (e, t) {
                    return this.playToHand(e, t)[0]
                }, e.prototype.fastToBoard = function (t) {
                    var n = this._ownerUi;
                    n._battleUi;
                    return this.updateActive(!1), n._isController && this._status != e.Status.normal ? this.initNormal() : n._isController || this._status == e.Status.back || this.initBack(), this._card._sourceStatus == c.default.CardStatus.pile ? this.setPosition(new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH)) : this._card._sourceStatus == c.default.CardStatus.hand && n.replaceHandCards(0, this._card), this.runAction(_.lc.sequence(_.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.callFunc(function () {
                        this._status != e.Status.normal && this.initNormal()
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(0, this._default._position)), _.lc.callFunc(function () {
                        this.initFight(), this.updateZOrder(), n.updateBoardCardsActive()
                    }.bind(this)))), t
                }, e.prototype.playEmptyToBoard = function (e) {
                    var t = this._ownerUi;
                    t._opponentUi, t._battleUi;
                    return this.updateActive(!1), this.setVisible(!0), this.setPosition(this._default._position), this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.delay(.3), _.lc.callFunc(function () {
                    }.bind(this)), _.lc.delay(.3), _.lc.callFunc(function () {
                        this.setVisible(!0), this.node.opacity = 255, this.updateZOrder(), t.updateBoardCardsActive()
                    }.bind(this)))), e + .3 + .3
                }, e.prototype.playBoardToBoard = function (e) {
                    var t = this._ownerUi;
                    t._opponentUi, t._battleUi;
                    this.updateActive(!1);
                    var n = this.getPosition(), a = this._default._position, i = t.calLengthAndAngle(n, a)[0],
                        o = Math.sqrt(i) / 30 + .02;
                    return this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.moveTo(o, a), _.lc.callFunc(function () {
                        this.updateZOrder(), t.updateBoardCardsActive()
                    }.bind(this)))), e + o
                }, e.prototype.playBoardToGrave = function (t) {
                    var n = this, a = this._ownerUi;
                    a._battleUi;
                    return this.updateActive(!1), this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        n.updateZOrder(!0), a.efcCardDie(n)
                    }), .75, _.lc.callFunc(function () {
                        n.unTransfigure(), g.noxcc.setActive(n._pCardAreaAll, !1), n._pCardAreaAll.setScale(e.Scale.grave)
                    }), _.lc.moveTo(.5, n._isOnBottomHalf ? o.PlayerUi.Pos.attacker_grave : o.PlayerUi.Pos.defender_grave), _.lc.callFunc(function () {
                        g.noxcc.setActive(n._pCardAreaAll, !0), n.updateZOrder(!0)
                    }), _.lc.delay(.4), _.lc.callFunc(function () {
                    }), .67, _.lc.callFunc(function () {
                        a.addGraveCard(n), n.updateZOrder()
                    }))), t + .5 + .75 + .4 + .67
                }, e.prototype.showUseToGrave = function (t) {
                    var n = this, a = this._ownerUi;
                    a._opponentUi, a._battleUi;
                    this.updateActive(!1);
                    var i = this.getPosition(), r = this._default._position, s = a.calLengthAndAngle(i, r), c = s[0],
                        l = s[1];
                    Math.sqrt(c);
                    return n.setPosition(n._isOnBottomHalf ? o.PlayerUi.Pos.attacker_grave : o.PlayerUi.Pos.defender_grave), n.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        n._pCardAreaAll.setScale(e.Scale.grave), n.updateZOrder(!0)
                    }), _.lc.ease(_.lc.spawn(_.lc.moveTo(c / 1500 + .1, r), _.lc.scaleTo(c / 1500 + .1, l)), "BackO"), _.lc.delay(.9), _.lc.ease(_.lc.spawn(_.lc.moveTo(.2, n._isOnBottomHalf ? o.PlayerUi.Pos.attacker_grave : o.PlayerUi.Pos.defender_grave), _.lc.scaleTo(c / 1500 + .1, 1)), "BackO"), _.lc.callFunc(function () {
                        a.addGraveCard(n), n.updateZOrder()
                    }))), t + c / 1500 + .1 + .9 + .2 + .1
                }, e.prototype.playToGrave = function (t) {
                    var n = this, a = this._ownerUi;
                    a._opponentUi, a._battleUi;
                    n.updateActive(!1), this._card._sourceStatus == c.default.CardStatus.hand && a.replaceHandCards(t, this._card);
                    var i = new cc.Vec2(p.ViewConst.SCR_CW - 440, p.ViewConst.SCR_CH), r = this.getPosition(),
                        s = a.calLengthAndAngle(i, r)[0] / 1500,
                        l = this._card._statusVal == c.default.CardStatusVal.p2g_show || this._card._statusVal == c.default.CardStatusVal.h2g_show;
                    return this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        this.updateZOrder(!0), this.initNormal()
                    }.bind(this)), l ? _.lc.sequence(_.lc.callFunc(function () {
                        n._pCardAreaAll.runAction(_.lc.ease(_.lc.scaleTo(.2, e.Scale.show), "BackO"))
                    }), _.lc.ease(_.lc.moveTo(s, i), "BackO")) : _.lc.delay(0), l ? _.lc.delay(.8) : _.lc.delay(0), _.lc.spawn(_.lc.moveTo(.2, this._isOnBottomHalf ? o.PlayerUi.Pos.attacker_grave : o.PlayerUi.Pos.defender_grave), _.lc.scaleTo(.2, 1), _.lc.callFunc(function () {
                        n._pCardAreaAll.runAction(_.lc.scaleTo(.2, e.Scale.grave))
                    })), _.lc.callFunc(function () {
                        n.updateZOrder(!0)
                    }.bind(this)), _.lc.delay(1.07), _.lc.callFunc(function () {
                        a.addGraveCard(this), n.updateZOrder()
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(s, new cc.Vec2(-100, -50)), _.lc.scaleTo(s, .6), _.lc.fadeTo(.2, 200)))), t + s + .2
                }, e.prototype.fastToGrave = function (t) {
                    var n = this._ownerUi;
                    n._opponentUi, n._battleUi;
                    return this.updateActive(!1), this.setScale(1 / e.Scale.normal), n.addGraveCard(this), this.updateZOrder(), t
                }, e.prototype.playToPile = function (t) {
                    var n = this._ownerUi;
                    n._opponentUi, n._battleUi;
                    this.updateActive(!1), this._card._sourceStatus == c.default.CardStatus.hand && n.replaceHandCards(t, this._card), this.shouldShowNormal() && this._status != e.Status.normal ? this.initNormal() : this.shouldShowNormal() || this._status == e.Status.back || this.initBack();
                    var a = new cc.Vec2(p.ViewConst.SCR_CW + 440, p.ViewConst.SCR_CH),
                        i = n._isController ? o.PlayerUi.Pos.attacker_pile : o.PlayerUi.Pos.defender_pile,
                        r = this.getPosition(), s = n.calLengthAndAngle(a, r)[0] / 1500 + .1, l = 1 / e.Scale.normal;
                    return this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(s, a), _.lc.rotateTo(s, 0), _.lc.scaleTo(s, l)), _.lc.delay(.1), _.lc.spawn(_.lc.moveTo(.4, i), cc.rotate3DTo(.4, 90, 0, 90), _.lc.scaleTo(.4, 1)), _.lc.callFunc(function () {
                        n.hideCardSprite(this)
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(s, new cc.Vec2(-100, -50)), _.lc.scaleTo(s, .6), _.lc.fadeTo(.2, 200)), _.lc.delay(.1), _.lc.ease(cc.rotate3DTo(.4, 90, 0, 90), "BackO"))), t + .1 + s + .4
                }, e.prototype.fastToPile = function (t) {
                    var n = this._ownerUi;
                    n._opponentUi, n._battleUi;
                    return this.updateActive(!1), this.shouldShowNormal() && this._status != e.Status.normal ? this.initNormal() : this.shouldShowNormal() || this._status == e.Status.back || this.initBack(), n.hideCardSprite(this), t
                }, e.prototype.playToLeave = function (t) {
                    var n = this, a = this._ownerUi;
                    a._opponentUi, a._battleUi;
                    this.updateActive(!1), this._card._sourceStatus == c.default.CardStatus.hand && (a.replaceHandCards(t, this._card), S.lcAudio.playAudio(C.AUDIO.E_BAT_USE_MAGIC));
                    var i = new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH), r = o.PlayerUi.Pos.attacker_pile,
                        s = this.getPosition(), l = a.calLengthAndAngle(i, s)[0] / 1500 + .1, d = 0,
                        u = 1 / e.Scale.normal_main;
                    if (this._ownerUi._isOnBottomHalf || (r = o.PlayerUi.Pos.defender_pile), null != this._card._equipTarget && this._card._equipTarget._status == c.default.CardStatus.board) {
                        var g = this._ownerUi.getCardSprite(this._card._equipTarget);
                        if (null == g && (g = this._ownerUi._opponentUi.getCardSprite(this._card._equipTarget)), null != g) {
                            r = g._ownerUi.calBoardCardPos(g), d = 1 == this._card._equipTarget._pos ? 1 : .6;
                            var h = null;
                            h = 39999 == this._card._infoId ? new cc.Vec2(-90 * d, -60 * d) : new cc.Vec2(90 * d, 10 * d), r = new cc.Vec2(r.x + h.x, r.y + h.y)
                        }
                        return this.runAction(_.lc.sequence(_.lc.delay(t), function () {
                            n.updateZOrder(!0), n.initNormal()
                        }, _.lc.spawn(_.lc.moveTo(l, i), _.lc.rotateTo(l, 0), _.lc.scaleTo(l, u)), _.lc.delay(.1), _.lc.spawn(_.lc.moveTo(.2, r), _.lc.scaleTo(.2, 0)), _.lc.callFunc(function () {
                            a.hideCardSprite(n)
                        }))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(l, new cc.Vec2(-100, -50)), _.lc.scaleTo(l, .6), _.lc.fadeTo(.2, 200)))), t + .1 + l + .2 + .2
                    }
                    var f = 0;
                    return f = this._isOnBottomHalf ? 10 : -10, this.runAction(_.lc.sequence(_.lc.fadeOut(.2), _.lc.moveBy(.2, new cc.Vec2(0, f)), _.lc.callFunc(function () {
                        a.hideCardSprite(n)
                    }))), t + .2
                }, e.prototype.playBoardToLeave = function (e, t) {
                    var n = this, a = this._ownerUi;
                    this._ownerUi._battleUi;
                    return this.updateActive(!1), t ? n.runAction(_.lc.sequence(_.lc.delay(e), _.lc.delay(.5), _.lc.spawn(_.lc.moveBy(.4, new cc.Vec2(0, 20)), _.lc.scaleTo(.4, 1.4)), _.lc.delay(.7), _.lc.callFunc(function () {
                        a.hideCardSprite(n)
                    }))) : this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        n.updateZOrder(!0), a.efcCardDie(n)
                    }), _.lc.delay(.5), _.lc.callFunc(function () {
                        a.hideCardSprite(n)
                    }))), e + 0
                }, e.prototype.playToHand = function (t, n) {
                    var a = this._ownerUi;
                    a._opponentUi;
                    this.updateActive(!1), a.replaceHandCards(t, this._card), n ? this.initNormal() : this.shouldShowNormal() && this._status != e.Status.normal ? this.initNormal() : this.shouldShowNormal() || this._status == e.Status.back || this.initBack(), this._pCardAreaAll.setScale(e.Scale.normal), this.stopAllActions();
                    var i = new cc.Vec2(p.ViewConst.SCR_CW + (n ? 0 : 300), p.ViewConst.SCR_CH + (n ? 0 : a._isController ? -100 : 200)),
                        o = a._isController ? .25 : .15, r = n ? 2 : a._isController ? 1 / e.Scale.normal : 1,
                        s = this._default._position, c = this._default._rotation, l = n ? 2 : 0;
                    return this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(o, i), cc.rotate3DTo(o, 0, 0, 0), _.lc.scaleTo(o, r)), _.lc.delay(l), _.lc.callFunc(function () {
                        n && !this.shouldShowNormal() && this.initBack()
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(.3, s), cc.rotate3DTo(.3, c.x, c.y, c.z), _.lc.scaleTo(.3, 1)), _.lc.callFunc(function () {
                        this._pCardArea.setPosition(0, 0), this.updateZOrder()
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(_.lc.moveTo(o, new cc.Vec2(-100, -50)), _.lc.scaleTo(o, .6), _.lc.fadeTo(o, 200)), _.lc.spawn(_.lc.moveTo(.3, new cc.Vec2(0, 0)), _.lc.scaleTo(.3, 1), _.lc.fadeTo(.3, 255)))), [t + o + l, t + o + l + .4]
                }, e.prototype.playRetrievToPile = function (e) {
                    var t = this._ownerUi;
                    t._opponentUi, t._battleUi;
                    this.updateActive(!1);
                    var n = (this._isOnBottomHalf, o.PlayerUi.Pos.defender_pile);
                    return this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(.6, n), cc.rotate3DTo(.6, 90, 0, 0), _.lc.scaleTo(.6, 1)), _.lc.callFunc(function () {
                        t.hideCardSprite(this)
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(e), _.lc.ease(cc.rotate3DTo(.6, 90, 0, 0), "BackO"))), e + .6
                }, e.prototype.playRetrievToLeave = function (e) {
                    var t = this._ownerUi;
                    t._opponentUi, t._battleUi;
                    this.updateActive(!1);
                    var n = new cc.Vec2(-100, p.ViewConst.SCR_CH + (t._isOnBottomHalf ? -200 : 200));
                    return this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.spawn(_.lc.moveTo(.4, n), _.lc.rotateTo(.4, 0), _.lc.scaleTo(.4, 1)), _.lc.callFunc(function () {
                        t.hideCardSprite(this)
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(e), _.lc.ease(cc.rotate3DTo(.4, 90, 0, 0), "BackO"))), e + .4
                }, e.prototype.playRetrievToHand = function (e) {
                    var t = this._ownerUi;
                    t._opponentUi, t._battleUi;
                    this.updateActive(!1), t.replaceHandCards(e, this._card);
                    var n = this._default._position, a = this.getPosition(), i = this._default._rotation;
                    return this._pFrame.setGray(!1), this.runAction(_.lc.sequence(_.lc.delay(e), _.lc.callFunc(function () {
                        this.updateZOrder(!0)
                    }.bind(this)), _.lc.spawn(cc.bezierTo(.32, [cc.v2(a.x - 20, a.y - 20), cc.v2(n.x - 20, n.y), n]), cc.rotate3DTo(.4, i.x, i.y, i.z), _.lc.scaleTo(.4, 1)), _.lc.callFunc(function () {
                        this._pCardArea.setPosition(0, 0), this.updateZOrder()
                    }.bind(this)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(e), _.lc.spawn(_.lc.moveTo(.4, new cc.Vec2(0, 0)), _.lc.scaleTo(.4, 1), _.lc.fadeTo(.4, 255)))), e + .4
                }, e.prototype.playGraveRetriev = function (t) {
                    var n = this._ownerUi, a = (n._opponentUi, n._battleUi), i = 1 / e.Scale.normal,
                        s = n._isController ? o.PlayerUi.Pos.attacker_grave : o.PlayerUi.Pos.defender_grave,
                        l = new cc.Vec2(p.ViewConst.SCR_CW, p.ViewConst.SCR_CH);
                    return this._card._statusVal == c.default.CardStatusVal.g2h_oppo && (s = n._isController ? o.PlayerUi.Pos.defender_grave : o.PlayerUi.Pos.attacker_grave), this.setVisible(!0), this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        this.updateZOrder(!0);
                        var e = f.SpineUtil.createSpineAnim("zh", "default", "animation1", !1);
                        _.lc.addChildToPosAR(a._node, e, s, r.BattleUi.ZOrder.card_hand + 6)
                    }.bind(this)), _.lc.delay(.6), _.lc.callFunc(function () {
                        this.setPosition(s), this.shouldShowNormal() ? this.initFight() : this.initBack()
                    }.bind(this)), _.lc.spawn(_.lc.scaleTo(.4, i), _.lc.moveTo(.4, l)))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t + .6), _.lc.spawn(_.lc.moveTo(.4, new cc.Vec2(-100, -50)), _.lc.scaleTo(.4, .6), _.lc.fadeTo(.4, 200)))), t + 1
                }, e.prototype.playBoardRetriev = function (t) {
                    this._ownerUi;
                    var n = 1 / e.Scale.normal;
                    return this.runAction(_.lc.sequence(_.lc.delay(t), _.lc.callFunc(function () {
                        this.updateZOrder(!0), this.unTransfigure()
                    }.bind(this)), _.lc.scaleTo(.1, n - .2), _.lc.callFunc(function () {
                        this.shouldShowNormal() ? (this._pFrame.node.removeFromParent(), this._pFrame = null, this.initNormal()) : this.initBack()
                    }.bind(this)), _.lc.scaleTo(.1, n))), this._pShadowArea.runAction(_.lc.sequence(_.lc.delay(t), _.lc.spawn(cc.bezierTo(.3, [cc.p(cc.p(this.getPosition()).x - 20, cc.p(this.getPosition()).y - 30), cc.p(-80, -50), cc.p(-100, -50)]), _.lc.scaleTo(.3, .6), _.lc.fadeTo(.3, 200)))), t + .4
                }, e.prototype.updateBuffIcons = function () {
                    this._card._posiBuffIconValue || (this._card._posiBuffIconValue = 0), this._card._negaBuffIconValue || (this._card._negaBuffIconValue = 0), this.updateBuffIconsPart1(), this.updateBuffIconsPart2(), this._negaBuffIconValue != this._card._negaBuffIconValue && (this._negaBuffIconValue = this._card._negaBuffIconValue), this._posiBuffIconValue != this._card._posiBuffIconValue && (this._posiBuffIconValue = this._card._posiBuffIconValue)
                }, e.prototype.updateBuffIconsPart1 = function () {
                    var e = this._card, t = null;
                    if (null != this._pFrame && e.isMonster()) {
                        var n = [];
                        if (this._negaBuffIconValue != e._negaBuffIconValue) for (var a = 0; a < c.default.NEGATIVE_COMMON.length; a++) e.hasBuff(!1, c.default.NEGATIVE_COMMON[a]) ? (n.push(c.default.NEGATIVE_COMMON[a]), t = cc.p(74 * n.length - 54, -10), null == this._buffIcons[a + 1] ? this.addBuffIcon(a + 1, t) : this.updateBuffIcon(a + 1, t)) : null == this._buffIcons[a + 1] || this.removeBuffIcon(a + 1);
                        var i = null;
                        1 == e._pos && e._owner._disableDrawbackRounds[e._owner._round] ? (i = cc.p(74 * (n.length + 1) - 54, -10), null == this._buffIcons[98] ? this.addBuffIcon(98, i) : this.updateBuffIcon(98, i)) : null == this._buffIcons[98] || this.removeBuffIcon(98);
                        this._card.getBuffValue(!0, c.default.PositiveType.powerMark);
                        var o = null;
                        if (this._posiBuffIconValue != e._posiBuffIconValue) {
                            o = !1;
                            for (var r = 1; r <= c.default.PositiveType.count; r++) if (r != c.default.PositiveType.powerMark && e.hasBuff(!0, r)) {
                                o = !0;
                                break
                            }
                            (e.hasBuff(!1, c.default.NegativeType.extraDecHp) || e.hasBuff(!1, c.default.NegativeType.cannotRecHp) || e.hasBuff(!1, c.default.NegativeType.lostAbility)) && (o = !0), o ? null == this._buffIcons[0] ? this.addBuffIcon(0, cc.p(40, 490)) : this.updateBuffIcon(0, null) : null == this._buffIcons[0] || this.removeBuffIcon(0)
                        }
                    }
                }, e.prototype.updateBuffIconsPart2 = function () {
                    if (this._pTransfiguration && this._card.isMonster()) {
                        var e = this._card, t = [];
                        if (this._negaBuffIconValue != e._negaBuffIconValue) for (var n = [cc.p(30, 95), cc.p(30, 135), cc.p(30, 175), cc.p(52, 208), cc.p(88, 225)], a = 0; a < c.default.NEGATIVE_COMMON.length; a++) if (e.hasBuff(!1, c.default.NEGATIVE_COMMON[a])) {
                            t.push(c.default.NEGATIVE_COMMON[a]);
                            var i = n[t.length];
                            null == this._buffIconsAtk[a + 1] ? this.addBuffIcon2(a + 1, i) : this.updateBuffIcon2(a + 1, i)
                        } else null == this._buffIconsAtk[a + 1] || this.removeBuffIcon2(a + 1);
                        var o = this._card.getBuffValue(!0, c.default.PositiveType.powerMark);
                        this._pTransfiguration._powerCount != this._card.getBuffValue(!0, c.default.PositiveType.powerMark) && this.updateEnergyWithPlusAction(o);
                        var r = null;
                        if (this._posiBuffIconValue != e._posiBuffIconValue) {
                            r = !1;
                            for (var _ = 1; _ <= c.default.PositiveType.count; _++) if (_ != c.default.PositiveType.powerMark && e.hasBuff(!0, _)) {
                                r = !0;
                                break
                            }
                            (e.hasBuff(!1, c.default.NegativeType.extraDecHp) || e.hasBuff(!1, c.default.NegativeType.cannotRecHp) || e.hasBuff(!1, c.default.NegativeType.lostAbility) || e.hasBuff(!1, c.default.NegativeType.decDamage)) && (r = !0), r ? null == this._buffIconsAtk[0] ? this.addBuffIcon2(0, cc.p(230, 195)) : this.updateBuffIcon2(0, cc.p(230, 195)) : null == this._buffIconsAtk[0] || this.removeBuffIcon2(0)
                        }
                    }
                }, e.prototype.createBuffIcon = function (t) {
                    var n = this._card, a = "bat_ico_buff_positive";
                    0 == t ? a = 1 == this._card._posiBuffIconValue ? "bat_ico_buff_positive" : 2 == this._card._posiBuffIconValue ? "bat_ico_buff_negative" : "bat_ico_buff_positive_both" : 99 == t ? a = "bat_ico_buff_power" : 98 == t ? a = "bat_ico_buff_lock" : t == c.default.NegativeType.burn ? a = "bat_ico_buff_burn" : t == c.default.NegativeType.chaos ? a = "bat_ico_buff_chaos" : t == c.default.NegativeType.numb ? a = "bat_ico_buff_numb" : t == c.default.NegativeType.poison ? a = "bat_ico_buff_poison" : t == c.default.NegativeType.sleep && (a = "bat_ico_buff_sleep");
                    var i = u.SpriteUtil.createSprite(a).node, o = u.SpriteUtil.createSprite("bat_grave_count_atk"),
                        r = o.node;
                    o.type = cc.Sprite.Type.SLICED, o.sizeMode = cc.Sprite.SizeMode.CUSTOM, r.setAnchorPoint(.5, 1);
                    var s = r.addComponent(cc.Layout);
                    s.type = cc.Layout.Type.VERTICAL, s.resizeMode = cc.Layout.ResizeMode.CONTAINER, s.paddingTop = 10, s.paddingBottom = 10, s.spacingY = 0, s.affectedByScale = !0;
                    var l = E.UIUtil.createTTFBold(function (a) {
                            if (99 == t) return b.lcStr(v.STR.DESC_POWER);
                            if (98 == t) return b.lcStr(v.STR.DESC_LOCK);
                            if (0 == t) {
                                for (var i = "", o = 1; o <= c.default.PositiveType.count; o++) o != c.default.PositiveType.powerMark && n.hasBuff(!0, o) && null != e.PositiveBuffStrID[o] && (i = o == c.default.PositiveType.extraBaseDamageInRound ? i + string.format(b.lcStr(e.PositiveBuffStrID[o]), a.getExtraBaseDamageInRound(a._owner._round)) + "\n" : o == c.default.PositiveType.extraDamageInRound ? i + string.format(b.lcStr(e.PositiveBuffStrID[o]), a.getExtraDamageInRound(a._owner._round)) + "\n" : o == c.default.PositiveType.extraFaceCountInRound ? i + string.format(b.lcStr(e.PositiveBuffStrID[o]), a.getExtraFaceCountInRound(a._owner._round)) + "\n" : i + b.lcStr(e.PositiveBuffStrID[o]) + "\n");
                                return a.hasBuff(!1, c.default.NegativeType.extraDecHp) && (i = i + b.lcStr(e.NegativeBuffStrID[c.default.NegativeType.extraDecHp]) + "\n"), a.hasBuff(!1, c.default.NegativeType.cannotRecHp) && (i = i + b.lcStr(e.NegativeBuffStrID[c.default.NegativeType.cannotRecHp]) + "\n"), a.hasBuff(!1, c.default.NegativeType.lostAbility) && (i = i + b.lcStr(e.NegativeBuffStrID[c.default.NegativeType.lostAbility]) + "\n"), a.hasBuff(!1, c.default.NegativeType.decDamage) && (i = i + string.format(b.lcStr(e.NegativeBuffStrID[c.default.NegativeType.decDamage]), a.getDecDamageInRound(a._owner._round)) + "\n"), i
                            }
                            return b.lcStr(v.STR.DESC_SLEEP + t - c.default.NegativeType.sleep)
                        }(n), y.UICfg.FontSize.B2, _.lc.Color3B.white),
                        d = this._pTransfiguration ? this._pTransfiguration._node : this._pFrame.node;
                    this._pTransfiguration ? (d = this._pTransfiguration._node, r.width = 2 * d.width + 20, r.height = d.height / 2 + 20, l.width = 2 * d.width - 40) : (d = this._pFrame.node, r.width = 532, r.height = 143, l.width = 472), l.setAnchorPoint(.5, 1), l.getComponent(cc.Label).fontSize = 40, l.getComponent(cc.Label).lineHeight = 50, l.getComponent(cc.Label).overflow = cc.Label.Overflow.RESIZE_HEIGHT, l.getComponent(cc.Label).horizontalAlign = cc.Label.HorizontalAlign.LEFT, l.getComponent(cc.Label).verticalAlign = cc.Label.VerticalAlign.CENTER, _.lc.addChildToCenter(r, l);
                    var p = this._pTransfiguration ? cc.v2(0, 50) : cc.v2(100, 50);
                    return _.lc.addChildToPosLB(i, r, p), r.setVisible(!1), i.on(cc.Node.EventType.TOUCH_START, function () {
                        r.setVisible(!0)
                    }), i.on(cc.Node.EventType.TOUCH_END, function () {
                        r.setVisible(!1)
                    }), i
                }, e.prototype.addBuffIcon = function (e, t, n) {
                    this._card;
                    var a = this.createBuffIcon(e);
                    if (a.setScale(.7, .7), a.setVisible(!0), a._x = t.x, this._buffIcons[e] = a, t.x = -this._pFrame.node.width / 2 + t.x, t.y = -this._pFrame.node.height / 4 + t.y - 20, _.lc.addChildToPosAR(this._pFrame.node, a, t, 10), n) {
                        var i = E.UIUtil.createTTFBold(n, y.UICfg.FontSize.B2);
                        i.enableOutline(_.lc.Color4B.black, 2), a._label = i, 99 == e ? (_.lc.addChildToPosAR(a, i, cc.p(_.lc.w(a) + _.lc.cw(i), _.lc.ch(i))), this.powerMarkEffect(a, n)) : (i.setString(n), _.lc.addChildToPosAR(a, i, cc.p(_.lc.cw(a), _.lc.ch(a))))
                    }
                }, e.prototype.addBuffIcon2 = function (e, t, n) {
                    this._card;
                    var a = this.createBuffIcon(e), i = null;
                    if (i = 0 == e ? .5 : .43, a._x = t.x, a._y = t.y, t.x = -this._pTransfiguration._node.width / 2 + t.x, t.y = -this._pTransfiguration._node.height / 2 + t.y - 35, this._buffIconsAtk[e] = a, _.lc.addChildToPosAR(this._pTransfiguration._node, a, t), a.setScale(i), n) {
                        var o = E.UIUtil.createTTFBold(n, y.UICfg.FontSize.B2);
                        o.enableOutline(_.lc.Color4B.black, 2), a._label = o, this.negativeBuffEffect(a, n), _.lc.addChildToPosAR(a, o, cc.p(_.lc.cw(a), _.lc.ch(a))), this._ignoreIconEffect || S.lcAudio.playAudio(C.AUDIO.E_BAT_CARD_BUFF)
                    } else this.negativeBuffEffect(a, n), this._ignoreIconEffect || S.lcAudio.playAudio(C.AUDIO.E_BAT_CARD_BUFF)
                }, e.prototype.removeBuffIcon = function (e) {
                    var t = this._buffIcons[e];
                    t && t.runAction(_.lc.sequence(_.lc.scaleTo(.5, 0), _.lc.callFunc(function () {
                        g.noxcc.destroy(t)
                    }))), this._buffIcons[e] = null
                }, e.prototype.removeBuffIcon2 = function (e) {
                    var t = this._buffIconsAtk[e];
                    t && t.runAction(_.lc.sequence(_.lc.scaleTo(.5, 0), _.lc.callFunc(function () {
                        g.noxcc.destroy(t)
                    }))), this._buffIconsAtk[e] = null
                }, e.prototype.updateBuffIcon = function (e, t, n) {
                    var a = this._buffIcons[e], i = null;
                    null != a && (null != t && a._x != t.x && (a._x = t.x, t.x = -this._pFrame.node.width / 2 + t.x, t.y = -this._pFrame.node.height / 2 + t.y, a.runAction(_.lc.moveTo(.5, t))), 0 == e && (i = 1 == this._card._posiBuffIconValue ? "bat_ico_buff_positive" : 2 == this._card._posiBuffIconValue ? "bat_ico_buff_negative" : "bat_ico_buff_positive_both"), i && I.NoxResMgr.setSpriteFrameAsync(a, i), n && 99 == e && n != a._labelValue ? this.powerMarkEffect(a, n) : a._label && a._label.setString(n))
                }, e.prototype.updateBuffIcon2 = function (e, t, n) {
                    var a = this._buffIconsAtk[e], i = null;
                    null == a || a._x == t.x && a._y == t.y || (a._x = t.x, a._y = t.y, t.x = -this._pTransfiguration._node.width / 2 + t.x, t.y = -this._pTransfiguration._node.height / 2 + t.y, a.runAction(_.lc.moveTo(.5, t))), 0 == e && (i = 1 == this._card._posiBuffIconValue ? "bat_ico_buff_positive" : 2 == this._card._posiBuffIconValue ? "bat_ico_buff_negative" : "bat_ico_buff_positive_both"), i && I.NoxResMgr.setSpriteFrameAsync(a, i), n ? a._label.setString(n) : n != a._labelValue && this.negativeBuffEffect(a, n)
                }, e.prototype.negativeBuffEffect = function (e, t) {
                    var n = this;
                    e._labelValue = t;
                    var a = null;
                    n._ignoreIconEffect ? (e.setVisible(!0), e._labelValue && e._label.setString(e._labelValue)) : e.runAction(_.lc.sequence(n._iconEffectDelay, _.lc.callFunc(function () {
                        a = f.SpineUtil.createSpineAnim("zhuangtai", "default", "animation", !1), _.lc.addChildToPosAR(n._pTransfiguration._node, a, cc.p(a.getPosition()), 11)
                    }), .3, _.lc.callFunc(function () {
                        e.setVisible(!0), e.setVisible._labelValue && e._label.setString(e._labelValue)
                    })))
                }, e.prototype.addBindCardImage = function () {
                }, e.prototype.addBindCardImage2 = function () {
                }, e.prototype.updateBindCardImage = function () {
                }, e.prototype.updateBindCardImage2 = function () {
                }, e.prototype.removeBindCardImage = function () {
                }, e.prototype.removeBindCardImage2 = function () {
                }, e.prototype.equipCardEffect = function () {
                }, e.prototype.addPowerChanger = function () {
                }, e.prototype.removePowerChanger = function () {
                }, e.prototype.updatePowerChanger = function () {
                }, e.prototype.loadTransfigureNode = function (t) {
                    this._pTransfiguration && this._pTransfiguration.removeFromParent(), this._pTransfiguration = h.CardUtil.CardTransfiguration.create(this._card._infoId, 0, this._ownerUi._player._skins[this._card._infoId], this._card._hp, this._card.getBuffValue(!0, c.default.PositiveType.powerMark)), _.lc.addChildToCenter(this._pCardAreaAll, this._pTransfiguration._node), this._pTransfiguration.setScale(e.Scale.transfigure), this._pTransfiguration.setVisible(t)
                }, e.prototype.transfigure = function () {
                    if (this._pCardArea.active = !1, this._pTransfiguration) return this._pTransfiguration.setVisible(!0), void ((isNaN(this.getPosition().x) || isNaN(this.getPosition().y)) && this.setPosition(this._default._position));
                    this.loadTransfigureNode(!0)
                }, e.prototype.unTransfigure = function () {
                    this._pCardArea.active = !0, this._pTransfiguration && (this._pTransfiguration.removeFromParent(), this._pTransfiguration = null)
                }, e.prototype.shouAPowerPlus = function () {
                }, e.prototype.powerMarkEffect = function (e, t) {
                    e && e._labelValue && (e._labelValue = t), e.setVisible(!0), e && e.labelValue && e.label && e.label.setString(e._labelValue)
                }, e.prototype.updateEnergyFast = function (e) {
                    this._pTransfiguration._node.stopAllActions(), u.SpriteUtil.setSprite(this._pTransfiguration._energyLabel, "card_number_s_x" + (e || 0))
                },e.prototype.updateEnergyWithPlusAction = function (e) {
                    var t = this;
                    this._pTransfiguration._node.stopAllActions();
                    this._pTransfiguration._powerCount;
                    this._pTransfiguration._powerCount = e;
                    var n = 0;
                    n = null != this._ownerUi._player._actionCard && 39999 == this._card._owner._actionCard._infoId ? .7 : .3, this._pTransfiguration._node.runAction(_.lc.sequence(_.lc.delay(n), _.lc.callFunc(function () {
                        null != t._powerGetSpine && t._powerGetSpine.removeFromParent();
                        var e = f.SpineUtil.createSpineAnim("jnl", "default", "animation", !1);
                        _.lc.addChildToPosLB(t._pTransfiguration._node, e, cc.v2(35, 53)), t._powerGetSpine = e
                    }), _.lc.delay(.2), _.lc.callFunc(function () {
                        u.SpriteUtil.setSprite(t._pTransfiguration._energyLabel, "card_number_s_x" + e)
                    })))
                },e.prototype.isGuideNotShowAttack = function () {
                    if (P._guideID < 100) {
                        if (null != this._battleUi.getEventDrag()) return !0;
                        if (this._battleUi.getEventTap() != this) return !0
                    }
                    return !1
                },e.prototype.updateBatCardSelected = function (e) {
                },e.prototype.setImageData = function () {
                    if (null != this._card) this._card._infoId
                },e.Status = {
                    dead: 4,
                    large: 5,
                    fight: 3,
                    info: 6,
                    cover: 7,
                    back: 2,
                    show: 8,
                    normal: 1
                },e.TouchStatus = {grabbed: 2, moved: 3, ungrabbed: 1},e.ZOrder = {
                    shadow: -2,
                    bottom_effect: -1,
                    card: 0,
                    efc: 0,
                    effect: 1,
                    label: 1,
                    skill_label: 2
                },e.Scale = {
                    show: .75,
                    hand: .36,
                    hd: .9,
                    grave: .126,
                    cover: 1,
                    normal: .31,
                    normal_main: .496,
                    oppo_normal: .31,
                    oppo_normal_main: .496,
                    transfigure: 1.1 / .62
                },e.EventType = {
                    show_rare_list: 15,
                    hide_card_info: 13,
                    show_grave_list: 14,
                    show_card_info: 12,
                    shuffle_pile: 16
                },e.TouchCardType = {
                    board_card: 4,
                    self_hand_card: 1,
                    grave_card: 6,
                    energy_card: 7
                },e.PositiveBuffStrID = ((a = {})[c.default.PositiveType.ignoreChaos] = v.STR.IGNORE_CHAOS, a[c.default.PositiveType.ignoreOppoMonsterSkillDamageHalo] = v.STR.BUFF_IGNORE_OPPO_MONSTER_SKILL_DAMAGE, a[c.default.PositiveType.ignoreOppoMonsterSkillHalo] = v.STR.BUFF_IGNORE_OPPO_MONSTER_SKILL, a[c.default.PositiveType.extraSkill] = v.STR.BUFF_EXTRA_SKILL, a[c.default.PositiveType.extraBaseDamageInRound] = v.STR.BATTLE_CARD_EXTRA_BASE_DAMAGE, a[c.default.PositiveType.extraDamageInRound] = v.STR.BATTLE_CARD_EXTRA_DAMAGE, a[c.default.PositiveType.extraFaceCountInRound] = v.STR.BATTLE_CARD_EXTRA_FACE_COUNT, a[c.default.PositiveType.skillEnhanced] = v.STR.BUFF_SKILL_ENHANCE, a),e.NegativeBuffStrID = ((i = {})[c.default.NegativeType.extraDecHp] = v.STR.BUFF_GET_EXTRA_DEC_HP, i[c.default.NegativeType.cannotRecHp] = v.STR.CANNOT_REC_HP, i[c.default.NegativeType.lostAbility] = v.STR.LOST_ABILITY, i[c.default.NegativeType.decDamage] = v.STR.DEC_DAMAGE, i),e.EVENT = new d.noxEvent1,e
            }();
        n.CardSprite = R, cc._RF.pop()
    }, {
        "../../../framework/NoxResMgr": "NoxResMgr",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcMath": "lcMath",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxEvent": "noxEvent",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/ParticleUtil": "ParticleUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../data/BattleData": "BattleData",
        "./BattleUi": "BattleUi",
        "./PlayerUi": "PlayerUi"
    }],
    CardThumbnail: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e69962XvCBN3pUqZ3Hk5FtX", "CardThumbnail");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../utils/CardUtil"), o = e("../../../noxcc"), r = e("../../config/UICfg"),
            _ = e("../../../leocool/lc"), s = e("../../data/data"), c = e("../../utils/UIUtil"),
            l = e("../../utils/SpriteUtil"), d = e("../node/NodeWithLabel"), p = e("../../../leocool/lcStr"),
            u = e("../../StringEnums"), g = e("../../../nox"), h = e("../../part/UserPart"), f = e("../../ClientView"),
            m = e("../../BaseComponent"), y = e("../../scene/SceneManager"), T = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._listeners = [], t._newBones = null, t._label = null, t._scale = 1, t._item = null, t._discountFlag = null, t._newFlag = null, t._count = 0, t._index = 0, t._frame = null, t
                }

                return a(t, e), t.prototype.createComponent = function (e, t) {
                    this._infoId = e, this._skinId = t, this._frame = i.CardUtil.CardFrame.create(this._infoId, null, this._skinId), _.lc.addChildToCenter(this.node, this._frame.node, 1)
                }, t.prototype.updateComponent = function (e, t) {
                    this._infoId = e, this._skinId = t, this._frame.update(this._infoId, this._skinId)
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this);
                    var t = this;
                    t._listeners = [];
                    var n = s.Data.Event.card_dirty.addListener(null, function (e) {
                        e == t._infoId && (t._skinId = P._playerCard.getSkinId(t._infoId), t.updateComponent(t._infoId, t._skinId))
                    });
                    t._listeners.push(n)
                }, t.prototype.onDisable = function () {
                    e.prototype.onDisable.call(this);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._newBones && (this._newBones.removeFromParent(), this._newBones = null)
                }, t.prototype.onDestroy = function () {
                    e.prototype.onDestroy.call(this)
                }, t.prototype.setScaleFactor = function (e) {
                    this._scale = e || 1, this.node.setContentSize(cc.size(r.UICfg.CARD_SIZE.width * this._scale, r.UICfg.CARD_SIZE.height * this._scale)), this._frame.setPosition(cc.v2(0, 0)), this._frame.node.setScale(this._scale)
                }, t.prototype.setGray = function (e) {
                    this._frame.setGray(e)
                }, t.prototype.getMaxSize = function () {
                    return r.UICfg.CARD_SIZE
                }, t.prototype.updateFlag = function (e) {
                    void 0 === e && (e = 1);
                    var t = f.ClientView.checkNewFlag(this.node, P._playerCard.isUnlocked(this._infoId), 40 - 50 * this._scale, 10 - 260 * this._scale);
                    t && (this._newFlag = t.node, o.noxcc.setZIndex(t.node, 2), l.SpriteUtil.hasSpriteFrame("img_new_l") && (l.SpriteUtil.setSprite(t, "img_new_l"), t.getComponent(cc.Sprite).type = cc.Sprite.Type.SIMPLE, t.getComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.TRIMMED), t.node.scale = e)
                }, t.prototype.updateUnionShopFlag = function (e, t, n, a, i) {
                    var r = this._item._countArea;
                    r.setVisible(!0), r._bg.node.setVisible(!0), r._label.setString(e + "/" + t), r._label.y = _.lc.ch(r._bg.node), r.setScale(this._item._thumbnail._scale / .6), r.setPosition(cc.v2(0, _.lc.abottom(this._item._thumbnail.node) + 10));
                    var s = null;
                    0 == i ? (this._discountFlag && (this._discountFlag.destroy(), this._discountFlag = null), (s = f.ClientView.checkNewFlag(this.node, !0, 40 - 50 * this._scale, 10 - 260 * this._scale)) && (this._newFlag = s.node, o.noxcc.setZIndex(s.node, 2), l.SpriteUtil.hasSpriteFrame("discount_bg_new") && l.SpriteUtil.setSprite(s, "discount_bg_new"))) : (this._newFlag && (this._newFlag.removeFromParent(), this._newFlag = null), (s = f.ClientView.checkDiscountFlag(this.node, i, 40 - 50 * this._scale, 10 - 260 * this._scale)) && (this._newFlag = s.node, o.noxcc.setZIndex(s.node, 2))), e >= t && this._item._countArea._label.setString(p.lcStr(u.STR.UNION_SHOP_OWN)), this._item._btnCustom1.setEnabled(!0)
                }, t.prototype.updateRareShopFlag = function (e, t, n, a, i) {
                    this._item._countArea.setVisible(!0), o.noxcc.setActive(this._item._countArea._bg, !0), this._item._countArea._label.y = _.lc.ah(this._item._countArea._bg.node) + 1, this._item._countArea.setScale(this._item._thumbnail._scale / .6), this._item._countArea.setPosition(cc.v2(0, this._item._thumbnail._scale / .6 * -148)), i ? this._item._countArea._label.setString(p.lcStr(u.STR.PURCHASED)) : t <= e ? this._item._countArea._label.setString(p.lcStr(u.STR.UNION_SHOP_OWN)) : this._item._countArea._label.setString("0/1"), o.noxcc.setActive(this._item._btnCustom1, !0)
                }, t.prototype.updateDiamondShopFlag = function (e, t, n, a) {
                    var i = this._item._countArea;
                    i.setVisible(!0), o.noxcc.setActive(i._bg.node, !0), i._label.setString(e + "/" + t), i._label.y = _.lc.ah(i._bg.node) + 1, i.setScale(this._item._thumbnail._scale / .6), i.setPosition(cc.v2(0, _.lc.abottom(this._item._thumbnail.node) + 10)), this._item._btnCustom1.setEnabled(!0)
                }, t.create = function (e, n) {
                    var a = o.noxcc.newNode("CardThumbnail").addComponent(t);
                    return a.node.setContentSize(r.UICfg.CARD_SIZE), a.node.addComponent(cc.BlockInputEvents).enabled = !0, a.createComponent(e, n), a
                }, t.createCardThumbnail = function (e) {
                    var n = t.create(10001, 1), a = o.noxcc.newNode("ThumbnailLayout");
                    n.node.setParent(a), n._item = a, a._thumbnail = n;
                    var i = c.UIUtil.createScale9ShaderButton("img_btn_green_s", null, r.UICfg.CRECT_BUTTON_S, 110);
                    o.noxcc.setActive(i, !1), i.addLabel(""), a.addChild(i), a._btnCustom1 = i;
                    var s = c.UIUtil.createShaderButton("img_btn_check_bg", function () {
                    });
                    o.noxcc.setActive(s, !1), s.setTouchEndCancelRange(r.UICfg.BUDGE_LIMIT), _.lc.addChildToPosAR(a, s, cc.v2(0, -136)), a._btnRadio = s, s._checkedSprite = l.SpriteUtil.createWithSpriteFrameName("img_icon_check"), s._checkedSprite.node.setVisible(!1), _.lc.addChildToPosAR(s, s._checkedSprite.node, cc.v2(_.lc.aw(s), _.lc.ah(s) + 8));
                    var g = c.UIUtil.createShaderButton("img_btn_check_bg", function () {
                    });
                    g.setVisible(!1), g.setTouchEndCancelRange(r.UICfg.BUDGE_LIMIT), _.lc.addChildToPosAR(a, g, cc.v2(0, -136)), a._btnCheck = g, g._checkedSprite = l.SpriteUtil.createWithSpriteFrameName("img_icon_check"), s._checkedSprite.node.setVisible(!1), _.lc.addChildToPosAR(g, g._checkedSprite.node, cc.v2(_.lc.aw(g), _.lc.ah(g) + 8));
                    var h = l.SpriteUtil.createScale9Sprite("img_card_count_bg").node;
                    h.setContentSize(cc.size(260, 52)), h.setAnchorPoint(.5, 1), h.setVisible(!1), _.lc.addChildToPosAR(a, h, cc.v2(0, _.lc.asbottom(a._thumbnail.node)), -1), a._countArea = h;
                    var f = l.SpriteUtil.createWithSpriteFrameName("depot_bg", cc.rect(0, 0, 0, 0));
                    _.lc.addChildToCenter(h, f.node), f.node.setContentSize(cc.size(_.lc.w(h) - 20, _.lc.h(h) - 10)), f.node.setVisible(!1), h._bg = f;
                    var m = c.UIUtil.createBMFont(r.UICfg.BMFont.huali_26, "x1");
                    _.lc.addChildToCenter(h, m), h._label = m, h.update = function (e, t, n, i, r, s) {
                        r = r || P._playerCard.getCardCount(a._thumbnail._infoId), a._thumbnail._count = t, 0 == n && 0 == s ? (o.noxcc.setLabelString(h._label, p.lcStr(u.STR.NOT_OPENED)), h._label.setPosition(0, -30), a._thumbnail.setGray(!0), a._locked = !0) : t && n && s && (n <= t || s <= i || i && i >= r) ? (o.noxcc.setLabelString(h._label, p.lcStr(t >= n || i >= s ? u.STR.USE_LIMITED : u.STR.USED_OUT)), h._label.setPosition(0, -30), a._thumbnail.setGray(!0), a._locked = !0) : ((t || 0 == t) && n ? o.noxcc.setLabelString(h._label, t + "/" + r) : t ? o.noxcc.setLabelString(h._label, "x" + t) : o.noxcc.setLabelString(h._label, "x" + r), h._label.setPosition(0, -30), a._thumbnail.setGray(!1), a._locked = !1), h._label.setPosition(0, -30), h.setVisible(e), h.setScale(a._thumbnail._scale / .6), h.setPosition(cc.v2(0, _.lc.abottom(a._thumbnail.node) + 10))
                    }, h.updateDetermined = function (e, t, n) {
                        h._label.setString(t + "/" + n), 0 == t ? (a._thumbnail.setGray(!0), a._locked = !0) : (a._thumbnail.setGray(!1), a._locked = !1), h._label.setPosition(0, -30), h.setVisible(e), h.setScale(a._thumbnail._scale / .6), h.setPosition(cc.v2(0, _.lc.abottom(a._thumbnail.node) + 10))
                    };
                    var y = l.SpriteUtil.createSprite("img_com_bg_26").node;
                    y.setContentSize(cc.size(159, 36)), y.setVisible(!1), _.lc.addChildToPosAR(a, y, cc.v2(_.lc.asleft(a), _.lc.ch(a) - 132)), a._multiSelectArea = y;
                    var T = d.NodeWithLabel.createBMFont(r.UICfg.BMFont.huali_26, "0");
                    _.lc.addChildToCenter(y, T), y._label = T;
                    var S = c.UIUtil.createShaderButton("img_btn_green_s", function () {
                        y._callbackAdd && y._callbackAdd(this)
                    });
                    _.lc.addChildToPosAR(S, l.SpriteUtil.createSprite("img_icon_add").node, cc.v2(0, 1)), _.lc.addChildToPosAR(y, S, cc.v2(_.lc.asright(y) - _.lc.cw(S), 0));
                    var C = c.UIUtil.createShaderButton("img_btn_green_s", function () {
                        y._callbackMinus && y._callbackMinus()
                    });
                    _.lc.addChildToPosAR(C, l.SpriteUtil.createSprite("img_icon_minus").node, cc.v2(0, 1)), _.lc.addChildToPosAR(y, C, cc.v2(_.lc.x(C), 0)), y._btnAdd = S, y._btnMinus = C;
                    var v = c.UIUtil.createStatusLabel("", r.UICfg.COLOR_TEXT_GREEN);
                    v.setVisible(!1), _.lc.addChildToCenter(n.node, v), a._statusRect = v, a.showStatusRect = function (e, t, a, i, s) {
                        v.setVisible(e), e && (v.setRotation(_.lc.D(s, 0)), o.noxcc.setNodeColor(v, _.lc.D(a, r.UICfg.COLOR_TEXT_GREEN)), v.setPosition(_.lc.D(i, cc.v2(_.lc.aw(n.node), _.lc.ah(n.node)))), o.noxcc.setLabelString(v._label, t), o.noxcc.setLabelColor(v._label, _.lc.D(a, r.UICfg.COLOR_TEXT_GREEN)))
                    }, a._listeners = [], a._isBusy = !1, a._poolIndex = e, t.pool.push(a)
                }, t.createPool = function () {
                    if (0 == t.pool.length) {
                        var e = 0, n = null;
                        n = g.nox.scheduleInterval(function () {
                            t.createCardThumbnail(e), (e += 1) >= 81 && null != n && (g.nox.unscheduleInterval(n), n = null)
                        }, 1 / 60)
                    }
                }, t.createFromPool = function (e, n, a) {
                    for (var i = null, o = function (o) {
                        var r = t.pool[o];
                        if (!r._isBusy) return r._isBusy = !0, r._sceneId = y.SceneManager.getRunningSceneId() || 0, e && r._thumbnail.updateComponent(e, a), r.setScale(1), r._thumbnail.setScaleFactor(n), r._thumbnail.node.setVisible(!0), r._thumbnail.setGray(!1), r._countArea.y = r._thumbnail._scale / .6 * n, r._listeners = [], r._listeners.push(s.Data.Event.card_select.addListener(null, function (e) {
                            r._thumbnail._infoId == e._infoId && (r._btnRadio.isVisible() && r._btnRadio._checkedSprite.node.setVisible(e._count > 0), r._btnCheck.isVisible() && r._btnCheck._checkedSprite.node.setVisible(e._count > 0))
                        })), i = r, "break"
                    }, r = 0; r < t.pool.length; r++) {
                        if ("break" === o(r)) break
                    }
                    if (null == i) {
                        for (var _ = "", c = 0; c < t.pool.length; c++) {
                            var l = t.pool[c];
                            l._isBusy && (_ = _ + g.nox.toString(l._sceneId) + ",")
                        }
                        h.UserPart.sendUserEvent({err_debug: 1, sceneIds: _})
                    }
                    return i
                }, t.releaseToPool = function (e) {
                    e._thumbnail.node.off(cc.Node.EventType.TOUCH_START, null, !0), e._thumbnail.node.off(cc.Node.EventType.TOUCH_MOVE, null, !0), e._thumbnail.node.off(cc.Node.EventType.TOUCH_END, null, !0), e._thumbnail.node.off(cc.Node.EventType.TOUCH_CANCEL, null, !0), e.parent = null, e._isBusy = !1, e._sceneId = null;
                    for (var t = 0; t < e._listeners.length; t++) e._listeners[t].remove();
                    e._listeners = [], e.setVisible(!0), e._thumbnail.setScaleFactor(1), e.setScale(1), e._thumbnail.node.opacity = 255, e._btnCustom1.setEnabled(!1), e._btnCustom1.setVisible(!1), e._btnCustom1.setContentSize(_.lc.w(e._btnCustom1), r.UICfg.CRECT_BUTTON.height), e._btnCustom1._callback = null, e._btnCustom1._icon && (e._btnCustom1._icon.node.destroy(), e._btnCustom1._icon = null), e._btnRadio.setEnabled(!1), e._btnRadio.setVisible(!1), e._btnRadio._checkedSprite.node.setVisible(!1), e._btnRadio._sprite = null, e._btnCheck.setEnabled(!1), e._btnCheck.setVisible(!1), e._btnCheck._checkedSprite.node.setVisible(!1), e._btnCheck._sprite = null, e._countArea.setVisible(!1), e._countArea._bg.node.setVisible(!1), e._multiSelectArea.setVisible(!1), e._multiSelectArea._callbackAdd = null, e._multiSelectArea._callbackMinus = null, e._statusRect.setVisible(!1), e._thumbnail._newFlag && (e._thumbnail._newFlag.destroy(), e._thumbnail._newFlag = null), e._thumbnail._discountFlag && (e._thumbnail._discountFlag.destroy(), e._thumbnail._discountFlag = null), e._thumbnail.setGray(!1)
                }, t.pool = [], t.releasePool = function () {
                    for (var e = 0; e < t.pool.length; e++) {
                        for (var n = t.pool[e], a = 0; a < n._listeners.length; a++) n._listeners[a].remove();
                        n._listeners = [], n.removeAllChildren(), n.destroy(), n = null
                    }
                    t.pool = []
                }, t
            }(m.BaseComponent);
        n.CardThumbnail = T, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../node/NodeWithLabel": "NodeWithLabel"
    }],
    CardUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8ed00cDGQBIYYARamyBRqg9", "CardUtil");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../leocool/lc"), o = e("./SpriteUtil"), r = e("../data/data"), _ = e("../battle/ui/CardSprite"),
            s = e("./UIUtil"), c = e("./NodeUtil"), l = e("./RichTextUtil"), d = e("../../leocool/lcStr"),
            p = e("../config/UICfg"), u = e("../../nox"), g = e("../ui/node/NodeWithShaderButton"),
            h = e("../../leocool/lcAppCfg"), f = e("./SpineUtil"), m = e("../ui/node/NodeWithLabel");
        (function (e) {
            var t = h.lcAppCfg.Language;
            e.getInfoName = function (e, t) {
                return void 0 === t && (t = !1), t ? d.lcStr(e._briefNameSid || e._nameSid) : d.lcStr(e._nameSid)
            }, e.getCardNatureColor = function (e) {
                return e == r.Data.CardNature.dark || e == r.Data.CardNature.dragon ? i.lc.Color3B.white : i.lc.Color3B.black
            }, e.getBoardCardScale = function (e) {
                return 1 == e._card._pos ? _.CardSprite.Scale.normal_main : _.CardSprite.Scale.normal
            }, e.convertBackId = function (e) {
                return null == e || e < 7600 ? e = 0 : e -= 7600, (e < 0 || e > 3) && (e = 0), e
            }, e.addSkillItem = function (e, t) {
                var n = i.lc.createNode(cc.size(487, 100));
                n.setAnchorPoint(new cc.Vec2(0, 0));
                var a = r.Data._skillInfo[e], _ = r.Data.getInfo(t), s = i.lc.Color3B.black;
                _._nature && 7 == _._nature && (s = i.lc.Color3B.white);
                var c = d.lcStr(a._descSid), u = d.lcStr(a._nameSid), g = r.Data.getSkillType(e), f = !0, m = null,
                    y = null, T = i.lc.createNode();
                if (g == r.Data.SkillType.monster_ability ? o.SpriteUtil.addSprite(T, "card_skill_ability") : g == r.Data.SkillType.monster_attack ? o.SpriteUtil.addSprite(T, "card_nature_11_s") : g == r.Data.SkillType.monster_body ? o.SpriteUtil.addSprite(T, "card_skill_passive") : g == r.Data.SkillType.monster_strength ? o.SpriteUtil.addSprite(T, "card_skill_passive_atk") : (f = !1, o.SpriteUtil.addSprite(T, "card_nature_11_s")), n.addChild(T), T.setAnchorPoint(new cc.Vec2(0, 0)), T.setPosition(new cc.Vec2(32, 45)), a._power > 0 && (m = i.lc.createNode(), o.SpriteUtil.addSprite(m, "card_number_s_x" + a._power), n.addChild(m), m.setPosition(new cc.Vec2(85, 65)), m.color = s), a._damageDisplay > 0) {
                    if (y = i.lc.createNode(), a._val[0] > 0 && o.SpriteUtil.addSprite(y, "card_number_" + a._val[0]), n.addChild(y), y.setPosition(new cc.Vec2(420, 65)), 2 == a._damageDisplay) {
                        var S = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_+").node;
                        n.addChild(S), y.setPosition(new cc.Vec2(410, 65)), S.setPosition(new cc.Vec2(440, 65)), S.color = s
                    } else if (3 == a._damageDisplay) {
                        var C = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_x").node;
                        n.addChild(C), y.setPosition(new cc.Vec2(410, 65)), C.setPosition(new cc.Vec2(440, 65)), C.color = s
                    } else 3 == a._damageDisplay && (C = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_-").node, n.addChild(C), y.setPosition(new cc.Vec2(410, 65)), C.setPosition(new cc.Vec2(440, 65)), C.color = s);
                    y.color = s
                }
                var v = l.RichTextUtil.createLabel(u, p.UICfg.TTF_FONT, p.UICfg.FontSize.S1).node;
                n.addChild(v, 3), v.setAnchorPoint(.5, .5), v.setPosition(new cc.Vec2(243.5, 60)), v.color = s, f || (T.setVisible(!1), m && m.setVisible(!1), y && y.setVisible(!1)), c = null == c ? "" : string.format(c, a._val);
                var b = 20;
                h.lcAppCfg.isChinese() || (b = 62), c = l.RichTextUtil.formatStr(c, b);
                var E = l.RichTextUtil.createLabel(c, p.UICfg.TTF_FONT, p.UICfg.FontSize.S3).node;
                return n.addChild(E, 2), E.setAnchorPoint(0, 1), E.setPosition(new cc.Vec2(50, 20)), E.color = s, n
            };
            var n = function () {
                function t() {
                    this._mainNode = null, this._backNode = null, this._mainImg = null, this._frameNature = null, this._energyLabel = null, this._hpNode = null, this._powerCount = 0, this._node = null
                }

                return t.create = function (t, n, a, i, o) {
                    var r = new e.CardTransfiguration;
                    return r.init(t, n, a, i, o), r
                }, t.prototype.setVisible = function (e) {
                    this._node.active = e
                }, t.prototype.removeFromParent = function () {
                    this._node.removeFromParent(!0)
                }, t.prototype.setScale = function (e) {
                    this._node.setScale(e)
                }, t.prototype.getContentSize = function () {
                    return this._node.getContentSize()
                }, t.prototype.addChild = function () {
                }, t.prototype.init = function (e, t, n, a, _) {
                    null == e && (e = 10001, cc.log("infoid can't be null")), null == t && (t = 0, cc.log("backId can't be null")), null == n && (n = 0, cc.log("skin can't be null")), null == _ && (_ = 0, cc.log("energy can't be null")), null == a && (a = 0, cc.log("hp can't be null"));
                    var s = r.Data.getType(e), c = r.Data.getInfo(e), l = i.lc.createNode();
                    o.SpriteUtil.addSprite(l, string.format("card_board_frame%02d", s));
                    var d = o.SpriteUtil.frameFullSize(string.format("card_board_frame%02d", s));
                    if (this._node = i.lc.createNode(d), this._node.name = "CardTransfiguration", this._node.setAnchorPoint(new cc.Vec2(.5, .5)), this._mainNode = i.lc.createNode(d), this._mainNode.setAnchorPoint(new cc.Vec2(.5, .5)), this._node.addChild(this._mainNode), c._level && c._level > 0) {
                        var p = i.lc.createNode();
                        o.SpriteUtil.addSprite(p, string.format("card_board_frame%02d_b%01d", s, Math.min(2, c._level || 0)));
                        var u = o.SpriteUtil.frameFullSize(string.format("card_board_frame%02d_b%01d", s, Math.min(2, c._level || 0)));
                        this._mainNode.addChild(p, 1), p.setPosition(new cc.Vec2(0, -u.height / 2 + 30))
                    }
                    this._mainNode.addChild(l);
                    var g = i.lc.createNode();
                    o.SpriteUtil.addSprite(g, e + "_atk"), this._mainNode.addChild(g, -10), g.setPosition(new cc.Vec2(5, 22));
                    var h = i.lc.createNode();
                    o.SpriteUtil.addSprite(h, string.format("card_nature_%02d_m", c._nature || 0)), this._mainNode.addChild(h, 1), h.setPosition(new cc.Vec2(0, -70));
                    var f = i.lc.createNode();
                    o.SpriteUtil.addSprite(f, string.format("card_number_s_x%d", _)), this._mainNode.addChild(f, 1), f.setPosition(new cc.Vec2(-44, -70)), this._energyLabel = f, this._powerCount = _ || 0;
                    var m = i.lc.createNode();
                    o.SpriteUtil.addSprite(m, "card_hp_" + a), this._mainNode.addChild(m, 1), m.setPosition(new cc.Vec2(46, -70)), this._hpNode = m
                }, t.prototype.addBuffsToTransfigration = function (e) {
                }, t
            }();
            e.CardTransfiguration = n;
            var y = function (n) {
                function _() {
                    var e = n.call(this) || this;
                    return e._infoId = null, e._backId = null, e._skinId = null, e._type = null, e._showFg = !1, e._showInBattle = !1, e._frame = null, e._evolutionBg = null, e._evolutionValue = null, e._evolutionValueMagic = null, e._evolutionIcon = null, e._evolutionLvl = null, e._hpValue = null, e._weaknessIcon = null, e._weaknessValue = null, e._resistIcon = null, e._resistValue = null, e._drawBackIcon = null, e._drawBackValue = null, e._skillItems = [], e._nameValue = null, e._quality = null, e._image = null, e._glow = null, e.node.name = "CardFrame", e
                }

                return a(_, n), _.create = function (e, t, n) {
                    var a = new _;
                    return a.init(e, t, n), a
                }, _.prototype.addIcon = function (e, t, n) {
                    var a = i.lc.createNode();
                    return o.SpriteUtil.addSprite(a, e), n ? i.lc.addChildToCenter(this.node, a, t) : this.addChild(a, t), a
                }, _.prototype.init = function (t, n, a) {
                    var _ = r.Data.getType(t), c = r.Data.getInfo(t);
                    this._infoId = t, this._backId = n, this._skinId = a, this._showFg = !0, this._showInBattle = !1, this._frame = o.SpriteUtil.createSprite(s.UIUtil.getCardFrameName(_, c._nature)).node;
                    var d = o.SpriteUtil.frameFullSize(s.UIUtil.getCardFrameName(_, c._nature));
                    this.node.setContentSize(d), this.node.setAnchorPoint(new cc.Vec2(.5, .5)), i.lc.addChildToCenter(this.node, this._frame, 1), this._evolutionBg = i.lc.createNode(), o.SpriteUtil.addSprite(this._evolutionBg, "card_frame_stage"), this.addChild(this._evolutionBg, 2), this._evolutionBg.setPosition(new cc.Vec2(77 - i.lc.cw(this.node), i.lc.ch(this.node) - 80)), this._evolutionIcon = i.lc.createNode(), o.SpriteUtil.addSprite(this._evolutionIcon, s.UIUtil.getCardIconName(10001, !0)), this.addChild(this._evolutionIcon, 2), this._evolutionIcon.setPosition(new cc.Vec2(60 - i.lc.cw(this.node), i.lc.ch(this.node) - 90)), this._evolutionValue = i.lc.createNode(), o.SpriteUtil.addSprite(this._evolutionValue, "card_monster_lv0"), this.addChild(this._evolutionValue, 2), this._evolutionValue.setPosition(new cc.Vec2(70 - i.lc.cw(this.node), i.lc.ch(this.node) - 42)), this._evolutionValueMagic = i.lc.createNode(), o.SpriteUtil.addSprite(this._evolutionValueMagic, "card_magic_11"), this.addChild(this._evolutionValueMagic, 2), this._evolutionValueMagic.setPosition(new cc.Vec2(i.lc.cw(this.node) - 100, i.lc.ch(this.node) - 50)), this._evolutionLvl = i.lc.createNode(), o.SpriteUtil.addSprite(this._evolutionLvl, "card_lvl0"), this.addChild(this._evolutionLvl, 2), this._evolutionLvl.setPosition(new cc.Vec2(320 - i.lc.cw(this.node), i.lc.ch(this.node) - 48)), this._hpValue = i.lc.createNode(), o.SpriteUtil.addSprite(this._hpValue, "card_hp_10"), this.addChild(this._hpValue, 2), this._hpValue.setPosition(new cc.Vec2(-100 + i.lc.cw(this.node), -50 + i.lc.ch(this.node))), this._weaknessIcon = i.lc.createNode(), o.SpriteUtil.addSprite(this._weaknessIcon, "card_nature_01_s"), this.addChild(this._weaknessIcon, 2), this._weaknessIcon.setPosition(new cc.Vec2(65 - i.lc.cw(this.node), 62 - i.lc.ch(this.node))), this._weaknessValue = i.lc.createNode(), o.SpriteUtil.addSprite(this._weaknessValue, "card_number_s_x2"), this.addChild(this._weaknessValue, 2), this._weaknessValue.setPosition(new cc.Vec2(i.lc.x(this._weaknessIcon) + 40, i.lc.y(this._weaknessIcon))), this._resistIcon = i.lc.createNode(), o.SpriteUtil.addSprite(this._resistIcon, "card_nature_01_s"), this.addChild(this._resistIcon, 2), this._resistIcon.setPosition(new cc.Vec2(161 - i.lc.cw(this.node), i.lc.y(this._weaknessIcon))), this._resistValue = i.lc.createNode(), o.SpriteUtil.addSprite(this._resistValue, "card_number_s_x2"), this.addChild(this._resistValue, 2), this._resistValue.setPosition(new cc.Vec2(i.lc.x(this._resistIcon) + 44, i.lc.y(this._weaknessIcon))), this._drawBackIcon = i.lc.createNode(), o.SpriteUtil.addSprite(this._drawBackIcon, "card_nature_11_s"), this.addChild(this._drawBackIcon, 2), this._drawBackIcon.setPosition(new cc.Vec2(320 - i.lc.cw(this.node), i.lc.y(this._weaknessIcon))), this._drawBackValue = i.lc.createNode(), o.SpriteUtil.addSprite(this._drawBackValue, "card_number_s_x2"), this.addChild(this._drawBackValue, 2), this._drawBackValue.setPosition(new cc.Vec2(i.lc.x(this._drawBackIcon) + 40, i.lc.y(this._weaknessIcon))), this._nameValue = l.RichTextUtil.createTTF(e.getInfoName(c), p.UICfg.FontSize.M2, u.nox.c4b(240, 240, 255, 255)).node, this.addChild(this._nameValue, 3), this._nameValue.setAnchorPoint(new cc.Vec2(0, .5)), this._namePos1 = new cc.Vec2(-180, i.lc.ch(this.node) - 125 + 34), this._namePos2 = new cc.Vec2(-110, i.lc.ch(this.node) - 95 + 34 + 15), this._quality = i.lc.createNode(), o.SpriteUtil.addSprite(this._quality, "card_quality_01"), this.addChild(this._quality, 2), this._quality.setPosition(new cc.Vec2(i.lc.cw(this.node) - 50, 30 - i.lc.ch(this.node))), this._image = o.SpriteUtil.createSprite("10001").node, this.addChild(this._image);
                    var g = o.SpriteUtil.frameFullSize("10001");
                    this._imagePos1 = new cc.Vec2(1, i.lc.ch(this.node) - g.height / 2 - 76), this._imagePos2 = new cc.Vec2(1, i.lc.ch(this.node) - g.height / 2 - 90), this.update(t, a)
                }, _.prototype.addSkillItem = function (e) {
                    var t = i.lc.createNode(cc.size(416, 100));
                    t.setAnchorPoint(new cc.Vec2(0, 0));
                    var n = r.Data._skillInfo[e], a = r.Data.getInfo(this._infoId), _ = i.lc.Color3B.black;
                    7 == a._nature && (_ = i.lc.Color3B.white);
                    var s = d.lcStr(n._descSid), c = d.lcStr(n._nameSid), u = r.Data.getSkillType(e), g = !0, f = null,
                        y = null, T = i.lc.createNode();
                    if (u == r.Data.SkillType.monster_ability ? o.SpriteUtil.addSprite(T, "card_skill_ability") : u == r.Data.SkillType.monster_attack ? o.SpriteUtil.addSprite(T, "card_nature_11_s") : u == r.Data.SkillType.monster_body ? o.SpriteUtil.addSprite(T, "card_skill_passive") : u == r.Data.SkillType.monster_strength ? o.SpriteUtil.addSprite(T, "card_skill_gift") : (g = !1, o.SpriteUtil.addSprite(T, "card_nature_11_s")), t.addChild(T), T.setAnchorPoint(new cc.Vec2(0, .5)), T.setPosition(new cc.Vec2(50, 65)), n._power > 0 && (f = i.lc.createNode(), o.SpriteUtil.addSprite(f, "card_number_s_x" + n._power), t.addChild(f), f.setPosition(new cc.Vec2(103, 65)), f.color = _), n._damageDisplay > 0) {
                        if (y = i.lc.createNode(), n._val[0] > 0 && o.SpriteUtil.addSprite(y, "card_number_" + n._val[0]), t.addChild(y), y.setPosition(new cc.Vec2(420, 65)), 2 == n._damageDisplay) {
                            var S = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_+").node;
                            t.addChild(S), y.setPosition(new cc.Vec2(410, 65)), S.setPosition(new cc.Vec2(440, 65)), S.color = _
                        } else if (3 == n._damageDisplay) {
                            var C = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_x").node;
                            t.addChild(C), y.setPosition(new cc.Vec2(410, 65)), C.setPosition(new cc.Vec2(440, 65)), C.color = _
                        } else if (3 == n._damageDisplay) {
                            C = o.SpriteUtil.addSprite(i.lc.createNode(), "card_number_-").node;
                            t.addChild(C), y.setPosition(new cc.Vec2(410, 65)), C.setPosition(new cc.Vec2(440, 65)), C.color = _
                        }
                        y.color = _
                    }
                    var v = m.NodeWithLabel.createBMFont(p.UICfg.BMFont.huali_32, c);
                    t.addChild(v, 3), v.setAnchorPoint(.5, .5), v.setPosition(new cc.Vec2(265, 65)), v.color = _, g || (T.setVisible(!1), f && f.setVisible(!1), y && y.setVisible(!1)), s = null == s ? "" : string.format(s, n._val);
                    var b = 21, E = 0, I = 0;
                    h.lcAppCfg.isChinese() || (b = 62);
                    var P = null;
                    return g ? (s = l.RichTextUtil.formatStr(s, b, 3), string.split(s, "\n").length >= 3 && (E = 10), P = m.NodeWithLabel.createBMFont(p.UICfg.BMFont.huali_26, s)) : (I = 15, (P = m.NodeWithLabel.createBMFont(p.UICfg.BMFont.huali_26, s)).width = 350, P._label.overflow = cc.Label.Overflow.RESIZE_HEIGHT, P._label.horizontalAlign = cc.Label.HorizontalAlign.LEFT, P._label.verticalAlign = cc.Label.VerticalAlign.CENTER), P.setAnchorPoint(0, 1), P.setPosition(new cc.Vec2(50 + I, 40 + E)), t.addChild(P, 2), P.color = _, t
                }, _.prototype.update = function (n, a) {
                    if (null != n) {
                        this.node.active = !0, this._infoId = n, this._skinId = a;
                        var _ = r.Data.getType(n), c = r.Data.getInfo(n);
                        this._type = _;
                        var l = this._showFg && _ == r.Data.CardType.monster;
                        if (o.SpriteUtil.setSprite(this._frame, this._showFg ? s.UIUtil.getCardFrameName(_, c._nature) : s.UIUtil.getCardBackName(this._backId, this._showInBattle)), this._skillItems.length > 0) {
                            for (var d = 0; d < this._skillItems.length; d++) {
                                this._skillItems[d].removeFromParent()
                            }
                            this._skillItems = []
                        }
                        for (d = 0; d < c._skillId.length; d++) {
                            var u = this.addSkillItem(c._skillId[d]);
                            this.addChild(u, 2);
                            var g = -100 - 100 * d;
                            _ != r.Data.CardType.monster && (g -= 20), u.setPosition(new cc.Vec2(-i.lc.cw(this.node), g)), this._skillItems.push(u), u.setVisible(this._showFg)
                        }
                        this._evolutionValue.active = this._showFg, this._evolutionValueMagic.active = this._showFg, this._showFg && (_ == r.Data.CardType.monster ? (this._evolutionValueMagic.active = !1, this._evolutionValue.active = !0, o.SpriteUtil.setSprite(this._evolutionValue, "card_monster_lv" + c._level)) : _ == r.Data.CardType.magic && (this._evolutionValue.active = !1, this._evolutionValueMagic.active = !0, o.SpriteUtil.setSprite(this._evolutionValueMagic, "card_magic_" + c._type), c._type == r.Data.MagicTrapType.special ? o.SpriteUtil.setSprite(this._frame, "card_frame_nature_magic_2") : c._type == r.Data.MagicTrapType.character && o.SpriteUtil.setSprite(this._frame, "card_frame_nature_magic_3"))), this._evolutionBg.active = l && c._level > 0, this._evolutionIcon.active = l && c._level > 0, this._evolutionLvl.active = l, this._evolutionBg.active && (o.SpriteUtil.setSprite(this._evolutionIcon, s.UIUtil.getCardIconName(c._evoBase, !0)), o.SpriteUtil.setSprite(this._evolutionLvl, "card_lvl" + c._level)), this._hpValue.active = l, this.setHp(c._hp, e.getCardNatureColor(c._nature)), this._weaknessIcon.active = l, this._weaknessValue.active = l, this._resistIcon.active = l, this._resistValue.active = l, this._drawBackValue.active = l, this._drawBackIcon.active = l, l && (0 == c._weakness ? (this._weaknessIcon.active = !1, this._weaknessValue.active = !1) : (o.SpriteUtil.setSprite(this._weaknessIcon, string.format("card_nature_%02d_s", c._weakness)), o.SpriteUtil.setSprite(this._weaknessValue, "card_number_s_" + (c._weaknessFactor < 10 ? "x" + c._weaknessFactor : "+" + c._weaknessFactor)), this._weaknessValue.color = e.getCardNatureColor(c._nature)), 0 == c._resist ? (this._resistIcon.active = !1, this._resistValue.active = !1) : (o.SpriteUtil.setSprite(this._resistIcon, string.format("card_nature_%02d_s", c._resist)), o.SpriteUtil.setSprite(this._resistValue, "card_number_s_-" + c._resistFactor), this._resistValue.color = e.getCardNatureColor(c._nature)), o.SpriteUtil.setSprite(this._drawBackValue, "card_number_s_x" + c._retreatCost), this._drawBackValue.color = e.getCardNatureColor(c._nature)), this._nameValue.setVisible(this._showFg);
                        var f = this._nameValue.getComponent(cc.Label);
                        f.string = e.getInfoName(c), this._nameValue.color = e.getCardNatureColor(c._nature);
                        var m = h.lcAppCfg.languageVersion();
                        _ == r.Data.CardType.monster ? this._nameValue.setPosition(this._namePos2) : this._nameValue.setPosition(this._namePos1);
                        var y = f.string;
                        m == t.vn && _ == r.Data.CardType.monster ? (y.length >= 18 && (this._nameValue.setPosition(this._namePos2.x, this._namePos2.y - 8), this._nameValue.getComponent(cc.Label).fontSize = p.UICfg.FontSize.S3), f.horizontalAlign = cc.Label.HorizontalAlign.CENTER) : t.en, this._quality.setVisible(this._showFg), o.SpriteUtil.setSprite(this._quality, "card_quality_0" + c._quality), this._image.setVisible(this._showFg), this._image.stopAllActions(), this._showFg && (o.SpriteUtil.setSprite(this._image, n + ""), l ? this._image.setPosition(this._imagePos1) : this._image.setPosition(this._imagePos2))
                    } else this.node.active = !1
                }, _.prototype.setEffect = function () {
                }, _.prototype.setGray = function (e) {
                    var t = e ? 1 : 0;
                    this._frame.getComponent(cc.Sprite).setState(t), this._image.getComponent(cc.Sprite).setState(t)
                }, _.prototype.setHp = function (e, t) {
                    this._hpValue.color = t, o.SpriteUtil.setSprite(this._hpValue, "card_hp_" + (e || 0))
                }, _.prototype.setStatus = function (e, t) {
                    this._showFg == e && this._showInBattle == t || (this._showFg = e, this._showInBattle = t, this.update(this._infoId, this._skinId))
                }, _
            }(c.NodeUtil);
            e.CardFrame = y;
            var T = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._name = null, t._btn = null, t._power = 0, t._curPower = 0, t._skill = null, t._dialog = null, t
                }

                return a(t, e), t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t.prototype.init = function (e, t, n, a) {
                    var _ = this;
                    this.node.setContentSize(t);
                    var s = e._id;
                    this._skill = e;
                    var c = r.Data._skillInfo[s], u = r.Data.getSkillType(s), f = d.lcStr(c._nameSid),
                        y = d.lcStr(c._descSid), T = c._power, S = c._val[0];
                    this._power = T, y = string.format(y, c._val);
                    var C = "bat_skill_btn3";
                    u == r.Data.SkillType.monster_ability ? C = "bat_skill_btn1" : u == r.Data.SkillType.monster_body && (C = "bat_skill_btn2");
                    var v = g.NodeWithShaderButton.createScale9ShaderButton(C, function () {
                        _._dialog && _._dialog.onButtonEvent(_)
                    }, p.UICfg.CRECT_BUTTON, t.width, t.height);
                    this.addChild(v, -1), v.setEnabled(T > 0), this._btn = v;
                    p.UICfg.FontSize.M2;
                    h.lcAppCfg.isChinese() || p.UICfg.FontSize.S2;
                    var b = m.NodeWithLabel.createBMFont(p.UICfg.BMFont.huali_32, f);
                    i.lc.addChildToPosAR(this.node, b, cc.v2(0, i.lc.astop(_.node) - 30), 3), this._name = b;
                    var E = i.lc.createNode();
                    o.SpriteUtil.addSprite(E, "card_nature_11_s"), i.lc.addChildToPosAR(this.node, E, cc.v2(i.lc.left(_.node) + 25, i.lc.astop(_.node) - 30));
                    var I = !0;
                    if (u == r.Data.SkillType.monster_ability ? (o.SpriteUtil.addSprite(E, "card_skill_ability_atk"), E.setPosition(cc.v2(i.lc.left(_.node) + 65, i.lc.astop(_.node) - 30)), b.setPosition(cc.v2(20, i.lc.astop(_.node) - 30))) : u == r.Data.SkillType.monster_attack ? (o.SpriteUtil.addSprite(E, "card_nature_11_s"), 0 == T && E.setVisible(!1)) : u == r.Data.SkillType.monster_body ? (o.SpriteUtil.addSprite(E, "card_skill_passive_atk"), E.setPosition(cc.v2(i.lc.left(_.node) + 65, i.lc.astop(_.node) - 30)), b.setPosition(cc.v2(20, i.lc.astop(_.node) - 30))) : u == r.Data.SkillType.monster_strength ? (o.SpriteUtil.addSprite(E, "card_skill_gift_atk"), E.setPosition(cc.v2(i.lc.left(_.node) + 65, i.lc.astop(_.node) - 30)), b.setPosition(cc.v2(20, i.lc.astop(_.node) - 30))) : (I = !1, o.SpriteUtil.addSprite(E, "card_nature_11_s")), T > 0) {
                        var P = l.RichTextUtil.createTTF("x" + T, p.UICfg.FontSize.M2, a).node;
                        i.lc.addChildToPosAR(this.node, P, cc.v2(i.lc.left(_.node) + 60, i.lc.astop(_.node) - 30)), P.color = p.UICfg.COLOR_TEXT_WHITE
                    }
                    I || E.setVisible(!1);
                    var A = "";
                    0 != S && null != S && S >= 10 && (A = "" + S);
                    var R = l.RichTextUtil.createTTF(A, p.UICfg.FontSize.M2, p.UICfg.COLOR_TEXT_WHITE).node;
                    i.lc.addChildToPosAR(this.node, R, cc.v2(i.lc.right(_.node) - 30, i.lc.astop(_.node) - 30), 3);
                    var B = 18, N = -10;
                    h.lcAppCfg.isChinese() || (B = 54), y = l.RichTextUtil.formatStr(y, B, 3), string.split(y, "\n").length >= 3 && (N = -30);
                    var D = m.NodeWithLabel.createBMFont(p.UICfg.BMFont.huali_26, y);
                    D.setAnchorPoint(new cc.Vec2(0, .5)), i.lc.addChildToPosAR(this.node, D, cc.v2(-170, N), 3)
                }, t.prototype.setCurPower = function (e, t) {
                    void 0 === t && (t = !0), this._curPower = e, this._btn.setEnabled(e >= this._power && t)
                }, t.prototype.isEnabled = function () {
                    return this._curPower >= this._power
                }, t
            }(c.NodeUtil);
            e.SkillAtkItem = T;
            var S = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t.prototype.init = function (e, t, n) {
                    this.node.setContentSize(n), this.node.setAnchorPoint(.5, .5);
                    var a = f.SpineUtil.createSpineAnim(t ? "jueze" : "jueze2", "default", "animation", !1);
                    i.lc.addChildToCenter(this.node, a);
                    var o = r.Data._skillInfo[e], _ = d.lcStr(o._descSid);
                    o._val[0];
                    _ = string.format(_, o._val);
                    var s = 18;
                    h.lcAppCfg.isChinese() || (s = 54), _ = l.RichTextUtil.formatStr(_, s, 3);
                    var c = m.NodeWithLabel.createTTF(_ + "", p.UICfg.FontSize.S3, p.UICfg.COLOR_TEXT_LIGHT, cc.size(320, 70));
                    this.node.addChild(c), c.enableOutline(i.lc.Color4B.black, 1), e < 6e4 ? (c.setAnchorPoint(new cc.Vec2(0, .5)), c.setPosition(-n.width / 2 + 20, 30)) : (c.setAnchorPoint(new cc.Vec2(.5, .5)), c.setPosition(0, 70))
                }, t
            }(c.NodeUtil);
            e.BattleSkillItem2 = S;
            var C = function () {
                function e() {
                    this._infoId = null, this._card = null
                }

                return e.create = function (t) {
                    var n = new e;
                    return n.init(t), n
                }, e.prototype.init = function (e) {
                    this._card = e, this._infoId = e._infoId;
                    y.create(this._infoId, 0, 0)
                }, e
            }();
            e.CardItem = C
        })(n.CardUtil || (n.CardUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../battle/ui/CardSprite": "CardSprite",
        "../config/UICfg": "UICfg",
        "../data/data": "data",
        "../ui/node/NodeWithLabel": "NodeWithLabel",
        "../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "./NodeUtil": "NodeUtil",
        "./RichTextUtil": "RichTextUtil",
        "./SpineUtil": "SpineUtil",
        "./SpriteUtil": "SpriteUtil",
        "./UIUtil": "UIUtil"
    }],
    ChapterLevel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c9212Z8ga9MH7bgBmFGUeQ2", "ChapterLevel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.ChapterLevel = a, cc._RF.pop()
    }, {}],
    ChapterPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "933c2kMQGFKlaMklLixWErw", "ChapterPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("../../../leocool/lcStr"), c = e("../../scene/HeroCenterScene"), l = e("../../../leocool/lc"),
            d = e("../../config/UICfg"), p = e("../../StringEnums"), u = e("../../utils/UIUtil"),
            g = e("../../utils/TimeUtil"), h = e("../widget/IconWidget"), f = e("../../GuideManager"),
            m = e("../../ToastManager"), y = e("./FindMatchPanel"), T = e("../../part/WorldPart"),
            S = e("../node/BoxProgressBar"), C = e("../../ClientData"), v = e("../form/ActiveChestForm"),
            b = e("../../ClientView"), E = e("../../scene/SceneManager"), I = e("./CapturePanel"),
            A = e("../../utils/SpriteUtil"), R = e("../../../nox"), B = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.ChapterPanel) || this;
                    return t._chapterId = 1, t._pvpRemainTimesLabel = null, t._remainTimesLabel = null, t._template = null, t._willRemoveCallback = null, t._btnTroop = null, t._rightBg = null, t._infoBg = null, t._levelInfos = [], t.levelList = null, t._listener = null, t._bar = null, t
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this._chapterId = e, this._isHave = n
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t._rightBg = r.noxcc.find("rightPanel", t.mRoot), t._infoBg = r.noxcc.find("leftPanel", t.mRoot), t.levelList = r.noxcc.find("rightPanel/scopeView/layout", t.mRoot), t._template = r.noxcc.find("scopeView/template", t._rightBg), r.noxcc.setActive(t._template, !1), r.noxcc.addClick(t.mRoot, t, function () {
                        t.hide()
                    });
                    var n = r.noxcc.find("rightPanel/closeBtn", t.mRoot);
                    r.noxcc.addClick(n, t, function () {
                        t.hide()
                    });
                    var a = r.noxcc.find("topBar/img_btn_help", t.mRoot);
                    r.noxcc.addClick(a, t, function () {
                        C.ClientData.showHelpForm(null, 2)
                    });
                    var i = r.noxcc.find("topBar/closeBtn", t.mRoot);
                    r.noxcc.addClick(i, t, function () {
                        E.SceneManager.popScene(!0)
                    });
                    var o = r.noxcc.find("chapter_name_bg", t._rightBg), c = r.noxcc.find("chapter_badge_01", o);
                    A.SpriteUtil.setSprite(c, "chapter_badge_0" + t._chapterId);
                    var d = s.lcStr(_.Data._chapterInfo[t._chapterId]._nameSid);
                    d = d.replace(" ", "\n"), r.noxcc.setLabelString(r.noxcc.findLabel("title", o), d), o.runAction(l.lc.moveTo(.3, cc.v2(o.x, l.lc.ch(t._infoBg) + l.lc.h(o) / 3 - 25)).easing(cc.easeSineOut()))
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    this._isShowResourceUI = !0, this.initBottomBar(), this.initLevelList(), this.initInfoPanel(), this._chapterId ? this.focusLevel(this._chapterId, this._isHave) : P._playerWorld.isLevelPassed(1e4 + 100 * this._chapterId + 10) || this.focusCurLevel(), r.noxcc.setLabelString(r.noxcc.findLabel("text", this._btnTroop), string.format("%s %d", s.lcStr(p.STR.TROOP), P._curTroopIndex)), r.noxcc.setLabelString(this._remainTimesLabel, P._playerWorld._dailyExploreTimes), this._listener = f.GuideManager.Event.seek.addListener(this, this.onGuide), "select chapter 1" == f.GuideManager.getCurStepName() && f.GuideManager.finishStepLater(.1)
                }, t.prototype.initBottomBar = function () {
                    var e = r.noxcc.find("rightPanel/bottomBar", this.mRoot);
                    this._pvpRemainTimesLabel = r.noxcc.find("fight_bg/fightTimes", e), this._remainTimesLabel = r.noxcc.find("remain_bg/remainTimes", e), r.noxcc.setLabelString(this._pvpRemainTimesLabel, P._playerWorld._dailyPvpTimes), r.noxcc.setLabelString(this._remainTimesLabel, P._playerWorld._dailyExploreTimes), this._btnTroop = r.noxcc.find("cardGroup", e), r.noxcc.addClick(this._btnTroop, this, function () {
                        g.TimeUtil.checkBtnClick() && E.SceneManager.pushScene(c.HeroCenterScene.create())
                    })
                }, t.prototype.initLevelList = function () {
                    this._levelInfos = [];
                    for (var e = 1; e <= _.Data.LEVEL_NUM_PER_CHAPTER; e++) this._levelInfos.push(_.Data._levelInfo[1e4 + 100 * this._chapterId + e]);
                    this.levelList.destroyAllChildren(), this.levelList._btns = [];
                    for (var t = 0; t <= Math.min(6, this._levelInfos.length); t++) {
                        var n = this.setOrCreateItem(null, this._levelInfos[t], !0);
                        this.levelList.addChild(n)
                    }
                    if (Math.min(6, this._levelInfos.length) < this._levelInfos.length) for (e = 7; e < this._levelInfos.length; e++) {
                        (n = this.setOrCreateItem(null, this._levelInfos[e], !0)) && this.levelList.addChild(n)
                    }
                }, t.prototype.setOrCreateItem = function (e, t, n) {
                    var a = this;
                    if (e || (e = r.noxcc.instantiate(a._template)), e.active != n) {
                        if (r.noxcc.setActive(e, n), !n) return e;
                        e._levelInfo = t;
                        var i = (P._playerWorld.isLevelLocked(t._id) ? "level_bg_01" : P._playerWorld.isLevelPassed(t._id) && "level_bg_03") || "level_bg_02";
                        A.SpriteUtil.setSprite(e, i), r.noxcc.setLabelString(r.noxcc.findLabel("title", e), s.lcStr(t._nameSid));
                        var o = r.noxcc.find("explore", e);
                        a.levelList._btns.push(o);
                        var c = (P._playerWorld.isLevelLocked(t._id) ? "img_btn_gray" : P._playerWorld.isLevelPassed(t._id) && _.Data.WILD_UNLOCK_LEVEL <= t._id && !P._playerWorld.isLevelCapturing(t._id) && "img_btn_orange") || "img_btn_green";
                        if (A.SpriteUtil.setSprite(o, c), r.noxcc.addClick(o, a, function () {
                            a.onSelectLevel(t)
                        }), P._playerWorld.isLevelCapturing(t._id)) {
                            r.noxcc.setLabelString(r.noxcc.find("text", o), s.lcStr(p.STR.CAPTURE));
                            var f = P._playerWorld.getExploreInfo(t._id),
                                m = u.UIUtil.createTTF(g.TimeUtil.formatTime(f._disappearTime - g.TimeUtil.getCurrentTime()), d.UICfg.FontSize.S3);
                            r.noxcc.setParent(m, o), r.noxcc.setPosition(m, -30), m.runAction(l.lc.sequence(1, function () {
                                f._disappearTime - g.TimeUtil.getCurrentTime() <= 0 ? m.setString(g.TimeUtil.formatTime(0)) : m.setString(g.TimeUtil.formatTime(f._disappearTime - g.TimeUtil.getCurrentTime()))
                            }).repeatForever())
                        } else P._playerWorld.isLevelLocked(t._id) ? r.noxcc.setLabelString(r.noxcc.find("text", o), s.lcStr(p.STR.EXPLORE_LOCKED)) : r.noxcc.setLabelString(r.noxcc.find("text", o), s.lcStr(P._playerWorld.isLevelPassed(t._id) && _.Data.WILD_UNLOCK_LEVEL <= t._id && p.STR.EXPLORE_AGAIN || p.STR.EXPLORE));
                        var y = r.noxcc.find("sweeping", e),
                            T = !P._playerWorld.isLevelPassed(t._id) || P._playerWorld.isLevelLocked(t._id) || P._playerWorld.isLevelCapturing(t._id) ? "img_btn_gray" : "img_btn_blue";
                        A.SpriteUtil.setSprite(y, T), r.noxcc.addClick(y, a, function () {
                            a.onSweepLevel(t)
                        }), r.noxcc.setLabelString(r.noxcc.find("text", y), s.lcStr(p.STR.SWEEP));
                        for (var S = [], C = 0; C < t._pid.length; C++) S.push(t._pid[C]);
                        r.noxcc.find("pets", e).destroyAllChildren();
                        for (var v = 0; v < 4; v++) if (null != S[v]) {
                            var b = h.IconWidget.create({_infoId: S[v]}, h.IconWidget.DisplayFlag.ITEM_NO_NAME);
                            r.noxcc.find("pets", e).addChild(b.node), b.getRoot().scale = .72
                        }
                        return e
                    }
                }, t.prototype.getProgressValByLevelId = function (e, t) {
                    return P._playerWorld.getChapterId(t) < e ? -1 : e < P._playerWorld.getChapterId(t) ? 2 : t % 100 < 3 ? -1 : t % 100 < 6 ? 0 : t % 100 < 10 ? 1 : 2
                }, t.prototype.getChapterBonuses = function () {
                    for (var e = [], t = 0; t < P._playerBonus._bonusChapter.length; t++) {
                        var n = P._playerBonus._bonusChapter[t], a = n._info._val % 100;
                        P._playerWorld.getChapterId(n._info._val) != this._chapterId || 3 != a && 6 != a && 10 != a || e.push(n)
                    }
                    return e
                }, t.prototype.initInfoPanel = function () {
                    for (var e = this, t = e.getChapterBonuses(), n = [], a = 0; a < t.length; a++) {
                        var i = t[a], o = {
                            _darkSpr: "dark_point",
                            lightSpr: "light_point",
                            _val: e.getProgressValByLevelId(P._playerWorld.getChapterId(i._info._val), i._info._val),
                            _claimed: i._isClaimed,
                            _str: string.format(s.lcStr(p.STR.N_LEVEL), i._info._val % 100)
                        };
                        n.push(o)
                    }
                    var r = e._bar = S.BoxProgressBar.createBoxProgressBar(n, l.lc.w(e._infoBg) - 340 - d.UICfg.SCR_EDGE, function (n) {
                        var a = t[n._index];
                        if (a.canClaim()) {
                            var i = C.ClientData.claimBonus(a);
                            b.ClientView.showClaimBonusResult(a, i), n._spine._claimed = a._isClaimed, r.update(e.getProgressValByLevelId(e._chapterId, a._value))
                        } else v.ActiveChestForm.create(n._index, a, s.lcStr(p.STR.CHAPTER_BONUS))
                    }, t);
                    r.update(e.getProgressValByLevelId(e._chapterId, t[0]._value)), l.lc.addChildToPosLB(e._infoBg, r.node, cc.v2(l.lc.cw(r.node) + 120 + d.UICfg.SCR_EDGE, 40 + (l.lc.isIPhoneX() ? 30 : 0)))
                }, t.prototype.onMsgMonsterExplored = function () {
                    r.noxcc.setLabelString(this._remainTimesLabel, P._playerWorld._dailyExploreTimes)
                }, t.prototype.setWillRemoveCallback = function (e) {
                    this._willRemoveCallback = e
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this);
                    this._willRemoveCallback = null, this._btnTroop = null, this._pvpRemainTimesLabel = null, this._remainTimesLabel = null, this.levelList.destroyAllChildren(), this.levelList = null
                }, t.prototype.onExit = function () {
                    this._listener.remove(), e.prototype.onExit.call(this)
                }, t.prototype.hide = function () {
                    var e = this;
                    e._rightBg.stopAllActions(), e._rightBg.runAction(l.lc.sequence(l.lc.moveTo(.2, cc.v2(d.UICfg.SCR_W + l.lc.cw(e._rightBg), l.lc.y(e._rightBg))).easing(cc.easeSineIn()), cc.callFunc(function () {
                        e.hideView()
                    }))), e._willRemoveCallback && e._willRemoveCallback()
                }, t.prototype.onSelectLevel = function (e) {
                    if (g.TimeUtil.checkBtnClick()) {
                        P._playerWorld.isLevelPassed(e._id);
                        var t = P._playerWorld.isLevelCapturing(e._id), n = P._playerWorld.isLevelLocked(e._id);
                        if (f.GuideManager.isGuideEnabled() && (f.GuideManager.releaseFinger(), f.GuideManager.setOperateLayer(null)), t) I.CapturePanel.create(e._id).show(); else {
                            if (n) return m.ToastManager.push(s.lcStr(p.STR.EXPLORE_LOCKED_2));
                            if (P._playerWorld._dailyExploreTimes <= 0) return void m.ToastManager.push(s.lcStr(p.STR.EXPLORE_NO_TIMES));
                            this.hide(), y.FindMatchPanel.create(_.Data.FindMatchType.explore, e._id)
                        }
                    }
                }, t.prototype.onSweepLevel = function (e) {
                    if (g.TimeUtil.checkBtnClick()) {
                        var t = P._playerWorld.isLevelPassed(e._id), n = P._playerWorld.isLevelCapturing(e._id),
                            a = P._playerWorld.isLevelLocked(e._id);
                        if (P._playerWorld._dailyExploreTimes <= 0) m.ToastManager.push(s.lcStr(p.STR.EXPLORE_NO_TIMES)); else if (!t || n || a) n ? m.ToastManager.push(s.lcStr(p.STR.EXPLORE_CAPTURE_LOCKED2)) : m.ToastManager.push(s.lcStr(p.STR.EXPLORE_CAPTURE_LOCKED)); else {
                            if (!(P.getItemCount(_.Data.PropsId.explore_token) > 0)) return void m.ToastManager.push(string.format(s.lcStr(p.STR.NOT_ENOUGH), s.lcStr(_.Data._propsInfo[_.Data.PropsId.explore_token]._nameSid)));
                            P._propBag.changeProps(_.Data.PropsId.explore_token, -1), T.WorldPart.sendWorldExplore(P._curTroopIndex, e._id, !0)
                        }
                    }
                }, t.prototype.focusCurLevel = function () {
                    for (var e = this.levelList, t = 0; t < r.noxcc.getChildrenCount(e); t++) if (!P._playerWorld.isLevelPassed(1e4 + 100 * this._chapterId + (t + 1) + 1)) {
                        t;
                        break
                    }
                }, t.prototype.focusLevel = function (e, t) {
                    for (var n = null, a = 0; a < r.noxcc.getChildrenCount(this.levelList); a++) if (e == 1e4 + 100 * this._chapterId + (a + 1)) {
                        n = a;
                        break
                    }
                    null == n && (this.mRoot.runAction(l.lc.sequence(.01, function () {
                    })), t && r.noxcc.getChild(this.levelList, n).runAction(l.lc.sequence(.7, l.lc.scaleTo(.1, 1.05), l.lc.scaleTo(.1, 1), l.lc.scaleTo(.1, 1.05), l.lc.scaleTo(.1, 1))))
                }, t.prototype.updateLevel = function (e) {
                    this.levelList._btns = [];
                    for (var t = 0; t < r.noxcc.getChildrenCount(this.levelList); t++) {
                        var n = r.noxcc.getChild(this.levelList, t);
                        n && n._levelInfo && n._levelInfo._id == e && n.active && (r.noxcc.setActive(n, !1), this.setOrCreateItem(n, n._levelInfo, !0))
                    }
                    r.noxcc.setLabelString(this._remainTimesLabel, P._playerWorld._dailyExploreTimes), r.noxcc.setLabelString(this._pvpRemainTimesLabel, P._playerWorld._dailyPvpTimes);
                    var a = this.getChapterBonuses();
                    this._bar.update(this.getProgressValByLevelId(this._chapterId, a[0]._value))
                }, t.prototype.onGuide = function (e) {
                    if (string.hasPrefix(f.GuideManager.getCurStepName(), "select level")) {
                        var t = R.nox.toNumber(f.GuideManager.getCurStepName().substr(13)) - 1;
                        f.GuideManager.setOperateLayer(this.levelList._btns[t])
                    }
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n.show(), n
                }, t
            }(i.BasePanel);
        n.ChapterPanel = B, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../part/WorldPart": "WorldPart",
        "../../scene/HeroCenterScene": "HeroCenterScene",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../form/ActiveChestForm": "ActiveChestForm",
        "../node/BoxProgressBar": "BoxProgressBar",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel",
        "./CapturePanel": "CapturePanel",
        "./FindMatchPanel": "FindMatchPanel"
    }],
    CharacterGrowingUpPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3e05cDC6gVA4oHjbYhcuIA9", "CharacterGrowingUpPage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../data/data"),
            r = e("../../../../leocool/lcStr"), _ = e("../../widget/BonusWidget"), s = e("../../../../leocool/lc"),
            c = e("../../../../nox"), l = e("../../../GuideManager"), d = e("../../../ClientView"),
            p = e("../../../StringEnums"), u = e("../../../ClientData"), g = e("../../../const/SceneId"),
            h = e("../../../scene/TavernScene"), f = e("../../../scene/FindScene"), m = e("../BackBagPanel"),
            y = e("../../../scene/UnionScene"), T = e("../../../ToastManager"), S = e("../../../scene/SceneManager"),
            C = e("../../../scene/ExpeditionScene"), v = function (e) {
                function t() {
                    var t = e.call(this, "panel/assistant/CharacterGrowingUpPage") || this;
                    return t._characterId = P._initialCharacter, t._bonus = [], t
                }

                return __extends(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.initData(), this._allToggles = {}, this._subTabNode = i.noxcc.find("TopScrollView/view/content", this.getRoot()), this._subTabBtn = i.noxcc.find("TopScrollView/view/content/button5", this.getRoot()), this._subTabBtn.setVisible(!1);
                    var t = c.nox.values(this._charInfos);
                    t.sort(function (e, t) {
                        return e._id == P._initialCharacter ? -1 : t._id == P._initialCharacter ? 1 : e._id - t._id
                    }), this._lastCharInfos = t;
                    for (var n = 0; n < t.length; ++n) {
                        var a = t[n], o = a._id, _ = i.noxcc.instantiate(this._subTabBtn);
                        _.setVisible(!0);
                        var s = _.getComponent(cc.Toggle);
                        cc.assert(s, "need cc.Toggle"), this._allToggles[o] = s, this._subTabNode.addChild(_);
                        var l = i.noxcc.findLabel("Label", _);
                        i.noxcc.setLabelString(l, r.lcStr(a._nameSid)), i.noxcc.addToggleClick(s, this, this.onToggleClick, o)
                    }
                    this._contentNode = i.noxcc.find("Task_Down_ScrollView/view/content", this.getRoot()), this._tmplNode = i.noxcc.find("grid", this._contentNode), i.noxcc.setActive(this._tmplNode, !1), i.noxcc.setParent(this._tmplNode, this.getRoot()), this.setActiveTab(this._characterId)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(l.GuideManager.Event.finish.addListener(t, function (e) {
                        t.onGuideFinish(e)
                    })), "enter task" == l.GuideManager.getCurStepName() && l.GuideManager.finishStepLater()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.createBonusWidgetList = function () {
                    var e = this;
                    this.refreshListData(), l.GuideManager.isGuideEnabled() && l.GuideManager.finishStepLater(), this._contentNode.destroyAllChildren();
                    for (var t = function (t) {
                        var a = i.noxcc.instantiate(n._tmplNode);
                        i.noxcc.setActive(a, !0), i.noxcc.setParent(a, n._contentNode);
                        var o = string.format(r.lcStr(n._bonus[t]._info._nameSid), n._bonus[t]._info._val),
                            c = _.BonusWidget.create(s.lc.w(n._contentNode) - 10, n._bonus[t], o, "");
                        c.registerCallback(function () {
                            e.dealCommonTask(e._bonus[t])
                        }), n._bonusNodes = i.noxcc.find("bonus", a), s.lc.addChildToCenter(n._bonusNodes, c.node)
                    }, n = this, a = 0; a < this._bonus.length; a++) t(a)
                }, t.prototype.refreshListData = function () {
                    this._bonus = [];
                    for (var e = [], t = P._playerBonus.splitBonus(P._playerBonus._bonusLevel), n = 0; n < t.length; n++) for (var a = 0; a < t[n].length; a++) t[n][a]._info._cid % 10 != this._characterId || t[n][a]._isClaimed || e.push(t[n][a]);
                    var i = [];
                    for (n = 0; n < e.length; n++) e[n]._info._val <= P.getMaxLevel() && i.push(e[n]);
                    this._bonus = i, this.showTabFlag()
                }, t.prototype.initData = function () {
                    for (var e in this._charInfos = {}, o.Data._characterInfo) {
                        var t = o.Data._characterInfo[e], n = t._id;
                        this._charInfos[n] = t, cc.assert(d.ClientView.getCharAnimName(n), "Character " + n + " animation not found")
                    }
                }, t.prototype.onToggleClick = function (e) {
                    this.setActiveTab(e)
                }, t.prototype.setActiveTab = function (e) {
                    for (var t = 0; t < this._lastCharInfos.length; t++) {
                        var n = this._lastCharInfos[t]._id;
                        i.noxcc.setNodeColor(i.noxcc.find("Label", this._allToggles[n].node), n == e ? s.lc.Color3B.yellow : s.lc.Color3B.white)
                    }
                    this._characterId != e ? (this._characterId = e, this._allToggles[this._characterId].check(), this.createBonusWidgetList()) : this.createBonusWidgetList()
                }, t.prototype.showTabFlag = function () {
                    for (var e = 0; e < this._lastCharInfos.length; e++) {
                        for (var t = this._lastCharInfos[e]._id, n = this._allToggles[t].node, a = 0, i = [], o = P._playerBonus.splitBonus(P._playerBonus._bonusLevel), r = 0; r < o.length; r++) for (var _ = 0; _ < o[r].length; _++) o[r][_]._info._cid % 10 == t && i.push(o[r][_]);
                        for (r = 0; r < i.length; r++) i[r]._info._val <= P.getMaxLevel() && i[r]._info._val <= i[r]._value && (i[r]._isClaimed || a++);
                        d.ClientView.checkNewFlag(n, a, 24, 0)
                    }
                }, t.prototype.dealCommonTask = function (e) {
                    var t = e._info._cid % 100;
                    if (e._info._val <= e._value) e._isClaimed || (d.ClientView.showClaimBonusResult(e, u.ClientData.claimBonus(e)), this.createBonusWidgetList()); else if (t == o.Data.DailyTaskType.city_battle_win) S.SceneManager.getRunningSceneId() == g.SceneId.city && this.guideToChapter(); else if (t == o.Data.DailyTaskType.challenge_elite || t == o.Data.DailyTaskType.city_battle_win || t == o.Data.DailyTaskType.player_battle_win || t == o.Data.DailyTaskType.rob_horse || t == o.Data.DailyTaskType.copy_boss || t == o.Data.DailyTaskType.expedition) if (t == o.Data.DailyTaskType.player_battle_win) {
                        if (!P.checkFindClash()) return void T.ToastManager.push(string.format(r.lcStr(p.STR.FINDSCENE_LOCKED), o.Data._levelInfo[o.Data.CLASH_UNLOCK_LEVEL]._id % 100, r.lcStr(o.Data._levelInfo[o.Data.CLASH_UNLOCK_LEVEL]._nameSid)), 0, !0);
                        var n = f.FindScene.create();
                        S.SceneManager.pushScene(n)
                    } else t == o.Data.DailyTaskType.rob_horse ? CrusadePanel.create(o.Data.CopyType.group_commander).show() : t == o.Data.DailyTaskType.challenge_elite ? CrusadePanel.create(o.Data.CopyType.group_elite).show() : t == o.Data.DailyTaskType.expedition ? CrusadePanel.create(o.Data.CopyType.group_expedition).show() : t == o.Data.DailyTaskType.copy_boss && CrusadePanel.create(o.Data.CopyType.group_boss).show(); else if (t == o.Data.DailyTaskType.collect_in_residence || t == o.Data.DailyTaskType.collect_in_farmland || t == o.Data.DailyTaskType.collect_fragment) this.gotoBonusTask(e); else if (t == o.Data.DailyTaskType.upgrade_horse) {
                        S.SceneManager.popScene();
                        n = CardBoxScene.create(u.ClientData.SceneId.stable);
                        S.SceneManager.pushScene(n)
                    } else if (t == o.Data.DailyTaskType.lottery_hero) {
                        S.SceneManager.popScene();
                        n = h.TavernScene.create();
                        S.SceneManager.pushScene(n)
                    } else if (t == o.Data.DailyTaskType.open_box) m.BackBagPanel.show(); else if (t == o.Data.DailyTaskType.challenge_uboss) if (P.hasUnion()) {
                        S.SceneManager.popScene();
                        n = y.UnionScene.create();
                        S.SceneManager.pushScene(n)
                    } else T.ToastManager.push(r.lcStr(p.STR.UNLOCK_JOIN_UNION))
                }, t.prototype.guideToChapter = function () {
                }, t.prototype.onGuideFinish = function (e) {
                    e._guideId
                }, t.prototype.gotoBonusTask = function (e) {
                    var t = e._info._cid;
                    if (e._info._type == o.Data.BonusType.facebook) {
                        c.nox.PLATFORM == cc.PLATFORM_OS_WINDOWS ? o.Data.Event.application.dispatchEvent(["FACEBOOK_LOGGEDIN", "FACEBOOK_LIKED", "FACEBOOK_INVITED"][t - 2400]) : 2401 == t ? s.lc.App.facebookLogin() : 2402 == t ? s.lc.App.facebookLike("https://www.facebook.com/%E8%99%9F%E4%BB%A4%E4%B8%89%E5%9C%8B-1330223180338868/") : 2403 == t && s.lc.App.facebookInvite("https://fb.me/1037952556288521")
                    } else 1705 == t ? l.GuideManager.showSoftGuideFinger(d.ClientView.getMenuUI()._btnRank, 1) : (e.isChapter() || 1701 == t || 1702 == t || t >= 2e3 && t <= 2100) && C.ExpeditionScene.createWithLevel(o.Data._levelInfo[e._info._val]._id)
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BasePage);
        n.CharacterGrowingUpPage = v, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../GuideManager": "GuideManager",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../const/SceneId": "SceneId",
        "../../../data/data": "data",
        "../../../scene/ExpeditionScene": "ExpeditionScene",
        "../../../scene/FindScene": "FindScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/TavernScene": "TavernScene",
        "../../../scene/UnionScene": "UnionScene",
        "../../BasePage": "BasePage",
        "../../widget/BonusWidget": "BonusWidget",
        "../BackBagPanel": "BackBagPanel"
    }],
    CharacterPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "334a38j+t1PR50/+X0KK/06", "CharacterPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../data/data"), _ = e("../../../noxcc"),
            s = e("../../../nox"), c = e("../../utils/SpriteUtil"), l = e("../../../framework/NoxResMgr"),
            d = e("../widget/IconWidget"), p = e("../form/SetPlayerNameForm"), u = e("../../part/UserPart"),
            g = e("../../utils/MsgCenter"), h = e("../../ToastManager"), f = e("../../StringEnums"),
            m = e("../../../leocool/lcStr"), y = e("../../ClientView"), T = e("../common/Dialog"),
            S = e("../../../leocool/lcAppCfg"), C = e("../../GuideManager"), v = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.CharacterPanel) || this;
                    return t.mBackBtn = null, t.mConfirmBtn = null, t.mUnlockBtn = null, t
                }

                return a(t, e), t.prototype.init = function (t, n) {
                    e.prototype.init.call(this), this.mInitCharId = n, this.mIsGuide = t, this.mIconWidgets = [], this.initData()
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mBackBtn = _.noxcc.findButton("TopBar/TopLeftBar/returnButton", this.getRootNode()), _.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.mConfirmBtn = _.noxcc.findButton("Center/RightPanel/second_img/first_button", this.getRootNode()), this.mUnlockBtn = _.noxcc.findButton("Center/RightPanel/second_img/ingot_button", this.getRootNode()), _.noxcc.addClick(this.mConfirmBtn, this, this.onConfirmBtn), _.noxcc.addClick(this.mUnlockBtn, this, this.onUnlockBtn), this.mCharTmplBtn = _.noxcc.find("Center/LeftPanel/view/content/TmplButton", this.getRootNode()), this.mCharListBox = this.mCharTmplBtn.parent, _.noxcc.setParent(this.mCharTmplBtn, this.getRootNode()), this.mCharTmplBtn.active = !1, this.mCharSkeleton = _.noxcc.find("Center/CharSkeleton", this.getRootNode()).getComponent(sp.Skeleton), this.mNameSprite = _.noxcc.findSprite("Center/RightPanel/CharName", this.getRootNode()), this.mInfoSprite = _.noxcc.findSprite("Center/RightPanel/second_img", this.getRootNode()), this.mIconContainer = _.noxcc.find("Center/RightPanel/second_img/layout", this.getRootNode()), this.mIconContainer.removeAllChildren(), this.mAllToggles = {}, this.mCharListBox.removeAllChildren();
                    var t = s.nox.values(this.mCharInfos);
                    t.sort(function (e, t) {
                        return 5 == e._id ? -1 : 4 == e._id ? -1 : 2 == e._id ? -1 : 3 == e._id ? 1 : void 0
                    });
                    for (var n = 0; n < t.length; ++n) {
                        var a = t[n], i = a._id, o = _.noxcc.instantiate(this.mCharTmplBtn);
                        o.active = !0;
                        var r = o.getComponent(cc.Toggle);
                        cc.assert(r, "need cc.Toggle"), this.mAllToggles[i] = r, this.mCharListBox.addChild(o);
                        var c = _.noxcc.findSprite("head", o), d = string.format("avatar/head_%02d.png", a._avatarImage);
                        l.NoxResMgr.setSpriteFrameAsync(c, d), _.noxcc.addToggleClick(r, this, this.onToggleClick, i)
                    }
                    this._charInfos = t
                }, t.prototype.onReleaseWidget = function () {
                    this.clearIconWidgets(), e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    if (e.prototype.onEnter.call(this), this.initCurCharacter(), g.MsgCenter.addMsgListener(this, this.onMsg.bind(this)), this.mIsGuide) {
                        var t = C.GuideManager.createNpcTipLayer(r.Data._guideInfo[P._guideID], !0, !1, !1, 0);
                        C.GuideManager.addContainerLayer(t)
                    }
                }, t.prototype.onExit = function () {
                    g.MsgCenter.removeMsgListener(this), e.prototype.onExit.call(this)
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_CHARACTER) {
                        if (e.status != SglMsg_pb.ProtoMsgStatus.PB_STATUS_OK) cc.assert(!1, "error status: " + e.status); else {
                            P._initialCharacter || (P._initialCharacter = this.mActiveTab);
                            var t = e.getExtensions_User_pb_SglUserMsg_init_cards_resp();
                            if (t.init_card) for (var n = 0; n < t.init_card.length; ++n) {
                                var a = t.init_card[n].info_id, i = t.init_card[n].num, o = r.Data.getType(a);
                                P._playerCard.addCard(a, i), o != r.Data.CardType.rare && P._playerCard._troops[0].push({
                                    _infoId: a,
                                    _num: i
                                }), P._playerCard._unlocked[a] = null
                            }
                            null != t.avatar && P.changeIcon(t.avatar), this.hide(), r.Data.Event.change_char_dirty.dispatchEvent(), S.lcAppCfg.isEnableGuide() || null != P._name && "" != P._name || p.SetPlayerNameForm.show()
                        }
                        return !0
                    }
                    return !1
                }, t.prototype.onToggleClick = function (e) {
                    this.setActiveTab(e)
                }, t.prototype.onBackBtn = function () {
                    this.isGuide() ? h.ToastManager.push(m.lcStr(f.STR.GUIDE_SCENE_SELECT_CHARACTER_FIRST)) : this.hide()
                }, t.prototype.onConfirmBtn = function () {
                    var e = this.mActiveTab;
                    this.mIsGuide ? (P._characters[e]._level = 1, P.changeCharacter(e, !0), u.UserPart.sendSetCharacter(e, this.isGuide()), this.updateAllBtn()) : (e != P.getCharacterId() && (P.changeCharacter(e), u.UserPart.sendSetCharacter(e, this.isGuide()), P.changeIcon(100 * e + 1) && P.changeIcon(100 * e + 1)), this.hide())
                }, t.prototype.onUnlockBtn = function () {
                    var e = this, t = this.mActiveTab;
                    P._propBag.hasProps(r.Data.PropsId.millennium_block, 1) ? T.Dialog.showDialog(string.format(m.lcStr(f.STR.SURE_TO_UNLOCK_CHARACTER_PROP), 1, m.lcStr(r.Data._propsInfo[r.Data.PropsId.millennium_block]._nameSid), m.lcStr(r.Data._characterInfo[t]._nameSid)), function () {
                        P._propBag.changeProps(r.Data.PropsId.millennium_block, -1), P._characters[t]._level = 1, u.UserPart.sendUnlockCharacter(t, !1), h.ToastManager.push(string.format(m.lcStr(f.STR.CHARACTER_UNLOCKED), m.lcStr(r.Data._characterInfo[t]._nameSid))), P.changeCharacter(t), u.UserPart.sendSetCharacter(t, !1), e.updateAllBtn()
                    }) : T.Dialog.showDialog(string.format(m.lcStr(f.STR.SURE_TO_UNLOCK_CHARACTER_INGOT, !0), r.Data._globalInfo._unlockCharIngot, m.lcStr(r.Data._resInfo[r.Data.ResType.ingot]._nameSid), m.lcStr(r.Data._characterInfo[t]._nameSid)), function () {
                        y.ClientView.checkIngot(r.Data._globalInfo._unlockCharIngot) && (P.changeResource(r.Data.ResType.ingot, -r.Data._globalInfo._unlockCharIngot), P._characters[t]._level = 1, u.UserPart.sendUnlockCharacter(t, !0), h.ToastManager.push(string.format(m.lcStr(f.STR.CHARACTER_UNLOCKED), m.lcStr(r.Data._characterInfo[t]._nameSid))), P.changeCharacter(t), u.UserPart.sendSetCharacter(t, !1), e.updateAllBtn())
                    })
                }, t.prototype.initData = function () {
                    for (var e in this.mCharInfos = {}, r.Data._characterInfo) {
                        var t = r.Data._characterInfo[e], n = t._id;
                        this.mCharInfos[n] = t, cc.assert(y.ClientView.getCharAnimName(n), "Character " + n + " animation not found")
                    }
                }, t.prototype.isGuide = function () {
                    return this.mIsGuide
                }, t.prototype.initCurCharacter = function () {
                    if (null != this.mInitCharId && this.mInitCharId >= 0) for (var e = 0; e < this._charInfos.length; ++e) {
                        var t = this._charInfos[e];
                        t._id == this.mInitCharId && this.setActiveTab(t._id)
                    } else this.setActiveTab(s.nox.D(P.getCharacterId(), this._charInfos[0]._id))
                }, t.prototype.setActiveTab = function (e) {
                    this.mActiveTab != e && (this.mActiveTab = e, this.mAllToggles[this.mActiveTab].check(), this.updateCharInfo())
                }, t.prototype.updateCharInfo = function () {
                    this.mIsGuide || this.updateAllBtn();
                    var e = y.ClientView.getCharAnimName(this.mActiveTab);
                    l.NoxResMgr.setSkeletonAnimAsync(this.mCharSkeleton, e, "default", "animation", !0);
                    var t = string.format("img_character_name_%04d", 100 * this.mActiveTab + 1);
                    t = string.format("img/%s", t), l.NoxResMgr.setSpriteFrameAsync(this.mNameSprite, t);
                    var n = string.format("img_character_info_%04d", 100 * this.mActiveTab + 1);
                    n = string.format("img/%s", n), l.NoxResMgr.setSpriteFrameAsync(this.mInfoSprite, n), this.reloadIconWidgets()
                }, t.prototype.updateAllBtn = function () {
                    var e = this.mCharInfos[this.mActiveTab], t = _.noxcc.findSprite("icon", this.mUnlockBtn.node);
                    if (0 == P._characters[e._id]._level) {
                        c.SpriteUtil.setSprite(this.mUnlockBtn.node, "img_btn_blue_s"), c.SpriteUtil.setSprite(t, "img_icon_res3_s");
                        var n = _.noxcc.findLabel("num", this.mUnlockBtn.node);
                        if (_.noxcc.setLabelString(n, s.nox.toString(r.Data._globalInfo._unlockCharIngot)), this.mConfirmBtn.node.active = !1, this.mUnlockBtn.node.active = !0, P._propBag.hasProps(r.Data.PropsId.millennium_block, 1)) {
                            c.SpriteUtil.setSprite(this.mUnlockBtn.node, "img_btn_green_s"), c.SpriteUtil.setSprite(t, "img_icon_props_s7015");
                            var a = _.noxcc.findLabel("num", this.mUnlockBtn.node);
                            _.noxcc.setLabelString(a, "x 1")
                        }
                    } else this.mConfirmBtn.node.active = !0, this.mUnlockBtn.node.active = !1
                }, t.prototype.clearIconWidgets = function () {
                    this.mIconContainer.destroyAllChildren(), this.mIconWidgets = []
                }, t.prototype.reloadIconWidgets = function () {
                    this.clearIconWidgets();
                    var e = this.mCharInfos[this.mActiveTab];
                    if (e) for (var t = 0; t < e._charCardShow.length; ++t) {
                        var n = e._charCardShow[t], a = d.IconWidget.create({_infoId: n});
                        a.node.setScale(.95), this.mIconContainer.addChild(a.getRoot()), this.mIconWidgets.push(a)
                    }
                }, t.show = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a.show(), a
                }, t
            }(i.BasePanel);
        n.CharacterPanel = v, cc._RF.pop()
    }, {
        "../../../framework/NoxResMgr": "NoxResMgr",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../common/Dialog": "Dialog",
        "../form/SetPlayerNameForm": "SetPlayerNameForm",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel"
    }],
    ChatForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bd02eHPhOpDH6cJ+lPpYtdw", "ChatForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../../data/data"), r = e("../AllViewTypes"), _ = e("../../../noxcc"),
            s = e("../../../leocool/lc"), c = e("../../../leocool/lcStr"), l = e("../../StringEnums"),
            d = e("../../ClientView"), p = e("../../utils/UIUtil"), u = e("../../config/UICfg"),
            g = e("../../ToastManager"), h = e("../../../nox"), f = e("../widget/UserWidget"),
            m = e("../../utils/RichTextUtil"), y = e("../../utils/TimeUtil"), T = e("../widget/IconWidget"),
            S = e("../../utils/SpriteUtil"), C = e("../../part/BattlePart"), v = e("../../part/ChatPart"),
            b = e("../../part/UserPart"), E = e("../../data/Social/PlayerMessage"), I = function (e) {
                function t() {
                    var t = e.call(this, r.AllViewTypes.ChatForm) || this;
                    return t.TAB = {
                        world: 0,
                        bulletin: 1,
                        battle: 2
                    }, t.MAX_INPUT_LEN = 50, t.LIST_CACHE_SIZE = [10, 10, 10, 6], t.WORLD_CHAT_LEVEL = 12, t.mActiveTab = null, t
                }

                return a(t, e), t.prototype._init = function () {
                    this.mIsPop = !0
                }, t.prototype.onInitWidget = function () {
                    var t = this;
                    e.prototype.onInitWidget.call(this), this.view = _.noxcc.find("LeftPanel/view", this.mRoot), this.content = this.view.getChildByName("content"), this.input = _.noxcc.find("LeftPanel/input", this.mRoot), this.close_btn = this.mRoot.getChildByName("close_btn"), _.noxcc.addClick(this.close_btn, this, function () {
                        t.onBackBtn()
                    }), this.world = this.content.getChildByName("world"), _.noxcc.setParent(this.world, this.mRoot), this.bulletin = this.content.getChildByName("bulletin"), _.noxcc.setParent(this.bulletin, this.mRoot), this.battle = this.content.getChildByName("battle"), _.noxcc.setParent(this.battle, this.mRoot), this.btnSend = this.input.getChildByName("btnSend"), _.noxcc.addClick(this.btnSend, this, function () {
                        t.send2World()
                    }), this.EditBox = this.input.getChildByName("EditBox");
                    var n = ["world", "bulletin", "battle"],
                        a = this.mRoot.getChildByName("Top").getChildByName("ToggleContainer");
                    this.togglesArray = [];
                    for (var i = 0; i < n.length; i++) {
                        var o = a.getChildByName(n[i]);
                        this.togglesArray[i] = o, _.noxcc.addClick(o, this, this.onToggleClick, i)
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this.mListeners = [], this.mListeners.push(o.Data.Event.login.addListener(this, function (e) {
                        t.resetList()
                    }.bind(this))), this.mListeners.push(o.Data.Event.message.addListener(this, function (e) {
                        t.onMessageEvent(e)
                    }.bind(this))), this.mOriginH = s.lc.h(this.view);
                    var n = 0;
                    P.getMaxCharacterLevel() >= this.WORLD_CHAT_LEVEL && P._playerMessage.getNewWorld() > 0 ? n = this.TAB.world : P._playerMessage.getNewBulletin() > 0 ? n = this.TAB.bulletin : P._playerMessage.getNewBattle() > 0 && (n = this.TAB.battle), this.setActiveTab(n)
                }, t.prototype.onToggleClick = function (e, t) {
                    if (0 == e) if (P.getMaxCharacterLevel() >= this.WORLD_CHAT_LEVEL) this.setActiveTab(0); else {
                        for (var n = 0; n < this.togglesArray.length; n++) {
                            this.togglesArray[n].getChildByName("checkmark").active = n == this.mActiveTab
                        }
                        g.ToastManager.push(string.format(c.lcStr(l.STR.WORLD_CHAT_TIP), 12))
                    } else this.setActiveTab(e)
                }, t.prototype.setActiveTab = function (e) {
                    if (this.mActiveTab != e) {
                        this.mActiveTab = e, this.view.getComponent(cc.ScrollView).stopAutoScroll(), this.view.getComponent(cc.ScrollView).setContentPosition(cc.v2(0, 0));
                        for (var t = 0; t < this.togglesArray.length; t++) {
                            this.togglesArray[t].getChildByName("checkmark").active = t == this.mActiveTab, t == this.mActiveTab && this.showTab(this.mActiveTab)
                        }
                    }
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.showTab = function (e) {
                    this.mCallBack && h.nox.unschedule(this.mCallBack);
                    var t = e == this.TAB.world;
                    this.input.setVisible(t), this.resetList()
                }, t.prototype.resetList = function () {
                    if (this.content.destroyAllChildren(), null != this.mActiveTab) {
                        var e = this.mActiveTab == this.TAB.world;
                        this.view.setContentSize(s.lc.w(this.view), this.mOriginH - (e ? 75 : 0));
                        for (var t = P._playerMessage._msgAll[this.mActiveTab], n = 0; n < t.length; n++) {
                            var a = this.setOrCreateItem(null, t[n]);
                            this.content.addChild(a)
                        }
                    }
                }, t.prototype.updateList = function (e) {
                    this.mActiveTab == e - 1 && this.resetList()
                }, t.prototype.updateListItem = function (e) {
                    for (var t = 0; t < this.content.childrenCount; t++) {
                        var n = this.content.children[t];
                        n._id == e._log._id && this.setOrCreateItem(n, e)
                    }
                }, t.prototype.setOrCreateItem = function (e, t) {
                    if (null != t) return t._type == o.Data.MsgType.world || t._type == o.Data.MsgType.union ? this.setOrCreateChatItem(e, t) : t._type == o.Data.MsgType.bulletin ? this.setOrCreateBulletinItem(e, t) : t._type == o.Data.MsgType.battle ? this.setOrCreateBattleItem(e, t) : void 0
                }, t.prototype.setOrCreateChatItem = function (e, t) {
                    var n = _.noxcc.instantiate(this.world);
                    _.noxcc.setActive(n, !0), _.noxcc.addClick(n, this, function () {
                        p.UIUtil.operateUser(t._user, n)
                    });
                    var a = n.getChildByName("oppo"), i = n.getChildByName("user");
                    n.getChildByName("worldchat").getChildByName("timelabel").getComponent(cc.Label).string = y.TimeUtil.getTimeAgo(t._timestamp), n.getChildByName("worldchat").getChildByName("txtlabel").getComponent(cc.Label).string = t._content;
                    var o = P._id == t._user._id;
                    o && (S.SpriteUtil.setSprite(n.getChildByName("worldchat"), "img_chat_bg_self"), S.SpriteUtil.setSprite(a, "img_chat_triangle_self"), a.setPosition(cc.v2(-a.x, a.y)));
                    var r = f.UserWidget.create(t._user, f.UserWidget.Flag.NAME_UNION, 1, o);
                    return r.node.setScale(.7), s.lc.addChildToPosLB(i, r.node, cc.v2(h.nox.cw(i) + (o ? 180 : -180), h.nox.ch(i))), n
                }, t.prototype.setOrCreateBulletinItem = function (e, t) {
                    var n = _.noxcc.instantiate(this.bulletin);
                    _.noxcc.setActive(n, !0), _.noxcc.addClick(n, this, function () {
                        p.UIUtil.operateUser(t._user, n)
                    });
                    var a = _.noxcc.find("bulletinchat/scro/view/content", n),
                        i = n.getChildByName("bulletinchat").getChildByName("txtlabel"), o = i.getChildByName("timelabel"),
                        r = n.getChildByName("bulletinchat").getChildByName("scro"), c = n.getChildByName("user");
                    o.getComponent(cc.Label).string = y.TimeUtil.getTimeAgo(t._timestamp), P._id == t._user._id && (S.SpriteUtil.setSprite(n.getChildByName("bulletinchat"), "img_chat_bg_self"), S.SpriteUtil.setSprite(n.getChildByName("oppo"), "img_chat_triangle_self"));
                    var l = m.RichTextUtil.createBoldRichText(t._content, {
                        _normalClr: s.lc.D(t._clr, u.UICfg.COLOR_TEXT_DARK),
                        _boldClr: u.UICfg.COLOR_TEXT_RED_DARK,
                        _width: s.lc.w(i) - 20
                    });
                    i.addChild(l.node);
                    var d = f.UserWidget.create(t._user, f.UserWidget.Flag.NAME_UNION, 1, !1);
                    if (d.node.setScale(.7), s.lc.addChildToPosLB(c, d.node, cc.v2(h.nox.cw(c) - 180, h.nox.ch(c))), t._items.length > 0) for (var g = 0; g < t._items.length; g++) {
                        var C = t._items[g], v = T.IconWidget.create(C, T.IconWidget.DisplayFlag.ITEM_NO_NAME);
                        v.node.setScale(.5), v.node.setContentSize(cc.size(80, 70)), a.addChild(v.node)
                    } else _.noxcc.setActive(r, !1), o.setPosition(o.x, o.y + s.lc.h(a));
                    return n
                }, t.prototype.setOrCreateBattleItem = function (e, t) {
                    var n = this;
                    if (null == e) {
                        var a = _.noxcc.instantiate(this.battle);
                        _.noxcc.setActive(a, !0), a._id = t._log._id;
                        var i = a.getChildByName("praise"), r = a.getChildByName("cancel"), d = a.getChildByName("top"),
                            p = f.UserWidget.create(t._user, f.UserWidget.Flag.NAME_UNION, 1, !1),
                            g = f.UserWidget.create(t._opponent, f.UserWidget.Flag.NAME_UNION, 1, !0);
                        p.node.setScale(.7), g.node.setScale(.7), d.addChild(p.node), p.node.setPosition(cc.v2(-180, 0)), d.addChild(g.node), g.node.setPosition(cc.v2(180, 0)), _.noxcc.find("vs", d).zIndex = 99;
                        var h = m.RichTextUtil.createBoldRichText(t._content, {
                            _normalClr: s.lc.D(t._clr, u.UICfg.COLOR_TEXT_DARK),
                            _boldClr: u.UICfg.COLOR_TEXT_RED_DARK,
                            _width: 530
                        });
                        if (a.getChildByName("labelarea").getChildByName("label").addChild(h.node), s.lc.V(t._log)) {
                            if (s.lc.V(t._watchIds[P._sid])) {
                                var T = t._resultType < o.Data.BattleResult.draw ? "dark_lose" : t._resultType > o.Data.BattleResult.draw ? "dark_win" : "dark_draw";
                                S.SpriteUtil.setSprite(_.noxcc.find("top/vs/leftspr", a), T);
                                var v = t._resultType < o.Data.BattleResult.draw ? "dark_win" : t._resultType > o.Data.BattleResult.draw ? "dark_lose" : "img_draw";
                                S.SpriteUtil.setSprite(_.noxcc.find("top/vs/rightspr", a), v)
                            }
                            _.noxcc.find("bottom/clock/label", a).getComponent(cc.Label).string = string.format(c.lcStr(l.STR.ROUND_N), t._round), _.noxcc.find("bottom/watch/label", a).getComponent(cc.Label).string = t._watchIdsCount.toString(), _.noxcc.find("bottom/like/label", a).getComponent(cc.Label).string = t._likeIdsCount.toString(), _.noxcc.findLabel("top/vs/timelabel", a).getComponent(cc.Label).string = y.TimeUtil.getTimeAgo(t._timestamp), _.noxcc.addClick(a.getChildByName("replay"), this, function () {
                                n.replayBattle(t)
                            });
                            var b = 0;
                            s.lc.V(t._likeIds[P._sid]) ? (_.noxcc.setActive(r, !0), _.noxcc.setActive(i, !1), _.noxcc.addClick(r, this, function () {
                                1 == ++b && C.BattlePart.sendShareLikeCancel(t._log._id)
                            })) : (_.noxcc.setActive(r, !1), _.noxcc.setActive(i, !0), _.noxcc.addClick(i, this, function () {
                                1 == ++b && C.BattlePart.sendShareLike(t._log._id)
                            }))
                        }
                        return a
                    }
                    i = (a = e).getChildByName("praise"), r = a.getChildByName("cancel");
                    if (s.lc.V(t._log)) {
                        _.noxcc.find("bottom/watch/label", a).getComponent(cc.Label).string = t._watchIdsCount.toString(), _.noxcc.find("bottom/like/label", a).getComponent(cc.Label).string = t._likeIdsCount.toString();
                        var E = 0;
                        s.lc.V(t._likeIds[P._sid]) ? (_.noxcc.setActive(r, !0), _.noxcc.setActive(i, !1), r.targetOff(this), _.noxcc.addClick(r, this, function () {
                            1 == ++E && C.BattlePart.sendShareLikeCancel(t._log._id)
                        })) : (_.noxcc.setActive(r, !1), _.noxcc.setActive(i, !0), i.targetOff(this), _.noxcc.addClick(i, this, function () {
                            1 == ++E && C.BattlePart.sendShareLike(t._log._id)
                        }))
                    }
                }, t.prototype.processByWin32Cmd = function () {
                    var e = this.EditBox.getComponent(cc.EditBox).string;
                    if (h.nox.os == h.nox.OS.WINDOWS && (0 == e.indexOf("CMD") || 0 == e.indexOf("cmd"))) {
                        for (var t = string.splitByChar(e, " "), n = 0; n < t.length; n++) {
                            var a = t[n], i = string.splitByChar(a, ":");
                            if (2 == i.length) {
                                var o = i[0], r = i[1];
                                if ("replay" == o) {
                                    d.ClientView.getActiveIndicator().show(c.lcStr(l.STR.WAITING));
                                    var _ = s.lc.tonumber(r);
                                    C.BattlePart.sendBattleReplay(_, _ < 2147483647);
                                    break
                                }
                            }
                        }
                        return !0
                    }
                    return !1
                }, t.prototype.send2World = function () {
                    if (!s.lc.V(this.processByWin32Cmd())) {
                        var e = Math.ceil(P._nextChat - y.TimeUtil.getCurrentTime());
                        if (e <= 0) {
                            var t = this.EditBox.getComponent(cc.EditBox).string;
                            if ("" == t) return;
                            t = t.replace(/[\n]/g, " "), s.lc.utf8len(t) > this.MAX_INPUT_LEN ? g.ToastManager.push(c.lcStr(l.STR.MESSAGE) + string.format(c.lcStr(l.STR.CANNOT_MORE_THAN), this.MAX_INPUT_LEN)) : (P._nextChat = y.TimeUtil.getCurrentTime() + 60, v.ChatPart.sendChat(Chat_pb.ChatType.PB_CHAT_WORLD, 0, t), this.EditBox.getComponent(cc.EditBox).string = "")
                        } else g.ToastManager.push(string.format(c.lcStr(l.STR.WORLD_CHAT_WAIT_TIP), y.TimeUtil.formatPeriod(e)))
                    }
                }, t.prototype.replayBattle = function (e) {
                    d.ClientView.getActiveIndicator().show(c.lcStr(l.STR.WAITING)), C.BattlePart.sendBattleShareReplay(e._log._id), b.UserPart.sendUserEvent({chatReplayId: e._log._id})
                }, t.prototype.joinFriendBattle = function (e) {
                    d.ClientView.getActiveIndicator().show(c.lcStr(l.STR.WAITING))
                }, t.prototype.onMessageEvent = function (e) {
                    this.mIsPop && (e._event == E.PlayerMessage.Event.msg_new ? this.updateList(e._type) : e._event == E.PlayerMessage.Event.msg_update ? this.updateListItem(e._param) : e._event == E.PlayerMessage.Event.union_clear && this.showTab(this.TAB.world)), P._playerMessage.clearNew(this.mActiveTab)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function () {
                    var e = new t;
                    return e._init(), e
                }, t
            }(i.BaseForm);
        n.ChatForm = I, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/Social/PlayerMessage": "PlayerMessage",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../part/ChatPart": "ChatPart",
        "../../part/UserPart": "UserPart",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/IconWidget": "IconWidget",
        "../widget/UserWidget": "UserWidget"
    }],
    ChatPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "acbd2YhrH5LCrsMYPah+o/d", "ChatPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendChat = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CHAT;
                var o = i.addExtensions_Chat_pb_SglChatMsg_chat_send_req();
                o.type = e, o.id = t, o.content = n, a.NetUtil.sendProtoMsg(i)
            }
        })(n.ChatPart || (n.ChatPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    CheatType: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7430bNe8sFMEoKOkKCcScn9", "CheatType"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e[e.None = 0] = "None", e[e.Inject_Script = 1] = "Inject_Script", e[e.Modify_Attribute = 2] = "Modify_Attribute", e[e.Modify_Function = 3] = "Modify_Function", e[e.External_Call = 4] = "External_Call"
        }(n.CheatType || (n.CheatType = {})), cc._RF.pop()
    }, {}],
    CheckInForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7b8fcRYPoZNf4DPo2nwmX6G", "CheckInForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("./CheckInForm/monthcard"), c = e("./CheckInForm/NovicePanel"),
            l = e("./CheckInForm/MonthCheckinPanel"), d = e("./CheckInForm/OnlinePanel"),
            p = e("../../utils/ActivityUtil"), u = e("../../ClientView"), g = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.CheckInForm) || this;
                    return t.mconnect = null, t._activityPanel = null, t.arrButton = [], t.CheckinTypes = [_.Data.CheckinType.month_checkin, _.Data.CheckinType.month_card, _.Data.CheckinType.novice, _.Data.CheckinType.online], t
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.mconnect = r.noxcc.find("Center/RightPanel", this.mRoot);
                    for (var e = 0; e < this.CheckinTypes.length; e++) {
                        var t = r.noxcc.find("Center/LeftPanel/content/button_" + e, this.mRoot);
                        r.noxcc.addToggleClick(t, this, this.showTab, this.CheckinTypes[e]), this.arrButton.push(t)
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    if (t._listeners = [], t._listeners.push(_.Data.Event.bonus_dirty.addListener(t, function (e) {
                        var n = e._bonus._type;
                        n == _.Data.BonusType.vip_daily || (n == _.Data.BonusType.month_card ? t.updateTabFlag(_.Data.CheckinType.month_card) : n == _.Data.BonusType.week_checkin || (n == _.Data.BonusType.month_checkin ? t.updateTabFlag(_.Data.CheckinType.month_checkin) : n == _.Data.BonusType.login ? t.updateTabFlag(_.Data.CheckinType.novice) : n == _.Data.BonusType.online && t.updateTabFlag(_.Data.CheckinType.online)))
                    })), t.updateTabFlag(_.Data.CheckinType.month_card), t.updateTabFlag(_.Data.CheckinType.month_checkin), t.updateTabFlag(_.Data.CheckinType.novice), t.updateTabFlag(_.Data.CheckinType.online), null != t._focusTabIndex) {
                        for (var n = 0; n < t.arrButton.length; n++) {
                            var a = t.arrButton[n];
                            if (t.CheckinTypes[n] == t._focusTabIndex) {
                                a.getComponent(cc.Toggle).isChecked = !0;
                                break
                            }
                        }
                        t.showTab(t._focusTabIndex)
                    } else t.showTab(1);
                    t.onNewbiesAssisted()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.showTab = function (e) {
                    this._focusTabIndex != e && null != this._activityPanel && this.mconnect.destroyAllChildren(), this._focusTabIndex = e;
                    var t = e;
                    this._activityPanel = this.getPanelName(t).create(t), this._activityPanel.show(this.mconnect), this._focusTabIndex
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.getPanelName = function (e) {
                    return e == _.Data.CheckinType.month_card ? s.monthcard : e == _.Data.CheckinType.month_checkin ? l.MonthCheckinPanel : e == _.Data.CheckinType.novice ? c.NovicePanel : e == _.Data.CheckinType.online ? d.OnlinePanel : void 0
                }, t.prototype.onNewbiesAssisted = function () {
                }, t.prototype.show = function () {
                    e.prototype.show.call(this), p.ActivityUtil.setActivityShowed(_.Data.PopupType.checkin)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t.prototype.init = function (e) {
                    null != e && (this._focusTabIndex = e)
                }, t.prototype.updateTabFlag = function (e) {
                    var t = P._playerBonus, n = 0;
                    e == _.Data.CheckinType.vip || (e == _.Data.CheckinType.month_card ? n = t.getMonthCardBonusFlag() : e == _.Data.CheckinType.week_checkin || (e == _.Data.CheckinType.month_checkin ? n = t.getMonthCheckinBonusFlag() : e == _.Data.CheckinType.novice ? n = t.getLoginBonusFlag() : e == _.Data.CheckinType.online && (n = t.getOnlineTaskBonusFlag())));
                    for (var a = -1, i = 0; i < this.CheckinTypes.length; i++) this.CheckinTypes[i] == e && (a = i);
                    if (a >= 0) {
                        var o = r.noxcc.find("Center/LeftPanel/content/button_" + a, this.mRoot);
                        o && u.ClientView.checkNewFlag(o, n, 24)
                    }
                }, t.prototype.onMsg = function (e) {
                    e.type, e.status;
                    return !1
                }, t
            }(i.BaseForm);
        n.CheckInForm = g, cc._RF.pop()
    }, {
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../data/data": "data",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "./CheckInForm/MonthCheckinPanel": "MonthCheckinPanel",
        "./CheckInForm/NovicePanel": "NovicePanel",
        "./CheckInForm/OnlinePanel": "OnlinePanel",
        "./CheckInForm/monthcard": "monthcard"
    }],
    CheckLabelArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "579bfX9UBlIrICGS+HgrUug", "CheckLabelArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithShaderButton"), i = e("../../config/UICfg"), o = e("../../../leocool/lc"),
            r = e("../../utils/SpriteUtil"), _ = e("../../../nox"), s = e("./NodeWithLabel"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.setTouchRect = function (e) {
                }, t.prototype.setCheck = function (e) {
                    this._isCheck = e, this._checkSprite.setVisible(e), this._callback && this._callback(e)
                }, t.createCheckLabelArea = function (e, n, c) {
                    var l = new t;
                    l._isCheck = c || !1, l._callback = n;
                    var d = s.NodeWithLabel.createWithTTF(e, i.UICfg.TTF_FONT, i.UICfg.FontSize.S1),
                        p = a.NodeWithShaderButton.createShaderButton("img_btn_check_bg", function () {
                            l._isCheck = !l._isCheck, l._checkSprite.active = l._isCheck, l._callback && l._callback(l._isCheck)
                        });
                    return l.setTouchRect(cc.rect(-10, -10, o.lc.w(p) + 20, o.lc.h(p) + 20)), l._checkSprite = r.SpriteUtil.createSprite("img_icon_check").node, l._checkSprite.active = l._isCheck, o.lc.addChildToCenter(p, l._checkSprite), l.setContentSize(o.lc.w(p) + o.lc.w(d) + 6, Math.max(o.lc.h(p), o.lc.h(d))), o.lc.addChildToPosAR(l, p, cc.p(o.lc.w(p) / 2 - _.nox.cw(l), 0)), o.lc.addChildToPosAR(l, d, cc.p(o.lc.w(l) / 2 - o.lc.w(d) / 2, 0)), l._label = d, l._btn = p, l
                }, t
            }(cc.Node);
        n.CheckLabelArea = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    CheckinBonusWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "027e6x3JKhMZIrjLKtc0VZT", "CheckinBonusWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../../leocool/lc"), i = e("../../../data/data"), o = e("../../../../noxcc"),
            r = e("../../../utils/UIUtil"), _ = e("../../../config/UICfg"), s = e("../../widget/IconWidget"),
            c = e("../../../StringEnums"), l = e("../../../ClientData"), d = e("../../../../nox"),
            p = e("../../../../leocool/lcStr"), u = e("../../BasePage"), g = e("../../../utils/TimeUtil"),
            h = e("../../../utils/SpriteUtil"), f = function (e) {
                function t() {
                    return e.call(this, "form/CheckInForm/CheckinBonusWidget") || this
                }

                return __extends(t, e), t.prototype.init = function (e, t) {
                    this._bonus = t, this._label = e
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mbutton = o.noxcc.findButton("botton", e.mRoot), o.noxcc.addClick(e.mbutton, e, function (t) {
                        e._claimHandler(e._bonus)
                    }), e.mbonus_box = o.noxcc.find("desc_text/bonus_box", e.mRoot), e.mdata_text = o.noxcc.findLabel("title_bg/title_text", e.mRoot), e.mbutton_text = o.noxcc.findLabel("botton/btn_Label", e.mRoot), e.mtip = o.noxcc.findLabel("time_text", e.mRoot), o.noxcc.setLabelString(e.mtip, ""), this.updateData(this._label, this._bonus)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._bonus._info._type == i.Data.BonusType.online && (t.scheduleUpdate = d.nox.scheduleUpdate(function (e) {
                        t.onSchedule(e)
                    }, .1)), t._listeners = [], t._listeners.push(i.Data.Event.bonus_dirty.addListener(t, function (e) {
                        e._bonus == t._bonus && t.updateView()
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    this.scheduleUpdate && d.nox.unscheduleUpdate(this.scheduleUpdate);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove;
                    this._listeners = []
                }, t.prototype.updateData = function (e, t) {
                    if (this._bonusPos = cc.p(a.lc.aleft(this.getRoot()) + 40, -20), e && t) {
                        this._label = e, this._bonus = t, o.noxcc.setString(this.mdata_text, e);
                        for (var n = t._info, i = [], r = n._rid, _ = n._level, c = n._count, l = (n._isFragment, []), d = 0; d < r.length; d++) {
                            var p = r[d];
                            if (1 == p || 2 == p || 3 == p || 4 == p || 7 == p || 8 == p || 14 == p || 7111 == p || 7105 == p) l.push(this.addIconSmall(p, c[d])); else {
                                var u = s.IconWidget.create({
                                    _infoId: p,
                                    _level: _[d],
                                    _num: c[d]
                                }, s.IconWidget.DisplayFlag.ITEM_NO_NAME);
                                i.push(u)
                            }
                        }
                        P.sortResultItems(i), 0 == i.length && o.noxcc.find("desc_text", this.mRoot).setVisible(!1);
                        for (d = 0; d < i.length; d++) {
                            var g = i[d];
                            g.node.setScale(.6, .6), g.checkHighlight(), o.noxcc.addChild(this.mbonus_box, g.node)
                        }
                        this.mbonus_box.getComponent(cc.Layout).updateLayout(), this.updateView()
                    }
                }, t.prototype.addIconSmall = function (e, t) {
                    var n;
                    n = e > 1e3 ? h.SpriteUtil.createSprite(l.ClientData.getPropIconName(e, !1)).node : h.SpriteUtil.createSprite(l.ClientData.getResIconName(e, !1)).node, a.lc.addChildToPosAR(this.mRoot, n, this._bonusPos);
                    var i = r.UIUtil.createBMFont(_.UICfg.BMFont.huali_26, t);
                    return a.lc.addChildToPosAR(n, i, cc.p(a.lc.aright(n) + 1 + a.lc.asw(i), 0)), this._bonusPos.x += a.lc.w(n) + a.lc.w(i) + 1 + 20, n
                }, t.prototype.updateView = function () {
                    var e = this._bonus, t = this._bonus._value >= this._bonus._info._val;
                    o.noxcc.isValid(this.mbutton.node) && (this.mbutton.interactable = !1, !e._isClaimed && t && (this.mbutton.interactable = !0), e._isClaimed && o.noxcc.setString(this.mbutton_text, p.lcStr(c.STR.CLAIMED)))
                }, t.prototype.onSchedule = function (e) {
                    if (null != this._bonus._info && o.noxcc.isValid(this.mRoot) && this.updateOnlineBonusTip(), !o.noxcc.isValid(this.mRoot)) {
                        this.scheduleUpdate && d.nox.unscheduleUpdate(this.scheduleUpdate);
                        for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove;
                        this._listeners = []
                    }
                }, t.prototype.registerClaimHandler = function (e) {
                    this._claimHandler = e
                }, t.prototype.updateOnlineBonusTip = function () {
                    var e, t = this._bonus, n = this._bonus._info, a = t.getPrevBonus();
                    null == a || a._isClaimed ? t._isClaimed || t.canClaim() ? o.noxcc.setLabelString(this.mtip, "") : ((e = d.nox.ceil(n._val - t._value)) < 0 && (e = 0), o.noxcc.setLabelString(this.mtip, string.format(p.lcStr(c.STR.CLAIM_AFTER1), g.TimeUtil.formatPeriod(e)) + "")) : (e = n._val - (a ? a._info._val : 0)) < 0 && (e = 0)
                }, t.prototype.checkHighlight = function () {
                    if (this.needHighlight()) {
                        this._lightBox.destroyAllChildren();
                        var e = h.SpriteUtil.createSprite("img_light_3").node;
                        e.color = a.lc.Color3B.yellow, e.setScale(1.5, 1.5), a.lc.addChildToCenter(this._lightBox, e);
                        var t = h.SpriteUtil.createSprite("img_light_2").node;
                        t.color = e.color, t.setScale(3, 3), t.runAction(a.lc.repeatForever(a.lc.rotateBy(4, 360))), a.lc.addChildToCenter(this._lightBox, t)
                    }
                }, t.prototype.needHighlight = function () {
                    if (null == this._bonus || null == this._bonus._infoId || null == this._bonus._count) return !1;
                    var e = this._bonus._infoId, t = this._bonus._count, n = i.Data.getType(e);
                    return n >= i.Data.CardType.monster && n <= i.Data.CardType.trap || (e == i.Data.PropsId.rare_package_ticket || e == i.Data.PropsId.character_package_ticket || e == i.Data.PropsId.times_package_ticket ? t >= 5 : e == i.Data.PropsId.millennium_block)
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(u.BasePage);
        n.CheckinBonusWidget = f, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    ChoiceLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2a8caP7MWdG9ZvTbwKoFmoF", "ChoiceLayer");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../ui/widget/MaskLayer"), o = e("../../const/ViewConst"), r = function (e) {
            function t() {
                var t = e.call(this) || this;
                return t._battleUi = null, t._choiceBtns = [], t._skill = null, t._pCard = null, t._ids = null, t._ignoreCancel = !1, t._cancelCallback = null, t
            }

            return a(t, e), t.create = function (e, n, a, i) {
                void 0 === i && (i = o.ViewConst.SCR_SIZE);
                var r = new t;
                return r.init(e, n, a, i), r
            }, t.prototype.init = function (e, t, n, a) {
                this._maskNode.opacity = t, this._maskNode.color = n, this._battleUi = e
            }, t.prototype.touchEvent = function () {
                this._ignoreCancel || this._cancelCallback && this._cancelCallback()
            }, t.prototype.setCancelChoice = function (e) {
                this._cancelCallback = e
            }, t.prototype.endChoice = function () {
                this._battleUi._choiceMaskLayer = null, this.removeFromParent()
            }, t
        }(i.MaskLayer);
        n.ChoiceLayer = r, cc._RF.pop()
    }, {"../../const/ViewConst": "ViewConst", "../../ui/widget/MaskLayer": "MaskLayer"}],
    CityScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f0a6bGAOPdHwKOxyU3vmHb/", "CityScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i, o = e("../ui/widget/UserWidget"), r = e("../ui/AllViewTypes"), _ = e("../part/DuelCityPart"),
            s = e("../../noxcc"), c = e("../../nox"), l = e("../data/data"), d = e("../ui/panel/CharacterPanel"),
            p = e("../ui/form/SetPlayerNameForm"), u = e("../ui/panel/WelfarePanel"), g = e("./TeachingScene"),
            h = e("../ui/form/BattleRuleForm"), f = e("./FindScene"), m = e("./ExpeditionScene"),
            y = e("./TavernScene"), T = e("../ui/form/MailForm"), S = e("../ui/form/CheckInForm"),
            C = e("../ui/panel/RankPanel"), v = e("./ShopScene"), b = e("./UnionScene"), E = e("./TutorialScene"),
            I = e("../ui/panel/BackBagPanel"), A = e("./HeroCenterScene"), R = e("../ui/panel/IllustrationPanel"),
            B = e("../ui/form/LordForm"), N = e("../ClientView"), D = e("../../framework/NoxResMgr"),
            U = e("./BaseUIScene"), M = e("../const/SceneId"), k = e("./SceneManager"), L = e("./ActivityScene"),
            O = e("../data/Social/PlayerMessage"), x = e("../../leocool/lc"), w = e("../../leocool/lcAppCfg"),
            F = e("../utils/TimeUtil"), V = e("../GuideManager"), H = e("../StringEnums"), G = e("../../leocool/lcStr"),
            W = e("../ui/panel/RewardCardPanel"), Y = e("../utils/ActivityUtil"),
            K = (e("../ui/form/ActivityForm"), e("../ui/form/ChatForm")), z = e("../ToastManager"),
            j = e("../part/GuidePart"), q = e("../part/UserPart");
        (function (e) {
            e[e.tavern = 1007] = "tavern", e[e.activity = 2e3] = "activity", e[e.union = 3e3] = "union", e[e.expedition = 1016] = "expedition", e[e.duel = 1017] = "duel"
        })(i || (i = {}));
        var X = function (e) {
            function t() {
                var t = e.call(this, M.SceneId.city, r.AllViewTypes.CityScene) || this;
                return t.mListeners = [], t
            }

            return a(t, e), t.prototype.init = function () {
                _.DuelCityPart.sendClashSync()
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
                e.prototype.onInitWidget.call(this), this.mActivityBtn = s.noxcc.findButton("LeftBar/BtnLayout/huodong", this.mRoot), this.mWelfareBtn = s.noxcc.findButton("LeftBar/BtnLayout/fuli", this.mRoot), this.mNewbieTaskBtn = s.noxcc.findButton("LeftBar/BtnLayout/xinshou", this.mRoot), this.mDeliveryWelfareBtn = s.noxcc.findButton("RightBar/activityBar/expeditionImg3", this.mRoot), this.mDeliveryDays7 = s.noxcc.findButton("LeftBar/BtnLayout/chaomeng", this.mRoot), this.mBattleRuleBtn = s.noxcc.findButton("LeftBar/BtnLayout/zhandouguize", this.mRoot), this.mChatBtn = s.noxcc.findButton("LeftBar/img_btn_pop", this.mRoot), this.mDeliveryDays7Time = s.noxcc.findLabel("LeftBar/BtnLayout/chaomeng/time", this.mRoot), this.mFindClashBtn = s.noxcc.findButton("RightBar/battle", this.mRoot), this.mExpeditionBtn = s.noxcc.findButton("RightBar/adventure", this.mRoot), this.mTarvenBtn = s.noxcc.findButton("RightBar/discover", this.mRoot), this.mMailBtn = s.noxcc.findButton("RightBar/mail", this.mRoot), this.mCheckInBtn = s.noxcc.findButton("RightBar/checkin", this.mRoot), this.mRankBtn = s.noxcc.findButton("RightBar/rank", this.mRoot), this.mShopBtn = s.noxcc.findButton("RightBar/shop", this.mRoot), this.fengling = s.noxcc.find("BG/fengling", this.mRoot), this.mFirstChargeBtn = null, this.mCumulativeRechargeBtn = null, this.mAssistantBtn = s.noxcc.findButton("BottomBar/guide", this.mRoot), this.mUnionBtn = s.noxcc.findButton("BottomBar/union", this.mRoot), this.mTutorialBtn = s.noxcc.findButton("BottomBar/help", this.mRoot), this.mBackPackBtn = s.noxcc.findButton("BottomBar/bag", this.mRoot), this.mCardsBtn = s.noxcc.findButton("BottomBar/cards", this.mRoot), this.mIllustrationBtn = s.noxcc.findButton("BottomBar/illustration", this.mRoot), this.mCharacterSkel = s.noxcc.findSkeleton("BG/CharSkel", this.mRoot), this.mCharacterSkel.node.opacity = 0, this.mCharacterBtn = s.noxcc.findButton("BG/CharButton", this.mRoot), this.mHeadBg = s.noxcc.find("TopBar/headBg", this.mRoot), s.noxcc.addClick(this.mFindClashBtn, this, this.onFindClashBtn), s.noxcc.addClick(this.mActivityBtn, this, this.onActivityBtn), s.noxcc.addClick(this.mWelfareBtn, this, this.onWelfareBtn), s.noxcc.addClick(this.mDeliveryDays7, this, this.onDeliveryDays7Btn), s.noxcc.addClick(this.mNewbieTaskBtn, this, this.onNewbieTaskBtn), s.noxcc.addClick(this.mBattleRuleBtn, this, this.onBattleRuleBtn), s.noxcc.addClick(this.mDeliveryWelfareBtn, this, this.onDeliveryWelfare), s.noxcc.addClick(this.mExpeditionBtn, this, this.onExpeditionBtn), s.noxcc.addClick(this.mTarvenBtn, this, this.onTavernBtn), s.noxcc.addClick(this.mMailBtn, this, this.onMailBtn), s.noxcc.addClick(this.mCheckInBtn, this, this.onCheckInBtn), s.noxcc.addClick(this.mRankBtn, this, this.onRankBtn), s.noxcc.addClick(this.mShopBtn, this, this.onShopBtn), s.noxcc.addClick(this.mChatBtn, this, this.onChatBtn), s.noxcc.addClick(this.mAssistantBtn, this, this.onAssistantBtn), s.noxcc.addClick(this.mUnionBtn, this, this.onUnionBtn), s.noxcc.addClick(this.mTutorialBtn, this, this.onTutorialBtn), s.noxcc.addClick(this.mBackPackBtn, this, this.onBackPackBtn), s.noxcc.addClick(this.mCardsBtn, this, this.onCardsBtn), s.noxcc.addClick(this.mIllustrationBtn, this, this.onIllustrationBtn), s.noxcc.addClick(this.mCharacterBtn, this, this.onCharacterBtn)
            }, t.prototype.onReleaseWidget = function () {
                e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onOpening = function () {
                e.prototype.onOpening.call(this)
            }, t.prototype.onOpen = function () {
                e.prototype.onOpen.call(this)
            }, t.prototype.onEnter = function () {
                var t = this;
                P._guideID < 111 && P.isNoviceTeachClaimed(1) && V.GuideManager.setGuideIDandSave(111), e.prototype.onEnter.call(this);
                var n = this;
                if (this.setAllBtnsEnabled(!0), this.mListeners.push(l.Data.Event.message.addListener(this, function (e) {
                    e._event == O.PlayerMessage.Event.msg_new && n.updateUnionFlag()
                })), n.mListeners.push(l.Data.Event.mail.addListener(n, function (e) {
                    n.updateMailFlag()
                })), n.mListeners.push(l.Data.Event.new_props_change.addListener(n, function () {
                    n.updateBagFlag()
                })), this.mListeners.push(l.Data.Event.bonus_dirty.addListener(n, function (e) {
                    this.updateCheckinBonusFlag()
                })), this.mListeners.push(l.Data.Event.ingot_dirty.addListener(this, function () {
                    n.updateActivityFlag()
                })), this.mListeners.push(l.Data.Event.recharge_success.addListener(this, function () {
                    n.updateActivityFlag()
                })), n.updateActivityFlag(), this.mListeners.push(l.Data.Event.character_dirty.addListener(this, this.updateCharacter)), this.mListeners.push(l.Data.Event.icon_dirty.addListener(this, this.updateCharacter)), n.updateCharacter(), this.mListeners.push(l.Data.Event.card_flag_dirty.addListener(this, this.updateButtonFlags)), this.updateButtonFlags(), w.lcAppCfg.isEnableGuide()) {
                    "level up" != V.GuideManager.getCurStepName() && "win battle gain" != V.GuideManager.getCurStepName() || (P._guideID = 148, V.GuideManager.finishStepLater());
                    var a = null;
                    if ("check duel" == V.GuideManager.getCurDifficultyStepName() && P.checkFindClash() && (a = this.mFindClashBtn, P._guideDifficultyID = P._guideDifficultyID + 1), null == a && "check union" == V.GuideManager.getCurRecruiteStepName() && l.Data.UNION_UNLOCK_LEVEL <= P.getMaxCharacterLevel() && (a = this.mUnionBtn, P._guideRecruiteID = P._guideRecruiteID + 1), null != a) this.getRootNode().runAction(x.lc.sequence(0, function () {
                        V.GuideManager.showOperateLayer();
                        var e = V.GuideManager.createNpcTipLayer(l.Data._guideInfo[a == t.mFindClashBtn ? P._guideDifficultyID : P._guideRecruiteID], !1, !0, !1, 0);
                        V.GuideManager.addContainerLayer(e), V.GuideManager.setOperateLayer(a.node)
                    })); else if (!V.GuideManager.isGuideEnabled() && !w.lcAppCfg.isAppStoreReviewing() && !P._hasEnterCity) {
                        P._hasEnterCity = !0;
                        Y.ActivityUtil.getActivitiesToShow();
                        0, Y.ActivityUtil.isActivityShowed(l.Data.PopupType.checkin) || S.CheckInForm.create().show()
                    }
                } else c.nox.scheduleTimeout(function (e) {
                    P._initialCharacter ? null != P._name && "" != P._name || p.SetPlayerNameForm.show() : d.CharacterPanel.show(!0)
                }, 0);
                n.updateUser()
            }, t.prototype.onExit = function () {
                for (var t = 0; t < this.mListeners.length; ++t) this.mListeners[t].remove();
                this.mListeners = [], e.prototype.onExit.call(this)
            }, t.prototype.onUpdate = function (t) {
                e.prototype.onUpdate.call(this, t)
            }, t.prototype.onGuide = function () {
                e.prototype.onGuide.call(this);
                var t = V.GuideManager.getCurStepName();
                if ("init troop" == t) {
                    var n = [];
                    for (var a in P._playerCard._monsters) n.push({_infoId: a, _num: P._playerCard._monsters[a]});
                    for (var a in P._playerCard._magics) n.push({_infoId: a, _num: P._playerCard._magics[a]});
                    for (var a in P._playerCard._traps) n.push({_infoId: a, _num: P._playerCard._traps[a]});
                    for (var a in P._playerCard._rares) n.push({_infoId: a, _num: P._playerCard._rares[a]});
                    n.sort(function (e, t) {
                        var n = l.Data.getInfo(e._infoId), a = l.Data.getInfo(t._infoId);
                        return n._quality != a._quality ? n._quality - a._quality : e._infoId - t._infoId
                    }), W.RewardCardPanel.create(G.lcStr(H.STR.INIT_TROOP), n).show(), V.GuideManager.finishStepLater()
                } else "enter travel" == t ? (V.GuideManager.setOperateLayer(this.mExpeditionBtn.node), !0) : "enter tavern" == t ? (V.GuideManager.setOperateLayer(this.mTarvenBtn.node), !0) : "enter manage troop" == t ? (V.GuideManager.setOperateLayer(this.mCardsBtn.node), !0) : "enter novice teach" == t && (V.GuideManager.setOperateLayer(this.mTutorialBtn.node), !0)
            }, t.prototype.checkUnlockModule = function () {
                e.prototype.checkUnlockModule.call(this)
            }, t.prototype.onActivityBtn = function (e) {
                var t;
                this.checkBtnClick() && (t = !P.isGemRecharged() || P._playerBonus.getFirstRechargeFlag() > 0 ? L.ActivityScene.create(L.ActivityScene.Tab.first_recharge) : P.isRecharged(l.Data.PurchaseType.package_7) ? L.ActivityScene.create(L.ActivityScene.Tab.first_recharge) : L.ActivityScene.create(L.ActivityScene.Tab.package), k.SceneManager.pushScene(t), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onDeliveryWelfare = function (e) {
                this.checkBtnClick() && (u.WelfarePanel.showInvite(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onWelfareBtn = function (e) {
                this.checkBtnClick() && (u.WelfarePanel.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onDeliveryDays7Btn = function (e) {
                this.checkBtnClick() && (S.CheckInForm.create(l.Data.CheckinType.novice).show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onNewbieTaskBtn = function (e) {
                this.checkBtnClick() && (k.SceneManager.pushScene(g.TeachingScene.create("NewbieTask")), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onBattleRuleBtn = function (e) {
                this.checkBtnClick() && (h.BattleRuleForm.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onFindClashBtn = function (e) {
                P._guideID < 103 || this.checkBtnClick() && (P.checkFindClash() ? ("select duel" == V.GuideManager.getCurDifficultyStepName() && (P._guideDifficultyID = P._guideDifficultyID + 1, j.GuidePart.sendGuideID(P._guideDifficultyID), V.GuideManager.stopGuide()), this.setAllBtnsEnabled(!1), k.SceneManager.pushScene(f.FindScene.create())) : z.ToastManager.push(string.format(G.lcStr(H.STR.FINDSCENE_LOCKED), l.Data.CLASH_UNLOCK_LEVEL % 10, G.lcStr(l.Data._levelInfo[l.Data.CLASH_UNLOCK_LEVEL]._nameSid)), 3, !0))
            }, t.prototype.onExpeditionBtn = function (e) {
                P._guideID < 103 || this.checkBtnClick() && (this.setAllBtnsEnabled(!1), k.SceneManager.pushScene(m.ExpeditionScene.create()))
            }, t.prototype.onTavernBtn = function (e) {
                P._guideID < 103 || this.checkBtnClick() && (this.setAllBtnsEnabled(!1), k.SceneManager.pushScene(y.TavernScene.create()))
            }, t.prototype.onMailBtn = function (e) {
                this.checkBtnClick() && (T.MailForm.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onChatBtn = function (e) {
                this.checkBtnClick() && (K.ChatForm.create().show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onCheckInBtn = function (e) {
                this.checkBtnClick() && (S.CheckInForm.create().show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onRankBtn = function (e) {
                this.checkBtnClick() && (C.RankPanel.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onShopBtn = function (e) {
                this.checkBtnClick() && (k.SceneManager.pushScene(v.ShopScene.create()), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onAssistantBtn = function (e) {
                this.checkBtnClick() && (k.SceneManager.pushScene(g.TeachingScene.create()), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onUnionBtn = function (e) {
                this.checkBtnClick() && (P.getMaxCharacterLevel() < l.Data.UNION_UNLOCK_LEVEL ? z.ToastManager.push(string.format(G.lcStr(H.STR.UNIONSCENE_LOCKED), l.Data.UNION_UNLOCK_LEVEL)) : ("select union" == V.GuideManager.getCurRecruiteStepName() && (P._guideRecruiteID = P._guideRecruiteID + 1, j.GuidePart.sendGuideID(P._guideRecruiteID), V.GuideManager.stopGuide()), k.SceneManager.pushScene(b.UnionScene.create()), e._softGuideFinger && V.GuideManager.releaseFinger()))
            }, t.prototype.onTutorialBtn = function (e) {
                this.checkBtnClick() && (k.SceneManager.pushScene(E.TutorialScene.create()), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onBackPackBtn = function (e) {
                this.checkBtnClick() && (I.BackBagPanel.create().show(), e._softGuideFinger && V.GuideManager.releaseFinger(), q.UserPart.sendNewProps())
            }, t.prototype.onCardsBtn = function (e) {
                this.checkBtnClick() && (k.SceneManager.pushScene(A.HeroCenterScene.create()), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onIllustrationBtn = function (e) {
                this.checkBtnClick() && (R.IllustrationPanel.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.onCharacterBtn = function (e) {
                0 != this.mCharacterSkel.node.opacity && d.CharacterPanel.show(!1, P.getCharacterId())
            }, t.prototype.onUserBtn = function (e) {
                this.checkBtnClick() && (B.LordForm.show(), e._softGuideFinger && V.GuideManager.releaseFinger())
            }, t.prototype.syncData = function () {
                e.prototype.syncData.call(this), this.mCharacterBtn.interactable = P._guideID >= 103, this.updateButtonFlags()
            }, t.prototype.updateButtonFlags = function () {
                this.updateMailFlag(), this.updateBattleFlag(), this.updateActivityFlag(), this.updateCheckinBonusFlag(), this.updateShopFalg(), this.updateDailyActiveFlag(), this.updateTeachFlag(), this.updateUnionFlag(), this.updateTroopFlags(), this.updateAchieveFlag(), this.updateNoviceFlag(), this.updateBagFlag()
            }, t.prototype.updateBagFlag = function () {
                for (var e = 0, t = 0; t < P._newProp.length; t++) e += P._newProp[t].count;
                N.ClientView.checkNewFlag(this.mBackPackBtn.node, e, 32, 0)
            }, t.prototype.updateMailFlag = function () {
                N.ClientView.checkNewFlag(this.mMailBtn.node, P._playerMail.getNewMsgMails() + P._playerMail.getNewSystemMails() + P._playerMail.getNewUnionMails(), 32, 2)
            }, t.prototype.updateBattleFlag = function () {
                P._playerLog.getNewDefenseLogCount()
            }, t.prototype.updateActivityFlag = function () {
                var e = P._playerBonus.getFirstRechargeFlag() + P._playerBonus.getFundBonusFlag() + P._playerBonus.getSignInFundFlag() + P._playerActivity.getDayilPaymentActivityFlags() + P._playerActivity.getPaymentDaysActivityFlags(),
                    t = P._playerBonus.getInviteBonusFlag() + P._playerActivity.getConsumeFeedbackActivityFlags() + P._playerActivity.getFreeMonthCardActivityFlags();
                N.ClientView.checkNewFlag(this.mActivityBtn.node, e, 24, 0), N.ClientView.checkNewFlag(this.mWelfareBtn.node, t, 24, 0)
            }, t.prototype.updateCheckinBonusFlag = function () {
                N.ClientView.checkNewFlag(this.mCheckInBtn.node, P._playerBonus.getCheckinBonusFlag(), 32, 2)
            }, t.prototype.updateShopFalg = function () {
                N.ClientView.checkNewFlag(this.mShopBtn.node, P._playerMarket.getFragmentShopFlagNum(), 32, 2)
            }, t.prototype.updateDailyActiveFlag = function () {
            }, t.prototype.updateTeachFlag = function () {
                N.ClientView.checkNewFlagEx(this.mAssistantBtn.node, "new_flag", 0 + P._playerBonus.getAchieveBonusFlag() + P._playerBonus.getDailyActiveBonusFlag() + P._playerBonus.getFundTasksFlag() + P._playerBonus.getNoviceTaskBonusFlag() + P._playerBonus.getLevelTaskBonusFlag(), 9, -140)
            }, t.prototype.updateUnionFlag = function () {
                if (P.hasUnion()) {
                    var e = 0;
                    P._playerUnion.canDailyDonate() && (e += 1), e += P._playerUnion.getCompleteUnionTaskNum(), e += P._playerUnion.getCompleteUnionLetNum(), N.ClientView.checkNewFlag(this.mUnionBtn.node, e, 32, 2)
                } else N.ClientView.checkNewFlag(this.mUnionBtn.node, P._playerMessage.getNewUnion() > 0, 32)
            }, t.prototype.updateTroopFlags = function () {
                var e = P._playerCard.getCardFlag();
                N.ClientView.checkNewFlag(this.mCardsBtn.node, e, -235, -483)
            }, t.prototype.updateAchieveFlag = function () {
            }, t.prototype.updateNoviceFlag = function () {
                N.ClientView.checkNewFlag(this.mNewbieTaskBtn.node, P._playerBonus.getNoviceTaskBonusFlag(), 24, 0)
            }, t.prototype.updateCharacter = function () {
                var e = P.getCharacterId();
                if (e) {
                    var t = N.ClientView.getCharAnimName(e);
                    D.NoxResMgr.setSkeletonAnimAsync(this.mCharacterSkel, t, "default", "animation", !0, function () {
                        this.mCharacterSkel.node.opacity = 255
                    }.bind(this))
                } else this.mCharacterSkel.node.opacity = 0;
                this.setFenglingSkin()
            }, t.prototype.setFenglingSkin = function () {
                var e = P.getCharacterId(), t = "";
                5 == e ? t = "xiaozhi" : 4 == e ? t = "xiaoxia" : 2 == e ? t = "caizhong" : 3 == e && (t = "xiaomao"), this.fengling.getComponent(sp.Skeleton).setSkin(t), this.fengling.getComponent(sp.Skeleton).setAnimation(0, "animation", !0), this.fengling.getComponent(sp.Skeleton).setToSetupPose()
            }, t.prototype.checkBtnClick = function () {
                return !!F.TimeUtil.checkBtnClick()
            }, t.prototype.updateUser = function () {
                this.mUserWidget && this.mUserWidget.node.removeFromParent();
                var e = o.UserWidget.create(P, o.UserWidget.Flag.LEVEL_NAME | o.UserWidget.Flag.VIP | o.UserWidget.Flag.CLICKABLE, 1, !1),
                    t = 10 + c.nox.asw(e.getRoot()) - c.nox.aw(this.mHeadBg),
                    n = c.nox.ah(this.mHeadBg) - (6 + c.nox.sh(e.getRoot()) - c.nox.ash(e.getRoot()));
                e.node.setPosition(cc.v2(t, n)), this.mHeadBg.addChild(e.node), this.mUserWidget = e;
                var a = this, i = P._playerBonus.isNeedShowNoviceBonusTips()[0];
                null != i ? (this.mDeliveryDays7.node.active = !0, this.mDeliveryDays7.getComponent(sp.Skeleton).setAnimation(1, 2 == i ? "chaomeng" : "liekongzuo", !0), a.mDeliveryDays7Time.node.runAction(x.lc.repeatForever(x.lc.sequence(1, function () {
                    var e = P._regTime + 86400 * (i - 1), t = c.nox.getDateTableFromTimeSeconds(e);
                    t.hours = 0, t.minutes = 0, t.seconds = 0, t.millSeconds = 0;
                    var n = c.nox.getTimeSecondsFromDateTable(t) - Math.floor(F.TimeUtil.getCurrentTime()),
                        o = Math.floor(n / 3600), r = Math.floor(n % 3600 / 60);
                    n > 0 ? s.noxcc.setLabelString(a.mDeliveryDays7Time, string.format("%02dh : %02d", o, r)) : s.noxcc.setLabelString(a.mDeliveryDays7Time, "00h : 00")
                })))) : this.mDeliveryDays7.node.active = !1
            }, t.prototype.setAllBtnsEnabled = function (e) {
                this.mFindClashBtn.interactable = e, this.mExpeditionBtn.interactable = e, this.mTarvenBtn.interactable = e
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t
        }(U.BaseUIScene);
        n.CityScene = X, cc._RF.pop()
    }, {
        "../../framework/NoxResMgr": "NoxResMgr",
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../const/SceneId": "SceneId",
        "../data/Social/PlayerMessage": "PlayerMessage",
        "../data/data": "data",
        "../part/DuelCityPart": "DuelCityPart",
        "../part/GuidePart": "GuidePart",
        "../part/UserPart": "UserPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/form/ActivityForm": "ActivityForm",
        "../ui/form/BattleRuleForm": "BattleRuleForm",
        "../ui/form/ChatForm": "ChatForm",
        "../ui/form/CheckInForm": "CheckInForm",
        "../ui/form/LordForm": "LordForm",
        "../ui/form/MailForm": "MailForm",
        "../ui/form/SetPlayerNameForm": "SetPlayerNameForm",
        "../ui/panel/BackBagPanel": "BackBagPanel",
        "../ui/panel/CharacterPanel": "CharacterPanel",
        "../ui/panel/IllustrationPanel": "IllustrationPanel",
        "../ui/panel/RankPanel": "RankPanel",
        "../ui/panel/RewardCardPanel": "RewardCardPanel",
        "../ui/panel/WelfarePanel": "WelfarePanel",
        "../ui/widget/UserWidget": "UserWidget",
        "../utils/ActivityUtil": "ActivityUtil",
        "../utils/TimeUtil": "TimeUtil",
        "./ActivityScene": "ActivityScene",
        "./BaseUIScene": "BaseUIScene",
        "./ExpeditionScene": "ExpeditionScene",
        "./FindScene": "FindScene",
        "./HeroCenterScene": "HeroCenterScene",
        "./SceneManager": "SceneManager",
        "./ShopScene": "ShopScene",
        "./TavernScene": "TavernScene",
        "./TeachingScene": "TeachingScene",
        "./TutorialScene": "TutorialScene",
        "./UnionScene": "UnionScene"
    }],
    ClashChestBonusForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e04c0XPy+NN05oBKeysoX3e", "ClashChestBonusForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../nox"),
            s = e("../../ClientView"), c = e("../../data/data"), l = e("../widget/IconWidget"),
            d = e("../../config/UICfg"), p = e("../../StringEnums"), u = e("../../../leocool/lcStr"),
            g = e("../../ClientData"), h = e("../panel/RewardPanel"), f = e("../../utils/MsgCenter"),
            m = e("../../../leocool/lc"), y = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.ClashChestBonusForm) || this;
                    return t.SystemAward = {daily: 1, season: 2, winningStreak: 3}, t.mAllToggles = {}, t.mAllPages = {}, t
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._tabIndex = e, this._selfGrade = t
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.getTabInfos = function () {
                    var e;
                    return (e = {})[this.SystemAward.daily] = ["bg/content/first_button", "bg/img_com_bg_58/day"], e[this.SystemAward.season] = ["bg/content/second_button", "bg/img_com_bg_58/saiji"], e[this.SystemAward.winningStreak] = ["bg/content/winningStreak_button", "bg/img_com_bg_58/winningStreak"], e
                }, t.prototype.onInitWidget = function () {
                    this.mDayAwardIndex = r.noxcc.find("bg/img_com_bg_58/day", this.getRootNode()), this.mSeasonAwardIndex = r.noxcc.find("bg/img_com_bg_58/saiji", this.getRootNode()), this.mWinningStreakAwardIndex = r.noxcc.find("bg/img_com_bg_58/winningStreak", this.getRootNode()), this.mBackBtn = r.noxcc.findButton("bg/closeBtn", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn);
                    var e = this.getTabInfos();
                    for (var t in this.mAllToggles = {}, e) {
                        var n = e[t], a = r.noxcc.findToggle(n[0], this.getRootNode());
                        this.mAllToggles[t] = a, r.noxcc.addClick(a, this, this.onToggleClick, t);
                        var i = r.noxcc.find(n[1], this.getRootNode());
                        this.mAllPages[t] = i
                    }
                    this.mActiveTab = null
                }, t.prototype.onReleaseWidget = function () {
                    this.mAllToggles = {}, this.mActiveTab = null, e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    f.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0), this._listeners = [], this._listeners.push(c.Data.Event.prop_dirty.addListener(t, function () {
                        t.refreshView()
                    })), this._listeners.push(c.Data.Event.trophy_dirty.addListener(t, function () {
                        t.refreshView()
                    })), this._listeners.push(c.Data.Event.clash_trophy_dirty.addListener(t, function () {
                        t.refreshView()
                    })), this._listeners.push(c.Data.Event.bonus_dirty.addListener(t, function () {
                        t.refreshView()
                    })), this.updateDaily(), this.updateSeason(), this.updateWinningStreak(), this.setActiveTab(t._tabIndex), this.updateTabFlag()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    c.Data.Event.exchange_res_done.dispatchEvent(), e.prototype.onExit.call(this)
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_CHEST) {
                        var t = e.getExtensions_User_pb_SglUserMsg_user_open_chest_resp(),
                            n = s.ClientView.getActiveIndicator().hide();
                        return P._propBag._props[n._infoId]._isOpened = !0, n.update(P._playerFindClash.getChestGrade(n._infoId % 10)), P._propBag._props[n._infoId].sendPropDirty(), h.RewardPanel.create(t, h.RewardPanel.MODE_CHEST).show(), this.updateTabFlag(), !0
                    }
                    return !1
                }, t.prototype.refreshView = function () {
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.updateDaily = function () {
                    for (var e = this, t = function (t) {
                        for (var a, i = P._playerBonus._bonusClashChests, o = 0; o < i.length; o++) i[o]._infoId == 10 * (n._selfGrade - 1) + t + 1 + 2600 && (a = i[o]);
                        var _ = r.noxcc.find("img_pvp_win_" + t, n.mDayAwardIndex), s = r.noxcc.findLabel("res/text", _);
                        r.noxcc.setLabelString(s, a._info._count[2] + "");
                        var f = r.noxcc.find("grid", _);
                        for (o = 0; o < 2; o++) {
                            var m = l.IconWidget.create({
                                _infoId: a._info._rid[o],
                                _level: 0,
                                _count: a._info._count[o]
                            }, l.IconWidget.DisplayFlag.COUNT);
                            m.setNameColor(d.UICfg.COLOR_TEXT_WHITE), m.getRoot().setScale(.6), f.addChild(m.node)
                        }
                        var y = r.noxcc.findButton("button", _);
                        r.noxcc.setLabelString(y.node.getComponentInChildren(cc.Label), u.lcStr(479)), y.enableAutoGrayEffect = !0, a && a.canClaim() ? r.noxcc.addClick(y, function () {
                            g.ClientData.claimBonus(a) == c.Data.ErrorType.ok ? (h.RewardPanel.create(a, h.RewardPanel.MODE_CLAIM).show(), y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1, e.updateTabFlag()) : y.interactable = !1, y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1
                        }) : y.interactable = !1, a._isClaimed && (y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1)
                    }, n = this, a = 0; a < 5; a++) t(a)
                }, t.prototype.updateWinningStreak = function () {
                    for (var e = this, t = function (t) {
                        for (var a, i = P._playerBonus._bonusClashChestsEx, o = 0; o < i.length; o++) i[o]._infoId == 10 * (n._selfGrade - 1) + t + 1 + 2700 && (a = i[o]);
                        var _ = r.noxcc.find("img_pvp_win_" + t, n.mWinningStreakAwardIndex),
                            s = r.noxcc.findLabel("res/text", _);
                        r.noxcc.setLabelString(s, a._info._count[2] + "");
                        var f = r.noxcc.find("grid", _);
                        for (o = 0; o < 2; o++) {
                            var m = l.IconWidget.create({
                                _infoId: a._info._rid[o],
                                _level: 0,
                                _count: a._info._count[o]
                            }, l.IconWidget.DisplayFlag.COUNT);
                            m.setNameColor(d.UICfg.COLOR_TEXT_WHITE), m.getRoot().setScale(.6), f.addChild(m.node)
                        }
                        var y = r.noxcc.findButton("button", _);
                        r.noxcc.setLabelString(y.node.getComponentInChildren(cc.Label), u.lcStr(479)), y.enableAutoGrayEffect = !0, a && a.canClaim() ? r.noxcc.addClick(y, function () {
                            g.ClientData.claimBonus(a) == c.Data.ErrorType.ok ? (h.RewardPanel.create(a, h.RewardPanel.MODE_CLAIM).show(), y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1, e.updateTabFlag()) : y.interactable = !1, y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1
                        }) : y.interactable = !1, a._isClaimed && (y.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), y.interactable = !1)
                    }, n = this, a = 0; a < 5; a++) t(a)
                }, t.prototype.updateSeason = function () {
                    for (var e = this, t = P._playerBonus._bonusClashTarget, n = function (n) {
                        var a = r.noxcc.find("duanwei" + n, e.mSeasonAwardIndex), i = r.noxcc.findLabel("text", a);
                        i.string = u.lcStr(c.Data._ladderInfo[n + 1]._nameSid), r.noxcc.findLabel("res/text", a).string = t[n]._info._count[0] + "", r.noxcc.findLabel("bg/text", i.node).string = t[n]._info._val;
                        var o = r.noxcc.find("grid", a);
                        if (t[n]._info._rid.length > 1) for (var _ = 1; _ < t[n]._info._rid.length; _++) {
                            var s = l.IconWidget.create({
                                _infoId: t[n]._info._rid[_],
                                _level: 0,
                                _count: t[n]._info._count[_]
                            }, l.IconWidget.DisplayFlag.COUNT);
                            s.setNameColor(d.UICfg.COLOR_TEXT_WHITE), s.getRoot().setScale(.6), o.addChild(s.node)
                        }
                        var f = r.noxcc.findButton("button", a);
                        f.node.getComponentInChildren(cc.Label).string = u.lcStr(479), f.enableAutoGrayEffect = !0, t[n] && t[n].canClaim() ? r.noxcc.addClick(f, function () {
                            g.ClientData.claimBonus(t[n]) == c.Data.ErrorType.ok ? (h.RewardPanel.create(t[n], h.RewardPanel.MODE_CLAIM).show(), f.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), f.interactable = !1, e.updateTabFlag()) : f.interactable = !1, f.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), f.interactable = !1
                        }) : f.interactable = !1, t[n]._isClaimed && (f.node.getComponentInChildren(cc.Label).string = u.lcStr(p.STR.CLAIMED), f.interactable = !1)
                    }, a = 0; a < t.length; a++) n(a)
                }, t.prototype.onToggleClick = function (e, t) {
                    this.setActiveTab(e)
                }, t.prototype.setActiveTab = function (e) {
                    if (this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles[this.mActiveTab].check(), this.mAllToggles) {
                        var n = this.mAllToggles[t], a = this.mAllPages[t];
                        _.nox.toNumber(t) == e ? (r.noxcc.find("icon", n.node).active = !0, r.noxcc.setNodeColor(r.noxcc.find("text", n.node), m.lc.Color3B.yellow), a.active = !0) : (r.noxcc.find("icon", n.node).active = !1, r.noxcc.setNodeColor(r.noxcc.find("text", n.node), m.lc.Color3B.white), a.active = !1)
                    }
                }, t.prototype.updateTabFlag = function () {
                    var e = this.getTabInfos();
                    for (var t in e) {
                        var n = e[t], a = r.noxcc.findToggle(n[0], this.mRoot);
                        if ("1" == t) {
                            for (var i = 0, o = P._playerBonus._bonusClashChests, _ = [], c = 0; c < 5; c++) {
                                for (var l = 0; l < o.length; l++) o[l]._infoId == 10 * (this._selfGrade - 1) + c + 1 + 2600 && _.push(o[l]);
                                _[c] && _[c].canClaim() && i++
                            }
                            s.ClientView.checkNewFlag(a.node, i, 30, 0)
                        }
                        if ("2" == t) {
                            for (i = 0, o = P._playerBonus._bonusClashTarget, c = 0; c < o.length; c++) o[c] && o[c].canClaim() && i++;
                            s.ClientView.checkNewFlag(a.node, i, 30, 0)
                        }
                        if ("3" == t) {
                            for (i = 0, o = P._playerBonus._bonusClashChestsEx, _ = [], c = 0; c < 5; c++) {
                                for (l = 0; l < o.length; l++) o[l]._infoId == 10 * (this._selfGrade - 1) + c + 1 + 2700 && _.push(o[l]);
                                _[c] && _[c].canClaim() && i++
                            }
                            s.ClientView.checkNewFlag(a.node, i, 30, 0)
                        }
                    }
                }, t.show = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a.show(), a
                }, t
            }(i.BaseForm);
        n.ClashChestBonusForm = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../panel/RewardPanel": "RewardPanel",
        "../widget/IconWidget": "IconWidget"
    }],
    ClashPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d712cbVpmBBJ5whL06tkF3p", "ClashPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendBuyReportGrade = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BUT_REPORT_SCORE, a.NetUtil.sendProtoMsg(e)
            }, e.sendWorldReport = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_REPORT, a.NetUtil.sendProtoMsg(e)
            }, e.sendWorldReportInfo = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REPORT_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendWorldJoin = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BATTLE_JOIN, t.setExtensions_World_pb_SglWorldMsg_world_battle_join_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendOpenBox = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_CHEST;
                var i = n.addExtensions_User_pb_SglUserMsg_user_open_chest_req();
                i.id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBattleGiveUp = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_GIVE_UP;
                var i = n.addExtensions_Battle_pb_SglBattleMsg_battle_skip_req();
                i.type = e, i.is_check = t || !1, a.NetUtil.sendProtoMsg(n)
            }
        })(n.ClashPart || (n.ClashPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    ClashUserInfoForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b7c79yR6DREV7DgwJ+Vzt27", "ClashUserInfoForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = e("../../data/Social/User"),
            _ = e("../../ClientView"), s = e("../../StringEnums"), c = e("../../data/data"),
            l = e("../../../leocool/lcStr"), d = e("../../utils/MsgCenter"), p = e("../../part/UserPart"),
            u = e("../../config/UICfg"), g = e("../widget/UserWidget"), h = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.ClashUserInfoForm) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t) {
                    this._userId = e, this._isSelf = t, _.ClientView.getActiveIndicator().show(l.lcStr(s.STR.WAITING))
                }, t.prototype.onInitWidget = function () {
                    this._title = o.noxcc.findLabel("bg/title", this.getRootNode()), this._title.string = l.lcStr(s.STR.FIND_CLASH_FIELD), this.mBackBtn = o.noxcc.findButton("bg/close_btn", this.getRootNode()), o.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), d.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), d.MsgCenter.removeMsgListener(this)
                }, t.prototype.onShowActionFinished = function () {
                    e.prototype.onShowActionFinished.call(this), p.UserPart.sendUserVisitRegion(this._userId)
                }, t.prototype.initData = function (e) {
                    var t = o.noxcc.find("bg/content", this.getRootNode());
                    t.active = !0;
                    var n = r.User.create(e.user_info),
                        a = l.lcStr(c.Data._ladderInfo[P._playerFindClash.getGrade(n._trophy)]._nameSid) + l.lcStr(s.STR.FIND_CLASH_FIELD);
                    o.noxcc.setLabelString(this._title, a);
                    var i = g.UserWidget.create(n, g.UserWidget.Flag.NAME_UNION, 1, !1);
                    o.noxcc.setNodeColor(i.getUnionNameArea(), u.UICfg.COLOR_TEXT_ORANGE), o.noxcc.find("bg/user", this.getRootNode()).addChild(i.node);
                    var _ = o.noxcc.findLabel("record/preRankVal", t), d = o.noxcc.findLabel("record/bestRankVal", t),
                        p = o.noxcc.findLabel("record/medal/text", t);
                    o.noxcc.setLabelString(_, e.pre_rank ? e.pre_rank + "" : l.lcStr(s.STR.VOID_SHORT)), o.noxcc.setLabelString(d, e.best_rank ? e.best_rank + "" : l.lcStr(s.STR.VOID_SHORT)), o.noxcc.setLabelString(p, n._trophy + "");
                    var h = o.noxcc.findLabel("legendRecord/preRankVal", t),
                        f = o.noxcc.findLabel("legendRecord/bestRankVal", t),
                        m = o.noxcc.findLabel("legendRecord/medal/text", t);
                    o.noxcc.setLabelString(h, e.pre_legend_rank ? e.pre_legend_rank + "" : l.lcStr(s.STR.VOID_SHORT)), o.noxcc.setLabelString(f, e.best_legend_rank ? e.best_legend_rank + "" : l.lcStr(s.STR.VOID_SHORT)), o.noxcc.setLabelString(m, e.legend_trophy + "")
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_VISIT_EX) {
                        _.ClientView.getActiveIndicator().hide();
                        var t = e.getExtensions_User_pb_SglUserMsg_user_visit_ex_resp();
                        return this.initData(t), !0
                    }
                    return !1
                }, t.show = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a.show(), a
                }, t
            }(a.BaseForm);
        n.ClashUserInfoForm = h, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/Social/User": "User",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/UserWidget": "UserWidget"
    }],
    ClientData: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b3597YpCmZPGquASZSRU30Q", "ClientData"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../leocool/lc"), i = e("./data/data"), o = e("./GuideManager"), r = e("./const/ConfigKey"),
            _ = e("./data/Player"), s = e("./StringEnums"), c = e("./utils/TimeUtil"), l = e("./ClientView"),
            d = e("../nox"), p = e("./const/SceneId"), u = e("./part/BonusPart"), g = e("../leocool/lcFile"),
            h = e("../leocool/lcStr"), f = e("../leocool/lcDirector"), m = e("./NoticeManager"),
            y = e("./utils/MsgCenter"), T = e("./utils/NetUtil"), S = e("./part/UserPart"),
            C = e("../leocool/lcAppCfg"), v = e("./utils/LoginData"), b = e("./utils/cu"), E = e("./part/MiscPart"),
            I = e("./part/AnniversaryPart"), A = e("./part/TroopPart"), R = e("./scene/CityScene"),
            B = e("./utils/SpriteUtil"), N = e("./scene/SceneManager"), D = e("./ui/common/Dialog"),
            U = e("./config/UICfg"), M = e("./battle/scene/BattleScene"), k = e("./utils/RichTextUtil"),
            L = e("./scene/RegionScene"), O = e("./ui/common/ActiveIndicator"), x = e("./ui/form/HelpForm"),
            w = e("./sdk/SdkManager");
        (function (e) {
            e._isWorking = !1, e._reloadDialog = null, e._savedUnionData = {}, e._cloneTroops = [], e._findMatchPanel = null, e._lotteryPower = null;
            e.DEBUG_USER_ID = null;
            var t = null;
            if (d.nox.os == d.nox.OS.WINDOWS) {
                var n = g.lcFile.readFile("config.json");
                t = n && "" != n ? n.init_cfg : {}, e.DEBUG_USER_ID = t.userId, "0" == e.DEBUG_USER_ID && (e.DEBUG_USER_ID = null)
            } else t = {}, e.DEBUG_USER_ID = null;

            function F() {
                T.NetUtil.disconnect(), v.LoginData._regions = {}, v.LoginData.saveUserRegion(), l.ClientView.removeChatPanelFromParent(), l.ClientView.releaseChatPanel(), N.SceneManager.popScene(!0), N.SceneManager.replaceScene(L.RegionScene.create())
            }

            function V(e) {
                var t = 0, n = i.Data.getInfo(e);
                return n && (t = n._picId), null != t && 0 != t || (t = e), t
            }

            function H(t, n) {
                var a = e.getPicIdByInfoId(t);
                return n ? string.format("props_ico_%d", a) : string.format("img_icon_props_s%d", a)
            }

            e.DEBUG_UNION = !1, e.CARDS_IMG_COUNT = 6, b.cu.it(), e.init = function () {
                f.lcDirector.setIdleTime(180), f.lcDirector.setBlurParam(512, 384, "res/shader/blur_gaussian_x.fsh", "res/shader/blur_gaussian_y.fsh"), f.lcDirector.initCamera3D(), O.ActiveIndicator.Event.TimeOut.addListener(null, function () {
                    null == e._reloadDialog && e.showReloadDialog(h.lcStr(s.STR.DISCONNECT))
                }), c.TimeUtil.init(), T.NetUtil.init(), y.MsgCenter.init(), _.Player.createSingleton()
            }, e.isNewServer = function () {
                return d.nox.isDebug ? "2" == a.lc.getQueryString("sheet") : C.lcAppCfg.isShowDevServerList() ? 9999 == d.nox.toNumber(v.LoginData._userRegion._id) || 1e4 == d.nox.toNumber(v.LoginData._userRegion._id) : d.nox.toNumber(v.LoginData._userRegion._id) >= 10060 && d.nox.toNumber(v.LoginData._userRegion._id) < 20001
            }, e.reconnectRegionServer = function () {
                T.NetUtil.disconnect();
                var e = w.SdkManager.getRegionUrl(), t = string.splitByChar(e, ":"), n = t.shift(), a = t.shift();
                T.NetUtil.connect(n, a)
            }, e.reconnectGameServer = function () {
                e._isWorking = !0, v.LoginData.loadUserRegion(), T.NetUtil.disconnect(), T.NetUtil.connect(v.LoginData._userRegion._ip, v.LoginData._userRegion._port)
            }, e.loginGameServer = function () {
                var t = e.DEBUG_USER_ID;
                null == t || "0" == t ? T.NetUtil.sendUserRegister() : T.NetUtil.sendUserLogin(t)
            }, e.loginRegionServer = function () {
                T.NetUtil.sendRegionListReq()
            }, e.reconnect = function (t) {
                if (null == e._reloadDialog) {
                    if (d.nox.log("[NETWORK] reconnect~~"), null != t) {
                        null != T.NetUtil._heartbeatGapNoticeId && (m.NoticeManager.hide(T.NetUtil._heartbeatGapNoticeId), T.NetUtil._heartbeatGapNoticeId = null);
                        var n = k.RichTextUtil.newRichText();
                        k.RichTextUtil.appendText(n, t, U.UICfg.COLOR_TEXT_DARK, U.UICfg.FontSize.S1), T.NetUtil._heartbeatLostNoticeId = m.NoticeManager.show(n.node, null, T.NetUtil._heartbeatLostNoticeId)
                    }
                    N.SceneManager.getRunningSceneId() == p.SceneId.region ? e.reconnectRegionServer() : N.SceneManager.getRunningSceneId() == p.SceneId.loading ? e.switchToRegionScene() : (N.SceneManager.getRunningSceneId() == p.SceneId.battle && (M.BattleScene.currenton().getRootNode().pauseAllActions(), M.BattleScene.currenton().getRootNode().pauseSystemEvents(!0)), e.reconnectGameServer(), l.ClientView.getActiveIndicator().show(h.lcStr(s.STR.CONNECTING)))
                }
            }, e.reload = function (t) {
                N.SceneManager.getRunningSceneId(), t == SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_VERSION ? e.switchToUpdateScene() : (e.reconnect(), N.SceneManager.getRunningSceneId() == p.SceneId.in_room && (a.lc.V(P._roomId) || N.SceneManager.popScene()))
            }, e.showReloadDialog = function (t, n) {
                null == e._reloadDialog && (e._isWorking = !1, e._reloadDialog = D.Dialog.showDialog(t, function () {
                    e._reloadDialog = null, e.reload(n)
                }, !0), e._reloadDialog.setForce(!0)), o.GuideManager.stopGuide()
            }, e.loadPlayerData = function (e, t) {
                c.TimeUtil._baseTime = d.nox.getTickCount() / 1e3, e.clear(), e.init(t)
            }, e.reloadPage = function () {
                d.nox.isJsb ? F() : window.location.reload()
            }, e.switchToUpdateScene = function () {
                d.nox.isHtml5 ? e.reloadPage() : F()
            }, e.switchToRegionScene = F, e.replaceCityScene = function () {
                N.SceneManager.replaceScene(R.CityScene.create())
            }, e.syncServerPush = function () {
                var e = 0;
                a.lc.UserDefault.getBoolForKey(r.ConfigKey.push_copy_pvp, !0) && (e = a.lc.bor(e, 1)), a.lc.UserDefault.getBoolForKey(r.ConfigKey.push_union_help, !0) && (e = a.lc.bor(e, 2)), E.MiscPart.sendServerPushSwitch(e)
            }, e.getNameByInfoId = function (e) {
                var t = i.Data.getType(e);
                if (t == i.Data.CardType.nature) return h.lcStr(1716 + e % 1e3);
                if (t == i.Data.CardType.category) return h.lcStr(s.STR.CARD_CATEGORY_BEGIN + e % 1e3);
                if (t == i.Data.CardType.keyword) return h.lcStr(s.STR.CARD_KEYWORD_BEGIN + e % 1e3);
                var n = i.Data.getInfo(e);
                return a.lc.V(n) ? h.lcStr(a.lc.D(n._briefNameSid, n._nameSid)) : ""
            }, e.getItemTypeNameByInfoId = function (e, t) {
                var n = i.Data.getInfo(e), a = i.Data.getType(e);
                return a == i.Data.CardType.res ? h.lcStr(s.STR.RESOURCE) : a == i.Data.CardType.props ? 0 == (a = n._type) ? h.lcStr(s.STR.RESOURCE) : a >= 1 && a <= 4 ? h.lcStr(a + s.STR.PROPS_TYPE_BOX - 1) : 5 == a ? h.lcStr(s.STR.PROPS_TYPE_DECORATION) : 10 == a ? h.lcStr(s.STR.PROPS_TYPE_UNION) : "" : h.lcStr(s.STR.CARD)
            }, e.getUnionErrorStr = function (e) {
                return e == i.Data.ErrorType.leader_operate ? h.lcStr(s.STR.UNION_LEADER_OPERATE) : e == i.Data.ErrorType.elder_operate ? h.lcStr(s.STR.UNION_ELDER_OPERATE) : e == i.Data.ErrorType.rookie_operate ? h.lcStr(s.STR.UNION_ROOKIE_OPERATE) : e == i.Data.ErrorType.union_operate ? h.lcStr(s.STR.UNION_UNION_OPERATE) : ""
            }, e.getPropBigIconName = function (e) {
                return string.format("img_icon_props_b%d", V(e))
            }, e.getPicIdByInfoId = V, e.getResIconName = function (t, n) {
                var a = e.getPicIdByInfoId(t);
                return C.lcAppCfg.isAppStoreReviewing() && B.SpriteUtil.hasSpriteFrame(n ? string.format("res_ico_%d_r", a) : string.format("img_icon_res%d_s_r", a)) ? "" : n ? string.format("res_ico_%d", a) : string.format("img_icon_res%d_s", a)
            }, e.getPropIconName = H, e.getIconName = function (e) {
                return e > 7e3 ? H(e) : string.format("img_icon_res%d_s", e)
            }, e.getTroopName = function (e, t) {
                var n;
                if (n = string.format("%s %d", h.lcStr(s.STR.TROOP), e), e == P._defTroopIndex && (n += string.format(h.lcStr(s.STR.BRACKETS_S), h.lcStr(s.STR.DEFENCE_S))), t) {
                    var a = P._troopRemarks[e];
                    null != a && "" != a || (a = h.lcStr(s.STR.REMARK_NONE)), n += string.format("\n|%s|", a)
                }
                return n
            }, e.getStrByCardType = function (e) {
                return e == i.Data.CardType.monster ? h.lcStr(s.STR.MONSTER) : e == i.Data.CardType.magic ? h.lcStr(s.STR.MAGIC) : e == i.Data.CardType.trap ? h.lcStr(s.STR.TRAP) : e == i.Data.CardType.rare ? h.lcStr(s.STR.RARE) : void 0
            }, e.showHelpForm = function (e, t) {
                var n = [];
                for (var a in i.Data._helpInfo) {
                    var o = i.Data._helpInfo[a];
                    o._type == t && n.push(o)
                }
                n.sort(function (e, t) {
                    return e._id - t._id
                });
                var r = [];
                for (var _ in n) {
                    var s = n[_];
                    r.push(h.lcStr(s._nameSid))
                }
                x.HelpForm.create(e, r).show()
            }, e.getPlaceByCardType = function (e) {
                return i.Data.CardType.monster, "".replace(" ", "")
            }, e.getAvatarFrameName = function (e, t) {
                return e == i.Data.PropsId.avatar_frame ? (t = a.lc.D(t, P._vip), string.format("avatar_frame_%03d", 1)) : string.format("avatar_frame_%d", e)
            }, e.getSkillDesc = function (e, t) {
                var n = i.Data._skillInfo[e];
                return (0 == n._val[0] ? h.lcStr(n._descSid) : h.lcStr(n._descSid).replace(/\[\d+\]/g, string.format("%d", n._val[t - 1]))).replace("#", "")
            }, e.pbTroopToTroop = function (e) {
                for (var t = [], n = 0; n < e.cards.length; ++n) {
                    var a = e[n], i = {_infoId: a.id, _num: a.num, _level: 1};
                    t.push(i)
                }
                return t
            }, e.saveTroops = function () {
                if (null == e._cloneTroops) return !1;
                var t = !1;
                for (var n in e._cloneTroops) {
                    var a = e._cloneTroops[n];
                    a._isDirty && (P._playerCard.saveTroop(a, n), t = !0)
                }
                return t
            }, e.sendTroops = function (t, n) {
                if (null != e._cloneTroops) {
                    for (var a = [], r = [], _ = [], s = 0; s < e._cloneTroops.length; s++) {
                        var c = e._cloneTroops[s];
                        c && c._isDirty && (c._isDirty = !1, r.push(c), _.push(s))
                    }
                    for (var l = 0; l < r.length; ++l) {
                        for (var d = {
                            _troopIndex: _[l] + 1,
                            _cards: [],
                            _isCheck: !(o.GuideManager.isGuideEnabled() || _[l] != n - 1 && _[l] != P._defTroopIndex || i.Data.isDarkTroop(n))
                        }, p = 0; p < r[l].length; ++p) d._cards.push({_infoId: r[l][p]._infoId, _num: r[l][p]._num});
                        a.push(d)
                    }
                    if (0 == a.length && n >= i.Data.TroopIndex.union_battle1 && n <= i.Data.TroopIndex.union_battle5) {
                        var u = {_troopIndex: n, _cards: [], _isCheck: !1};
                        a.push(u)
                    }
                    a.length > 0 && A.TroopPart.sendTroopReload(a, t)
                }
            }, e.sendDefTroopIndex = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_DEF_TROOP, t.setExtensions_User_pb_SglUserMsg_user_set_troop_req(e), T.NetUtil.sendProtoMsg(t)
            }, e.sendCurToopIndex = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_DEF_TROOP, e.setExtensions_User_pb_SglUserMsg_user_set_troop_req(P._curTroopIndex), T.NetUtil.sendProtoMsg(e)
            }, e.sendTroopRemark = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TROOP_MARK;
                var a = n.addExtensions_Troop_pb_SglTroopMsg_troop_mark_req();
                a.troop_id = e, a.name = t, T.NetUtil.sendProtoMsg(n)
            }, e.sendComposeCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_LOTTERY, t.addExtensions_Card_pb_SglCardMsg_card_lottery_req().pkg_id = e, T.NetUtil.sendProtoMsg(t)
            }, e.claimBonus = function (e) {
                var t;
                return a.lc.V(e._id) ? (t = P._playerBonus.claimServerBonus(e)) == i.Data.ErrorType.ok && u.BonusPart.sendClaimServerBonus(e._id) : (t = P._playerBonus.claimBonus(e._infoId)) == i.Data.ErrorType.ok && (e._type == i.Data.BonusType.online ? u.BonusPart.sendClaimOnlineBonus(e._infoId) : e._type == i.Data.BonusType.activity ? u.BonusPart.sendClaimActivityBonus(e._taskInfoid) : e._type >= i.Data.BonusType.tired_count1 && e._type <= i.Data.BonusType.tired_count4 || e._type == i.Data.BonusType.open_server_tired_count || e._type >= 300 && e._type <= 399 || e._type >= 854 && e._type <= 860 ? u.BonusPart.sendCustonClaimBonus(e) : e._type == i.Data.BonusType.open_server ? u.BonusPart.sendClaimOpenServerBonus(e._infoId) : 155 == e._infoId ? u.BonusPart.sendNewSuitBagsBonus(e._infoId) : e._type == i.Data.BonusType.super_growth_fund ? u.BonusPart.sendClaimSuperGrowthFund(e._infoId) : e._type == i.Data.BonusType.newGuidance ? S.UserPart.sendGetNewGuidanceBonus(e._infoId) : e._type == i.Data.BonusType.anniversary_sign ? I.AnniversaryPart.sendAnniversarySignClaim(e._infoId) : u.BonusPart.sendClaimBonus(e._infoId)), t
            }
        })(n.ClientData || (n.ClientData = {})), cc._RF.pop()
    }, {
        "../leocool/lc": "lc",
        "../leocool/lcAppCfg": "lcAppCfg",
        "../leocool/lcDirector": "lcDirector",
        "../leocool/lcFile": "lcFile",
        "../leocool/lcStr": "lcStr",
        "../nox": "nox",
        "./ClientView": "ClientView",
        "./GuideManager": "GuideManager",
        "./NoticeManager": "NoticeManager",
        "./StringEnums": "StringEnums",
        "./battle/scene/BattleScene": "BattleScene",
        "./config/UICfg": "UICfg",
        "./const/ConfigKey": "ConfigKey",
        "./const/SceneId": "SceneId",
        "./data/Player": "Player",
        "./data/data": "data",
        "./part/AnniversaryPart": "AnniversaryPart",
        "./part/BonusPart": "BonusPart",
        "./part/MiscPart": "MiscPart",
        "./part/TroopPart": "TroopPart",
        "./part/UserPart": "UserPart",
        "./scene/CityScene": "CityScene",
        "./scene/RegionScene": "RegionScene",
        "./scene/SceneManager": "SceneManager",
        "./sdk/SdkManager": "SdkManager",
        "./ui/common/ActiveIndicator": "ActiveIndicator",
        "./ui/common/Dialog": "Dialog",
        "./ui/form/HelpForm": "HelpForm",
        "./utils/LoginData": "LoginData",
        "./utils/MsgCenter": "MsgCenter",
        "./utils/NetUtil": "NetUtil",
        "./utils/RichTextUtil": "RichTextUtil",
        "./utils/SpriteUtil": "SpriteUtil",
        "./utils/TimeUtil": "TimeUtil",
        "./utils/cu": "cu"
    }],
    ClientView: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f6f5d0CmuBLsZVA0F5GxQ9N", "ClientView"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("../leocool/lc"), o = e("./data/data"), r = e("./ClientData"),
            _ = e("../leocool/lcAppCfg"), s = e("./config/UICfg"), c = e("./utils/SpriteUtil"),
            l = e("./ui/common/ActiveIndicator"), d = e("./ui/panel/RewardPanel"), p = e("../leocool/lcAudio"),
            u = e("./AudioEnums"), g = e("./ToastManager"), h = e("../leocool/lcStr"), f = e("./StringEnums"),
            m = e("./const/SceneId"), y = e("./scene/RechargeScene"), T = e("./ui/form/ExchangeResForm"),
            S = e("./utils/UIUtil"), C = e("./const/ZOrder"), v = e("./ui/node/NodeWithLabel"),
            b = e("./ui/node/NodeWithShaderButton"), E = e("./battle/ui/PlayerUi"), I = e("./ui/panel/TopMostPanel"),
            A = e("./utils/TimeUtil"), R = e("./ui/form/PromptForm"), B = e("./scene/SceneManager"),
            N = e("./ui/common/Dialog"), D = e("./part/BuyPart"), U = e("./ui/widget/ResourceUI"),
            M = e("./ui/panel/union/UnionDetailForm"), k = e("./part/UnionPart");
        (function (e) {
            function t(e, t, n, o, r, _) {
                var l = "boolean" == typeof n ? n : a.nox.isNumber(n) && n > i.lc.D(_, 0), d = e.getChildByName(t);
                if (l) {
                    if (null == d) if ((d = c.SpriteUtil.createSprite("img_new").node).name = "new_flag", d.setPosition(i.lc.aright(e) - 40 + i.lc.D(o, 0), i.lc.atop(e) - 10 + i.lc.D(r, 0)), d.parent = e, a.nox.isNumber(n)) {
                        var p = v.NodeWithLabel.createBMFont(s.UICfg.BMFont.huali_20, "0");
                        p.setScale(.8), p.name = "value", i.lc.addChildToPosAR(d, p, cc.v2(0, 0))
                    } else d.setScale(.9);
                    var u = d.getChildByName("value");
                    u && a.nox.isNumber(n) && (u.getComponent(cc.Label).string = n > 99 ? "99+" : string.format("%d", n))
                } else d && (d.destroy(), d = null);
                return d && d.getComponent(cc.Sprite)
            }

            function n(e, t, n) {
                var a;
                null != e.setScale && (null == t && null != n ? a = n / i.lc.h(e) : null != t && null == n ? a = t / i.lc.w(e) : null != t && null != n && (a = Math.min(n / i.lc.h(e), t / i.lc.w(e))), null != a && a < 1 && e.setScale(a))
            }

            function L(e, t) {
                var n = "object" == typeof e ? e : o.Data._skillInfo[e];
                return h.lcStr(n._nameSid)
            }

            e.startIAP = function (e) {
                if (!a.nox.isJsb && window.location.host.indexOf("192.168.0.126:18282") >= 0) return g.ToastManager.push(h.lcStr(f.STR.RECHARGE) + " " + h.lcStr(f.STR.NOT_OPENED));
                a.nox.isJsb ? N.Dialog.showDialog(h.lcStr(70069) + '"' + this.getProductTitle(e) + '"', function () {
                    D.BuyPart.sendIAPStartReq(e)
                }) : D.BuyPart.sendIAPStartReq(e)
            }, e.getProductTitle = function (e) {
                return e == o.Data.PurchaseType.month_card_1 ? h.lcStr(f.STR.MONTH_CARD1) : e == o.Data.PurchaseType.month_card_2 ? h.lcStr(f.STR.MONTH_CARD2) : void 0
            }, e.iapPaySuccess = function () {
            }, e.removeChatPanelFromParent = function () {
            }, e.releaseChatPanel = function () {
            }, e.getActiveIndicator = function () {
                return l.ActiveIndicator
            }, e.releaseActiveIndicator = function () {
                l.ActiveIndicator.hide()
            }, e.getMenuUI = function () {
            }, e.getChatPanel = function () {
            }, e.getResourceUI = function () {
                return U.ResourceUI.getResourceUI()
            }, e.releaseResourceUI = function () {
                return U.ResourceUI.releaseResourceUI()
            }, e.removeResourceFromParent = function () {
                return U.ResourceUI.removeResourceFromParent()
            }, e.showClaimBonusResult = function (e, t) {
                t == o.Data.ErrorType.ok ? (d.RewardPanel.create(e, d.RewardPanel.MODE_CLAIM).show(), p.lcAudio.playAudio(u.AUDIO.E_CLAIM)) : t == o.Data.ErrorType.claimed ? g.ToastManager.push(h.lcStr(f.STR.CLAIMED) + _.lcAppCfg.breakCharacter() + h.lcStr(f.STR.BONUS)) : t == o.Data.ErrorType.claim_not_support && g.ToastManager.push(h.lcStr(f.STR.CANNOT_CLAIM) + _.lcAppCfg.breakCharacter() + h.lcStr(f.STR.BONUS))
            }, e.getCardShader = function (e) {
                return ""
            }, e.getCardIconName = function (e, t) {
                return S.UIUtil.getCardIconName(e, t)
            }, e.getCardBackName = function (e, t) {
                var n = t ? "card_back_square" : "card_back";
                return n = n + "_" + (null != e ? e - 7600 : 0), _.lcAppCfg.getSubChannelName(), n
            }, e.getCharAnimName = function (e) {
                return {
                    2: "spine/caizhong",
                    3: "spine/xiaomao",
                    4: "spine/xiaoxia",
                    5: "spine/xiaozhi"
                }[a.nox.toString(e)]
            }, e.showResExchangeForm = function (e) {
                e == o.Data.ResType.ingot ? _.lcAppCfg.isHideCharge() || (_.lcAppCfg.isAppStoreReviewing() ? VIPForm.create(!0).show() : B.SceneManager.getRunningSceneId() != m.SceneId.recharge && B.SceneManager.pushScene(y.RechargeScene.create())) : T.ExchangeResForm.create(e).show()
            }, e.showPanelActiveIndicator = function (e, t) {
                l.ActiveIndicator.show()
            }, e.showResChangeText = function (e, t, n, a, _, l) {
                var d = string.format("img_icon_res%d_s", t);
                0 == c.SpriteUtil.hasSpriteFrame(d) && (d = r.ClientData.getPropIconName(t));
                var p = c.SpriteUtil.createSprite(d),
                    u = S.UIUtil.createBMFont(s.UICfg.BMFont.huali_26, n > 0 ? string.format("+ %d", n) : string.format("- %d", -n)),
                    g = i.lc.w(p.node) + i.lc.w(u) + 20;
                p.node.setPosition(-g / 2 + i.lc.w(p.node) / 2 + i.lc.D(a, 0), i.lc.D(_, 0)), p.node.runAction(i.lc.spawn([1.5, i.lc.fadeOut(.5), i.lc.removeSelf()], i.lc.moveBy(1.5, 0, 50))), u.color = t == o.Data.ResType.ingot ? s.UICfg.COLOR_TEXT_INGOT : s.UICfg.COLOR_TEXT_WHITE, u.setPosition(i.lc.w(u) / 2 + i.lc.D(a, 0), i.lc.y(p.node)), u.runAction(i.lc.spawn([1.5, i.lc.fadeOut(.5), i.lc.removeSelf()], i.lc.moveBy(1.5, 0, 50))), null != l && (p.node.setScale(l), u.setScale(l)), e.addChild(p.node, C.ZOrder.toast), e.addChild(u, C.ZOrder.toast)
            }, e.checkNewFlagEx = t, e.checkNewFlag = function (e, n, a, i, o) {
                return t(e, "new_flag", n, a, i, o)
            }, e.checkDiscountFlag = function (e, t, n, r) {
                var _ = o.Data._globalInfo._unionShopDiscount;
                B.SceneManager.getRunningSceneId() == m.SceneId.tavern && (_ = o.Data._globalInfo._magicShopDiscount);
                var l = "";
                if (t > 0 && t <= _.length) {
                    var d = _[t - 1];
                    l = a.nox.toString(d / 10)
                }
                if ("" == l) return null;
                var p = e.getChildByName("discount_flag");
                if (null == p) {
                    (p = c.SpriteUtil.createSprite("discount_bg").node).setPosition(i.lc.aright(e) - 40 + i.lc.D(n, 0), i.lc.atop(e) - 10 + i.lc.D(r, 0)), p.setScale(.8), e.addChild(p);
                    var u = v.NodeWithLabel.createTTF("", s.UICfg.FontSize.B2);
                    u.name = "value", i.lc.addChildToPosAR(p, u, cc.p(-6, 2))
                }
                var g = p.getChildByName("value");
                return g && (g.getComponent(cc.Label).string = l, g.color = i.lc.Color3B.yellow), p.getComponent(cc.Sprite)
            }, e.setMaxSize = n, e.addPriceToBtn = function (e, t, a, _, l) {
                var d, p = e._resIcon;
                a == o.Data.PropsId.yubi ? d = r.ClientData.getPropIconName(o.Data.PropsId.yubi) : a == o.Data.PropsId.rare_coin ? d = r.ClientData.getPropIconName(o.Data.PropsId.rare_coin) : a == o.Data.PropsId.rare_silver_coin ? d = r.ClientData.getPropIconName(o.Data.PropsId.rare_silver_coin) : a == o.Data.PropsId.obelisk_badge ? d = r.ClientData.getPropIconName(o.Data.PropsId.obelisk_badge) : a == o.Data.PropsId.void_diamond ? d = r.ClientData.getPropIconName(o.Data.PropsId.void_diamond) : a == o.Data.ResType.gold && (d = "img_icon_res" + a + "_s"), null == p ? ((p = c.SpriteUtil.createSprite(d).node).setAnchorPoint(cc.p(0, .5)), n(p, _, l), i.lc.addChildToPosLB(e, p, cc.p(i.lc.cw(e) - _ / 2 - 2, i.lc.ch(e))), e._resIcon = p) : c.SpriteUtil.setSprite(p, d);
                var u = A.TimeUtil.formatNum(t, 99999), g = e._resNumLabel, h = i.lc.cw(e) + _ / 2 - i.lc.right(p);
                null == g ? ((g = v.NodeWithLabel.createBMFont(s.UICfg.BMFont.huali_20, u)).setAnchorPoint(cc.p(.5, .5)), n(g, h), i.lc.addChildToPosAR(e, g, cc.p(i.lc.right(p) + h / 2 + 4, 0)), e._resNumLabel = g, g.color = t > P.getItemCount(a) ? s.UICfg.COLOR_TEXT_RED : s.UICfg.COLOR_TEXT_WHITE) : (g.setString(u), g.color = t > P.getItemCount(a) ? s.UICfg.COLOR_TEXT_RED : s.UICfg.COLOR_TEXT_WHITE)
            }, e.createPageArrow = function (e, t, n) {
                var a = b.NodeWithShaderButton.createShaderButton("img_page_right", n);
                return a.setAnchorPoint(0, .5), a.setFlippedX(e), a._pos = t, a.float = function () {
                    this.stopAllActions(), this.setPosition(this._pos), this.runAction(i.lc.sequence(i.lc.moveTo(.8, cc.v2(this._pos.x + (e ? -8 : 8), this._pos.y)), i.lc.moveTo(.8, this._pos)).repeatForever())
                }, a
            }, e.checkIngot = function (e, t) {
                return !!P.hasResource(o.Data.ResType.ingot, e) || (_.lcAppCfg.isHideCharge() ? g.ToastManager.push(string.format(h.lcStr(f.STR.NOT_ENOUGH), h.lcStr(o.Data._resInfo[o.Data.ResType.ingot]._nameSid))) : R.PromptForm.ConfirmBuyIngot.create(t).show(), !1)
            }, e.checkBindingIngot = function (e, t) {
                return P._binding_ingot >= e
            }, e.checkGold = function (e, t) {
                return !!P.hasResource(o.Data.ResType.gold, e) || (g.ToastManager.push(h.lcStr(f.STR.NOT_ENOUGH_GOLD)), T.ExchangeResForm.create(o.Data.ResType.gold).show(), !1)
            }, e.showOperateTopMostPanel = function (e, t, n, o) {
                var r = I.TopMostPanel.ButtonList.create(i.lc.D(o, cc.size(200, 600)), e);
                if (r) {
                    var _ = r.getTargetParent(), s = a.nox.cpos(n), c = i.lc.convertPosAR(s, n, _);
                    r.node.setAnchorPoint(.5, .5), r.setButtonDefs(t), r.linkNode(n);
                    var l = i.lc.ch(r.node);
                    c.y + l > i.lc.atop(_) && (c.y = i.lc.atop(_) - l), c.y - l < i.lc.abottom(_) && (c.y = i.lc.abottom(_) + l), r.node.setPosition(c.x, c.y), r.show()
                }
                return r
            }, e.operateUnion = function (e, t) {
                var n = [];
                if (n.push({
                    _str: h.lcStr(f.STR.UNION) + _.lcAppCfg.breakCharacter() + h.lcStr(f.STR.DETAIL),
                    _handler: function () {
                        M.UnionDetailForm.create(e._id).show()
                    }
                }), !P.hasUnion() && P.getMaxCharacterLevel() >= 12 && e._joinType != o.Data.UnionJoinType.close) {
                    var a = e._joinType == o.Data.UnionJoinType.any,
                        i = a ? h.lcStr(f.STR.JOIN) : h.lcStr(f.STR.APPLY) + _.lcAppCfg.breakCharacter() + h.lcStr(f.STR.JOIN);
                    n.push({
                        _str: i, _handler: function () {
                            a || g.ToastManager.push(h.lcStr(f.STR.UNION_APPLY_SEND)), k.UnionPart.sendUnionApply(e._id, h.lcStr(f.STR.UNION_APPLY_MSG))
                        }
                    })
                }
                this.showOperateTopMostPanel(e._name, n, t)
            }, e.getSkillName = L, e.getSkillDisplayInfo = function (e, t) {
                var n = "object" == typeof e ? e : o.Data._skillInfo[e];
                return [string.format("img_icon_skill_%d", o.Data.getType(n._id)), L(n, i.lc.D(t, 1)), r.ClientData.getSkillDesc(n._id, i.lc.D(t, 1)), "", "", ""]
            }, e.getSkillRefCards = function (e) {
            }, e.openUserProtocol = function () {
            }, e.init = function () {
                ({}), E.PlayerUi.initStaticVal()
            }
        })(n.ClientView || (n.ClientView = {})), cc._RF.pop()
    }, {
        "../leocool/lc": "lc",
        "../leocool/lcAppCfg": "lcAppCfg",
        "../leocool/lcAudio": "lcAudio",
        "../leocool/lcStr": "lcStr",
        "../nox": "nox",
        "./AudioEnums": "AudioEnums",
        "./ClientData": "ClientData",
        "./StringEnums": "StringEnums",
        "./ToastManager": "ToastManager",
        "./battle/ui/PlayerUi": "PlayerUi",
        "./config/UICfg": "UICfg",
        "./const/SceneId": "SceneId",
        "./const/ZOrder": "ZOrder",
        "./data/data": "data",
        "./part/BuyPart": "BuyPart",
        "./part/UnionPart": "UnionPart",
        "./scene/RechargeScene": "RechargeScene",
        "./scene/SceneManager": "SceneManager",
        "./ui/common/ActiveIndicator": "ActiveIndicator",
        "./ui/common/Dialog": "Dialog",
        "./ui/form/ExchangeResForm": "ExchangeResForm",
        "./ui/form/PromptForm": "PromptForm",
        "./ui/node/NodeWithLabel": "NodeWithLabel",
        "./ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "./ui/panel/RewardPanel": "RewardPanel",
        "./ui/panel/TopMostPanel": "TopMostPanel",
        "./ui/panel/union/UnionDetailForm": "UnionDetailForm",
        "./ui/widget/ResourceUI": "ResourceUI",
        "./utils/SpriteUtil": "SpriteUtil",
        "./utils/TimeUtil": "TimeUtil",
        "./utils/UIUtil": "UIUtil"
    }],
    ConfigKey: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a6106C7F8hAMI3xhhWBtG8e", "ConfigKey"), Object.defineProperty(n, "__esModule", {value: !0}), n.ConfigKey = {
            gexin_push_id: "GEXIN_PUSH_ID",
            music_on: "MUSIC_ON",
            effect_on: "EFFECT_ON",
            video_played: "VIDEO_PLAYED",
            region_info: "REGION_INFO",
            agreement: "AGREEMENT",
            push_grain_noon: "PUSH_GRAIN_NOON",
            push_grain_night: "PUSH_GRAIN_NIGHT",
            push_reward_send: "PUSH_REWARD_SEND",
            push_copy_pvp: "PUSH_COPY_PVP",
            push_copy_pvp_unlock: "PUSH_COPY_PVP_UNLOCK",
            push_union_help: "PUSH_UNION_HELP",
            push_grain_full: "PUSH_GRAIN_FULL",
            push_gold_full: "PUSH_GOLD_FULL",
            push_guard_fragment: "PUSH_GUARD_FRAGMENT",
            push_palace_task: "PUSH_PALACE_TASK",
            last_login: "LAST_LOGIN",
            cur_troop: "CUR_TROOP",
            new_friend: "NEW_FRIEND",
            new_section: "NEW_SECTION",
            new_card: "NEW_CARD",
            new_world_msg: "NEW_WORLD_MSG",
            new_union_msg: "NEW_UNION_MSG",
            new_bulletin_msg: "NEW_NEWS_MSG",
            new_battle_msg: "NEW_BATTLE_MSG",
            new_union_mail: "NEW_UNION_MAIL",
            new_friend_mail: "NEW_FRIEND_MAIL",
            new_announce: "NEW_ANNOUNCE",
            new_notice_mail: "NEW_NOTICE_MAIL",
            new_attack_log: "NEW_ATTACK_LOG",
            new_defense_log: "NEW_DEFENSE_LOG",
            new_union_attack_log: "NEW_UNION_ATTACK_LOG",
            new_union_defense_log: "NEW_UNION_DEFENSE_LOG",
            new_clash_log: "NEW_CLASH_LOG",
            new_ladder_log: "NEW_LADDER_LOG",
            new_duel_log: "NEW_DUEL_LOG",
            new_season_log: "NEW_SEASON_LOG",
            new_clash_log_ex: "NEW_CLASH_LOG_EX",
            lock_level_city: "LOCK_LEVEL_CITY",
            lock_level_split: "LOCK_LEVEL_SPLIT",
            lock_level_equip: "LOCK_LEVEL_EQUIP",
            lock_level_herocenter: "LOCK_LEVEL_HEROCENTER",
            lock_level_battle: "LOCK_LEVEL_BATTLE",
            lock_level_vip: "LOCK_LEVEL_VIP",
            battle_speed: "BATTLE_SPEED",
            battle_need_manual_guide: "BATTLE_NEED_MANUAL_GUIDE",
            battle_manual_guide_done: "BATTLE_MANUAL_GUIDE_DONE",
            prompt_rate_game: "PROMPT_RATE_GAME",
            last_level: "LAST_LEVEL",
            activity_show_day: "ACTIVITY_SHOW_DAY"
        }, cc._RF.pop()
    }, {}],
    DailyTaskPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d22df4BOWdGpKigemAq873U", "DailyTaskPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../leocool/lc"), r = e("../../../../noxcc"),
            _ = e("../../../data/data"), s = e("../../../ClientView"), c = e("../../node/BoxProgressBar"),
            l = e("../../../ClientData"), d = e("../../form/ActiveChestForm"), p = e("../../../../leocool/lcStr"),
            u = e("../../../StringEnums"), g = e("../../../../nox"), h = e("../../common/Dialog"),
            f = e("../../widget/FundTaskWidget"), m = e("../FundTaskPanel"), y = function (e) {
                function t() {
                    var t = e.call(this, "panel/assistant/DailyTaskPage") || this;
                    return t._activeBonuses = [], t._activeProgBar = null, t._bonusWidgets = [], t._listeners = [], t
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    var e = this;
                    this._activeNumLabel = r.noxcc.findLabel("CharacterGrowingUpPage/daily_active/num", this.getRoot()), r.noxcc.setLabelString(this._activeNumLabel, g.nox.toString(P._dailyActive)), this._bonusContainer = r.noxcc.find("CharacterGrowingUpPage/Task_Down_ScrollView/view/content", this.getRoot());
                    for (var t = 0; t < 5; ++t) {
                        var n = f.FundTaskWidget.create(), a = n.node;
                        this._bonusContainer.addChild(a), this._bonusWidgets.push(n), n.setClaimCallback(function (t) {
                            t && e.onClaim(t)
                        }), n.setRefreshCallback(function (t) {
                            t && e.onRefresh(t)
                        })
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(_.Data.Event.daily_bonus_dirty.addListener(this, function () {
                        t.refreshView()
                    })), this._listeners.push(_.Data.Event.daily_active_dirty.addListener(this, function () {
                        t.refreshView()
                    })), this._listeners.push(_.Data.Event.fund_task_dirty.addListener(this, function () {
                        var e = P._playerBonus._changedFundTasks;
                        P._playerBonus._changedFundTasks = {};
                        var n = t.refreshTasks() + .1;
                        t.mRoot.runAction(o.lc.sequence(n, function () {
                            for (var t in e) if (g.nox.toNumber(t) > 0) {
                                m.FundTaskPanel.create(e, p.lcStr(u.STR.FUND_TASK_RESET));
                                break
                            }
                        }))
                    })), this.updateBox(), this.refreshView(), this.refreshTasks()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], this._bonusWidgets = [], e.prototype.onExit.call(this)
                }, t.prototype.onClaim = function (e) {
                    s.ClientView.showClaimBonusResult(e, l.ClientData.claimBonus(e)), delete P._playerBonus._bonusFundTasks[e._info._cid], this.refreshTasks()
                }, t.prototype.onRefresh = function (e) {
                    h.Dialog.showDialog(p.lcStr(1776), function () {
                        P._playerBonus.sendResetFundTask(e._info._cid)
                    })
                }, t.prototype.updateBox = function () {
                    var e = this, t = [];
                    this._activeBonuses = [];
                    for (var n = 0; n < P._playerBonus._bonusDailyActive.length; n++) {
                        var a = P._playerBonus._bonusDailyActive[n];
                        this._activeBonuses.push(a);
                        var i = {
                            lightSpr: "light_point",
                            _darkSpr: "dark_point",
                            _val: a._info._val,
                            _claimed: a._isClaimed
                        };
                        t.push(i)
                    }
                    var o = this._activeProgBar = c.BoxProgressBar.createBoxProgressBar(t, 820, function (t, n) {
                        var a = e._activeBonuses[n];
                        if (a.canClaim()) {
                            var i = l.ClientData.claimBonus(a);
                            s.ClientView.showClaimBonusResult(a, i), t._spine._claimed = a._isClaimed, e._activeProgBar.update(P._dailyActive), P.sendDailyBonusDirty()
                        } else d.ActiveChestForm.create(n, a, p.lcStr(u.STR.ACTIVE_BONUS))
                    }, this._activeBonuses, !0);
                    e._activeProgBar.update(P._dailyActive), r.noxcc.find("CharacterGrowingUpPage/progress", this.getRoot()).addChild(o.node)
                }, t.prototype.refreshView = function () {
                    r.noxcc.setLabelString(this._activeNumLabel, g.nox.toString(P._dailyActive)), this._activeProgBar.update(P._dailyActive)
                }, t.prototype.refreshTasks = function () {
                    var e = 0, t = 0;
                    for (var n in P._playerBonus._bonusFundTasks) {
                        var a = P._playerBonus._bonusFundTasks[n];
                        if (a && !a._isClaimed && (t = Math.max(this._bonusWidgets[e].runActionUpdateBonus(a, t), t), ++e > 5)) break
                    }
                    for (; e < 5; ++e) t = Math.max(this._bonusWidgets[e].runActionUpdateBonus(null, t), t);
                    return t
                }, t
            }(i.BasePage);
        n.DailyTaskPage = y, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/ActiveChestForm": "ActiveChestForm",
        "../../node/BoxProgressBar": "BoxProgressBar",
        "../../widget/FundTaskWidget": "FundTaskWidget",
        "../FundTaskPanel": "FundTaskPanel"
    }],
    DateBonusItem: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c038beLlJBL25RgR5KsW3kD", "DateBonusItem");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../BaseComponent"), o = e("../../widget/IconWidget"), r = e("../../../../nox"),
            _ = e("../../../utils/SpriteUtil"), s = e("../../../config/UICfg"), c = e("../../../utils/UIUtil"),
            l = e("../../../../leocool/lcStr"), d = e("../../../StringEnums"), p = e("../../../../leocool/lc"),
            u = e("../../../../noxcc"), g = e("../../../data/data"), h = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.prototype.onEnable = function () {
                    var e = this;
                    e._listeners = [], e._listeners.push(g.Data.Event.bonus_dirty.addListener(e, function (t) {
                        e._bonus && t._bonus._type == e._bonus._type && e.updateView()
                    })), e.updateView()
                }, t.prototype.onExit = function () {
                    for (var e = 0; e < this._listeners.length; e++) this._listeners[e].remove();
                    this._listeners = []
                }, t.prototype.registerClaimHandler = function (e) {
                    this._claimHandler = e
                }, t.prototype.init = function (e, t, n) {
                    var a = this;
                    a._bonus = t;
                    var i = t._info, g = i._count;
                    a.node.addComponent(cc.Button), u.noxcc.addClick(a, function () {
                        null != a._claimHandler && a._claimHandler(t)
                    });
                    var h = o.IconWidget.create({_infoId: i._rid, _count: g}, o.IconWidget.DisplayFlag.ITEM);
                    if (h.getNameLabel().fontSize = 30, h.getNameLabel().lineHeight = 40, r.nox.V(t._checkinInfo) && t._checkinInfo._vip > 0) {
                        h.setEnabled(!1);
                        var f = _.SpriteUtil.createImageView({
                                _name: "img_com_bg_34",
                                _crect: s.UICfg.CRECT_COM_BG34,
                                _size: cc.size(100, s.UICfg.CRECT_COM_BG34.height)
                            }),
                            m = c.UIUtil.createTTF(string.format("V%d %s", t._checkinInfo._vip, l.lcStr(d.STR.DOUBLE)), s.UICfg.FontSize.S1, p.lc.Color3B.yellow);
                        m.setScale(.7), p.lc.addChildToPosLB(f, m, cc.p(p.lc.w(f) / 2, p.lc.sh(f) / 2 + 2))
                    }
                    a._icon = h, p.lc.addChildToCenter(a.node, h.node)
                }, t.prototype.updateView = function () {
                    var e;
                    if (this._bonus._isClaimed) e = _.SpriteUtil.createSprite("activity5_img_claimed"), p.lc.addChildToPosLB(this._icon.node, e.node, cc.v2(p.lc.w(e.node) / 2, p.lc.h(this._icon.node) - p.lc.h(e.node) / 2)), this.setTouchEnabled(!1), this._icon.setEnabled(!1); else if (this._bonus._value >= this._bonus._info._val) e = _.SpriteUtil.createSprite("activity5_rect_claimable"), p.lc.addChildToPosAR(this._icon.node, e.node, cc.v2(-1, 23)), this.setTouchEnabled(!0), this._icon.setTouchEnabled(!1); else {
                        for (var t = !1, n = P._playerBonus._bonusMonthCheckin, a = 0; a < n.length; a++) if (n[a]._value >= n[a]._info._val && !n[a]._isClaimed) {
                            t = !0;
                            break
                        }
                        P._dayOfMonth >= this._bonus._info._val && this._bonus._info._val - this._bonus._value == 1 && !t ? (e = _.SpriteUtil.createSprite("activity5_img_supply"), p.lc.addChildToPosLB(this._icon.node, e.node, cc.v2(p.lc.w(e.node) / 2 + 4, p.lc.h(this._icon.node) - p.lc.h(e.node) / 2 - 3)), this.setTouchEnabled(!0), this._icon.setTouchEnabled(!1)) : (this.setTouchEnabled(!1), this._icon.setTouchEnabled(!0))
                    }
                    null != e && (null != this._flag && (this._flag.destroy(), this._flag = null), this._flag = e.node)
                }, t.prototype.setTouchEnabled = function (e) {
                    null != this.node.getComponent(cc.Button) && (this.node.getComponent(cc.Button).interactable = e)
                }, t.prototype.setIconShard = function (e) {
                    var t = 0 == e ? cc.Sprite.State.GRAY : cc.Sprite.State.NORMAL;
                    this._icon._img.setState(t), this._icon._frameBox.setState(t)
                }, t.create = function (e, n, a) {
                    var i = u.noxcc.newNode("DateBonusItem");
                    i.setContentSize(e), i.setAnchorPoint(.5, .5), i.setScale(.7, .7);
                    var o = i.addComponent(t);
                    return o.init(n, a, e), o
                }, t
            }(i.BaseComponent);
        n.DateBonusItem = h, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../BaseComponent": "BaseComponent",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../widget/IconWidget": "IconWidget"
    }],
    DepotForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b7676/5ut9MIp0MGJmyBW6N", "DepotForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("../widget/DepotWidget"), c = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.DepotForm) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._type = e, this._type, _.Data.PropsType.ball
                }, t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("bg/close_btn", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn);
                    var e = r.noxcc.find("bg/depot", this.getRootNode()),
                        t = s.DepotWidget.create(cc.size(1070, 670), 5, !0);
                    e.addChild(t.getRoot()), this._depotWidget = t, this._depotWidget._callback = this.mCallback, this.updateView()
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this._listeners = [], this._listeners.push(_.Data.Event.prop_dirty.addListener(t, function () {
                        t._depotWidget.refreshItemList()
                    }))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    _.Data.Event.exchange_res_done.dispatchEvent(), e.prototype.onExit.call(this)
                }, t.prototype.updateView = function () {
                    this.prepareData(), this._depotWidget.setData(this._props)
                }, t.prototype.prepareData = function () {
                    var e = [];
                    for (var t in P._propBag._props) {
                        var n = P._propBag._props[t];
                        n._info._type > 0 && n._info._rank > 0 && n._info._type == this._type && e.push(n)
                    }
                    e.sort(function (e, t) {
                        return e._info._rank - t._info._rank
                    }), this._props = e
                }, t.prototype.setUseCallback = function (e) {
                    this.mCallback = e
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.DepotForm = c, cc._RF.pop()
    }, {
        "../../../noxcc": "noxcc",
        "../../data/data": "data",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/DepotWidget": "DepotWidget"
    }],
    DepotWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "15cffP1Vx5HEon9LaPREekW", "DepotWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../noxcc"), o = e("../../StaticPrefabMgr"), r = e("../../ClientView"), _ = e("./IconWidget"),
            s = e("../../utils/MsgCenter"), c = e("../../../leocool/lc"), l = e("../../utils/UIUtil"),
            d = e("../../config/UICfg"), p = e("../../ClientData"), u = e("../../utils/RichTextUtil"),
            g = e("../../../leocool/lcStr"), h = e("../../StringEnums"), f = e("../../utils/SpriteUtil"),
            m = e("../../data/data"), y = e("../../ToastManager"), T = e("../../part/UserPart"), S = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this._rowCount = t || 5, this._descNoBg = n, this._iconNode = i.noxcc.find("props_Node/view/content", this.getRoot()), this._descNode = i.noxcc.find("right_content", this.getRoot()), this._noneNode = i.noxcc.find("none_text", this.getRoot()), this._descIconNode = i.noxcc.find("Article/icon", this._descNode), this._descContentNode = i.noxcc.find("Thatbox_BG/view/content", this._descNode), this._btnUseOnce = i.noxcc.findButton("With_Button", this._descNode), this._btnUseTimes = i.noxcc.findButton("With_Button1", this._descNode), this._btnChangeBall = i.noxcc.findButton("With_Button2", this._descNode), this._descNoBg && (this._descNode.x = this._descNode.x + 80)
                }, t.prototype.onLoad = function () {
                    var t = this;
                    e.prototype.onLoad.call(this), i.noxcc.addClick(this._btnUseOnce, t, function () {
                        t.openBox(1)
                    }), i.noxcc.addClick(this._btnUseTimes, t, function () {
                        t.openBox(t._times)
                    }), i.noxcc.addClick(this._btnChangeBall, t, function () {
                        t.setBall(), t._callback && t._callback(t._selectedId)
                    })
                }, t.prototype.setUseCallback = function (e) {
                    this._callback = e
                }, t.prototype.updateDescArea = function () {
                    if (this._props.length > 0) {
                        this._descNode.x += this._descNode.width, this._descNode.runAction(c.lc.moveTo(.2, cc.v2(this._descNode.x - this._descNode.width, this._descNode.y)).easing(cc.easeSineOut())), this._descIconNode.removeAllChildren();
                        var e = i.noxcc.find("bg", this._descNode);
                        this._descNoBg && (e.active = !1), this._btnUseOnce.node.active = !1, this._btnUseTimes.node.active = !1;
                        var t = _.IconWidget.create(this._selectedId, _.IconWidget.DisplayFlag.ITEM_NO_NAME);
                        t.registCallback(function () {
                        });
                        var n = i.noxcc.find("Article/name", this._descNode),
                            a = l.UIUtil.createTTF(p.ClientData.getNameByInfoId(this._selectedId._infoId), d.UICfg.FontSize.S1, d.UICfg.COLOR_TEXT_WHITE);
                        a.width = 180, a._label.overflow = cc.Label.Overflow.RESIZE_HEIGHT, n.removeAllChildren(), c.lc.addChildToPosLB(n, a, cc.v2(0, n.height / 2)), a.setAnchorPoint(0, .5), c.lc.addChildToPosLB(this._descIconNode, t.getRoot(), cc.v2(c.lc.cw(this._descIconNode), c.lc.ch(this._descIconNode)));
                        var o = i.noxcc.find("item", this._descContentNode);
                        o.removeAllChildren();
                        var r = u.RichTextUtil.createBoldRichText(g.lcStr(this._selectedId._info._descSid), {
                            _normalClr: d.UICfg.COLOR_TEXT_LIGHT,
                            _boldClr: d.UICfg.COLOR_TEXT_PURPLE,
                            _fontSize: d.UICfg.FontSize.S3
                        }, 300).node;
                        c.lc.addChildToPosLB(o, r, cc.v2(c.lc.cw(r), 0));
                        var s = i.noxcc.find("path", this._descContentNode);
                        s.removeAllChildren();
                        var y = u.RichTextUtil.createLabel(g.lcStr(h.STR.GET_PATH), d.UICfg.TTF_FONT, d.UICfg.FontSize.S1).node;
                        y.color = d.UICfg.COLOR_TEXT_ORANGE, c.lc.addChildToPosAR(s, y, cc.v2(0, c.lc.ch(y)));
                        var T = this._selectedId._info._pathSid, S = g.lcStr(T).split("/"),
                            C = i.noxcc.find("path_item", this._descContentNode);
                        C.removeAllChildren();
                        for (var v = 0; v < S.length; v++) {
                            var b = i.noxcc.newNode(), E = f.SpriteUtil.createSprite("img_circle_num" + [v + 1]).node,
                                I = u.RichTextUtil.createBoldRichText(S[v], {
                                    _normalClr: d.UICfg.COLOR_TEXT_LIGHT,
                                    _boldClr: d.UICfg.COLOR_TEXT_GREEN,
                                    _fontSize: d.UICfg.FontSize.S3
                                }, 270).node;
                            c.lc.addChildToPosLB(b, E, cc.v2(c.lc.cw(E), 0)), c.lc.addChildToPosLB(b, I, cc.v2(c.lc.cw(E) + c.lc.cw(I) + 15, 0)), c.lc.addChildToPosLB(C, b, cc.v2(b.width / 2, 0))
                        }
                        if (m.Data.getType(this._selectedId._infoId) == m.Data.CardType.props) if (m.Data.getInfo(this._selectedId._infoId)._id == m.Data.PropsId.vip_card) cc.assert(!1, "no implemetation"); else if (this._selectedId._info._type == m.Data.PropsType.box) {
                            this._btnUseOnce.node.active = !0, this._btnUseTimes.node.active = !0, this._times = Math.max(1, Math.min(10, this._selectedId._num)), this._selectedId._num > 300 && (this._times = 50);
                            var P = this._btnUseOnce.getComponentInChildren(cc.Label),
                                A = this._btnUseTimes.getComponentInChildren(cc.Label);
                            P.string = string.format(g.lcStr(h.STR.USE_TIMES), 1), A.string = string.format(g.lcStr(h.STR.USE_TIMES), this._times)
                        } else this._selectedId._info._type == m.Data.PropsType.ball && this._descNoBg && (this._btnUseOnce.node.active = !1, this._btnUseTimes.node.active = !1, this._btnChangeBall.node.active = !0)
                    }
                }, t.prototype.refreshItemList = function () {
                    var e = this;
                    if (e._iconNode.removeAllChildren(), e._itemIcon = [], 0 == e._props.length) e._descNode.active = !1, e._noneNode.active = !0; else {
                        e._descNode.active = !0, e._noneNode.active = !1;
                        for (var t = function (t) {
                            e._itemIcon[t] = _.IconWidget.create(e._props[t], _.IconWidget.DisplayFlag.ITEM);
                            var n = f.SpriteUtil.createSprite("card_icon_focused").node;
                            n.name = "focused", c.lc.addChildToPosAR(e._itemIcon[t].node, n, cc.v2(0, e._itemIcon[t].getNameLabel().node.height - 1), -1), i.noxcc.find("focused", e._itemIcon[t].getRoot()).active = e._selectedId == e._props[t], e._itemIcon[t].setNameColor(d.UICfg.COLOR_TEXT_WHITE), e._itemIcon[t].registCallback(function () {
                                e._selectedId = e._props[t];
                                for (var n = 0; n < e._props.length; n++) i.noxcc.find("focused", e._itemIcon[n].getRoot()).active = e._itemIcon[n] == e._itemIcon[t];
                                e.updateDescArea()
                            }), c.lc.addChildToPosLB(e._iconNode, e._itemIcon[t].getRoot(), cc.v2(0, 0))
                        }, n = 0; n < e._props.length; n++) t(n)
                    }
                }, t.prototype.openBox = function (e) {
                    m.Data.getInfo(this._selectedId._infoId)._type == m.Data.PropsType.box && (0 == e && (e = 1), P._propBag.useProp(this._selectedId, e) == m.Data.ErrorType.ok ? (r.ClientView.getActiveIndicator().show(g.lcStr(h.STR.OPENING), null, {
                        _prop: this._selectedId,
                        _useCount: e
                    }), T.UserPart.sendUseLevelCard(this._selectedId._infoId, e), r.ClientView.getActiveIndicator().hide(), this.refreshItemList(), this.refreshItems(), this.updateDescArea()) : y.ToastManager.push(string.format(g.lcStr(h.STR.NOT_ENOUGH), g.lcStr(h.STR.PROPS_TYPE_BOX))))
                }, t.prototype.setBall = function () {
                    P.changeBall(this._selectedId._infoId)
                }, t.prototype.getCurBall = function () {
                    return this._selectedId._infoId
                }, t.prototype.setAvatar = function () {
                    P.changeIcon(this._selectedId._infoId) && (T.UserPart.sendSetAvatar(this._selectedId._infoId), y.ToastManager.push(g.lcStr(h.STR.SUCCESS)))
                }, t.prototype.setAvatarFrame = function () {
                    P.changeAvatarFrame(this._selectedId._infoId) && (T.UserPart.sendSetAvatarFrame(this._selectedId._infoId), y.ToastManager.push(g.lcStr(h.STR.SUCCESS)))
                }, t.prototype.setCardBack = function () {
                    P.changeCardBack(this._selectedId._infoId) && (T.UserPart.sendSetCardBack(this._selectedId._infoId), y.ToastManager.push(g.lcStr(h.STR.SUCCESS)))
                }, t.prototype.refreshItems = function () {
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this), this._listeners = []
                }, t.prototype.onDisable = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], s.MsgCenter.removeMsgListener(this), e.prototype.onDisable.call(this)
                }, t.prototype.setData = function (e) {
                    this._props = e, e.length > 0 ? this._selectedId = e[0] : this._selectedId = null, this.refreshItemList(), this.updateDescArea()
                }, t.create = function (e, n, a) {
                    var r = i.noxcc.instantiate(o.StaticPrefabMgr.getDepotWidgetPrefab()).addComponent(t);
                    return r.init(e, n, a), r
                }, t
            }(e("../../BaseComponent").BaseComponent);
        n.DepotWidget = S, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "./IconWidget": "IconWidget"
    }],
    DescForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "34cefh6/4JCCpbSlBc5QCa1", "DescForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../../../leocool/lc"), o = e("../../const/SceneId"),
            r = e("../widget/IconWidget"), _ = e("../../utils/UIUtil"), s = e("../../ClientData"),
            c = e("../../config/UICfg"), l = e("../../utils/SpriteUtil"), d = e("../../../leocool/lcStr"),
            p = e("../../ClientView"), u = e("../../StringEnums"), g = e("../node/NodeWithListView"),
            h = e("../AllViewTypes"), f = e("../../utils/RichTextUtil"), m = e("../../utils/TimeUtil"),
            y = e("../../GuideManager"), T = e("../../utils/MsgCenter"), S = e("../panel/RewardPanel"),
            C = e("../../ToastManager"), v = e("../../part/ClashPart"), b = e("../../data/data"),
            E = e("../../scene/SceneManager"), I = cc.size(560, 250), A = function (e) {
                function t() {
                    return e.call(this, h.AllViewTypes.DescForm) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._data = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = this._data, a = b.Data.getInfo(n._infoId), p = b.Data.getType(n._infoId), h = 30,
                        y = E.SceneManager.getRunningSceneId() == o.SceneId.depot,
                        T = i.lc.D(n._showOwnCount, null != n._count), S = P.getItemCount(n._infoId), C = n._count;
                    T || (C = S);
                    var v = r.IconWidget.create({_infoId: n._infoId, _count: C}, r.IconWidget.DisplayFlag.COUNT);
                    v.setTouchEnabled(!1), this._iconMarginTop = h, this._icon = v;
                    var A = l.SpriteUtil.createSprite({
                        _name: "img_com_bg_2",
                        _crect: c.UICfg.CRECT_COM_BG2,
                        _size: cc.size(I.width - i.lc.w(v.getRoot()), 40)
                    }).node;
                    A.color = i.lc.Color3B.black, A.opacity = 100;
                    var R = _.UIUtil.createTTF(s.ClientData.getNameByInfoId(n._infoId), c.UICfg.FontSize.S1, c.UICfg.COLOR_TEXT_LIGHT);
                    i.lc.addChildToPosLB(A, R, cc.p(20 + i.lc.cw(R), i.lc.ch(A) - 1));
                    var B, N = d.lcStr(a._descSid);
                    B = N.indexOf("|") >= 0 ? f.RichTextUtil.createBoldRichText(N, c.UICfg.RICHTEXT_PARAM_LIGHT_S1, 440).node : f.RichTextUtil.createTTF(N, c.UICfg.FontSize.S1, c.UICfg.COLOR_TEXT_LIGHT, cc.size(440, 0)).node, h += Math.max(i.lc.h(v.getRoot()), 60 + B.height), this._pathMarginTop = h + 20;
                    var D = g.NodeWithListView.createV(cc.size(I.width, I.height - 14));
                    D.setAnchorPoint(.5, .5), l.SpriteUtil.addScale9Sprite(D, "img_com_bg_58");
                    var U = string.splitByChar(d.lcStr(a._pathSid), "/"), M = 50 + 32 * U.length,
                        k = i.lc.createNode(cc.size(i.lc.w(D), M)),
                        L = f.RichTextUtil.createLabel(d.lcStr(u.STR.GET_PATH), c.UICfg.TTF_FONT, c.UICfg.FontSize.S1).node;
                    L.color = c.UICfg.COLOR_TEXT_ORANGE, i.lc.addChildToPosLB(k, L, cc.p(i.lc.cw(k), M - 16));
                    for (var O = M - 50, x = 0; x < U.length; x++) {
                        var w = U[x], F = f.RichTextUtil.createBoldRichText(w, {
                            _normalClr: c.UICfg.COLOR_TEXT_LIGHT,
                            _boldClr: null,
                            _fontSize: c.UICfg.FontSize.S1
                        }, 400).node;
                        F.getComponent(cc.RichText).horizontalAlign = cc.macro.TextAlignment.CENTER, i.lc.addChildToPosLB(k, F, cc.p(i.lc.cw(k), O - 16)), O -= 32
                    }
                    D.pushBackCustomItem(k), h = h + 20 + i.lc.h(D) + 30 + 0, y && p == b.Data.CardType.props && (a._type == b.Data.PropsType.box ? h = h + 20 + l.SpriteUtil.frameFullSize("img_btn_1").height : a._id == b.Data.PropsId.vip_card && (h = h + 60 + l.SpriteUtil.frameFullSize("img_btn_1").height));
                    var V = cc.size(620, h);
                    this.getRootNode().setContentSize(V);
                    var H, G = t.getRootNode();
                    if (i.lc.addChildToPosLB(G, v.getRoot(), cc.p(30 + i.lc.cw(v.getRoot()), h - i.lc.h(v.getRoot()) / 2 - t._iconMarginTop)), i.lc.addChildToPosAR(G, A, cc.p(i.lc.right(v.getRoot()) + i.lc.cw(A), i.lc.top(v.getRoot()) - i.lc.ch(A))), i.lc.addChildToPosAR(G, B, cc.p(i.lc.right(v.getRoot()) + 20 + i.lc.cw(B), i.lc.top(v.getRoot()) - 60 - i.lc.ch(B) + 10)), i.lc.addChildToPosLB(G, D, cc.p(i.lc.cw(G), h - t._pathMarginTop - i.lc.ch(D))), y) {
                        if (p == b.Data.CardType.props && (a._type == b.Data.PropsType.box ? H = this.openBox.bind(t) : a._id == b.Data.PropsId.vip_card && cc.assert(!1, "no implemetation"), H)) {
                            var W = _.UIUtil.createScale9ShaderButton("img_btn_green", function () {
                                H(n, 1)
                            }, c.UICfg.CRECT_BUTTON, 150);
                            W.addLabel(string.format(d.lcStr(u.STR.USE_TIMES), 1)), i.lc.addChildToPosLB(G, W, cc.p(i.lc.cw(G) - 100, 30 + i.lc.ch(W)));
                            var Y = Math.min(10, n._count),
                                K = _.UIUtil.createScale9ShaderButton("img_btn_green", function () {
                                    H(n, t._useMultiTimes)
                                }, c.UICfg.CRECT_BUTTON, 150);
                            K.addLabel(string.format(d.lcStr(u.STR.USE_TIMES), Y)), i.lc.addChildToPosAR(G, K, cc.p(100, i.lc.y(W))), this._useMultiTimes = Y, this._btnUseMulti = K
                        }
                    } else if (b.Data.isCardBack(n._infoId) || b.Data.isAvatarFrame(n._infoId)) {
                        var z = S > 0 ? d.lcStr(u.STR.UNLOCKED) : d.lcStr(u.STR.LOCK),
                            j = _.UIUtil.createTTF(z, c.UICfg.FontSize.S1, S > 0 ? c.UICfg.COLOR_LABEL_LIGHT : c.UICfg.COLOR_TEXT_RED_DARK);
                        i.lc.addChildToPosAR(G, j, cc.p(i.lc.w(G) - i.lc.aw(G) - i.lc.cw(j) - 80, i.lc.y(A)))
                    } else if (null != S && S >= 0) {
                        var q = void 0;
                        if (b.Data.isUnionRes(n._infoId)) {
                            P._playerUnion.getMyUnion();
                            if (n._infoId == b.Data.ResType.union_act) {
                                var X = P._playerUnion.getUnionUpgradeExp(), Z = X[0], J = X[1], Q = "";
                                Q = Z ? d.lcStr(u.STR.UNION_LEVEL_MAX) : string.format("(%s: %s)", d.lcStr(u.STR.UNION_EXP_MAX), J), q = _.UIUtil.createTTF(Q, c.UICfg.FontSize.S1, c.UICfg.COLOR_LABEL_LIGHT)
                            } else q = _.UIUtil.createTTF(string.format("(%s: %s)", d.lcStr(u.STR.MAX), P._playerUnion.getMaxResource(n._infoId)), c.UICfg.FontSize.S1, c.UICfg.COLOR_LABEL_LIGHT)
                        } else T && (q = _.UIUtil.createTTF(string.format("(%s: %s)", d.lcStr(u.STR.CURRENT_OWN), m.TimeUtil.formatNum(S, 9999)), c.UICfg.FontSize.S1, c.UICfg.COLOR_LABEL_LIGHT));
                        q && i.lc.addChildToPosAR(G, q, cc.p(i.lc.w(G) - i.lc.aw(G) - i.lc.cw(q) - 60, i.lc.y(A)))
                    }
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onOpening = function () {
                    e.prototype.onOpening.call(this), "leave claim" == y.GuideManager.getCurStepName() && y.GuideManager.pauseGuide()
                }, t.prototype.onClosing = function () {
                    e.prototype.onClosing.call(this), "leave claim" == y.GuideManager.getCurStepName() && y.GuideManager.resumeGuide()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    T.MsgCenter.addMsgListener(this, function (e) {
                        return t.onMsg(e)
                    }, 0)
                }, t.prototype.onExit = function () {
                    T.MsgCenter.removeMsgListener(this), y.GuideManager.resumeGuide(), e.prototype.onExit.call(this)
                }, t.prototype.openBox = function (e, t) {
                    b.Data.getInfo(e._infoId)._type == b.Data.PropsType.box && (0 == t && (t = 1), P._propBag.useProp(e, t) == b.Data.ErrorType.ok ? (p.ClientView.getActiveIndicator().show(d.lcStr(u.STR.OPENING), null, {
                        _prop: e,
                        _useCount: t
                    }), v.ClashPart.sendOpenBox(e._infoId, t)) : C.ToastManager.push(string.format(d.lcStr(u.STR.NOT_ENOUGH), d.lcStr(u.STR.PROPS_TYPE_BOX))))
                }, t.prototype.onPropUsed = function (e, t) {
                    var n = this;
                    e._count = e._count - t, this._icon.resetData(e), this._btnUseMulti && e._count < 10 && (this._btnUseMulti._label.setString(string.format(d.lcStr(u.STR.USE_TIMES), e._count)), this._useMultiTimes = e._count), 0 == e._count && (e._infoId == b.Data.PropsId.vip_card ? this.getRootNode().runAction(i.lc.sequence(1.5, function () {
                        n.hide()
                    })) : this.hide()), b.Data.Event.use_prop.dispatchEvent({prop: e, count: t})
                }, t.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_CHEST) {
                        var n = e.getExtensions_User_pb_SglUserMsg_user_open_chest_resp(),
                            a = p.ClientView.getActiveIndicator().hide();
                        return S.RewardPanel.create(n, S.RewardPanel.MODE_CHEST).show(), this.onPropUsed(a._prop, a._useCount), !0
                    }
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_BOX) {
                        n = e.getExtensions_User_pb_SglUserMsg_user_open_box_resp();
                        S.RewardPanel.create(n, S.RewardPanel.MODE_CHEST).show()
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_HALLOWEEN_OPEN_BOX) {
                        p.ClientView.getActiveIndicator().hide();
                        a = [];
                        return (n = e.getExtensions_User_pb_SglUserMsg_user_open_box_halloween_resp()).info_id && (a[a.length] = {
                            info_id: n.info_id,
                            num: n.num,
                            level: 1
                        }), S.RewardPanel.create(a, S.RewardPanel.MODE_LOTTERY).show(), !0
                    }
                    return !1
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BaseForm);
        n.DescForm = A, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../data/data": "data",
        "../../part/ClashPart": "ClashPart",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithListView": "NodeWithListView",
        "../panel/RewardPanel": "RewardPanel",
        "../widget/IconWidget": "IconWidget"
    }],
    Dialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d45ceoHejdPKbv4VdM1lGqw", "Dialog");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../config/UICfg"),
            s = e("../../utils/RichTextUtil"), c = e("../../../leocool/lcStr"), l = e("../../StringEnums"),
            d = e("../../const/ViewConst"), p = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.Dialog) || this;
                    return t.mIsNeedAdjustView = !1, t
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this.mMessage = e, this.mOkHandler = t, this.mNoCancel = n, this.mOKString = c.lcStr(l.STR.OK), this.mCancelString = c.lcStr(l.STR.CANCEL)
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mCloseButton = r.noxcc.findButton("Close", this.mRoot), this.mOKButton = r.noxcc.findButton("Content/Buttons/OK", this.mRoot), this.mOKLabel = this.mOKButton.getComponentInChildren(cc.Label), this.mCancelButton = r.noxcc.findButton("Content/Buttons/Cancel", this.mRoot), this.mCancelLabel = this.mCancelButton.getComponentInChildren(cc.Label), this.mMessageRichText = r.noxcc.findRichText("Content/InputBg/Message", this.mRoot), r.noxcc.addClick(this.mOKButton, this, this.onOKButton), r.noxcc.addClick(this.mCancelButton, this, this.onCancelButton), r.noxcc.addClick(this.mCloseButton, this, this.onCloseButton), this.mIsNeedAdjustView && this.mRoot.setPosition(d.ViewConst.SCR_CW, d.ViewConst.SCR_CH)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.mNoCancel && (this.mCancelButton.node.active = !1), this.mMessageRichText.string = s.RichTextUtil.createBoldBBCodeMultiline(this.mMessage, _.UICfg.RICHTEXT_PARAM_LIGHT_S1), this.setOKText(this.mOKString), this.setCancelText(this.mCancelString)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onOKButton = function () {
                    this.close(!0)
                }, t.prototype.onCancelButton = function () {
                    this.close(!1)
                }, t.prototype.onCloseButton = function () {
                    this.close(!1)
                }, t.prototype.setOKText = function (e) {
                    this.mOKString = e, this.mOKLabel && (this.mOKLabel.string = e)
                }, t.prototype.setCancelText = function (e) {
                    this.mCancelString = e, this.mCancelLabel && (this.mCancelLabel.string = e)
                }, t.prototype.setCancelHandler = function (e) {
                    this.mCancelHandler = e
                }, t.prototype.adjustViewInBattle = function () {
                    this.mIsNeedAdjustView = !0
                }, t.prototype.hide = function () {
                    e.prototype.hide.call(this), this.mCancelHandler && this.mOpenCloseCancelHanlder && this.mCancelHandler()
                }, t.prototype.close = function (e) {
                    this.mOKButton && (this.mOKButton.interactable = !1), this.mCancelButton && (this.mCancelButton.interactable = !1), this.hide(), e ? this.mOkHandler && this.mOkHandler() : this.mCancelHandler && this.mCancelHandler()
                }, t.showDialog = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i.show(), i
                }, t.showIosDialog = function () {
                    var e = new t;
                    return e.init(c.lcStr(70040), function () {
                        window.location.reload()
                    }, !0), e.mCancelHandler = function () {
                        window.location.reload()
                    }, e.mOpenCloseCancelHanlder = !0, e.show(), e
                }, t
            }(i.BaseForm);
        n.Dialog = p, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    DropLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a5f29ViespHYZ1e/zKgKHf8", "DropLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../ui/widget/MaskLayer"), i = e("../data/BattleData"), o = e("./PlayerUi"),
            r = e("../../ui/node/NodeWithLabel"), _ = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    t._battleUi = null, t._maskNode.color = cc.color(0, 0, 0), r.NodeWithLabel.createWithTTF("", "", 24);
                    return t
                }

                return __extends(t, e), t.create = function (e) {
                    var n = new t;
                    return n._battleUi = e, n
                }, t.prototype.onTouchBegan = function (e) {
                    var t = this._battleUi.getTouchedCard(e);
                    return this._battleUi._touchCard = null, null != t && t._card._status == i.default.CardStatus.hand && 39999 != t._card._infoId && (this._battleUi._touchCard = t), null != this._battleUi._touchCard && this._battleUi._touchCard.onTouchBegan(e), !0
                }, t.prototype.onTouchMoved = function (e) {
                    var t = this._battleUi._touchCard;
                    null != t && t.onTouchMoved(e)
                }, t.prototype.onTouchEnded = function (e) {
                    var t = this._battleUi._touchCard;
                    if (null != t) {
                        var n = t._ownerUi;
                        t.onTouchEnded(e), this._battleUi._isAddingBoardCard ? n.playAction(t, o.PlayerUi.Action.replace_hand_card, 0, 1) : o.PlayerUi.Pos.use_area <= e.getLocation().y && (n.sendEvent(o.PlayerUi.EventType.send_use_card, {
                            _val: i.default.UseCardType.drop,
                            _ids: [t._card._id]
                        }), this._battleUi.hideDropHand())
                    }
                }, t.prototype.onTouchCanceled = function () {
                    this._battleUi.hideDropHand()
                }, t
            }(a.MaskLayer);
        n.DropLayer = _, cc._RF.pop()
    }, {
        "../../ui/node/NodeWithLabel": "NodeWithLabel",
        "../../ui/widget/MaskLayer": "MaskLayer",
        "../data/BattleData": "BattleData",
        "./PlayerUi": "PlayerUi"
    }],
    DuelCityPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7965a4k2btMEr3AoZrHRWoQ", "DuelCityPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendWorldFindRoom = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_EX;
                var o = i.addExtensions_World_pb_SglWorldMsg_world_find_ex_req();
                o.troop_id = e, o.type = t, o.room_id = n, a.NetUtil.sendProtoMsg(i)
            }, e.sendFindRoom = function (e, t, n, i) {
                var o = SglMsg_pb.SglReqMsg.create();
                o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_ROOM_MATCH;
                var r = o.addExtensions_World_pb_SglWorldMsg_world_find_ex_req();
                r.troop_id = e, r.type = t, r.user_id = i, r.room_id = n, a.NetUtil.sendProtoMsg(o)
            }, e.sendClashSync = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE, a.NetUtil.sendProtoMsg(e)
            }, e.sendClashResetLadderLose = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_RESET_LADDER_LOSE, a.NetUtil.sendProtoMsg(e)
            }, e.sendDuelCityBuyTicket = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_BUY_TICKET, t.setExtensions_World_pb_SglWorldMsg_duel_city_buy_ticket_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendDuelCitySelectCharacter = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_SELECT_CHAR, t.setExtensions_World_pb_SglWorldMsg_duel_city_select_char_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendDuelCitySelectCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_SELECT_CARD, t.setExtensions_World_pb_SglWorldMsg_duel_city_select_card_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendDuelCityQuit = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_QUIT, a.NetUtil.sendProtoMsg(e)
            }, e.sendDuelCityQuitEx = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_ROOM_KICK;
                var i = n.addExtensions_World_pb_SglWorldMsg_duel_city_quit_req();
                i.room_id = e, i.user_id = t, a.NetUtil.sendProtoMsg(n)
            }
        })(n.DuelCityPart || (n.DuelCityPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    EditBoxNode: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cfc62EhbgJFWZRO7Fx0XJq8", "EditBoxNode");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../utils/SpriteUtil"), o = e("../../config/UICfg"), r = e("../../../leocool/lc"),
            _ = e("./NodeWithLabel"), s = e("../../../noxcc"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n, a, _, c) {
                    this.setContentSize(n);
                    var l = i.SpriteUtil.addScale9Sprite(this, e, t);
                    l.node.name = "BACKGROUND_SPRITE";
                    var d = s.noxcc.newNode("TEXT_LABEL").addComponent(cc.Label);
                    if (d.node.anchorX = 0, d.horizontalAlign = cc.Label.HorizontalAlign.LEFT, d.node.parent = this, r.lc.addFullSizeWidget(d.node), d.getComponent(cc.Widget).left = 2, a) {
                        var p = s.noxcc.newNode("PLACEHOLDER_LABEL").addComponent(cc.Label);
                        p.node.anchorX = 0, p.horizontalAlign = cc.Label.HorizontalAlign.LEFT, p.node.parent = this, r.lc.addFullSizeWidget(p.node), p.getComponent(cc.Widget).left = 2
                    }
                    var u = this._editBox = this.addComponent(cc.EditBox);
                    u.background = l, _ ? (u.inputMode = cc.EditBox.InputMode.SINGLE_LINE, u.returnType = cc.EditBox.KeyboardReturnType.DONE) : u.returnType = cc.EditBox.KeyboardReturnType.DEFAULT, u.inputFlag = cc.EditBox.InputFlag.INITIAL_CAPS_SENTENCE, u.fontSize = o.UICfg.FontSize.S1, u.lineHeight = u.fontSize, u.fontColor = r.lc.Color4B.black, c && (u.maxLength = c), a && (u.placeholder = a, u.placeholderFontSize = o.UICfg.FontSize.S2, u.placeholderFontColor = r.lc.Color3B.gray)
                }, t.prototype.isValidName = function (e) {
                    e = r.lc.D(e, 190);
                    var t = string.trim(this._editBox.string);
                    if ("" == t) return !1;
                    var n = _.NodeWithLabel.createTTF(t, o.UICfg.FontSize.S1), a = r.lc.w(n);
                    return s.noxcc.destroy(n), a <= e
                }, t.create = function (e, n, a, i, o, r) {
                    var _ = new t;
                    return _.init(e, n, a, i, o, r), _
                }, t
            }(cc.Node);
        n.EditBoxNode = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    EffectUtils: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "795fapFdc5Aw4M4A1cuMEYI", "EffectUtils"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e.addSpine = function (e, t, n, a) {
                if ("object" == typeof t) {
                    t._crect;
                    var i = t._size;
                    t._name, i && e.setContentSize(i)
                }
                e.addComponent(sp.Skeleton)
            }
        }(n.EffectUtils || (n.EffectUtils = {})), cc._RF.pop()
    }, {}],
    EmptyPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "24831sTWA5L8rVmFBgJ46wJ", "EmptyPanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BasePanel"), i = e("../AllViewTypes"), o = function (e) {
            function t() {
                return e.call(this, i.AllViewTypes.EmptyPanel) || this
            }

            return __extends(t, e), t.create = function () {
                var e = new t;
                return e.init(), e
            }, t.prototype.init = function () {
                e.prototype.init.call(this, !1)
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this)
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t
        }(a.BasePanel);
        n.EmptyPanel = o, cc._RF.pop()
    }, {"../AllViewTypes": "AllViewTypes", "./BasePanel": "BasePanel"}],
    EnumFontSize: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "afca6qUVblN77Ns1xDlF4mQ", "EnumFontSize"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../src/game/config/UICfg");
        (function (e) {
            e[e.NULL = 0] = "NULL", e[e.B1 = 1] = "B1", e[e.B2 = 2] = "B2", e[e.M1 = 3] = "M1", e[e.M2 = 4] = "M2", e[e.S1 = 5] = "S1", e[e.S2 = 6] = "S2", e[e.S3 = 7] = "S3", e[e.S4 = 8] = "S4"
        })(n.EnumFontSize || (n.EnumFontSize = {})), n.EnumFontSizeList = [a.UICfg.FontSize.B1, a.UICfg.FontSize.B2, a.UICfg.FontSize.M1, a.UICfg.FontSize.M2, a.UICfg.FontSize.S1, a.UICfg.FontSize.S2, a.UICfg.FontSize.S3, a.UICfg.FontSize.S4], cc._RF.pop()
    }, {"../src/game/config/UICfg": "UICfg"}],
    Event: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9cf13gCdJdBj52bo0McHESb", "Event"), Object.defineProperty(n, "__esModule", {value: !0}), cc._RF.pop()
    }, {}],
    ExchangeCodeForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2e3efLk71FJp76KNUO3Vl9N", "ExchangeCodeForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lcStr"),
            s = e("../../StringEnums"), c = e("../../utils/MsgCenter"), l = e("../panel/RewardPanel"),
            d = e("../../part/UserPart"), p = e("../../ToastManager"), u = e("../../ClientView"), g = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.ExchangeCodeForm) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._isGuide = e
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), this.mMask = r.noxcc.findButton("mask", this.getRootNode()), r.noxcc.addClick(this.mCloseBtn, e, e.oncloseBtn), r.noxcc.addClick(this.mMask, e, e.oncloseBtn), r.noxcc.findLabel("tips", this.getRootNode()).string = _.lcStr(s.STR.INPUT_EXCHANGE_CODE) + " :", this.mCodeEditBox = r.noxcc.findEditBox("content", this.getRootNode());
                    var t = r.noxcc.findButton("ExchangeCode_button", this.getRootNode());
                    r.noxcc.addClick(t, e, function (t) {
                        e.onGetReWard(e.mCodeEditBox.string)
                    })
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), c.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), c.MsgCenter.removeMsgListener(this)
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CLAIM_GIFT) {
                        u.ClientView.getActiveIndicator().hide();
                        var t = e.getExtensions_User_pb_SglUserMsg_user_claim_gift_resp();
                        return l.RewardPanel.create(t).show(), !0
                    }
                    return !1
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.onGetReWard = function (e) {
                    "" == e ? p.ToastManager.push(_.lcStr(s.STR.INPUT_EXCHANGE_CODE)) : e < this.mCodeEditBox.maxLength ? p.ToastManager.push(string.format(_.lcStr(s.STR.CANNOT_MORE_THAN), e)) : (this.mCodeEditBox.string = "", u.ClientView.getActiveIndicator().show(_.lcStr(s.STR.WAITING)), d.UserPart.sendUserGiftExchange(e))
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.ExchangeCodeForm = g, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../part/UserPart": "UserPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../panel/RewardPanel": "RewardPanel"
    }],
    ExchangeResForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bcc9c7gfylOF7mhZweNET9d", "ExchangeResForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lc"),
            s = e("../../ClientData"), c = e("../../data/data"), l = e("../../StringEnums"),
            d = e("../../../leocool/lcStr"), p = e("../../utils/SpriteUtil"), u = e("../../../nox"),
            g = e("../../part/UserPart"), h = e("../../part/BuyPart"), f = e("../../../leocool/lcAppCfg"),
            m = e("../../ToastManager"), y = e("../../ClientView"), T = e("./PromptForm"),
            S = e("../../scene/SceneManager"), C = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.ExchangeResForm) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    e != c.Data.ResType.gold && e != c.Data.PropsId.dust_monster && e != c.Data.PropsId.dust_magic && e != c.Data.PropsId.dust_rare && e != c.Data.PropsId.dimension_bottle && e != c.Data.PropsId.skin_crystal && e != c.Data.PropsId.times_package_ticket && e != c.Data.PropsId.explore_token && (c.Data.PropsId.ball_begin >= e || e >= c.Data.PropsId.ball_end) && e != c.Data.PropsId.pvp_fragment && cc.assert(!1, "unknown resType: " + e), this._resType = e, this._isShowResourceUI = !0
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = r.noxcc.findLabel("Title", this.getRootNode());
                    r.noxcc.setLabelString(n, s.ClientData.getNameByInfoId(this._resType)), t._contentNode = r.noxcc.find("Content", this.getRootNode()), t._tmplNode = r.noxcc.find("tmpl_item", this._contentNode), t._tmplNode.active = !1, r.noxcc.setParent(t._tmplNode, this.getRootNode());
                    var a = r.noxcc.find("close_btn", this.getRootNode());
                    r.noxcc.addClick(a, t, function () {
                        t.hide()
                    }), this.updateBuyTimes();
                    var i = function (e, t) {
                        var n = string.format(e < 7e3 || 8022 == e ? "img_icon_res%d_s" : "img_icon_props_s%d", e);
                        p.SpriteUtil.setSprite(t, n)
                    };
                    this._exchangeInfo = [], this._exchangeInfo.length > 0 ? this._line = this._exchangeInfo.length : this._line = 3, this._arrows = [], this._ingotIcons = [], this._ingotVals = [], this._resIcons = [], this._resVals = [];
                    for (var o = function (e) {
                        var n = r.noxcc.instantiate(_._tmplNode);
                        n.active = !0, r.noxcc.setParent(n, _._contentNode), _._arrows[e] = r.noxcc.findSprite("arrow", n), _._ingotIcons[e] = r.noxcc.findSprite("left/icon", n), _._ingotVals[e] = r.noxcc.findLabel("left/text", n), _._resIcons[e] = r.noxcc.findSprite("right/icon", n), _._resVals[e] = r.noxcc.findLabel("right/text", n);
                        var a = r.noxcc.findButton("button", n), o = a.getComponentInChildren(cc.Label);
                        if (r.noxcc.setLabelString(o, d.lcStr(l.STR.EXCHANGE)), r.noxcc.addClick(a, function () {
                            t.exchange(e + 1)
                        }), _._exchangeInfo.length > 0) i(_._exchangeInfo[e]._propsID, _._ingotIcons[e]), i(_._resType, _._resIcons[e]); else i(c.Data.ResType.ingot, _._ingotIcons[e]), i(_._resType, _._resIcons[e])
                    }, _ = this, u = 0; u < this._line; u++) o(u);
                    this.updateExchange()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(c.Data.Event.vip_dirty.addListener(t, function () {
                        t.updateBuyTimes()
                    })), this._listeners.push(c.Data.Event.ingot_dirty.addListener(t, function () {
                        t.updateExchange()
                    }))
                }, t.prototype.onExit = function () {
                    this._exchangeInfo = [];
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    c.Data.Event.exchange_res_done.dispatchEvent(), e.prototype.onExit.call(this)
                }, t.prototype.exchange = function (e) {
                    var t = c.Data.ErrorType.ok;
                    (t = this._resType == c.Data.ResType.gold ? P.buyGold(e) : this._exchangeInfo.length > 0 ? P.exchangeProps(this._exchangeInfo[e - 1]) : P.buyDust(this._resType, e)) == c.Data.ErrorType.ok ? (this.updateExchange(), y.ClientView.showResChangeText(S.SceneManager.getRunningScene().getSceneNode(), this._resType, u.nox.toNumber(this._resVals[e - 1].string)), this._resType == c.Data.ResType.gold ? h.BuyPart.sendBuyGold(e) : this._exchangeInfo.length > 0 ? g.UserPart.sendExchangeProps(this._exchangeInfo[e - 1]._id) : h.BuyPart.sendBuyDust(this._resType, e), this._resType == c.Data.PropsId.pvp_fragment && cc.assert(!1, "unknown resType: " + this._resType)) : t == c.Data.ErrorType.need_more_ingot ? f.lcAppCfg.isHideCharge() ? m.ToastManager.push(string.format(d.lcStr(l.STR.NOT_ENOUGH), d.lcStr(c.Data._resInfo[c.Data.ResType.ingot]._nameSid))) : T.PromptForm.ConfirmBuyIngot.create().show() : t == c.Data.ErrorType.need_more_recruittoken ? m.ToastManager.push(d.lcStr(l.STR.EXCHANGE_LIMIT)) : t == c.Data.ErrorType.need_more_daily_buy_gold && m.ToastManager.push(string.format(d.lcStr(l.STR.NOT_ENOUGH_BUY_TIMES), d.lcStr(l.STR.BUY) + s.ClientData.getNameByInfoId(this._resType)))
                }, t.prototype.updateExchange = function () {
                    for (var e = 0; e < this._line; e++) {
                        var t = void 0, n = void 0, a = void 0;
                        if (this._resType == c.Data.ResType.gold) {
                            var i = P.getExchangeGold(e + 1);
                            t = i[0], n = i[1]
                        } else if (this._exchangeInfo.length > 0) t = this._exchangeInfo[e]._number, a = this._exchangeInfo[e]._propsID, n = this._exchangeInfo[e]._exchangeNum; else {
                            var o = P.getExchangeDust(this._resType, e + 1);
                            t = o[0], n = o[1]
                        }
                        r.noxcc.setLabelString(this._ingotVals[e], u.nox.toString(t)), this._exchangeInfo.length > 0 ? this._ingotVals[e].node.color = P._propBag.hasProps(a, t) ? _.lc.Color3B.white : _.lc.Color3B.red : this._ingotVals[e].node.color = t > P._ingot ? _.lc.Color3B.red : _.lc.Color3B.white, r.noxcc.setLabelString(this._resVals[e], u.nox.toString(n))
                    }
                    this.updateBuyTimes()
                }, t.prototype.updateBuyTimes = function () {
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.ExchangeResForm = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../part/BuyPart": "BuyPart",
        "../../part/UserPart": "UserPart",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "./PromptForm": "PromptForm"
    }],
    ExpeditionScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2edb5bGcmpMwYZdOaOOi17H", "ExpeditionScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../const/SceneId"), o = e("../../leocool/lc"), r = e("../../nox"), _ = e("../ui/panel/ChapterPanel"),
            s = e("../ui/AllViewTypes"), c = e("../../noxcc"), l = e("../data/data"), d = e("../ToastManager"),
            p = e("../../leocool/lcStr"), u = e("../StringEnums"), g = e("../GuideManager"),
            h = e("../../leocool/lcAudio"), f = e("../AudioEnums"), m = e("../ClientView"),
            y = e("../../framework/NoxResMgr"), T = e("./BaseUIScene"), S = e("./SceneManager"), C = e("../ClientData"),
            v = e("../utils/MsgHandler"), b = e("../part/GuidePart"),
            E = [cc.v2(520, 120), cc.v2(510, -240), cc.v2(-60, -180), cc.v2(-580, -190), cc.v2(-1200, -190), cc.v2(-1250, 120)],
            I = function (e) {
                function t() {
                    var t = e.call(this, i.SceneId.expedition, s.AllViewTypes.ExpeditionScene) || this;
                    return t._chapterBtns = [], t._panel = null, t._bg = null, t._listeners = [], t._isGuideOnEnter = !1, t
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.initWithLevelId = function (e) {
                    this._focusLevelId = e
                }, t.prototype.initWithLevelIdAndBool = function (e, t) {
                    this._focusLevelId = e, this._isNot = t
                }, t.prototype.onRelease = function () {
                }, t.prototype.syncData = function (t) {
                    e.prototype.syncData.call(this, t)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = c.noxcc.find("topBar/closeBtn", t.mRoot);
                    c.noxcc.addClick(n, t, function () {
                        S.SceneManager.popScene(!0)
                    });
                    var a = c.noxcc.find("topBar/img_btn_help", t.mRoot);
                    c.noxcc.addClick(a, t, function () {
                        t.onHelp()
                    }), t._bg = c.noxcc.find("chapter", t.mRoot), t._initPos = cc.v2(t._bg.x, t._bg.y), t._chapterBtns = [];
                    for (var i = function (e) {
                        var n = c.noxcc.find("chapter_" + e, t._bg);
                        c.noxcc.addClick(n, t, function () {
                            P._playerWorld.isChapterLocked(e) ? d.ToastManager.push(string.format(p.lcStr(u.STR.CHAPTER_MODE_LOCK2), e - 1, p.lcStr(l.Data._chapterInfo[e - 1]._nameSid))) : t.showChapterPanel(e)
                        }), c.noxcc.setActive(n, !0), t._chapterBtns.push(n)
                    }, o = 1; o <= r.nox.tableSize(l.Data._chapterInfo); o++) i(o)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this);
                    this._bg = null, this._panel = null, this._chapterBtns = [], this._listeners = []
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._listeners = [], t._focusLevelId && t.showChapterPanel(P._playerWorld.getChapterId(t._focusLevelId), t._focusLevelId, t._isNot), m.ClientView.getResourceUI().setMode(l.Data.PropsId.explore_token), g.GuideManager.isGuideEnabled() && g.GuideManager.finishStepLater(), t.updateChapters(), h.lcAudio.playAudio(f.AUDIO.M_EXPEDITION), "check wild" == g.GuideManager.getCurDifficultyStepName() && P.checkWild() && (P._guideDifficultyID = P._guideDifficultyID + 1, this.mRoot.runAction(o.lc.sequence(0, function () {
                        null == t._panel && t.showChapterPanel(P._playerWorld.getChapterId(P._playerWorld._curLevel[0])), t.showGuideWild()
                    })))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.showGuideWild = function () {
                    var e = this,
                        t = g.GuideManager.createNpcTipLayer(l.Data._guideInfo[P._guideDifficultyID], !0, !0, !1, 0);
                    t._closeHandler = function () {
                        P._guideDifficultyID = P._guideDifficultyID + 1, null != l.Data._guideInfo[P._guideDifficultyID] ? e.showGuideWild() : b.GuidePart.sendGuideID(P._guideDifficultyID)
                    }, g.GuideManager.addContainerLayer(t)
                }, t.prototype.showChapterPanel = function (e, t, n) {
                    var a = this;
                    if (a._panel) {
                        if (a._panel._chapterId == e) return void a.focusChapter(e - 1);
                        a._panel.hide(), a._panel = null
                    }
                    a._panel = _.ChapterPanel.create(e), a._panel.setWillRemoveCallback(function () {
                        a.unfocusChapter(), a._panel = null
                    }), a.focusChapter(e - 1)
                }, t.prototype.updateChapterPanel = function (e, t) {
                    null != this._panel && this._panel._chapterId == e && (this._panel.updateLevel(t), this._panel.focusCurLevel())
                }, t.prototype.updateChapters = function () {
                    for (var e = this, t = function (t) {
                        var n = (P._playerWorld.isChapterPassed(t) ? "chapter_name_bg_02" : P._playerWorld.isChapterLocked(t) && "chapter_name_bg_03") || "chapter_name_bg_01";
                        y.NoxResMgr.loadSpriteFrameAsync("city/" + n, function (n) {
                            var a = e._chapterBtns[t - 1].children[0];
                            n && c.noxcc.isValid(a) && c.noxcc.setSpriteFrame(a, n)
                        }), m.ClientView.checkNewFlag(e._chapterBtns[t - 1], P._playerWorld.getChapterCapturingCount(t), 28, 0)
                    }, n = 1; n <= e._chapterBtns.length; n++) t(n)
                }, t.prototype.onGuide = function (e) {
                    if ("select chapter 1" == g.GuideManager.getCurStepName()) {
                        var t = o.lc.createNode();
                        t.setContentSize(cc.size(220, 220)), t.setAnchorPoint(.5, 1), o.lc.addChildToPosAR(this.mRoot, t, cc.v2(o.lc.cw(this._chapterBtns[0]), o.lc.h(this._chapterBtns[0]))), g.GuideManager.setOperateLayer(this._chapterBtns[0], null, [t]), !0
                    } else if (string.hasPrefix(g.GuideManager.getCurStepName(), "select level")) {
                        var n = r.nox.toNumber(g.GuideManager.getCurStepName().substr(13)) - 1;
                        g.GuideManager.setOperateLayer(this._panel.levelList._btns[n]), !0
                    }
                }, t.prototype.focusChapter = function (e) {
                    this.animateTo(.5, 1.5, E[e], cc.v2((o.lc.w(this.mRoot) - 624) / 2, o.lc.ch(this.mRoot)))
                }, t.prototype.unfocusChapter = function () {
                    var e = this;
                    e._bg.runAction(o.lc.sequence(o.lc.spawn(o.lc.moveTo(.5, e._initPos), o.lc.scaleTo(.5, Math.min(1.5, Math.max(.9, 1)))), function () {
                        e.stopAnimation(!0)
                    }))
                }, t.prototype.animateTo = function (e, t, n, a) {
                    var i = this;
                    i.stopAnimation(), i._isAnimating = !0, i._bg.runAction(o.lc.sequence(o.lc.spawn(o.lc.moveTo(e, n), o.lc.scaleTo(e, Math.min(1.5, Math.max(.9, t)))), function () {
                        i.stopAnimation(!0)
                    }))
                }, t.prototype.stopAnimation = function (e) {
                    this._isAnimating = !1, this._bg.stopAllActions()
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.onHelp = function () {
                    C.ClientData.showHelpForm(null, 2)
                }, t.prototype.onMonsterExplored = function (e) {
                    var t = S.SceneManager.getRunningScene();
                    v.MsgHandler.onMonsterExploredEx(t, e), null != this._panel && this._panel.onMsgMonsterExplored()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t.createWithLevel = function (e) {
                    var n = new t;
                    return n.initWithLevelId(e), n
                }, t.createWithLevelIdAndBool = function (e, n) {
                    var a = new t;
                    return a.initWithLevelIdAndBool(e, n), a
                }, t
            }(T.BaseUIScene);
        n.ExpeditionScene = I, cc._RF.pop()
    }, {
        "../../framework/NoxResMgr": "NoxResMgr",
        "../../leocool/lc": "lc",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../part/GuidePart": "GuidePart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/ChapterPanel": "ChapterPanel",
        "../utils/MsgHandler": "MsgHandler",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    FeedbackPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1a784NrT3JK14FTU311pthW", "FeedbackPage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../form/InputForm"), r = function (e) {
            function t() {
                return e.call(this, "panel/welfare/FeedbackPage") || this
            }

            return __extends(t, e), t.prototype.onInitWidget = function () {
                this._feedBackBtn = i.noxcc.findButton("button", this.getRoot()), i.noxcc.addClick(this._feedBackBtn, function () {
                    o.InputForm.create(o.InputForm.Type.FEEDBACK).show()
                })
            }, t.prototype.onReleaseWidget = function () {
                e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this)
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t
        }(a.BasePage);
        n.FeedbackPage = r, cc._RF.pop()
    }, {"../../../../noxcc": "noxcc", "../../BasePage": "BasePage", "../../form/InputForm": "InputForm"}],
    FeedbackPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "61cde2gN3dDc4QQCwMlwpi7", "FeedbackPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendFeedback = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FEEDBACK;
                var i = n.addExtensions_Feedback_pb_SglFeedbackMsg_feedback_req();
                i.type = e, i.content = t, a.NetUtil.sendProtoMsg(n)
            }
        })(n.FeedbackPart || (n.FeedbackPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    FilterWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a8583q5+AxLPIO5SRfHBtA+", "FilterWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lcStr"), i = e("../../StringEnums"), o = e("../../data/data"),
            r = e("../../config/UICfg"), _ = e("../../../leocool/lc"), s = e("../node/NodeWithLabel"),
            c = e("../../utils/SpriteUtil"), l = e("../../../noxcc"), d = e("../panel/TopMostPanel"),
            p = e("../../BaseComponent"), u = e("../../scene/SceneManager"), g = e("../../const/SceneId"),
            h = e("../../../nox"), f = e("../../StaticPrefabMgr"), m = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.WIDGET_MAX_SIZE = cc.size(r.UICfg.AREA_MAX_WIDTH, 46), t.SORT_BTN_WIDTH = 140, t.FILTER_BTN_WIDTH = 140, t.SEARCH_INPUT_WIDTH = 80, t.POP_PANEL_SIZE = cc.size(300, 570), t.POP_PANEL_SIZE_BIG = cc.size(300, 570), t.POP_PANEL_SIZE_SMALL = cc.size(300, 285), t.FILTER_PANEL_SIZE = cc.size(810, 740), t.FILTER_PANEL_SIZE_MID = cc.size(810, 635), t.FILTER_PANEL_SIZE_SMALL = cc.size(810, 122), t
                }

                return __extends(t, e), Object.defineProperty(t, "SortFunc", {
                    get: function () {
                        return t.__SortFunc = t.__SortFunc || [null, P.sortBySerialId, P.sortByQuality, P.sortCardsByHP, P.sortCardsByNum]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "SortStr", {
                    get: function () {
                        return t.__SortStr = t.__SortStr || [null, a.lcStr(i.STR.SERIAL_ID), a.lcStr(i.STR.QUALITY), a.lcStr(i.STR.BASE_ATK), a.lcStr(i.STR.AMOUNT)]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "FilterNatureStr", {
                    get: function () {
                        return t.__FilterNatureStr = t.__FilterNatureStr || [null, a.lcStr(i.STR.ALL) + a.lcStr(i.STR.ATTRIBUTE), a.lcStr(i.STR.NATURE_GRASS), a.lcStr(i.STR.NATURE_FIRE), a.lcStr(i.STR.NATURE_WATER), a.lcStr(i.STR.NATURE_THUNDER), a.lcStr(i.STR.NATURE_PSYCHO), a.lcStr(i.STR.NATURE_MIGHT), a.lcStr(i.STR.NATURE_DARK), a.lcStr(i.STR.NATURE_STEEL), a.lcStr(i.STR.NATURE_GOD), a.lcStr(i.STR.NATURE_DRAGON), a.lcStr(i.STR.NATURE_COMMON)]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "FilterQualityStr", {
                    get: function () {
                        return t.__FilterQualityStr = t.__FilterQualityStr || [null, a.lcStr(i.STR.ALL) + a.lcStr(i.STR.QUALITY), "C", "U", "R", "RR", "SR", "HR", "UR"]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "FilterLevelStr", {
                    get: function () {
                        return t.__FilterLevelStr = t.__FilterLevelStr || [null, a.lcStr(i.STR.ALL) + a.lcStr(i.STR.CARD_LEVEL), a.lcStr(i.STR.POKEMON_LVL_0), "1", "2"]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "FilterCategoryStr", {
                    get: function () {
                        return t.__FilterCategoryStr = t.__FilterCategoryStr || [null, a.lcStr(i.STR.ALL) + a.lcStr(i.STR.CARD_CATEGORY), a.lcStr(i.STR.CARD_CATEGORY_MAGICIAN), a.lcStr(i.STR.CARD_CATEGORY_DRAGON), a.lcStr(i.STR.CARD_CATEGORY_MACHINERY), a.lcStr(i.STR.CARD_CATEGORY_DEVEL), a.lcStr(i.STR.CARD_CATEGORY_BEAST), a.lcStr(i.STR.CARD_CATEGORY_WARRIOR), a.lcStr(i.STR.CARD_CATEGORY_ROCK), a.lcStr(i.STR.CARD_CATEGORY_WATER), a.lcStr(i.STR.CARD_CATEGORY_SEA_DRAGON), a.lcStr(i.STR.CARD_CATEGORY_WORM), a.lcStr(i.STR.CARD_CATEGORY_BEAST_WARRIOR), a.lcStr(i.STR.CARD_CATEGORY_DINOSAUR), a.lcStr(i.STR.CARD_CATEGORY_BIRD_BEAST), a.lcStr(i.STR.CARD_CATEGORY_ANGLE), a.lcStr(i.STR.CARD_CATEGORY_INSECT), a.lcStr(i.STR.CARD_CATEGORY_FISH), a.lcStr(i.STR.CARD_CATEGORY_UNDEAD), a.lcStr(i.STR.CARD_CATEGORY_PLANT), a.lcStr(i.STR.CARD_CATEGORY_FIRE), a.lcStr(i.STR.CARD_CATEGORY_IMAGERY_GOD), a.lcStr(i.STR.CARD_CATEGORY_THUND)]
                    }, enumerable: !0, configurable: !0
                }), Object.defineProperty(t, "FilterMagicTypeStr", {
                    get: function () {
                        return t.__FilterMagicTypeStr = t.__FilterMagicTypeStr || [null, a.lcStr(i.STR.ALL) + a.lcStr(i.STR.TYPE), a.lcStr(i.STR.MAGICTYPE_ITEM), a.lcStr(i.STR.MAGICTYPE_EQUIP), a.lcStr(i.STR.MAGICTYPE_SPECIAL), a.lcStr(i.STR.MAGICTYPE_CHARACTOR)]
                    }, enumerable: !0, configurable: !0
                }), t.create = function (e, n) {
                    var a = l.noxcc.instantiate(f.StaticPrefabMgr.getFilterWidgetVPrefab()).addComponent(t);
                    return a.init2(e), a
                }, t.create2 = function (e, n) {
                    var a = l.noxcc.instantiate(f.StaticPrefabMgr.getFilterWidgetHPrefab()).addComponent(t);
                    return a.init2(e), a
                }, t.prototype.init = function (e) {
                    e > t.ModeType.illustration && (e -= t.ModeType.illustration, this.mIsIllustration = !0), this.mMode = e, this.mBtnSort = this.createSortButton(), this.mIsIllustration || this.mMode == t.ModeType.skin ? this.mBtnSort.node.active = !1 : this.mBtnSort.node.active = !0, this.mBtnFilter = this.createFilterButton();
                    var n = this.createSearchArea(), a = this.createSearchArea2();
                    this.mIsIllustration ? (n.active = !1, a.active = !0, this.mSearchArea = a) : (n.active = !0, a.active = !1, this.mSearchArea = n)
                }, t.prototype.init2 = function (e) {
                    e > t.ModeType.illustration && (e -= t.ModeType.illustration, this.mIsIllustration = !0), this.mMode = e, this.mBtnFilter = this.createFilterButton(), this.mBtnSort = this.createSortButton(), this.mIsIllustration || this.mMode == t.ModeType.skin ? this.mBtnSort.node.active = !1 : this.mBtnSort.node.active = !0, this.mSearchArea = this.createSearchArea()
                }, t.prototype.createSortButton = function () {
                    var e = this;
                    if (this.mSortTypes = [], u.SceneManager.getRunningSceneId() == g.SceneId.shop) for (var n = 1; n < t.SortStr.length; n++) n == t.SortType.serial_id ? this.mMode == t.ModeType.monster && this.mSortTypes.push(n) : n == t.SortType.quality ? this.mSortTypes.push(n) : n == t.SortType.life && this.mMode == t.ModeType.monster && this.mSortTypes.push(n); else for (n = 1; n < t.SortStr.length; n++) n == t.SortType.serial_id ? this.mMode == t.ModeType.monster && this.mSortTypes.push(n) : n == t.SortType.cost ? this.mSortTypes.push(n) : n == t.SortType.quality ? this.mSortTypes.push(n) : n == t.SortType.life && this.mMode == t.ModeType.monster && this.mSortTypes.push(n);
                    var a = l.noxcc.findButton("SortButton", this.node);
                    return l.noxcc.addClick(a, this, function () {
                        e.showSortTypes()
                    }), a._icon = l.noxcc.findSprite("Layout/Icon", a.node), a._label = l.noxcc.findLabel("Layout/Label", a.node), a
                }, t.prototype.createFilterButton = function () {
                    var e = this;
                    if (this.mMode == t.ModeType.monster || this.mMode == t.ModeType.rare || this.mMode == t.ModeType.skin) {
                        this.mFilterNatureTypes = [];
                        for (var n = 1; n < t.FilterNatureStr.length; n++) this.mFilterNatureTypes.push(n);
                        this.mFilterLevelTypes = [];
                        for (var a = 1; a < t.FilterLevelStr.length; a++) this.mFilterLevelTypes.push(a)
                    }
                    if (!this.mIsIllustration) {
                        this.mFilterQualityTypes = [];
                        for (var i = 1; i < t.FilterQualityStr.length; i++) this.mFilterQualityTypes.push(i)
                    }
                    if (this.mMode == t.ModeType.magic) {
                        this.mFilterMagicTypes = [];
                        for (var o = 1; o < t.FilterMagicTypeStr.length; o++) this.mFilterMagicTypes.push(o)
                    }
                    var r = l.noxcc.findButton("FilterButton", e.node);
                    return e.mFilterNatureTypes || e.mFilterCategoryTypes || e.mFilterQualityTypes || e.mFilterMagicTypes ? (l.noxcc.addClick(r, this, function () {
                        e.showFilterTypes()
                    }), r._icon = l.noxcc.findSprite("Layout/Icon", r.node), r._label = l.noxcc.findLabel("Layout/Label", r.node), r) : (r.node.active = !1, null)
                }, t.prototype.createSearchArea = function () {
                    var e = this, t = l.noxcc.find("SearchArea", this.node);
                    return t._editBox = l.noxcc.findEditBox("Layout/EditBox", t), t._button = l.noxcc.findButton("Layout/Button", t), l.noxcc.addClick(t._button, this, function () {
                        e.onSearch()
                    }), e.mSearchText = "", t
                }, t.prototype.createSearchArea2 = function () {
                    var e = this, t = l.noxcc.find("SearchArea2", this.node);
                    return t._editBox = l.noxcc.findEditBox("Layout/EditBox", t), t._button = l.noxcc.findButton("Layout/Button", t), l.noxcc.addClick(t._button, this, function () {
                        e.onSearch()
                    }), e.mSearchText = "", t
                }, t.prototype.setSort = function (e, n) {
                    if (null != this.mBtnSort && (this.mSort != e || this.mIsAscending != n)) {
                        this.mBtnSort._label;
                        this.mBtnSort._label.string = t.SortStr[e], this.mBtnSort._icon.node.angle = n ? 180 : 0, this.mSort = e, this.mIsAscending = n, this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.sort)
                    }
                }, t.prototype.getSortFunc = function () {
                    return null != this.mSort ? [t.SortFunc[this.mSort], this.mIsAscending] : [null, null]
                }, t.prototype.setFilterNature = function (e) {
                    this.mFilterNature != e && (this.mFilterNature = e, null != this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.filter_nature))
                }, t.prototype.getFilterNatureFunc = function () {
                    if (null != this.mFilterNature) {
                        var e = t.FilterNatureKeyword[this.mFilterNature - 1];
                        if (e >= 0) return [P.filterByNature, e]
                    }
                    return [null, null]
                }, t.prototype.setFilterLevel = function (e) {
                    this.mFilterLevel != e && (this.mFilterLevel = e, null != this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.filter_level))
                }, t.prototype.getFilterLevelFunc = function () {
                    if (null != this.mFilterLevel) {
                        var e = t.FilterLevelKeyword[this.mFilterLevel - 1];
                        if (e >= 0) return [P.filterByLevel, e]
                    }
                    return [null, null]
                }, t.prototype.setFilterQuality = function (e) {
                    this.mFilterQuality != e && (this.mFilterQuality = e, this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.filter_quality))
                }, t.prototype.getFilterQualityFunc = function () {
                    if (null != this.mFilterQuality) {
                        var e = t.FilterQualityKeyword[this.mFilterQuality - 1];
                        if (e >= 0) return [P.filterByQuality, e]
                    }
                    return [null, null]
                }, t.prototype.setFilterMagicType = function (e) {
                    this.mFilterMagicType != e && (this.mFilterMagicType = e, this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.filter_magictype))
                }, t.prototype.getFilterMagicTypeFunc = function () {
                    if (null != this.mFilterMagicType) {
                        var e = t.FilterMagicTypeKeyword[this.mFilterMagicType - 1];
                        if (e >= 0) return [P.filterByMagicType, e]
                    }
                    return [null, null]
                }, t.prototype.setFilterCategory = function (e) {
                    this.mFilterCategory != e && (this.mFilterCategory = e, this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.filter_category))
                }, t.prototype.getFilterCategoryFunc = function (e) {
                    if (null != this.mFilterCategory) {
                        var n = t.FilterCategoryKeyword[this.mFilterCategory - 1];
                        if (n >= 0) return [P.filterByCategory, n]
                    }
                    return [null, null]
                }, t.prototype.getFilterSearchFunc = function () {
                    return "" != this.mSearchText ? [P.filterBySearch, this.mSearchText] : [null, null]
                }, t.prototype.registerSortFilterHandler = function (e) {
                    this.mSortFilterHandler = e
                }, t.prototype.showSortTypes = function () {
                    for (var e = this, n = function (n, a) {
                        var i = s.NodeWithLabel.createBMFont(r.UICfg.BMFont.huali_26, t.SortStr[e.mSortTypes[n]]),
                            o = c.SpriteUtil.createWithSpriteFrameName("img_arrow_down_2");
                        o.node.angle = a ? 180 : 0;
                        var l = _.lc.w(i) + 6 + _.lc.w(o.node), d = _.lc.h(i), p = _.lc.createNode(cc.size(l, d));
                        return _.lc.addChildToPosLB(p, i, cc.v2(_.lc.w(i) / 2, d / 2)), _.lc.addChildToPosLB(p, o.node, cc.v2(l - _.lc.w(o.node) / 2, d / 2 + 3)), p
                    }, a = [], i = function (t) {
                        a.push({
                            _area: n(t, !0), _handler: function () {
                                e.setSort(e.mSortTypes[t], !0)
                            }
                        }), a.push({_isSeparator: !0}), a.push({
                            _area: n(t, !1), _handler: function () {
                                e.setSort(e.mSortTypes[t], !1)
                            }
                        }), t != o.mSortTypes.length - 1 && a.push({_isSeparator: !0})
                    }, o = this, l = 0; l < this.mSortTypes.length; ++l) i(l);
                    this.showPopPanel(this.mBtnSort.node, a)
                }, t.prototype.showFilterTypes = function () {
                    var e = this, n = [];
                    if (this.mFilterQualityTypes) {
                        for (var o = [], r = function (n) {
                            var a = _.mFilterQualityTypes[n];
                            o.push({
                                _str: t.FilterQualityStr[a], _handler: function () {
                                    e.setFilterQuality(a)
                                }
                            }), _.mFilterQualityTypes[n] == _.mFilterQuality && (o._curFilter = n + 1)
                        }, _ = this, s = 0; s < this.mFilterQualityTypes.length; s++) r(s);
                        o._titleStr = a.lcStr(i.STR.QUALITY), n.push(o)
                    }
                    if (this.mFilterLevelTypes) {
                        o = [];
                        var c = function (n) {
                            var a = l.mFilterLevelTypes[n];
                            o.push({
                                _str: t.FilterLevelStr[a], _handler: function () {
                                    e.setFilterLevel(a)
                                }
                            }), l.mFilterLevelTypes[n] == l.mFilterLevel && (o._curFilter = n + 1)
                        }, l = this;
                        for (s = 0; s < this.mFilterLevelTypes.length; s++) c(s);
                        o._titleStr = a.lcStr(i.STR.CARD_LEVEL), n.push(o)
                    }
                    if (null != this.mFilterNatureTypes) {
                        o = [];
                        var d = function (n) {
                            var a = p.mFilterNatureTypes[n];
                            o.push({
                                _str: t.FilterNatureStr[a], _handler: function () {
                                    e.setFilterNature(a)
                                }
                            }), p.mFilterNatureTypes[n] == p.mFilterNature && (o._curFilter = n + 1)
                        }, p = this;
                        for (s = 0; s < this.mFilterNatureTypes.length; s++) d(s);
                        o._titleStr = a.lcStr(i.STR.ATTRIBUTE), n.push(o)
                    }
                    if (null != this.mFilterMagicTypes) {
                        o = [];
                        var u = function (n) {
                            var a = g.mFilterMagicTypes[n];
                            o.push({
                                _str: t.FilterMagicTypeStr[a], _handler: function () {
                                    e.setFilterMagicType(a)
                                }
                            }), g.mFilterMagicTypes[n] == g.mFilterMagicType && (o._curFilter = n + 1)
                        }, g = this;
                        for (s = 0; s < this.mFilterMagicTypes.length; s++) u(s);
                        o._titleStr = a.lcStr(i.STR.TYPE), n.push(o)
                    }
                    this.showFilterPanel(this.mBtnFilter.node, n)
                }, t.prototype.showPopPanel = function (e, t) {
                    var n;
                    if (null != (n = 4 == t.length ? d.TopMostPanel.ButtonList.create(this.POP_PANEL_SIZE_SMALL, null) : d.TopMostPanel.ButtonList.create(this.POP_PANEL_SIZE, null))) {
                        n.setButtonDefs(t);
                        var a, i = n.getTargetParent(), o = cc.v2(-_.lc.cw(e), -_.lc.ch(e) - 10),
                            r = _.lc.convertPosAR(o, e, i);
                        a = r.y - _.lc.h(n.node) < h.nox.abottom(i) + 10 ? h.nox.abottom(i) + 10 + _.lc.h(n.node) : r.y > h.nox.atop(i) - 10 ? h.nox.atop(i) - 10 : r.y, n.node.setPosition(r.x + _.lc.asw(n.node), a - _.lc.astop(n.node)), n.linkNode(e), n.show();
                        var s = c.SpriteUtil.createSprite("img_box_info_triangle");
                        _.lc.addChildToPosAR(n.node, s.node, cc.v2(0, _.lc.atop(n.node) - _.lc.astop(s.node) - 2))
                    }
                }, t.prototype.showFilterPanel = function (e, t) {
                    var n = d.TopMostPanel.FilterList.create(this.mIsIllustration ? this.FILTER_PANEL_SIZE_MID : this.FILTER_PANEL_SIZE, null);
                    if (null != n) {
                        n.setButtonDefs(t);
                        var a, i = n.getTargetParent(), o = cc.v2(-_.lc.cw(e), -_.lc.ch(e) - 10),
                            r = _.lc.convertPosAR(o, e, i);
                        a = r.y - _.lc.h(n.node) < h.nox.abottom(i) + 10 ? h.nox.abottom(i) + 10 + _.lc.h(n.node) : r.y > h.nox.atop(i) - 10 ? h.nox.atop(i) - 10 : r.y, n.node.setPosition(r.x + _.lc.asw(n.node), a - _.lc.astop(n.node)), n.linkNode(e), this._isShowFilterPanelBaseBtn ? cc.assert(!1, "not supported") : n.show();
                        var s = c.SpriteUtil.createSprite("img_box_info_triangle");
                        _.lc.addChildToPosAR(n.node, s.node, cc.v2(0, _.lc.atop(n.node) - _.lc.astop(s.node) - 2))
                    }
                }, t.prototype.onSearch = function () {
                    this.mSearchText = this.mSearchArea._editBox.string, this.mSortFilterHandler && this.mSortFilterHandler(t.UpdateFlag.search)
                }, t.prototype.resetAllFilter = function () {
                    this.setFilterQuality(t.FilterQuality.all), this.mMode == t.ModeType.monster || this.mMode == t.ModeType.rare ? (this.setSort(t.SortType.serial_id, !0), this.setFilterCategory(t.FilterCategory.all), this.setFilterLevel(t.FilterLevel.all), this.setFilterNature(t.FilterNature.all)) : this.mMode == t.ModeType.magic ? (this.setSort(t.SortType.quality), this.setFilterMagicType(t.FilterMagicType.all)) : this.setSort(t.SortType.quality)
                }, t.prototype.getSearchArea = function () {
                    return this.mSearchArea
                }, t.ModeType = {
                    monster: 1,
                    magic: 2,
                    trap: 3,
                    rare: 4,
                    skin: 10,
                    illustration: 100
                }, t.SortType = {
                    serial_id: 1,
                    quality: 2,
                    life: 3,
                    cost: 4
                }, t.__SortFunc = null, t.__SortStr = null, t.FilterNature = {
                    all: 1,
                    light: 2,
                    dark: 3,
                    earth: 4,
                    fire: 5,
                    water: 6,
                    wind: 7,
                    god: 8
                }, t.FilterNatureKeyword = [-1, o.Data.CardNature.grass, o.Data.CardNature.fire, o.Data.CardNature.water, o.Data.CardNature.thunder, o.Data.CardNature.psycho, o.Data.CardNature.might, o.Data.CardNature.dark, o.Data.CardNature.steel, o.Data.CardNature.god, o.Data.CardNature.dragon, o.Data.CardNature.common], t.__FilterNatureStr = null, t.FilterQuality = {
                    all: 1,
                    c: 2,
                    u: 3,
                    r: 4,
                    rr: 5,
                    sr: 6,
                    hr: 7,
                    ur: 8
                }, t.FilterQualityKeyword = [-1, o.Data.CardQuality.C, o.Data.CardQuality.U, o.Data.CardQuality.R, o.Data.CardQuality.RR, o.Data.CardQuality.SR, o.Data.CardQuality.HR, o.Data.CardQuality.UR], t.__FilterQualityStr = null, t.FilterLevel = {
                    all: 1,
                    i: 2,
                    ii: 3,
                    iii: 4
                }, t.FilterLevelKeyword = [-1, 1, 2, 3], t.__FilterLevelStr = null, t.FilterCategory = {
                    all: 1,
                    magician: 2,
                    dragon: 3,
                    machinery: 4,
                    devil: 5,
                    beast: 6,
                    warrior: 7,
                    rock: 8,
                    water: 9,
                    sea_dragon: 10,
                    worm: 11,
                    beast_warrior: 12,
                    dinosaur: 13,
                    bird_beast: 14,
                    angle: 15,
                    insect: 16,
                    fish: 17,
                    undead: 18,
                    plant: 19,
                    fire: 20,
                    imagery_god: 21,
                    thund: 22
                }, t.FilterCategoryKeyword = [-1, o.Data.CardCategory.ex, o.Data.CardCategory.gx, o.Data.CardCategory.normal], t.__FilterCategoryStr = null, t.FilterMagicType = {
                    all: 1,
                    item: 2,
                    equip: 3,
                    special: 4,
                    character: 5
                }, t.FilterMagicTypeKeyword = [-1, o.Data.MagicTrapType.item, o.Data.MagicTrapType.equip, o.Data.MagicTrapType.special, o.Data.MagicTrapType.character], t.__FilterMagicTypeStr = null, t.UpdateFlag = {
                    sort: 1,
                    filter_nature: 2,
                    filter_equip: 3,
                    filter_quality: 4,
                    filter_status: 5,
                    filter_level: 6,
                    filter_category: 6,
                    filter_magictype: 7,
                    search: 8
                }, t
            }(p.BaseComponent);
        n.FilterWidget = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../data/data": "data",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../panel/TopMostPanel": "TopMostPanel"
    }],
    FindClashFirstForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a5ed5iNxnRNRq/++vMOi0G1", "FindClashFirstForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../utils/SpriteUtil"),
            r = e("../../../leocool/lc"), _ = e("../../utils/RichTextUtil"), s = e("../../../leocool/lcStr"),
            c = e("../../StringEnums"), l = e("../../config/UICfg"), d = e("../../utils/UIUtil"),
            p = e("../../../noxcc"), u = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.FindClashFirstForm) || this
                }

                return __extends(t, e), t.prototype.onInitWidget = function () {
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.updateView()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.updateView = function () {
                    var e = this, t = p.noxcc.find("bg", this.mRoot), n = o.SpriteUtil.createSprite("img_title_bg_1").node;
                    r.lc.addChildToPosLB(this.mRoot, n, cc.v2(r.lc.cw(e.mRoot), r.lc.h(this.mRoot) - 10 - r.lc.ch(n)));
                    var a = _.RichTextUtil.createBoldRichText(s.lcStr(c.STR.FIND_CLASH_FIRST_TIP1), l.UICfg.RICHTEXT_PARAM_LIGHT_S1, 500).node;
                    r.lc.addChildToPosLB(this.mRoot, a, cc.v2(r.lc.cw(e.mRoot), r.lc.h(this.mRoot) - r.lc.h(n) - 40 - r.lc.ch(a)));
                    var i = d.UIUtil.createScale9ShaderButton("img_btn_green_s", function () {
                        e.hide()
                    }, l.UICfg.CRECT_BUTTON, 140);
                    i.addLabel(s.lcStr(c.STR.OK)), r.lc.addChildToPosLB(this.mRoot, i, cc.v2(r.lc.cw(e.mRoot), r.lc.h(this.mRoot) - r.lc.h(n) - r.lc.h(t) - 22 - r.lc.h(i)))
                }, t.create = function () {
                    var e = new t;
                    return e.show(), e
                }, t
            }(a.BaseForm);
        n.FindClashFirstForm = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    FindClashPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a4b7agKoF9CPbBrozlcHyeV", "FindClashPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../form/ClashChestBonusForm"),
            _ = e("../RankPanel"), s = e("../../../scene/ShopScene"), c = e("../../../scene/SceneManager"),
            l = e("../../../scene/HeroCenterScene"), d = e("../../form/ClashUserInfoForm"), p = e("../../form/LogForm"),
            u = e("../../../utils/TimeUtil"), g = e("../../../../leocool/lcStr"), h = e("../../../StringEnums"),
            f = e("../../../data/data"), m = e("../../../ClientData"), y = e("../../../ToastManager"),
            T = e("../FindMatchPanel"), S = e("../../../../leocool/lc"), C = e("../../../ClientView"),
            v = e("../BonusBoxPanel"), b = e("../../../../leocool/lcAppCfg"), E = e("../../../utils/MsgCenter"),
            I = e("../../../part/BattlePart"), A = e("../../form/FindClashFirstForm"), R = e("../../widget/IconWidget"),
            B = e("../../../utils/SpriteUtil"), N = e("../../../../nox"), D = e("../../../utils/RichTextUtil"),
            U = e("../../../config/UICfg"), M = e("../../form/ExchangeResForm"), k = e("../../common/Dialog"),
            L = e("../../../part/DuelCityPart"), O = function (e) {
                function t() {
                    return e.call(this, "panel/find/FindClashPage") || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    this.mAwardBtn = o.noxcc.findButton("Bg/img_btn_reward", this.getRoot()), this.mRankBtn = o.noxcc.findButton("Bg/img_btn_rank", this.getRoot()), this.mShopBtn = o.noxcc.findButton("Bg/img_btn_shop", this.getRoot()), this.mDeckBtn = o.noxcc.findButton("Bg/img_btn_kazu", this.getRoot()), this.mRecordBtn = o.noxcc.findButton("Bg/img_btn_zhanji", this.getRoot()), this.mLogBtn = o.noxcc.findButton("Bg/img_btn_zhanbao", this.getRoot()), this.mFindBtn = o.noxcc.findButton("Bg/duijueanniu", this.getRoot()), this.mReset = o.noxcc.find("Bg/reset", this.getRoot()), this.mResetPropNode = o.noxcc.find("Bg/reset/prop", this.getRoot()), this.mResetVal = o.noxcc.find("Bg/reset/val", this.getRoot()), this.mResetVal2 = o.noxcc.find("Bg/reset/val2", this.getRoot()), this.mFlagSp = o.noxcc.findSkeleton("kelingjiang", this.mAwardBtn.node).node, this.mFlagSp.active = !1, o.noxcc.addClick(this.mAwardBtn, this, this.onAwardBtn), o.noxcc.addClick(this.mRankBtn, this, this.onRankBtn), o.noxcc.addClick(this.mShopBtn, this, this.onShopBtn), o.noxcc.addClick(this.mDeckBtn, this, this.onDeckBtn), o.noxcc.addClick(this.mRecordBtn, this, this.onRecordBtn), o.noxcc.addClick(this.mLogBtn, this, this.onLogBtn), o.noxcc.addClick(this.mFindBtn, this, this.find), this._flag = C.ClientView.checkNewFlag(this.mAwardBtn.node, !0, 30, 3)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), C.ClientView.getResourceUI().setMode(f.Data.ResType.clash_trophy);
                    var t = this;
                    this.initData(), this.updateClashRank(), this.updateClashTime(), this._listeners = [], this._listeners.push(f.Data.Event.clash_sync_ready.addListener(t, function () {
                        C.ClientView.getActiveIndicator().hide(), t.updateClashTime(), t.updateTroopButton(), P.checkFindClash() && P._playerFindClash._isFirst && A.FindClashFirstForm.create().show()
                    })), this.updateTroopButton(), this.updateChests(), this._listeners.push(f.Data.Event.rematch_again.addListener(t, function (e) {
                        t.onRematchEvent(e)
                    })), this._listeners.push(f.Data.Event.rematch_npc.addListener(t, function (e) {
                        t.onRematchEvent(e)
                    })), this._listeners.push(f.Data.Event.rematch_hide.addListener(t, function (e) {
                        t.onRematchEvent(e)
                    })), this._listeners.push(f.Data.Event.trophy_dirty.addListener(t, function () {
                        t.updateChests(), t.updateVal()
                    })), this._listeners.push(f.Data.Event.clash_trophy_dirty.addListener(t, function () {
                        t.updateChests(), t.updateVal()
                    })), this._listeners.push(f.Data.Event.prop_dirty.addListener(t, function () {
                        t.updateChests(), t.updateVal()
                    })), this._listeners.push(f.Data.Event.bonus_dirty.addListener(t, function (e) {
                        t.updateChests()
                    }));
                    var n = P._playerBonus._bonusBox1;
                    n && n.canClaim() && !b.lcAppCfg.isAppStoreReviewing() && v.BonusBoxPanel.create(n, null).show()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    E.MsgCenter.removeMsgListener(this), e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.initData = function () {
                    cc.assert(P._playerFindClash._grade, "need P._playerFindClash._grade"), this._selfGrade = P._playerFindClash._grade
                }, t.prototype.updateClashRank = function () {
                    var e = g.lcStr(f.Data._ladderInfo[this._selfGrade]._nameSid),
                        t = o.noxcc.findSkeleton("Bg/duanwei", this.getRoot());
                    t.setAnimation(0, "animation" + this._selfGrade, !0), o.noxcc.findLabel("text", t.node).string = e, this._curTroop = o.noxcc.findLabel("Bg/img_btn_kazu/text", this.getRoot()), o.noxcc.setLabelString(this._curTroop, g.lcStr(470) + "  " + P._curTroopIndex), this._todayWinsVal = o.noxcc.findLabel("Bg/todayWinsVal", this.getRoot()), o.noxcc.setLabelString(this._todayWinsVal, P._dailyClashTotalWin), o.noxcc.setNodeColor(this._todayWinsVal.node, S.lc.Color3B.white), this._winsVal = o.noxcc.findLabel("Bg/winsVal", this.getRoot()), o.noxcc.setLabelString(this._winsVal, 1 == P._ladderContLose ? 0 : P._dailyClashWin), o.noxcc.setNodeColor(this._winsVal.node, S.lc.Color3B.white), this.mReset.active = !1, P._dailyClashWin > 0 && 1 == P._ladderContLose && !b.lcAppCfg.isAppStoreReviewing() && this.initResetArea()
                }, t.prototype.updateClashTime = function () {
                    var e = o.noxcc.findLabel("Bg/di/text", this.getRoot());
                    o.noxcc.setLabelString(e, "");
                    var t = P._playerFindClash._endTime - u.TimeUtil.getCurrentTime();
                    t > 0 ? o.noxcc.setLabelString(e, g.lcStr(h.STR.FIND_CLASH_SEASON_CD) + "  " + u.TimeUtil.formatPeriod(t)) : o.noxcc.setLabelString(e, g.lcStr(h.STR.FIND_CLASH_SEASON_REVIEWING_1) + "\\xa3\\xac" + g.lcStr(h.STR.FIND_CLASH_SEASON_REVIEWING_2))
                }, t.prototype.initResetArea = function () {
                    var e = this;
                    this.mReset.active = !0, this.mResetPropNode.destroyAllChildren(), this.mResetVal.destroyAllChildren(), this.mResetVal2.destroyAllChildren(), this.mResetProp = R.IconWidget.create({_infoId: f.Data.PropsId.dimension_bottle}, 0), this.mResetProp.registCallback(function () {
                        if (0 == P._propBag._props[f.Data.PropsId.dimension_bottle]._num) return y.ToastManager.push(string.format(g.lcStr(h.STR.NOT_ENOUGH), y.ToastManager.push)), void M.ExchangeResForm.create(f.Data.PropsId.dimension_bottle).show();
                        k.Dialog.showDialog(string.format(g.lcStr(h.STR.LADDER_RESET_LOSE_CONFIRM, !0), g.lcStr(f.Data._propsInfo[f.Data.PropsId.dimension_bottle]._nameSid), P._propBag._props[f.Data.PropsId.dimension_bottle]._num, P._dailyClashWin), function () {
                            L.DuelCityPart.sendClashResetLadderLose(), P._ladderContLose = 0, P._propBag.changeProps(f.Data.PropsId.dimension_bottle, -1), o.noxcc.setLabelString(e._todayWinsVal, P._dailyClashTotalWin), o.noxcc.setLabelString(e._winsVal, P._dailyClashWin), y.ToastManager.push(g.lcStr(h.STR.LADDER_RESET_LOSE_DONE)), e.mReset.active = !1
                        })
                    });
                    var t = B.SpriteUtil.createSprite("img_light_3").node,
                        n = B.SpriteUtil.createSprite("img_light_2").node;
                    o.noxcc.setNodeColor(t, N.nox.c3b(0, 255, 12)), o.noxcc.setNodeColor(n, N.nox.c3b(0, 255, 12)), t.setScale(1.5), n.setScale(3), n.runAction(S.lc.repeatForever(S.lc.rotateBy(4, 360))), this.mResetProp.node.addChild(t, -2), this.mResetProp.node.addChild(n, -1), this.mResetProp.node.setScale(.8), this.mResetPropNode.addChild(this.mResetProp.node);
                    var a = string.format(g.lcStr(h.STR.LADDER_RESET_LOSE_TIP1), P._dailyClashWin),
                        i = string.format(g.lcStr(h.STR.LADDER_RESET_LOSE_TIP2), g.lcStr(f.Data._propsInfo[f.Data.PropsId.dimension_bottle]._nameSid)),
                        r = D.RichTextUtil.createBoldRichTextMultiLine(a, U.UICfg.RICHTEXT_PARAM_LIGHT_S2, 360).node,
                        _ = D.RichTextUtil.createBoldRichTextMultiLine(i, U.UICfg.RICHTEXT_PARAM_LIGHT_S2, 360).node;
                    r.setAnchorPoint(0, .5), _.setAnchorPoint(0, .5), r.setScale(.85), _.setScale(.85), this.mResetVal.addChild(r), this.mResetVal2.addChild(_)
                }, t.prototype.onAwardBtn = function () {
                    r.ClashChestBonusForm.show(1, this._selfGrade)
                }, t.prototype.onRankBtn = function () {
                    _.RankPanel.show()
                }, t.prototype.onShopBtn = function () {
                    var e = s.ShopScene.create(s.ShopType.pvp_fragment);
                    c.SceneManager.pushScene(e)
                }, t.prototype.onDeckBtn = function () {
                    var e = l.HeroCenterScene.create();
                    c.SceneManager.pushScene(e)
                }, t.prototype.onRecordBtn = function () {
                    d.ClashUserInfoForm.show(P._playerFindClash._clashId, !0)
                }, t.prototype.onLogBtn = function () {
                    p.LogForm.show(Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER)
                }, t.prototype.onMsg = function (e) {
                    return !1
                }, t.prototype.updateVal = function () {
                    o.noxcc.setLabelString(this._curTroop, g.lcStr(470) + "  " + P._curTroopIndex), o.noxcc.setLabelString(this._todayWinsVal, P._dailyClashTotalWin), o.noxcc.setLabelString(this._winsVal, 1 == P._ladderContLose ? 0 : P._dailyClashWin)
                }, t.prototype.onOpponentNotFound = function (e) {
                    m.ClientData._findMatchPanel && m.ClientData._findMatchPanel.hide()
                }, t.prototype.onRematchEvent = function (e) {
                    e.getEventName() == f.Data.Event.rematch_npc ? (C.ClientView.getActiveIndicator().show(g.lcStr(h.STR.WAITING)), I.BattlePart.sendWorldFindNpc(P._troopIndex)) : e.getEventName() == f.Data.Event.rematch_again ? this.find() : e.getEventName() == f.Data.Event.rematch_hide && this.updateTroopButton()
                }, t.prototype.updateTroopButton = function () {
                    o.noxcc.setLabelString(this._curTroop, string.format("%s %d", g.lcStr(h.STR.TROOP), P._curTroopIndex))
                }, t.prototype.updateClashTarget = function () {
                }, t.prototype.updateChests = function () {
                    this.mFlagSp.active = !1, this._flag.node.active = !1;
                    for (var e = P._playerBonus._bonusClashChestsEx, t = [], n = P._playerBonus._bonusClashChests, a = [], i = 0; i < 5; i++) {
                        for (var o = P._playerBonus._bonusClashTarget[i], r = 0; r < e.length; r++) e[r]._infoId == 10 * (this._selfGrade - 1) + i + 1 + 2700 && t.push(e[r]);
                        for (r = 0; r < n.length; r++) n[r]._infoId == 10 * (this._selfGrade - 1) + i + 1 + 2600 && a.push(n[r]);
                        if (o && o.canClaim()) {
                            this.mFlagSp.active = !0, this._flag.node.active = !0;
                            break
                        }
                        if (a[i] && a[i].canClaim()) {
                            this.mFlagSp.active = !0, this._flag.node.active = !0;
                            break
                        }
                        if (t[i] && t[i].canClaim()) {
                            this.mFlagSp.active = !0, this._flag.node.active = !0;
                            break
                        }
                    }
                }, t.prototype.find = function () {
                    var e = P._playerCard.checkTroop(P._curTroopIndex);
                    e[0] ? T.FindMatchPanel.create(f.Data.FindMatchType.clash, P._playerFindClash._clashId).show() : y.ToastManager.push(e[1])
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BasePage);
        n.FindClashPage = O, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/BattlePart": "BattlePart",
        "../../../part/DuelCityPart": "DuelCityPart",
        "../../../scene/HeroCenterScene": "HeroCenterScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/ShopScene": "ShopScene",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../../utils/RichTextUtil": "RichTextUtil",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/ClashChestBonusForm": "ClashChestBonusForm",
        "../../form/ClashUserInfoForm": "ClashUserInfoForm",
        "../../form/ExchangeResForm": "ExchangeResForm",
        "../../form/FindClashFirstForm": "FindClashFirstForm",
        "../../form/LogForm": "LogForm",
        "../../widget/IconWidget": "IconWidget",
        "../BonusBoxPanel": "BonusBoxPanel",
        "../FindMatchPanel": "FindMatchPanel",
        "../RankPanel": "RankPanel"
    }],
    FindLadderPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "49b5ai1+NVB/590m+88NEvU", "FindLadderPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../utils/MsgCenter"),
            _ = e("../../../ClientView"), s = e("../../../part/ClashPart"), c = e("../RewardPanel"),
            l = e("../../../../leocool/lcStr"), d = e("../../../StringEnums"), p = e("../../../part/LadderPart"),
            u = e("../../../data/data"), g = e("../../../../leocool/lc"), h = e("../../../ToastManager"),
            f = e("../../common/Dialog"), m = e("../../node/NodeWithShaderButton"), y = e("../../../utils/SpriteUtil"),
            T = e("../../node/NodeWithListView"), S = e("../../../config/UICfg"), C = e("../../../utils/SpineUtil"),
            v = e("../../../utils/ParticleUtil"), b = e("../../widget/CardThumbnail"),
            E = e("../../../../leocool/lcMath"), I = e("../CardInfoPanel"), A = e("../../../../nox"),
            R = e("../../../utils/RichTextUtil"), B = e("../FindMatchPanel"), N = e("../../form/LadderChestForm"),
            D = e("../../form/LogForm"), U = function (e) {
                function t() {
                    var t = e.call(this, "panel/find/FindLadderPage") || this;
                    return t.TouchStatus = {press: 1, tap: 3, move: 2}, t.MovingDir = {
                        none: 0,
                        horizontal: 1,
                        vertical: 2
                    }, t.CardMode = {
                        troop_card: 1,
                        select_card: 2
                    }, t.THUMBNAIL_SCALE = .7, t.TROOP_THUMBNAIL_SCALE = .45, t._maskLayer = null, t._movingSprite = null, t
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mBgOne = o.noxcc.find("Bg", e.mRoot), e.mBgTwo = o.noxcc.find("selectcharacter", e.mRoot), e.mselectcard = o.noxcc.find("selectcard", e.mRoot), e.mDiamondBtn = o.noxcc.findButton("Bg/img_btn_zuan", e.mRoot), e.mVSJuanBtn = o.noxcc.findButton("Bg/img_btn_juan", e.mRoot), e.mGoldBtn = o.noxcc.findButton("Bg/goldbtn", e.mRoot), e.mSelectBtn = o.noxcc.findButton("selectcharacter/selectbtn", e.mRoot), e.mThisPage = o.noxcc.find("Root", e.mRoot), e.mCharacterContent = o.noxcc.find("selectcharacter/charactercontent", e.mRoot), e.mselectcardlist = o.noxcc.find("trooparea/view/content", e.mselectcard), e.mchosecardlist = o.noxcc.find("content", e.mselectcard), e.mchosenaturelist = o.noxcc.find("naturecontent", e.mselectcard), e.mSelectTitle = o.noxcc.findLabel("title/selecttitle", e.mselectcard), e.mCardListTitle = o.noxcc.findLabel("trooparea/trooptitle/title", e.mselectcard), e.mBattleArea = o.noxcc.find("battlearea", e.mselectcard), e.mBattleBtn = o.noxcc.findButton("findbtn", e.mBattleArea), e.mGiveUpBtn = o.noxcc.findButton("exitbtn", e.mBattleArea), e.mLogBtn = o.noxcc.findButton("logbtn", e.mBattleArea), e.leftarea = o.noxcc.find("left", e.mBattleArea), e.mbonus = o.noxcc.find("bonus", e.mBattleArea), e.mProgressBar = o.noxcc.find("ProgressBar", e.mBattleArea), e.mBoxAnimation = o.noxcc.find("baoxiang", e.mbonus);
                    var t = o.noxcc.find("Bg/img_btn_tab_bg_unfocus_1/Desc", e.mRoot),
                        n = string.format(l.lcStr(d.STR.FIND_ARENA_TIME2), u.Data._globalInfo._athleticsTime[0], 0, u.Data._globalInfo._athleticsTime[1], 0, u.Data._globalInfo._athleticsTime[2], 0, u.Data._globalInfo._athleticsTime[3], 0);
                    o.noxcc.setLabelString(t, n), o.noxcc.addClick(e.mDiamondBtn, e, function () {
                        e.onBuyTicket(u.Data.ResType.ingot)
                    }), this._thumbnails = [], this.mselectcardArray = []
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    _.ClientView.getResourceUI().setMode(u.Data.PropsId.ladder_ticket), t._characterId = P._playerFindLadder._characterId, r.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }.bind(t), 0), P._playerFindLadder._hasTicket ? 0 == P._playerFindLadder._characterId ? t.enterSelectCharacter() : P._playerFindLadder._step == P._playerFindLadder.SELECTED_NATURE_STEP && 0 == P._playerFindLadder._nature ? (t.enterSelectCards(!0), t.enterSelectNature()) : P._playerFindLadder._step <= P._playerFindLadder.MAX_TROOP_COUNT ? t.enterSelectCards() : t.enterBattleField() : t.enterDoor()
                }, t.prototype.enterSelectNature = function () {
                    var e = this;
                    _.ClientView.getResourceUI().setMode(u.Data.ResType.ladder_trophy), console.log("enterSelectNature"), e.mchosenaturelist.removeAllChildren(), e.mselectcard.active = !0, e.mchosenaturelist.active = !0, e.mchosecardlist.active = !1, o.noxcc.setString(e.mSelectTitle, string.format(l.lcStr(d.STR.LADDER_SELECT_NATURE_TIP), 7));
                    for (var t, n = function (n) {
                        n > 6 && (n = 11);
                        var a = m.NodeWithShaderButton.createShaderButton(string.format("ic_nature_%02d", n), function () {
                            e._isAfterSelectNature = !0, _.ClientView.getActiveIndicator().show(l.lcStr(d.STR.WAITING)), p.LadderPart.sendLadderSelectCharacter(n + 100)
                        });
                        a.setContentSize(30, 30), o.noxcc.addChild(e.mchosenaturelist, a);
                        var i = R.RichTextUtil.createTTF(l.lcStr(d.STR.NATURE_NONE + n), S.UICfg.FontSize.M2);
                        o.noxcc.addChild(a, i.node), i.node.setPosition(g.lc.cw(a) - 10, -50), t = n
                    }, a = 1; a <= 7; a++) n(a), a = t
                }, t.prototype.onSelectCard = function (e) {
                    var t = P._playerFindLadder.getSelectCardIndex(e);
                    P._playerFindLadder.addCardToTroop(e, t), p.LadderPart.sendLadderSelectCard(t);
                    var n = this._movingSprite._srcPos;
                    this.updateSelectCards(), this.mRoot.runAction(g.lc.sequence(0, function () {
                        this.playAction(n, e)
                    }.bind(this)))
                }, t.prototype.onSelectCharacter = function () {
                    P._playerFindLadder._characterId = this._characterId, P._playerFindLadder._step = 1, _.ClientView.getActiveIndicator().show(l.lcStr(d.STR.WAITING)), p.LadderPart.sendLadderSelectCharacter(this._characterId)
                }, t.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BUY_TICKET) return _.ClientView.getActiveIndicator().hide(), this.enterSelectCharacter(), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SELECT_CHAR) return _.ClientView.getActiveIndicator().hide(), this._isAfterSelectNature ? (this.enterSelectCards(), this._isAfterSelectNature = !1, this.mchosenaturelist.active = !1, this.mchosecardlist.active = !0) : this.enterSelectCards(), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SELECT_CARD) return P._playerFindLadder._step = e.getExtensions_World_pb_SglWorldMsg_world_select_card_resp(), P._playerFindLadder.updateStage(), P._playerFindLadder.MAX_TROOP_COUNT < P._playerFindLadder._step ? this.enterBattleField() : P._playerFindLadder._step % P._playerFindLadder.SELECT_CARD_COUNT[1] == 1 && (P._playerFindLadder._step == P._playerFindLadder.SELECTED_NATURE_STEP && 0 == P._playerFindLadder._nature ? this.enterSelectNature() : this.updateSelectCards()), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_QUIT) return s.ClashPart.sendOpenBox(P._playerFindLadder._chest._infoId, 1), !0;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_OPEN_CHEST) {
                        P._playerFindLadder.clear(), this._characterId = 0, _.ClientView.getActiveIndicator().hide(), this.hideBattleField(), this.enterDoor(), this.mBgOne.active = !0, this.mBgTwo.active = !1;
                        var n = e.addExtensions_User_pb_SglUserMsg_user_open_chest_resp();
                        return c.RewardPanel.create(n, c.RewardPanel.MODE_CHEST).show(), !0
                    }
                    return !1
                }, t.prototype.enterDoor = function () {
                    var e = this;
                    P._propBag.hasProps(u.Data.PropsId.ladder_ticket, 1) ? o.noxcc.addClick(e.mVSJuanBtn, e, function () {
                        e.onBuyTicket(u.Data.PropsId.ladder_ticket)
                    }) : (e.mVSJuanBtn.node.active = !1, e.mGoldBtn.node.active = !0, o.noxcc.addClick(e.mGoldBtn, e, function () {
                        e.onBuyTicket(u.Data.ResType.gold)
                    })), _.ClientView.getResourceUI().setMode(u.Data.PropsId.ladder_ticket)
                }, t.prototype.onBuyTicket = function (e) {
                    if (e == u.Data.ResType.gold) {
                        if (!_.ClientView.checkGold(u.Data._globalInfo._buyTicketGold)) return;
                        P.changeResource(u.Data.ResType.gold, -u.Data._globalInfo._buyTicketGold)
                    } else {
                        if (e == u.Data.ResType.ingot) {
                            if (!_.ClientView.checkIngot(u.Data._globalInfo._buyTicketIngot)) return;
                            return void f.Dialog.showDialog(string.format(l.lcStr(d.STR.LADDER_TIP), u.Data._globalInfo._buyTicketIngot), function () {
                                _.ClientView.checkIngot(u.Data._globalInfo._buyTicketIngot) && (P.changeResource(u.Data.ResType.ingot, -u.Data._globalInfo._buyTicketIngot), P._playerFindLadder._hasTicket = !0, _.ClientView.getActiveIndicator().show(l.lcStr(d.STR.WAITING)), p.LadderPart.sendLadderBuyTicket(e))
                            }.bind(this))
                        }
                        if (!P._propBag.hasProps(u.Data.PropsId.ladder_ticket, 1)) return h.ToastManager.push(string.format(l.lcStr(d.STR.NOT_ENOUGH), l.lcStr(u.Data._propsInfo[u.Data.PropsId.ladder_ticket]._nameSid)));
                        P._propBag.changeProps(u.Data.PropsId.ladder_ticket, -1)
                    }
                    P._playerFindLadder._hasTicket = !0, _.ClientView.getActiveIndicator().show(l.lcStr(d.STR.WAITING)), p.LadderPart.sendLadderBuyTicket(e)
                }, t.prototype.enterSelectCharacter = function () {
                    var e = this;
                    e.mBgOne.active = !1, e.mBgTwo.active = !0;
                    var t = T.NodeWithListView.createH(cc.size(A.nox.w(e.mCharacterContent) - 80, 500), Math.max(0, (g.lc.w(e.mCharacterContent) - 980) / 2), 0);
                    e.mCharacterContent.removeAllChildren();
                    for (var n = 0; n < P._playerFindLadder._characters.length; n++) {
                        var a = P._playerFindLadder._characters[n], i = e.createCharacterItem(a);
                        e.mCharacterContent.addChild(i)
                    }
                    e._characterList = t, o.noxcc.addClick(e.mSelectBtn, e, function () {
                        e.onSelectCharacter()
                    }), 0 == e._characterId && (e._characterId = P._playerFindLadder._characters[0]), e.selectCharacter(e._characterId)
                }, t.prototype.createCharacterItem = function (e) {
                    var t = this, n = u.Data._characterInfo[e],
                        a = m.NodeWithShaderButton.createShaderButton(null, function (e) {
                            t.selectCharacter(n._id)
                        }.bind(t));
                    a.setContentSize(400, 500), a._id = n._id;
                    var i = string.format("img_character_name_%04d", 100 * n._avatarImage + 1),
                        o = y.SpriteUtil.createSprite({
                            _name: i,
                            _size: cc.size(320, S.UICfg.CRECT_COM_BG43.height),
                            _crect: S.UICfg.CRECT_COM_BG43
                        });
                    g.lc.addChildToPosLB(a, o.node, cc.v2(g.lc.cw(a), g.lc.ch(o.node)), 1), a._nameBg = o;
                    var r = _.ClientView.getCharAnimName(n._avatarImage),
                        s = C.SpineUtil.createSpineAnim(r, "default", "animation", !0);
                    s.setScale(.5), g.lc.addChildToPosLB(a, s, cc.v2(g.lc.x(o.node) + g.lc.w(o.node) / 2 + 30, g.lc.top(o.node) + 250));
                    var c = y.SpriteUtil.createSprite("img_light");
                    c.node.setScale(5.5), g.lc.addChildToPosLB(a, c.node, cc.v2(g.lc.x(o.node) + g.lc.w(o.node) / 2 + 30, g.lc.top(o.node) + 500), -1), a._light = c;
                    var l = v.ParticleUtil.createParticle("xuanzhong", !0);
                    return g.lc.addChildToPosLB(a, l, cc.v2(g.lc.x(o.node) + g.lc.w(o.node) / 2 + 30, g.lc.top(o.node) + 300), -1), a._particle = l, a
                }, t.prototype.selectCharacter = function (e) {
                    this._characterId = e;
                    for (var t = this.mCharacterContent.children, n = 0; n < t.length; n++) {
                        var a = t[n];
                        a._light.setVisible(a._id == e), a._particle.setVisible(a._id == e)
                    }
                }, t.prototype.enterSelectCards = function (e) {
                    _.ClientView.getResourceUI().setMode(u.Data.ResType.ladder_trophy), this.mchosecardlist.active = !e, this.mselectcard.active = !0;
                    P._playerFindLadder.TOTAL_CARD_COUNT;
                    this.releaseSelectCards(), o.noxcc.isValid(this.mchosecardlist) && this.mchosecardlist.removeAllChildren();
                    for (var t = 0; t < P._playerFindLadder.TOTAL_CARD_COUNT; t++) {
                        var n = b.CardThumbnail.createFromPool(10001, this.THUMBNAIL_SCALE);
                        n.setScale(.6);
                        var a = n._thumbnail;
                        n.setContentSize(a.node.getContentSize()), a.node.off(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), a.node.on(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), a.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), a.node.on(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), a.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), o.noxcc.setLocalSize(n, cc.size(200, 100)), o.noxcc.setActive(n, !0), n.setParent(this.mchosecardlist), this._thumbnails.push(n)
                    }
                    this.updateSelectCards()
                }, t.prototype.releaseSelectCards = function () {
                    if (this._thumbnails.length > 0) for (var e = 0; e < this._thumbnails.length; e++) {
                        var t = this._thumbnails[e];
                        b.CardThumbnail.releaseToPool(t)
                    }
                    this._thumbnails = []
                }, t.prototype.updateSelectCards = function () {
                    var e = P._playerFindLadder.getTroopCardCount(), t = e[0], n = e[1], a = e[2], i = e[3], r = e[4],
                        _ = string.format(l.lcStr(d.STR.FIND_ARENA_TIPS), t, P._playerFindLadder.MAX_TROOP_COUNT || 0, n + a, i + r);
                    o.noxcc.setLabelString(this.mCardListTitle, _);
                    for (var s = P._playerFindLadder.getSelectCards(), c = 0, p = 0; p < s.length; p++) {
                        var u = s[p];
                        (h = this._thumbnails[p])._thumbnail.updateComponent(u._infoId), h.setVisible(!0), u._isValid ? (h._thumbnail.setGray(!1), h._thumbnail.node.resumeSystemEvents(), h._thumbnail._frame.setEffect(null)) : (h._thumbnail.setGray(!0), h._thumbnail.node.pauseSystemEvents(), h._thumbnail._frame.setEffect(S.UICfg.SHADER_DISABLE), c += 1)
                    }
                    for (p = 0; p < s.length; p++) {
                        var h = this._thumbnails[p];
                        if (c == P._playerFindLadder.SELECT_CARD_COUNT[P._playerFindLadder._stage] ? h._isValid = !1 : h._isValid = s[p]._isValid, 0 == c) {
                            var f = v.ParticleUtil.createParticle("chuxian", !0);
                            g.lc.addChildToCenter(h, f)
                        }
                    }
                    t = P._playerFindLadder.SELECT_CARD_COUNT[P._playerFindLadder._stage] - c, _ = string.format(l.lcStr(d.STR.SELECT_CARD), t, P._playerFindLadder.TOTAL_CARD_COUNT, P._playerFindLadder.SELECT_CARD_COUNT[P._playerFindLadder._stage]), o.noxcc.setString(this.mSelectTitle, _), this.updateTroopList()
                }, t.prototype.updateTroopList = function () {
                    for (var e = this.mselectcardArray, t = [], n = 0; n < P._playerFindLadder._troopCards.length; n++) {
                        for (var a = P._playerFindLadder._troopCards[n], i = null, r = 0; r < e.length; r++) if (e[r]._card._infoId == a._infoId) {
                            i = e[r];
                            break
                        }
                        if (i) i._item._countArea.update(!0, a._num); else {
                            i = o.noxcc.newNode("troopCard");
                            var _ = b.CardThumbnail.createFromPool(a._infoId, this.TROOP_THUMBNAIL_SCALE), s = _._thumbnail;
                            _.setContentSize(s.node.getContentSize()), i.setContentSize(s.node.getContentSize()), s.node.off(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), s.node.on(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), _._countArea.update(!0, a._num), o.noxcc.setActive(_, !0), _.setScale(.9), _.setParent(this.mselectcardlist), _.setPosition(cc.v2(0, 10)), i._item = _, this.mselectcardArray.push(i)
                        }
                        i._card = a, t.push(i)
                    }
                    t.sort(function (e, t) {
                        var n = u.Data.getOriginId(e._card._infoId), a = u.Data.getOriginId(t._card._infoId);
                        if (a > n) return n - a
                    });
                    for (r = 0; r < t.length; r++) t[r]._item.zIndex = r;
                    this.mselectcardlist.getComponent(cc.Layout).updateLayout()
                }, t.prototype.playAction = function (e, t) {
                    for (var n = cc.v2(g.lc.cw(this.mRoot), g.lc.ch(this.mselectcardlist)), a = this.mselectcardArray, i = 0; i < a.length; i++) {
                        var r = a[i];
                        if (r._card._infoId == t) {
                            n = this.mRoot.convertToNodeSpace(r.convertToWorldSpace(cc.v2(g.lc.cw(r), g.lc.ch(r))));
                            break
                        }
                    }
                    var _ = o.noxcc.newNode();
                    g.lc.addChildToPosAR(this.mRoot, _, e);
                    var s = v.ParticleUtil.createParticle("sz1");
                    g.lc.addChildToCenter(_, s);
                    var c = v.ParticleUtil.createParticle("sz2");
                    g.lc.addChildToCenter(_, c), _.runAction(g.lc.sequence(g.lc.moveTo(.4, n), cc.callFunc(function () {
                        s.getComponent(cc.ParticleSystem).duration = .1, c.getComponent(cc.ParticleSystem).duration = .1
                    }), g.lc.delay(.3), cc.removeSelf()))
                }, t.prototype.onTouchThumbnail = function (e) {
                    var t = e.target;
                    t.stopAllActions();
                    var n = e.type;
                    t._isValid || (n == cc.Node.EventType.TOUCH_START ? (t.stopAllActions(), t.runAction(g.lc.scaleTo(.1, .95)), this.onItemPress(e, 1)) : n == cc.Node.EventType.TOUCH_END || n == cc.Node.EventType.TOUCH_CANCEL ? (t.stopAllActions(), t.runAction(g.lc.scaleTo(.08, 1)), this.onItemPress(e, 1), this.onItemTap(e, 1)) : n == cc.Node.EventType.TOUCH_MOVE && this.onItemMove(e, 2))
                }, t.prototype.onItemPress = function (e, t) {
                    this._movingSprite || (this._touchStatus = this.TouchStatus.press, this._movingDir = this.MovingDir.none)
                }, t.prototype.onItemMove = function (e, t) {
                    if (this._touchStatus != this.TouchStatus.tap) {
                        if (this._touchStatus = this.TouchStatus.move, null == this._movingSprite) {
                            if (this._movingDir == this.MovingDir.none) {
                                E.lcMath.pSub(e.touch.getLocationInView(), e.touch.getStartLocationInView());
                                var n = e.touch.getDelta().x, a = e.touch.getDelta().y;
                                (n > 1 || a > 1) && (this._movingDir = this.MovingDir.vertical)
                            }
                            t == this.CardMode.select_card && this._movingDir == this.MovingDir.vertical && this.createMovingSpriteAndMaskLayer(e)
                        }
                        if (this._movingSprite) {
                            var i = E.lcMath.pSub(e.touch.getLocation(), e.touch.getStartLocation()),
                                o = this._movingSprite._srcPos.x + i.x, r = this._movingSprite._srcPos.y + i.y;
                            this._movingSprite.node.setPosition(o, r)
                        }
                    }
                }, t.prototype.onItemTap = function (e, t) {
                    this._touchStatus = this.TouchStatus.tap;
                    var n = e.target.parent._thumbnail._infoId;
                    if (this._movingDir == this.MovingDir.none) if (t == this.CardMode.troop_card) {
                        for (var a = [], i = this.mselectcardArray, o = 0; o < i.length; o++) {
                            var r = i[o]._item._thumbnail;
                            a.push({_infoId: r._infoId, _num: r._count}), e == r && o + 1
                        }
                        I.CardInfoPanel.create(n, 1, I.CardInfoPanel.OperateType.na).show()
                    } else {
                        I.CardInfoPanel.create(n, 1, I.CardInfoPanel.OperateType.na).show()
                    } else if (this._movingSprite) {
                        P._playerFindLadder.getTroopCardCount().shift() < P._playerFindLadder.MAX_TROOP_COUNT ? g.lc.y(this._movingSprite.node) < this._separatorPos && this.onSelectCard(n) : h.ToastManager.push(l.lcStr(d.STR.FULL_IN_TROOP))
                    }
                    this._maskLayer && (this._maskLayer.removeFromParent(!0), this._maskLayer = null), this._movingSprite && (this._movingSprite.node.removeFromParent(), this._movingSprite = null)
                }, t.prototype.createMovingSpriteAndMaskLayer = function (e) {
                    var t = e.target, n = this.mselectcardlist,
                        a = this.mRoot.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0, 0))),
                        i = t.parent._thumbnail._infoId, r = b.CardThumbnail.create(i, this.THUMBNAIL_SCALE);
                    o.noxcc.addChild(this.mRoot, r.node), this._movingSprite = r, this._movingSprite._srcPos = a, this._movingSprite._abc = 1, this._movingSprite.node.setPosition(E.lcMath.pAdd(a, E.lcMath.pSub(e.touch.getLocationInView(), e.touch.getStartLocationInView())));
                    var _ = n.convertToWorldSpace(cc.v2(0, 0));
                    (_ = this.mRoot.convertToNodeSpaceAR(n.convertToWorldSpaceAR(cc.v2(0, 0)))).x = 0;
                    var s = cc.rect(_.x, _.y, g.lc.w(this.mRoot), g.lc.h(n));
                    y.SpriteUtil.createLayerColor(A.nox.c4b(0, 0, 0, 192), g.lc.w(this.mRoot), g.lc.h(this.mRoot));
                    this._separatorPos = _.y + s.height
                }, t.prototype.hideBattleField = function () {
                    this.mselectcard.active = !1, this.mBattleArea.active = !1
                }, t.prototype.enterBattleField = function () {
                    _.ClientView.getResourceUI().setMode(u.Data.ResType.ladder_trophy), this.enterSelectCards(!0), this.mSelectTitle.node.parent.active = !1, this.mBattleArea.active = !0, this.mchosecardlist.active = !1, o.noxcc.addClick(this.mBattleBtn, this, this.onFindingBattle), o.noxcc.addClick(this.mGiveUpBtn, this, this.onFinishBattle), o.noxcc.addClick(this.mLogBtn, this, function () {
                        D.LogForm.show(Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX)
                    });
                    var e = y.SpriteUtil.createSprite("img_troop_light");
                    e.node.setScale(3, 3);
                    var t = u.Data._propsInfo[u.Data.PropsId.ladder_chest + P._playerFindLadder._winCount + 1],
                        n = m.NodeWithShaderButton.createShaderButton(null, function () {
                            N.LadderChestForm.create(t._id).show()
                        });
                    o.noxcc.setLocalSize(n, cc.size(100, 100)), this.mBoxAnimation.addChild(n), A.nox.addChildToPosLB(this.mbonus, e.node, cc.v2(g.lc.cw(this.mbonus), g.lc.h(this.mbonus) / 2 + 50), -10), this.updateBattleField()
                }, t.prototype.updateBattleField = function () {
                    o.noxcc.setProgressBarValue(this.mProgressBar, P._playerFindLadder._winCount / P._playerFindLadder.MAX_BATTLE_COUNT);
                    var e = o.noxcc.find(this.mRoot, "selectcard/battlearea/left/img_troop_win/count");
                    o.noxcc.setLabelString(e, P._playerFindLadder._winCount);
                    var t = o.noxcc.find(this.mRoot, "selectcard/battlearea/left/img_troop_win/title");
                    o.noxcc.setLabelString(t, l.lcStr(d.STR.BATTLE_WIN_COUNT));
                    var n = o.noxcc.find(this.mRoot, "selectcard/battlearea/left/loseLabel");
                    o.noxcc.setLabelString(n, l.lcStr(d.STR.BATTLE_LOSE_COUNT));
                    var a = o.noxcc.find(this.mRoot, "selectcard/battlearea/bonus/ProgressLabel");
                    o.noxcc.setLabelString(a, l.lcStr(d.STR.BATTLE_WIN_PROGRESS) + ": " + P._playerFindLadder._winCount + "/" + u.Data._globalInfo._unlockLadder);
                    for (var i = n.children, r = 0; r < i.length; r++) o.noxcc.setActive(i[r].children[0], r < P._playerFindLadder._loseCount)
                }, t.prototype.onFindingBattle = function () {
                    B.FindMatchPanel.create(u.Data.FindMatchType.ladder, null).show()
                }, t.prototype.onFinishBattle = function () {
                    this.mselectcardlist.removeAllChildren(!0), _.ClientView.getActiveIndicator().show(l.lcStr(d.STR.WAITING)), p.LadderPart.sendLadderQuit()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), r.MsgCenter.removeMsgListener(this);
                    if (this.releaseSelectCards(), this.mselectcardArray.length > 0) for (var t = 0; t < this.mselectcardArray.length; t++) {
                        var n = this.mselectcardArray[t];
                        b.CardThumbnail.releaseToPool(n._item)
                    }
                    this.mselectcardArray = [], this.mselectcardlist.removeAllChildren(!0)
                }, t.prototype.onUpdate = function (e) {
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BasePage);
        n.FindLadderPage = U, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcMath": "lcMath",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/ClashPart": "ClashPart",
        "../../../part/LadderPart": "LadderPart",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../../utils/ParticleUtil": "ParticleUtil",
        "../../../utils/RichTextUtil": "RichTextUtil",
        "../../../utils/SpineUtil": "SpineUtil",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/LadderChestForm": "LadderChestForm",
        "../../form/LogForm": "LogForm",
        "../../node/NodeWithListView": "NodeWithListView",
        "../../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../widget/CardThumbnail": "CardThumbnail",
        "../CardInfoPanel": "CardInfoPanel",
        "../FindMatchPanel": "FindMatchPanel",
        "../RewardPanel": "RewardPanel"
    }],
    FindMatchPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3fd32VIwK9CnL6T+/VNEPrx", "FindMatchPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../data/data"), _ = e("../../../noxcc"),
            s = e("../../StringEnums"), c = e("../../../leocool/lcStr"), l = e("../../GuideManager"),
            d = e("../../utils/UIUtil"), p = e("../../utils/TimeUtil"), u = e("../../../leocool/lc"),
            g = e("../../part/BattlePart"), h = e("../../ToastManager"), f = e("../../part/WorldPart"),
            m = e("../../../leocool/lcAppCfg"), y = e("../../ClientView"), T = e("../../../noxSound"),
            S = e("../../../leocool/lcAudio"), C = e("../../AudioEnums"), v = e("../../utils/MsgCenter"),
            b = e("../../utils/BattleInputUtil"), E = e("../../ClientData"), I = e("../common/Dialog"),
            A = e("../../scene/SceneManager"), R = e("../../scene/ResSwitchScene"), B = e("../../const/SceneId"),
            N = e("../../StaticPrefabMgr"), D = e("../../../nox"), U = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.FindMatchPanel) || this
                }

                return a(t, e), t.prototype.init = function (t, n) {
                    e.prototype.init.call(this);
                    this._findMatchType = t, this._matchId = n
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    E.ClientData._findMatchPanel = e, e._findMatchType == r.Data.FindMatchType.explore ? e._spine = _.noxcc.find("view/pipei", e.mRoot) : e._spine = _.noxcc.find("view/pipei2", e.mRoot), _.noxcc.setActive(e._spine, !0), e._btnCancel = _.noxcc.find("cancel_btn", e.mRoot), _.noxcc.setLabelString(_.noxcc.find("text", e._btnCancel), c.lcStr(s.STR.CANCEL)), _.noxcc.addClick(e._btnCancel, e, function () {
                        e.cancelFind()
                    }), l.GuideManager.isGuideEnabled() && _.noxcc.setActive(e._btnCancel, !1)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this, n = d.UIUtil.createTTF("0", 24);
                    for (var a in _.noxcc.setParent(n, t.mRoot), _.noxcc.setPosition(n, cc.v2(u.lc.x(t._btnCancel), u.lc.top(t._btnCancel) + 20 + u.lc.h(n) / 2)), t._countDownTimestamp = p.TimeUtil.getCurrentTime(), t.timerId = D.nox.scheduleUpdate(function (e) {
                        0 == Math.max(0, e - Math.floor(p.TimeUtil.getCurrentTime() - t._countDownTimestamp)) && (D.nox.unscheduleUpdate(t.timerId), t.timerId = null), _.noxcc.setLabelString(n, c.lcStr(s.STR.FIND_MATCH_COUNTDOWN))
                    }, 0), t._tipSids = [], r.Data._tipInfo) {
                        var i = r.Data._tipInfo[a]._nameSid;
                        t._tipSids.push(i)
                    }
                    t._tipIndex = Math.floor(Math.random() * t._tipSids.length), t._tipBg = t.mRoot.getChildByName("tipView"), t._tip = _.noxcc.find("text", t._tipBg), _.noxcc.setLabelString(t._tip, c.lcStr(t._tipSids[t._tipIndex])), t.arrowLeft_btn = _.noxcc.find("arrowLeft_btn", t.mRoot), _.noxcc.addClick(t.arrowLeft_btn, t, function () {
                        t.onBtnArrow(!0)
                    }), t.arrowRight_btn = _.noxcc.find("arrowRight_btn", t.mRoot), _.noxcc.addClick(t.arrowRight_btn, t, function () {
                        t.onBtnArrow(!1)
                    }), t._findMatchType == r.Data.FindMatchType.clash ? t.mRoot.runAction(u.lc.sequence(1, function () {
                        g.BattlePart.sendWorldFindEx(P._curTroopIndex, Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER)
                    }, 120, function () {
                        g.BattlePart.sendWorldFindExCancel(), h.ToastManager.push(c.lcStr(s.STR.FIND_TIME_OUT)), h.ToastManager.shut()
                    })) : t._findMatchType == r.Data.FindMatchType.ladder ? t.mRoot.runAction(u.lc.sequence(1, function () {
                        g.BattlePart.sendWorldFindEx(P._curTroopIndex, Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX)
                    }, 120, function () {
                        g.BattlePart.sendWorldFindExCancel(), h.ToastManager.push(c.lcStr(s.STR.FIND_TIME_OUT)), h.ToastManager.shut()
                    })) : t._findMatchType == r.Data.FindMatchType.union_battle ? t.mRoot.runAction(u.lc.sequence(1, function () {
                        g.BattlePart.sendWorldFindEx(P._curTroopIndex, Battle_pb.BattleType.PB_BATTLE_MASSWAR_MULTIPLE)
                    }, 120, function () {
                        g.BattlePart.sendWorldFindExCancel(), h.ToastManager.push(c.lcStr(s.STR.FIND_TIME_OUT)), h.ToastManager.shut()
                    })) : t._findMatchType == r.Data.FindMatchType.dark ? t.mRoot.runAction(u.lc.sequence(1, function () {
                        P._playerFindDark.find(!0)
                    }, 120, function () {
                        g.BattlePart.sendWorldFindExCancel(), h.ToastManager.push(c.lcStr(s.STR.FIND_TIME_OUT)), h.ToastManager.shut()
                    })) : t._findMatchType == r.Data.FindMatchType.explore && t.mRoot.runAction(u.lc.sequence(1, function () {
                        f.WorldPart.sendWorldExplore(P._curTroopIndex, t._matchId)
                    }, 15, function () {
                    }, 105, function () {
                        g.BattlePart.sendWorldFindExCancel(), h.ToastManager.push(c.lcStr(s.STR.FIND_TIME_OUT)), h.ToastManager.shut()
                    })), m.lcAppCfg.isAppStoreReviewing() && (_.noxcc.setActive(t._tipBg, !1), _.noxcc.setActive(t.arrowLeft_btn, !1), _.noxcc.setActive(t.arrowRight_btn, !1)), t.stopEffect(), S.lcAudio._isEffectOn
                }, t.prototype.cancelFind = function () {
                    if (this.mRoot.stopAllActions(), this._findMatchType == r.Data.FindMatchType.dark && P._playerFindDark.isInDarkBattle()) return I.Dialog.showDialog(c.lcStr(s.STR.CANCLE_DARK_TIP), function () {
                        P._playerFindDark.retreat(), y.ClientView.getActiveIndicator().show(c.lcStr(s.STR.WAIT_BATTLE_RESULT))
                    });
                    this._findMatchType == r.Data.FindMatchType.explore ? f.WorldPart.sendWorldExploreCancel() : g.BattlePart.sendWorldFindExCancel(), this.hide()
                }, t.prototype.stopEffect = function () {
                    this._effectId && (T.noxSound.stopEffect(this._effectId), S.lcAudio.stopAudio(C.AUDIO.E_FIND_MATCH_OVER), this._effectId = null), S.lcAudio.stopAudio(C.AUDIO.E_FIND_MATCH_OVER), this._effectScheduleId && (D.nox.unscheduleUpdate(this._effectScheduleId), this._effectScheduleId = null)
                }, t.prototype.onFind = function (e) {
                    var t = this;
                    if (t._findMatchType == r.Data.FindMatchType.explore && e._battleType == r.Data.BattleType.PVP_clash) return t.stopEffect(), S.lcAudio.playAudio(C.AUDIO.E_FIND_MATCH_OVER), _.noxcc.setActive(t._btnCancel, !1), t._spine.getComponent(sp.Skeleton).setAnimation(1, "buhuaihaoyi", !1), void t.mRoot.runAction(u.lc.sequence(2, function () {
                        b.BattleInputUtil._battleFromTravel = r.Data._levelInfo[t._matchId], A.SceneManager.replaceScene(R.ResSwitchScene.create(A.SceneManager.getRunningSceneId(), B.SceneId.battle, e)), P._playerWorld._dailyExploreTimes = Math.max(0, P._playerWorld._dailyExploreTimes - 1), P._playerWorld._dailyPvpTimes = Math.max(0, P._playerWorld._dailyPvpTimes - 1)
                    }));
                    t.stopEffect(), S.lcAudio.playAudio(C.AUDIO.E_FIND_MATCH_OVER), A.SceneManager.replaceScene(R.ResSwitchScene.create(A.SceneManager.getRunningSceneId(), B.SceneId.battle, e))
                }, t.prototype.onBtnArrow = function (e) {
                    var t = this._tipIndex, n = u.lc.x(this._tipBg) - u.lc.w(this._tipBg) / 2, a = this._tipBg.x;
                    e ? t - 1 == 0 ? t = this._tipSids.length - 1 : t -= 1 : (t + 1 == this._tipSids.length - 1 ? t = 0 : t += 1, n = -n);
                    var i = _.noxcc.newNode("tipContent"), o = i.addComponent(cc.Label);
                    N.StaticPrefabMgr.configDefaultTTFFont(o), o.string = c.lcStr(this._tipSids[t]), o.overflow = cc.Label.Overflow.CLAMP, o.fontSize = 24, _.noxcc.setLocalSize(i, cc.size(420, 80)), _.noxcc.setNodeOpacity(i, 0), _.noxcc.setParent(i, this._tipBg), _.noxcc.setLocalPosition(i, cc.v2(a - n, 0)), this._tip.stopAllActions(), this._tip.runAction(u.lc.sequence([cc.moveTo(.1, a + n, 0), cc.fadeOut(.1)], u.lc.removeSelf())), i.runAction(u.lc.sequence([cc.moveTo(.1, a, 0), cc.fadeIn(.1)], cc.scaleTo(.1, .98))), this._tip = i, this._tipIndex = t
                }, t.prototype.onReleaseWidget = function () {
                    v.MsgCenter.removeMsgListener(this), this.stopEffect(), E.ClientData._findMatchPanel = null
                }, t.prototype.onExit = function () {
                    this.mRoot.stopAllActions(), this.timerId && (D.nox.unscheduleUpdate(this.timerId), this.timerId = null), e.prototype.onExit.call(this)
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a.show(), a
                }, t
            }(i.BasePanel);
        n.FindMatchPanel = U, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxSound": "noxSound",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../const/SceneId": "SceneId",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../part/WorldPart": "WorldPart",
        "../../scene/ResSwitchScene": "ResSwitchScene",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/BattleInputUtil": "BattleInputUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../common/Dialog": "Dialog",
        "./BasePanel": "BasePanel"
    }],
    FindScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7479abLCDZKc7uklPcTy6sH", "FindScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("../../noxcc"), r = e("./HallScene"), _ = e("../const/SceneId"),
            s = e("./SceneManager"), c = e("../../leocool/lcStr"), l = e("../StringEnums"),
            d = e("../ui/panel/find/FindClashPage"), p = e("../ui/panel/find/FindLadderPage"), u = e("../ClientView"),
            g = e("../data/data"), h = e("./BaseUIScene"), f = e("../ClientData"), m = function (e) {
                function t() {
                    return e.call(this, _.SceneId.find, i.AllViewTypes.FindScene) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mPage = 0, e.mFindClashBtn = o.noxcc.findButton("Bg/img_tb1", e.mRoot), e.mFindLadderBtn = o.noxcc.findButton("Bg/img_tb2", e.mRoot), e.mHallBtn = o.noxcc.findButton("Bg/img_tb3", e.mRoot), e.mBackBtn = o.noxcc.findButton("topArea/topHeader/closeButton", e.mRoot), e.mHelpBtn = o.noxcc.findButton("topArea/topHeader/help_btn", e.mRoot), e.mTitleLabel = o.noxcc.findLabel("topArea/topHeader/title", e.mRoot), e.mPageArea = o.noxcc.find("Bg", e.mRoot), o.noxcc.setLabelString(e.mTitleLabel, c.lcStr(l.STR.FIND_TITLE)), o.noxcc.addClick(e.mFindLadderBtn, e, e.onFindLadderBtn), o.noxcc.addClick(e.mFindClashBtn, e, e.onFindClashBtn), o.noxcc.addClick(e.mHallBtn, e, e.onHallBtn), o.noxcc.addClick(e.mHelpBtn, e, function () {
                        0 == e.mPage ? f.ClientData.showHelpForm(c.lcStr(l.STR.HELP), g.Data.HelpType.pvp) : 1 == e.mPage ? f.ClientData.showHelpForm(c.lcStr(l.STR.HELP), g.Data.HelpType.clash) : 2 == e.mPage && f.ClientData.showHelpForm(c.lcStr(l.STR.HELP), g.Data.HelpType.ladder)
                    }), e.updatatoparea()
                }, t.prototype.onReleaseWidget = function () {
                    this.mCurPageArea && (console.log("destroyCurrentPage"), this.mCurPageArea.destroy(), this.mCurPageArea = null), e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.updatatoparea = function () {
                    var e = this;
                    o.noxcc.addClick(e.mBackBtn, e, function () {
                        o.noxcc.setLabelString(e.mTitleLabel, c.lcStr(l.STR.FIND_TITLE)), 0 == e.mPage ? s.SceneManager.popScene() : 1 == e.mPage ? (u.ClientView.getResourceUI().setMode(g.Data.ResType.gold), e.mCurPageArea.destroy(), e.mCurPageArea = null, e.mPage = 0) : 2 == e.mPage && (u.ClientView.getResourceUI().setMode(g.Data.ResType.gold), e.mCurPageArea.destroy(), e.mCurPageArea = null, e.mPage = 0)
                    })
                }, t.prototype.onFindLadderBtn = function () {
                    var e = p.FindLadderPage.create();
                    e.show(this.mPageArea), this.mCurPageArea = e, this.mPage = 2, o.noxcc.setLabelString(this.mTitleLabel, c.lcStr(l.STR.FIND_ARENA_TITLE))
                }, t.prototype.onFindClashBtn = function () {
                    var e = d.FindClashPage.create();
                    e.show(this.mPageArea), this.mCurPageArea = e, this.mPage = 1, o.noxcc.setLabelString(this.mTitleLabel, c.lcStr(l.STR.FIND_CLASH_TITLE))
                }, t.prototype.onHallBtn = function () {
                    var e = r.HallScene.create();
                    s.SceneManager.pushScene(e)
                }, t.prototype.onEnterRoom = function () {
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(h.BaseUIScene);
        n.FindScene = m, cc._RF.pop()
    }, {
        "../../leocool/lcStr": "lcStr",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/find/FindClashPage": "FindClashPage",
        "../ui/panel/find/FindLadderPage": "FindLadderPage",
        "./BaseUIScene": "BaseUIScene",
        "./HallScene": "HallScene",
        "./SceneManager": "SceneManager"
    }],
    Fixity: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "10a31wF05JFi7sF6RjVi7Sy", "Fixity"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.Fixity = a, cc._RF.pop()
    }, {}],
    FriendPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0486f9YLvRJl6fLOjMtO10H", "FriendPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendUnionFriendBattle = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE, t.setExtensions_Friend_pb_SglFriendMsg_friend_battle_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionFriendBattleJoin = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_JOIN;
                var o = i.addExtensions_Friend_pb_SglFriendMsg_friend_battle_join_req();
                o.troop_id = e, o.battle_id = t, o.user_id = n, a.NetUtil.sendProtoMsg(i)
            }, e.sendUnionFriendBattleCancel = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_CANCEL, a.NetUtil.sendProtoMsg(e)
            }
        })(n.FriendPart || (n.FriendPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    FundTaskPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c23a95XtzRERafIBxbu1lN1", "FundTaskPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../../../noxcc"), r = e("../../../leocool/lc"), _ = e("../AllViewTypes"),
            s = e("../widget/FundTaskWidget"), c = e("../node/NodeWithLabel"), l = e("../../config/UICfg"),
            d = e("../../../leocool/lcStr"), p = e("../../StringEnums"), u = function (e) {
                function t() {
                    var t = e.call(this, _.AllViewTypes.FundTaskPanel) || this;
                    return t._titleNode = null, t._container = null, t._tasks = null, t._titleStr = null, t
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._tasks = e, this._titleStr = t
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    this._titleNode = o.noxcc.find("panel/title", this.getRootNode()), this._container = o.noxcc.find("panel/container", this.getRootNode());
                    var t = c.NodeWithLabel.createTTF(this._titleStr, l.UICfg.FontSize.M1);
                    o.noxcc.setLabelColor(t, l.UICfg.COLOR_TEXT_TITLE), this._titleNode.addChild(t);
                    var n = 1, a = 0;
                    for (var i in P._playerBonus._bonusFundTasks) {
                        var _ = P._playerBonus._bonusFundTasks[i];
                        if (null != _) {
                            if (n > 5) break;
                            if (this._tasks[_._info._cid] && !_._isClaimed) {
                                var u = s.FundTaskWidget.create();
                                this._titleStr != d.lcStr(p.STR.FUND_TASK_RESET) ? u._claimCallback = function (e) {
                                    this.onItemClick()
                                }.bind(this) : u._claimCallback = function (t) {
                                    e.mRoot.runAction(r.lc.sequence(r.lc.scaleTo(.2, .5), cc.callFunc(function () {
                                        this.hide()
                                    }.bind(this))))
                                }.bind(this), a += u.runActionUpdateBonus(_, a), e._container.addChild(u.getRoot())
                            }
                            n += 1
                        }
                    }
                    this.getRootNode().setScale(.5), this.getRootNode().runAction(r.lc.scaleTo(.2, 1)), this.getRootNode().addComponent(cc.Button), o.noxcc.addClick(this.getRootNode(), this, function () {
                        e._isForce || e._container.parent.runAction(r.lc.sequence(r.lc.scaleTo(.2, .5), cc.callFunc(function () {
                            this.hide()
                        }.bind(this))))
                    })
                }, t.prototype.onEnter = function () {
                }, t.prototype.onExit = function () {
                }, t.prototype.onItemClick = function () {
                    this.hide()
                }, t.create = function (e, n) {
                    var a = new t;
                    a.init(e, n), a.show()
                }, t
            }(i.BasePanel);
        n.FundTaskPanel = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../AllViewTypes": "AllViewTypes",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../widget/FundTaskWidget": "FundTaskWidget",
        "./BasePanel": "BasePanel"
    }],
    FundTaskWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5ecd2vlBSNGHIMoTIg0QShh", "FundTaskWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseComponent"), i = e("../../../noxcc"), o = e("../../../leocool/lcStr"),
            r = e("./IconWidget"), _ = e("../../../leocool/lc"), s = e("../../StaticPrefabMgr"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.onLoad = function () {
                    e.prototype.onLoad.call(this);
                    var t = this;
                    this._forbiddenState = i.noxcc.find("ForbiddenState", this.node), this._contentLabel = i.noxcc.findLabel("taskDescription_txt", this.node), this._claimBtn = i.noxcc.findButton("button", this.node), i.noxcc.addClick(this._claimBtn, function () {
                        t._claimCallback && t._claimCallback(t._bonus)
                    }), this._refreshBtn = i.noxcc.findButton("replaceBtn", this.node), i.noxcc.addClick(this._refreshBtn, function () {
                        t._refreshCallback && t._refreshCallback(t._bonus)
                    }), this._progBar = i.noxcc.findProgressBar("progressBar", this.node), this._progLabel = i.noxcc.findLabel("rate_txt", this._progBar.node), this._rewardNode = i.noxcc.find("rewardNode", this.node), cc.assert(this._rewardNode, "need rewardNode")
                }, t.prototype.setClaimCallback = function (e) {
                    this._claimCallback = e
                }, t.prototype.setRefreshCallback = function (e) {
                    this._refreshCallback = e
                }, t.prototype.updateBonus = function (e) {
                    this._rewardNode.destroyAllChildren();
                    if (this._bonus = e, e) {
                        this.showBonus(), e.canClaim() ? (this._claimBtn.interactable = !0, this._progBar.node.setVisible(!0)) : (this._claimBtn.interactable = !1, this._progBar.node.setVisible(!0)), P._playerBonus._fundResetCount > 0 && !e.canClaim() ? this._refreshBtn.node.setVisible(!0) : this._refreshBtn.node.setVisible(!1);
                        var t = e._info;
                        if (t) {
                            var n = string.format(o.lcStr(t._nameSid, !0), t._val);
                            this._contentLabel.string = n;
                            for (var a = t._rid, i = t._level, s = t._count, c = 0; c < a.length; c++) {
                                var l = a[c], d = r.IconWidget.create({
                                    _infoId: l,
                                    _level: i[c],
                                    _count: s[c]
                                }, r.IconWidget.DisplayFlag.COUNT);
                                d.node.setScale(.7), d.getNameLabel().node.color = _.lc.Color3B.black, this._rewardNode.addChild(d.node)
                            }
                            this._progBar.progress = e._value / t._val, e._value >= t._val ? this._progLabel.string = t._val + "/" + t._val : this._progLabel.string = e._value + "/" + t._val
                        }
                    } else this.hideBonus()
                }, t.prototype.showBonus = function () {
                    this._forbiddenState.active = !1
                }, t.prototype.hideBonus = function () {
                    this._forbiddenState.active = !0
                }, t.prototype.setEnabledEx = function (e) {
                    this._claimBtn && (this._bonus ? this._claimBtn.interactable = this._bonus.canClaim() : this._claimBtn.interactable = !1, this._claimBtn.enableAutoGrayEffect = !0)
                }, t.prototype.runActionUpdateBonus = function (e, t) {
                    return null == this._bonus && null != e ? (this._bonus = e, t = this.runActionHideToShow(t)) : null != this._bonus && null != e ? (this._bonus = e, t = this.runActionHideToShow(t)) : null != this._bonus && null == e && (this._bonus = e, t = this.runActionShowToHide(t)), t
                }, t.prototype.runActionHideToShow = function (e) {
                    var t = this;
                    return this.node.runAction(_.lc.sequence(_.lc.delay(e), function () {
                        t.setEnabledEx(!1), t.hideBonus()
                    }, _.lc.scaleTo(.2, 0, 1), _.lc.callFunc(function () {
                        t.showBonus(), t.updateBonus(t._bonus)
                    }), _.lc.scaleTo(.2, 1, 1), function () {
                        t.setEnabledEx(!0)
                    })), e + .2
                }, t.prototype.runActionShowToHide = function (e) {
                    var t = this;
                    return this.node.runAction(_.lc.sequence(_.lc.delay(e), function () {
                        t.setEnabledEx(!1)
                    }, _.lc.scaleTo(.2, 0, 1), _.lc.callFunc(function () {
                        t.hideBonus()
                    }), _.lc.scaleTo(.2, 1, 1), function () {
                        t.setEnabledEx(!0)
                    })), e + .2
                }, t.create = function () {
                    return i.noxcc.instantiate(s.StaticPrefabMgr.getFundTaskWidgetPrefab()).addComponent(t)
                }, t
            }(a.BaseComponent);
        n.FundTaskWidget = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "./IconWidget": "IconWidget"
    }],
    GameCfg: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5fa99s1KXFELrYrJDqjeZ85", "GameCfg"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e.PREFERENTIAL_GIFT_MAX_COUNT = 3
        }(n.GameCfg || (n.GameCfg = {})), cc._RF.pop()
    }, {}],
    GameType: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "458f2ZBWvRAK5NR2ebZqu8F", "GameType"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e[e.jdzc = 1] = "jdzc"
        }(n.GameType || (n.GameType = {})), cc._RF.pop()
    }, {}],
    GivePropForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6751dVrnaVJqpkh3i9LArKb", "GivePropForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lcStr"),
            s = e("../../StringEnums"), c = e("../../utils/MsgCenter"), l = e("../../ToastManager"),
            d = e("../../config/UICfg"), p = e("../../data/data"), u = e("../../../leocool/lc"),
            g = e("../node/NodeWithListView"), h = e("../../utils/ActivityUtil"), f = e("../widget/IconWidget"),
            m = e("../common/Dialog"), y = e("../../ClientData"), T = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SendMailForm) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this._user = e, this._activityType = t, this._props = n
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = _.lcStr(s.STR.SEND_GIFT),
                        t = g.NodeWithListView.createV(cc.size(this.mRoot.width, this.mRoot.height));
                    this._title = e, this._itemList = t, this.refreshList()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), c.MsgCenter.removeMsgListener(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.refreshList = function () {
                    var e = this, t = e._props, n = [];
                    n.push(h.ActivityUtil.getActivityByType(e._activityType)), e._activityType && 803 == n[0]._type && (t = n[0]._param);
                    var a = Math.min(5, u.lc.arrayToTable(t || [], e).length);
                    e._itemList.bindData(n, function (t, n) {
                        e.setOrCreateItem(t, n)
                    }, a, null);
                    for (var i = 0; a; i++) e._itemList.pushBackCustomItem(e.setOrCreateItem(null, n[i]))
                }, t.prototype.setOrCreateItem = function (e, t) {
                    var n = this;
                    return e || ((e = r.noxcc.newNode().setContentSize(cc.size(u.lc.w(n._itemList), 150))).create()._icons = {}, e.create().update = function () {
                        for (var a in e._icons) e._icons[a].setVisible(!1);
                        for (var a in e) {
                            var i = p.Data._bonusInfo[a]._rid[0], o = P.getItemCount(i);
                            if (e._icons[a]) e._icons.resetData({
                                _infoId: i,
                                _count: P.getItemCount(i)
                            }), e._icons.setVisible(!0); else {
                                var r = f.IconWidget.create({_infoId: i, _count: o});
                                r.setNameColor(d.UICfg.COLOR_TEXT_WHITE), r.registCallback(function () {
                                    n.onSelectProp(t)
                                }), u.lc.addChildToPosLB(e, r.node, cc.v2(150 * (o - .5), u.lc.ch(e))), e._icons.push(r)
                            }
                            e._icons.setGray(0 == i), e._icons._countBg.setVisible(i > 0), e._icons._bonusId = o
                        }
                    }), e.update(t), e
                }, t.prototype.onSelectProp = function (e) {
                    var t = this;
                    e._bonusId;
                    if (P.getItemCount(e._data._infoId) <= 0) return l.ToastManager.push(_.lcStr(s.STR.COUNT_NOT_ENOUGH));
                    m.Dialog.showDialog(string.format(_.lcStr(s.STR.CONFIRM_SEND), y.ClientData.getNameByInfoId(e._data._infoId), t._user._name), function () {
                        P.addResource(P.addResource, 1, -1), l.ToastManager.push(_.lcStr(s.STR.SEND_GIFT) + _.lcStr(s.STR.SUCCESS)), t.hide()
                    })
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(i.BaseForm);
        n.GivePropForm = T, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../common/Dialog": "Dialog",
        "../node/NodeWithListView": "NodeWithListView",
        "../widget/IconWidget": "IconWidget"
    }],
    GroupWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "17947LdzOdF5Ka2Fyzhfe/U", "GroupWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../../leocool/lc"), o = e("../../data/Union/Group"),
            r = e("../../config/UICfg"), _ = e("../../BaseComponent"), s = e("../../utils/RichTextUtil"),
            c = e("../../utils/LoginData"), l = e("../../utils/UIUtil"), d = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return __extends(t, e), t.prototype.init = function (e, n, _) {
                    this._group = o.Group, this._flag = i.lc.D(n, 0), _ = i.lc.D(_, .6), this._avatar = l.UIUtil.createGroupAvatar(10), this._avatar.setScale(_);
                    var c = a.SpriteUtil.createSprite("group_name_bg");
                    this.node.setContentSize(cc.size(i.lc.w(this._avatar) * _ + i.lc.w(c.node), i.lc.h(this._avatar) * _)), i.lc.addChildToPosAR(this.getRoot(), this._avatar, cc.v2(i.lc.cw(this._avatar), i.lc.ch(this.getRoot())), 1), i.lc.addChildToPosAR(this.getRoot(), c.node, cc.v2(i.lc.right(this._avatar) + i.lc.w(c.node) - 20, i.lc.h(this.getRoot()) - i.lc.ch(c.node) - 30 * _)), this._nameLabel = s.RichTextUtil.createTTF("", r.UICfg.FontSize.S3), i.lc.addChildToCenter(c.node, this._nameLabel.node), c.node.setVisible(0 != i.lc.band(this._flag, t.Flag.NAME)), this._regionLabel = s.RichTextUtil.createTTF("", r.UICfg.FontSize.S3), this._regionLabel.node.setAnchorPoint(0, .5), i.lc.addChildToPosAR(this.getRoot(), this._regionLabel.node, cc.v2(i.lc.right(this._avatar), 40 * _)), this._regionLabel.node.setVisible(0 != i.lc.band(this._flag, t.Flag.REGION)), i.lc.V(e) && this.setGroup(e)
                }, t.prototype.setAvatar = function (e) {
                    i.lc.V(this._avatar) && this._avatar.update(e)
                }, t.prototype.setGroup = function (e) {
                    this._group = e, this.setAvatar(e._avatar), this.setName(e._name), this.setRegion(e._members[0]._regionId)
                }, t.prototype.setName = function (e) {
                    i.lc.V(this._nameLabel) && (this._nameLabel.string = e)
                }, t.prototype.setRegion = function (e) {
                    if (i.lc.V(this._regionLabel)) {
                        var t = c.LoginData.genChannelRegionName(e);
                        this._regionLabel.string = t
                    }
                }, t.create = function (e, n, a) {
                    var o = i.lc.createNode().addComponent(t);
                    return o.init(e, n, a), o
                }, t
            }(_.BaseComponent);
        n.GroupWidget = d, function (e) {
            e.Flag = {NAME: 1, REGION: 2, UNION: 4, CLICKABLE: 65536}
        }(d = n.GroupWidget || (n.GroupWidget = {})), n.GroupWidget = d, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../BaseComponent": "BaseComponent",
        "../../config/UICfg": "UICfg",
        "../../data/Union/Group": "Group",
        "../../utils/LoginData": "LoginData",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil"
    }],
    Group: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "784dfCK17pHLqhRYpOeT3dA", "Group"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.Group = a, cc._RF.pop()
    }, {}],
    GrowStrongPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7b9aeIQi1JG2bdljh+VQPna", "GrowStrongPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../scene/TavernScene"),
            _ = e("../../../scene/ExpeditionScene"), s = e("../../form/BattleRuleForm"),
            c = e("../../../scene/HeroCenterScene"), l = e("../../../scene/SceneManager"), d = function (e) {
                function t() {
                    return e.call(this, "panel/assistant/GrowStrongPage") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mBattleRuleBtn = o.noxcc.findButton("Blank_Bg/CallBoard1/StrategyButton", this.mRoot), this.mTavernBtn = o.noxcc.findButton("Blank_Bg/CallBoard2/GashaponButton", this.mRoot), this.mExpeditionBtn = o.noxcc.findButton("Blank_Bg/CallBoard3/AdventurenButton", this.mRoot), this.mHeroCenterBtn = o.noxcc.findButton("Blank_Bg/CallBoard4/button", this.mRoot), o.noxcc.addClick(this.mBattleRuleBtn, this, this.onBattleRuleBtn), o.noxcc.addClick(this.mTavernBtn, this, this.onTavernBtn), o.noxcc.addClick(this.mExpeditionBtn, this, this.onExpeditionBtn), o.noxcc.addClick(this.mHeroCenterBtn, this, this.onHeroCenterBtn)
                }, t.prototype.onBattleRuleBtn = function () {
                    s.BattleRuleForm.show()
                }, t.prototype.onTavernBtn = function () {
                    var e = r.TavernScene.create();
                    l.SceneManager.pushScene(e)
                }, t.prototype.onExpeditionBtn = function () {
                    var e = _.ExpeditionScene.create();
                    l.SceneManager.pushScene(e)
                }, t.prototype.onHeroCenterBtn = function () {
                    var e = c.HeroCenterScene.create();
                    l.SceneManager.pushScene(e)
                }, t
            }(i.BasePage);
        n.GrowStrongPage = d, cc._RF.pop()
    }, {
        "../../../../noxcc": "noxcc",
        "../../../scene/ExpeditionScene": "ExpeditionScene",
        "../../../scene/HeroCenterScene": "HeroCenterScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/TavernScene": "TavernScene",
        "../../BasePage": "BasePage",
        "../../form/BattleRuleForm": "BattleRuleForm"
    }],
    GrowthProcessPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "991a9WgOMNP7bzUrHQequn8", "GrowthProcessPage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../GuideManager"),
            r = e("../../../../leocool/lcStr"), _ = e("../../../data/data"), s = e("../../widget/BonusWidget"),
            c = e("../../../../leocool/lc"), l = e("../../../ClientView"), d = e("../../../StringEnums"),
            p = e("../../../ClientData"), u = e("../../../scene/FindScene"), g = e("../../../scene/TavernScene"),
            h = e("../../form/ExchangeResForm"), f = e("../../../utils/TimeUtil"), m = e("../RewardPanel"),
            y = e("../../../AudioEnums"), T = e("../../../../leocool/lcAudio"), S = e("../../../scene/SceneManager"),
            C = (e("../../../utils/SpriteUtil"), e("../../../ToastManager")), v = function (e) {
                function t() {
                    var t = e.call(this, "panel/assistant/GrowthProcessPage") || this;
                    return t._focusTabIndex = _.Data.BonusType.clash, t
                }

                return __extends(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    this._toggles = [];
                    for (var n = i.noxcc.findToggleGroup("TopScrollView/view/content", this.mRoot).node, a = function (e) {
                        o._toggles[e] = i.noxcc.findToggle("button_" + e, n), i.noxcc.setNodeColor(i.noxcc.find("Label", o._toggles[e].node), o._toggles[e].isChecked ? c.lc.Color3B.yellow : c.lc.Color3B.white), i.noxcc.addToggleClick(o._toggles[e], o, function () {
                            t._focusTabIndex = 10 * e + 1;
                            for (var n = 3; n <= 5; n++) i.noxcc.setNodeColor(i.noxcc.find("Label", t._toggles[n].node), t._toggles[n].isChecked ? c.lc.Color3B.yellow : c.lc.Color3B.white);
                            t.createBonusWidgetList()
                        })
                    }, o = this, r = 3; r <= 5; r++) a(r);
                    this._achievePointLabel = i.noxcc.findLabel("Task_Down_ScrollView/AchievementPoints/ProgressBar_bg/text", this.mRoot), this.refreshPoint(), this._contentNode = i.noxcc.find("Task_Down_ScrollView/view/content", this.mRoot), this._tmplNode = i.noxcc.find("grid", this._contentNode), i.noxcc.setActive(this._tmplNode, !1), i.noxcc.setParent(this._tmplNode, this.mRoot), this.createBonusWidgetList()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(_.Data.Event.gold_dirty.addListener(this, function () {
                        t.createBonusWidgetList()
                    })), this._listeners.push(_.Data.Event.bonus_dirty.addListener(this, function (e) {
                        e._bonus._info._type == _.Data.BonusType.grain && t.showTabFlag()
                    })), this._listeners.push(o.GuideManager.Event.finish.addListener(this, function () {
                        t.onGuideFinish()
                    })), this._listeners.push(_.Data.Event.achieve_list_dirty.addListener(this, function () {
                    })), "enter task" == o.GuideManager.getCurStepName() && o.GuideManager.finishStepLater(), this.showTabFlag()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.createBonusWidgetList = function () {
                    var e = this;
                    this.refreshListData(), o.GuideManager.isGuideEnabled() && o.GuideManager.finishStepLater(), this._contentNode.destroyAllChildren();
                    for (var t = function (t) {
                        var a = i.noxcc.instantiate(n._tmplNode);
                        i.noxcc.setActive(a, !0), i.noxcc.setParent(a, n._contentNode);
                        var o = string.format(r.lcStr(n._bonus[t]._info._nameSid), n._bonus[t]._info._val),
                            l = s.BonusWidget.create(c.lc.w(n._contentNode) - 10, n._bonus[t], o, "");
                        n._focusTabIndex == _.Data.BonusType.clash ? l.registerCallback(function () {
                            e.dealClashAchieve(e._bonus[t])
                        }) : e._focusTabIndex == _.Data.BonusType.gold_cost ? l.registerCallback(function () {
                            e.dealCostAchieve(e._bonus[t])
                        }) : n._focusTabIndex == _.Data.BonusType.gold_gain && l.registerCallback(function () {
                            e.dealCollectAchieve(e._bonus[t])
                        }), n._bonusNodes = i.noxcc.find("bonus", a), c.lc.addChildToCenter(n._bonusNodes, l.node)
                    }, n = this, a = 0; a < this._bonus.length; a++) t(a);
                    this.showTabFlag()
                }, t.prototype.refreshListData = function () {
                    var e = [];
                    if (this._focusTabIndex == _.Data.BonusType.clash) {
                        for (var t = P._playerBonus._clashBonuses, n = 0; n < t.length; n++) for (var a = 0; a < t[n].length; a++) if (0 == t[n][a]._isClaimed) {
                            e.push(t[n][a]);
                            break
                        }
                        var i = P._playerBonus._arenaBonuses;
                        for (n = 0; n < i.length; n++) for (a = 0; a < i[n].length; a++) if (0 == i[n][a]._isClaimed) {
                            e.push(i[n][a]);
                            break
                        }
                        e.sort(function (e, t) {
                            return e.canClaim() != t.canClaim() ? e.canClaim() ? -1 : 1 : e._type - t._type
                        }), this._bonus = e
                    } else if (this._focusTabIndex == _.Data.BonusType.gold_cost) {
                        var o = P._playerBonus._costBonuses;
                        for (n = 0; n < o.length; n++) for (a = 0; a < o[n].length; a++) if (0 == o[n][a]._isClaimed) {
                            e.push(o[n][a]);
                            break
                        }
                        e.sort(function (e, t) {
                            return e.canClaim() != t.canClaim() ? e.canClaim() ? -1 : 1 : e._type - t._type
                        }), this._bonus = e
                    } else if (this._focusTabIndex == _.Data.BonusType.gold_gain) {
                        for (o = P._playerBonus._collectBonuses, n = 0; n < o.length; n++) for (a = 0; a < o[n].length; a++) if (0 == o[n][a]._isClaimed) {
                            e.push(o[n][a]);
                            break
                        }
                        e.sort(function (e, t) {
                            return e.canClaim() != t.canClaim() ? e.canClaim() ? -1 : 1 : e._type - t._type
                        }), this._bonus = e
                    }
                }, t.prototype.dealClashAchieve = function (e) {
                    if (e._info._val <= e._value) e._isClaimed || (l.ClientView.showClaimBonusResult(e, p.ClientData.claimBonus(e)), this.createBonusWidgetList(), this.refreshPoint()); else {
                        if (!P.checkFindClash()) return void C.ToastManager.push(string.format(r.lcStr(d.STR.FINDSCENE_LOCKED), _.Data._levelInfo[_.Data.CLASH_UNLOCK_LEVEL]._id % 100, r.lcStr(_.Data._levelInfo[_.Data.CLASH_UNLOCK_LEVEL]._nameSid)), 0, !0);
                        if (e._type == _.Data.BonusType.arena_once || e._type == _.Data.BonusType.arena_all || e._type == _.Data.BonusType.arena_12) u.FindScene.create(_.Data.FindMatchType.ladder); else {
                            var t = u.FindScene.create();
                            S.SceneManager.pushScene(t)
                        }
                    }
                }, t.prototype.dealCostAchieve = function (e) {
                    if (e._info._val <= e._value) e._isClaimed || (l.ClientView.showClaimBonusResult(e, p.ClientData.claimBonus(e)), this.createBonusWidgetList(), this.refreshPoint()); else {
                        var t = g.TavernScene.create();
                        S.SceneManager.pushScene(t)
                    }
                }, t.prototype.dealCollectAchieve = function (e) {
                    if (e._info._val <= e._value) e._isClaimed || (l.ClientView.showClaimBonusResult(e, p.ClientData.claimBonus(e)), this.createBonusWidgetList(), this.refreshPoint()); else if (e._info._type == _.Data.BonusType.gold_gain) h.ExchangeResForm.create(_.Data.ResType.gold).show(); else {
                        var t = g.TavernScene.create();
                        S.SceneManager.pushScene(t)
                    }
                }, t.prototype.claimAll = function (e) {
                    e._info;
                    var t = e._info._type, n = e._info._cid, a = [];
                    e._type == _.Data.BonusType.clash ? a = P._playerBonus._bonusClash : e._type == _.Data.BonusType.clash_conti ? a = P._playerBonus._bonusClashConti : e._type == _.Data.BonusType.clash_legacy ? a = P._playerBonus._bonusClashLegacy : e._type == _.Data.BonusType.clash_local ? a = P._playerBonus._bonusClashLocal : e._type == _.Data.BonusType.clash_target ? a = P._playerBonus._bonusClashTarget : e._type == _.Data.BonusType.gold_cost ? a = P._playerBonus._bonusGoldCost : e._type == _.Data.BonusType.gem_cost ? a = P._playerBonus._bonusGemCost : e._type == _.Data.BonusType.gold_gain ? a = P._playerBonus._bonusGoldGain : e._type == _.Data.BonusType.card_package ? a = P._playerBonus._bonusCardPackage : e._type == _.Data.BonusType.card_ur ? a = P._playerBonus._bonusCardUr : e._type == _.Data.BonusType.card_sr ? a = P._playerBonus._bonusCardSr : e._type == _.Data.BonusType.bottle ? a = P._playerBonus._bonusBottle : e._type == _.Data.BonusType.arena_once ? a = P._playerBonus._bonusArenaOnce : e._type == _.Data.BonusType.arena_all ? a = P._playerBonus._bonusArenaAll : e._type == _.Data.BonusType.arena_12 && (a = P._playerBonus._bonusArena12);
                    for (var i = {}, o = [], r = 0; r < a.length; r++) {
                        var s = a[r], c = s._info;
                        if (s._info._type == t && s._info._cid == n && s.canClaim()) {
                            p.ClientData.claimBonus(s);
                            for (var l = 0; l < c._rid.length; l++) {
                                var d = c._rid[l], u = i[d];
                                null == u ? (u = {}, i[d] = u, u._infoId = d, u._count = c._count[l], u._level = c._level[l], u._isFragment = c._isFragment[l] > 0, o.push(u)) : u._count = u._count + c._count[l]
                            }
                        }
                    }
                    m.RewardPanel.create(o, m.RewardPanel.MODE_CLAIM_ALL).show(), T.lcAudio.playAudio(y.AUDIO.E_CLAIM)
                }, t.prototype.refreshPoint = function () {
                    i.noxcc.setLabelString(this._achievePointLabel, f.TimeUtil.formatNum(P._achievePoint, 9999) + "")
                }, t.prototype.onGuideFinish = function () {
                    P._guideId
                }, t.prototype.showTabFlag = function () {
                    for (var e = 3; e <= 5; e++) {
                        var t = 10 * e + 1, n = this._toggles[e].node, a = 0;
                        t == _.Data.BonusType.clash ? a = P._playerBonus.getClashBonusesFlag() + P._playerBonus.getArenaBonusesFlag() : t == _.Data.BonusType.gold_cost ? a = P._playerBonus.getCostBonusFlag() : t == _.Data.BonusType.gold_gain && (a = P._playerBonus.getCollectBonusFlag()), l.ClientView.checkNewFlag(n, a, 24, 0)
                    }
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BasePage);
        n.GrowthProcessPage = v, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcAudio": "lcAudio",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../AudioEnums": "AudioEnums",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../GuideManager": "GuideManager",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../scene/FindScene": "FindScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/TavernScene": "TavernScene",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../form/ExchangeResForm": "ExchangeResForm",
        "../../widget/BonusWidget": "BonusWidget",
        "../RewardPanel": "RewardPanel"
    }],
    GuideFinger: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "67324kTIIRD5Y2/TyW08LbN", "GuideFinger"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseComponent"), i = e("../../../noxcc"), o = e("../../../leocool/lc"), r = e("../../../nox"),
            _ = e("../../utils/SpriteUtil"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, a, i) {
                    var s = this;
                    s.node.setAnchorPoint(0, 1), s.node.opacity = 0, s.node.setPosition(n), s._srcPos = cc.v2(n);
                    var c = _.SpriteUtil.createSprite("img_finger_01");
                    s._finger = c, s.node.setContentSize(c.node.getContentSize());
                    var l = !1;
                    o.lc.right(s.node) >= o.lc.asright(e) ? (l = !0, s.node.anchorX = 1, c.node.scaleX = -1) : (s.node.anchorX = 0, c.node.scaleX = 1), o.lc.addChildToCenter(s.node, s._finger.node);
                    for (var d = _.SpriteUtil.createSprite("img_circle").node, p = _.SpriteUtil.createSprite("img_circle").node, u = 0, g = [d, p]; u < g.length; u++) {
                        var h = g[u];
                        h.opacity = 0, h.scale = .5, h.setPosition(l ? o.lc.aright(s.node) - 5 : o.lc.aleft(s.node) + 5, o.lc.atop(s.node) - 5), h.parent = s.node
                    }
                    var f, m = function () {
                        var e = o.lc.sequence(.1, o.lc.fadeIn(.1), o.lc.scaleTo(.4, 3), o.lc.fadeOut(.1), o.lc.scaleTo(0, .5));
                        d.runAction(e), p.runAction(o.lc.sequence(.16, e.clone()))
                    };
                    if (t) {
                        s.node.setPosition(0, 0), s.node.opacity = 255, d.setScale(5), p.setScale(5);
                        var y = o.lc.sequence(o.lc.fadeIn(.05), o.lc.scaleTo(.3, 1), o.lc.fadeOut(.05), o.lc.scaleTo(0, .5));
                        d.runAction(y), p.runAction(o.lc.sequence(.16, y.clone())), f = o.lc.ease(o.lc.moveTo(.4, n.x, n.y), "SineIO")
                    } else f = o.lc.fadeIn(.1);
                    s.node.runAction(o.lc.sequence(f, function () {
                        if (a) {
                            var e = a.sub(n).mag();
                            s.node.runAction(o.lc.repeatForever(o.lc.sequence(.1, function () {
                                s.node.setScale(.95 * r.nox.D(s._baseScale, 1)), _.SpriteUtil.setSprite(s._finger, "img_finger_02"), m()
                            }, .4, o.lc.moveTo(e / 300, a), function () {
                                i && (n = i()), s.node.setPosition(n), s.node.setScale(1 * r.nox.D(s._baseScale, 1)), _.SpriteUtil.setSprite(s._finger, "img_finger_01")
                            })))
                        } else s.node.runAction(o.lc.repeatForever(o.lc.sequence(.1, function () {
                            s.node.setScale(.95 * o.lc.D(s._baseScale, 1)), _.SpriteUtil.setSprite(s._finger, "img_finger_02"), m()
                        }, .6, function () {
                            i && (n = i(), s.node.setPosition(n)), s.node.setScale(1 * o.lc.D(s._baseScale, 1)), _.SpriteUtil.setSprite(s._finger, "img_finger_01")
                        })))
                    }))
                }, t.prototype.setVisible = function (e) {
                    this.node.active = e
                }, t.create = function (e, n, a, o, r) {
                    var _ = i.noxcc.newNode().addComponent(t);
                    return _.init(e, n, a, o, r), _
                }, t
            }(a.BaseComponent);
        n.GuideFinger = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    GuideManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "39c65HILxlEAYIY8birsDF3", "GuideManager"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../noxEvent"), i = e("./data/data"), o = e("../nox"), r = e("../leocool/lc"), _ = e("../noxcc"),
            s = e("./const/ZOrder"), c = e("./part/GuidePart"), l = e("../leocool/lcStr"), d = e("./StringEnums"),
            p = e("./utils/RichTextUtil"), u = e("./const/SceneId"), g = e("./config/UICfg"), h = e("./utils/UIUtil"),
            f = e("./utils/SpriteUtil"), m = e("./ui/node/NodeWithLabel"), y = e("./battle/scene/BattleScene"),
            T = e("./ui/guide/GuideFinger"), S = e("./ui/guide/GuideTouchLayer"), C = e("./ui/guide/GuideNpcTipLayer"),
            v = e("./scene/SceneManager"), b = e("./ClientData"), E = e("./const/ViewConst");
        (function (e) {
            var t, n, I, A, R, B, N, D;
            (function (e) {
                e[e.dialog = 1] = "dialog", e[e.operation = 2] = "operation", e[e.tip = 3] = "tip", e[e.other = 4] = "other"
            })(t = e.StepType || (e.StepType = {})), function (e) {
                e[e.tap = 1] = "tap", e[e.move = 2] = "move"
            }(e.OperateType || (e.OperateType = {})), function (e) {
                e[e.battle_gem = 1] = "battle_gem", e[e.battle_atk_hp = 2] = "battle_atk_hp", e[e.battle_atk = 3] = "battle_atk", e[e.battle_round_btn = 4] = "battle_round_btn", e[e.battle_skill = 5] = "battle_skill", e[e.battle_fortress = 6] = "battle_fortress", e[e.battle_empty_pos = 7] = "battle_empty_pos", e[e.battle_setting_btn = 8] = "battle_setting_btn", e[e.battle_atk_hp_2 = 9] = "battle_atk_hp_2", e[e.battle_main_card = 10] = "battle_main_card", e[e.battle_ball = 11] = "battle_ball", e[e.battle_drawback = 12] = "battle_drawback", e[e.herocenter_troop = 100] = "herocenter_troop"
            }(n = e.HighlightType || (e.HighlightType = {})), e.Event = {
                seek: new a.noxEvent0,
                finish: new a.noxEvent1
            }, e.GUIDE_ID_GROUP_SIZE = 100;
            var U = null;

            function M() {
                return v.SceneManager.getRunningScene().getSceneNode()
            }

            function k(e) {
                return e._stepType01
            }

            function L() {
                if (null == b.ClientData._reloadDialog) {
                    var n = P._guideID, a = i.Data._guideInfo[n];
                    if (null != a) {
                        var o = Math.floor(k(a) / 10);
                        return r.lc.log("startStep %d, mainType = %d", P._guideID, o), e._hasNewCityGuide = !1, 0 == o ? 0 != k(a) && X(!0) : o == t.dialog ? W() : o == t.operation ? X(!0) : o == t.tip ? z() : X(!1), !0
                    }
                    return !1
                }
            }

            function O(t) {
                o.nox.logf("finish step id: %d, name: %s, isMaualStep = %s", P._guideID, F(), t ? "true" : "false");
                var n = P._guideID, a = i.Data._guideInfo[n];
                if (null != a) {
                    33 != k(a) && 34 != k(a) && q(), Z(), te();
                    var r = a._saveStep;
                    if (n < 200 && r > 0 || n >= 200 && r >= 500 && r % e.GUIDE_ID_GROUP_SIZE == 0) {
                        if (!(r < 1e4)) return P._guideID = B, B = null, void (w() && L());
                        c.GuidePart.sendGuideID(r), e.Event.finish.dispatchEvent(r)
                    }
                    var _ = a._sceneId;
                    P._guideID = n + 1, null != (a = i.Data._guideInfo[P._guideID]) && (_ != a._sceneId && r > 0 && c.GuidePart.sendGuideID(r), null == b.ClientData._reloadDialog && (t ? X(!1) : L()))
                }
            }

            function x() {
                return Math.floor(P._guideID / e.GUIDE_ID_GROUP_SIZE)
            }

            function w() {
                var e = P._guideID;
                return null != e && (null != i.Data._guideInfo[e] || P._guideID < 100)
            }

            function F() {
                var e = i.Data._guideInfo[P._guideID];
                return null == e ? "" : e._stepName
            }

            function V(e) {
                var t = U[e];
                return t ? t[0] : null
            }

            function H(e, t, n, a) {
                var i;
                if (n) {
                    i = _.noxcc.newNode();
                    var o = _.noxcc.newNode().addComponent(cc.Mask);
                    o.inverted = !0, o.node.setContentSize(n.size), o.node.parent = i, o.node.setAnchorPoint(-n.x / n.width, -n.y / n.height), o.node.addChild(e)
                } else (i = _.noxcc.newNode()).addChild(e);
                return i.setContentSize(M().getContentSize()), a ? a.addChild(i, r.lc.D(t, s.ZOrder.guide)) : M().addChild(i, r.lc.D(t, s.ZOrder.guide)), e._guideContainer = i, i
            }

            function G(e) {
                e._guideContainer ? (e._guideContainer.destroy(), e._guideContainer = null) : (e.parent = null, e.destroy())
            }

            function W() {
                var e = i.Data._guideInfo[P._guideID];
                Z();
                var t = h.UIUtil.createMaskLayer(g.UICfg.MASK_OPACITY_LIGHT);
                H(t);
                var n = Y({_nameSid: e._nameSid, _stepType: k(e), _roleId: e._param}, function () {
                    O(), t.destroy()
                });
                t.addChild(n)
            }

            function Y(e, t) {
                return cc.assert(!1, "not supported"), null
            }

            function K() {
            }

            function z() {
                var e = P._guideID, t = i.Data._guideInfo[e];
                r.lc.log("show Npc guideId = %d", e), Z();
                var n = k(t) % 10, a = n <= 2, o = j(t, a, 1 == n || 3 == n, !1, t._param < 5e3 ? t._param : 0);
                if (a) {
                    if (o.setCloseHandler(function () {
                        O()
                    }), t._param > 5e3) return void H(o, null, J(t._param - 5e3))
                } else O();
                H(o)
            }

            function j(e, t, n, a, i) {
                q();
                var o = R = C.GuideNpcTipLayer.create(e, t, n, a, i);
                return o.setClickCallback(function () {
                    q()
                }), o
            }

            function q() {
                var e = R;
                e && (Q(e), e.close(function () {
                    $(e), G(e)
                }), R = null)
            }

            function X(t) {
                Z();
                var n = S.GuideTouchLayer.createGuideTouchLayer();
                M().addChild(n, s.ZOrder.guide), I = n, t && e.Event.seek.dispatchEvent()
            }

            function Z() {
                I && (I.parent = null, I.destroy(), I = null)
            }

            function J(e, t) {
                var a, i, c, u, T, S, C, b, I, P, A, B = function (e, t, n) {
                    var a, i = f.SpriteUtil.createSprite("img_arrow_right").node;
                    return i.color = r.lc.Color3B.yellow, i.setPosition(e.x - 40, e.y + 70), i.runAction(r.lc.repeatForever(r.lc.sequence(r.lc.moveBy(.5, -10, 0), r.lc.moveBy(.5, 10, 0)))), n && (i.scaleX = -1), t && (a = p.RichTextUtil.createTTF(t, g.UICfg.FontSize.S1, r.lc.Color3B.yellow).node), [a, i]
                }, D = r.lc.D(R, N);
                if (e == n.battle_gem) {
                    var U = (W = y.BattleScene.currenton()._battleUi)._playerUi._pHandCards[0], M = 70 * W._scale,
                        k = 8 * W._scale, L = U._pFrame._starArea;
                    (x = r.lc.convertPosAR(cc.v2(0, 0), L, D)).x = x.x, x.y = x.y - 40, A = (a = B(I = cc.rect(x.x - M, x.y - k, 2 * M, 2 * k), l.lcStr(d.STR.MONSTER_STAR)))[0], (P = a[1]).setPosition(I.x - 30, I.y + k), A.setPosition(r.lc.right(P) - r.lc.w(A) / 2, r.lc.top(P) + r.lc.h(A) / 2)
                } else if (e == n.battle_atk_hp || e == n.battle_atk_hp_2) {
                    var O = (U = (W = y.BattleScene.currenton()._battleUi)._playerUi._pBoardCards[1])._pTransfiguration._hpNode,
                        x = r.lc.convertPosAR(o.nox.cpos(O), O, D);
                    M = 40 * W._scale, k = 24 * W._scale;
                    A = (i = B(I = cc.rect(x.x - M, x.y - k, 2 * M, 2 * k), l.lcStr(e == n.battle_atk_hp ? d.STR.ATK_VALUE : d.STR.HP_VALUE) || " "))[0], (P = i[1]).setPosition(I.x + I.width + 40, I.y + I.height / 2), P.angle = 180, A.setPosition(P.x + 60, P.y)
                } else if (e == n.battle_atk) {
                    U = (W = y.BattleScene.currenton()._battleUi)._playerUi._pBoardCards[1];
                    x = cc.v2(g.UICfg.SCR_CW - 30, W._node.y);
                    M = 76 * W._scale, k = 240 * W._scale;
                    I = cc.rect(x.x - M, x.y - k, 2 * M, 2 * k), (H = f.SpriteUtil.createSprite({
                        _name: "img_arrow_up_3",
                        _crect: g.UICfg.CRECT_ARROW_3,
                        _size: cc.size(40, 300)
                    }).node).opacity = 230;
                    var w = m.NodeWithLabel.createBMFont(g.UICfg.BMFont.huali_32, l.lcStr(d.STR.POWER));
                    _.noxcc.setLabelColor(w, o.nox.c3b(255, 150, 150)), r.lc.addChildToCenter(H, w), D.addHighlightObj(H), r.lc.addChildToPosAR(v.SceneManager.getRunningScene().getSceneNode(), H, cc.v2(-30, 60), s.ZOrder.guide)
                } else if (e == n.battle_round_btn) {
                    (W = y.BattleScene.currenton()._battleUi)._playerUi;
                    var F = W._btnRoundEnd, V = r.lc.convertPosAR(o.nox.cpos(F.node), F.node, D);
                    M = 80, k = 80;
                    A = (c = B(I = cc.rect(V.x - M, V.y - k, 2 * M, 2 * k)))[0], (P = c[1]).setPosition(I.x - 40, I.y + 80)
                } else if (e == n.battle_skill) I = cc.rect(-452, -76, 320, 160); else if (e == n.battle_fortress) A = (u = B(I = cc.rect(-105, 256, 210, 80), string.format("%s%s", l.lcStr(d.STR.LEVEL_UP_HP), string.format(l.lcStr(d.STR.BRACKETS_S), l.lcStr(d.STR.LIFE)))))[0], (P = u[1]).setPosition(I.x - 40, I.y + 30), A.setPosition(r.lc.right(P) - r.lc.w(A) / 2, r.lc.top(P) + r.lc.h(A) / 2); else if (e == n.battle_empty_pos) {
                    var H;
                    I = cc.rect(80, -130, 160, 400), (H = f.SpriteUtil.createSprite({
                        _name: "img_arrow_up_3",
                        _crect: g.UICfg.CRECT_ARROW_3,
                        _size: cc.size(40, 340)
                    }).node).opacity = 230, H.angle = -20, (w = h.UIUtil.createBMFont(g.UICfg.BMFont.huali_32, l.lcStr(d.STR.POWER) + l.lcStr(d.STR.FORTRESS))).color = o.nox.c3b(255, 150, 150), r.lc.addChildToCenter(H, w), D.addHighlightObj(H), r.lc.addChildToPosAR(v.SceneManager.getRunningScene().getSceneNode(), H, cc.v2(90, 140), s.ZOrder.guide)
                } else if (e == n.battle_setting_btn) A = (T = B(I, l.lcStr(d.STR.BATTLE_SETTING_BUTTON), !0))[0], (P = T[1]).setPosition(t.x + 80, t.y - 12), A.setPosition(r.lc.left(P) + r.lc.w(A) / 2, r.lc.top(P) + r.lc.h(A) / 2); else if (e == n.battle_main_card) {
                    var G = (W = y.BattleScene.currenton()._battleUi)._pAttackingCard._skillBtns[1].node.children[0];
                    (x = r.lc.convertPosAR(cc.v2(0, 0), G, D)).x = x.x - 220 * W._scale, x.y = x.y + 32 * W._scale, A = (S = B(I = cc.rect(x.x - M, x.y - k, 2 * M, 2 * k), l.lcStr(d.STR.POWER_COST), !1))[0], P = S[1];
                    M = 40 * W._scale, k = 20 * W._scale;
                    P.setPosition(I.x - 24, I.y + I.height / 2), A.setPosition(r.lc.left(P) - r.lc.w(A) / 2, r.lc.y(P))
                } else if (e == n.battle_ball) A = (C = B(I = cc.rect(36, 126, 88, 82), l.lcStr(d.STR.BALL), !0))[0], (P = C[1]).setPosition(I.x + I.width + 36, I.y + I.height / 2), A.setPosition(r.lc.right(P) + r.lc.w(A) / 2, r.lc.y(P)); else if (e == n.battle_drawback) {
                    var W;
                    G = (W = y.BattleScene.currenton()._battleUi)._pAttackingCard._drawBackNode.children[0];
                    (x = r.lc.convertPosAR(cc.v2(0, 0), G, D)).x = x.x - 44 * W._scale, x.y = x.y - 70 * W._scale;
                    M = 40 * W._scale, k = 30 * W._scale;
                    A = (b = B(I = cc.rect(x.x - M, x.y - k, 2 * M, 2 * k), l.lcStr(d.STR.DRAWBACK_COST), !0))[0], (P = b[1]).setPosition(I.x + I.width + 36, I.y + I.height / 2), A.setPosition(r.lc.right(P) + r.lc.w(A) / 2, r.lc.y(P))
                } else if (e == n.herocenter_troop) {
                    var Y = g.UICfg.SCR_W - g.UICfg.SCR_CW;
                    I = cc.rect(Y - 212, 4, 208, 104)
                }
                if (I) {
                    var K = f.SpriteUtil.createSprite({
                        _name: "img_highlight_rect",
                        _crect: cc.rect(21, 21, 1, 1),
                        _size: cc.size(I.width + 20, I.height + 20)
                    }).node;
                    K.color = r.lc.Color3B.yellow, D.addHighlightObj(K);
                    var z = cc.v2(I.x + I.width / 2 - E.ViewConst.SCR_CW, -E.ViewConst.SCR_CH + I.y + I.height / 2);
                    r.lc.addChildToPosAR(D, K, z), P && (D.addHighlightObj(P), D.addChild(P)), A && (D.addHighlightObj(A), D.addChild(A))
                }
                return I
            }

            function Q(e) {
                e.hideHighlightObjs()
            }

            function $(e) {
                e.removeHighlightObjs()
            }

            function ee(t, n, a, i, o) {
                te(), o = o || M();
                var r = T.GuideFinger.create(o, t, n, a, i);
                return e._finger = r, r
            }

            function te() {
                var t = e._finger;
                t && (t.node._guideContainer && G(t.node), t.node.stopAllActions(), t.node.removeFromParent(), e._finger.destroy(), e._finger = null)
            }

            e.init = function (e) {
                for (var t in U = {}, i.Data._guideInfo) {
                    var n = i.Data._guideInfo[t];
                    "N/A" != n._stepName && (U[n._stepName] = U[n._stepName] || [], U[n._stepName].push(n))
                }
                e && e()
            }, e.getLayerParent = M, e.startStepLater = function (e) {
                M().runAction(r.lc.sequence(o.nox.D(e, .1), function () {
                    L()
                }))
            }, e.startStep = L, e.finishStepLater = function (e) {
                I && I.setBlockTouch(!0), M().runAction(r.lc.sequence(r.lc.D(e, .1), function () {
                    O()
                }))
            }, e.finishStep = O, e.pauseGuide = function () {
                null == I && null == A && null == R || (I && (I.setVisible(!1), I.setIgnoreTouch(!0)), A && A.setVisible(!1), R && (R.active = !1), e._finger && (e._finger.node.active = !1))
            }, e.resumeGuide = function () {
                I && (I.setVisible(!0), I.setIgnoreTouch(!1)), A && A.setVisible(!0), R && (R.active = !0), e._finger && (e._finger.node.active = !0)
            }, e.stopGuide = function () {
                q(), Z(), te()
            }, e.getCurSaveGuideId = function () {
                var e = P._guideID;
                if (null == e) return null;
                var t = i.Data._guideInfo[e];
                return null == t || 0 == t._saveStep ? null : t._saveStep
            }, e.setGuideIDandSave = function (e, t) {
                P._guideID != e && (r.lc.log("Set guide id = %d", e), (t || i.Data._guideInfo[e]) && (P._guideID = e, c.GuidePart.sendGuideID(e)))
            }, e.getGroup = x, e.isGuideEnabled = w, e.isGuideInCity = function () {
                var e = i.Data._guideInfo[P._guideID];
                return null != e && e._sceneId == u.SceneId.city && w()
            }, e.getCurStepName = F, e.getCurStepId = function () {
                var e = i.Data._guideInfo[P._guideID];
                return null == e ? -1 : e._id
            }, e.getNextStepName = function () {
                var t = i.Data._guideInfo[P._guideID];
                if (t._saveStep % e.GUIDE_ID_GROUP_SIZE == 0 && Math.floor(t._saveStep / e.GUIDE_ID_GROUP_SIZE) == Math.floor(P._guideID / e.GUIDE_ID_GROUP_SIZE)) return "";
                var n = P._guideID + 1;
                return null == (t = i.Data._guideInfo[n]) && (n = (x() + 1) * e.GUIDE_ID_GROUP_SIZE + 1, null == (t = i.Data._guideInfo[n])) ? "" : t._stepName
            }, e.getGuideInfoByStepName = V, e.getGuideIDByStepName = function (e) {
                var t = V(e);
                return t ? t._id : 65535
            }, e.getCurDifficultyStepName = function () {
                var e = i.Data._guideInfo[P._guideDifficultyID];
                return null == e ? "" : e._stepName
            }, e.getCurRecruiteStepName = function () {
                var e = i.Data._guideInfo[P._guideRecruiteID];
                return null == e ? "" : e._stepName
            }, e.addContainerLayer = H, e.removeContainerLayer = G, e.showStoryDialog = W, e.createStoryDialog = Y, e.closeStoryDialog = K, e.showNpcTipLayer = z, e.createNpcTipLayer = j, e.closeNpcTipLayer = q, e.showOperateLayer = X, e.setOperateLayer = function (e, t, n) {
                if (null != I) {
                    I.setOperateLayer(e, n);
                    var a = M();
                    if (e) {
                        var i = r.lc.convertPosAR(o.nox.cpos(e), e, a);
                        H(ee(e != D, i, t).node)
                    }
                    D = e
                }
            }, e.releaseLayer = Z, e.addHighlightEffect = J, e.hideHighlightObjs = Q, e.removeHighlightObjs = $, e.createFinger = ee, e.showSoftGuideFinger = function (e, t) {
                M();
                var n = ee(!1, o.nox.cpos(e));
                e._softGuideFinger = n, e.addChild(n.node, 100), t && n.node.runAction(r.lc.sequence(.7 * t, function () {
                    te()
                }))
            }, e.releaseFinger = te
        })(n.GuideManager || (n.GuideManager = {})), cc._RF.pop()
    }, {
        "../leocool/lc": "lc",
        "../leocool/lcStr": "lcStr",
        "../nox": "nox",
        "../noxEvent": "noxEvent",
        "../noxcc": "noxcc",
        "./ClientData": "ClientData",
        "./StringEnums": "StringEnums",
        "./battle/scene/BattleScene": "BattleScene",
        "./config/UICfg": "UICfg",
        "./const/SceneId": "SceneId",
        "./const/ViewConst": "ViewConst",
        "./const/ZOrder": "ZOrder",
        "./data/data": "data",
        "./part/GuidePart": "GuidePart",
        "./scene/SceneManager": "SceneManager",
        "./ui/guide/GuideFinger": "GuideFinger",
        "./ui/guide/GuideNpcTipLayer": "GuideNpcTipLayer",
        "./ui/guide/GuideTouchLayer": "GuideTouchLayer",
        "./ui/node/NodeWithLabel": "NodeWithLabel",
        "./utils/RichTextUtil": "RichTextUtil",
        "./utils/SpriteUtil": "SpriteUtil",
        "./utils/UIUtil": "UIUtil"
    }],
    GuideNpcTipLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b22f6oijeNL+ps+NMYpBvCG", "GuideNpcTipLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../config/UICfg"), i = e("../../../leocool/lc"), o = e("../../utils/SpineUtil"),
            r = e("../node/NodeWithLabel"), _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"),
            c = e("../../../noxcc"), l = e("../../AudioEnums"), d = e("../../../leocool/lcAudio"),
            p = e("../../StaticPrefabMgr"), u = e("../../utils/RichTextUtil"), g = e("./BaseGuideLayer"),
            h = e("../../utils/SpriteUtil"), f = e("../../../framework/NoxViewMgr"), m = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._canClose = !1, t
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, g, m) {
                    var y = this;
                    i.lc.addFullSizeWidget(y, f.NoxViewMgr.getRoot()), this.setTouchEnabled(t);
                    var T = e._id, S = e._nameSid;
                    (null == m || m <= 0) && (m = 450), this._bg = c.noxcc.instantiate(p.StaticPrefabMgr.getSingleSprite()), i.lc.addFullSizeWidget(this._bg), this._bg.color = cc.color(0, 0, 0), this._bg.opacity = t ? a.UICfg.MASK_OPACITY_LIGHT : 0, this._bg.parent = this, this._bg.setContentSize(this.getContentSize());
                    var C = c.noxcc.newNode("container");
                    i.lc.addFullSizeWidget(C), C.setContentSize(this.getContentSize()), C.parent = this;
                    var v = this._npc = o.SpineUtil.createSpineAnim("liliai", "skin1", "animation2", !0);
                    if (v.setPosition(n ? i.lc.aleft(C) + 260 : i.lc.aright(C) - 200, i.lc.abottom(C) - 200), v.parent = C, t) {
                        var b = this._next = r.NodeWithLabel.createTTF(_.lcStr(s.STR.NEXT_STORY), a.UICfg.FontSize.S2, a.UICfg.COLOR_TEXT_DARK);
                        b.opacity = 0
                    }
                    var E = string.splitByChar(_.lcStr(S), "/")[0].replace("USERNAME", P._name);
                    103 == e._id && P.isNoviceTeachPassed(1) && (E = _.lcStr(s.STR.GUIDE_NOVICE_TEACH_02));
                    var I = this._tip = u.RichTextUtil.createBoldRichText(E, {
                        _normalClr: a.UICfg.COLOR_TEXT_DARK,
                        _boldClr: a.UICfg.COLOR_TEXT_BLUE_2,
                        _fontSize: a.UICfg.FontSize.M2,
                        _width: m
                    }).node;
                    I.setAnchorPoint(cc.v2(n ? 0 : 1, 0)), I.opacity = 0;
                    var A = this._tipBg = h.SpriteUtil.createScale9Sprite("img_tip_bg", a.UICfg.CRECT_TIP_BG).node;
                    A.setContentSize(I.width + 135, I.height + 70 + (b ? i.lc.h(b) + 10 : 0)), A.setAnchorPoint(n ? 0 : 1, 0), A.setScale(0);
                    var R = cc.v2();
                    R.x = n ? i.lc.w(A) + 460 : i.lc.w(C) - 450, 142 == e._id && P._guideID > 100 || 60001 == e._id ? R.y = 230 : 101 == e._id || 113 == e._id || 116 == e._id || 124 == e._id || 145 == e._id || 20002 == e._id ? R.y = 141 : R.y = 0, i.lc.addChildToPosLB(C, A, R), i.lc.addChildToPosLB(C, I, cc.v2(R.x + (n ? -55 - I.width : -80), R.y + 40 + (b ? i.lc.h(b) + 10 : 0))), b && i.lc.addChildToPosAR(C, b, cc.v2(i.lc.right(I) - i.lc.w(b) / 2, i.lc.bottom(I) - 10 - i.lc.h(b) / 2)), i.lc.offset(v, 0, -200), v.runAction(i.lc.spawn(i.lc.ease(i.lc.moveBy(.4, 0, 200), "BackO"), i.lc.sequence(.1, function () {
                        var e = l.AUDIO[string.format(g ? "E_STORY_%d" : "E_GUIDE_%d", T)];
                        e && d.lcAudio.playAudio(e), A.runAction(i.lc.sequence([i.lc.fadeIn(.2), i.lc.ease(i.lc.scaleTo(.4, n ? -1 : 1, 1), "BackO")], function () {
                            I.runAction(i.lc.sequence(i.lc.fadeIn(.1), .5, function () {
                                y._canClose = !0, y._next && y._next.runAction(i.lc.repeatForever(i.lc.sequence(i.lc.fadeIn(.5), .5, i.lc.fadeOut(.5)))), y._canCloseHandler && y._canCloseHandler()
                            }))
                        }))
                    })))
                }, t.prototype.onTouchEnd = function (e) {
                    this._canClose && (this._clickCallback && this._clickCallback(), this._closeHandler && this._closeHandler())
                }, t.prototype.onTouchCancel = function (e) {
                    this._canClose && (this._clickCallback && this._clickCallback(), this._closeHandler && this._closeHandler())
                }, t.prototype.setClickCallback = function (e) {
                    this._clickCallback = e
                }, t.prototype.setCloseHandler = function (e) {
                    this._closeHandler = e
                }, t.prototype.setCanCloseHandler = function (e) {
                    this._canCloseHandler = e
                }, t.prototype.close = function (e) {
                    this.setTouchEnabled(!1), this.opacity = 0, this._canCloseHandler && this._canCloseHandler(), this._tipBg.stopAllActions(), this._tipBg.runAction(i.lc.fadeOut(.1)), this._tip.stopAllActions(), this._tip.runAction(i.lc.fadeOut(.1)), this._next && (this._next.stopAllActions(), this._next.runAction(i.lc.fadeOut(.1))), this._npc.stopAllActions(), this._npc.runAction(i.lc.sequence(i.lc.ease(i.lc.moveBy(.5, 0, -600), "BackO"), e))
                }, t.create = function (e, n, a, i, o) {
                    var r = new t;
                    return r.init(e, n, a, i, o), r
                }, t
            }(g.BaseGuideLayer);
        n.GuideNpcTipLayer = m, cc._RF.pop()
    }, {
        "../../../framework/NoxViewMgr": "NoxViewMgr",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "./BaseGuideLayer": "BaseGuideLayer"
    }],
    GuidePart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ee72buJ5NFEF5a98jsVuh9t", "GuidePart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        e("../../nox");
        (function (e) {
            e.sendGuideID = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_GUIDE, null != e && t.setExtensions_User_pb_SglUserMsg_user_set_guide_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendChangeNameGuide = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_NAME_GUIDE, t.setExtensions_User_pb_SglUserMsg_user_set_name_req(e), a.NetUtil.sendProtoMsg(t)
            }
        })(n.GuidePart || (n.GuidePart = {})), cc._RF.pop()
    }, {"../../nox": "nox", "../utils/NetUtil": "NetUtil"}],
    GuideScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f5f80mHjgVB55vr0Eu7k5TU", "GuideScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("../../noxcc"), r = e("../../leocool/lc"), _ = e("../data/data"),
            s = e("../../leocool/lcAudio"), c = e("../AudioEnums"), l = e("../GuideManager"),
            d = e("../utils/RichTextUtil"), p = e("../config/UICfg"), u = e("../StringEnums"),
            g = e("../ui/panel/RewardCardPanel"), h = e("../../leocool/lcStr"), f = e("../utils/BattleInputUtil"),
            m = e("./BaseScene"), y = e("./ResSwitchScene"), T = e("../const/SceneId"),
            S = e("../ui/panel/CharacterPanel"), C = e("../ui/form/SetPlayerNameForm"), v = e("./SceneManager"),
            b = function (e) {
                function t() {
                    return e.call(this, T.SceneId.guide, i.AllViewTypes.GuideScene) || this
                }

                return a(t, e), t.prototype.init = function () {
                    null != P.getCharacterId() && 0 != P.getCharacterId() && (P._guideID = 83, null != P._name && "" != P._name && (P._guideID = 84))
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t._bg = o.noxcc.findSprite("bg", t.getRootNode()), t._spine = o.noxcc.findSkeleton("liliai", t.getRootNode()), t._rengqiu = o.noxcc.findSkeleton("rengqiu", t.getRootNode()), t._rengqiu.node.active = !1, t._dialog = o.noxcc.find("guide_dialog", t.getRootNode()), t._dialogLabel = o.noxcc.findRichText("content", t._dialog), t._arrow = o.noxcc.find("arrow", t._dialog), t._arrow.active = !1, t._arrow.runAction(r.lc.repeatForever(r.lc.sequence(r.lc.moveTo(.5, t._arrow.x, t._arrow.y - 10), r.lc.moveTo(.5, t._arrow.x, t._arrow.y))));
                    var n = o.noxcc.find("mask", t.getRootNode());
                    o.noxcc.addClick(n, function () {
                        t._isTalking ? (t._isTalking = !1, t._arrow.active = !0) : t._isTalking || 83 == P._guideID || 86 == P._guideID || (t.getRootNode().stopActionByTag(1001), t.nextStep())
                    })
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(_.Data.Event.change_char_dirty.addListener(null, function () {
                        83 == P._guideID && t.nextStep()
                    })), this._listeners.push(_.Data.Event.change_name_dirty.addListener(null, function () {
                        84 == P._guideID && t.nextStep()
                    })), s.lcAudio.playAudio(c.AUDIO.M_GUIDE), l.GuideManager.stopGuide(), this.nextStep()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                    this._listeners = []
                }, t.prototype.showGuideDialog = function (e, t) {
                    var n = this;
                    n._isTalking = !0, n._arrow.active = !1;
                    var a = 0;
                    if (t instanceof Array) for (var i = function (e) {
                        var i = r.lc.sequence(a, function () {
                            s.lcAudio.playAudio(t[e])
                        });
                        i.setTag(1001), n.getRootNode().runAction(i), a += s.lcAudio.getAudioDuration(t[e])
                    }, o = 0; o < t.length; ++o) i(o); else s.lcAudio.playAudio(t), a += s.lcAudio.getAudioDuration(t);
                    n._dialogLabel.node.active = !0, n._dialogLabel.string = d.RichTextUtil.createBoldBBCode(e, {
                        _normalClr: p.UICfg.COLOR_TEXT_LIGHT,
                        _boldClr: p.UICfg.COLOR_TEXT_GREEN_DARK,
                        _fontSize: p.UICfg.FontSize.S1
                    }), n._spine.node.stopAllActions(), n._spine.setAnimation(1, "animation3", !0), n._spine.setSkin("skin2"), n._spine.node.runAction(r.lc.sequence(a, function () {
                        n._spine.setSkin("skin1"), n._isTalking = !1, n._arrow.active = !0
                    }))
                }, t.prototype.showCards = function () {
                    for (var e = [], t = 0, n = Math.min(5, _.Data._characterInfo[P.getCharacterId()]._initCard.length); t < n; ++t) e.push({
                        _num: 1,
                        _infoId: _.Data._characterInfo[P.getCharacterId()]._initCard[t]
                    });
                    var a = [_.Data.CardNature.grass, _.Data.CardNature.fire, _.Data.CardNature.water, _.Data.CardNature.thunder],
                        i = u.STR.NATURE_NONE + a[P.getCharacterId() - 2];
                    g.RewardCardPanel.create(string.format(h.lcStr(u.STR.INIT_TROOP), h.lcStr(i)), e).show()
                }, t.prototype.gotoBattle = function () {
                    var e = f.BattleInputUtil.genInputFromGuidance([1, 2, 3, 4][P.getCharacterId() - 2]);
                    v.SceneManager.replaceScene(y.ResSwitchScene.create(this._sceneId, T.SceneId.battle, e))
                }, t.prototype.nextStep = function () {
                    if (this._rengqiu.node.active = !1, P._guideID < 80) P._guideID = 80, this.showGuideDialog(h.lcStr(u.STR.GUIDE_SCENE_01 + P._guideID - 80), c.AUDIO.E_LILIAI_1); else if (80 == P._guideID) {
                        P._guideID++, this.showGuideDialog(h.lcStr(u.STR.GUIDE_SCENE_01 + P._guideID - 80), [c.AUDIO.E_LILIAI_25, c.AUDIO.E_LILIAI_26]);
                        var e = this._rengqiu;
                        e.node.active = !0, e.setAnimation(1, "animation", !1), e.node.runAction(r.lc.sequence(2, function () {
                            e.setAnimation(1, "animation2", !0)
                        })), s.lcAudio.playAudio(c.AUDIO.E_POKEMON_APPEAR)
                    } else if (81 == P._guideID) P._guideID++, this.showGuideDialog(h.lcStr(u.STR.GUIDE_SCENE_01 + P._guideID - 80), c.AUDIO.E_LILIAI_2); else if (82 == P._guideID) P._guideID++, S.CharacterPanel.show(!0); else if (83 == P._guideID) P._guideID++, C.SetPlayerNameForm.show(); else if (84 == P._guideID) {
                        P._guideID++;
                        var t = h.lcStr(_.Data._monsterInfo[[10001, 11021, 12023, 13029][P.getCharacterId() - 2]]._nameSid);
                        this.showGuideDialog(string.format(h.lcStr(u.STR.GUIDE_SCENE_01 + P._guideID - 82), P._name, t), [c.AUDIO.E_LILIAI_3, c.AUDIO.E_LILIAI_3_1])
                    } else 85 == P._guideID ? (P._guideID++, this.showCards()) : 86 == P._guideID ? (P._guideID++, this.showGuideDialog(h.lcStr(u.STR.GUIDE_SCENE_01 + P._guideID - 83), c.AUDIO.E_LILIAI_4)) : 87 == P._guideID && (P._guideID++, this.gotoBattle())
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(m.BaseScene);
        n.GuideScene = b, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcStr": "lcStr",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../config/UICfg": "UICfg",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/form/SetPlayerNameForm": "SetPlayerNameForm",
        "../ui/panel/CharacterPanel": "CharacterPanel",
        "../ui/panel/RewardCardPanel": "RewardCardPanel",
        "../utils/BattleInputUtil": "BattleInputUtil",
        "../utils/RichTextUtil": "RichTextUtil",
        "./BaseScene": "BaseScene",
        "./ResSwitchScene": "ResSwitchScene",
        "./SceneManager": "SceneManager"
    }],
    GuideStoryDialog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d4a726Avt9HtKiO/jwsy4P9", "GuideStoryDialog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t
        }(e("./BaseGuideLayer").BaseGuideLayer);
        n.GuideStoryDialog = a, cc._RF.pop()
    }, {"./BaseGuideLayer": "BaseGuideLayer"}],
    GuideTouchLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "00d5957C2xPGau4OtxlqIFl", "GuideTouchLayer");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../leocool/lc"), o = e("../node/TouchLayer"), r = e("../../../noxcc"), _ = function (e) {
            function t() {
                var t = e.call(this) || this;
                t._linkNodes = [], t._blockTouch = !1, t._ignoreTouch = !1;
                var n = t;
                return t.setTouchHandler(n.onGuideTouch.bind(t)), t
            }

            return a(t, e), t.prototype.setBlockTouch = function (e) {
                this._blockTouch = e
            }, t.prototype.setIgnoreTouch = function (e) {
                this._ignoreTouch = e
            }, t.prototype.setOperateLayer = function (e, t) {
                this._targetNode = e, this._linkNodes = t ? t.slice() : []
            }, t.prototype.onGuideTouch = function (e) {
                if (this._ignoreTouch) return !1;
                if (this._blockTouch) return !0;
                var t = e.getLocation();
                if (this._targetNode && r.noxcc.isValid(this._targetNode), this._targetNode && i.lc.contain(this._targetNode, t)) return !1;
                if (this._linkNodes && this._linkNodes.length > 0) for (var n = this._linkNodes, a = 0; a < n.length; ++a) {
                    var o = n[a];
                    if (i.lc.contain(o, t)) return !1
                }
                return !0
            }, t.createGuideTouchLayer = function () {
                return new t
            }, t
        }(o.TouchLayer);
        n.GuideTouchLayer = _, cc._RF.pop()
    }, {"../../../leocool/lc": "lc", "../../../noxcc": "noxcc", "../node/TouchLayer": "TouchLayer"}],
    HallScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e9523w0zNZIAYgxvbg1c35H", "HallScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("../../noxcc"), r = e("./HeroCenterScene"), _ = e("../const/SceneId"),
            s = e("./SceneManager"), c = e("./InRoomScene"), l = e("../ClientView"), d = e("../part/RoomPart"),
            p = e("../ToastManager"), u = e("../StringEnums"), g = e("../../leocool/lcStr"),
            h = e("../ui/form/InputNumberForm"), f = e("../ui/form/RoomBattleReportForm"), m = e("./BaseUIScene"),
            y = e("../data/data"), T = e("../ClientData"), S = function (e) {
                function t() {
                    return e.call(this, _.SceneId.find_hall, i.AllViewTypes.HallScene) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mCreateHallBtn = o.noxcc.findButton("hall_area_bg/img_btn_blue", e.mRoot), e.mJoinHallBtn = o.noxcc.findButton("hall_area_bg/img_btn_green", e.mRoot), e.mDeckBtn = o.noxcc.findButton("hall_area_bg/img_btn_kazu", e.mRoot), e.mLogBtn = o.noxcc.findButton("hall_area_bg/img_btn_zhanbao", e.mRoot), e.mBackBtn = o.noxcc.findButton("hall_area_bg/topArea/topHeader/closeButton", e.mRoot), e.mHelpBtn = o.noxcc.findButton("hall_area_bg/topArea/topHeader/help_btn", e.mRoot), o.noxcc.addClick(e.mHelpBtn, e, function () {
                        T.ClientData.showHelpForm(g.lcStr(u.STR.HELP), y.Data.HelpType.room)
                    }), o.noxcc.addClick(e.mBackBtn, e, e.onBackBtn), o.noxcc.addClick(e.mCreateHallBtn, e, e.onCreateHallBtn), o.noxcc.addClick(e.mJoinHallBtn, e, function (t) {
                        h.InputNumberForm.create(g.lcStr(u.STR.INPUT_ROOM_ID) + ":", P._lastRoomId, function (t, n) {
                            e.onJoinHallBtn(t, n)
                        }.bind(e)).show()
                    }.bind(e)), o.noxcc.addClick(e.mLogBtn, e, e.onLogBtn), o.noxcc.addClick(e.mDeckBtn, e, e.onDeckBtn), o.noxcc.setLabelString(e.mDeckBtn.node.children[0], string.format("%s %d", g.lcStr(u.STR.TROOP), P._curTroopIndex))
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.onCreateHallBtn = function () {
                    l.ClientView.getActiveIndicator().show(g.lcStr(u.STR.WAITING)), d.RoomPart.sendCreateRoom()
                }, t.prototype.onEnterRoom = function () {
                    s.SceneManager.pushScene(c.InRoomScene.create())
                }, t.prototype.onJoinHallBtn = function (e, t) {
                    if (6 != t.length) return p.ToastManager.push(g.lcStr(u.STR.MATCH_JOIN_NOT_ALLOWED)), void e.hide();
                    l.ClientView.getActiveIndicator().show(g.lcStr(u.STR.WAITING)), d.RoomPart.sendQueryRoom(t), e.hide()
                }, t.prototype.onDeckBtn = function () {
                    var e = r.HeroCenterScene.create();
                    s.SceneManager.pushScene(e)
                }, t.prototype.onLogBtn = function () {
                    f.RoomBattleReportForm.create().show()
                }, t.prototype.onBackBtn = function () {
                    s.SceneManager.popScene()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(m.BaseUIScene);
        n.HallScene = S, cc._RF.pop()
    }, {
        "../../leocool/lcStr": "lcStr",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../part/RoomPart": "RoomPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/form/InputNumberForm": "InputNumberForm",
        "../ui/form/RoomBattleReportForm": "RoomBattleReportForm",
        "./BaseUIScene": "BaseUIScene",
        "./HeroCenterScene": "HeroCenterScene",
        "./InRoomScene": "InRoomScene",
        "./SceneManager": "SceneManager"
    }],
    HelpForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d9daeeAklFEWKaUMefF5y/J", "HelpForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../GuideManager"), _ = e("../../../leocool/lc"),
            s = e("../../../leocool/lcStr"), c = e("../../StringEnums"), l = e("../../../nox"), d = e("../../../noxcc"),
            p = e("../../utils/UIUtil"), u = e("../../config/UICfg"), g = e("../../utils/SpriteUtil"),
            h = e("../../../leocool/lcBBCode"), f = e("../../StaticPrefabMgr"), m = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.HelpForm) || this
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this.mTitle = e, this.mTexts = t
                }, t.prototype.onInitWidget = function () {
                    this.mCloseButton = d.noxcc.findButton("TopBar/closeBtn", this.mRoot), d.noxcc.addClick(this.mCloseButton, this, this.onCloseBtn), this.mCloseButtonbg = d.noxcc.findButton("BG", this.mRoot), d.noxcc.addClick(this.mCloseButtonbg, this, this.onCloseBtn), this.mContent = d.noxcc.find("Center/Panel/view/content", this.mRoot);
                    this.mTitle;
                    for (var e = this.mTexts, t = this.mContent, n = 0; n < e.length; n++) {
                        var a = _.lc.createNode(cc.size(680, 0)), i = d.noxcc.instantiate(d.noxcc.find("num", this.mRoot));
                        i.getComponent(cc.Label).string = string.format("%d.", n + 1);
                        var o = void 0, r = e[n];
                        if (-1 != r.indexOf("|")) {
                            var m = o.addComponent(cc.RichText);
                            f.StaticPrefabMgr.configDefaultTTFFont(m), m.maxWidth = _.lc.w(a) - 60;
                            for (var y = new h.lcBBCodeBuilder, T = string.splitByChar(r, "|"), S = 1, C = 0; C < T.length; C++) {
                                var v = T[C], b = string.find(v, "[")[0], E = string.find(v, "]")[1];
                                if (b >= 0 && E > b) {
                                    var I = v.substring(b, E - 1), P = g.SpriteUtil.createSprite(I),
                                        A = _.lc.createNode(P.node.getContentSize());
                                    A.y = -10, A.addChild(P.node), m.addCustomNode(l.nox.toString(C), A), y.next().img(l.nox.toString(C)).color(cc.Color.WHITE), y.next().text(s.lcStr(c.STR[string.format("SKILL_TYPE_%d", l.nox.toNumber(I[I.length - 1]))]) + "          "), y.color(u.UICfg.COLOR_TEXT_LIGHT).size(u.UICfg.FontSize.S1), S % 2 == 0 && y.next().br(), S += 1
                                } else y.next().text(v), y.color(u.UICfg.COLOR_TEXT_LIGHT).size(u.UICfg.FontSize.S1), y.next().br()
                            }
                            m.string = y.build()
                        } else {
                            var R = d.noxcc.find("text", this.mRoot);
                            if ((o = d.noxcc.instantiate(R)).getComponent(cc.Label).string = r, t.addChild(o), o.addChild(i), i.setPosition(cc.v2(_.lc.aleft(o) - 20, 0)), n < e.length - 1) {
                                var B = p.UIUtil.createDividingLine(_.lc.w(a), u.UICfg.COLOR_DIVIDING_LINE_LIGHT),
                                    N = B.addComponent(cc.Widget);
                                N.isAlignBottom = !0, N.bottom = -30, o.addChild(B), B.opacity = 128
                            }
                        }
                    }
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), r.GuideManager.isGuideEnabled() && r.GuideManager.pauseGuide()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), r.GuideManager.isGuideEnabled() && r.GuideManager.resumeGuide()
                }, t.prototype.onCloseBtn = function () {
                    this.hide()
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a._hideBg = !0, a
                }, t
            }(i.BaseForm);
        n.HelpForm = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcBBCode": "lcBBCode",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../GuideManager": "GuideManager",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    HelpUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0a8b1f90KNFV75M6nmjmvTp", "HelpUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data/data");
        (function (e) {
            e.isUnionBattleTroop = function (e) {
                return e >= a.Data.TroopIndex.union_battle1 && e <= a.Data.TroopIndex.union_battle5
            }, e.getUnpassTeachCount = function (e, t) {
                var n = e * a.Data.INFO_ID_GROUP_SIZE_LARGE, i = (e + 1) * a.Data.INFO_ID_GROUP_SIZE_LARGE, o = 0;
                for (var r in P.getMaxCharacterLevel(), a.Data._teachInfo) {
                    var _ = a.Data._teachInfo[r];
                    if (_._id > n && _._id < i && (null == t || Math.floor((_._id % a.Data.INFO_ID_GROUP_SIZE_LARGE - 1) / 8) + 1 == t)) {
                        var s = _._bonusId, c = P._playerBonus._bonusTeach[s];
                        null != c && c._value < c._info._val && (o += 1)
                    }
                }
                return o
            }
        })(n.HelpUtil || (n.HelpUtil = {})), cc._RF.pop()
    }, {"../data/data": "data"}],
    HeroCenterScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "90a4djSP+RJCr6yxVcYe8Dy", "HeroCenterScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i, o = e("../ui/widget/CardThumbnail"), r = e("../ui/node/NodeWithLabel"), _ = e("../ui/widget/CardList"),
            s = e("../ui/widget/FilterWidget"), c = e("../ui/AllViewTypes"), l = e("../../noxcc"),
            d = e("../data/data"), p = e("./BaseScene"), u = e("../config/UICfg"), g = e("../../leocool/lc"),
            h = e("../ui/common/Dialog"), f = e("../../leocool/lcStr"), m = e("../StringEnums"),
            y = e("../utils/RichTextUtil"), T = e("../ClientData"), S = e("../ClientView"),
            C = e("../part/UnionWarPart"), v = e("../../nox"), b = e("../GuideManager"), E = e("../ui/form/InputForm"),
            I = e("../ui/panel/TopMostPanel"), A = e("../../leocool/lcMath"), R = e("../ToastManager"),
            B = e("../ui/panel/CardInfoPanel"), N = e("../part/CardPart"), D = e("../const/ZOrder"),
            U = e("../const/ConfigKey"), M = e("../../leocool/lcAudio"), k = e("../AudioEnums"),
            L = e("../utils/ParticleUtil"), O = e("../const/SceneId"), x = e("./SceneManager");
        (function (e) {
            e[e.none = 0] = "none", e[e.horizontal = 1] = "horizontal", e[e.vertical = 2] = "vertical"
        })(i || (i = {}));
        var w = function (e) {
            function t() {
                var t = e.call(this, O.SceneId.manage_troop, c.AllViewTypes.HeroCenterScene) || this;
                return t._curTroopIndex = null, t._lastTabIndex = null, t._needUpdateTroopList = !1, t._frame = null, t._troopArea = null, t._cardNumValue = null, t._countPokemon = null, t._countCommand = null, t._tabArea = null, t._btnTroop = null, t._troopList = null, t._cacheTroopList = null, t._cardList = null, t._filterWidgets = [], t._movingSprite = null, t._maskLayer = null, t._sigleSprite = null, t._btnBack = null, t._movingDeadCard = null, t._mapCards = [], t
            }

            return a(t, e), t.prototype.init = function (e) {
                this._curTroopIndex = 0 == e ? 0 : v.nox.toNumber(P._curTroopIndex)
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
                var e = this;
                e._frame = l.noxcc.find("frame", e.mRoot), e._tabArea = l.noxcc.find("topArea/tabArea", e.mRoot), e._tabArea._tabs = [], e._tabArea._showTab = null, e.createTroopArea(), e.createCardList(), e._sigleSprite = l.noxcc.find("singleSprite", e.mRoot), l.noxcc.setActive(e._sigleSprite, !1);
                var t = l.noxcc.findButton("topArea/topHeader/closeButton", e.mRoot);
                l.noxcc.addClick(t, e, function () {
                    e.exitScene()
                }), e._btnBack = t.node;
                var n = l.noxcc.findButton("topArea/topHeader/help_btn", e.mRoot);
                l.noxcc.addClick(n, e, function () {
                    T.ClientData.showHelpForm(null, 1)
                })
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var t = this;
                return t._listeners = [], t.syncData(!0), t.updateButtonFlags(), t._listeners.push(d.Data.Event.group_cards_dirty.addListener(null, function () {
                    t.onSelectTroop(t._curTroopIndex - 1, !0)
                })), t._listeners.push(d.Data.Event.card_flag_dirty.addListener(null, function (e) {
                    t.onCardFlagDirty(e)
                })), t._needUpdateTroopList && (t.updateTroopList(), t._needUpdateTroopList = null), !0
            }, t.prototype.createTroopArea = function () {
                var e = this;
                e._troopArea = l.noxcc.find("troopArea", e.mRoot);
                var t = e._troopArea.getChildByName("img_troop"),
                    n = r.NodeWithLabel.createBMFont(u.UICfg.BMFont.huali_26, "1/1");
                g.lc.addChildToCenter(t.getChildByName("cardNum_bg"), n), e._cardNumValue = n;
                var a = r.NodeWithLabel.createBMFont(u.UICfg.BMFont.huali_26, "x0");
                g.lc.addChildToCenter(t.getChildByName("countPokemon_bg"), a), e._countPokemon = a;
                var i = r.NodeWithLabel.createBMFont(u.UICfg.BMFont.huali_26, "x0");
                g.lc.addChildToCenter(t.getChildByName("countCommand_bg"), i), e._countCommand = i, e._cacheTroopList = [];
                var o = l.noxcc.findButton("clear_btn", t);
                if (l.noxcc.addClick(o, e, function () {
                    h.Dialog.showDialog(f.lcStr(m.STR.SURE_TO_CLEAR_TROOP), function () {
                        e.clearTroop()
                    })
                }), e._troopList = l.noxcc.find("troopList/layout", e._troopArea), e._btnTroop = t.getChildByName("cardTroop_btn"), d.Data.isNormalTroop(e._curTroopIndex) || d.Data.isUnionBattleTroop(e._curTroopIndex) || d.Data.isDarkTroop(e._curTroopIndex)) {
                    l.noxcc.addClick(e._btnTroop, e, function () {
                        e.popSelectTroop()
                    });
                    var _ = r.NodeWithLabel.createTTF(string.format("%s%d", f.lcStr(m.STR.TROOP), P._curTroopIndex), u.UICfg.FontSize.S2);
                    g.lc.addChildToCenter(e._btnTroop, _), e._btnTroop._label = _
                } else {
                    var s = y.RichTextUtil.createBoldRichText(null, {
                        _normalClr: u.UICfg.COLOR_LABEL_LIGHT,
                        _boldClr: u.UICfg.COLOR_TEXT_GREEN,
                        _fontSize: u.UICfg.FontSize.S1
                    });
                    g.lc.addChildToPosAR(e._btnTroop, s.node, cc.v2(12, 0))
                }
            }, t.prototype.createCardList = function () {
                var e = this;
                e._cardList = _.CardList.create(cc.size(1200, 340), t.THUMBNAIL_SCALE, !1), e._cardList._pageFormat = "%s%d\n%d\n%s", g.lc.addChildToPosAR(e._frame, e._cardList.node, cc.v2(-5, 10)), e._cardList.registerCardSelectedHandler(function (t, n) {
                    e.onCardSelected(t, n)
                }), e._cardList.registerTouchThumbnail(function (t, n) {
                    e.onCardTouch(t, n)
                }), d.Data.isUnionBattleTroop(e._curTroopIndex) ? e._cardList.setMode(_.CardList.ModeType.union_battle_troop) : d.Data.isDarkTroop(e._curTroopIndex) ? e._cardList.setMode(_.CardList.ModeType.dark_troop) : e._cardList.setMode(_.CardList.ModeType.troop), e._cardList._pageLeft._pos = cc.v2(g.lc.asleft(e._cardList.node) - 16, g.lc.ah(e._cardList.node)), e._cardList._pageRight._pos = cc.v2(g.lc.asright(e._cardList.node) + 16, g.lc.ah(e._cardList.node)), l.noxcc.find("troopPage/curPage", e._frame).addChild(e._cardList._curPageLabel);
                var n = l.noxcc.find("topArea/tabArea/spriteCardBtn", e.mRoot),
                    a = l.noxcc.find("topArea/tabArea/commandBtn", e.mRoot);
                l.noxcc.addClick(n, e, function () {
                    e._tabArea._showTab && e._tabArea._showTab(s.FilterWidget.ModeType.monster)
                }), l.noxcc.addClick(a, e, function () {
                    e._tabArea._showTab && e._tabArea._showTab(s.FilterWidget.ModeType.magic)
                }), e._tabArea._tabs.push(n), e._tabArea._tabs.push(a);
                var i = l.noxcc.findButton("topArea/decomposeBtn", e.mRoot);
                e._tabArea._tabs.push(i.node), l.noxcc.addClick(i, e, function () {
                    e.onDecomposeAll()
                }), e._filterWidgets = [];
                for (var o = e._tabArea.parent, r = [s.FilterWidget.ModeType.monster, s.FilterWidget.ModeType.magic], c = 0; c < r.length; c++) {
                    var p = s.FilterWidget.create2(r[c], 433);
                    p.resetAllFilter(), p.registerSortFilterHandler(function () {
                        e.updateCardList(!0)
                    }), p.node.setVisible(0 == c), g.lc.addChildToPosAR(o, p.node, cc.v2(g.lc.right(i.node) + 4 + g.lc.asw(p.node), i.node.y)), e._filterWidgets.push(p)
                }
            }, t.prototype.syncData = function (t) {
                e.prototype.syncData.call(this);
                T.ClientData._cloneTroops = [], d.Data.isUnionBattleTroop(this._curTroopIndex) && !t ? (S.ClientView.getActiveIndicator().show(f.lcStr(m.STR.WAITING)), C.UnionWarPart.sendGetGroupCards()) : this.onSelectTroop(this._curTroopIndex, !0)
            }, t.prototype.updateButtonFlags = function () {
                S.ClientView.checkNewFlag(this._tabArea._tabs[0], P._playerCard.getMonsterFlag(), 40, -2), S.ClientView.checkNewFlag(this._tabArea._tabs[1], P._playerCard.getMagicFlag(), 40, -2)
            }, t.prototype.onSelectTroop = function (e, t) {
                var n = this;
                (n._curTroopIndex != e || t) && (n._curTroopIndex = e, null == T.ClientData._cloneTroops[n._curTroopIndex - 1] && (T.ClientData._cloneTroops[n._curTroopIndex - 1] = P._playerCard.getTroop(n._curTroopIndex, !0)), n.updateTroopList(), n._lastTabIndex = null, n._tabArea._showTab = function (e) {
                    n._tabArea._focusTabIndex = e, n.showTab(e)
                }, n._tabArea._showTab(n._tabArea._focusTabIndex && n._tabArea._focusTabIndex || 1))
            }, t.prototype.releaseTroopList = function () {
                for (var e = 0; e < this._cacheTroopList.length; ++e) {
                    var t = this._cacheTroopList[e];
                    o.CardThumbnail.releaseToPool(t._item), t.removeFromParent(), t.destroy(), t = null
                }
                this._cacheTroopList = [], this._troopList.removeAllChildren()
            }, t.prototype.remainItemFromList = function (e) {
                for (var t = [], n = this._cacheTroopList.length - 1; n >= 0; n--) {
                    for (var a = this._cacheTroopList[n], i = !1, o = 0; o < e.length; o++) {
                        var r = e[o];
                        if (a._card._infoId == r._infoId) {
                            i = !0;
                            break
                        }
                    }
                    i && (t.push(a), this._cacheTroopList.splice(n, 1))
                }
                return t
            }, t.prototype.updateTroopList = function () {
                var e, n = this._tabArea._focusTabIndex == d.Data.CardType.rare, a = [],
                    i = T.ClientData._cloneTroops[this._curTroopIndex - 1];
                e = this.remainItemFromList(i), this.releaseTroopList();
                for (var r = 0; r < i.length; r++) {
                    var _ = i[r], s = d.Data.getType(_._infoId), c = null;
                    if (n && s == d.Data.CardType.rare || !n && s != d.Data.CardType.rare) {
                        for (var p = 0; p < e.length; ++p) if (e[p]._card._infoId == _._infoId) {
                            c = e[p];
                            break
                        }
                        if (c) c._item._countArea.update(!0, _._num); else {
                            c = l.noxcc.newNode("troopCard");
                            var u = (g = o.CardThumbnail.createFromPool(_._infoId, t.TROOP_THUMBNAIL_SCALE, P._playerCard.getSkinId(_._infoId)))._thumbnail;
                            g.setContentSize(u.node.getContentSize()), c.setContentSize(u.node.getContentSize()), u.node.off(cc.Node.EventType.TOUCH_START, this.onTroopTouchThumbnail, this, !0), u.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTroopTouchThumbnail, this, !0), u.node.off(cc.Node.EventType.TOUCH_END, this.onTroopTouchThumbnail, this, !0), u.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTroopTouchThumbnail, this, !0), u.node.on(cc.Node.EventType.TOUCH_START, this.onTroopTouchThumbnail, this, !0), u.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTroopTouchThumbnail, this, !0), u.node.on(cc.Node.EventType.TOUCH_END, this.onTroopTouchThumbnail, this, !0), u.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTroopTouchThumbnail, this, !0), this._mapCards.push(u), g._countArea.update(!0, _._num), l.noxcc.setActive(g, !0), g.setParent(c), g.setPosition(cc.v2(0, 10)), c._item = g
                        }
                        a.push(c), c._card = _
                    }
                }
                v.nox.sort(a, function (e, t) {
                    return d.Data.getOriginId(e._card._infoId) < d.Data.getOriginId(t._card._infoId) ? -1 : d.Data.getOriginId(t._card._infoId) < d.Data.getOriginId(e._card._infoId) ? 1 : t._card._infoId - e._card._infoId
                });
                for (p = 0; p < a.length; p++) {
                    var g = a[p];
                    this._troopList.addChild(g), this._cacheTroopList.push(g)
                }
            }, t.prototype.showTab = function (e) {
                for (var t = 0; t < this._filterWidgets.length; t++) this._filterWidgets[t].node.setVisible(this._tabArea._focusTabIndex == t + 1);
                this.updateCardList(!0), null == this._lastTabIndex && this.updateTroopList(), this.updateBottomValueAreas(), this._lastTabIndex = e, string.find(b.GuideManager.getCurStepName(), "show tab") >= 0 && b.GuideManager.finishStepLater()
            }, t.prototype.updateCardList = function (e) {
                null == T.ClientData._cloneTroops[this._curTroopIndex - 1] && (T.ClientData._cloneTroops[this._curTroopIndex - 1] = P._playerCard.getTroop(this._curTroopIndex, !0));
                var t = {}, n = null, a = this._filterWidgets[this._tabArea._focusTabIndex - 1].getSortFunc(), i = a[0],
                    o = a[1];
                i && (n = {_func: i, _isReverse: !o});
                var r = this._tabArea._focusTabIndex - 1, s = this._filterWidgets[r];
                if (d.Data.BaseCardTypes[r] == d.Data.CardType.monster) {
                    var c = s.getFilterNatureFunc(), p = c[0], u = c[1];
                    p && (t[_.CardList.FilterType.country] = {_func: p, _keyVal: u});
                    var h = s.getFilterCategoryFunc(), f = h[0], m = h[1];
                    f && (t[_.CardList.FilterType.category] = {_func: f, _keyVal: m});
                    var y = s.getFilterLevelFunc(), S = y[0], C = y[1];
                    S && (t[_.CardList.FilterType.cost] = {_func: S, _keyVal: C})
                } else if (d.Data.BaseCardTypes[r] == d.Data.CardType.magic) {
                    var v = s.getFilterMagicTypeFunc(), b = v[0], E = v[1];
                    b && (t[_.CardList.FilterType.magictype] = {_func: b, _keyVal: E})
                }
                var I = s.getFilterQualityFunc(), A = I[0], R = I[1];
                A && (t[_.CardList.FilterType.quality] = {_func: A, _keyVal: R});
                var B = s.getFilterSearchFunc(), N = B[0], D = B[1];
                N && (t[_.CardList.FilterType.search] = {
                    _func: N,
                    _keyVal: D
                }), this._cardList._troopIndex = this._curTroopIndex, this._cardList.init(d.Data.BaseCardTypes[r], {}, n, t), this._cardList._pageLeft._pos = cc.v2(g.lc.asleft(this._cardList.node) - 16, g.lc.ah(this._cardList.node)), this._cardList._pageRight._pos = cc.v2(g.lc.asright(this._cardList.node) + 16, g.lc.ah(this._cardList.node)), this._cardList.refresh(e);
                var U = this._frame.getChildByName("troopPage");
                l.noxcc.setLabelString(U.getChildByName("totalPage"), this._cardList._totalPage)
            }, t.prototype.popSelectTroop = function () {
                var e = this, t = [];
                if (d.Data.isUnionBattleTroop(e._curTroopIndex)) for (var n = function (n) {
                    var a = {
                        _str: string.format("%s %d", f.lcStr(m.STR.UNION_TROOP), n - d.Data.TroopIndex.union_battle1 + 1),
                        _hideRemark: !0,
                        _hideExchange: !0,
                        _handler: function (t) {
                            1 == t && e.onSelectTroop(n, !1)
                        }
                    };
                    t.push(a)
                }, a = d.Data.TroopIndex.union_battle1; a < d.Data.TroopIndex.union_battle1 + d.Data.GROUP_NUM; a++) n(a); else if (d.Data.isDarkTroop(e._curTroopIndex)) {
                    var i = function (n) {
                        var a = {
                            _str: string.format("%s %d", f.lcStr(m.STR.DARK_TROOP), n - d.Data.TroopIndex.dark_battle1 + 1),
                            _hideRemark: !0,
                            _hideExchange: n == e._curTroopIndex,
                            _handler: function (t) {
                                1 == t ? e.onSelectTroop(n, !1) : 2 == t || (4 == t ? e.exchangeTroop(t) : E.InputForm.create(E.InputForm.Type.TROOP_REMARK, n, function () {
                                    e.popSelectTroop()
                                }, 15).show())
                            }
                        };
                        t.push(a)
                    };
                    for (a = d.Data.TroopIndex.dark_battle1; a < d.Data.TroopIndex.dark_battle3 + 1; a++) i(a)
                } else {
                    var o = Math.min(10, P.getCharacterCount()), r = function (n) {
                        var a = {};
                        P.getCharacterUnlockCount() < n + 1 ? a._str = string.format(f.lcStr(m.STR.NEED_UNLOCK_CHARACTER_COUNT), n + 1) : (a._str = string.format("%s %d", f.lcStr(m.STR.TROOP), n + 1), a._isDef = !1, a._remark = P._troopRemarks[n], a._hideExchange = !0, a._handler = function (t) {
                            1 == t ? e.onSelectTroop(n + 1, !1) : 2 == t || E.InputForm.create(E.InputForm.Type.TROOP_REMARK, n + 1, function () {
                                e.popSelectTroop()
                            }, 15).show()
                        }), t.push(a)
                    };
                    for (a = 0; a < o; a++) r(a)
                }
                var _ = I.TopMostPanel.TroopList.create();
                _ && (_.setButtonDefs(t), _.node.setPosition(510, 35), _.linkNode(e._btnTroop), _.show())
            }, t.prototype.clearTroop = function () {
                T.ClientData._cloneTroops[this._curTroopIndex - 1] = [], T.ClientData._cloneTroops[this._curTroopIndex - 1]._isDirty = !0, T.ClientData.saveTroops() && this.updateBottomValueAreas(), this.updateCardList(), this.updateTroopList()
            }, t.prototype.exchangeTroop = function (e) {
                T.ClientData._cloneTroops[e] = T.ClientData._cloneTroops[this._curTroopIndex - 1] || P._playerCard.getTroop(this._curTroopIndex, !0), T.ClientData._cloneTroops[e]._isDirty = !0, T.ClientData._cloneTroops[this._curTroopIndex - 1] = T.ClientData._cloneTroops[e] || P._playerCard.getTroop(e + 1, !0), T.ClientData._cloneTroops[this._curTroopIndex - 1]._isDirty = !0, T.ClientData.saveTroops() && this.updateBottomValueAreas(), this.updateCardList(), this.updateTroopList()
            }, t.prototype.updateBottomValueAreas = function () {
                var e = this._tabArea._focusTabIndex == d.Data.CardType.rare;
                e ? this._cardNumValue.setString(string.format("%d/%d", P._playerCard.getTroopCardCountByType(d.Data.CardType.rare, this._curTroopIndex), d.Data.MAX_RARE_TROOP_CARD_COUNT)) : d.Data.isUnionBattleTroop(this._curTroopIndex) ? this._cardNumValue.setString(string.format("%d/%d", P._playerCard.getTroopCardCountByType(null, this._curTroopIndex), d.Data.MAX_UNION_TROOP_CARD_COUNT)) : this._cardNumValue.setString(string.format("%d/%d", P._playerCard.getTroopCardCountByType(null, this._curTroopIndex), d.Data.MAX_TROOP_CARD_COUNT)), e || (this._countPokemon.setString(P._playerCard.getTroopCardCountByType(d.Data.CardType.monster, this._curTroopIndex)), this._countCommand.setString(P._playerCard.getTroopCardCountByType(d.Data.CardType.magic, this._curTroopIndex))), d.Data.isUnionBattleTroop(this._curTroopIndex) ? this._btnTroop._label.setString(f.lcStr(m.STR.UNION_TROOP) + (this._curTroopIndex - d.Data.TroopIndex.union_battle1 + 1)) : this._btnTroop._label.setString(f.lcStr(m.STR.TROOP) + " " + this._curTroopIndex)
            }, t.prototype.onItemPress = function (e, n) {
                this._movingSprite || (this._touchStatus = t.TouchStatus.press, this._movingDir = i.none, this._movingDeadCard = null)
            }, t.prototype.onItemMove = function (e, n) {
                if (this._touchStatus != t.TouchStatus.tap) {
                    if (this._touchStatus = t.TouchStatus.move, null == this._movingSprite) {
                        if (this._movingDir == i.none) {
                            A.lcMath.pSub(e.touch.getLocation(), e.touch.getStartLocation());
                            var a = e.touch.getDelta().x, o = e.touch.getDelta().y;
                            (a > 1 || o > 1) && (this._movingDir = a >= o ? i.horizontal : i.vertical)
                        }
                        n != t.MODE_TROOP && this._movingDir != i.vertical || this.createMovingSpriteAndMaskLayer(e, n)
                    }
                    if (this._movingSprite) {
                        var r = A.lcMath.pSub(e.touch.getLocation(), e.touch.getStartLocation());
                        r = A.lcMath.pAdd(this._movingSprite._srcPos, r), this._movingSprite.node.setPosition(r.x, r.y), this.checkList(n == t.MODE_TROOP ? this._troopList : this._cardList)
                    }
                }
            }, t.prototype.onItemTap = function (e, n) {
                var a = e.target;
                this._touchStatus = t.TouchStatus.tap;
                var i = this._tabArea._focusTabIndex == d.Data.CardType.rare, o = a.parent._thumbnail._infoId,
                    r = d.Data.getInfo(o), _ = d.Data.getType(o),
                    s = T.ClientData._cloneTroops[this._curTroopIndex - 1],
                    c = i ? P._playerCard.getTroopCardCountByType(d.Data.CardType.rare, this._curTroopIndex) : P._playerCard.getTroopCardNum(this._curTroopIndex),
                    l = d.Data.isUnionBattleTroop(this._curTroopIndex) && d.Data.MAX_UNION_TROOP_CARD_COUNT || d.Data.MAX_TROOP_CARD_COUNT,
                    p = (P._playerCard.getTroopCardCountByType(null, this._curTroopIndex), this.getTroopCardCount(T.ClientData._cloneTroops[this._curTroopIndex - 1], a._infoId));
                if (n == t.MODE_TROOP) {
                    if (this._movingSprite && this._isInList) {
                        var u = r._maxCount;
                        d.Data.isUnionBattleTroop(this._curTroopIndex) && (u *= d.Data.GROUP_NUM), c < l && p < u ? (this.onCardUnlocked(o), s._isDirty = !0, this.addCardToTroop(s, o), this.updateCardList(!1), this.updateTroopList(), T.ClientData.saveTroops() && this.updateBottomValueAreas(), this.playAction(o, !0, this._movingSprite._srcPos), string.hasPrefix(b.GuideManager.getCurStepName(), "troop card") && b.GuideManager.finishStepLater(.1)) : l <= c ? R.ToastManager.push(f.lcStr(m.STR.FULL_IN_TROOP)) : _ == d.Data.CardType.monster ? R.ToastManager.push(string.format(f.lcStr(m.STR.SAME_CARD_IN_TROOP), f.lcStr(m.STR.MONSTER))) : _ == d.Data.CardType.magic ? R.ToastManager.push(string.format(f.lcStr(m.STR.SAME_CARD_IN_TROOP), f.lcStr(m.STR.MAGIC))) : _ == d.Data.CardType.trap && R.ToastManager.push(string.format(f.lcStr(m.STR.SAME_CARD_IN_TROOP), f.lcStr(m.STR.TRAP)))
                    }
                } else if (n == t.MODE_UNTROOP && this._movingSprite && this._isInList) {
                    s._isDirty = !0;
                    var g = this.getTroopItem(o), h = g[0], y = g[1];
                    this.removeCardFromTroop(s, o), this.updateCardList(!1), this.updateTroopList(), T.ClientData.saveTroops() && this.updateBottomValueAreas(), this.playAction(o, !1, this._movingSprite._srcPos, y, h)
                }
                this._maskLayer && this.removeMaskLayer(n), this._movingSprite && (this._movingSprite.node.destroy(), this._movingSprite = null)
            }, t.prototype.onTroopTouchThumbnail = function (e) {
                var n = e.target;
                switch (n.stopAllActions(), e.type) {
                    case cc.Node.EventType.TOUCH_START:
                        n.runAction(cc.scaleTo(.1, .95)), this.onItemPress(e, t.MODE_UNTROOP);
                        break;
                    case cc.Node.EventType.TOUCH_END:
                        n.runAction(cc.scaleTo(.08, 1)), this.onItemTap(e, t.MODE_UNTROOP), this.onTroopThumbnailSelected(e);
                        break;
                    case cc.Node.EventType.TOUCH_MOVE:
                        this.onItemMove(e, t.MODE_UNTROOP);
                        break;
                    case cc.Node.EventType.TOUCH_CANCEL:
                        n.runAction(cc.scaleTo(.08, 1)), this.onItemTap(e, t.MODE_UNTROOP)
                }
            }, t.prototype.onTroopThumbnailSelected = function (e) {
                var t = e.target.parent._thumbnail;
                if (A.lcMath.pGetDistance(e.touch.getLocation(), e.touch.getStartLocation()) < 32) {
                    for (var n = B.CardInfoPanel.create(t._infoId, P._playerCard._levels[t._infoId], B.CardInfoPanel.OperateType.troop), a = [], i = 0, o = 0; o < this._cacheTroopList.length; ++o) {
                        var r = this._cacheTroopList[o]._item._thumbnail;
                        a.push({_infoId: r._infoId, _num: r._count}), t == r && (i = o + 1)
                    }
                    n.initListData(a, i, t._count), n.show()
                }
            }, t.prototype.onCardTouch = function (e, n) {
                var a = e.target;
                if (n == cc.Node.EventType.TOUCH_START) this.onItemPress(e, t.MODE_TROOP); else if (n == cc.Node.EventType.TOUCH_END || n == cc.Node.EventType.TOUCH_CANCEL) {
                    if (g.lc.V(this._movingDeadCard)) return;
                    this.onItemTap(e, t.MODE_TROOP)
                } else if (n == cc.Node.EventType.TOUCH_MOVE) {
                    if (a.parent._locked || this._movingDeadCard) return;
                    this.onItemMove(e, t.MODE_TROOP)
                }
            }, t.prototype.onCardSelected = function (e, t) {
                var n = e.target.parent._thumbnail._infoId, a = this._cardList.getThumbnail(n);
                if (A.lcMath.pGetDistance(e.touch.getLocation(), e.touch.getStartLocation()) < 20) {
                    if (B.CardInfoPanel.currenton()) return;
                    this.onCardUnlocked(n);
                    var i = B.CardInfoPanel.OperateType.operate;
                    this._curTroopIndex >= d.Data.TroopIndex.union_battle1 && this._curTroopIndex <= d.Data.TroopIndex.union_battle5 && (i = B.CardInfoPanel.OperateType.na);
                    var o = null;
                    o = P._guideID < 200 ? B.CardInfoPanel.create(n, P._playerCard._levels[a._infoId], B.CardInfoPanel.OperateType.troop) : B.CardInfoPanel.create(n, P._playerCard._levels[a._infoId], i), b.GuideManager.isGuideEnabled() ? "rare card" == b.GuideManager.getCurStepName() && b.GuideManager.finishStep() : o.initListData(this._cardList._cards, (this._cardList._curPage - 1) * this._cardList._itemRow * this._cardList._itemCol + t), o.show(), b.GuideManager.isGuideEnabled() && b.GuideManager.pauseGuide()
                }
            }, t.prototype.onCardUnlocked = function (e) {
                P._playerCard.isUnlocked(e) && (P._playerCard.removeUnlocked(e), N.CardPart.sendCardUnlockConfirmed(e))
            }, t.prototype.createMovingSpriteAndMaskLayer = function (e, n) {
                var a = e.target, i = n == t.MODE_TROOP && this._troopList || this._cardList,
                    r = n == t.MODE_TROOP && this._cardList || this._troopList, _ = a.parent._thumbnail._infoId,
                    s = o.CardThumbnail.create(_, P._playerCard.getSkinId(_));
                s.node.scale = t.THUMBNAIL_SCALE, s.node.setContentSize(g.lc.asrect(s.node)), this.mRoot.addChild(s.node, D.ZOrder.ui + 2), this._movingSprite = s;
                var c = this.mRoot.convertToNodeSpaceAR(a.convertToWorldSpaceAR(cc.v2(0, 0)));
                this._movingSprite._srcPos = c, this._movingSprite._abc = 1, this._movingSprite.node.setPosition(A.lcMath.pAdd(c, A.lcMath.pSub(e.touch.getLocation(), e.touch.getStartLocation())));
                var l = null, d = null;
                r == this._troopList && (r.parent.getComponent(cc.ScrollView).enabled = !1), i == this._cardList ? ((l = this.mRoot.convertToNodeSpaceAR(i.node.convertToWorldSpaceAR(cc.v2(0, 0)))).x = 0, d = cc.rect(l.x, l.y, g.lc.w(this.mRoot), g.lc.h(i.node) - 10), this._maskLayer = this.createMaskLayer(d), g.lc.addChildToCenter(this.mRoot, this._maskLayer, D.ZOrder.ui + 1), this._maskLayer.setPosition(0, -g.lc.ch(i.node) - 38), this._separatorPos = -(n == t.MODE_UNTROOP ? l.y : l.y + d.height)) : i == this._troopList && ((l = this.mRoot.convertToNodeSpaceAR(i.convertToWorldSpaceAR(cc.v2(0, 0)))).x = 0, d = cc.rect(l.x, l.y, g.lc.w(this.mRoot), g.lc.h(i) + 10), this._maskLayer = this.createMaskLayer(d), g.lc.addChildToCenter(this.mRoot, this._maskLayer, D.ZOrder.ui + 1), this._maskLayer.setPosition(0, this._frame.y - 5), this._separatorPos = n == t.MODE_UNTROOP ? l.y : l.y + d.height)
            }, t.prototype.createMaskLayer = function (e) {
                var t = l.noxcc.instantiate(this._sigleSprite);
                return l.noxcc.setActive(t, !0), t.setContentSize(this.mRoot.width, e.height), t
            }, t.prototype.removeMaskLayer = function (e) {
                e == t.MODE_TROOP || (this._troopList.parent.getComponent(cc.ScrollView).enabled = !0), this._maskLayer.destroyAllChildren(), this._maskLayer.removeFromParent(), this._maskLayer = null
            }, t.prototype.checkList = function (e) {
                var t = e == this._troopList;
                this._troopList;
                this._isInList = t ? this._separatorPos > g.lc.y(this._movingSprite.node) : this._separatorPos < g.lc.y(this._movingSprite.node)
            }, t.prototype.checkUnlockModule = function () {
                var e = P._level, t = g.lc.readConfig(U.ConfigKey.lock_level_herocenter, e), n = [];
                P.getUnlockSlotNumber(e, P._curTroopIndex) > P.getUnlockSlotNumber(t, P._curTroopIndex) && n.push(f.lcStr(m.STR.INTROOP_CARD_ADD));
                for (var a = P.getUnlockTroopNumber(e), i = "", o = P.getUnlockTroopNumber(t) + 1; o <= a; ++o) i = "" != i ? string.format("%s,%d", i, o) : string.format("%d", o);
                "" != i && n.push(f.lcStr(m.STR.TROOP) + i + f.lcStr(m.STR.UNLOCKED)), n.length > 0 && (R.ToastManager.pushArray(n), g.lc.writeConfig(U.ConfigKey.lock_level_herocenter, e))
            }, t.prototype.getTotalTroopCardCount = function (e) {
                for (var t = T.ClientData._cloneTroops[e] || P._playerCard.getTroop(e + 1, !0), n = 0, a = 0; 0 < t.length; a++) n += t[a]._num;
                return n
            }, t.prototype.exitScene = function () {
                var e = this, t = P._playerCard.checkTroop(e._curTroopIndex), n = t[0], a = t[1];
                if (!n) return h.Dialog.showDialog(a, function () {
                    d.Data.isDarkTroop(e._curTroopIndex) && (P._playerRank.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER), e.syncTroop(), x.SceneManager.popScene())
                }, !0);
                P._playerRank.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER), e.syncTroop(), x.SceneManager.popScene()
            }, t.prototype.onGuide = function (e) {
                if (string.hasPrefix(b.GuideManager.getCurStepName(), "troop card")) {
                    for (var t = null, n = 0; n < this._cardList._itemRow; n++) {
                        for (var a = 0; a < this._cardList._itemCol; a++) if (!this._cardList._items[n][a]._locked) {
                            t = this._cardList._items[n][a];
                            break
                        }
                        if (null != t) break
                    }
                    var i = [];
                    for (n = 0; n < this._cardList._itemRow; n++) for (a = 0; a < this._cardList._itemCol; a++) i.push(this._cardList._items[n][a]._thumbnail.node);
                    b.GuideManager.setOperateLayer(t._thumbnail.node, cc.v2(g.lc.convertPosAR(v.nox.cpos(t), t, this.mRoot).x, g.lc.convertPosAR(v.nox.cpos(this._troopList), this._troopList, this.mRoot).y), i)
                } else if ("rare card" == b.GuideManager.getCurStepName()) b.GuideManager.setOperateLayer(this._cardList._items[0][0]._thumbnail.node); else if ("show tab magic" == b.GuideManager.getCurStepName()) b.GuideManager.setOperateLayer(this._tabArea._tabs[1]); else if ("show tab rare" == b.GuideManager.getCurStepName()) b.GuideManager.setOperateLayer(this._tabArea._tabs[3]); else {
                    if ("leave manage troop" != b.GuideManager.getCurStepName()) return;
                    b.GuideManager.setOperateLayer(this._btnBack)
                }
            }, t.prototype.addCardToTroop = function (e, t) {
                for (var n = 0; n < e.length; ++n) {
                    var a = e[n];
                    if (a._infoId == t) return void (a._num = a._num + 1)
                }
                e[e.length] = {_infoId: t, _num: 1}
            }, t.prototype.removeCardFromTroop = function (e, t) {
                for (var n = 0; n < e.length; ++n) {
                    var a = e[n];
                    if (a._infoId == t) {
                        a._num = a._num - 1, 0 == a._num && e.splice(n, 1);
                        break
                    }
                }
            }, t.prototype.getTroopCardCount = function (e, t) {
                for (var n = 0; n < e.length; ++n) {
                    var a = e[n];
                    if (a._infoId == t) return a._num
                }
                return 0
            }, t.prototype.getTroopItem = function (e) {
                for (var t = 0; t < this._cacheTroopList.length; t++) {
                    var n = this._cacheTroopList[t], a = n._item._thumbnail;
                    if (g.lc.V(a) && a._infoId == e) return [n, t]
                }
                return [null, -1]
            }, t.prototype.getCardItem = function (e) {
                for (var t = 0; t < this._cardList._itemRow; ++t) for (var n = 0; n < this._cardList._itemCol; ++n) {
                    var a = this._cardList._items[t][n];
                    if (g.lc.V(a) && a._thumbnail._infoId == e) return a
                }
                return null
            }, t.prototype.playAction = function (e, t, n, a, i) {
                var o = this;
                M.lcAudio.playAudio(k.AUDIO.E_TROOP_INOUT), o.mRoot.runAction(g.lc.sequence(g.lc.delay(0), cc.callFunc(function () {
                    var a, i = null;
                    if (t) {
                        a = n;
                        var r = o.getTroopItem(e), _ = r[0];
                        r[1];
                        _ && ((i = o.mRoot.convertToNodeSpaceAR(_.convertToWorldSpaceAR(cc.v2(0, 0))) || cc.v2(u.UICfg.SCR_CW - 120, 170)).x = Math.min(u.UICfg.SCR_CW - 120, Math.max(0, i.x)))
                    } else {
                        i = n;
                        var s = o.getCardItem(e), c = void 0;
                        s && (c = o.mRoot.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(0, 0)))), a = g.lc.V(s) ? c : cc.v2(100 - u.UICfg.SCR_CW, 120)
                    }
                    var d = l.noxcc.newNode();
                    o.mRoot.addChild(d);
                    var p = L.ParticleUtil.createParticle("sz1");
                    g.lc.addChildToCenter(d, p);
                    var h = L.ParticleUtil.createParticle("sz2");
                    g.lc.addChildToCenter(d, h);
                    var f = t ? a : i, m = t ? i : a;
                    d.setPosition(f), d.runAction(g.lc.sequence(g.lc.moveTo(.3, m), cc.callFunc(function () {
                        p.getComponent(cc.ParticleSystem).duration = .1, h.getComponent(cc.ParticleSystem).duration = .1
                    }), g.lc.delay(.3), cc.removeSelf()))
                })))
            }, t.prototype.onCardFlagDirty = function (e) {
                this.updateButtonFlags();
                var t = this.getCardItem(e._infoId);
                g.lc.V(t) && t._thumbnail.updateFlag()
            }, t.prototype.syncTroop = function (e) {
                T.ClientData.sendTroops(!0, this._curTroopIndex), d.Data.isNormalTroop(this._curTroopIndex) && (T.ClientData.sendDefTroopIndex(this._curTroopIndex), null != T.ClientData._cloneTroops[this._curTroopIndex - 1] && T.ClientData._cloneTroops[this._curTroopIndex - 1].length > 0 && P.setCurrentTroopIndex(this._curTroopIndex, !1)), d.Data.isUnionBattleTroop(this._curTroopIndex) && !e && (S.ClientView.getActiveIndicator().show(f.lcStr(m.STR.WAITING)), C.UnionWarPart.sendGetGroupCards())
            }, t.prototype.onDecomposeAll = function () {
                var e = this, t = P._playerCard.getCanDecomposeCount(), n = t[0], a = t[1], i = t[2];
                n + a + i <= 0 ? R.ToastManager.push(f.lcStr(m.STR.DECOMPOSE_ALL_INVALID)) : h.Dialog.showDialog(string.format(f.lcStr(m.STR.DECOMPOSE_ALL_CONFIRM, !0), n, a, i), function () {
                    e.doDecomposeAll()
                })
            }, t.prototype.doDecomposeAll = function () {
                var e = P._playerCard.decomposeAll();
                e > 0 && N.CardPart.sendCardDecomposeBatch(), R.ToastManager.push(string.format(f.lcStr(m.STR.DECOMPOSE_SUCCESS), e, f.lcStr(d.Data._resInfo[d.Data.ResType.gold]._nameSid)))
            }, t.prototype.onReleaseWidget = function () {
                null != this._cardList && this._cardList.onRecycleCard(), e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onExit = function () {
                for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                for (var n in this._mapCards) {
                    var a = this._mapCards[n];
                    a.node.off(cc.Node.EventType.TOUCH_START, this.onTroopTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTroopTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_END, this.onTroopTouchThumbnail, this, !0), a.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTroopTouchThumbnail, this, !0)
                }
                this._mapCards = [], this.releaseTroopList(), this._needUpdateTroopList = !0, B.CardInfoPanel._operateType = B.CardInfoPanel.OperateType.na, e.prototype.onExit.call(this)
            }, t.prototype.onUpdate = function (e) {
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t.TouchStatus = {
                press: 1,
                tap: 3,
                move: 2
            }, t.MODE_UNTROOP = 1, t.MODE_TROOP = 2, t.EXPEDITION_BASE_LEVEL = 1, t.THUMBNAIL_SCALE = .46, t.TROOP_THUMBNAIL_SCALE = .41, t
        }(p.BaseScene);
        n.HeroCenterScene = w, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcMath": "lcMath",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../config/UICfg": "UICfg",
        "../const/ConfigKey": "ConfigKey",
        "../const/SceneId": "SceneId",
        "../const/ZOrder": "ZOrder",
        "../data/data": "data",
        "../part/CardPart": "CardPart",
        "../part/UnionWarPart": "UnionWarPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/common/Dialog": "Dialog",
        "../ui/form/InputForm": "InputForm",
        "../ui/node/NodeWithLabel": "NodeWithLabel",
        "../ui/panel/CardInfoPanel": "CardInfoPanel",
        "../ui/panel/TopMostPanel": "TopMostPanel",
        "../ui/widget/CardList": "CardList",
        "../ui/widget/CardThumbnail": "CardThumbnail",
        "../ui/widget/FilterWidget": "FilterWidget",
        "../utils/ParticleUtil": "ParticleUtil",
        "../utils/RichTextUtil": "RichTextUtil",
        "./BaseScene": "BaseScene",
        "./SceneManager": "SceneManager"
    }],
    HintForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e96eb1gKFxBFqpO0DaT0Ys3", "HintForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = e("../../scene/SceneManager"),
            _ = function (e) {
                function t() {
                    var t = e.call(this, i.AllViewTypes.HintForm) || this;
                    return t.mEscCallback = null, t.mSureCallback = null, t
                }

                return __extends(t, e), t.prototype.onInitWidget = function () {
                    this.mEscBtn = o.noxcc.findButton("img_btn_blue", this.mRoot), this.mSureBtn = o.noxcc.findButton("img_btn_green", this.mRoot), o.noxcc.addClick(this.mEscBtn, this, this.onEscBtn), o.noxcc.addClick(this.mSureBtn, this, this.onSureBtn)
                }, t.prototype.onEnter = function () {
                }, t.prototype.onExit = function () {
                }, t.prototype.onEscBtn = function () {
                    this.mEscCallback && this.mEscCallback(), this.hide()
                }, t.prototype.onSureBtn = function () {
                    this.mSureCallback && this.mSureCallback(), this.hide(), r.SceneManager.popScene()
                }, t.show = function (e, n) {
                    void 0 === e && (e = null), void 0 === n && (n = null);
                    var a = new t;
                    return a.mEscCallback = n, a.mSureCallback = e, a.show(), a
                }, t
            }(a.BaseForm);
        n.HintForm = _, cc._RF.pop()
    }, {
        "../../../noxcc": "noxcc",
        "../../scene/SceneManager": "SceneManager",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    HireHero: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8056bDhRtNJRJEHk4fK9TWh", "HireHero"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function (e) {
            }
        }();
        n.HireHero = a, cc._RF.pop()
    }, {}],
    HorizontalContentTabCustom: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "564694J1vZPxaK7MohFVnu+", "HorizontalContentTabCustom"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithShaderButton"), i = e("../../../leocool/lc"), o = e("../../config/UICfg"),
            r = e("../../utils/SpriteUtil"), _ = e("./NodeWithLabel"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    if (this.setContentSize(e), this.setAnchorPoint(.5, .5), t.length > 0) {
                        var r = i.lc.D(t[0]._left, 80);
                        this._tabs = [];
                        for (var s = 0; s < t.length; ++s) {
                            var c = t[s],
                                l = (i.lc.D(c._width, 140), a.NodeWithShaderButton.createShaderButton("biaoqian_an", function (e, t) {
                                    this.showTab(e + 1, !1, !0)
                                }.bind(this, s)));
                            i.lc.addChildToPosLB(this, l, cc.p(r + i.lc.w(l) / 2, i.lc.h(this) - o.UICfg.FRAME_INNER_TOP + i.lc.h(l) / 2)), l._label = _.NodeWithLabel.createBMFont(o.UICfg.BMFont.huali_26, c._labelStr), i.lc.addChildToPosLB(l, l._label, cc.p(i.lc.w(l) / 2 - 2, i.lc.h(l) / 2)), l._handler = c._handler, l._checkHandler = c._checkHandler, l.setZoomScale(0), this._tabs.push(l), r = r + i.lc.w(l) + 10
                        }
                    }
                    this._content = i.lc.createNode(this.getContentSize()), i.lc.addChildToCenter(this, this._content)
                }, t.prototype.showTab = function (e, t, n) {
                    if (this._focusTabIndex != e || t) {
                        var a = Math.min(e, this._tabs.length), i = this._tabs[a - 1];
                        if (null != this._focusTabIndex) {
                            var o = this._tabs[this._focusTabIndex - 1];
                            r.SpriteUtil.setSprite(o, "biaoqian_an"), o.setEnabled(!0)
                        }
                        this._focusTabIndex = a, r.SpriteUtil.setSprite(i, "biaoqian_liang"), i.setEnabled(!1), i._handler && i._handler(a)
                    }
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(cc.Node);
        n.HorizontalContentTabCustom = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    HorizontalContentTab: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "64f3aw+NS1LSL+jeO1EVOcz", "HorizontalContentTab"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("./NodeWithShaderButton"), o = e("../../config/UICfg"),
            r = e("./NodeWithLabel"), _ = e("../../../noxcc"), s = e("../../utils/SpriteUtil"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    this.setContentSize(e);
                    var _ = this.createFrameBox(e);
                    if (a.lc.addChildToCenter(this, _), t.length > 0) {
                        var s = a.lc.D(t[0]._left, 80);
                        this._tabs = [];
                        for (var c = 0; c < t.length; ++c) {
                            var l = t[c],
                                d = (a.lc.D(l._width, 140), i.NodeWithShaderButton.createShaderButton("img_btn_tab_bg_unfocus_2", function (e, t) {
                                    this.showTab(e + 1, !1, !0)
                                }.bind(this, c)));
                            a.lc.addChildToPosLB(_, d, cc.p(s + a.lc.w(d) / 2, a.lc.h(_) - o.UICfg.FRAME_INNER_TOP + a.lc.h(d) / 2)), d._label = r.NodeWithLabel.createBMFont(o.UICfg.BMFont.huali_26, l._labelStr), a.lc.addChildToPosLB(d, d._label, cc.p(a.lc.w(d) / 2 - 2, a.lc.h(d) / 2)), d.setZoomScale(0), this._tabs.push({
                                _btn: d,
                                _handler: l._handler,
                                _checkHandler: l._checkHandler
                            }), s = s + a.lc.w(d) + 10
                        }
                    }
                    this._content = a.lc.createNode(this.getContentSize()), a.lc.addChildToCenter(this, this._content)
                }, t.prototype.createFrameBox = function (e) {
                    var t = s.SpriteUtil.createImageView({
                        _name: "img_com_bg_21",
                        _crect: o.UICfg.CRECT_COM_BG21,
                        _size: e
                    }), n = s.SpriteUtil.createImageView({
                        _name: "img_com_bg_23",
                        _crect: o.UICfg.CRECT_COM_BG23,
                        _size: cc.size(a.lc.w(t) - 40, a.lc.h(t) - 40)
                    });
                    return a.lc.addChildToCenter(t, n, -2), t
                }, t.prototype.showTab = function (e, t, n) {
                    if (this._focusTabIndex != e || t) {
                        var a = Math.min(e, this._tabs.length), i = this._tabs[a - 1];
                        if (null != this._focusTabIndex) {
                            var o = this._tabs[this._focusTabIndex - 1];
                            o._btn.setDisplayFrame("img_btn_tab_bg_unfocus_2"), _.noxcc.setButtonInteractable(o._btn, !0)
                        }
                        this._focusTabIndex = a, i._btn.setDisplayFrame("img_btn_tab_bg_focus_2"), _.noxcc.setButtonInteractable(i, !1), i._handler && i._handler(a)
                    }
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(cc.Node);
        n.HorizontalContentTab = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    IconLabelArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8d6c2SNxOVFE784TGC6pkFK", "IconLabelArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../config/UICfg"), o = e("../../../leocool/lc"),
            r = e("../../../nox"), _ = e("./NodeWithLabel"), s = e("../../../noxcc"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, c, l) {
                    var d = a.SpriteUtil.frameFullSize("bat_avatar_bg_02").height, p = cc.size(n, d),
                        u = i.UICfg.CRECT_COM_BG1;
                    if (u.y = 0, u.height = d, this.setContentSize(p), this._originSize = p, c) {
                        var g = this.addComponent(cc.Button);
                        g.target = this, g.transition = cc.Button.Transition.SCALE, g.duration = .1, g.zoomScale = .9
                    }
                    var h = a.SpriteUtil.addSprite(this, {_name: "bat_avatar_bg_02", _crect: u});
                    this._valBg = h;
                    var f = a.SpriteUtil.createSprite(e);
                    f.node.setPosition(o.lc.aleft(this) + o.lc.asleft(f.node) + 4, 2), this.addChild(f.node), this._icon = f;
                    var m = null;
                    l && ((m = a.SpriteUtil.createSprite(l).node).setPosition(o.lc.aright(this) - o.lc.asright(m) - 26, 0), s.noxcc.setSpriteColor(m, r.nox.c3b(255, 230, 30)), this.addChild(m), this._btnAdd = m), t = t || "0";
                    var y = _.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_26, t), T = o.lc.right(f.node),
                        S = m ? o.lc.right(m) : o.lc.aright(this) - 5, C = Math.floor((T + S) / 2);
                    y.setPosition(C, 1), this.addChild(y), this._label = y
                }, t.prototype.overAllScale = function (e) {
                    this.setContentSize(this._originSize.width * e, this._originSize.height), this._icon.node.x = o.lc.aleft(this) + r.nox.aw(this._icon.node) + 10
                }, t.prototype.setTouchRect = function (e) {
                }, t.create = function (e, n, a, i, o) {
                    var r = new t;
                    return r.init(e, n, a, i, o), r
                }, t
            }(cc.Node);
        n.IconLabelArea = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    IconWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "41945COB05OVbx8oyJnzMs6", "IconWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../noxcc"), o = e("../../../leocool/lc"), r = e("../../data/data"),
            _ = e("../../utils/TimeUtil"), s = e("../../ClientData"), c = e("../../ClientView"),
            l = e("../../config/UICfg"), d = e("../../utils/UIUtil"), p = e("../../../nox"),
            u = e("../panel/TopMostPanel"), g = e("../../utils/SpriteUtil"), h = e("../../const/SceneId"),
            f = e("../../battle/scene/BattleScene"), m = e("../../GuideManager"), y = e("../panel/CardInfoPanel"),
            T = e("../form/DescForm"), S = e("../node/NodeWithLabel"), C = e("../../../framework/NoxTipWidget"),
            v = e("../../../leocool/lcStr"), b = e("../../StringEnums"), E = e("../../utils/SpineUtil"),
            I = e("../../BaseComponent"), A = e("../../scene/SceneManager"), R = e("../../utils/RichTextUtil"),
            B = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.prototype.init = function () {
                    this._data = {_infoId: null}, this._nameColor = l.UICfg.COLOR_TEXT_DARK;
                    var e = this._lightBox = i.noxcc.newNode("light_box"),
                        t = g.SpriteUtil.createTrimmedSprite("card_icon_quality_00"), n = i.noxcc.newNode("frame");
                    n.setContentSize(t.node.getContentSize()), this.addProtectedChild(n), this._frame = n, e.setContentSize(t.node.getContentSize()), o.lc.addChildToCenter(n, e);
                    var a = g.SpriteUtil.createTrimmedSprite("img_card_ico_bg");
                    o.lc.addChildToCenter(n, a.node);
                    var r = g.SpriteUtil.createSprite("img_blank");
                    o.lc.addChildToCenter(n, r.node), this._img = r;
                    var _ = g.SpriteUtil.createSprite("icon_mask").node;
                    o.lc.addChildToPosLB(t.node, _, cc.v2(o.lc.cw(n), o.lc.ch(_) + 10)), this._countBg = _.getComponent(cc.Sprite), n.addChild(t.node, 2), this._frameBox = t;
                    var s = g.SpriteUtil.createSprite("img_icon_fragment_s").node;
                    o.lc.addChildToPosLB(n, s, cc.v2(o.lc.w(n) - 15, o.lc.h(n) - 15)), this._fragment = s;
                    var c = d.UIUtil.createBMFont(l.UICfg.BMFont.huali_20, "");
                    c.setScale(.8), c.setAnchorPoint(1, .5), o.lc.addChildToPosLB(_, c, cc.v2(o.lc.w(_) - 5, o.lc.h(_) / 2)), this._countBgText = c.getComponent(cc.Label);
                    var p = S.NodeWithLabel.createWithTTF("", l.UICfg.TTF_FONT, l.UICfg.FontSize.S4);
                    this.addProtectedChild(p), this._nameLabel = p._label, this.setTouchEndCancelRange(l.UICfg.BUDGE_LIMIT)
                }, t.prototype.registCallback = function (e) {
                    this._callback = e
                }, t.prototype.onEnable = function () {
                    0 != (this._flag & t.DisplayFlag.LEVEL) && (this._listener = r.Data.Event.card_dirty.addListener(null, function (e) {
                        this._data && e == this._data._infoId && this.setData(this._data, this._flag)
                    }))
                }, t.prototype.onDisable = function () {
                    this.cancelLongPress(), this._listener && (this._listener.remove(), this._listener = null)
                }, t.prototype.onTouchStart = function (e) {
                    var t = this;
                    if (this._touchEnabled) {
                        t._longPressTime = 0, t._isLongPressing = null, t._longPressID = p.nox.scheduleInterval(function (e) {
                            if (!t._isLongPressing && (t._longPressTime = t._longPressTime + e, t._longPressTime >= .3)) {
                                t._isLongPressing = !0;
                                var n = t._isHide ? u.TopMostPanel.DescPanel.create(v.lcStr(b.STR.EXPLORE_UNFOUNDED)) : u.TopMostPanel.DescPanel.createByInfoId(t._data._infoId, !1);
                                n && n.show(t.getRoot())
                            }
                        }, o.lc.absTime(.1))
                    }
                }, t.prototype.onTouchMove = function (e) {
                    e.touch.getLocation().sub(e.touch.getStartLocationInView()).mag() < l.UICfg.BUDGE_LIMIT && (this.cancelLongPress(), this._isLongPressing && C.NoxTipWidget.hideCurrentTipWidget())
                }, t.prototype.onTouchEndOrCancel = function (e) {
                    if (this.cancelLongPress(), this._isLongPressing) C.NoxTipWidget.hideCurrentTipWidget(); else if (e.type == cc.Node.EventType.TOUCH_END) if (this._callback) this._callback(this); else {
                        var t = this._data, n = A.SceneManager.getRunningScene(), a = null;
                        if (t._infoId > 0 && !this._isHide) {
                            m.GuideManager.isGuideEnabled() && m.GuideManager.pauseGuide();
                            var i = r.Data.getType(t._infoId);
                            if (i == r.Data.CardType.res || i == r.Data.CardType.props) (a = T.DescForm.create(t)).show(); else {
                                var o = y.CardInfoPanel.create(t._infoId, null, y.CardInfoPanel.OperateType.view);
                                null != t._cardList && o.initListData(t._cardList, t._index + 1, t._count), o.show()
                            }
                            a && n._sceneId == h.SceneId.battle && a.setLocalZOrder(f.BattleScene.ZOrder.form + 1)
                        }
                    }
                }, t.prototype.setGray = function (e) {
                    var t = e ? 1 : 0;
                    this._frameBox.setState(t), this._img.setState(t)
                }, t.prototype.setTouchEndCancelRange = function (e) {
                }, t.prototype.setTouchEnabled = function (e) {
                    this._touchEnabled = !!this._touchEnabled, e = !!e, this._touchEnabled != e && (this._touchEnabled = e, this._touchEnabled ? (this.getRoot().on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.getRoot().on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.getRoot().on(cc.Node.EventType.TOUCH_END, this.onTouchEndOrCancel, this), this.getRoot().on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEndOrCancel, this)) : (this.getRoot().off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.getRoot().off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.getRoot().off(cc.Node.EventType.TOUCH_END, this.onTouchEndOrCancel, this), this.getRoot().off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEndOrCancel, this)))
                }, t.prototype.setEnabled = function (e) {
                    this.setGray(!e), this.setTouchEnabled(e)
                }, t.prototype.resetIcon = function () {
                    this.getRoot().setAnchorPoint(.5, .5), this.getRoot().setPosition(0, 0), this.getRoot().angle = 0, this.getRoot().setScale(1), this.getRoot().opacity = 255, this.getRoot().setVisible(!0), this._nameColor = l.UICfg.COLOR_TEXT_DARK, this._callback = null, this._isHide = !1, this._touchHandles = null, this.removeAllChildren(), this._lightBox.destroyAllChildren(), this.setEnabled(!0)
                }, t.prototype.resetData = function (e) {
                    var t = this._data;
                    t._infoId = e._infoId, t._count = o.lc.D(e._count, e._num), t._param = e._param, this.setData(t, this._flag)
                }, t.prototype.formatNameLabel = function (e) {
                    if (this._nameLabel) {
                        var t = this._nameLabel.string;
                        if (t) {
                            var n = R.RichTextUtil.formatStr(t, e._maxLineNum, e._maxLine, !1);
                            this._nameLabel.string = n, -1 != n.indexOf("\n") && n.indexOf("\n") != n.length && null != e._ax && null != e._ay && this._nameLabel.node.setAnchorPoint(e._ax, e._ay)
                        }
                        this._nameLabel.horizontalAlign = cc.Label.HorizontalAlign.CENTER
                    }
                }, t.prototype.setData = function (e, n) {
                    this._data != e && (cc.assert(!1, "impossible"), this._data._infoId = e._infoId, this._data._count = o.lc.D(e._count, e._num), this._data._param = e._param), this._flag = n = o.lc.D(n, t.DisplayFlag.ITEM);
                    var a = this._frameBox, i = this._img, u = this._nameLabel, h = o.lc.D(e._count, e._num);
                    r.Data.getType(e._infoId) == r.Data.CardType.props && e._infoId >= r.Data.PropsId.special && (h = null), null != h && h >= 0 && 0 != (n & t.DisplayFlag.COUNT) ? (this._countBg.node.setVisible(!0), this._countBgText.node.setVisible(!0), this._countBgText.node.color = o.lc.Color3B.white, this._countBgText.string = _.TimeUtil.formatNum(h, 9999)) : e._param && 0 != (n & t.DisplayFlag.COUNT_RANGE) ? (this._countBg.node.setVisible(!0), this._countBgText.node.setVisible(!0), this._countBgText.node.color = o.lc.Color3B.white, this._countBgText.string = string.format("%s-%s", _.TimeUtil.formatNum(e._param._min, 9999), _.TimeUtil.formatNum(e._param._max, 9999))) : (this._countBg.node.setVisible(!1), this._countBgText.node.setVisible(!1));
                    var f = !!(n & t.DisplayFlag.NAME_SINGLE), m = f ? 24 : 48;
                    if (f ? (u.overflow = cc.Label.Overflow.NONE, u.horizontalAlign = cc.Label.HorizontalAlign.CENTER, u.verticalAlign = cc.Label.VerticalAlign.CENTER) : (u.node.width = 120, u.overflow = cc.Label.Overflow.RESIZE_HEIGHT, u.horizontalAlign = cc.Label.HorizontalAlign.CENTER, u.verticalAlign = cc.Label.VerticalAlign.CENTER), 0 != (n & t.DisplayFlag.NAME)) {
                        var y = s.ClientData.getNameByInfoId(e._infoId);
                        u.node.setVisible(!0), u.string = y, this.getRoot().setContentSize(o.lc.w(this._frame), o.lc.h(this._frame) + m), p.nox.setPosLB(u.node, o.lc.cw(this.getRoot()), m / 2), p.nox.setPosLB(this._frame, o.lc.cw(this.getRoot()), m + o.lc.sh(this._frame) / 2)
                    } else u.node.setVisible(!1), this.getRoot().setContentSize(o.lc.w(this._frame), o.lc.h(this._frame)), p.nox.setPosLB(this._frame, o.lc.cw(this.getRoot()), o.lc.ch(this.getRoot()));
                    if (this._decArea && (this._decArea.removeFromParent(), this._decArea.destroy(), this._decArea = null), i.node.destroyAllChildren(), i.node.setScale(1), this._fragment.active = !1, 0 == e._infoId) this.setSpriteDisplay(a, "card_icon_quality_00"), this.setSpriteDisplay(i, "card_ico_0"); else {
                        var T = r.Data.getInfo(e._infoId), S = r.Data.getType(e._infoId);
                        if (S == r.Data.CardType.fragment && (T = r.Data.getInfo(P._playerCard.convert2CardId(e._infoId))), null == T && S != r.Data.CardType.nature && S != r.Data.CardType.category && S != r.Data.CardType.keyword && (e._infoId = 10001, T = r.Data.getInfo(e._infoId), S = r.Data.getType(e._infoId)), S == r.Data.CardType.res) this.setSpriteDisplay(a, "card_icon_quality_00", l.UICfg.SHADER_GRAY_FRAME), this.setSpriteDisplay(i, s.ClientData.getResIconName(e._infoId, !0)); else if (S == r.Data.CardType.nature || S == r.Data.CardType.category || S == r.Data.CardType.keyword) this.setSpriteDisplay(a, "card_icon_quality_01", l.UICfg.SHADER_TYPES[r.Data.CardType.monster]), this.setSpriteDisplay(i, string.format("card_ico_%d", e._infoId)); else if (S == r.Data.CardType.other) e._infoId, this.setSpriteDisplay(a, "card_icon_quality_00"), this.setSpriteDisplay(i, "card_icon_unknow"); else if (S == r.Data.CardType.props) if (r.Data.isAvatarFrame(e._infoId)) {
                            var C = P._propBag.validPropId(e._infoId)[0];
                            this.setSpriteDisplay(i, s.ClientData.getAvatarFrameName(C)), i.node.setScale(.7), this.setSpriteDisplay(a, "card_icon_quality_00");
                            var v = d.UIUtil.getPropExtra(e._infoId, i.node)[1];
                            v && i.node.addChild(v)
                        } else if (r.Data.isCardBack(e._infoId)) this.setSpriteDisplay(i, c.ClientView.getCardBackName(e._infoId)), i.node.setScale(.12), this.setSpriteDisplay(a, "card_icon_quality_00", l.UICfg.SHADER_GRAY_FRAME); else if (T._type == r.Data.PropsType.artifact) this.setSpriteDisplay(i, "card_icon_empty"), this.setSpriteDisplay(a, s.ClientData.getPropIconName(e._infoId, !0)); else {
                            T._quality;
                            var b = T._cardType;
                            b > 0 ? this.setSpriteDisplay(a, "card_icon_quality_00", l.UICfg.SHADER_TYPES[b]) : this.setSpriteDisplay(a, "card_icon_quality_00", l.UICfg.SHADER_GRAY_FRAME), g.SpriteUtil.getSpriteFrame(s.ClientData.getPropIconName(e._infoId, !0)) && this.setSpriteDisplay(i, s.ClientData.getPropIconName(e._infoId, !0))
                        } else {
                            var E = P._playerCard.convert2CardId(e._infoId), I = c.ClientView.getCardShader(E);
                            this.setSpriteDisplay(a, d.UIUtil.getCardIconFrameName(T._quality), I), this.setSpriteDisplay(i, d.UIUtil.getCardIconName(E)), S == r.Data.CardType.fragment && (this._fragment.active = !0)
                        }
                        null != h && h < 0 && this.setGray(!0)
                    }
                    this.setHide(this._isHide)
                }, t.prototype.setNameColor = function (e) {
                    this._nameColor = e, i.noxcc.setLabelColor(this._nameLabel, this._nameColor)
                }, t.prototype.setSpriteDisplay = function (e, t, n) {
                    null == g.SpriteUtil.getSpriteFrame(t) && (t = string.format("props_ico_%d", 8018)), t && g.SpriteUtil.setSprite(e, t)
                }, t.prototype.setHide = function (e) {
                    if (this._isHide = e, e) {
                        var t = r.Data.getInfo(this._data._infoId), n = t ? t._quality : 1;
                        n == r.Data.CardQuality.R && (n = r.Data.CardQuality.U), this.setSpriteDisplay(this._img, string.format("ico_unknown_%02d", n))
                    }
                }, t.prototype.getNameLabel = function () {
                    return this._nameLabel
                }, t.prototype.cancelLongPress = function () {
                    this._longPressID && (p.nox.unscheduleInterval(this._longPressID), this._longPressID = null)
                }, t.prototype.checkHighlight = function () {
                    if (this.needHighlight()) {
                        this._lightBox.destroyAllChildren();
                        var e = g.SpriteUtil.createSprite("img_light_3").node;
                        e.color = o.lc.Color3B.yellow, e.setScale(1.5), o.lc.addChildToCenter(this._lightBox, e);
                        var t = g.SpriteUtil.createSprite("img_light_2").node;
                        t.color = e.color, t.setScale(3), t.runAction(o.lc.repeatForever(o.lc.rotateBy(4, 360))), o.lc.addChildToCenter(this._lightBox, t)
                    }
                }, t.prototype.needHighlight = function () {
                    if (null == this._data || null == this._data._infoId || null == this._data._count) return !1;
                    var e = this._data._infoId, t = this._data._count, n = r.Data.getType(e);
                    return n >= r.Data.CardType.monster && n <= r.Data.CardType.trap || (e == r.Data.PropsId.rare_package_ticket || e == r.Data.PropsId.character_package_ticket || e == r.Data.PropsId.times_package_ticket ? t >= 5 : e == r.Data.PropsId.millennium_block)
                }, t.prototype.addNewHighLight = function () {
                    if (null == this._data || null == this._data._infoId) return !1;
                    var e = r.Data.getInfo(this._data._infoId), t = r.Data.getType(this._data._infoId), n = null;
                    t != r.Data.CardType.monster && t != r.Data.CardType.magic || (e._quality >= r.Data.CardQuality.SR ? n = E.SpineUtil.createSpineAnim("xiyoudu1", "default", "animation", !0) : e._quality >= r.Data.CardQuality.RR && (n = E.SpineUtil.createSpineAnim("xiyoudu2", "default", "animation", !0))), n && (o.lc.addChildToPosAR(this.getRoot(), n, this._frame.getPosition(), 1), o.lc.offset(n, -2, 6))
                }, t.create = function (e, n) {
                    var a = t.poolCreate(), i = a._data;
                    return i._infoId = e._infoId, i._count = o.lc.D(e._count, e._num), i._param = e._param, i._showOwnCount = e._showOwnCount, i._cardList = e._cardList, i._index = e._index, i._title = e._title, a.resetIcon(), a.setData(i, n), a
                }, t.createByBonus = function (e, n, a) {
                    var i = t.poolCreate(), o = i._data;
                    return o._infoId = e._rid[n - 1], o._count = e._count[n - 1], o._param = e._param, i.resetIcon(), i.setData(o, a), i
                }, t.createByInfoId = function (e, n, a) {
                    var i = t.poolCreate(), r = i._data;
                    return r._infoId = e, r._count = n, i.resetIcon(), i.setData(r, o.lc.D(a, t.DisplayFlag.CARD_TROOP)), i
                }, t.poolCreate = function () {
                    var e = o.lc.createNode().addComponent(t);
                    return e.init(), e
                }, t
            }(I.BaseComponent);
        n.IconWidget = B, function (e) {
            e.SIZE = 92, e.DisplayFlag = {
                LEVEL: 2,
                COUNT: 4,
                NAME: 16,
                COUNT_RANGE: 32,
                NAME_SINGLE: 128,
                ITEM: 0,
                ITEM_RANGE: 0,
                ITEM_NO_NAME: 0,
                CARD_TROOP: 0
            }, e.DisplayFlag.ITEM = e.DisplayFlag.COUNT | e.DisplayFlag.NAME, e.DisplayFlag.ITEM_RANGE = e.DisplayFlag.COUNT_RANGE | e.DisplayFlag.NAME, e.DisplayFlag.ITEM_NO_NAME = 0 | e.DisplayFlag.COUNT, e.DisplayFlag.CARD_TROOP = e.DisplayFlag.LEVEL | e.DisplayFlag.COUNT
        }(B = n.IconWidget || (n.IconWidget = {})), n.IconWidget = B, cc._RF.pop()
    }, {
        "../../../framework/NoxTipWidget": "NoxTipWidget",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../battle/scene/BattleScene": "BattleScene",
        "../../config/UICfg": "UICfg",
        "../../const/SceneId": "SceneId",
        "../../data/data": "data",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../form/DescForm": "DescForm",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../panel/CardInfoPanel": "CardInfoPanel",
        "../panel/TopMostPanel": "TopMostPanel"
    }],
    IllustrationPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7a5944Qzm9MHbEZdUkSo2P5", "IllustrationPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../data/data"), _ = e("../../../noxcc"),
            s = e("../../../nox"), c = e("../../../leocool/lcStr"), l = e("../widget/IconWidget"),
            d = e("../../utils/SpriteUtil"), p = e("../../utils/UIUtil"), u = e("../../config/UICfg"),
            g = (e("../../../leocool/lc"), cc.size(108, 136)), h = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.IllustrationPanel) || this;
                    return t.mBackBtn = null, t.filtrate = null, t.mseek = null, t.titleList = [], t.mActiveTab = null, t.mLevelTab = null, t.mOrderTab = null, t.mTypeTab = null, t.mseekstring = "", t.firstOnEnter = !1, t.blankNode = [[], [], [], [], [], []], t.Itmes = [], t
                }

                return a(t, e), t.prototype.init = function () {
                    e.prototype.init.call(this)
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mAcquired = P._playerCard._levels, e.mBackBtn = _.noxcc.findButton("TopBar/TopLeftBar/returnButton", e.mRoot), _.noxcc.addClick(e.mBackBtn, e, e.onBackBtn), e.filtrate = _.noxcc.findButton("TopBar/filter_btn", e.mRoot), _.noxcc.addClick(e.filtrate, e, e.ontilter_btn), e.mseek = _.noxcc.findButton("TopBar/SearchArea/Layout/Button", e.mRoot), _.noxcc.addClick(e.mseek, e, e.onseek_btn), _.noxcc.addEditBoxEditingReturn(_.noxcc.find("TopBar/SearchArea/Layout/EditBox", e.mRoot), e, e.onseek_btn), this.mtitle = _.noxcc.find("Center/RightPanel/view/content/illustration_title", this.mRoot), this.mtitle.active = !1, this.mIconContainer = _.noxcc.find("Center/RightPanel/view/content", this.mRoot), this.mEditBox = _.noxcc.findEditBox("TopBar/SearchArea/Layout/EditBox", this.mRoot), this.mscreen_1 = _.noxcc.find("screen_1", this.mRoot), this.mscreen_1.active = !1, this.mscreen_2 = _.noxcc.find("screen_2", this.mRoot), this.mscreen_2.active = !1, e.mLevelTab = "full", e.mOrderTab = "full", e.mTypeTab = "full", _.noxcc.addClick(_.noxcc.find("Center/LeftPanel/content/first_button", e.mRoot), e, function () {
                        e.onToggleClick("monster")
                    }), _.noxcc.addClick(_.noxcc.find("Center/LeftPanel/content/second_button", e.mRoot), e, function () {
                        e.onToggleClick("magic")
                    }), _.noxcc.addClick(_.noxcc.find("Center/RightPanel/button", e.mRoot), e, function () {
                        e.hideMscreen()
                    }), _.noxcc.find("Center/RightPanel/button", e.mRoot).setVisible(!1);
                    var t = "screen_1/bg/";
                    [_.noxcc.find(t + "allproperty", e.mRoot), _.noxcc.find(t + "grass", e.mRoot), _.noxcc.find(t + "fire", e.mRoot), _.noxcc.find(t + "water", e.mRoot), _.noxcc.find(t + "electricity", e.mRoot), _.noxcc.find(t + "psychokinesis", e.mRoot), _.noxcc.find(t + "wrestle", e.mRoot), _.noxcc.find(t + "evil", e.mRoot), _.noxcc.find(t + "steel", e.mRoot), _.noxcc.find(t + "immortal", e.mRoot), _.noxcc.find(t + "dragon", e.mRoot), _.noxcc.find(t + "usual", e.mRoot)].forEach(function (t, n, a) {
                        _.noxcc.addClick(t, e, function () {
                            0 == n && e.onlorderToggleClick("full"), 0 != n && e.onlorderToggleClick(s.nox.toString(n))
                        })
                    });
                    [_.noxcc.find(t + "allorder", e.mRoot), _.noxcc.find(t + "basics", e.mRoot), _.noxcc.find(t + "1", e.mRoot), _.noxcc.find(t + "2", e.mRoot)].forEach(function (t, n, a) {
                        _.noxcc.addClick(t, e, function () {
                            0 == n && e.onlevelToggleClick("full"), 0 != n && e.onlevelToggleClick(s.nox.toString(n - 1))
                        })
                    });
                    t = "screen_2/bg/", [_.noxcc.find(t + "allproperty", e.mRoot), _.noxcc.find(t + "prop", e.mRoot), _.noxcc.find(t + "equipment", e.mRoot), _.noxcc.find(t + "special", e.mRoot), _.noxcc.find(t + "protagonist", e.mRoot)].forEach(function (t, n, a) {
                        _.noxcc.addClick(t, e, function () {
                            0 == n && e.ontypeToggleClick("full"), 0 != n && (4 == n && (n = 5), e.ontypeToggleClick(s.nox.toString(n + 10)))
                        })
                    }), _.noxcc.find("Center/RightPanel", e.mRoot).on("scrolling", function (t) {
                        e.onScroll()
                    })
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    if (!this.firstOnEnter) {
                        this.initData(), this.mActiveTab = null;
                        for (var t = s.nox.values(this.mMonsterInfos).sort(function (e, t) {
                            return e._id - t._id
                        }), n = 0; n < 6; n++) {
                            var a = _.noxcc.instantiate(this.mtitle);
                            a.setVisible(!0), 5 == n && (d.SpriteUtil.setSprite(a.children[0], "illustration_title_RR"), _.noxcc.setString(a.children[0].children[0], "C")), 4 == n && (d.SpriteUtil.setSprite(a.children[0], "illustration_title_RR"), _.noxcc.setString(a.children[0].children[0], "U")), 3 == n && (d.SpriteUtil.setSprite(a.children[0], "illustration_title_RR"), _.noxcc.setString(a.children[0].children[0], "R")), 2 == n && (d.SpriteUtil.setSprite(a.children[0], "illustration_title_SR"), _.noxcc.setString(a.children[0].children[0], "RR")), 1 == n && (d.SpriteUtil.setSprite(a.children[0], "illustration_title_UR"), _.noxcc.setString(a.children[0].children[0], "SR")), this.titleList.push(a), this.mIconContainer.addChild(a)
                        }
                        if (t.length > 0) {
                            this.setActiveTab("monster");
                            var i = _.noxcc.find("Center/LeftPanel/content/first_button", this.mRoot);
                            _.noxcc.setNodeColor(_.noxcc.find("text", i), cc.Color.YELLOW)
                        }
                        this.firstOnEnter = !0
                    }
                }, t.prototype.initData = function () {
                    for (var e in this.mMonsterInfos = {}, r.Data._monsterInfo) {
                        var t = (n = r.Data._monsterInfo[e])._id;
                        r.Data.isUserVisible(t) && (this.mMonsterInfos[t] = n)
                    }
                    for (var e in this.mMagicInfos = {}, r.Data._magicInfo) {
                        var n;
                        t = (n = r.Data._magicInfo[e])._id;
                        r.Data.isUserVisible(t) && (this.mMagicInfos[t] = n)
                    }
                }, t.prototype.onToggleClick = function (e) {
                    var t = "Center/LeftPanel/content/", n = _.noxcc.find(t + "first_button", this.mRoot),
                        a = _.noxcc.find(t + "second_button", this.mRoot);
                    _.noxcc.setNodeColor(_.noxcc.find("text", n), cc.Color.WHITE), _.noxcc.setNodeColor(_.noxcc.find("text", a), cc.Color.WHITE), "monster" == e ? _.noxcc.setNodeColor(_.noxcc.find("text", n), cc.Color.YELLOW) : _.noxcc.setNodeColor(_.noxcc.find("text", a), cc.Color.YELLOW), _.noxcc.setInputString(this.mEditBox, ""), this.mseekstring = _.noxcc.getInputString(this.mEditBox), this.acticeclose(), this.setActiveTab(e)
                }, t.prototype.onlorderToggleClick = function (e, t) {
                    this.mOrderTab = e, this.reloadIconWidgets()
                }, t.prototype.onlevelToggleClick = function (e, t) {
                    this.mLevelTab = e, this.reloadIconWidgets()
                }, t.prototype.ontypeToggleClick = function (e, t) {
                    this.mTypeTab = e, this.reloadMagicWidgets()
                }, t.prototype.setActiveTab = function (e) {
                    var t = this;
                    t.mActiveTab != e && (t.mActiveTab = e, s.nox.scheduleTimeout(function () {
                        "monster" == e ? t.reloadIconWidgets() : t.reloadMagicWidgets()
                    }, .02))
                }, t.prototype.cleanGroup = function () {
                    for (var e = 0; e < 6; e++) {
                        for (var t = 0; t < _.noxcc.getChildrenCount(this.titleList[e]); t++) {
                            if (0 != t) _.noxcc.getChild(this.titleList[e], t).destroy()
                        }
                        this.titleList[e].active = !1, this.blankNode[e] = []
                    }
                    this.Itmes = []
                }, t.prototype.reloadIconWidgets = function () {
                    var e = this.mMonsterInfos;
                    this.Addgroup(e), this.cleanGroup(), this.updateCardNum(), this.getData(), this.length = 0;
                    for (var n = 0; n < t.group.length; n++) for (var a = 0; a < t.group[n].length; a++) this.createBlankNode(s.nox.toNumber(n)), this.titleList[n].active = !0, this.length++;
                    this.BinData()
                }, t.prototype.reloadMagicWidgets = function () {
                    var e = this.mMagicInfos;
                    this.Addgroup(e), this.cleanGroup(), this.updateCardNum(), this.getData(), this.length = 0;
                    for (var n = 0; n < t.group.length; n++) for (var a = 0; a < t.group[n].length; a++) this.createBlankNode(s.nox.toNumber(n)), this.titleList[n].active = !0, this.length++;
                    this.BinData()
                }, t.prototype.isDataNull = function () {
                    for (var e = 0, n = 0; n < t.group.length; n++) for (var a = 0; a < t.group[n].length; a++) {
                        null != t.group[n][a] && e++
                    }
                    return 0 == e
                }, t.prototype.getData = function () {
                    for (var e = t.group, n = 0; n < e.length; n++) {
                        var a = e[n].length % 7;
                        if (0 != a) for (var i = 0; i < 7 - a; i++) e[n].push(null)
                    }
                    return e.reverse(), e
                }, t.prototype.Addgroup = function (e) {
                    for (var n in t.group = [[], [], [], [], [], []], e) {
                        var a = c.lcStr(e[n]._nameSid);
                        if (-1 != a.search(new RegExp(this.mseekstring, "i"))) {
                            if ("monster" == this.mActiveTab) if ("full" == this.mLevelTab && "full" != this.mOrderTab) {
                                if (this.mOrderTab == e[n]._nature) {
                                    var i = this.qualityDispose(e[n]._quality);
                                    t.group[i].push(e[n])
                                }
                            } else if ("full" == this.mOrderTab && "full" != this.mLevelTab) {
                                if (this.mLevelTab == e[n]._level) {
                                    i = this.qualityDispose(e[n]._quality);
                                    t.group[i].push(e[n])
                                }
                            } else if ("full" != this.mOrderTab && "full" != this.mLevelTab) {
                                if (this.mLevelTab == e[n]._level && this.mOrderTab == e[n]._nature) {
                                    i = this.qualityDispose(e[n]._quality);
                                    t.group[i].push(e[n])
                                }
                            } else {
                                i = this.qualityDispose(e[n]._quality);
                                t.group[i].push(e[n])
                            } else if ("full" != this.mTypeTab) {
                                if (this.mTypeTab == e[n]._type) {
                                    i = this.qualityDispose(e[n]._quality);
                                    t.group[i].push(e[n])
                                }
                            } else if ("full" == this.mTypeTab) {
                                i = this.qualityDispose(e[n]._quality);
                                t.group[i].push(e[n])
                            }
                        } else a.indexOf(this.mseekstring)
                    }
                }, t.prototype.qualityDispose = function (e) {
                    return 7 == e ? 5 : e - 1
                }, t.prototype.createBlankNode = function (e) {
                    var t = _.noxcc.newNode(e + "");
                    t.setContentSize(g), this.blankNode[s.nox.toNumber(e)].push(t), _.noxcc.addChild(this.titleList[s.nox.toNumber(e)], t)
                }, t.prototype.BinData = function () {
                    var e = t.group, n = _.noxcc.find("Center/RightPanel", this.mRoot),
                        a = Math.ceil(n.height / g.height) + 4;
                    this.number = a, a *= 7;
                    for (var i = 0, o = 0; o < e.length; o++) for (var r = e[o], s = 0; s < r.length && a != i; s++) {
                        var c = void 0, d = void 0;
                        null == r[s] ? d = l.IconWidget.create({_infoId: 10055}, l.IconWidget.DisplayFlag.NAME) : (c = r[s]._id, d = l.IconWidget.create({_infoId: c}, l.IconWidget.DisplayFlag.NAME));
                        var h = d.node;
                        p.UIUtil.createBMFont(u.UICfg.BMFont.huali_20, i);
                        this.updateCell(h, e, i, !1), this.Itmes.push([h, i]), i++
                    }
                    this.lastposY = n.getComponent(cc.ScrollView).content.position.y;
                    var f = _.noxcc.find("Center/RightPanel", this.mRoot).height / 2;
                    this.maxY = f + 2 * (g.height + 10) - 10, this.minY = -f - 2 * (g.height + 10) - g.height / 2 - 10, _.noxcc.find("Center/RightPanel", this.mRoot).getComponent(cc.ScrollView).scrollToTop(.3)
                }, t.prototype.onScroll = function () {
                    var e = t.group, n = _.noxcc.find("Center/RightPanel", this.mRoot);
                    if (null != this.lastposY) {
                        for (var a = n.getComponent(cc.ScrollView).content.position.y, i = this.lastposY < a ? 1 : -1, o = 0; o < this.Itmes.length; o++) {
                            var r = this.Itmes[o][0], s = this.Itmes[o][1], c = void 0;
                            null != r.parent && (c = n.convertToNodeSpaceAR(r.parent.convertToWorldSpaceAR(r.position)), 1 == i ? c.y > this.maxY && (s += 7 * this.number) < this.length && (this.Itmes[o][1] = s, this.updateCell(r, e, s)) : c.y < this.minY && (s -= 7 * this.number) >= 0 && (this.Itmes[o][1] = s, this.updateCell(r, e, s)))
                        }
                        this.lastposY = a
                    }
                }, t.prototype.updateCell = function (e, t, n, a) {
                    e.setVisible(!0);
                    var i = this.getindex(t, n), o = i[0] && i[0]._id;
                    if (null == o) {
                        e.setVisible(!1), e.parent = null;
                        var r = this.blankNode[s.nox.toNumber(i[1])], c = i[2];
                        return r[c] && r[c].removeAllChildren(), void _.noxcc.addChild(r[c], e)
                    }
                    var d = i[1];
                    e.getComponent(l.IconWidget).setGray(!(P._playerCard.getCardCount(o) > 0)), null == a && e.getComponent(l.IconWidget).resetData({_infoId: o});
                    var p = this.blankNode[s.nox.toNumber(d)], u = i[2];
                    e.parent = null, p[u] && p[u].removeAllChildren(), _.noxcc.addChild(p[u], e)
                }, t.prototype.getindex = function (e, t) {
                    for (var n = 0, a = 0, i = null, o = 0; o < e.length; o++) if ((n += e[o].length) > t) {
                        a = s.nox.toNumber(o), t -= n - e[o].length, i = e[o][t] || null;
                        break
                    }
                    return [i, a, t]
                }, t.prototype.onBackBtn = function () {
                    this.acticeclose(), this.hide()
                }, t.prototype.ontilter_btn = function () {
                    if ("monster" == this.mActiveTab) {
                        if (1 == this.mscreen_1.active) return void this.acticeclose();
                        this.mscreen_1.active = !0
                    } else if ("magic" == this.mActiveTab) {
                        if (1 == this.mscreen_2.active) return void this.acticeclose();
                        this.mscreen_2.active = !0
                    }
                    _.noxcc.find("Center/RightPanel/button", this.mRoot).setVisible(!0)
                }, t.prototype.onseek_btn = function () {
                    this.mseekstring = _.noxcc.getInputString(this.mEditBox), "monster" == this.mActiveTab ? this.reloadIconWidgets() : this.reloadMagicWidgets()
                }, t.prototype.getCardNum = function (e) {
                    for (var n = t.group[e], a = 0, i = 0; i < n.length; i++) {
                        var o = n[i]._id;
                        P._playerCard.getCardCount(o) > 0 && a++
                    }
                    return [a, n.length]
                }, t.prototype.updateCardNum = function () {
                    for (var e = 0; e < 6; e++) {
                        var t = _.noxcc.find("title/label2", this.titleList[this.titleList.length - e - 1]),
                            n = this.getCardNum(e);
                        _.noxcc.setString(t, n[0] + "/" + n[1])
                    }
                }, t.prototype.acticeclose = function () {
                    this.mscreen_1.setVisible(!1), this.mscreen_2.setVisible(!1)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onReleaseWidget = function () {
                    _.noxcc.isValid(this.mRoot) && this.mRoot.destroy()
                }, t.prototype.hideMscreen = function () {
                    (_.noxcc.isActive(this.mscreen_1) || _.noxcc.isActive(this.mscreen_2)) && (this.mscreen_1.setVisible(!1), this.mscreen_2.setVisible(!1)), _.noxcc.find("Center/RightPanel/button", this.mRoot).setVisible(!1)
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t.group = [[], [], [], [], [], []], t
            }(i.BasePanel);
        n.IllustrationPanel = h, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel"
    }],
    ImageList: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0bde0ckZ/JEBopIWfIKcfWP", "ImageList"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = cc._decorator, i = a.ccclass, o = a.property, r = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.images = [], t
            }

            return __extends(t, e), t.prototype.onLoad = function () {
            }, t.prototype.start = function () {
            }, __decorate([o({
                type: [cc.SpriteFrame],
                displayName: "Images"
            })], t.prototype, "images", void 0), t = __decorate([i], t)
        }(cc.Component);
        n.ImageList = r, cc._RF.pop()
    }, {}],
    ImpeachForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1163eq8vDJALa2pzdpaFuoo", "ImpeachForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = e("../../utils/RichTextUtil"),
            _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"), c = e("../../config/UICfg"),
            l = e("../../../leocool/lc"), d = e("../../utils/UIUtil"), p = e("../common/Dialog"),
            u = e("../../part/UnionPart"), g = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.ImpeachForm) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._leader = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t.mReturnBtn = o.noxcc.findButton("returnbtn", t.mRoot), t.mAccuseBtn = o.noxcc.findButton("accusebtn", t.mRoot), t.mCloseBtn = o.noxcc.findButton("bg/close_btn", t.mRoot), t.mNode = o.noxcc.find("node", t.mRoot), t.mBg = o.noxcc.find("Bg", t.mRoot);
                    var n = o.noxcc.find("bg/title", t.mRoot);
                    o.noxcc.setLabelString(n, _.lcStr(s.STR.UNION_IMPEACH));
                    var a = o.noxcc.find("Label", t.mRoot);
                    o.noxcc.setLabelString(a, _.lcStr(s.STR.UNION_IMPEACH_MEMBERS)), o.noxcc.addClick(t.mReturnBtn, t, function () {
                        t.hide()
                    }), o.noxcc.addClick(t.mCloseBtn, t, function () {
                        t.hide()
                    })
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this, n = r.RichTextUtil.createBoldRichText(_.lcStr(s.STR.UNION_IMPEACH_TIP), {
                        _normalClr: c.UICfg.COLOR_TEXT_DARK,
                        _boldClr: c.UICfg.COLOR_TEXT_ORANGE,
                        _fontSize: c.UICfg.FontSize.S2
                    }, 500);
                    t.mNode.addChild(n.node);
                    var a = P._playerUnion.getMyUnion(), i = 0, p = !1;
                    if (a) {
                        var u = a._members, g = l.lc.h(t.mBg) - 60;
                        if ("{}" == JSON.stringify(a._impeach)) {
                            var h = r.RichTextUtil.createTTF(string.format(_.lcStr(s.STR.LIST_EMPTY_NO_X), _.lcStr(s.STR.UNION_MEMBER)), c.UICfg.FontSize.S2, c.UICfg.COLOR_LABEL_DARK);
                            l.lc.addChildToPosLB(t.mBg, h.node, cc.p(l.lc.w(t.mBg) / 2, g - l.lc.h(h.node) / 2))
                        } else {
                            for (var f in a._impeach) {
                                var m = u[f];
                                if (m) {
                                    var y = d.UIUtil.createLevelNameArea(m._level, m._name);
                                    l.lc.addChildToPosLB(t.mBg, y, cc.p(130, g - l.lc.h(y) / 2)), g = g - l.lc.h(y) - 10, i += 1
                                }
                            }
                            p = null != a._impeach[P._id]
                        }
                    }
                    t._impeachNum = i, o.noxcc.addClick(t.mAccuseBtn, t, function () {
                        t.impeach(p)
                    }), o.noxcc.setString(t.mAccuseBtn.node.children[0], p ? _.lcStr(s.STR.CANCEL) + _.lcStr(s.STR.UNION_IMPEACH) : _.lcStr(s.STR.UNION_IMPEACH))
                }, t.prototype.impeach = function (e, t) {
                    t || 4 != this._impeachNum ? (u.UnionPart.sendUnionImpeach(this._leader._id, e), this.hide()) : p.Dialog.showDialog(_.lcStr(s.STR.UNION_IMPEACH_LAST), function () {
                        this.impeach(e, !0)
                    }.bind(this))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BaseForm);
        n.ImpeachForm = g, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../part/UnionPart": "UnionPart",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../common/Dialog": "Dialog"
    }],
    InRoomScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c0135eVQy1N7IvDVMCpIrnQ", "InRoomScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("./BaseScene"), r = e("../const/SceneId"), _ = e("../../noxcc"),
            s = e("../ui/form/HintForm"), c = e("../../leocool/lcAppCfg"), l = e("../utils/SpriteUtil"),
            d = e("../../leocool/lc"), p = e("../utils/SpineUtil"), u = e("../StringEnums"),
            g = e("../../leocool/lcStr"), h = e("../data/data"), f = e("../part/RoomPart"), m = e("../ClientView"),
            y = e("../ui/widget/UserWidget"), T = e("./SceneManager"), S = e("../ToastManager"), C = function (e) {
                function t() {
                    var t = e.call(this, r.SceneId.in_room, i.AllViewTypes.InRoomScene) || this;
                    return t.mStatusJoinCombatBtn = null, t.mLeftsketch = null, t.mRightsketch = null, t.mUsers = [], t._listeners = [], t
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    this.mStartCombatBtn = _.noxcc.findButton("bg/beginbtn", this.mRoot), this.mJoinCombatBtn = _.noxcc.findButton("bg/joinbtn", this.mRoot), this.mbackbtnBtn = _.noxcc.findButton("bg/backbtn", this.mRoot), this.mReturnBtn = _.noxcc.findButton("bg/topArea/topHeader/closeButton", this.mRoot), this.mTopUser = _.noxcc.find("bg/topuser", this.mRoot), this.mLeftUser = _.noxcc.find("bg/leftuser", this.mRoot), this.mRightUser = _.noxcc.find("bg/rightuser", this.mRoot), this.mRoomId = _.noxcc.findLabel("bg/title/label", this.mRoot), this.mFlagImg = _.noxcc.findSprite("img", this.mTopUser).node, this.mLeftInfo = _.noxcc.findSprite("left", this.mLeftUser), this.mLeftsketch = _.noxcc.findSprite("leftsketch", this.mLeftUser).node, this.mRighttInfo = _.noxcc.findSprite("right", this.mRightUser), this.mRightsketch = _.noxcc.findSprite("rightsketch", this.mRightUser).node, _.noxcc.setString(this.mRoomId, string.format(g.lcStr(u.STR.ROOM_ID) + c.lcAppCfg.breakCharacter() + P._roomId));
                    var e = _.noxcc.find("bg/backbtn/Label", this.mRoot);
                    _.noxcc.setLabelString(e, g.lcStr(u.STR.EXIT)), _.noxcc.addClick(this.mJoinCombatBtn, this, this.onJoinCombatBtn), _.noxcc.addClick(this.mStartCombatBtn, this, this.onStartCombatBtn), _.noxcc.addClick(this.mReturnBtn, this, this.onReturnBtn), _.noxcc.addClick(this.mbackbtnBtn, this, this.onBackRoom)
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.createBgs(), this.refreshView();
                    var t = this;
                    this._listeners.push(h.Data.Event.room_dirty.addListener(null, function () {
                        t.refreshView()
                    }))
                }, t.prototype.onEnterRoom = function () {
                    this.refreshView()
                }, t.prototype.createBgs = function () {
                    var e = this.mTopUser;
                    e._flagImg = this.mFlagImg;
                    var t = y.UserWidget.create(null, d.lc.bor(y.UserWidget.Flag.LEVEL_NAME, d.lc.bor(y.UserWidget.Flag.UNION, y.UserWidget.Flag.REGION)), 1);
                    d.lc.addChildToPosLB(e, t.node, cc.v2(d.lc.w(this.mFlagImg) + 130, d.lc.ch(e))), e._userWidget = t;
                    var n = this.mLeftUser,
                        a = y.UserWidget.create(null, d.lc.bor(y.UserWidget.Flag.LEVEL_NAME, d.lc.bor(y.UserWidget.Flag.UNION, y.UserWidget.Flag.REGION)), 1);
                    d.lc.addChildToPosAR(this.mLeftInfo.node, a.node, cc.v2(-30, 0)), n._userWidget = a, n._flagImg = this.mLeftsketch, n._sketchNodePos = this.mLeftsketch.getPosition();
                    var i = this.mRightUser,
                        o = y.UserWidget.create(null, d.lc.bor(y.UserWidget.Flag.LEVEL_NAME, d.lc.bor(y.UserWidget.Flag.UNION, y.UserWidget.Flag.REGION)), 1);
                    d.lc.addChildToPosAR(this.mRighttInfo.node, o.node, cc.v2(-30, 0)), i._userWidget = o, i._flagImg = this.mRightsketch, i._sketchNodePos = this.mRightsketch.getPosition(), this._users = [e, n, i]
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove()
                }, t.prototype.onExitRoom = function () {
                    P._playerRoom.exitMyRoom(), this.hide()
                }, t.prototype.onBackRoom = function () {
                    P._playerRoom.exitMyRoom(), this.hide(), T.SceneManager.popScene()
                }, t.prototype.onStartCombatBtn = function () {
                    P._playerRoom.getMyRoom()._members[0] && P._playerRoom.getMyRoom()._members[1] ? (f.RoomPart.sendStartRoomMatch(), m.ClientView.getActiveIndicator().show(g.lcStr(u.STR.PREPARE_LIVE_BATTLE), null)) : S.ToastManager.push(g.lcStr(u.STR.MATCH_START_NOT_ALLOWED2))
                }, t.prototype.onJoinCombatBtn = function () {
                    1 == this.mStatusJoinCombatBtn ? this.onChangeToBattle() : 2 == this.mStatusJoinCombatBtn ? this.onChangeToObserve() : 3 == this.mStatusJoinCombatBtn && this.onExitRoom()
                }, t.prototype.onChangeToBattle = function () {
                    f.RoomPart.sendToggleRoomMatch()
                }, t.prototype.onChangeToObserve = function () {
                    f.RoomPart.sendToggleRoomMatch()
                }, t.prototype.refreshView = function () {
                    var e = P._playerRoom.getMyRoom(), t = P._roomId;
                    _.noxcc.setString(this.mRoomId, g.lcStr(u.STR.ROOM_ID) + c.lcAppCfg.breakCharacter() + t), this.refreshPlayers();
                    for (var n = e._members, a = null, i = 1; i <= 3; ++i) {
                        var o = n[i - 1];
                        if (d.lc.V(o) && parseInt(P._playerRoom._myIdInRoom.toString()) == parseInt(o._idInRoom.toString())) {
                            a = i;
                            break
                        }
                    }
                    P._roomJob == h.Data.RoomJob.leader ? (P.hasUnion(), this.mStartCombatBtn.node.setVisible(!0), d.lc.V(n[0]) && d.lc.V(n[1]) && d.lc.V(n[2]) ? this.mJoinCombatBtn.node.active = !1 : d.lc.V(n[0]) && 1 != a ? this.mJoinCombatBtn.node.active = !1 : (this.mJoinCombatBtn.node.active = !0, this.mbackbtnBtn.node.active = !1), 1 == a ? (_.noxcc.setString(this.mJoinCombatBtn.node.children[0], g.lcStr(u.STR.JOIN) + c.lcAppCfg.breakCharacter() + g.lcStr(u.STR.BATTLE)), this.mStatusJoinCombatBtn = 1) : (_.noxcc.setString(this.mJoinCombatBtn.node.children[0], g.lcStr(u.STR.OBSERVE)), this.mStatusJoinCombatBtn = 2)) : (_.noxcc.setString(this.mJoinCombatBtn.node.children[0], g.lcStr(u.STR.EXIT)), this.mbackbtnBtn.node.active = !0, this.mJoinCombatBtn.node.active = !1, this.mStatusJoinCombatBtn = 3)
                }, t.prototype.onReturnBtn = function () {
                    if (P._roomJob == h.Data.RoomJob.leader) s.HintForm.show(function () {
                        this.onExitRoom()
                    }.bind(this)); else this.onExitRoom()
                }, t.prototype.refreshPlayers = function () {
                    var e = P._playerRoom.getMyRoom()._members;
                    console.log(e);
                    for (var t = 0; t < 3; ++t) {
                        var n = e[t];
                        d.lc.V(n) ? (this._users[t]._userWidget.setVisible(!0), this._users[t]._userWidget.setUser(n), this.updateSketchNode(this._users[t], n)) : (this._users[t]._userWidget.setVisible(!1), this.updateSketchNode(this._users[t], null))
                    }
                }, t.prototype.hide = function () {
                    this.hideView()
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.updateSketchNode = function (e, t) {
                    if (null != e._sketchNodePos) if (t) {
                        e._flagImg && (e._flagImg.removeFromParent(), e._flagImg = null), e._ske && (e._ske.removeFromParent(), e._ske = null);
                        var n = m.ClientView.getCharAnimName(Math.floor(t._avatar / 100)),
                            a = p.SpineUtil.createSpineAnim(n, "default", "animation", !0);
                        a.setScale(.5), d.lc.addChildToPosAR(e, a, new cc.Vec2(e._sketchNodePos.x, e._sketchNodePos.y - 110)), e._ske = a
                    } else e._ske && (e._ske.removeFromParent(), e._ske = null), e._flagImg && (e._flagImg.removeFromParent(), e._flagImg = null), e._flagImg = l.SpriteUtil.createSprite("find_unknown_player").node, d.lc.addChildToPosAR(e, e._flagImg, new cc.Vec2(e._sketchNodePos.x, e._sketchNodePos.y + 55))
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(o.BaseScene);
        n.InRoomScene = C, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../noxcc": "noxcc",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../part/RoomPart": "RoomPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/form/HintForm": "HintForm",
        "../ui/widget/UserWidget": "UserWidget",
        "../utils/SpineUtil": "SpineUtil",
        "../utils/SpriteUtil": "SpriteUtil",
        "./BaseScene": "BaseScene",
        "./SceneManager": "SceneManager"
    }],
    InputForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bed26DsXmdJTY5h925Nx7Aq", "InputForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../../../leocool/lcStr"), r = e("../../StringEnums"),
            _ = e("../../utils/UIUtil"), s = e("../../config/UICfg"), c = e("../../../leocool/lc"),
            l = e("../node/NodeWithShaderButton"), d = e("../../ToastManager"), p = e("../../../noxcc"),
            u = e("../../part/FeedbackPart"), g = e("../../part/TroopPart"), h = e("../../data/data"),
            f = e("../../utils/RichTextUtil"), m = e("../../data/Union/PlayerUnion"), y = e("../../part/ChatPart"),
            T = e("../../ClientData"), S = e("../AllViewTypes"), C = function (e) {
                function t() {
                    var t = e.call(this, S.AllViewTypes.InputForm) || this;
                    return t.TITLE_STR = [o.lcStr(r.STR.RATE_ADVICE), o.lcStr(r.STR.CHANGE) + o.lcStr(r.STR.REMARK), o.lcStr(r.STR.SEND), o.lcStr(r.STR.INPUT_MESSAGE)], t.BTN_STR = [o.lcStr(r.STR.SEND), o.lcStr(r.STR.CHANGE), o.lcStr(r.STR.SEND)], t.maxLength = 0, t
                }

                return a(t, e), t.prototype.init = function (e, t, n, a) {
                    this.maxLength = a, this.mType = e, this.mParam = t, this.mCallback = n
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mTitle = p.noxcc.findLabel("bg/title", this.mRoot), this.mBackBtn = p.noxcc.findButton("bg/close_btn", this.mRoot), p.noxcc.setString(this.mTitle, this.TITLE_STR[this.mType - 1]), p.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this.mEditor = _.UIUtil.createEditBox("img_com_bg_58", s.UICfg.CRECT_COM_BG3, cc.size(660, 60), o.lcStr(r.STR.INPUT_SHARE_TEXT), !0, this.maxLength || 50), c.lc.addChildToPosLB(this.mRoot, this.mEditor, cc.v2(c.lc.w(this.mRoot) / 2, c.lc.h(this.mRoot) - 100 - c.lc.h(this.mEditor) / 2)), t.maxLength && (t.mEditor.getComponent(cc.EditBox).placeholder = string.format(o.lcStr(r.STR.TEXTMAXLENGTH), t.maxLength));
                    var n = l.NodeWithShaderButton.createScale9ShaderButton("img_btn_green_s", function () {
                        t.send()
                    }.bind(this), s.UICfg.CRECT_BUTTON, 120);
                    n.addLabel(this.BTN_STR[this.mType - 1]), c.lc.addChildToPosLB(this.mRoot, n, cc.v2(c.lc.w(this.mRoot) - c.lc.w(n) - 10, 60))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.send = function () {
                    var e = p.noxcc.getInputString(this.mEditor), n = this.mType;
                    if (n == t.Type.FEEDBACK) {
                        if (c.lc.utf8len(e) > 400) return void d.ToastManager.push(o.lcStr(r.STR.MESSAGE) + string.format(o.lcStr(r.STR.CANNOT_MORE_THAN), 400));
                        if (0 == c.lc.utf8len(e)) return void d.ToastManager.push(o.lcStr(r.STR.INPUT_MESSAGE));
                        u.FeedbackPart.sendFeedback(Feedback_pb.FeedbackType.PB_FEEDBACK_SUGGESTION, e), d.ToastManager.push(o.lcStr(r.STR.FEEDBACK_THANKS)), this.hide()
                    } else if (n == t.Type.TROOP_REMARK) {
                        var a = f.RichTextUtil.createTTF(e, s.UICfg.FontSize.S2).node;
                        if ("" == e || c.lc.w(a) > 200) d.ToastManager.push(o.lcStr(r.STR.REMARK_INVALID)); else {
                            var i = this.mParam;
                            P._troopRemarks[i - 1] = e, g.TroopPart.sendTroopRemark(i, e), this.hide()
                        }
                    } else if (n == t.Type.UNION_CHAT) if (c.lc.utf8len(e) > this.mEditor.maxLength) d.ToastManager.push(o.lcStr(r.STR.MESSAGE) + string.format(o.lcStr(r.STR.CANNOT_MORE_THAN), this.mEditor.maxLength)); else if (0 == c.lc.utf8len(e)) d.ToastManager.push(o.lcStr(r.STR.INPUT_MESSAGE)); else {
                        if ("" === e || o.lcStr(r.STR.INPUT_SHARE_TEXT) === e) return;
                        var _ = P._playerUnion.canOperate(m.PlayerUnion.Operate.send_message);
                        _ == h.Data.ErrorType.ok ? y.ChatPart.sendChat(Chat_pb.ChatType.PB_CHAT_UNION, P._unionId, e) : d.ToastManager.push(T.ClientData.getUnionErrorStr(_)), this.hide()
                    }
                }, t.prototype.hide = function (e) {
                    i.BaseForm.prototype.hide.call(this, e), this.mCallback && this.mCallback()
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t.Type = {FEEDBACK: 1, TROOP_REMARK: 2, UNION_CHAT: 3}, t
            }(i.BaseForm);
        n.InputForm = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/Union/PlayerUnion": "PlayerUnion",
        "../../data/data": "data",
        "../../part/ChatPart": "ChatPart",
        "../../part/FeedbackPart": "FeedbackPart",
        "../../part/TroopPart": "TroopPart",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithShaderButton": "NodeWithShaderButton"
    }],
    InputNumberForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6b448pkMGRHrJ6+8JKO8Har", "InputNumberForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../leocool/lc"), _ = e("../../../noxcc"),
            s = e("../node/NodeWithShaderButton"), c = e("../../../leocool/lcStr"), l = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.InputNumberForm) || this;
                    return t.NUM_POS = [cc.p(100, 230), cc.p(230, 230), cc.p(360, 230), cc.p(490, 230), cc.p(620, 230), cc.p(100, 100), cc.p(230, 100), cc.p(360, 100), cc.p(490, 100), cc.p(620, 100)], t
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this.mConfirmHandle = n, this.mDefaultInputStr = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mEditor = _.noxcc.findEditBox("EditBox", this.mRoot), this.mSureBtn = _.noxcc.findButton("surebtn", this.mRoot), this.mEditor.placeholder = c.lcStr(11608), _.noxcc.addClick(this.mSureBtn, this, this.onConfirm)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this, n = s.NodeWithShaderButton.createShaderButton(null, function (e) {
                        _.noxcc.setLabelString(t.mEditor, "")
                    }.bind(this));
                    n.setContentSize(cc.size(60, 60)), r.lc.addChildToPosLB(this.mEditor.node, n, cc.v2(r.lc.w(this.mEditor.node), 0)), this.initNumbers()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onConfirm = function () {
                    if (r.lc.V(this.mConfirmHandle)) {
                        _.noxcc.getString(this.mEditor);
                        var e = _.noxcc.getString(this.mEditor).replace(this.mDefaultInputStr, "").trim();
                        this.mConfirmHandle(this, e)
                    }
                }, t.prototype.registerConfirmHandle = function (e) {
                    this.mConfirmHandle = e
                }, t.prototype.initNumbers = function () {
                    for (var e = 1; e <= 10; ++e) {
                        var t = this.createNumberButton(e);
                        r.lc.addChildToPosLB(this.mRoot, t, this.NUM_POS[e - 1])
                    }
                }, t.prototype.createNumberButton = function (e) {
                    var t = this;
                    return s.NodeWithShaderButton.createShaderButton(string.format("room_number_btn_%d", e % 10), function (n) {
                        _.noxcc.setString(t.mEditor, _.noxcc.getString(t.mEditor) + e % 10)
                    }.bind(this))
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(i.BaseForm);
        n.InputNumberForm = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithShaderButton": "NodeWithShaderButton"
    }],
    InviteGiftPackPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b07acCP8P9Keo8FcBUwJzOY", "InviteGiftPackPage");
        var a, i = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var o, r = e("../../BasePage"), _ = e("../../../ToastManager"), s = e("../../../data/data"),
            c = e("../../../../leocool/lcStr"), l = e("../../../StringEnums"), d = e("../../../ClientView"),
            p = e("../../../part/UserPart"), u = e("../../../../noxcc"), g = e("../../widget/BonusWidget"),
            h = e("../../../../leocool/lc"), f = e("../../../config/UICfg"), m = e("../../widget/IconWidget"),
            y = e("../../../ClientData"), T = e("../RewardPanel"), S = e("../../../data/Social/User"),
            C = e("../../../../leocool/lcRes"), v = e("../../../utils/MsgCenter"), b = e("../../form/PromptForm"),
            E = e("../../widget/UserWidget"), I = e("../../../utils/LoginData");
        (function (e) {
            e.AcceptInvite = "AcceptInvite", e.MyInvite = "MyInvite"
        })(o || (o = {}));
        var A = ((a = {})[o.AcceptInvite] = ["topButpanel/Invitation_toggle/AcceptInvite_Toggle", "AcceptInvite_Panel"], a[o.MyInvite] = ["topButpanel/Invitation_toggle/MyInvite_Toggle", "MyInvite_Panel"], a),
            R = function (e) {
                function t() {
                    var t = e.call(this, "panel/welfare/InviteGiftPackPage") || this;
                    return t.mAllToggles = {}, t.mAllPages = {}, t.mActiveTab = null, t.rewardNode = null, t.mEditor = null, t.mAcceptIuviteButton = null, t._userNode = null, t._inviteInfo = null, t.mInviteNodes = [], t.HelpButton = null, t._listeners = null, t._inviteCount = null, t._ingotVal = null, t._myCode = null, t
                }

                return i(t, e), t.prototype.init = function () {
                    this._resNames = C.lcRes.loadLCRes("res/activity.lcres"), p.UserPart.sendGetInviteCode()
                }, t.prototype.onInitWidget = function () {
                    for (var e in this.init(), this._myCode = u.noxcc.findLabel("MyInvite_Panel/girlinvite/InvitationCodeText", this.getRoot()), this._ingotVal = u.noxcc.findLabel("MyInvite_Panel/girlinvite/Diamonds/getDiamondsText", this.getRoot()), this._inviteCount = u.noxcc.findLabel("MyInvite_Panel/girlinvite/_inviteCount", this.getRoot()), this._tip = u.noxcc.findLabel("AcceptInvite_Panel/text", this.getRoot()), this._region = u.noxcc.findLabel("AcceptInvite_Panel/text1", this.getRoot()), this._userNode = u.noxcc.find("AcceptInvite_Panel/user", this.getRoot()), this.rewardNode = u.noxcc.find("MyInvite_Panel/scrollView/view/content", this.getRoot()), this.HelpButton = u.noxcc.findButton("MyInvite_Panel/girlinvite/Help_Button", this.getRoot()), u.noxcc.addClick(this.HelpButton, this, this.showHelp), o) {
                        var t = A[e], n = u.noxcc.findToggle(t[0], this.getRoot());
                        this.mAllToggles[e] = n, u.noxcc.addToggleClick(n, this, this.onToggleClick, e);
                        var a = u.noxcc.find(t[1], this.getRoot());
                        this.mAllPages[e] = a
                    }
                    var i = u.noxcc.findEditBox("AcceptInvite_Panel/inputCode", this.getRoot());
                    i.placeholder = c.lcStr(1163), this.mAcceptIuviteButton = u.noxcc.findButton("AcceptInvite_Panel/acceptButton", this.getRoot()), u.noxcc.addClick(this.mAcceptIuviteButton, this, this.acceptInvite), this.mEditor = i
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.refreshContent = function () {
                    this.initMyInvitePage(), this.initAcceptInvitePage()
                }, t.prototype.onToggleClick = function (e, t) {
                    this.setActiveTab(e)
                }, t.prototype.removeTab = function (e) {
                    var t = this.mAllToggles[e], n = this.mAllPages[e];
                    delete this.mAllToggles[e], delete this.mAllPages[e], t.node.active = !1, n.active = !1
                }, t.prototype.setActiveTab = function (e) {
                    if (this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles[this.mActiveTab].check(), this.mAllToggles) {
                        var n = this.mAllToggles[t], a = this.mAllPages[t];
                        t == e ? (u.noxcc.find("checkmark", n.node).active = !0, u.noxcc.setNodeColor(u.noxcc.find("text", n.node), h.lc.Color3B.yellow), a.active = !0) : (u.noxcc.find("checkmark", n.node).active = !1, u.noxcc.setNodeColor(u.noxcc.find("text", n.node), h.lc.Color3B.white), a.active = !1)
                    }
                }, t.prototype.acceptInvite = function () {
                    P.getMaxCharacterLevel() >= s.Data._globalInfo._inviteLevelUpperLimit ? _.ToastManager.push(c.lcStr(l.STR.INVITE_LEVEL_OVER)) : (d.ClientView.getActiveIndicator().show(), p.UserPart.sendGetInviteInfo(this.mEditor.string))
                }, t.prototype.initMyInvitePage = function () {
                    var e = this;
                    if (P._inviteCode) {
                        for (var t, n = [], a = [], i = 0; i < P._playerBonus._bonusInvite.length; i++) P._playerBonus._bonusInvite[i]._info._id >= 608 ? a.push(P._playerBonus._bonusInvite[i]) : n.push(P._playerBonus._bonusInvite[i]);
                        n.sort(function (e, t) {
                            return e._info.id - t._info.id
                        }.bind(this)), a.sort(function (e, t) {
                            return e._info.id - t._info.id
                        }.bind(this)), t = a.concat(n), this.rewardNode.destroyAllChildren(), this.mInviteNodes = [];
                        for (i = 0; i < t.length; ++i) {
                            var o = t[i], r = string.format(c.lcStr(o._info._nameSid), o._info._val),
                                _ = g.BonusWidget.create(1050, o, r, "");
                            _.registerCallback(function (t) {
                                e.claimBonus(t)
                            }), this.mInviteNodes.push(_);
                            var s = e.mInviteNodes[i];
                            e.rewardNode.addChild(s.node)
                        }
                    } else d.ClientView.getActiveIndicator().show(), p.UserPart.sendGetInviteCode()
                }, t.prototype.initAcceptInvitePage = function () {
                    var e = [];
                    if (P._playerBonus._invitedBonus._info) {
                        for (var t = P._playerBonus._invitedBonus._info, n = 0; n < t._rid.length; ++n) {
                            var a = m.IconWidget.create({
                                _infoId: t._rid[n],
                                _level: t._level[n],
                                _count: t._count[n]
                            }, m.IconWidget.DisplayFlag.ITEM);
                            a.setNameColor(f.UICfg.COLOR_TEXT_WHITE), a.getRoot().setScale(.8), e.push(a)
                        }
                        P.sortResultItems(e);
                        var i = u.noxcc.find("AcceptInvite_Panel/reward", this.getRoot());
                        i.destroyAllChildren();
                        for (n = 0; n < e.length; ++n) {
                            var o = e[n];
                            i.addChild(o.node)
                        }
                    } else d.ClientView.getActiveIndicator().show();
                    if (P._invitedCode) {
                        var r = this._inviteInfo;
                        if (h.lc.V(r)) {
                            this.mEditor.node.active = !1, this.mAcceptIuviteButton.node.active = !1, this._region.node.active = !0, this._tip.node.active = !0, this._userNode.active = !0, u.noxcc.setLabelString(this._tip, c.lcStr(l.STR.INVITED_WITH_PLAYER)), u.noxcc.setLabelString(this._region, I.LoginData.genChannelRegionName(r._regionId));
                            var _ = E.UserWidget.create(r, E.UserWidget.Flag.REGION_NAME_UNION);
                            _.getUnionNameArea() && (_.getUnionNameArea().color = h.lc.Color3B.yellow), this._userNode.addChild(_.node)
                        } else d.ClientView.getActiveIndicator().show(), p.UserPart.sendGetInviteInfo(P._invitedCode)
                    }
                }, t.prototype.claimBonus = function (e) {
                    var t = 0;
                    if (108 == e._info._cid || 109 == e._info._cid) e._value >= e._info._val && !e._isClaimed && (y.ClientData.claimBonus(e), e._isClaimed = !0, e.sendBonusDirty(), t += 1); else for (; e.canClaim();) y.ClientData.claimBonus(e), t += 1;
                    for (var n = [], a = 0; a < e._info._rid.length; ++a) {
                        var i = {_infoId: e._info._rid[a], _count: e._info._count[a] * t};
                        n.push(i)
                    }
                    T.RewardPanel.create(n, T.RewardPanel.MODE_CLAIM_ALL).show()
                }, t.prototype.updateView = function () {
                    this._myCode.string || "" == this._myCode.string || u.noxcc.setLabelString(this._myCode, P._invitedCode ? P._invitedCode : ""), u.noxcc.setLabelString(this._inviteCount, P._inviteCount), u.noxcc.setLabelString(this._ingotVal, P._inviteIngot)
                }, t.prototype.showHelp = function () {
                    y.ClientData.showHelpForm(c.lcStr(l.STR.INVITE_RULE), s.Data.HelpType.invite)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this.updateBonus(), this.updateView(), v.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0), this._listeners = [], this._listeners.push(s.Data.Event.invite_count_dirty.addListener(null, function () {
                        u.noxcc.setLabelString(t._inviteCount, P._inviteCount)
                    })), this._listeners.push(s.Data.Event.invite_ingot_dirty.addListener(null, function () {
                        u.noxcc.setLabelString(t._ingotVal, P._inviteIngot)
                    }))
                }, t.prototype.updateBonus = function () {
                    this.mActiveTab = "", P._invitedCode ? (this.initAcceptInvitePage(), this.initMyInvitePage(), this.setActiveTab(o.MyInvite)) : s.Data._globalInfo._inviteLevelUpperLimit <= P.getMaxCharacterLevel() ? (this.removeTab(o.AcceptInvite), this.initMyInvitePage(), this.setActiveTab(o.MyInvite)) : (this.initAcceptInvitePage(), this.initMyInvitePage(), this.setActiveTab(o.AcceptInvite))
                }, t.prototype.onExit = function () {
                    this.mInviteNodes = [], this.rewardNode.destroyAllChildren();
                    for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                    v.MsgCenter.removeMsgListener(this), e.prototype.onExit.call(this)
                }, t.prototype.onMsg = function (e) {
                    var t = this, n = e.type;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CHECK_INVITE_CODE) {
                        d.ClientView.getActiveIndicator().hide();
                        var a = e.getExtensions_User_pb_SglUserMsg_user_check_invite_code_resp();
                        return t._inviteInfo = S.User.create(a), h.lc.V(P._invitedCode) ? t.refreshContent() : b.PromptForm.ConfirmInvited.create(this._inviteInfo, function () {
                            P._invitedCode = t.mEditor.string, p.UserPart.sendBindInvite(P._invitedCode), P._playerBonus._invitedBonus._value = P._playerBonus._invitedBonus._info._val, P._playerBonus.claimBonus(P._playerBonus._invitedBonus._infoId), T.RewardPanel.create(P._playerBonus._invitedBonus, T.RewardPanel.MODE_CLAIM).show(), t.refreshContent()
                        }).show(), !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_GET_INVITE_CODE) {
                        d.ClientView.getActiveIndicator().hide();
                        var i = e.getExtensions_User_pb_SglUserMsg_user_get_invite_code_resp();
                        return P._inviteCode = i, t._myCode.string = i, t.refreshContent(), !0
                    }
                    return !1
                }, t
            }(r.BasePage);
        n.InviteGiftPackPage = R, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcRes": "lcRes",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/Social/User": "User",
        "../../../data/data": "data",
        "../../../part/UserPart": "UserPart",
        "../../../utils/LoginData": "LoginData",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../BasePage": "BasePage",
        "../../form/PromptForm": "PromptForm",
        "../../widget/BonusWidget": "BonusWidget",
        "../../widget/IconWidget": "IconWidget",
        "../../widget/UserWidget": "UserWidget",
        "../RewardPanel": "RewardPanel"
    }],
    JoinHallForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "11e28TYZ0BNObICknU8Rm3h", "JoinHallForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = function (e) {
            function t() {
                return e.call(this, i.AllViewTypes.JoinHallForm) || this
            }

            return __extends(t, e), t.prototype.onInitWidget = function () {
                this.mBackBtn = o.noxcc.findButton("img_btn_tab_bg_unfocus_6/New EditBox/closeBtn", this.mRoot), o.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
            }, t.prototype.onEnter = function () {
            }, t.prototype.onExit = function () {
            }, t.prototype.onBackBtn = function () {
                this.hide()
            }, t.show = function () {
                var e = new t;
                return e.show(), e
            }, t
        }(a.BaseForm);
        n.JoinHallForm = r, cc._RF.pop()
    }, {"../../../noxcc": "noxcc", "../AllViewTypes": "AllViewTypes", "../BaseForm": "BaseForm"}],
    KeyValueLabel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5c6f2q8FSlEvL7zQunigi7u", "KeyValueLabel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithLabel"), i = e("../../../leocool/lc"), o = e("../../../nox"), r = e("../../config/UICfg"),
            _ = e("../../../noxcc"), s = e("../../utils/SpriteUtil"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.initKeyValueLabel = function (e, t, n, o, c) {
                    this.setAnchorPoint(0, .5);
                    var l = a.NodeWithLabel.createWithTTF(e + ": ", r.UICfg.TTF_FONT, n);
                    if (_.noxcc.setLabelColor(l, r.UICfg.COLOR_LABEL_LIGHT), l.setAnchorPoint(0, .5), this._key = l, i.lc.V(t)) {
                        var d = a.NodeWithLabel.createWithTTF(t, r.UICfg.TTF_FONT, n);
                        _.noxcc.setLabelColor(d, r.UICfg.COLOR_TEXT_LIGHT), d.setAnchorPoint(0, .5), this._value = d
                    }
                    if (c) {
                        var p = s.SpriteUtil.createSprite(c);
                        this._icon = p
                    }
                    this.recalcLayout()
                }, t.prototype.recalcLayout = function () {
                    var e = 0;
                    this._key.setPosition(e, 0), e += o.nox.w(this._key), null != this._icon ? (e += 2, this._icon.node.setPosition(e + o.nox.w(this._icon.node) / 2, 0), e += o.nox.w(this._icon.node), this._value && (e += 8, this._value.setPosition(e, 0))) : this._value && this._value.setPosition(e, 0)
                }, t.prototype.addToParent = function (e, t, n) {
                    i.lc.addChildToPosAR(e, this, t, n)
                }, t.prototype.getTotalWidth = function () {
                    return i.lc.w(this) + (this._icon ? i.lc.w(this._icon.node) + 10 : 0) + (this._value ? i.lc.w(this._value) : 0)
                }, t.prototype.getTotalHeight = function () {
                    return i.lc.h(this._icon.node)
                }, t.createKeyValueLabel = function (e, n, a, i, o) {
                    var r = new t;
                    return r.initKeyValueLabel(e, n, a, i, o), r
                }, t
            }(cc.Node);
        n.KeyValueLabel = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    KillBossPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a528cuN6t5DNr43N37R8RqR", "KillBossPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendKillBoss = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_KILL_BOSS;
                var i = n.addExtensions_World_pb_SglWorldMsg_world_attack_req();
                i.troop_id = e, i.level_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendSweepKillBoss = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_MOP_UP_KILL_BOSS, t.setExtensions_World_pb_SglWorldMsg_world_mop_up_kill_boss_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendResetKillBoss = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_RESET_KILL_BOSS, t.setExtensions_World_pb_SglWorldMsg_kill_boss_id_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBuyInTrainShop = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_AUCTION_CARD;
                var i = n.addExtensions_World_pb_SglWorldMsg_buy_auction_card_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBidInTrainShop = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_DO_AUCTION_CARD;
                var i = n.addExtensions_World_pb_SglWorldMsg_do_auction_card_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendBePlunderedNum = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_AWARD_ACTIVITY_NUM, a.NetUtil.sendProtoMsg(e)
            }, e.sendClaimRobReward = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_AWARD_ACTIVITY, t.setExtensions_World_pb_SglWorldMsg_award_activity_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.monitors = ["sendClaimRobReward"]
        })(n.KillBossPart || (n.KillBossPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    LabelButton: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "69e545+DMlA9b8j6woXYkpo", "LabelButton"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithShaderButton"), i = e("./NodeWithLabel"), o = e("../../../leocool/lc"),
            r = e("../../config/UICfg"), _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.initLabelButton = function (e, t, n, a) {
                    this.initShaderButton(e, n);
                    var _ = i.NodeWithLabel.createBMFont(r.UICfg.BMFont.huali_26, t.str);
                    o.lc.addChildToPosLB(this, _, cc.p(o.lc.w(this) / 2, t.offY ? t.offY : 0)), t.clr && (_.color = t.clr), a && this.setPosition(a), this.label = t, this._labelStr = _
                }, t.createLabelButton = function (e, n, a, i) {
                    var o = new t;
                    return o.initLabelButton(e, n, a, i), o
                }, t
            }(a.NodeWithShaderButton);
        n.LabelButton = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../config/UICfg": "UICfg",
        "./NodeWithLabel": "NodeWithLabel",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    LadderChestForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3ab2cm9hjxFgr3zQmeq+oGk", "LadderChestForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../AllViewTypes"), o = e("../../../noxcc"), r = e("../../../leocool/lcStr"),
            _ = e("../../StringEnums"), s = e("../../data/data"), c = e("../widget/IconWidget"),
            l = e("../../config/UICfg"), d = e("../node/NodeWithLabel"), p = e("../../utils/TimeUtil"),
            u = e("../../../nox"), g = e("../../utils/SpineUtil"), h = function (e) {
                function t() {
                    return e.call(this, i.AllViewTypes.LadderChestForm) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this.mInfoId = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBonusLabel = o.noxcc.findLabel("downarea/label", this.mRoot), this.mBoxLabel = o.noxcc.findLabel("bonuslabel", this.mRoot), this.mbonus = o.noxcc.find("downarea/bonus", this.mRoot)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    o.noxcc.setString(this.mBonusLabel, string.format(r.lcStr(_.STR.MAYBE) + r.lcStr(_.STR.GET)));
                    var t = g.SpineUtil.createSpineAnim("baoxiang", ["qingtong", "baiyin", "huangjin", "bojin", "zuanshi"][s.Data._propsInfo[this.mInfoId]._picId - 7820], "animation", !0);
                    u.nox.addChildToPosAR(this.mRoot, t, cc.p(-240, 150));
                    var n = s.Data._propsInfo[this.mInfoId];
                    o.noxcc.setString(this.mBoxLabel, r.lcStr(n._descSid));
                    for (var a = this.mInfoId - s.Data.PropsId.ladder_chest + 100, i = s.Data._ladderChestsInfo[a], h = [], f = 0; f < i._dropId.length; f++) {
                        var m, y, T = i._dropId[f];
                        i._min[f] != i._max[f] ? (m = c.IconWidget.create({
                            _infoId: T,
                            _showOwnCount: !0,
                            _param: {_min: i._min[f], _max: i._max[f]}
                        }, c.IconWidget.DisplayFlag.NAME), y = d.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_20, string.format("%s-%s", p.TimeUtil.formatNum(i._min[f], 9999), p.TimeUtil.formatNum(i._max[f], 9999)))) : (m = c.IconWidget.create({
                            _infoId: T,
                            _count: i._min[f]
                        }, c.IconWidget.DisplayFlag.NAME), y = d.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_20, p.TimeUtil.formatNum(i._min[f], 9999))), u.nox.addChildToPosLB(m.node, y, cc.v2(u.nox.cw(m.node), -16)), h.push(m.node)
                    }
                    u.nox.addNodesToCenter(this.mbonus, h, 16, 0)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BaseForm);
        n.LadderChestForm = h, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../widget/IconWidget": "IconWidget"
    }],
    LadderPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4b2fbDcVbZGBbMg9z63mRHU", "LadderPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendLadderBuyTicket = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BUY_TICKET, t.setExtensions_World_pb_SglWorldMsg_world_buy_ticket_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendLadderSelectCharacter = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SELECT_CHAR, t.setExtensions_World_pb_SglWorldMsg_world_select_char_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendLadderSelectCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SELECT_CARD, t.setExtensions_World_pb_SglWorldMsg_world_select_card_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendLadderQuit = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_QUIT, a.NetUtil.sendProtoMsg(e)
            }, e.sendUsingDeArchiveBottle = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_REVIVE_BY_PROP, a.NetUtil.sendProtoMsg(e)
            }
        })(n.LadderPart || (n.LadderPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    LevelAreaNew: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ba3c6YBZa9BaZBnGK2+Cu+7", "LevelAreaNew"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../config/UICfg"), o = e("../../../noxcc"),
            r = e("./NodeWithLabel"), _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this.setContentSize(a.SpriteUtil.frameFullSize("avatar_level_bg"));
                    a.SpriteUtil.addSprite(this, "avatar_level_bg");
                    var t = r.NodeWithLabel.createWithTTF(string.format("%d", e), i.UICfg.TTF_FONT, i.UICfg.FontSize.S1);
                    o.noxcc.setLabelColor(t, i.UICfg.COLOR_TEXT_LIGHT), t.setPosition(0, 0), this.addLabel(t)
                }, t.prototype.addLabel = function (e) {
                    this._levelLabel = e, this.addChild(e)
                }, t.prototype.setString = function (e) {
                    this._levelLabel._label.string = e
                }, t.createLevelAreaNew = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(cc.Node);
        n.LevelAreaNew = _, cc._RF.pop()
    }, {
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    LevelArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "da41ez1ExtDS6iy8DEf3VC4", "LevelArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("./NodeWithLabel"), o = e("../../config/UICfg"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.init = function (e) {
                a.SpriteUtil.addSprite(this, "avatar_level_bg");
                var t = i.NodeWithLabel.createWithTTF(string.format("%d", e), o.UICfg.TTF_FONT, o.UICfg.FontSize.S3);
                t.setPosition(0, 2), this.addChild(t), this._level = t
            }, t.create = function (e) {
                var n = new t;
                return n.init(e), n
            }, t
        }(cc.Node);
        n.LevelArea = r, cc._RF.pop()
    }, {"../../config/UICfg": "UICfg", "../../utils/SpriteUtil": "SpriteUtil", "./NodeWithLabel": "NodeWithLabel"}],
    LevelExpBar: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "34be7Jg3JBLYK7V3prozGRV", "LevelExpBar"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithProgressBar"), i = e("../../../leocool/lc"), o = e("./LevelAreaNew"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.initLevelExpBar = function (e, t, n, a) {
                this.initProgressBar(i.lc.D(a, 200)), this.initLabel(), n && n > 0 && this.setProgress(t / n), this.setLabelString(t, n);
                var r = o.LevelAreaNew.createLevelAreaNew(e);
                i.lc.addChildToPosAR(this, r, cc.v2(i.lc.aleft(this), 0)), this._levelExp = r._levelLabel
            }, t.createLevelExpBar = function (e, n, a, i) {
                var o = new t;
                return o.initLevelExpBar(e, n, a, i), o
            }, t
        }(a.NodeWithProgressBar);
        n.LevelExpBar = r, cc._RF.pop()
    }, {"../../../leocool/lc": "lc", "./LevelAreaNew": "LevelAreaNew", "./NodeWithProgressBar": "NodeWithProgressBar"}],
    LevelNameArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0d8c9+f7hVJDI7ryQZWS57c", "LevelNameArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../../utils/SpriteUtil"), o = e("./NodeWithLabel"),
            r = e("../../config/UICfg"), _ = e("./LevelAreaNew"), s = e("../../../nox"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, c, l) {
                    n = a.lc.D(n, !1);
                    null == c && (c = 164), null == l && (l = 114);
                    var d = i.SpriteUtil.createScale9Sprite("avatar_name_bg");
                    d.node.setContentSize(c, i.SpriteUtil.frameFullHeight("avatar_name_bg")), n && (d.node.scaleX = -1), this.setContentSize(c, l), this.setAnchorPoint(n ? 1 : 0, .5), s.nox.addChildAndAlign(this, d.node, [0, .5], [0, 1]), this._bg = d;
                    var p = o.NodeWithLabel.createWithTTF(t, r.UICfg.TTF_FONT, r.UICfg.FontSize.M1);
                    p.setScale(1), p.setAnchorPoint(n ? 1 : 0, .5), a.lc.addChildToPosAR(this, p, cc.p(n ? -20 : 20, d.node.y)), this._nameLabel = p;
                    var u = _.LevelAreaNew.createLevelAreaNew(e);
                    a.lc.addChildToPosAR(this, u, cc.p(n ? -44 : 44, a.lc.abottom(this) + a.lc.ash(u))), this._levelLabel = u._levelLabel, this._levelArea = u
                }, t.prototype.setNameStr = function (e) {
                    this._nameLabel.setString(e)
                }, t.prototype.setLevelStr = function (e) {
                    this._levelLabel.setString(e)
                }, t.create = function (e, n, a, i, o) {
                    var r = new t;
                    return r.init(e, n, a, i, o), r
                }, t
            }(cc.Node);
        n.LevelNameArea = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./LevelAreaNew": "LevelAreaNew",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    LevelUpPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bc2d1BuoetBfJyQCgu/VCHU", "LevelUpPanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BasePanel"), i = e("../AllViewTypes"), o = e("../../../leocool/lc"),
            r = e("../node/NodeWithLabel"), _ = e("../../config/UICfg"), s = e("../../utils/SpriteUtil"),
            c = e("../widget/UserWidget"), l = e("../node/NodeWithShaderButton"), d = e("../../StringEnums"),
            p = e("../../../leocool/lcStr"), u = e("../form/VIPInfoForm"), g = e("../../utils/UIUtil"),
            h = e("../../../noxcc"), f = e("../../../leocool/lcAudio"), m = e("../../AudioEnums"),
            y = e("../../../leocool/lcRes"), T = function (e) {
                function t() {
                    var t = e.call(this, i.AllViewTypes.LevelUpPanel) || this;
                    return t._spine = null, t._cleanupHandler = null, t
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    this._type = e, this._preLevel = t, this._curLevel = n
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var n = this;
                    n._spine = h.noxcc.find("shengji", n.mRoot);
                    var a = n._spine.getComponent(sp.Skeleton);
                    n._type == t.Type.lord ? a.setSkin("juese") : n._type == t.Type.vip ? a.setSkin("VIP") : n._type == t.Type.union && a.setSkin("shetuan"), a.setAnimation(0, "animation", !1), a.setAnimation(0, "animation2", !0), n.mRoot.runAction(o.lc.sequence(.5, function () {
                        n.afterInAnimation()
                    })), f.lcAudio.playAudio(m.AUDIO.E_PLAYER_UPGRADE)
                }, t.prototype.afterInAnimation = function () {
                    var e = r.NodeWithLabel.createBMFont(_.UICfg.BMFont.num_43, this._preLevel.toString());
                    e.color = o.lc.Color4B.white;
                    var n = r.NodeWithLabel.createBMFont(_.UICfg.BMFont.num_48, this._curLevel.toString());
                    n.color = o.lc.Color4B.white;
                    var a = s.SpriteUtil.createSprite("img_arrow_right");
                    a.node.color = o.lc.Color4B.green;
                    var i = this.mRoot.getChildByName("levelLayout");
                    o.lc.addChildToCenter(i, e), o.lc.addChildToCenter(i, a.node), o.lc.addChildToCenter(i, n), e.opacity = 0, e.runAction(o.lc.fadeIn(.2)), n.opacity = 0, n.runAction(o.lc.fadeIn(.2)), a.node.opacity = 0, a.node.runAction(o.lc.fadeIn(.2)), this._type == t.Type.lord ? this.initLord() : this._type == t.Type.vip ? this.initVip() : this._type == t.Type.union && this.initUnion()
                }, t.prototype.initLord = function () {
                    P._player, this._preLevel, this._curLevel;
                    var e = c.UserWidget.create(P, 0);
                    o.lc.addChildToPosAR(this.mRoot, e.node, cc.v2(0, 120)), e.node.opacity = 0, e.node.runAction(o.lc.fadeIn(.2))
                }, t.prototype.initVip = function () {
                    var e = this, t = s.SpriteUtil.createSprite("img_vip").node;
                    o.lc.addChildToPosAR(this.mRoot, t, cc.v2(0, 120)), t.opacity = 0, t.runAction(o.lc.fadeIn(.2));
                    var n = l.NodeWithShaderButton.createScale9ShaderButton("img_btn_green_s", null, _.UICfg.CRECT_BUTTON_S, 200);
                    n.addLabel(p.lcStr(d.STR.LOOK_OVER) + " VIP " + p.lcStr(d.STR.PRIVILEGE)), n._callback = function () {
                        e.hide(), u.VIPInfoForm.create(e._curLevel).show()
                    }, o.lc.addChildToPosAR(e.mRoot, n, cc.v2(0, -300))
                }, t.prototype.initUnion = function () {
                    var e = g.UIUtil.createBadge(P._playerUnion.getMyUnion()._badge, P._playerUnion.getMyUnion()._word);
                    e.setScale(.8), o.lc.addChildToPosAR(this.mRoot, e, cc.v2(0, 120)), e.setCascadeOpacityEnabled(!0), e.opacity = 0, e.runAction(o.lc.fadeIn(.2))
                }, t.prototype.createUpdateLine = function (e, t, n, a) {
                    var i = o.lc.createNode(cc.size(450, 32)), c = s.SpriteUtil.createSprite(t);
                    o.lc.addChildToCenter(i, c.node);
                    var l = g.UIUtil.createKeyValueLabel(e, n.toString(), _.UICfg.FontSize.M2, !0);
                    o.lc.addChildToPosAR(i, l, cc.v2(o.lc.right(c.node), 0)), l.color = o.lc.Color4B.white;
                    var d = s.SpriteUtil.createSprite("img_arrow_right").node;
                    d.setScale(.8), d.color = o.lc.Color4B.green, o.lc.addChildToPosLB(i, d, cc.v2(320, o.lc.h(i) / 2)), l._value.setPosition(o.lc.left(d) - 20 - o.lc.w(l._value), 0);
                    var p = r.NodeWithLabel.createTTF(a.toString(), _.UICfg.FontSize.M2, o.lc.Color4B.green);
                    return o.lc.addChildToPosAR(i, p, cc.v2(o.lc.right(d) + 20 + o.lc.w(p) / 2, 0)), i._hasValue = !0, i
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    this._cleanupHandler && this._cleanupHandler(), y.lcRes.unloadLCRes(["img_levelup_bg"]), this._type == t.Type.lord ? y.lcRes.unloadLCRes(["img_word_lord"]) : this._type == t.Type.vip ? y.lcRes.unloadLCRes(["img_word_vip"]) : this._type == t.Type.union && y.lcRes.unloadLCRes(["img_word_union"]), e.prototype.onExit.call(this)
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t.createLord = function (e, n) {
                    return t.create(t.Type.lord, e, n)
                }, t.createVip = function (e, n) {
                    return t.create(t.Type.vip, e, n)
                }, t.createUnion = function (e, n) {
                    return t.create(t.Type.union, e, n)
                }, t.Type = {lord: 1, vip: 2, union: 3}, t
            }(a.BasePanel);
        n.LevelUpPanel = T, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcRes": "lcRes",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../form/VIPInfoForm": "VIPInfoForm",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../widget/UserWidget": "UserWidget",
        "./BasePanel": "BasePanel"
    }],
    LoadingScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7316dFaSzNBwYwxmgKAjR4P", "LoadingScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BaseScene"), o = e("../ui/AllViewTypes"), r = e("../const/SceneId"), _ = e("../../leocool/lcStr"),
            s = e("../StringEnums"), c = e("../../leocool/lcAppCfg"), l = e("../../noxcc"), d = e("../../nox"),
            p = e("../GuideManager"), u = e("../utils/LoginData"), g = e("../const/ConfigKey"),
            h = e("../../leocool/lc"), f = e("../ClientView"), m = e("../ClientData"), y = e("../NoticeManager"),
            T = e("../../leocool/lcRes"), S = e("./SceneManager"), C = e("../data/data"),
            v = e("../ui/widget/CardThumbnail"), b = e("../battle/scene/BattleScene"), E = e("../../leocool/lcAudio"),
            I = e("../AudioEnums"), A = e("../config/UICfg"), R = e("./HallScene"), B = e("./GuideScene"),
            N = function (e) {
                function t() {
                    return e.call(this, r.SceneId.loading, o.AllViewTypes.LoadingScene) || this
                }

                return a(t, e), t.prototype.init = function () {
                    t.gCurrenton = this, h.lc.UserDefault.setBoolForKey(g.ConfigKey.agreement, !0)
                }, t.prototype.onRelease = function () {
                    cc.assert(t.gCurrenton == this, "LoadingScene.gCurrenton error"), t.gCurrenton = null, S.SceneManager.getRunningSceneId() != r.SceneId.city && S.SceneManager.getRunningSceneId() != r.SceneId.battle || T.lcRes.unloadLoadingRes()
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = l.noxcc.findButton("Buttons/AgreementBtn", this.mRoot);
                    c.lcAppCfg.isShowAgreement() ? t.node.active = !0 : t.node.active = !1, l.noxcc.addClick(t, this, function () {
                        f.ClientView.openUserProtocol()
                    });
                    var n = l.noxcc.findButton("Buttons/SelectServerBtn", this.getRootNode());
                    l.noxcc.addClick(n, this, function () {
                        n.interactable = !1, m.ClientData.switchToRegionScene()
                    });
                    var a = l.noxcc.find("LoadingArea", this.getRootNode());
                    this._hintPrefix = u.LoginData._userRegion._name + ": ", this._hint = l.noxcc.findLabel("HintText", a), this._hint.string = this._hintPrefix + _.lcStr(s.STR.CONNECTING), this._loadingPercentage = 5, this._loadingBar = l.noxcc.findProgressBar("LoadingBar", a), this.updateLoadingBar(), this._isGuideOnEnter = !1, y.NoticeManager.init()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    p.GuideManager.releaseLayer(), this._listener = C.Data.Event.resource.addListener(this, this.onResourceEvent), this._isInBattle = !1, this._isInRoom = !1, m.ClientData.reconnectGameServer()
                }, t.prototype.onExit = function () {
                    this._listener.remove(), this._listener = null, e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.onMsgErrorStatus = function (e, t) {
                    var n = e.type;
                    if (h.lc.log("msgType:%d msgStatus:%d", n, t), n != SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN) {
                        if (t == SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_UNDER_ATTACK) {
                            this._isInBattle = !0;
                            var a = e.getExtensions_User_pb_SglUserMsg_user_under_attack_resp(),
                                i = string.format(_.lcStr(s.STR.UNDER_ATTACKING), a.name);
                            return this._hint.string = this._hintPrefix + i, !0
                        }
                        if (t == SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_RECOVER) return this._isInBattle = !0, this._hint.string = this._hintPrefix + _.lcStr(s.STR.RECOVER_BATTLE), !0;
                        if (t == SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_JOIN_NOT_ALLOWED) return this._isInBattle = !0, this._hint.string = this._hintPrefix + _.lcStr(s.STR.LOADING_DATA), this.loadResStart(), !0;
                        if (t == SglMsg_pb.ProtoMsgStatus.PB_STATUS_MATCH_JOIN_NOT_ALLOWED) return this._isInRoom = !1, this._hint.string = this._hintPrefix + _.lcStr(s.STR.LOADING_DATA), this.loadResStart(), !0
                    }
                    return !1
                }, t.prototype.onLogin = function () {
                    var e = this;
                    e._hint.string = e._hintPrefix + _.lcStr(s.STR.LOADING_DATA), e.loadResStart(), d.nox.scheduleTimeout(function () {
                        e._loadingPercentage = 100, e.checkLoadResFinished()
                    }, .1)
                }, t.prototype.onBattleRecover = function (e) {
                    this._input = e, this._isInBattle = !0, this._hint.string = this._hintPrefix + _.lcStr(s.STR.PREPARE_LIVE_BATTLE), this.loadResStart()
                }, t.prototype.onEnterRoom = function () {
                    this._isInRoom = !0, this._hint.string = this._hintPrefix + _.lcStr(s.STR.PREPARE_ENTER_ROOM), this.loadResStart()
                }, t.prototype.onBattleWait = function () {
                    this._isInBattle = !0, this._hint.string = this._hintPrefix + _.lcStr(s.STR.WAIT_BATTLE_RESULT)
                }, t.prototype.onResourceEvent = function (e) {
                    var t = this;
                    m.ClientData._isWorking && t.updateLoadResProgress(e) && d.nox.scheduleTimeout(function () {
                        if (10 == t._loadingPercentage) T.lcRes.loadLCRes("res/cards_back.lcres"); else if (15 == t._loadingPercentage) E.lcAudio.preloadAudio(I.AUDIO.E_TAVERN_OPEN_PACKAGE), E.lcAudio.preloadAudio(I.AUDIO.E_TAVERN_FLIP_UR), E.lcAudio.preloadAudio(I.AUDIO.E_TAVERN_MOVE), T.lcRes.loadLCRes("res/general.lcres"); else if (t._loadingPercentage >= 20 && t._loadingPercentage < 35) T.lcRes.loadLCRes("res/cards_img_" + (t._loadingPercentage - 19) + ".lcres"); else if (t._isInBattle) if (65 == t._loadingPercentage) T.lcRes.loadLCRes("res/battle.lcres"), T.lcRes.preloadBattleAudio(); else if (80 == t._loadingPercentage) {
                            t._input && t._input._sceneType
                        } else 90 == t._loadingPercentage && (t._loadingPercentage = 100, t._basePercentage = t._loadingPercentage); else 65 == t._loadingPercentage ? T.lcRes.loadLCRes("res/city.lcres") : 90 == t._loadingPercentage && (t._loadingPercentage = 100, t._basePercentage = t._loadingPercentage);
                        t.updateLoadingBar(), t.checkLoadResFinished()
                    }, .01)
                }, t.prototype.updateLoadingBar = function () {
                    l.noxcc.setProgressBarValue(this._loadingBar, this._loadingPercentage)
                }, t.prototype.loadResStart = function () {
                    T.lcRes.loadLCRes("res/avatar.lcres")
                }, t.prototype.updateLoadResProgress = function (e) {
                    return "avatar.png.sfb" == e ? (this._loadingPercentage = 10, !0) : "cards_back.png.sfb" == e ? (this._loadingPercentage = 15, !0) : "general.png.sfb" == e ? (this._loadingPercentage = 20, !0) : e == "cards_img_" + m.ClientData.CARDS_IMG_COUNT + ".png.sfb" ? (this._loadingPercentage = 65, !0) : string.hasPrefix(e, "cards_img_") && e.indexOf(".png.sfb") >= 0 ? (this._loadingPercentage = this._loadingPercentage + 1, !0) : string.hasPrefix(e, "cards_") && e.indexOf(".png.sfb") >= 0 ? (this._loadingPercentage = this._loadingPercentage + 1, !0) : "city.png.sfb" == e || "city_2.png.sfb" == e ? (this._loadingPercentage = 90, !0) : "battle.png.sfb" == e && (this._loadingPercentage = 90, !0)
                }, t.prototype.checkLoadResFinished = function () {
                    var e = this;
                    if (100 == e._loadingPercentage) {
                        for (var t = 0; t < A.UICfg.BMFONTS_COMMON.length; ++t) A.UICfg.BMFONTS_COMMON[t];
                        e._isInBattle, v.CardThumbnail.createPool(), 11 == P._guideID && e.screenShot(), d.nox.scheduleTimeout(function () {
                            e.switchScene()
                        }, .1)
                    }
                }, t.prototype.switchScene = function () {
                    var e = this;
                    if (m.ClientData._isWorking) {
                        e._isInBattle ? function (e) {
                            S.SceneManager.replaceScene(b.BattleScene.create(e))
                        }(e._input) : function () {
                            f.ClientView.getResourceUI();
                            if (f.ClientView.getMenuUI(), f.ClientView.getChatPanel(), m.ClientData.DEBUG_UNION) ; else if (e._isInRoom) m.ClientData.replaceCityScene(), S.SceneManager.pushScene(R.HallScene.create()); else if (P._guideID < 100) S.SceneManager.replaceScene(B.GuideScene.create()); else if (m.ClientData.replaceCityScene(), p.GuideManager.isGuideEnabled()) {
                                var t = p.GuideManager.getCurStepName();
                                ("claim task" == t || t.indexOf("goto task") >= 0) && h.lc.performDelayForNode(S.SceneManager.getRunningScene().getSceneNode(), function () {
                                    AchieveForm.create().show()
                                }.bind(e), .1), S.SceneManager.getRunningScene()._needGuideStartStep = !0
                            }
                        }()
                    }
                }, t.prototype.screenShot = function () {
                }, t.currenton = function () {
                    return t.gCurrenton
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BaseScene);
        n.LoadingScene = N, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcRes": "lcRes",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../NoticeManager": "NoticeManager",
        "../StringEnums": "StringEnums",
        "../battle/scene/BattleScene": "BattleScene",
        "../config/UICfg": "UICfg",
        "../const/ConfigKey": "ConfigKey",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/widget/CardThumbnail": "CardThumbnail",
        "../utils/LoginData": "LoginData",
        "./BaseScene": "BaseScene",
        "./GuideScene": "GuideScene",
        "./HallScene": "HallScene",
        "./SceneManager": "SceneManager"
    }],
    LogForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "74b78FVm/dGDJ8vIKOOSFNT", "LogForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../ClientView"),
            s = e("../../../leocool/lcStr"), c = e("../../StringEnums"), l = e("../../data/data"),
            d = e("../../utils/TimeUtil"), p = e("../../../leocool/lc"), u = e("../../const/ConfigKey"),
            g = e("../../part/BattlePart"), h = e("../../data/Log/PlayerLog"), f = e("../widget/UserWidget"),
            m = e("../../../nox"), y = e("../../ClientData"), T = e("../../utils/SpriteUtil"),
            S = e("./ClashUserInfoForm"), C = e("../../config/UICfg"), v = e("../../utils/BattleInputUtil"),
            b = e("../../part/UserPart"), E = e("./ShareForm"), I = e("../../const/SceneId"),
            A = e("../../scene/BaseSceneImpl"), R = e("../../utils/UIUtil"), B = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.LogForm) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._type = e
                }, t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("bg/close_btn", this.mRoot), this._contentNode = r.noxcc.find("bg/scrollView/view/content", this.mRoot), this._noneArea = r.noxcc.find("none", this._contentNode), this._grid = r.noxcc.find("grid", this._contentNode), this._grid.active = !1, r.noxcc.setParent(this._grid, this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this.refreshLog(), this._listeners = [], this._listeners.push(l.Data.Event.log_dirty.addListener(t, function (e) {
                        t.onLogEvent(e)
                    }))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    l.Data.Event.exchange_res_done.dispatchEvent(), A.BaseSceneImpl.getRunningSceneId() == I.SceneId.find && A.BaseSceneImpl.getRunningScene(), _.ClientView.getMenuUI(), e.prototype.onExit.call(this)
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.showTab = function (e, t) {
                    return this.refreshLog(e), !0
                }, t.prototype.refreshLog = function (e) {
                    var t = null;
                    this._contentNode.destroyAllChildren(), e ? (t = P._playerLog.getLogList(Battle_pb.BattleType.PB_BATTLE_PLAYER, e == s.lcStr(c.STR.ATTACK_LOG)), e == s.lcStr(c.STR.ATTACK_LOG) ? p.lc.writeConfig(u.ConfigKey.new_attack_log, d.TimeUtil.getCurrentTime()) : e == s.lcStr(c.STR.DEFENSE_LOG) && p.lc.writeConfig(u.ConfigKey.new_defense_log, d.TimeUtil.getCurrentTime())) : (t = P._playerLog.getLogList(this._type), this._type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? p.lc.writeConfig(u.ConfigKey.new_clash_log, d.TimeUtil.getCurrentTime()) : p.lc.writeConfig(u.ConfigKey.new_ladder_log, d.TimeUtil.getCurrentTime())), t ? t.length > 0 ? (this.updateView(t), this._logs = t) : this._noneArea.active = !0 : (_.ClientView.getActiveIndicator().show(), g.BattlePart.sendGetPvpLogs(this._type))
                }, t.prototype.updateView = function (e) {
                    for (var t = this, n = function (n) {
                        var a = r.noxcc.instantiate(t._grid);
                        a.active = !0, r.noxcc.setParent(a, t._contentNode);
                        var i = r.noxcc.findButton("host", a), o = r.noxcc.findButton("replayBtn", a),
                            _ = r.noxcc.findButton("shareBtn", a), s = r.noxcc.find("scoreArea", a),
                            c = r.noxcc.findLabel("hostVal/text", s), u = r.noxcc.findLabel("selfVal/text", s),
                            g = r.noxcc.findLabel("selfVal/scoreVal", s), h = r.noxcc.findLabel("timeVal", a),
                            v = e[n]._opponent, b = e[n]._resultType;
                        s.active = !1;
                        var E = f.UserWidget.create(P, f.UserWidget.Flag.NAME_UNION, 1, !1);
                        E.getUserNameBg().node.color = m.nox.c3b(150, 150, 150), E.setUser(v, !0), null != E.getUnionNameArea().parent && E.getUnionNameArea().parent.isVisible(), i.node.getChildByName("user").addChild(E.node);
                        var I = null, A = e[n].isLocal();
                        A ? I = y.ClientData.getResIconName(l.Data.ResType.ladder_trophy, !1) : t._type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER && (I = y.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1)), I && (s.active = !0, T.SpriteUtil.setSprite(s.getChildByName("hostVal").getComponentInChildren(cc.Sprite), I), T.SpriteUtil.setSprite(s.getChildByName("selfVal").getComponentInChildren(cc.Sprite), I), r.noxcc.setLabelString(c, string.format("%d", v._trophy)), r.noxcc.setLabelString(u, string.format("%d", e[n]._player._trophy)), 0 != e[n]._trophy && (b >= l.Data.BattleResult.draw || e[n]._player._trophy > 600) ? (r.noxcc.setLabelString(g, string.format("%s", (l.Data.BattleResult.draw < b ? "+" : "-") + e[n]._trophy)), r.noxcc.setNodeColor(g.node, l.Data.BattleResult.draw < b && C.UICfg.COLOR_TEXT_GREEN || C.UICfg.COLOR_TEXT_RED_DARK)) : r.noxcc.setLabelString(g, "")), r.noxcc.addClick(o, function () {
                            t.onReplay(e[n])
                        }), r.noxcc.addClick(_, function () {
                            t.onShare(e[n])
                        }), r.noxcc.addClick(i, function () {
                            A && R.UIUtil.operateUser(v, t), t._type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER && v._regionId > 0 && S.ClashUserInfoForm.show(v._id)
                        }), r.noxcc.setLabelString(h, d.TimeUtil.getTimeAgo(e[n]._timestamp));
                        var B = i.getComponentInChildren(cc.Sprite),
                            N = (l.Data.BattleResult.draw < b ? "img_win" : b == l.Data.BattleResult.draw && "img_draw") || "img_lose";
                        T.SpriteUtil.setSprite(B, N), o.enableAutoGrayEffect = !0, o.interactable = e[n]._isAvailable, _.enableAutoGrayEffect = !0, _.interactable = e[n]._isAvailable && !P._playerMessage.isLogShared(e[n]._id), b < l.Data.BattleResult.draw ? r.noxcc.setNodeColor(a, m.nox.c3b(200, 200, 200)) : r.noxcc.setNodeColor(a, p.lc.Color3B.white)
                    }, a = 0; a < e.length; a++) n(a)
                }, t.prototype.onLogEvent = function (e) {
                    if (this._contentNode.destroyAllChildren(), e._event == h.PlayerLog.Event.attack_log_dirty) this.refreshLog(s.lcStr(c.STR.ATTACK_LOG)); else if (e._event == h.PlayerLog.Event.defense_log_dirty) this.refreshLog(s.lcStr(c.STR.DEFENSE_LOG)); else if (e._event == h.PlayerLog.Event.clash_log_dirty || e._event == h.PlayerLog.Event.melee_log_dirty) _.ClientView.getActiveIndicator().hide(), this.refreshLog(); else if (e._event == h.PlayerLog.Event.log_item_dirty) for (var t = e._logId, n = 0; n < this._logs.length; n++) {
                        this._logs[n]._id == t && this.updateView(this._logs)
                    }
                }, t.prototype.onReplay = function (e) {
                    _.ClientView.getActiveIndicator().show(s.lcStr(c.STR.WAITING)), v.BattleInputUtil._replayingLog = e;
                    var t = e.isLocal();
                    g.BattlePart.sendBattleReplay(e._replayId, t), b.UserPart.sendUserEvent({logReplayId: e._replayId})
                }, t.prototype.onShare = function (e) {
                    E.ShareForm.create(e._id).show()
                }, t.show = function (e) {
                    var n = new t;
                    return n.init(e), n.show(), n
                }, t
            }(i.BaseForm);
        n.LogForm = B, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ConfigKey": "ConfigKey",
        "../../const/SceneId": "SceneId",
        "../../data/Log/PlayerLog": "PlayerLog",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../part/UserPart": "UserPart",
        "../../scene/BaseSceneImpl": "BaseSceneImpl",
        "../../utils/BattleInputUtil": "BattleInputUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/UserWidget": "UserWidget",
        "./ClashUserInfoForm": "ClashUserInfoForm",
        "./ShareForm": "ShareForm"
    }],
    LoginData: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9ec8bVGWHRPQ4TGNsWfuorh", "LoginData"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../leocool/lc"), i = e("../../nox"), o = e("../const/ConfigKey"), r = e("../../leocool/lcStr"),
            _ = e("../StringEnums");
        (function (e) {
            e._userRegion = null, e._regions = null, e._regIds = "";
            var t = "";

            function n() {
                for (var e = "test", t = 0; t < 6; t++) e += "" + i.nox.randomI(0, 9);
                return e
            }

            function s(e) {
                return e < 1e5 ? e % 1e4 : e
            }

            e.initConfig = function (t) {
                var n = e._userRegion._id + "." + t;
                return a.lc.resetConfigFile(n), n
            }, e.loadUserId = function () {
                return a.lc.UserDefault.getStringForKey("user_id", null), t
            }, e.saveUserId = function (e) {
                return e || (cc.assert(!1, "not supported"), (e = a.lc.UserDefault.getStringForKey("user_id", null)) || (e = n())), t = e, a.lc.UserDefault.setStringForKey("user_id", e), !0
            }, e.loadUserRegion = function () {
                e._userRegion = {};
                var t = a.lc.UserDefault.getStringForKey(o.ConfigKey.region_info, "");
                if (0 != t.length) {
                    var n = string.splitByChar(t, ":");
                    4 == n.length ? (e._userRegion._id = n[0], e._userRegion._ip = n[1], e._userRegion._port = n[2], e._userRegion._name = n[3]) : 3 == n.length && (e._userRegion._id = n[0], e._userRegion._ip = n[1], e._userRegion._name = n[2])
                }
                cc.log("User Region info: ", e._userRegion._id, e._userRegion._ip, e._userRegion._port, e._userRegion._name)
            }, e.saveUserRegion = function () {
                var t = null;
                if (null != e._userRegion && null != e._userRegion._id && (t = e._regions[e._userRegion._id]), null != t) {
                    var n = string.format("%d:%s:%s", t._id, t._host, t._name);
                    a.lc.UserDefault.setStringForKey(o.ConfigKey.region_info, n)
                } else a.lc.UserDefault.setStringForKey(o.ConfigKey.region_info, "")
            }, e.hasUserRegion = function () {
                return null != e._userRegion._id && null != e._userRegion._ip && null != e._userRegion._name
            }, e.canEnterRegion = function () {
                return e._regions[e._userRegion._id]._status !== Region_pb.RegionStatus.PB_TYPE_MAINTAIN
            }, e.getDisplayRegionId = s, e.genChannelRegionName = function (e) {
                var t = s(e);
                return string.format("%s%s%d", "", r.lcStr(_.STR.REGION), t)
            }, e.newRegion = function (e) {
                return {
                    _id: e.id,
                    _host: e.host,
                    _name: e.name,
                    _status: e.status,
                    _isNew: e.is_new,
                    _isRecommend: e.is_recommend,
                    _openTime: e.open_time
                }
            }, e.newHistory = function (e) {
                var t = {
                    _rid: e.rid,
                    _name: e.name,
                    _level: e.level,
                    _avatar: e.avatar,
                    _vip: e.vip,
                    _avatarFrameId: e.avatar_frame
                };
                return 0 == t._avatarFrameId && (t._avatarFrameId = null), t
            }
        })(n.LoginData || (n.LoginData = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../StringEnums": "StringEnums",
        "../const/ConfigKey": "ConfigKey"
    }],
    LoginForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1a13a9OU6dHZajcZDMoKjB1", "LoginForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a, i = e("../BaseForm"), o = e("../../../noxcc"), r = e("../../utils/LoginData"),
            _ = e("../../../leocool/lc"), s = e("../../sdk/Sdk_White"), c = e("../../ToastManager"),
            l = e("../../sdk/SdkManager"), d = e("../AllViewTypes"), p = e("../common/ActiveIndicator");
        (function (e) {
            e[e.Select = 0] = "Select", e[e.Login = 1] = "Login", e[e.Register = 2] = "Register"
        })(a || (a = {}));
        var u = function (e) {
            function t() {
                var t = e.call(this, d.AllViewTypes.LoginForm) || this;
                return t._isForce = !0, t
            }

            return __extends(t, e), t.prototype.onInitWidget = function () {
                e.prototype.onInitWidget.call(this), this.mSelectPage = o.noxcc.find("SelectPage", this.mRoot), this.mLoginPage = o.noxcc.find("LoginPage", this.mRoot), this.mRegisterPage = o.noxcc.find("RegisterPage", this.mRoot), this.mLoginButtonInSelect = o.noxcc.findButton("LoginBtn", this.mSelectPage), this.mRegisterButtonInSelect = o.noxcc.findButton("RegisterBtn", this.mSelectPage), this.mAccountEditInLogin = o.noxcc.findEditBox("Account/AccountEdit", this.mLoginPage), this.mPasswordEditInLogin = o.noxcc.findEditBox("Password/PasswordEdit", this.mLoginPage), this.mConfirmButtonInLogin = o.noxcc.findButton("Button/LoginBtn", this.mLoginPage), this.mBackButtonInLogin = o.noxcc.findButton("Button/BackBtn", this.mLoginPage), this.mAccountEditInRegister = o.noxcc.findEditBox("Account/AccountEdit", this.mRegisterPage), this.mPasswordEditInRegister = o.noxcc.findEditBox("Password/PasswordEdit", this.mRegisterPage), this.mConfirmButtonInRegister = o.noxcc.findButton("Button/RegisterBtn", this.mRegisterPage), this.mBackButtonInRegister = o.noxcc.findButton("Button/BackBtn", this.mRegisterPage), o.noxcc.addClick(this.mLoginButtonInSelect, this, this.switchToPage, a.Login), o.noxcc.addClick(this.mRegisterButtonInSelect, this, this.switchToPage, a.Register), o.noxcc.addClick(this.mConfirmButtonInLogin, this, this.onBtnLogin), o.noxcc.addClick(this.mBackButtonInLogin, this, this.switchToPage, a.Select), o.noxcc.addClick(this.mConfirmButtonInRegister, this, this.onBtnRegister), o.noxcc.addClick(this.mBackButtonInRegister, this, this.switchToPage, a.Select)
            }, t.prototype.onReleaseWidget = function () {
                e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var t = _.lc.UserDefault.getStringForKey("account@white"),
                    n = _.lc.UserDefault.getStringForKey("password@white");
                t && n && (o.noxcc.setInputString(this.mAccountEditInLogin, t), o.noxcc.setInputString(this.mPasswordEditInLogin, n), this.switchToPage(a.Login))
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t.prototype.switchToPage = function (e) {
                o.noxcc.setActive(this.mSelectPage, e == a.Select), o.noxcc.setActive(this.mLoginPage, e == a.Login), o.noxcc.setActive(this.mRegisterPage, e == a.Register)
            }, t.prototype.onBtnLogin = function () {
                var e = this, n = o.noxcc.getInputString(this.mAccountEditInLogin),
                    a = o.noxcc.getInputString(this.mPasswordEditInLogin);
                if ("" != n && "" != a) {
                    var i = l.SdkManager.getSdk();
                    i instanceof s.Sdk_White ? (p.ActiveIndicator.show(), _.lc.httpPost(i.getLoginUrl(), "account=" + n + "&password=" + a, function (i, o) {
                        p.ActiveIndicator.hide(), o && "0" === o.result ? (_.lc.UserDefault.setStringForKey("account@white", n), _.lc.UserDefault.setStringForKey("password@white", a), r.LoginData.saveUserId(o.uid + "@vn"), e.hide(), t.mLoginCallback && t.mLoginCallback()) : c.ToastManager.push("Account or password error!!!")
                    })) : c.ToastManager.push("no implemention")
                } else c.ToastManager.push("Account or password cannot be empty")
            }, t.prototype.onBtnRegister = function () {
                var e = this, t = o.noxcc.getInputString(this.mAccountEditInRegister),
                    n = o.noxcc.getInputString(this.mPasswordEditInRegister);
                if ("" != t && "" != n) {
                    var i = l.SdkManager.getSdk();
                    i instanceof s.Sdk_White ? (p.ActiveIndicator.show(), _.lc.httpPost(i.getRegisterUrl(), "account=" + t + "&password=" + n + "&pub=" + l.SdkManager.getSdk(), function (i, r) {
                        p.ActiveIndicator.hide(), r && "0" === r.result ? (e.switchToPage(a.Login), o.noxcc.setInputString(e.mAccountEditInLogin, t), o.noxcc.setInputString(e.mPasswordEditInLogin, n), e.onBtnLogin()) : r && "-1" === r.result ? c.ToastManager.push("Account repeat") : c.ToastManager.push("Unknown error")
                    })) : c.ToastManager.push("no implemention")
                } else c.ToastManager.push("Account or password cannot be empty")
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t.PageIndex = {Select: 0, Login: 1, Register: 2}, t
        }(i.BaseForm);
        n.LoginForm = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../ToastManager": "ToastManager",
        "../../sdk/SdkManager": "SdkManager",
        "../../sdk/Sdk_White": "Sdk_White",
        "../../utils/LoginData": "LoginData",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../common/ActiveIndicator": "ActiveIndicator"
    }],
    Log: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cf2e5iGzplAwZgRab0NwCIu", "Log"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../Social/User"), i = function () {
            function e(e, t) {
                this._id = t.id, this._isAttack = e, this._type = t.battle_type, null != t && (this._timestamp = t.timestamp / 1e3, this._resultType = t.result_type, this._battleType = t.battle_type, this._isAvailable = t.is_available, this._replayId = t.replay_id, this._trophy = t.trophy, this._city = t.city, this._trophyEx = t.trophy_ex, this._opponent = a.User.create(t.opponent_info), this._player = a.User.create(t.player_info))
            }

            return e.prototype.isLocal = function () {
                return !1
            }, e
        }();
        n.Log = i, cc._RF.pop()
    }, {"../Social/User": "User"}],
    LongTouchComp: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "89a48CmQPxF+IgfenJmRFRr", "LongTouchComp"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../src/noxcc"), i = e("../src/nox"), o = cc._decorator, r = o.ccclass, _ = o.property,
            s = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.duration = 1, t
                }

                return __extends(t, e), t.prototype.onLoad = function () {
                }, t.prototype.start = function () {
                }, t.prototype.onEnable = function () {
                    this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this, !1), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this, !1), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this, !1), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this, !1)
                }, t.prototype.onDisable = function () {
                    this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this, !1), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this, !1), this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this, !1), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this, !1), this.unschedule(this.onCallback)
                }, t.prototype.update = function (e) {
                }, t.prototype.onTouchBegan = function (e) {
                    this.unschedule(this.onCallback), this.scheduleOnce(this.onCallback, this.duration), this.mBeginTime = a.noxcc.getRunningTime(), this.mIsTouching = !0, this.mIsLongTouch = !1, this.mIsOutside = !1
                }, t.prototype.onTouchMove = function (e) {
                    if (this.mIsTouching && !this.mIsOutside) {
                        var t = this.node.convertToNodeSpaceAR(e.getLocation());
                        i.nox.arect(this.node).contains(t) || (this.mIsOutside = !0, this.mIsLongTouch && this.node.emit("long-touch-end", e))
                    }
                }, t.prototype.onTouchEnd = function (e) {
                    this.unschedule(this.onCallback), this.mIsTouching && !this.mIsOutside && this.mIsLongTouch && this.node.emit("long-touch-end", e), this.mIsTouching = !1
                }, t.prototype.onClick = function (e) {
                    e.stopPropagationImmediate()
                }, t.prototype.onCallback = function () {
                    this.mIsTouching && !this.mIsOutside && (this.mIsLongTouch = !0, this.node.emit("long-touch-begin", event))
                }, t.prototype.isLongTouch = function () {
                    return this.mIsLongTouch
                }, __decorate([_({
                    type: cc.Integer,
                    displayName: "Duration"
                })], t.prototype, "duration", void 0), t = __decorate([r], t)
            }(cc.Component);
        n.LongTouchComp = s, cc._RF.pop()
    }, {"../src/nox": "nox", "../src/noxcc": "noxcc"}],
    LordForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8d7ffGCeAVIZ4FFO4QV42wQ", "LordForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../sdk/SdkManager"),
            s = e("../../ClientData"), c = e("../../data/data"), l = e("../../StringEnums"),
            d = e("../../../leocool/lcStr"), p = e("../../../leocool/lcAppCfg"), u = e("../widget/UserWidget"),
            g = e("../../GuideManager"), h = e("../../../leocool/lcAudio"), f = e("../../utils/LoginData"),
            m = e("../../data/Union/Union"), y = e("./BattleRuleForm"), T = e("./SetPlayerNameForm"),
            S = e("./SelectHeadForm"), C = e("./SelectAvatarFrameForm"), v = e("./SelectCardBackForm"),
            b = e("./ExchangeCodeForm"), E = e("../../utils/SpriteUtil"), I = e("../common/Dialog"),
            A = e("../../ClientView"), R = e("../../../leocool/lc"), B = e("../../ToastManager"),
            N = e("./SelectMedalForm"), D = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.LordForm) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), this.mBtnChangeName = r.noxcc.findButton("ModifyName_button", this.getRootNode()), this.mBtnChangeAvatar = r.noxcc.findButton("All_Modify/ModifyAvatar_button", this.getRootNode()), this.mBtnChangeAvatarFrame = r.noxcc.findButton("All_Modify/ModifyAvatarFrame_button", this.getRootNode()), this.mBtnChangeCardBack = r.noxcc.findButton("All_Modify/ModifyCardBack_button", this.getRootNode()), this.mBtnChangeMedal = r.noxcc.findButton("All_Modify/ModifyMedal_button", this.getRootNode()), this.mBtnRegion = r.noxcc.findButton("content/Layout_ChangeServer/ChangeServer_button", this.getRootNode()), this.mMask = r.noxcc.findButton("mask", this.getRootNode()), this._levelExpBar = r.noxcc.findProgressBar("userExp_Bg", this.getRootNode()), this.mBindBtn = r.noxcc.findButton("content/bind_button", this.getRootNode()), this.mUserBtn = r.noxcc.findButton("content/user_button", this.getRootNode()), this.mLabelChangeAvatar = this.mBtnChangeAvatar.getComponentInChildren(cc.Label), this.mLabelChangeAvatarFrame = this.mBtnChangeAvatarFrame.getComponentInChildren(cc.Label), this.mLabelChangeCardBack = this.mBtnChangeCardBack.getComponentInChildren(cc.Label);
                    var t = this.mBtnRegion.getComponentInChildren(cc.Label);
                    r.noxcc.setLabelString(this.mLabelChangeAvatar, d.lcStr(l.STR.CHANGE_ICON)), r.noxcc.setLabelString(this.mLabelChangeAvatarFrame, d.lcStr(l.STR.CHANGE_RECT)), r.noxcc.setLabelString(this.mLabelChangeCardBack, d.lcStr(l.STR.CHANGE_CARD_BACK)), r.noxcc.setLabelString(t, d.lcStr(l.STR.CHANGE_REGION)), r.noxcc.addClick(this.mCloseBtn, this, this.oncloseBtn), r.noxcc.addClick(this.mMask, this, this.oncloseBtn), r.noxcc.addClick(this.mBtnChangeName, this, this.onBtnChangeName), r.noxcc.addClick(this.mBtnChangeAvatar, this, this.onBtnChangeAvatar), r.noxcc.addClick(this.mBtnChangeAvatarFrame, this, this.onBtnChangeAvatarFrame), r.noxcc.addClick(this.mBtnChangeCardBack, this, this.onBtnChangeCardBack), r.noxcc.addClick(this.mBtnChangeMedal, this, this.onBtnChangeMedal), r.noxcc.addClick(this.mBtnRegion, this, this.onBtnRegion);
                    var n = r.noxcc.find("Avatar", this.mRoot), a = u.UserWidget.create(P, u.UserWidget.Flag.LEVEL_NAME);
                    if (n.addChild(a.node), this.mUserWidget = a, this.updateLevelExpBar(), !p.lcAppCfg.isAppStoreReviewing()) {
                        var i = r.noxcc.findButton("content/ExchangeGift_button", this.getRootNode()),
                            o = i.getComponentInChildren(cc.Label);
                        r.noxcc.setLabelString(o, d.lcStr(l.STR.EXCHANGE_CODE)), r.noxcc.addClick(i, this, this.onBtnCode)
                    }
                    var s = r.noxcc.findButton("Help_button", this.getRootNode()), c = s.getComponentInChildren(cc.Label);
                    r.noxcc.setLabelString(c, d.lcStr(l.STR.HELP)), r.noxcc.addClick(s, this, this.onBtnHelp);
                    var g = r.noxcc.findButton("content/Layout_music/valve", this.getRootNode());
                    this._btnMusicOn = r.noxcc.find("content/Layout_music/valve/btn_on", this.getRootNode()), this._btnMusicOff = r.noxcc.find("content/Layout_music/valve/btn_off", this.getRootNode()), r.noxcc.addClick(g, this, this.onSwitchMusic);
                    var h = r.noxcc.findButton("content/Layout_sound/valve", this.getRootNode());
                    this._btnEffectOn = r.noxcc.find("content/Layout_sound/valve/btn_on", this.getRootNode()), this._btnEffectOff = r.noxcc.find("content/Layout_sound/valve/btn_off", this.getRootNode()), r.noxcc.addClick(h, this, this.onSwitchEffect);
                    var y = f.LoginData._userRegion,
                        T = r.noxcc.findLabel("content/Layout_ChangeServer/ServerName", this.getRootNode());
                    r.noxcc.setLabelString(T, y._name);
                    var S = f.LoginData.loadUserId().replace("zl" === _.SdkManager.getSdkType() ? "@zl" : "@gs", "") || m.Union.convertId(P._id),
                        C = r.noxcc.findLabel("id_bg/id_text", this.mRoot);
                    r.noxcc.setLabelString(C, "ID." + S);
                    var v = p.lcAppCfg.getChannelName();
                    "ASDK" == v || "KPZS" == v || "YIXIN" == v || p.lcAppCfg.isAppStoreReviewing() || (this.mUserBtn.node.active = !0, r.noxcc.addClick(this.mUserBtn, this, this.onChangeUser), r.noxcc.setLabelString(this.mUserBtn.node.getComponentInChildren(cc.Label), d.lcStr(l.STR.CHANGE_USER))), "FACEBOOK" == v && (this.mBindBtn.node.active = !0, r.noxcc.addClick(this.mBindBtn, this, this.onBindUser), r.noxcc.setLabelString(this.mBindBtn.node.getComponentInChildren(cc.Label), d.lcStr(P._canBind ? l.STR.BIND_GCID : l.STR.BIND_GCID_BOUND)));
                    var b = r.noxcc.findSprite("union/icon", this.mRoot), I = r.noxcc.findLabel("union/text", this.mRoot);
                    if (b.node.parent.active = P.hasUnion(), P.hasUnion()) {
                        var A = P._playerUnion.getMyUnion();
                        E.SpriteUtil.setSprite(b, string.format("img_badge_%d", A._badge)), b.node.setScale(.62), r.noxcc.setLabelString(I, A._name)
                    }
                    var R = r.noxcc.findLabel("Ver_text", this.mRoot);
                    r.noxcc.setLabelString(R, d.lcStr(l.STR.VERSION) + p.lcAppCfg.getDisplayVersion())
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._listeners = [], t._listeners.push(c.Data.Event.name_dirty.addListener(t, function () {
                        t.mUserWidget.setUserName(P._name)
                    })), t._listeners.push(c.Data.Event.icon_dirty.addListener(t, function () {
                        t.mUserWidget.setAvatar(P)
                    })), t._listeners.push(c.Data.Event.avatar_frame_dirty.addListener(t, function () {
                        t.mUserWidget.setAvatar(P), t.mUserWidget.setVip(P._vip)
                    })), t._listeners.push(c.Data.Event.vip_dirty.addListener(t, function () {
                        t.mUserWidget.setVip(P._vip)
                    })), t._listeners.push(c.Data.Event.character_dirty.addListener(t, function () {
                        t.mUserWidget.setAvatar(P), t.updateLevelExpBar()
                    })), t._listeners.push(g.GuideManager.Event.seek.addListener(t, function () {
                        t.onGuide(null)
                    })), t._listeners.push(c.Data.Event.bind_gcid_dirty.addListener(t, function () {
                        t.updateBindBtn()
                    })), t._listeners.push(c.Data.Event.exp_dirty.addListener(t, function () {
                        t.updateLevelExpBar()
                    })), "enter setting" == g.GuideManager.getCurStepName() && g.GuideManager.finishStepLater(), t.updateLevelExpBar(), t.updateSwitchMusic(), t.updateSwitchEffect()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.onShowActionFinished = function () {
                    this.onGuide(null)
                }, t.prototype.onHideActionFinished = function () {
                    "leave setting" == g.GuideManager.getCurStepName() && g.GuideManager.finishStep()
                }, t.prototype.onSwitchMusic = function () {
                    h.lcAudio.toggleAudio(h.lcAudio.Behavior.music, !h.lcAudio._isMusicOn), this.updateSwitchMusic()
                }, t.prototype.onSwitchEffect = function () {
                    h.lcAudio.toggleAudio(h.lcAudio.Behavior.effect, !h.lcAudio._isEffectOn), this.updateSwitchEffect()
                }, t.prototype.updateSwitchMusic = function () {
                    this._btnMusicOff.active = h.lcAudio._isMusicOn, this._btnMusicOn.active = !h.lcAudio._isMusicOn
                }, t.prototype.updateSwitchEffect = function () {
                    this._btnEffectOff.active = h.lcAudio._isEffectOn, this._btnEffectOn.active = !h.lcAudio._isEffectOn
                }, t.prototype.onGuide = function (e) {
                    "leave setting" == g.GuideManager.getCurStepName() && (g.GuideManager.setOperateLayer(this.mCloseBtn.node), e && e.stopPropagation())
                }, t.prototype.updateBindBtn = function () {
                    null != this.mBindBtn && (this.mBindBtn.node.active = !0, r.noxcc.setLabelString(this.mBindBtn.getComponentInChildren(cc.Label), d.lcStr(P._canBind ? l.STR.BIND_GCID : l.STR.BIND_GCID_BOUND)), E.SpriteUtil.setSprite(this.mBindBtn.node.getComponent(cc.Sprite), P._canBind ? "img_btn_2" : "img_btn_1"))
                }, t.prototype.updateLevelExpBar = function () {
                    var e = r.noxcc.findLabel("userExp_Bg/userExp_text", this.getRootNode()),
                        t = P._characters[P.getCharacterId()];
                    this._levelExpBar.progress = t._exp / P.getLevelupExp(t._level), e.string = t._exp + "/" + P.getLevelupExp(t._level)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.onChangeUser = function () {
                    "APPSTORE" == p.lcAppCfg.getChannelName() ? I.Dialog.showDialog(d.lcStr(l.STR.CHANGE_USER_IN_GAMECENTER), function () {
                    }) : (f.LoginData._regions = {}, f.LoginData.saveUserRegion(), A.ClientView.getActiveIndicator().show(d.lcStr(l.STR.WAITING)))
                }, t.prototype.onBindUser = function () {
                    P._canBind ? null != R.lc.App.facebookLogin && (R.lc.App.facebookLogin(), A.ClientView.getActiveIndicator().show(d.lcStr(l.STR.WAITING))) : B.ToastManager.push(d.lcStr(l.STR.BIND_GCID_BOUND_LONG))
                }, t.prototype.onBtnChangeName = function () {
                    T.SetPlayerNameForm.show()
                }, t.prototype.onBtnChangeAvatar = function () {
                    S.SelectHeadForm.show()
                }, t.prototype.onBtnChangeAvatarFrame = function () {
                    C.SelectAvatarFrameForm.show()
                }, t.prototype.onBtnChangeCardBack = function () {
                    v.SelectCardBackForm.show()
                }, t.prototype.onBtnChangeMedal = function () {
                    N.SelectMedalForm.show()
                }, t.prototype.onBtnCode = function () {
                    b.ExchangeCodeForm.show()
                }, t.prototype.onBtnHelp = function () {
                    y.BattleRuleForm.show()
                }, t.prototype.onBtnRegion = function () {
                    s.ClientData.switchToRegionScene()
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.LordForm = D, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/Union/Union": "Union",
        "../../data/data": "data",
        "../../sdk/SdkManager": "SdkManager",
        "../../utils/LoginData": "LoginData",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../common/Dialog": "Dialog",
        "../widget/UserWidget": "UserWidget",
        "./BattleRuleForm": "BattleRuleForm",
        "./ExchangeCodeForm": "ExchangeCodeForm",
        "./SelectAvatarFrameForm": "SelectAvatarFrameForm",
        "./SelectCardBackForm": "SelectCardBackForm",
        "./SelectHeadForm": "SelectHeadForm",
        "./SelectMedalForm": "SelectMedalForm",
        "./SetPlayerNameForm": "SetPlayerNameForm"
    }],
    LotteryScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8e739y2eu1KXZU8y+J1RUb2", "LotteryScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("./BaseScene"), r = e("../const/SceneId"), _ = function (e) {
            function t() {
                return e.call(this, r.SceneId.lottery, i.AllViewTypes.LotteryScene) || this
            }

            return a(t, e), t.prototype.init = function () {
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
            }, t.prototype.onReleaseWidget = function () {
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this)
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t.prototype.onUpdate = function (e) {
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t
        }(o.BaseScene);
        n.LotteryScene = _, cc._RF.pop()
    }, {"../const/SceneId": "SceneId", "../ui/AllViewTypes": "AllViewTypes", "./BaseScene": "BaseScene"}],
    MailDetailForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ec722XjojlMX6WMCTa3cc79", "MailDetailForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseForm"), i = e("../../AllViewTypes"), o = e("../../../../noxcc"), r = function (e) {
            function t() {
                return e.call(this, i.AllViewTypes.MailDetailForm) || this
            }

            return __extends(t, e), t.prototype.init = function (t, n, a) {
                e.prototype.init.call(this), this.mtitlestring = t, this.mcontentstring = n
            }, t.prototype.onInitWidget = function () {
                this.mtitle = o.noxcc.findLabel("title", this.mRoot), this.mcontent = o.noxcc.findLabel("panel/view/content/label", this.mRoot), this.mBackBtn = o.noxcc.findButton("mask", this.mRoot), o.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.showpage(this.mtitlestring, this.mcontentstring, this.mtimestring)
            }, t.prototype.showpage = function (e, t, n) {
                console.log(e), console.log(this.mtitle), o.noxcc.setLabelString(this.mtitle, e), o.noxcc.setLabelString(this.mcontent, t)
            }, t.prototype.onEnter = function () {
                console.log(this.mtitle)
            }, t.prototype.onExit = function () {
            }, t.prototype.onBackBtn = function () {
                this.hide()
            }, t.show = function (e, n) {
                var a = new t;
                return a.init(e, n), a.show(), a
            }, t
        }(a.BaseForm);
        n.MailDetailForm = r, cc._RF.pop()
    }, {"../../../../noxcc": "noxcc", "../../AllViewTypes": "AllViewTypes", "../../BaseForm": "BaseForm"}],
    MailForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0144cwn4UVMUq0qfJQyJgJN", "MailForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("../../../nox"), c = e("../widget/BonusWidget"), l = e("../../../leocool/lcStr"),
            d = e("../../../leocool/lc"), p = e("../../StringEnums"), u = e("../../data/Social/PlayerMail"),
            g = e("../../ClientData"), h = e("../../ClientView"), f = e("../../config/UICfg"),
            m = e("../../utils/UIUtil"), y = e("../node/NodeWithListView"), T = e("./MailForm/SystemMailWidget"),
            S = e("./MailForm/MsgMailItem"), C = function (e) {
                function t() {
                    var t, n = e.call(this, o.AllViewTypes.MailForm) || this;
                    return n.SystemMail = {
                        announce: 1,
                        notice: 2,
                        bonus: 3,
                        union: 4,
                        leave_message: 5,
                        send: 6
                    }, n.TabInfos = ((t = {})[n.SystemMail.announce] = ["Center/LeftPanel/content/first_button", null], t[n.SystemMail.notice] = ["Center/LeftPanel/content/second_button", null], t[n.SystemMail.bonus] = ["Center/LeftPanel/content/third_button", null], t[n.SystemMail.union] = ["Center/LeftPanel/content/fourth_button", null], t[n.SystemMail.leave_message] = ["Center/LeftPanel/content/fifth_button", null], t[n.SystemMail.send] = ["Center/LeftPanel/content/sixth_button", null], t), n.mAllToggles = {}, n.mTeachInfos = {}, n.focusTabIndex = 1, n
                }

                return a(t, e), t.prototype.init = function (t) {
                    e.prototype.init.call(this), null != t && (this._index = t)
                }, t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn);
                    var e = this.TabInfos;
                    for (var t in this.mAllToggles = {}, e) {
                        var n = e[t], a = r.noxcc.findButton(n[0], this.mRoot);
                        this.mAllToggles[t] = a, r.noxcc.addClick(a, this, this.onToggleClick, t)
                    }
                    var i = this.mAllToggles[this.SystemMail.announce], o = r.noxcc.find("text", i.node);
                    r.noxcc.setNodeColor(o, cc.Color.YELLOW), this.mTeachListBox = r.noxcc.find("Center/RightPanel/view/content", this.mRoot), this.mActiveTab = null, this.setActiveTab(this._tabIndex), this.tishi = r.noxcc.find("Center/RightPanel/tishi", this.mRoot), this.tishi.setVisible(!1), this.tablistNode = r.noxcc.find("Center/LeftPanel/content", this.mRoot)
                }, t.prototype.onReleaseWidget = function () {
                    this.mAllToggles = {}, this.mActiveTab = null
                }, t.prototype.onEnter = function () {
                    var e = this;
                    e._listeners = [], e._listeners.push(_.Data.Event.mail.addListener(e, function (t) {
                        t && t._event && e.onMail(t._event)
                    })), e._listeners.push(_.Data.Event.server_bonus_list_dirty.addListener(e, function () {
                        e.onServerBonus()
                    })), this.refreshSystemMails(), this.showSystemTabFlag()
                }, t.prototype.onExit = function () {
                    for (var e = 0; e < this._listeners.length; e++) this._listeners[e].remove();
                    this._listeners = []
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.onMail = function (e) {
                    e == u.PlayerMail.Event.mail_list_dirty && (this.refreshSystemMails(), this.showSystemTabFlag())
                }, t.prototype.onServerBonus = function () {
                    this.refreshSystemMails(), this.showSystemTabFlag()
                }, t.prototype.onToggleClick = function (e, t) {
                    if (e != this.focusTabIndex) {
                        for (var n in this.mAllToggles) {
                            var a = this.mAllToggles[n], i = r.noxcc.find("text", a.node);
                            r.noxcc.setNodeColor(i, cc.Color.WHITE)
                        }
                        r.noxcc.setNodeColor(r.noxcc.find("text", t), cc.Color.YELLOW), this.focusTabIndex = e, this.createSystemMailArea(), this.refreshSystemMails()
                    }
                }, t.prototype.setActiveTab = function (e) {
                    if (this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles) {
                        var n = this.mAllToggles[t];
                        s.nox.toNumber(t) == e ? r.noxcc.find("icon", n.node).active = !0 : r.noxcc.find("icon", n.node).active = !1
                    }
                }, t.prototype.createSystemMailArea = function () {
                    var e = [l.lcStr(p.STR.ANNOUNCEMENT), l.lcStr(p.STR.NOTICE), l.lcStr(p.STR.BONUS), l.lcStr(p.STR.UNION), l.lcStr(p.STR.LEAVE_MESSAGE), l.lcStr(9213)],
                        t = m.UIUtil.createVerticalTabListArea(d.lc.h(this.mTeachListBox) - f.UICfg.FRAME_INNER_TOP - f.UICfg.FRAME_INNER_BOTTOM, e, function (e, t, n) {
                        }.bind(this), 1, !0);
                    this._tabArea = t;
                    var n = y.NodeWithListView.createV(cc.size(d.lc.w(this.mTeachListBox) - d.lc.right(t) - f.UICfg.FRAME_INNER_RIGHT - 24, d.lc.h(this.mTeachListBox) - f.UICfg.FRAME_INNER_TOP - f.UICfg.FRAME_INNER_BOTTOM - 40), 30, 10);
                    this._list = n
                }, t.prototype.onGuide = function () {
                }, t.show = function () {
                    var e = new t;
                    return e.show(), e
                }, t.prototype.showSystemTabFlag = function () {
                    for (var e = r.noxcc.getChildrenCount(this.tablistNode), t = 1; t <= e; t++) {
                        var n = 0;
                        t == this.SystemMail.announce ? n = P._playerMail.getNewAnnouncements() : t == this.SystemMail.notice ? n = P._playerMail.getNewNoticeMails() : t == this.SystemMail.bonus ? n = P._playerBonus.getClaimCenterBonusFlag() : t == this.SystemMail.union ? n = P._playerMail.getNewUnionMails() : t == this.SystemMail.leave_message ? n = P._playerMail.getNewMsgMails() : t == this.SystemMail.send && (n = P._playerBonus.getClaimCenterSendBonusFlag());
                        var a = r.noxcc.getChild(this.tablistNode, t - 1);
                        h.ClientView.checkNewFlag(a, n, 30)
                    }
                }, t.prototype.refreshSystemMails = function () {
                    var e = this._list;
                    if (r.noxcc.isValid(this.mTeachListBox)) {
                        if (r.noxcc.destroyAllChildren(this.mTeachListBox), this.focusTabIndex == this.SystemMail.bonus) {
                            for (var t = [], n = 0; n < P._playerBonus._serverBonuses.length; ++n) P._playerBonus._serverBonuses[n]._send_info || t.push(P._playerBonus._serverBonuses[n]);
                            t.sort(function (e, t) {
                                return e._isClaimed && !t._isClaimed ? 1 : -1
                            });
                            for (n = 0; n < t.length; n++) {
                                var a = this.getBonusItem(null, t[n]);
                                this.mTeachListBox.addChild(a.node)
                            }
                            this.checkEmpty(t, l.lcStr(p.STR.LIST_EMPTY_NO_BONUS))
                        } else if (this.focusTabIndex == this.SystemMail.announce) {
                            var i = P._systemAnnouncement;
                            for (n = 0; n < i.length; n++) {
                                (a = T.SystemMailItem.create(i[n])).show(this.mTeachListBox)
                            }
                            P._playerMail.clearNewAnnouncements(), this.checkEmpty(i, null)
                        } else if (this.focusTabIndex == this.SystemMail.union) {
                            for (i = P._playerMail.getMailList(Mail_pb.MailType.PB_MAIL_UNION, Mail_pb.MailType.PB_MAIL_UNION), n = 0; n < i.length; n++) {
                                (a = S.MsgMailItem.create(d.lc.w(e), i[n])).show(this.mTeachListBox)
                            }
                            P._playerMail.clearNewUnionMails(), this.checkEmpty(i, l.lcStr(p.STR.LIST_EMPTY_NO_MAIL))
                        } else if (this.focusTabIndex == this.SystemMail.leave_message) {
                            for (i = P._playerMail.getMailList(Mail_pb.MailType.PB_MAIL_FRIEND, Mail_pb.MailType.PB_MAIL_NOTIFY), n = 0; n < i.length; n++) {
                                (a = S.MsgMailItem.create(d.lc.w(e), i[n])).show(this.mTeachListBox)
                            }
                            P._playerMail.clearNewMsgMails(), this.checkEmpty(i, l.lcStr(p.STR.LIST_EMPTY_NO_MAIL))
                        } else if (this.focusTabIndex == this.SystemMail.send) {
                            var o = [], _ = [];
                            for (t = [], n = 0; n < P._playerBonus._serverBonuses.length; ++n) P._playerBonus._serverBonuses[n]._send_info && (P._playerBonus._serverBonuses[n]._isClaimed ? _.push(P._playerBonus._serverBonuses[n]) : o.push(P._playerBonus._serverBonuses[n]));
                            t = o.concat(_);
                            for (n = 0; n < t.length; n++) {
                                a = this.getBonusItem(null, t[n]);
                                this.mTeachListBox.addChild(a.node)
                            }
                            this.checkEmpty(t, l.lcStr(p.STR.LIST_EMPTY_NO_BONUS))
                        } else if (this.focusTabIndex == this.SystemMail.notice) {
                            for (i = P._playerMail.getMailList(Mail_pb.MailType.PB_MAIL_SYSTEM), n = 0; n < i.length; n++) {
                                (a = T.SystemMailItem.create(i[n], !0)).show(this.mTeachListBox)
                            }
                            P._playerMail.clearNewNoticeMails(), this.checkEmpty(i, l.lcStr(p.STR.LIST_EMPTY_NO_NOTICE))
                        }
                        this.showSystemTabFlag()
                    }
                }, t.prototype.checkEmpty = function (e, t) {
                    e && 0 == e.length && null != t ? (this.tishi.setVisible(!0), r.noxcc.setLabelString(this.tishi, t)) : this.tishi.setVisible(!1)
                }, t.prototype.getBonusItem = function (e, t) {
                    var n = this;
                    if (null != t) {
                        var a = t._info ? string.format(l.lcStr(t._info._nameSid), t._info._val) : t._title;
                        return null == e ? (e = c.BonusWidget.create(1.35 * d.lc.w(n.mTeachListBox), t, a, "")).node.setScale(.75) : e.setBonus(t, a, ""), e.registerCallback(function (e) {
                            null != P.newServerDiscount && null != e._info && e._info._type == _.Data.BonusType.new_server_recharge_discounts && (P.newServerDiscount[e._infoId] = !0);
                            var t = g.ClientData.claimBonus(e);
                            h.ClientView.showClaimBonusResult(e, t), n.showSystemTabFlag(), _.Data.Event.mail.dispatchEvent(null)
                        }.bind(this)), e
                    }
                }, t.prototype.getSystemMailItem = function (e, t) {
                    if (null != t) {
                        var n = t._send_info ? string.format("Item nh\u1eadn t\u1eeb %s", t._send_info.name) : t._title;
                        return null == e ? e = c.BonusWidget.create(d.lc.w(this.mTeachListBox), t, n, "") : e.setBonus(t, n, ""), e
                    }
                }, t
            }(i.BaseForm);
        n.MailForm = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/Social/PlayerMail": "PlayerMail",
        "../../data/data": "data",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithListView": "NodeWithListView",
        "../widget/BonusWidget": "BonusWidget",
        "./MailForm/MsgMailItem": "MsgMailItem",
        "./MailForm/SystemMailWidget": "SystemMailWidget"
    }],
    MailPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5e7baiRFkJBXatcih3UlAnh", "MailPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendMailList = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MAIL_LIST, a.NetUtil.sendProtoMsg(e)
            }, e.sendMailSend = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MAIL_SEND;
                var i = n.addExtensions_Mail_pb_SglMailMsg_mail_send_req();
                null != t ? (i.type = Mail_pb.MailType.PB_MAIL_FRIEND, i.id = t) : (i.type = Mail_pb.MailType.PB_MAIL_UNION, i.id = P._unionId), i.content = e, a.NetUtil.sendProtoMsg(n)
            }
        })(n.MailPart || (n.MailPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    Mail: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "09124qKNeVOYKFcHPpJbpy7", "Mail"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./User"), i = e("../data"), o = e("./PlayerMail"), r = function () {
            function e(e) {
                this._id = e
            }

            return e.prototype.sendMailDirty = function () {
                var e = {_event: o.PlayerMail.Event.mail_dirty, _data: this};
                i.Data.Event.mail.dispatchEvent(e)
            }, e.create = function (t) {
                var n = new e(t.id);
                if (n._timestamp = t.timestamp / 1e3, n._type = t.type, n._content = t.content.replace(/(\\n)/g, "\n"), "" != t.param) {
                    var i = JSON.parse(t.param);
                    if (n._title = i.title, n._sender = i.sender, n._opponentId = i.opponentId, n._levelId = i.cityId, i.memberId) {
                        for (var o = void 0, r = 0; r < i.memberId.length; ++r) {
                            var _ = i.memberId[r];
                            if (parseInt(_) == parseInt(P._id)) {
                                o = !0;
                                break
                            }
                        }
                        o || (n._isIgnore = !0)
                    }
                }
                return null != t.user_info ? n._user = a.User.create(t.user_info) : n._user = a.User.createNpc(), n._sender = n._user._name, null != t.invite_status ? n._inviteStatus = t.invite_status : null != t.apply_status ? n._applyStatus = t.apply_status : null != t.sos_status && (n._sosStatus = t.sos_status), n
            }, e.Mails = {}, e
        }();
        n.Mail = r, cc._RF.pop()
    }, {"../data": "data", "./PlayerMail": "PlayerMail", "./User": "User"}],
    MainTask: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "be0f4jXGTNJX5GF50oUXJWd", "MainTask"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../../leocool/lcStr"), o = e("../../StringEnums"), r = function () {
            function e(e) {
                this._infoId = e, this._info = a.Data._mainTaskInfo[e];
                var t = this.getBonus();
                1 == t._info._type && (t._taskInfoid = this._infoId)
            }

            return e.prototype.getBonus = function () {
                return P._playerBonus._bonuses[this._info._bonusId]
            }, e.prototype.getDesc = function () {
                var e = this.getBonus()._info, t = this._info._type;
                if (t == a.Data.MainTaskType.chapter) {
                    var n = [i.lcStr(o.STR.STORY_LINE), i.lcStr(o.STR.REBEL), i.lcStr(o.STR.CHAOS)],
                        r = a.Data._levelInfo[e._val];
                    return string.format(i.lcStr(e._nameSid), string.format("%s" + i.lcStr(o.STR.BRACKETS_S), i.lcStr(r._nameSid), n[Math.floor(r._id / 1e4) - 1]))
                }
                if (t == a.Data.MainTaskType.level) return string.format(i.lcStr(e._nameSid), e._val);
                if (t == a.Data.MainTaskType.card) {
                    var _ = e._val, s = this.getBonus()._info._cid;
                    return 205 != s && 305 != s || (_ += 1), string.format(i.lcStr(e._nameSid), _)
                }
                return i.lcStr(e._nameSid)
            }, e.prototype.getClaimableCount = function () {
                var e = this.getBonus()._info, t = e._type, n = e._cid, a = 0;
                for (var i in P._playerAchieve._mainTasks) {
                    var o = P._playerAchieve._mainTasks[i].getBonus();
                    o._info._type == t && o._info._cid == n && o.canClaim() && (a += 1)
                }
                return a
            }, e.prototype.isDefaultValid = function () {
                return !this.isDone()
            }, e.prototype.isValid = function () {
                if (!this.isDefaultValid()) return !1;
                for (var e = this._info._condition, t = 0; t < e.length; ++t) {
                    var n = P._playerAchieve._mainTasks[e[t]];
                    if (null != n && !n.isDone()) return !1
                }
                if (this._infoId < 1e3) {
                    var i = this.getBonus()._info._val;
                    a.Data._levelInfo[i]
                }
                return !0
            }, e.prototype.isDone = function () {
                var e = this.getBonus();
                return e._value >= e._info._val && e._isClaimed
            }, e
        }();
        n.MainTask = r, cc._RF.pop()
    }, {"../../../leocool/lcStr": "lcStr", "../../StringEnums": "StringEnums", "../data": "data"}],
    MarqueeManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9798fm/NxhFOraHheFBQVcn", "MarqueeManager");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../leocool/lc"), o = e("./data/data"), r = e("../nox"), _ = e("../noxcc"),
            s = e("./utils/RichTextUtil"), c = e("./data/Social/PlayerMessage"), l = e("./const/ZOrder"),
            d = e("./StaticPrefabMgr"), p = e("./config/UICfg"), u = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.mMsgs = [], t
                }

                return a(t, e), t.prototype.init = function () {
                    var e = this;
                    e._listener = o.Data.Event.message.addListener(null, function (t) {
                        var n = t._type;
                        if (t._event == c.PlayerMessage.Event.msg_new && n == o.Data.MsgType.customize) for (var a = t._param, i = P._playerMessage._msgAll[o.Data.MsgType.customize - 1], r = P._loginTime, _ = 0; _ < a; ++_) {
                            var s = i[i.length - a + _];
                            Math.floor(s._timestamp) > Math.ceil(r) && e.push(s._content)
                        }
                    })
                }, t.prototype.onCleanup = function () {
                    e.prototype.onCleanup.call(this), this.mMsgs = [], this._listener && (this._listener.remove(), this._listener = null)
                }, t.prototype.attach = function (e) {
                    this.node.active = !0, this.node.zIndex = l.ZOrder.marquee, this.node.parent = e.getSceneNode(), this.node.opacity = 0 == this.mMsgs.length ? 0 : 255
                }, t.prototype.detach = function () {
                    this.node.parent = null
                }, t.prototype.push = function (e, n) {
                    return !(this.mMsgs.length > t.MAX_MSG_COUNT) && (this.mMsgs.push(e), this.showPanel(), !0)
                }, t.prototype.removeMsg = function () {
                    var e = this;
                    this._msg && (_.noxcc.destroy(this._msg), this._msg = null, this.mMsgs.shift(), 0 == this.mMsgs.length && (this._isFadingOut || (this._isFadingOut = !0, this.node.runAction(i.lc.sequence(i.lc.fadeOut(.5), function () {
                        e._isFadingOut = !1
                    })))))
                }, t.prototype.showPanel = function () {
                    this.node.active && (this._isFadingOut = !1, this.node.stopAllActions(), this.node.runAction(i.lc.fadeIn(.5)))
                }, t.prototype.update = function (e) {
                    var t = this, n = this.mMsgs;
                    if (0 != n.length && null == this._msg) {
                        var a, o = n[0], _ = o.indexOf("#");
                        if (0 == _) {
                            var c = o.indexOf("#", _ + 1);
                            a = o.substr(_ + 1, c - _ - 1), o = o.substr(c + 1)
                        }
                        var l, d = {
                            _fontSize: p.UICfg.FontSize.S2,
                            _normalClr: p.UICfg.COLOR_TEXT_LIGHT,
                            _boldClr: p.UICfg.COLOR_TEXT_PURPLE
                        };
                        a ? (l = s.RichTextUtil.createBoldRichText(a, p.UICfg.RICHTEXT_PARAM_LIGHT_S2), s.RichTextUtil.appendBoldRichText(l, o, d)) : l = s.RichTextUtil.createBoldRichText(o, d);
                        var u = l.node;
                        u.setPosition(r.nox.w(this.node) / 2 + r.nox.w(u) / 2, 0), this.node.addChild(u), u.runAction(i.lc.sequence(i.lc.moveTo(20, -r.nox.w(this.node) / 2 - r.nox.w(u) / 2, 0), function () {
                            t.removeMsg()
                        })), this._msg = u
                    }
                }, t.create = function () {
                    var e = _.noxcc.instantiate(d.StaticPrefabMgr.getMarqueePrefab()).addComponent(t);
                    return e.init(), e
                }, t.MAX_MSG_COUNT = 150, t
            }(e("./BaseComponent").BaseComponent);
        (function (e) {
            var t = null;

            function n() {
                t && t.detach()
            }

            function a() {
                t && (t.node.destroy(), t = null)
            }

            e.init = function () {
                null == t && (t = u.create())
            }, e.shut = function () {
                n(), a()
            }, e.attach = function (e) {
                null == t && (t = u.create()), t.attach(e)
            }, e.unattach = n, e.stop = function () {
                t && (t.node.active = !1)
            }, e.release = a, e.push = function (e, n) {
                return !!t && t.push(e, n)
            }, e.pushArray = function (e) {
                for (var n = 0; n < e.length && t.push(e[n], !0); ++n) ;
                t.showPanel()
            }
        })(n.MarqueeManager || (n.MarqueeManager = {})), cc._RF.pop()
    }, {
        "../leocool/lc": "lc",
        "../nox": "nox",
        "../noxcc": "noxcc",
        "./BaseComponent": "BaseComponent",
        "./StaticPrefabMgr": "StaticPrefabMgr",
        "./config/UICfg": "UICfg",
        "./const/ZOrder": "ZOrder",
        "./data/Social/PlayerMessage": "PlayerMessage",
        "./data/data": "data",
        "./utils/RichTextUtil": "RichTextUtil"
    }],
    MaskLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e2e3dFAP+dEGqUdFg93eLsf", "MaskLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../const/ViewConst"), i = e("../../../leocool/lc"), o = e("../../utils/SpriteUtil"),
            r = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    t._maskNode = null, t.node.setContentSize(new cc.Size(a.ViewConst.SCR_W, a.ViewConst.SCR_H)), t.node.setAnchorPoint(new cc.Vec2(0, 0));
                    var n = t.node.addComponent(cc.Widget);
                    n.isAlignLeft = !0, n.isAlignRight = !0, n.isAlignTop = !0, n.isAlignBottom = !0, n.left = 0, n.right = 0, n.top = 0, n.bottom = 0;
                    var r = i.lc.createNode();
                    o.SpriteUtil.addSprite(r, "icon_mask");
                    var _ = o.SpriteUtil.frameFullSize("icon_mask");
                    return r.setScale(a.ViewConst.SCR_W / _.width, a.ViewConst.SCR_H / _.height), t.addChild(r, -1), r.setPosition(new cc.Vec2(a.ViewConst.SCR_CW, a.ViewConst.SCR_CH)), t._maskNode = r, t
                }

                return __extends(t, e), t.prototype.cancelChoice = function () {
                }, t
            }(e("../../utils/NodeUtil").NodeUtil);
        n.MaskLayer = r, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../const/ViewConst": "ViewConst",
        "../../utils/NodeUtil": "NodeUtil",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    MaterialArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cb34fjWpK5MsZo5/nihb7WE", "MaterialArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../../config/UICfg"), o = e("./NodeWithLabel"),
            r = e("../../utils/SpriteUtil"), _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    this.setAnchorPoint(.5, .5), this.setContentSize(i.UICfg.SCR_W, 200);
                    var _ = [];
                    this._slots = _;
                    var s = Math.max(1, e.length), c = (a.lc.w(this) - 100 * s - 14 * (s - 1)) / 2 + 50,
                        l = o.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_26, t);
                    a.lc.addChildToPosLB(this, l, cc.p(a.lc.w(this) / 2, 264));
                    for (var d = [], p = 0; p < s; ++p) {
                        u = r.SpriteUtil.createSprite("img_slot"), a.lc.addChildToPosLB(this, u.node, cc.p(c, 196)), _.push(u), c = c + 100 + 14, (g = r.SpriteUtil.createSprite("img_com_bg_19")).node.scaleX = .6, a.lc.addChildToPosLB(u.node, g.node, cc.p(a.lc.w(u.node) / 2, -a.lc.h(g.node) / 2 + 12), -1), d[p] = g
                    }
                    for (p = 0; p < e.length; ++p) {
                        var u = _[p], g = d[p], h = e[p];
                        if (null != h._need || h._need > 0) {
                            var f = o.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_20, string.format("%s", h._need));
                            f.setScale(.8 / g.node.scaleX, .8), a.lc.addChildToCenter(g.node, f), n && h._icon._data._count < h._need && (f.color = a.lc.Color3B.red), a.lc.addChildToCenter(u.node, h._icon)
                        }
                    }
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(cc.Node);
        n.MaterialArea = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    Message: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8f8efXAucVJOpFZ2QitO3an", "Message"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./User"), i = e("../data"), o = e("../../StringEnums"), r = e("../../../leocool/lc"),
            _ = e("../../../leocool/lcStr"), s = e("../Log/Log"), c = e("../../../nox"), l = e("../../config/UICfg"),
            d = e("../../ClientData"), p = e("../../MarqueeManager"), u = function () {
                function e(e, t) {
                    var n;
                    this._timestamp = e.timestamp / 1e3;
                    var p = function (t) {
                        if (null != e[t]) return e[t]
                    };
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_CHAT) e.user_info ? (this._user = a.User.create(e.user_info), null != this._user ? this._type = i.Data.MsgType.world : this._type = i.Data.MsgType.bulletin) : this._type = i.Data.MsgType.customize, this._content = e.content; else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MESSAGE) {
                        this._user = a.User.create(e.user1), this._type = i.Data.MsgType.union, null != e.user2 && (this._target = a.User.create(e.user2));
                        var u = e.type, g = p("param1"), h = p("param2");
                        switch (u) {
                            case Union_pb.UnionMessageType.PB_UNION_JOIN:
                                r.lc.V(this._target) ? this._content = string.format(_.lcStr(o.STR.BE_INVITED_TO) + "%s", this._target._name, _.lcStr(o.STR.UNION_JOIN_NEWS)) : this._content = _.lcStr(o.STR.UNION_JOIN_NEWS), this._clr = r.lc.Color3B.orange;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_CREATE:
                                this._content = string.format("%s |%s|", _.lcStr(o.STR.CREATE_UNION), this._user._unionName), this._clr = r.lc.Color3B.orange;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_KICKOUT:
                                this._content = string.format(_.lcStr(o.STR.UNION_KICKOUT_NEWS), this._target._name), this._clr = l.UICfg.COLOR_TEXT_RED_DARK;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_LEAVE:
                                this._content = _.lcStr(o.STR.UNION_LEAVE_NEWS), this._clr = l.UICfg.COLOR_TEXT_RED_DARK;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_TO_CO_LEADER:
                            case Union_pb.UnionMessageType.PB_UNION_TO_MEMBER:
                                this._content = string.format(_.lcStr(o.STR.UNION_CHANGE_JOB_NEWS), this._target._name, _.lcStr(o.STR.ROOKIE + this._target._unionJob - 1)), this._clr = r.lc.Color3B.orange;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_TO_LEADER:
                                this._content = _.lcStr(o.STR.UNION_TO_LEADER), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_RESIGN:
                                this._content = string.format(_.lcStr(o.STR.UNION_GIVE_LEADER_TO), this._target._name), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_UPGRADE:
                                this._content = string.format(_.lcStr(o.STR.UNION_UPGRADE_NEWS), g), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_DONATE:
                                cc.assert(c.nox.isArray(e.resource), "pbMsg.resource should be array!"), (y = e.resource[0]).info_id == i.Data.ResType.union_gold ? this._content = string.format(_.lcStr(o.STR.NEWS_MEMBER_CONTRIBUTE), y.num, _.lcStr(o.STR.UNION_GOLD)) : this._content = string.format(_.lcStr(o.STR.NEWS_MEMBER_CONTRIBUTE), y.num, _.lcStr(o.STR.UNION_WOOD)), this._content = string.format(_.lcStr(o.STR.NEWS_MEMBER_CONTRIBUTE), y.num, _.lcStr(i.Data._resInfo[12]._nameSid)), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_TECH_UPGRADE:
                                var f = P._playerUnion.getMyUnion();
                                r.lc.V(f) ? (this._content = string.format(_.lcStr(o.STR.UNION_UPGRADE_TECH_NEWS), _.lcStr(f._techs[h]._info._nameSid), g), this._clr = l.UICfg.COLOR_TEXT_ORANGE) : this._content = "";
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_RESCUE:
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_IMPEACH:
                                this._content = _.lcStr(o.STR.UNION_IMPEACH_NEWS), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_UNIMPEACH:
                                this._content = _.lcStr(o.STR.UNION_UNIMPEACH_NEWS), this._clr = l.UICfg.COLOR_TEXT_ORANGE;
                                break;
                            case Union_pb.UnionMessageType.PB_UNION_IMPEACHED:
                                this._content = _.lcStr(o.STR.UNION_IMPEACHED_NEWS), this._clr = l.UICfg.COLOR_TEXT_RED_DARK;
                                break;
                            default:
                                this._content = p("message"), null == this._content && (this._content = "")
                        }
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_NEWS) {
                        this._user = a.User.create(e.user1), this._type = i.Data.MsgType.bulletin, null != e.user2 && (this._target = a.User.create(e.user2)), this._items = [];
                        for (var m = 0; m < e.resource.length; ++m) {
                            var y = e.resource[m];
                            this._items.push({_infoId: y.info_id, _num: y.num, _isFragment: y.is_fragment, _level: y.level})
                        }
                        var T = this._items[0], S = function (e) {
                            var t = i.Data.getInfo(e._infoId), n = i.Data.getType(e._infoId);
                            return null != t ? [_.lcStr(t._nameSid), d.ClientData.getStrByCardType(n)] : ["", d.ClientData.getStrByCardType(n)]
                        }, C = e.what, v = p("param");
                        switch (C) {
                            case News_pb.What.PB_NEWS_PURCHASE:
                                this._content = string.format(_.lcStr(o.STR.NEWS_VIP), this._user._vip);
                                break;
                            case News_pb.What.PB_NEWS_LOTTERY:
                                this._needMarquee = !0;
                                var b = i.Data.getRecruiteInfo(v), E = _.lcStr(b._nameSid), I = _.lcStr(o.STR.RP_GOOD),
                                    A = v % 100;
                                this._content = string.format(_.lcStr(o.STR.NEWS_LOTTERY), E, A, S(T).shift(), this._items.length > 1 ? _.lcStr(o.STR.SO_ON) : ""), r.lc.V(I) && (this._content = I + this._content);
                                break;
                            case News_pb.What.PB_NEWS_MIX:
                                var R = d.ClientData.getPlaceByCardType(i.Data.getType(T._infoId)), B = S(T), N = B.shift(),
                                    D = B.shift();
                                this._content = string.format(_.lcStr(o.STR.NEWS_MIX), R, D, N);
                                break;
                            case News_pb.What.PB_NEWS_TRANSFORM:
                                this._content = string.format(_.lcStr(o.STR.NEWS_REBIRTH), S(T).shift());
                                break;
                            case News_pb.What.PB_NEWS_EXPEDITION:
                                N = (n = S(T))[0], D = n[1], this._content = string.format(_.lcStr(o.STR.NEWS_EXPEDITION), D, N), this._needMarquee = !0;
                                break;
                            case News_pb.What.PB_NEWS_RECRUIT:
                                this._content = string.format(_.lcStr(o.STR.NEWS_RECRUIT), S(T).shift()), this._needMarquee = !0;
                                break;
                            case News_pb.What.PB_NEWS_VISIT:
                                this._content = string.format(_.lcStr(o.STR.NEWS_VISIT), S(T).shift());
                                break;
                            case News_pb.What.PB_NEWS_UNION_CREATE:
                                this._content = string.format(_.lcStr(o.STR.NEWS_UNION_CREATE), e.union1.name), this._needMarquee = !0;
                                break;
                            case News_pb.What.PB_NEWS_UNION_UPGRADE:
                                f = e.union1;
                                this._content = string.format(_.lcStr(o.STR.NEWS_UNION_UPGRADE), f.name, f.level);
                                break;
                            case News_pb.What.PB_NEWS_OPEN_CHEST:
                                this._content = string.format(_.lcStr(o.STR.NEWS_OPEN_CHEST), d.ClientData.getNameByInfoId(v), S(T).shift(), this._items.length > 1 ? _.lcStr(o.STR.SO_ON) : ""), this._needMarquee = !0;
                                break;
                            case News_pb.What.PB_NEWS_ATTACK_WIN:
                                break;
                            case News_pb.What.PB_NEWS_DEFEND_WIN:
                                this._content = string.format(_.lcStr(o.STR.NEWS_COPY_PVP_DEFEND_WIN), this._user._name), this.pushToMarquee(string.format("#|%s|#%s", this._target._name, this._content), !0);
                                break;
                            case News_pb.What.PB_NEWS_BUY:
                                var U = void 0;
                                v == SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY ? U = _.lcStr(o.STR.RANDOM_MARKET) : v == SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_PVP ? U = _.lcStr(o.STR.FLAG_MARKET) : v == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BUY && (U = _.lcStr(o.STR.UNION_MARKET)), this._content = string.format(_.lcStr(o.STR.NEWS_BUY), U, d.ClientData.getNameByInfoId(this._items[0]._infoId)), this.pushToMarquee(string.format("#|%s|#%s", this._user._name, this._content));
                                break;
                            case News_pb.What.PB_NEWS_RANK:
                                this._content = string.format(_.lcStr(o.STR.NEWS_RANK_CHANGE), v), this.pushToMarquee(string.format("#|%s|#%s", this._user._name, this._content), !0);
                                break;
                            case News_pb.What.PB_NEWS_RANK_LADDER:
                                this._content = string.format(_.lcStr(o.STR.NEWS_RANK_LADDER_CHANGE), v), this.pushToMarquee(string.format("#|%s|#%s", this._user._name, this._content), !0);
                                break;
                            default:
                                this._content = ""
                        }
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SHARE) {
                        this._log = new s.Log(e.is_attack, e.log), null != e.user_info ? (this._log._isAttack ? (this._user = this._log._player, this._opponent = this._log._opponent, this._resultType = this._log._resultType) : (this._user = this._log._opponent, this._opponent = this._log._player, this._resultType = -this._log._resultType), this._content = e.text, "" == this._content || this._content == _.lcStr(o.STR.SHARE_BATTLE_MSG) ? this._content = string.format("|%s|" + _.lcStr(o.STR.SHARE_BATTLE_MSG), e.user_info.name) : this._content = string.format(_.lcStr(o.STR.SHARE_BATTLE_BY_USER), e.user_info.name) + this._content) : (this._user = this._log._player, this._opponent = this._log._opponent, this._resultType = this._log._resultType, this._content = _.lcStr(o.STR.SHARE_BATTLE_BY_SYS));
                        var M = string.format("|\\255.255.255\\%s|", _.lcStr(o.STR.BRACKETS_S)) + "%s", k = null;
                        if (this._log._type == Battle_pb.BattleType.PB_BATTLE_PLAYER ? k = _.lcStr(o.STR.FIND_TROPHY_TITLE) : this._log._type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? k = _.lcStr(o.STR.FIND_CLASH_TITLE) : this._log._type == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX ? k = _.lcStr(o.STR.FIND_ARENA_TITLE) : this._log._type == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY ? k = _.lcStr(41088) : this._log._type == Battle_pb.BattleType.PB_BATTLE_SEASON ? k = _.lcStr(41261) : this._log._type == Battle_pb.BattleType.PB_BATTLE_WORLD_EX && (k = _.lcStr(41325)), this._content = string.format(M, k, this._content), this._type = i.Data.MsgType.battle, this._round = e.round, this._watchIds = {}, e.watched) {
                            for (m = 0; m < e.watched.length; ++m) {
                                var L = e.watched[m];
                                this._watchIds[L] = !0
                            }
                            this._watchIdsCount = e.watched.length
                        }
                        this._likeIds = {};
                        for (m = 0; m < e.thumbs_up.length; ++m) {
                            L = e.thumbs_up[m];
                            this._likeIds[L] = !0
                        }
                        this._likeIdsCount = e.thumbs_up.length
                    } else t == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_START ? (this._user = a.User.create(e.user_info), this._type = i.Data.MsgType.battle, this._battleId = e.id, this._content = _.lcStr(o.STR.FRIEND_BATTLE_UNDER)) : t == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE && (this._type = i.Data.MsgType.union, this._content = _.lcStr(o.STR.FRIEND_BATTLE_INVITE), this._clr = l.UICfg.COLOR_TEXT_ORANGE, this._battleId = e.battle_id, this._unionId = e.union_id, this._user = a.User.create(e.user1), e.user2 && (this._opponent = a.User.create(e.user2)), this._isValid = e.is_valid, e.result && (this._resultType = e.result.result_type, this._replayId = e.result.replay_id))
                }

                return e.prototype.pushToMarquee = function (e, t) {
                    Math.floor(this._timestamp) > Math.ceil(P._loginTime) && p.MarqueeManager.push(e), this._hiddenInChat = t
                }, e
            }();
        n.Message = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../ClientData": "ClientData",
        "../../MarqueeManager": "MarqueeManager",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../Log/Log": "Log",
        "../data": "data",
        "./User": "User"
    }],
    MiscPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "39c21h6LWFKHYRCtrQPEOzB", "MiscPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendServerPushSwitch = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_CONFIG, t.setExtensions_User_pb_SglUserMsg_user_set_config_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUserFacebook = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_FACEBOOK, t.setExtensions_User_pb_SglUserMsg_user_facebook_req(e), a.NetUtil.sendProtoMsg(t)
            }
        })(n.MiscPart || (n.MiscPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    Moby: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cafc5tZyINKkLbXoBwewy9T", "Moby");
        var a = function e(t, n) {
            this.key = t, "ecb" !== n && "cbc" !== n || (this.mode = n), this.sBox0 = e.sBox0.slice(), this.sBox1 = e.sBox1.slice(), this.sBox2 = e.sBox2.slice(), this.sBox3 = e.sBox3.slice(), this.pArray = e.pArray.slice(), this.generateSubkeys(t)
        };
        a.prototype = {
            sBox0: null,
            sBox1: null,
            sBox2: null,
            sBox3: null,
            pArray: null,
            key: null,
            mode: "ecb",
            iv: "abc12345",
            keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
            xec: function (e, t) {
                if ("ecb" === this.mode) return this.xecECB(e);
                if ("cbc" === this.mode) return this.xecCBC(e, t);
                throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")
            },
            xdc: function (e, t) {
                if ("ecb" === this.mode) return this.xdcECB(e);
                if ("cbc" === this.mode) return this.xdcCBC(e, t);
                throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")
            },
            xecECB: function (e) {
                e = this.utf8Decode(e);
                for (var t = Math.ceil(e.length / 8), n = "", a = 0; a < t; a++) {
                    var i, o, r = e.substr(8 * a, 8);
                    if (r.length < 8) for (var _ = 8 - r.length; 0 < _--;) r += "\0";
                    var s = this.split64by32(r);
                    i = s[0], o = s[1], i = (s = this.eci(i, o))[0], o = s[1], n += this.num2block32(i) + this.num2block32(o)
                }
                return n
            },
            xecCBC: function (e, t) {
                e = this.utf8Decode(e);
                var n, a, i, o = Math.ceil(e.length / 8);
                n = (i = this.split64by32(t))[0], a = i[1];
                for (var r = "", _ = 0; _ < o; _++) {
                    var s, c, l, d = e.substr(8 * _, 8);
                    if (d.length < 8) for (var p = 8 - d.length; 0 < p--;) d += "\0";
                    s = (l = this.split64by32(d))[0], c = l[1], s = this.xor(s, n), c = this.xor(c, a), s = (l = this.eci(s, c))[0], c = l[1], r += this.num2block32(s) + this.num2block32(c)
                }
                return r
            },
            xdcECB: function (e) {
                for (var t = Math.ceil(e.length / 8), n = "", a = 0; a < t; a++) {
                    var i, o, r, _ = e.substr(8 * a, 8);
                    if (_.length < 8) throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");
                    i = (r = this.split64by32(_))[0], o = r[1], i = (r = this.dci(i, o))[0], o = r[1], n += this.num2block32(i) + this.num2block32(o)
                }
                return n = this.utf8Encode(n)
            },
            xdcCBC: function (e, t) {
                var n, a, i, o, r, _ = Math.ceil(e.length / 8);
                n = (r = this.split64by32(t))[0], a = r[1];
                for (var s = "", c = 0; c < _; c++) {
                    var l, d, p, u = e.substr(8 * c, 8);
                    if (u.length < 8) throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");
                    i = l = (p = this.split64by32(u))[0], o = d = p[1], l = (p = this.dci(l, d))[0], d = p[1], l = this.xor(l, n), d = this.xor(d, a), n = i, a = o, s += this.num2block32(l) + this.num2block32(d)
                }
                return s = this.utf8Encode(s)
            },
            F: function (e) {
                var t = e >>> 24, n = e << 8 >>> 24, a = e << 16 >>> 24, i = e << 24 >>> 24,
                    o = this.addMod32(this.sBox0[t], this.sBox1[n]);
                return o = this.xor(o, this.sBox2[a]), o = this.addMod32(o, this.sBox3[i])
            },
            eci: function (e, t) {
                for (var n, a = 0; a < 16; a++) n = e = this.xor(e, this.pArray[a]), e = t = this.xor(this.F(e), t), t = n;
                return n = e, e = t, t = n, t = this.xor(t, this.pArray[16]), [e = this.xor(e, this.pArray[17]), t]
            },
            dci: function (e, t) {
                var n;
                n = e = this.xor(e, this.pArray[17]), e = t = this.xor(t, this.pArray[16]), t = n;
                for (var a = 15; a >= 0; a--) n = e, e = t, t = n, t = this.xor(this.F(e), t), e = this.xor(e, this.pArray[a]);
                return [e, t]
            },
            generateSubkeys: function (e) {
                var t, n, a = 0, i = 0;
                for (t = 0; t < 18; t++) {
                    for (n = 4; n > 0; n--) a = this.fixNegative(a << 8 | e.charCodeAt(i)), i = (i + 1) % e.length;
                    this.pArray[t] = this.xor(this.pArray[t], a), a = 0
                }
                var o = [0, 0];
                for (t = 0; t < 18; t += 2) o = this.eci(o[0], o[1]), this.pArray[t] = o[0], this.pArray[t + 1] = o[1];
                for (t = 0; t < 256; t += 2) o = this.eci(o[0], o[1]), this.sBox0[t] = o[0], this.sBox0[t + 1] = o[1];
                for (t = 0; t < 256; t += 2) o = this.eci(o[0], o[1]), this.sBox1[t] = o[0], this.sBox1[t + 1] = o[1];
                for (t = 0; t < 256; t += 2) o = this.eci(o[0], o[1]), this.sBox2[t] = o[0], this.sBox2[t + 1] = o[1];
                for (t = 0; t < 256; t += 2) o = this.eci(o[0], o[1]), this.sBox3[t] = o[0], this.sBox3[t + 1] = o[1]
            },
            block32toNum: function (e) {
                return this.fixNegative(e.charCodeAt(0) << 24 | e.charCodeAt(1) << 16 | e.charCodeAt(2) << 8 | e.charCodeAt(3))
            },
            num2block32: function (e) {
                return String.fromCharCode(e >>> 24) + String.fromCharCode(e << 8 >>> 24) + String.fromCharCode(e << 16 >>> 24) + String.fromCharCode(e << 24 >>> 24)
            },
            xor: function (e, t) {
                return this.fixNegative(e ^ t)
            },
            addMod32: function (e, t) {
                return this.fixNegative(e + t | 0)
            },
            fixNegative: function (e) {
                return e >>> 0
            },
            split64by32: function (e) {
                var t = e.substring(0, 4), n = e.substring(4, 8);
                return [this.block32toNum(t), this.block32toNum(n)]
            },
            utf8Decode: function (e) {
                for (var t = "", n = 0; n < e.length; n++) {
                    var a = e.charCodeAt(n);
                    a < 128 ? t += String.fromCharCode(a) : a > 127 && a < 2048 ? (t += String.fromCharCode(a >> 6 | 192), t += String.fromCharCode(63 & a | 128)) : (t += String.fromCharCode(a >> 12 | 224), t += String.fromCharCode(a >> 6 & 63 | 128), t += String.fromCharCode(63 & a | 128))
                }
                return t
            },
            utf8Encode: function (e) {
                for (var t = "", n = 0, a = 0, i = 0, o = 0; n < e.length;) (a = e.charCodeAt(n)) < 128 ? (t += String.fromCharCode(a), n++) : a > 191 && a < 224 ? (i = e.charCodeAt(n + 1), t += String.fromCharCode((31 & a) << 6 | 63 & i), n += 2) : (i = e.charCodeAt(n + 1), o = e.charCodeAt(n + 2), t += String.fromCharCode((15 & a) << 12 | (63 & i) << 6 | 63 & o), n += 3);
                return t
            },
            x64ec: function (e) {
                for (var t, n, a, i, o, r, _, s = "", c = 0; c < e.length;) i = (t = e.charCodeAt(c++)) >> 2, o = (3 & t) << 4 | (n = e.charCodeAt(c++)) >> 4, r = (15 & n) << 2 | (a = e.charCodeAt(c++)) >> 6, _ = 63 & a, isNaN(n) ? r = _ = 64 : isNaN(a) && (_ = 64), s = s + this.keyStr.charAt(i) + this.keyStr.charAt(o) + this.keyStr.charAt(r) + this.keyStr.charAt(_);
                return s
            },
            x64dc: function (e) {
                var t, n, a, i, o, r, _ = "", s = 0;
                for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); s < e.length;) t = this.keyStr.indexOf(e.charAt(s++)) << 2 | (i = this.keyStr.indexOf(e.charAt(s++))) >> 4, n = (15 & i) << 4 | (o = this.keyStr.indexOf(e.charAt(s++))) >> 2, a = (3 & o) << 6 | (r = this.keyStr.indexOf(e.charAt(s++))), _ += String.fromCharCode(t), 64 != o && (_ += String.fromCharCode(n)), 64 != r && (_ += String.fromCharCode(a));
                return _
            },
            trimZeros: function (e) {
                return e.replace(/\0+$/g, "")
            }
        }, a.pArray = [608135816, 2242054355, 320440878, 57701188, 2752067618, 698298832, 137296536, 3964562569, 1160258022, 953160567, 3193202383, 887688300, 3232508343, 3380367581, 1065670069, 3041331479, 2450970073, 2306472731], a.sBox0 = [3509652390, 2564797868, 805139163, 3491422135, 3101798381, 1780907670, 3128725573, 4046225305, 614570311, 3012652279, 134345442, 2240740374, 1667834072, 1901547113, 2757295779, 4103290238, 227898511, 1921955416, 1904987480, 2182433518, 2069144605, 3260701109, 2620446009, 720527379, 3318853667, 677414384, 3393288472, 3101374703, 2390351024, 1614419982, 1822297739, 2954791486, 3608508353, 3174124327, 2024746970, 1432378464, 3864339955, 2857741204, 1464375394, 1676153920, 1439316330, 715854006, 3033291828, 289532110, 2706671279, 2087905683, 3018724369, 1668267050, 732546397, 1947742710, 3462151702, 2609353502, 2950085171, 1814351708, 2050118529, 680887927, 999245976, 1800124847, 3300911131, 1713906067, 1641548236, 4213287313, 1216130144, 1575780402, 4018429277, 3917837745, 3693486850, 3949271944, 596196993, 3549867205, 258830323, 2213823033, 772490370, 2760122372, 1774776394, 2652871518, 566650946, 4142492826, 1728879713, 2882767088, 1783734482, 3629395816, 2517608232, 2874225571, 1861159788, 326777828, 3124490320, 2130389656, 2716951837, 967770486, 1724537150, 2185432712, 2364442137, 1164943284, 2105845187, 998989502, 3765401048, 2244026483, 1075463327, 1455516326, 1322494562, 910128902, 469688178, 1117454909, 936433444, 3490320968, 3675253459, 1240580251, 122909385, 2157517691, 634681816, 4142456567, 3825094682, 3061402683, 2540495037, 79693498, 3249098678, 1084186820, 1583128258, 426386531, 1761308591, 1047286709, 322548459, 995290223, 1845252383, 2603652396, 3431023940, 2942221577, 3202600964, 3727903485, 1712269319, 422464435, 3234572375, 1170764815, 3523960633, 3117677531, 1434042557, 442511882, 3600875718, 1076654713, 1738483198, 4213154764, 2393238008, 3677496056, 1014306527, 4251020053, 793779912, 2902807211, 842905082, 4246964064, 1395751752, 1040244610, 2656851899, 3396308128, 445077038, 3742853595, 3577915638, 679411651, 2892444358, 2354009459, 1767581616, 3150600392, 3791627101, 3102740896, 284835224, 4246832056, 1258075500, 768725851, 2589189241, 3069724005, 3532540348, 1274779536, 3789419226, 2764799539, 1660621633, 3471099624, 4011903706, 913787905, 3497959166, 737222580, 2514213453, 2928710040, 3937242737, 1804850592, 3499020752, 2949064160, 2386320175, 2390070455, 2415321851, 4061277028, 2290661394, 2416832540, 1336762016, 1754252060, 3520065937, 3014181293, 791618072, 3188594551, 3933548030, 2332172193, 3852520463, 3043980520, 413987798, 3465142937, 3030929376, 4245938359, 2093235073, 3534596313, 375366246, 2157278981, 2479649556, 555357303, 3870105701, 2008414854, 3344188149, 4221384143, 3956125452, 2067696032, 3594591187, 2921233993, 2428461, 544322398, 577241275, 1471733935, 610547355, 4027169054, 1432588573, 1507829418, 2025931657, 3646575487, 545086370, 48609733, 2200306550, 1653985193, 298326376, 1316178497, 3007786442, 2064951626, 458293330, 2589141269, 3591329599, 3164325604, 727753846, 2179363840, 146436021, 1461446943, 4069977195, 705550613, 3059967265, 3887724982, 4281599278, 3313849956, 1404054877, 2845806497, 146425753, 1854211946], a.sBox1 = [1266315497, 3048417604, 3681880366, 3289982499, 290971e4, 1235738493, 2632868024, 2414719590, 3970600049, 1771706367, 1449415276, 3266420449, 422970021, 1963543593, 2690192192, 3826793022, 1062508698, 1531092325, 1804592342, 2583117782, 2714934279, 4024971509, 1294809318, 4028980673, 1289560198, 2221992742, 1669523910, 35572830, 157838143, 1052438473, 1016535060, 1802137761, 1753167236, 1386275462, 3080475397, 2857371447, 1040679964, 2145300060, 2390574316, 1461121720, 2956646967, 4031777805, 4028374788, 33600511, 2920084762, 1018524850, 629373528, 3691585981, 3515945977, 2091462646, 2486323059, 586499841, 988145025, 935516892, 3367335476, 2599673255, 2839830854, 265290510, 3972581182, 2759138881, 3795373465, 1005194799, 847297441, 406762289, 1314163512, 1332590856, 1866599683, 4127851711, 750260880, 613907577, 1450815602, 3165620655, 3734664991, 3650291728, 3012275730, 3704569646, 1427272223, 778793252, 1343938022, 2676280711, 2052605720, 1946737175, 3164576444, 3914038668, 3967478842, 3682934266, 1661551462, 3294938066, 4011595847, 840292616, 3712170807, 616741398, 312560963, 711312465, 1351876610, 322626781, 1910503582, 271666773, 2175563734, 1594956187, 70604529, 3617834859, 1007753275, 1495573769, 4069517037, 2549218298, 2663038764, 504708206, 2263041392, 3941167025, 2249088522, 1514023603, 1998579484, 1312622330, 694541497, 2582060303, 2151582166, 1382467621, 776784248, 2618340202, 3323268794, 2497899128, 2784771155, 503983604, 4076293799, 907881277, 423175695, 432175456, 1378068232, 4145222326, 3954048622, 3938656102, 3820766613, 2793130115, 2977904593, 26017576, 3274890735, 3194772133, 1700274565, 1756076034, 4006520079, 3677328699, 720338349, 1533947780, 354530856, 688349552, 3973924725, 1637815568, 332179504, 3949051286, 53804574, 2852348879, 3044236432, 1282449977, 3583942155, 3416972820, 4006381244, 1617046695, 2628476075, 3002303598, 1686838959, 431878346, 2686675385, 1700445008, 1080580658, 1009431731, 832498133, 3223435511, 2605976345, 2271191193, 2516031870, 1648197032, 4164389018, 2548247927, 300782431, 375919233, 238389289, 3353747414, 2531188641, 2019080857, 1475708069, 455242339, 2609103871, 448939670, 3451063019, 1395535956, 2413381860, 1841049896, 1491858159, 885456874, 4264095073, 4001119347, 1565136089, 3898914787, 1108368660, 540939232, 1173283510, 2745871338, 3681308437, 4207628240, 3343053890, 4016749493, 1699691293, 1103962373, 3625875870, 2256883143, 3830138730, 1031889488, 3479347698, 1535977030, 4236805024, 3251091107, 2132092099, 1774941330, 1199868427, 1452454533, 157007616, 2904115357, 342012276, 595725824, 1480756522, 206960106, 497939518, 591360097, 863170706, 2375253569, 3596610801, 1814182875, 2094937945, 3421402208, 1082520231, 3463918190, 2785509508, 435703966, 3908032597, 1641649973, 2842273706, 3305899714, 1510255612, 2148256476, 2655287854, 3276092548, 4258621189, 236887753, 3681803219, 274041037, 1734335097, 3815195456, 3317970021, 1899903192, 1026095262, 4050517792, 356393447, 2410691914, 3873677099, 3682840055], a.sBox2 = [3913112168, 2491498743, 4132185628, 2489919796, 1091903735, 1979897079, 3170134830, 3567386728, 3557303409, 857797738, 1136121015, 1342202287, 507115054, 2535736646, 337727348, 3213592640, 1301675037, 2528481711, 1895095763, 1721773893, 3216771564, 62756741, 2142006736, 835421444, 2531993523, 1442658625, 3659876326, 2882144922, 676362277, 1392781812, 170690266, 3921047035, 1759253602, 3611846912, 1745797284, 664899054, 1329594018, 3901205900, 3045908486, 2062866102, 2865634940, 3543621612, 3464012697, 1080764994, 553557557, 3656615353, 3996768171, 991055499, 499776247, 1265440854, 648242737, 3940784050, 980351604, 3713745714, 1749149687, 3396870395, 4211799374, 3640570775, 1161844396, 3125318951, 1431517754, 545492359, 4268468663, 3499529547, 1437099964, 2702547544, 3433638243, 2581715763, 2787789398, 1060185593, 1593081372, 2418618748, 4260947970, 69676912, 2159744348, 86519011, 2512459080, 3838209314, 1220612927, 3339683548, 133810670, 1090789135, 1078426020, 1569222167, 845107691, 3583754449, 4072456591, 1091646820, 628848692, 1613405280, 3757631651, 526609435, 236106946, 48312990, 2942717905, 3402727701, 1797494240, 859738849, 992217954, 4005476642, 2243076622, 3870952857, 3732016268, 765654824, 3490871365, 2511836413, 1685915746, 3888969200, 1414112111, 2273134842, 3281911079, 4080962846, 172450625, 2569994100, 980381355, 4109958455, 2819808352, 2716589560, 2568741196, 3681446669, 3329971472, 1835478071, 660984891, 3704678404, 4045999559, 3422617507, 3040415634, 1762651403, 1719377915, 3470491036, 2693910283, 3642056355, 3138596744, 1364962596, 2073328063, 1983633131, 926494387, 3423689081, 2150032023, 4096667949, 1749200295, 3328846651, 309677260, 2016342300, 1779581495, 3079819751, 111262694, 1274766160, 443224088, 298511866, 1025883608, 3806446537, 1145181785, 168956806, 3641502830, 3584813610, 1689216846, 3666258015, 3200248200, 1692713982, 2646376535, 4042768518, 1618508792, 1610833997, 3523052358, 4130873264, 2001055236, 3610705100, 2202168115, 4028541809, 2961195399, 1006657119, 2006996926, 3186142756, 1430667929, 3210227297, 1314452623, 4074634658, 4101304120, 2273951170, 1399257539, 3367210612, 3027628629, 1190975929, 2062231137, 2333990788, 2221543033, 2438960610, 1181637006, 548689776, 2362791313, 3372408396, 3104550113, 3145860560, 296247880, 1970579870, 3078560182, 3769228297, 1714227617, 3291629107, 3898220290, 166772364, 1251581989, 493813264, 448347421, 195405023, 2709975567, 677966185, 3703036547, 1463355134, 2715995803, 1338867538, 1343315457, 2802222074, 2684532164, 233230375, 2599980071, 2000651841, 3277868038, 1638401717, 4028070440, 3237316320, 6314154, 819756386, 300326615, 590932579, 1405279636, 3267499572, 3150704214, 2428286686, 3959192993, 3461946742, 1862657033, 1266418056, 963775037, 2089974820, 2263052895, 1917689273, 448879540, 3550394620, 3981727096, 150775221, 3627908307, 1303187396, 508620638, 2975983352, 2726630617, 1817252668, 1876281319, 1457606340, 908771278, 3720792119, 3617206836, 2455994898, 1729034894, 1080033504], a.sBox3 = [976866871, 3556439503, 2881648439, 1522871579, 1555064734, 1336096578, 3548522304, 2579274686, 3574697629, 3205460757, 3593280638, 3338716283, 3079412587, 564236357, 2993598910, 1781952180, 1464380207, 3163844217, 3332601554, 1699332808, 1393555694, 1183702653, 3581086237, 1288719814, 691649499, 2847557200, 2895455976, 3193889540, 2717570544, 1781354906, 1676643554, 2592534050, 3230253752, 1126444790, 2770207658, 2633158820, 2210423226, 2615765581, 2414155088, 3127139286, 673620729, 2805611233, 1269405062, 4015350505, 3341807571, 4149409754, 1057255273, 2012875353, 2162469141, 2276492801, 2601117357, 993977747, 3918593370, 2654263191, 753973209, 36408145, 2530585658, 25011837, 3520020182, 2088578344, 530523599, 2918365339, 1524020338, 1518925132, 3760827505, 3759777254, 1202760957, 3985898139, 3906192525, 674977740, 4174734889, 2031300136, 2019492241, 3983892565, 4153806404, 3822280332, 352677332, 2297720250, 60907813, 90501309, 3286998549, 1016092578, 2535922412, 2839152426, 457141659, 509813237, 4120667899, 652014361, 1966332200, 2975202805, 55981186, 2327461051, 676427537, 3255491064, 2882294119, 3433927263, 1307055953, 942726286, 933058658, 2468411793, 3933900994, 4215176142, 1361170020, 2001714738, 2830558078, 3274259782, 1222529897, 1679025792, 2729314320, 3714953764, 1770335741, 151462246, 3013232138, 1682292957, 1483529935, 471910574, 1539241949, 458788160, 3436315007, 1807016891, 3718408830, 978976581, 1043663428, 3165965781, 1927990952, 4200891579, 2372276910, 3208408903, 3533431907, 1412390302, 2931980059, 4132332400, 1947078029, 3881505623, 4168226417, 2941484381, 1077988104, 1320477388, 886195818, 18198404, 3786409e3, 2509781533, 112762804, 3463356488, 1866414978, 891333506, 18488651, 661792760, 1628790961, 3885187036, 3141171499, 876946877, 2693282273, 1372485963, 791857591, 2686433993, 3759982718, 3167212022, 3472953795, 2716379847, 445679433, 3561995674, 3504004811, 3574258232, 54117162, 3331405415, 2381918588, 3769707343, 4154350007, 1140177722, 4074052095, 668550556, 3214352940, 367459370, 261225585, 2610173221, 4209349473, 3468074219, 3265815641, 314222801, 3066103646, 3808782860, 282218597, 3406013506, 3773591054, 379116347, 1285071038, 846784868, 2669647154, 3771962079, 3550491691, 2305946142, 453669953, 1268987020, 3317592352, 3279303384, 3744833421, 2610507566, 3859509063, 266596637, 3847019092, 517658769, 3462560207, 3443424879, 370717030, 4247526661, 2224018117, 4143653529, 4112773975, 2788324899, 2477274417, 1456262402, 2901442914, 1517677493, 1846949527, 2295493580, 3734397586, 2176403920, 1280348187, 1908823572, 3871786941, 846861322, 1172426758, 3287448474, 3383383037, 1655181056, 3139813346, 901632758, 1897031941, 2986607138, 3066810236, 3447102507, 1393639104, 373351379, 950779232, 625454576, 3124240540, 4148612726, 2007998917, 544563296, 2244738638, 2330496472, 2058025392, 1291430526, 424198748, 50039436, 29584100, 3605783033, 2429876329, 2791104160, 1057563949, 3255363231, 3075367218, 3463963227, 1469046755, 985887462], cc._RF.pop()
    }, {}],
    MonthCheckinPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f0019RWarNEQY9lpIgGZZuN", "MonthCheckinPanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../leocool/lc"), o = e("../../../../noxcc"),
            r = e("../../../../leocool/lcStr"), _ = e("../../../StringEnums"), s = e("../../../data/data"),
            c = e("../../../utils/TimeUtil"), l = e("../../../part/BonusPart"), d = e("../PromptForm"),
            p = e("../../common/Dialog"), u = e("../../panel/RewardPanel"), g = e("../../../../leocool/lcAudio"),
            h = e("../../../AudioEnums"), f = e("../../../ToastManager"), m = e("../../../../leocool/lcAppCfg"),
            y = e("../../../utils/MsgCenter"), T = e("../../../ClientView"), S = e("./DateBonusItem"),
            C = function (e) {
                function t() {
                    return e.call(this, "form/CheckInForm/MonthCheckinPanel") || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._month = c.TimeUtil.getServerDate()[2], this._year = c.TimeUtil.getServerDate()[3]
                }, t.prototype.onInitWidget = function () {
                    this.mconcent = o.noxcc.find("View/content", this.mRoot), this.mtitle = o.noxcc.findLabel("title", this.mRoot), this.mcheckinum = o.noxcc.findLabel("title/checkin_label", this.mRoot), o.noxcc.setLabelString(this.mtitle, string.format(r.lcStr(_.STR.MONTH_REGISTER), this._month));
                    for (var e = Math.ceil(this.getDaysOfMonth(this._month) / 7), t = 1; t <= e; ++t) this.createItem(cc.size(i.lc.w(this.mRoot) - 32, 136), t)
                }, t.prototype.createItem = function (e, t) {
                    var n = this, a = P._playerBonus._bonusMonthCheckin;
                    a.sort(function (e, t) {
                        return parseInt(e._infoId) - parseInt(t._infoId)
                    });
                    for (var i = cc.size(e.width / 7, 136), r = 1; r <= 7; r++) {
                        var _ = 7 * (t - 1) + r;
                        if (_ > n.getDaysOfMonth(n._month)) break;
                        var s = a[_ - 1];
                        if (null != s) {
                            var c = S.DateBonusItem.create(i, _, s);
                            c.registerClaimHandler(function (e) {
                                n.claimBonus(e)
                            }.bind(n)), o.noxcc.addChild(n.mconcent, c.node)
                        }
                    }
                }, t.prototype.claimBonus = function (e, t) {
                    var n = this;
                    e._checkinInfo && (e._checkinInfo._vip > 0 && P._vip >= e._checkinInfo._vip ? e._multiple = 2 : e._multiple = null);
                    var a = s.Data.ErrorType.error;
                    if (!e._isClaimed) if (e._value >= e._info._val) (a = P._playerBonus.claimBonus(e._infoId)) == s.Data.ErrorType.ok && l.BonusPart.sendClaimBonus(e._infoId); else if (P._dayOfMonth >= e._info._val && e._info._val - e._value == 1) if (t) {
                        if ((a = P._playerBonus.supplyMonthCheckinBonus(e._infoId)) == s.Data.ErrorType.ok) l.BonusPart.sendSupplyMonthCheckinBonus(e._infoId); else if (a == s.Data.ErrorType.need_more_ingot) return d.PromptForm.ConfirmBuyIngot.create().show()
                    } else {
                        var i = Math.min(10 + 10 * P._monthlyRecheck, s.Data._globalInfo._maxRecheckIngot);
                        p.Dialog.showDialog(string.format(r.lcStr(_.STR.SURE_TO_SUPPLY), i), function () {
                            n.claimBonus(e, !0)
                        })
                    }
                    a == s.Data.ErrorType.ok ? (n.updateView(), u.RewardPanel.create(e, u.RewardPanel.MODE_CLAIM).show(), g.lcAudio.playAudio(h.AUDIO.E_CLAIM)) : a == s.Data.ErrorType.need_more_ingot ? d.PromptForm.ConfirmBuyIngot.create().show() : a == s.Data.ErrorType.claimed ? f.ToastManager.push(r.lcStr(_.STR.CLAIMED) + m.lcAppCfg.breakCharacter() + r.lcStr(_.STR.BONUS)) : a == s.Data.ErrorType.claim_not_support && f.ToastManager.push(r.lcStr(_.STR.CANNOT_CLAIM) + m.lcAppCfg.breakCharacter() + r.lcStr(_.STR.BONUS))
                }, t.prototype.getDaysOfMonth = function (e) {
                    return 2 == e ? this._year % 400 == 0 || this._year % 4 == 0 && this._year % 100 != 0 ? 29 : 28 : e <= 7 ? e % 2 == 0 ? 30 : 31 : e % 2 == 0 ? 31 : 30
                }, t.prototype.updateView = function () {
                    var e = 0;
                    if (o.noxcc.isValid(this.mcheckinum)) {
                        for (var t = 0; t < P._playerBonus._bonusMonthCheckin.length; t++) P._playerBonus._bonusMonthCheckin[t]._isClaimed && (e += 1);
                        o.noxcc.setString(this.mcheckinum, string.format(r.lcStr(_.STR.MONTH_REGISTER_NUM), e))
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), y.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0), this.updateView()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), y.MsgCenter.removeMsgListener(this)
                }, t.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_CLAIM) {
                        T.ClientView.getActiveIndicator().hide();
                        e.getExtensions_Bonus_pb_SglBonusMsg_claim_bonus_resp();
                        return this.updateView(), !0
                    }
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_RE_CHECK_CLAIM) {
                        T.ClientView.getActiveIndicator().hide();
                        e.getExtensions_Bonus_pb_SglBonusMsg_claim_bonus_resp();
                        return this.updateView(), !0
                    }
                    return !1
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(a.BasePage);
        n.MonthCheckinPanel = C, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../../leocool/lcAudio": "lcAudio",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../AudioEnums": "AudioEnums",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../part/BonusPart": "BonusPart",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../panel/RewardPanel": "RewardPanel",
        "../PromptForm": "PromptForm",
        "./DateBonusItem": "DateBonusItem"
    }],
    MsgCenter: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c18fanmykZM1ILCp47WeV/G", "MsgCenter"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data/data"), i = e("./NetUtil"), o = e("../GuideManager"), r = e("./MsgHandler"),
            _ = e("../scene/SceneManager");
        (function (e) {
            e.OnMsgPriority = {before_scene: 0, scene: 100, after_scene: 200};
            var t = [], n = [], s = [];

            function c(e, t, a) {
                for (var i = {_target: e, _onMsg: t, _priority: a || 0}, o = 0; o < n.length; ++o) {
                    var r = n[o];
                    if (r._target == i._target && r._priority == i._priority) return;
                    if (i._priority < r._priority) return void n.splice(o, 0, i)
                }
                n.push(i)
            }

            function l(e, t, n) {
                for (var a = {_target: e, _onError: t, _priority: n || 0}, i = 0; i < s.length; ++i) {
                    var o = s[i];
                    if (o._target == a._target) return;
                    if (a._priority < o._priority) return void s.splice(i, 0, a)
                }
                s.push(a)
            }

            function d(e) {
                return u(e)
            }

            function p(e) {
                return g(e)
            }

            function u(e) {
                for (var t = 0; t < n.length; ++t) {
                    if (n[t]._onMsg(e)) return !0
                }
                return !1
            }

            function g(e) {
                for (var t = 0; t < s.length; ++t) {
                    if (s[t]._onError(e)) return !0
                }
                return !1
            }

            e.init = function () {
                n = [], s = [], (t = []).push(a.Data.Event.application.addListener(null, function (e) {
                    r.MsgHandler.onApplicationEvent(e)
                })), t.push(i.NetUtil.Event.connect_fail.addListener(null, function () {
                    r.MsgHandler.onConnectFailEvent()
                })), t.push(i.NetUtil.Event.disconnect.addListener(null, function () {
                    r.MsgHandler.onDisconnectEvent()
                })), t.push(i.NetUtil.Event.msg.addListener(null, function (e) {
                    d(e)
                })), t.push(i.NetUtil.Event.error.addListener(null, function (e) {
                    p(e)
                })), t.push(o.GuideManager.Event.seek.addListener(null, function () {
                    _.SceneManager.getRunningScene().onGuide()
                })), t.push(a.Data.Event.friend.addListener(null, function () {
                    _.SceneManager.getRunningScene().onFriend()
                })), t.push(a.Data.Event.mail.addListener(null, function () {
                    _.SceneManager.getRunningScene().onMail()
                })), c(e, function (e) {
                    return r.MsgHandler.onMsgBeforeScene(e)
                }, e.OnMsgPriority.before_scene), c(e, function (e) {
                    var t = _.SceneManager.getRunningScene();
                    return !(!t || !t.onMsg(e)) || r.MsgHandler.onMsg(e)
                }, e.OnMsgPriority.scene), c(e, function (e) {
                    return r.MsgHandler.onMsgAfterScene(e)
                }, e.OnMsgPriority.after_scene), l(e, function (e) {
                    var t = _.SceneManager.getRunningScene();
                    return !(!t || !t.onError(e)) || r.MsgHandler.onError(e)
                }, 0)
            }, e.shut = function () {
                for (var e = 0; e < t.length; ++e) t[e].remove();
                t = []
            }, e.addMsgListener = c, e.removeMsgListener = function (e) {
                for (var t = 0; t < n.length; ++t) if (n[t]._target == e) return void n.splice(t, 1)
            }, e.addErrorListener = l, e.removeErrorListener = function (e) {
                for (var t = 0; t < s.length; ++t) if (s[t]._target == e) return void s.splice(t, 1)
            }, e.onSocketMsg = d, e.onSocketError = p, e.onMsg = u, e.onError = g
        })(n.MsgCenter || (n.MsgCenter = {})), cc._RF.pop()
    }, {
        "../GuideManager": "GuideManager",
        "../data/data": "data",
        "../scene/SceneManager": "SceneManager",
        "./MsgHandler": "MsgHandler",
        "./NetUtil": "NetUtil"
    }],
    MsgHandler: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d056fdy1lBJqYSiQX3kyL7x", "MsgHandler"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NetUtil"), i = e("../part/UserPart"), o = e("../const/SceneId"), r = e("../ClientView"),
            _ = e("../ClientData"), s = e("../../leocool/lcStr"), c = e("../StringEnums"), l = e("../ToastManager"),
            d = e("../part/BuyPart"), p = e("../part/BattlePart"), u = e("../../leocool/lc"), g = e("../../nox"),
            h = e("./LoginData"), f = e("../data/data"), m = e("../sdk/SdkManager"), y = e("../../leocool/lcAppCfg"),
            T = e("./BattleInputUtil"), S = e("../part/MiscPart"), C = e("../data/Log/PlayerLog"),
            v = e("../data/Log/Log"), b = e("../battle/scene/BattleScene"), E = e("../scene/SceneManager"),
            I = e("../const/SDK_TYPE"), A = e("./TimeUtil"), R = e("../part/DuelCityPart"),
            B = e("../ui/common/Dialog"), N = e("./RechargeUtil"), D = e("../ui/panel/RewardPanel"),
            U = e("../config/GameCfg"), M = e("../scene/ResSwitchScene"), k = e("../ui/panel/LevelUpPanel"),
            L = e("../GuideManager"), O = e("../ui/common/ActiveIndicator"), x = e("../scene/LoadingScene"),
            w = e("../scene/FindScene"), F = e("../scene/InRoomScene"), V = e("../scene/ExpeditionScene"),
            H = e("./SpineUtil"), G = e("./CardUtil"), W = e("../part/WorldPart"), Y = e("../config/UICfg"),
            K = e("../ui/panel/CapturePanel"), z = e("../AudioEnums"), j = e("../../leocool/lcAudio"),
            q = e("../ui/node/NodeWithShaderButton"), X = e("../scene/HallScene");
        (function (e) {
            function t(e, t) {
                var n = null, i = e.type, d = !1, p = r.ClientView.getActiveIndicator().hide();
                switch (t) {
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNOIN_TAG_TOO_LONG:
                        n = s.lcStr(70067);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_AUTHENTICATION_FAIL:
                        n = s.lcStr(c.STR.AUTHENTICATION_FAIL), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_ARG:
                        n = s.lcStr(c.STR.INVALID_ARG), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_LOGIN_FAIL:
                        n = s.lcStr(c.STR.LOGIN_FAIL), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_BAN_LOGIN:
                        if ((b = e.getExtensions_User_pb_SglUserMsg_user_ban_login_resp()).desc) n = b.desc; else {
                            var u = b.end_time / 1e3;
                            if (0 == u) n = s.lcStr(c.STR.BAN_LOGIN_FOREVER); else {
                                var h = new Date;
                                if (P._timeOffset) {
                                    var m = 60 * -h.getTimezoneOffset();
                                    h.setTime(1e3 * u + 1e3 * P._timeOffset - 1e3 * m)
                                }
                                h.setTime(1e3 * u), n = string.format(s.lcStr(c.STR.BAN_LOGIN), string.format(s.lcStr(c.STR.DATE_FORMAT), h.getFullYear(), h.getMonth() + 1, h.getDate(), h.getHours(), h.getMinutes()))
                            }
                            switch (y.lcAppCfg.getSdkType()) {
                                case I.SDK_TYPE.SSTF:
                                    n = n.replace("507949891", y.lcAppCfg.aboutInfo[7724].qq_group);
                                    break;
                                case I.SDK_TYPE.g7K7K:
                                    n = n.replace("507949891", y.lcAppCfg.aboutInfo["7k7k"].qq_group);
                                    break;
                                default:
                                    n = n.replace("507949891", y.lcAppCfg.aboutInfo.nox.qq_group)
                            }
                        }
                        d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_SERVER_ERROR:
                        n = s.lcStr(c.STR.SERVER_ERROR), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_DATA_ERROR:
                        n = s.lcStr(c.STR.DATA_ERROR), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_OUT_OF_SYNC:
                        n = s.lcStr(c.STR.OUT_OF_SYNC), E.SceneManager.getRunningSceneId() == o.SceneId.battle && (a.NetUtil._needSendBattleDebugLog = !0), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_LOGIN_ELSEWHERE:
                        n = s.lcStr(c.STR.LOGIN_ELSEWHERE), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_ALREADY_SHARED:
                        var T = e.getExtensions_Battle_pb_SglBattleMsg_battle_share_resp();
                        for (var S in T) {
                            var C = T[S];
                            P._playerLog.sendLogShared(C.log.id)
                        }
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_OFFLINE:
                        n = s.lcStr(c.STR.OPPOSITE_OFFLINE);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_OPPONENT_NOT_FOUND:
                        var v = e.getExtensions_World_pb_SglWorldMsg_world_opponent_not_found_resp();
                        E.SceneManager.getRunningScene().onOpponentNotFound && E.SceneManager.getRunningScene().onOpponentNotFound(v);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_SERVER_MAINTENANCE:
                        n = g.nox.D(e.getExtensions_News_pb_SglNewsMsg_news_maintenance_resp(), s.lcStr(c.STR.SERVER_MAINTENANCE)), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_UNDER_ATTACK:
                        var b = e.getExtensions_User_pb_SglUserMsg_user_under_attack_resp();
                        if (i == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN || i == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REGISTER) {
                            var N = string.format(s.lcStr(c.STR.UNDER_ATTACKING), b.name);
                            r.ClientView.getActiveIndicator().show(N)
                        } else n = s.lcStr(c.STR.OPPONENT) + string.format(s.lcStr(c.STR.UNDER_ATTACKING), b.name);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_WAIT:
                        a.NetUtil.isLogin() ? E.SceneManager.getRunningScene().onBattleWait() : (n = s.lcStr(c.STR.WAIT_BATTLE_RESULT_RETRY), d = !0);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_TIMEOUT:
                        n = s.lcStr(c.STR.BATTLE_ACTION_TIMEOUT), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_ONLINE:
                        n = s.lcStr(c.STR.OPPOSITE_ONLINE);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_SHILED:
                        n = s.lcStr(c.STR.OPPOSITE_SHIELD);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ILLEGAL_NAME:
                        var D = e.getExtensions_User_pb_SglUserMsg_user_illegal_input_resp();
                        n = string.format(s.lcStr(c.STR.CONTAIN_ILLEGAL_NAME), D), f.Data.Event.invalid_input.dispatchEvent();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_NAME_EXISTS:
                        n = s.lcStr(c.STR.NICKNAME_EXISTED), f.Data.Event.invalid_input.dispatchEvent();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_VERSION:
                        n = s.lcStr(c.STR.NEW_VERSION_AVAILABLE), d = !0;
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_OPPONENT_NOT_FOUND:
                        n = s.lcStr(c.STR.OPPOSITE_NOT_FOUND);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_JOIN_NOT_ALLOWED:
                        n = s.lcStr(c.STR.BATTLE_JOIN_NOT_ALLOWED), i != SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN && i != SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REGISTER || (d = !0);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_CITY_FOCUSED:
                        var U = e.getExtensions_World_pb_SglWorldMsg_world_focus_resp(), M = U.info.name, k = U.status;
                        n = k == SglMsg_pb.FocusStatus.PB_FOCUS_RESCUE ? string.format(s.lcStr(c.STR.UNION_HELPING_BY), M) : k == SglMsg_pb.FocusStatus.PB_FOCUS_ATTACK || k == SglMsg_pb.FocusStatus.PB_FOCUS_CHALLENGE ? string.format(s.lcStr(c.STR.UNION_ATTACKING_BY), M) : s.lcStr(c.STR.CITY_IS_FOCUSED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_RESCUE:
                        n = s.lcStr(c.STR.INVALID_RESCUE);
                        var L = p;
                        L._sosStatus = SglMsg_pb.SosStatus.PB_SOS_INVALID, L.sendMailDirty();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ALREADY_IN_UNION:
                        n = s.lcStr(c.STR.UNION_ALREADY_IN);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_NOT_IN_UNION:
                        n = s.lcStr(c.STR.UNION_NOT_IN);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_PRIVILEGE_ERROR:
                        n = s.lcStr(c.STR.UNION_PRIVILEGE_ERROR);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_GIFT_CLAIMED:
                        n = s.lcStr(c.STR.EXCHANGE_CODE_CLAIMED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_GIFT_DUPLICATE:
                        n = s.lcStr(c.STR.EXCHANGE_CODE_DUPLICATE);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_GIFT_EXPIRED:
                        n = s.lcStr(c.STR.EXCHANGE_CODE_EXPIRED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_GIFT_INVALID:
                        n = s.lcStr(c.STR.EXCHANGE_CODE_INVALID);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ILLEGAL_INVITE_CODE:
                        n = s.lcStr(c.STR.INVITE_CODE_INVALID);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_CLOSED:
                        n = s.lcStr(c.STR.INVALID_UNION);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_EXCEEDED:
                        n = s.lcStr(c.STR.UNION_EXCEEDED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_APPLY_NOT_ALLOWED:
                        n = s.lcStr(c.STR.UNION_CANT_APPLY);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_CO_LEADER_EXCEEDED:
                        n = string.format(s.lcStr(c.STR.UNION_ELDER_MAX), 2);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_TAG_EXISTS:
                        n = s.lcStr(c.STR.UNION_FLAG_EXISTS);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_NAME_EXISTS:
                        n = s.lcStr(c.STR.UNION_NAME_EXISTS);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_BOSS_LOCKED:
                        n = s.lcStr(c.STR.UNION_BOSS_LOCKED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_BOSS_UNLOCKED:
                        n = s.lcStr(c.STR.UNION_BOSS_UNLOCKED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_BOSS_FOCUSED:
                        n = s.lcStr(c.STR.UNION_BOSS_FOCUSED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_FUND_OWNED:
                        n = s.lcStr(c.STR.FUND_OWNED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_LET_NOT_FOUND:
                        n = s.lcStr(c.STR.HIRE_NOT_FOUND);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_UNION_JOIN_CD:
                        var O = e.getExtensions_Union_pb_SglUnionMsg_union_join_cd_resp() / 1e3;
                        n = string.format(s.lcStr(c.STR.UNION_JOIN_CD), A.TimeUtil.formatPeriod(O));
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_WAR_NOT_STARTED:
                        n = s.lcStr(c.STR.UNION_WAR_NOT_STARTED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_WAR_ENDED:
                        n = s.lcStr(c.STR.UNION_WAR_ENDED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_CAMP_DEFEATED:
                        n = s.lcStr(c.STR.UNION_OPPONENT) + s.lcStr(c.STR.UNION_CAMP) + s.lcStr(c.STR.UNION_DEFEATED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_NOT_ENDED:
                        n = s.lcStr(c.STR.UNION_WAR_BATTLE_NOT_ENDED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ERROR_CONNECT_BATTLE_SERVER:
                        n = s.lcStr(c.STR.FIND_MATCH_NO_OPPONENT), _.ClientData._findMatchPanel && _.ClientData._findMatchPanel.hide();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_BATTLE_NOT_ALLOWED:
                        l.ToastManager.push(s.lcStr(c.STR.BATTLE_NOT_ALLOWED)), _.ClientData._findMatchPanel && _.ClientData._findMatchPanel.hide();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MATCH_JOIN_NOT_ALLOWED:
                        P._playerRoom.sendExitRoomDirty(), P._playerRoom.clear(), n = s.lcStr(c.STR.MATCH_JOIN_NOT_ALLOWED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MATCH_START_NOT_ALLOWED:
                        n = s.lcStr(c.STR.MATCH_START_NOT_ALLOWED), r.ClientView.getActiveIndicator().hide();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ERROR_CREATE_MATCH:
                        n = s.lcStr(c.STR.ERROR_CREATE_MATCH);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_JOIN_NOT_ALLOWED:
                        n = s.lcStr(c.STR.GROUP_JOIN_NOT_ALLOWED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_KICKOUT_NOT_ALLOWED:
                        n = s.lcStr(c.STR.GROUP_KICKOUT_NOT_ALLOWED);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_TEAM_TROOP_LOCKED:
                        E.SceneManager.getRunningSceneId() == o.SceneId.manage_troop && E.SceneManager.getRunningScene().hide(), n = s.lcStr(c.STR.MANAGING_CARDS);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_ALREADY_IN_TEAM:
                        n = s.lcStr(c.STR.ALREADY_IN_TEAM);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_NOT_IN_TEAM:
                        n = s.lcStr(c.STR.NOT_IN_TEAM);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_TEAM_NOT_FULL:
                        n = s.lcStr(c.STR.CANNOT_START_UNION_BATTLE);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_TROOP_NOT_FULL:
                        n = s.lcStr(c.STR.TROOP_NOT_FULL);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_MASSWAR_CANNOT_LEAVE_TEAM:
                        n = s.lcStr(c.STR.CANNOT_LEAVE_TEAM);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_TUTORIAL:
                        n = s.lcStr(c.STR.INVALID_REPLAY), f.Data.Event.invalid_tutorial.dispatchEvent();
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_PLAYER_CAN_NOT_RESEVICE_GIFT:
                        n = s.lcStr(9194);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_UNION_MEMBER_IN_TEAM:
                        n = s.lcStr(80102);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_ROOM_RECONNECT:
                        return R.DuelCityPart.sendDuelCityQuit(), !0;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_REPORT_UPPER_LIMIT:
                        n = s.lcStr(41559);
                        break;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_USER_BAN_BATTLE:
                        var x = e.getExtensions_User_pb_SglUserMsg_user_ban_battle_resp(),
                            w = A.TimeUtil.formatTimestamp(x.endTime);
                        return B.Dialog.showDialog(s.lcStr(41847) + w, function () {
                            _.ClientData._findMatchPanel && _.ClientData._findMatchPanel.hide()
                        }, !0), !0;
                    case SglMsg_pb.ProtoMsgStatus.PB_STATUS_HAS_LEND_CARD_IN_UNION:
                        n = s.lcStr(42122)
                }
                return null != n && (d ? null == _.ClientData._reloadDialog && _.ClientData.showReloadDialog(n, t) : l.ToastManager.push(n), !0)
            }

            function n() {
                g.nox.log("[NETWORK] ClientData.onConnectedAndAuthorized"), h.LoginData.loadUserRegion(), h.LoginData.hasUserRegion() ? _.ClientData.loginGameServer() : _.ClientData.loginRegionServer()
            }

            function Z() {
                for (var e = !1; E.SceneManager.getRunningSceneId() != o.SceneId.loading;) {
                    if (r.ClientView.getActiveIndicator().hide(), L.GuideManager.isGuideEnabled()) {
                        E.SceneManager.popScene(!0), E.SceneManager.replaceScene(x.LoadingScene.create()), e = !0;
                        break
                    }
                    if (E.SceneManager.getRunningSceneId() != o.SceneId.loading && E.SceneManager.getRunningSceneId() != o.SceneId.res_switch && E.SceneManager.getRunningSceneId() != o.SceneId.battle) {
                        E.SceneManager.getRunningScene().clearPanels();
                        for (var t = E.SceneManager.getSceneList(), n = 0; n < t.length; ++n) t[n] != E.SceneManager.getRunningScene() && (t[n]._needSyncData = !0);
                        E.SceneManager.getRunningScene().syncData()
                    }
                    break
                }
                e || E.SceneManager.getRunningScene().onLogin()
            }

            function J(e) {
                E.SceneManager.getRunningSceneId() == o.SceneId.battle ? E.SceneManager.getRunningScene().onBattleRecover(e) : E.SceneManager.getRunningScene().getRootNode().runAction(cc.sequence(cc.delayTime(.5), cc.callFunc(function () {
                    E.SceneManager.popScene(!0), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, e))
                })))
            }

            function Q(e) {
                E.SceneManager.getRunningSceneId() == o.SceneId.battle ? E.SceneManager.getRunningScene().onBattleRecover(e) : E.SceneManager.getRunningScene().getRootNode().runAction(cc.sequence(cc.delayTime(.5), cc.callFunc(function () {
                    E.SceneManager.popScene(!0), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, e))
                })))
            }

            function $(e) {
                E.SceneManager.getRunningSceneId() == o.SceneId.battle ? E.SceneManager.getRunningScene().onBattleRecover(e) : (r.ClientView.getActiveIndicator().hide(), E.SceneManager.popScene(!0), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, e)))
            }

            function ee(e) {
                r.ClientView.getActiveIndicator().hide(), E.SceneManager.popScene(!0), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, e))
            }

            function te(e) {
                var t = E.SceneManager.getRunningScene();
                t instanceof b.BattleScene ? t.onMonsterExplored(e) : t instanceof V.ExpeditionScene ? t.onMonsterExplored(e) : ne(t, e)
            }

            function ne(e, t) {
                var n = [];
                if (null != t._extraGoldDrop && (P.changeResource(f.Data.ResType.gold, t._extraGoldDrop), n.push(string.format(s.lcStr(c.STR.GET_GOLD), t._extraGoldDrop))), null != t._claimResources) for (var a = 0; a < t._claimResources.length; a++) {
                    var i = t._claimResources[a];
                    P.addResource(t._claimResources[a]._infoId, 1, t._claimResources[a]._num), f.Data.getType(t._claimResources[a]._infoId) != f.Data.CardType.fragment ? n.push(s.lcStr(c.STR.GET) + " " + s.lcStr(f.Data.getInfo(i._infoId)._nameSid) + " x" + i._num) : n.push(s.lcStr(c.STR.GET) + " " + s.lcStr(f.Data.getInfo(P._playerCard.convert2CardId(i._infoId))._nameSid) + s.lcStr(c.STR.FRAGMENT) + " x" + i._num)
                }
                if (n.length > 0) for (var r = "", _ = 0; _ < n.length; _++) r += n[_], _ != n.length - 1 && (r += "\n"), l.ToastManager.push(r);
                e instanceof b.BattleScene && (e._monsterExplored = !0);
                var d = u.lc.createNode(cc.size(1336, 768));
                u.lc.addChildToCenter(e.getSceneNode(), d, 1e3);
                var p = H.SpineUtil.createSpineAnim("spine/luodan", "default", f.Data.CardQuality.RR <= f.Data._monsterInfo[t._monsterId]._quality ? "animation2" : "animation", !1);
                u.lc.addChildToCenter(d, p);
                var g = G.CardUtil.CardTransfiguration.create(t._monsterId, null, null, f.Data._monsterInfo[t._monsterId]._hp, 0);
                if (g._node.runAction(u.lc.sequence(u.lc.scaleTo(.2, 1.05), u.lc.scaleTo(.2, 1)).repeat(2)), u.lc.addChildToPosAR(d, g._node, cc.v2(0, 60)), j.lcAudio.playAudio(z.AUDIO.E_EXPLORE_FOUND), d.runAction(u.lc.sequence(2.5, function () {
                    var e = H.SpineUtil.createSpineAnim("spine/guochang", "default", "animation", !1);
                    u.lc.addChildToCenter(d, e, 1)
                }, 1, function () {
                    d.removeFromParent(), d.destroy(), K.CapturePanel.create(t._levelId).show()
                })), !L.GuideManager.isGuideEnabled()) {
                    var h = q.NodeWithShaderButton.createScale9ShaderButton("img_btn_blue", function () {
                        (d.stopAllActions(), d.removeFromParent(), d.destroy(), W.WorldPart.sendWorldCatchCancel(t._levelId), P._playerWorld.removeExploreInfo(t._levelId, !1), E.SceneManager.getRunningSceneId() == o.SceneId.battle) && E.SceneManager.getRunningScene()._battleUi.showResult()
                    }, Y.UICfg.CRECT_BUTTON_S, 120, Y.UICfg.CRECT_BUTTON_S.height);
                    h.addLabel(s.lcStr(c.STR.GIVEUP)), u.lc.addChildToPosAR(d, h, cc.v2(u.lc.cw(d) - u.lc.cw(h) - 20 - Y.UICfg.SCR_EDGE, u.lc.bottom(d) + u.lc.ch(h) + 20))
                }
            }

            e.onApplicationEvent = function (e) {
                if ("ENTER_BACKGROUND" == e) return E.SceneManager.getRunningScene(), !0;
                if ("ENTER_FOREGROUND" == e) return E.SceneManager.getRunningScene(), !0;
                if ("IDLE" == e) return !0;
                if ("REACHABILITY_CHANGED" == e) return a.NetUtil.writeSocketLog(a.NetUtil.SocketLog.reachability_changed), !0;
                if (string.hasPrefix(e, "GAMECENTERID_CHANGED")) {
                    var t = e.substr("GAMECENTERID_CHANGED".length);
                    return a.NetUtil.isLogin() ? i.UserPart.sendQueryGcid(t) : a.NetUtil._socketStatus == a.NetUtil.SocketStatus.connected && E.SceneManager.getRunningSceneId() == o.SceneId.region && a.NetUtil.sendRegionListReq(), !0
                }
                if ("USER_LOGOUT" == e) return cc.log("#### " + e), E.SceneManager.getRunningScene().getSceneNode().runAction(cc.callFunc(function () {
                    O.ActiveIndicator.hide(), _.ClientData.switchToUpdateScene()
                })), !0;
                if ("PAY_FAILED" == e) return cc.log("#### " + e), e = s.lcStr(c.STR.BUYFAIL), l.ToastManager.push(e), d.BuyPart.sendIAPFinishReq(), !0;
                if ("PAY_SESSION_EXPIRE" == e) return cc.log("#### " + e), e = s.lcStr(c.STR.BUY_SESSION_EXPIRE), l.ToastManager.push(e), d.BuyPart.sendIAPFinishReq(), !0;
                if ("PAY_SUCCESS" == e) return r.ClientView.iapPaySuccess(), !0;
                if ("PAY_CANCEL" == e) return cc.log("#### " + e), d.BuyPart.sendIAPFinishReq(), !0;
                if (string.hasPrefix(e, "FACEBOOK_LOGGEDIN")) {
                    cc.log("#### " + e), cc.assert(string.hasPrefix(e, "FACEBOOK_LOGGEDIN."), "Invalid FACEBOOK_LOGGEDIN prefix " + e);
                    var n = e.substr("FACEBOOK_LOGGEDIN.".length);
                    return cc.log("#### facebook id:" + n), "" == n ? (l.ToastManager.push(s.lcStr(c.STR.BIND_GCID_FAILED_ID_EMPTY)), !0) : (i.UserPart.sendQueryGcid(n), !0)
                }
                return "FACEBOOK_LIKED" == e ? (cc.log("#### " + e), l.ToastManager.push(s.lcStr(c.STR.FACEBOOK_TASK_FINISHED)), S.MiscPart.sendUserFacebook(2402), P._playerBonus.onFacebookTaskDirty(2402)) : "FACEBOOK_INVITED" == e && (cc.log("#### " + e), l.ToastManager.push(s.lcStr(c.STR.FACEBOOK_TASK_FINISHED)), S.MiscPart.sendUserFacebook(2403), P._playerBonus.onFacebookTaskDirty(2403)), !1
            }, e.onConnectFailEvent = function () {
                _.ClientData.showReloadDialog(s.lcStr(c.STR.DISCONNECT)), a.NetUtil.writeSocketLog(a.NetUtil.SocketLog.disconnect)
            }, e.onDisconnectEvent = function () {
                _.ClientData.showReloadDialog(s.lcStr(c.STR.HEARTBEAT_LOST))
            }, e.onMsgBeforeScene = function (e) {
                var d = e.status;
                if (d != SglMsg_pb.ProtoMsgStatus.PB_STATUS_OK) return E.SceneManager.getRunningScene().onMsgErrorStatus(e, d) || t(e, d), !0;
                var I = e.type;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_AUTHENTICATION) return n(), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN || I == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REGISTER) {
                    var A = e.getExtensions_User_pb_SglUserMsg_user_in_resp();
                    _.ClientData.loadPlayerData(P, A);
                    var R = A.is_in_battle, B = A.is_in_match;
                    return u.lc.log("login success! %s", R ? "now in battle!" : ""), i.UserPart.sendUserEvent({
                        type: "login",
                        isInBattle: g.nox.toString(R),
                        sceneId: E.SceneManager.getRunningSceneId() || 0,
                        regIds: h.LoginData._regIds
                    }), 1 == R || B || Z(), a.NetUtil.checkSocketLog(), _.ClientData.syncServerPush(), f.Data.Event.login.dispatchEvent(), "" !== P._name && m.SdkManager.setRoleData(), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_QUERY_GCID) {
                    var N = y.lcAppCfg.getChannelName(), D = e.getExtensions_User_pb_SglUserMsg_user_query_gcid_resp();
                    return "APPSTORE" == N ? D && E.SceneManager.getRunningScene().onGameCenterIdChanged() : "FACEBOOK" == N && (P._canBind = !D, l.ToastManager.push(s.lcStr(D ? c.STR.BIND_GCID_SUCCEED : c.STR.BIND_GCID_FAILED)), f.Data.Event.bind_gcid_dirty.dispatchEvent(), D && (S.MiscPart.sendUserFacebook(2401), P._playerBonus.onFacebookTaskDirty(2401))), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_NOTIFY_EVENT) {
                    if (1 == (A = e.getExtensions_User_pb_SglUserMsg_user_notify_event_resp()).type) {
                        for (var U = 0; U < P._playerBonus._bonusInvite.length; ++U) {
                            var k = P._playerBonus._bonusInvite[U];
                            parseInt(k._infoId) <= 607 && parseInt(k._infoId) >= 601 && (k._value = k._value + 1)
                        }
                        k.sendBonusDirty()
                    } else if (2 == A.type) P._inviteIngot = P._inviteIngot + A.param, f.Data.Event.invite_ingot_dirty.dispatchEvent(); else if (3 == A.type) P._inviteCount = P._inviteCount + 1, f.Data.Event.invite_count_dirty.dispatchEvent(); else if (4 == A.type) {
                        for (U = 0; U < P._playerBonus._bonusInvite.length; ++U) k = P._playerBonus._bonusInvite[U], parseInt(k._infoId) <= 613 && parseInt(k._infoId) >= 608 && (k._value = k._value + 1);
                        k.sendBonusDirty()
                    }
                    return !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_HEART_BEAT) return !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE) {
                    var A = e.getExtensions_Friend_pb_SglFriendMsg_friend_battle_resp();
                    return ee(W = T.BattleInputUtil.genInputFromFriendBattleResp(A)), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPLORE_WIN) {
                    var O = e.getExtensions_World_pb_SglWorldMsg_world_explore_win_resp(), x = f.Data.pb2ExploreInfo(O);
                    if (P._playerWorld._dailyExploreTimes = Math.max(0, P._playerWorld._dailyExploreTimes - 1), e.hasExtensions_World_pb_SglWorldMsg_player_world_cur_levels_resp()) for (var w = e.getExtensions_World_pb_SglWorldMsg_player_world_cur_levels_resp(), F = 0; F < w.length; F++) P._playerWorld._curLevel[F] = w[F];
                    P._playerWorld.removeExploreInfo(x._levelId, !0), P._playerWorld.addExploreInfo(x), e.hasExtensions_World_pb_SglWorldMsg_extra_gold_drop_resp() && (x._extraGoldDrop = e.getExtensions_World_pb_SglWorldMsg_extra_gold_drop_resp());
                    var V = e.getExtensions_World_pb_SglWorldMsg_world_explore_claim_resp();
                    if (null != V && V.length > 0) {
                        x._claimResources = [];
                        for (var H = 0; H < V.length; H++) x._claimResources.push(f.Data.pb2Resource(V[H]))
                    }
                    return te(x), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CATCH) {
                    (A = e.getExtensions_World_pb_SglWorldMsg_world_explore_monster_resp()) > 0 && (P._playerCard.addCard(A, 1), L.GuideManager.isGuideEnabled() && (P._playerCard._troops[0].push({
                        _infoId: A,
                        _num: 1
                    }), P._playerCard._unlocked[A] = null));
                    var G = e.getExtensions_World_pb_SglWorldMsg_world_catch_level_resp();
                    return (x = P._playerWorld.getExploreInfo(G)) && (x._curCatchTimes = Math.min(x._maxCatchTimes, x._curCatchTimes + 1)), (A > 0 || x._maxCatchTimes <= x._curCatchTimes) && P._playerWorld.removeExploreInfo(G, !1), !1
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_ATTACK) return A = e.getExtensions_World_pb_SglWorldMsg_world_attack_resp(), J(W = T.BattleInputUtil.genInputFromAttackResp(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORD_DRILL) return A = e.getExtensions_World_pb_SglWorldMsg_world_attack_resp(), J(W = T.BattleInputUtil.genRecommendTrainInput(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_KILL_BOSS) return A = e.getExtensions_World_pb_SglWorldMsg_world_attack_resp(), J(W = T.BattleInputUtil.genInputFromKillBossResp(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CHALLENGE) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_challenge_resp();
                    var W = T.BattleInputUtil.genInputFromChallengeResp(A);
                    return E.SceneManager.getRunningScene().onChallenge(W), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_RESCUE) return A = e.getExtensions_World_pb_SglWorldMsg_world_rescue_resp(), J(W = T.BattleInputUtil.genInputFromAttackResp(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPEDITION) {
                    var Y;
                    return A = e.getExtensions_World_pb_SglWorldMsg_world_expedition_resp(), Y = e.hasExtensions_World_pb_SglWorldMsg_world_refresh_expedition_resp() ? T.BattleInputUtil.genInputFromExpeditionResp(A, e.getExtensions_World_pb_SglWorldMsg_world_refresh_expedition_resp()) : T.BattleInputUtil.genInputFromExpeditionResp(A), E.SceneManager.getRunningScene().onExpedition(Y), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPEDITION_EX || I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPEDITION_EX_BOSS) return A = e.getExtensions_World_pb_SglWorldMsg_world_expedition_ex_resp(), Q(e.hasExtensions_World_pb_SglWorldMsg_world_get_expedition_ex_resp() ? T.BattleInputUtil.genInputFromExpeditionExResp(A, e.getExtensions_World_pb_SglWorldMsg_world_get_expedition_ex_resp()) : T.BattleInputUtil.genInputFromExpeditionExResp(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CHALLENGE_ELITE) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_challenge_elite_resp();
                    var K = T.BattleInputUtil.genInputFromEliteResp(A);
                    return E.SceneManager.getRunningScene().onElite(K), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_ROB_EXP) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_rob_exp_resp();
                    var z = T.BattleInputUtil.genInputFromRobExpResp(A);
                    return E.SceneManager.getRunningScene().onRobExp(z), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CHALLENGE_COMMANDER) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_challenge_commander_resp();
                    var j = T.BattleInputUtil.genInputFromCommanderResp(A);
                    return E.SceneManager.getRunningScene().onHorse(j), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_ROB_GOLD) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_rob_gold_resp();
                    var q = T.BattleInputUtil.genInputFromBossResp(A);
                    return E.SceneManager.getRunningScene().onBoss(q), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_ATTACK) {
                    A = e.getExtensions_Union_pb_SglUnionMsg_union_boss_attack_resp();
                    var X = T.BattleInputUtil.genInputFromBossResp(A);
                    return E.SceneManager.getRunningScene().onBoss(X), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY || I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY_EX || I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY_TUTORIAL || I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_REPLAY_SHARE) return A = e.getExtensions_Battle_pb_SglBattleMsg_battle_replay_resp(), $(T.BattleInputUtil.genInputFromReplayResp(A)), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_START) {
                    A = e.getExtensions_World_pb_SglWorldMsg_world_find_start_resp();
                    var ne = T.BattleInputUtil.genInputFromFindStartResp(A);
                    return E.SceneManager.getRunningScene().onFindStart(ne), !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_RECOVER) return A = e.getExtensions_Battle_pb_SglBattleMsg_battle_recover_resp(), h.LoginData.initConfig(A.player_troop.info.id), W = T.BattleInputUtil.genInputFromRecoverResp(A, e), g.nox.log("battle recover"), _.ClientData._findMatchPanel ? _.ClientData._findMatchPanel.onFind(W) : E.SceneManager.getRunningScene() instanceof b.BattleScene ? (r.ClientView.getActiveIndicator().hide(), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, W))) : (r.ClientView.getActiveIndicator().hide(), E.SceneManager.popScene(!0), E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.battle, W))), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_END) return A = e.getExtensions_Battle_pb_SglBattleMsg_battle_end_resp(), E.SceneManager.getRunningScene().onBattleEnd(A), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BATTLE_START) return (A = e.getExtensions_World_pb_SglWorldMsg_world_battle_start_resp()).is_revenge || A.is_rescue || P._underAttack.addBattle(A), !0;
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BATTLE_END) {
                    if (e.hasExtensions_World_pb_SglWorldMsg_world_battle_end_resp()) {
                        A = e.getExtensions_World_pb_SglWorldMsg_world_battle_end_resp();
                        var ae = new v.Log(!1, A);
                        P._playerLog.addLog(ae, Battle_pb.BattleType.PB_BATTLE_PLAYER), P._playerLog.sendLogDirty(C.PlayerLog.Event.defense_log_dirty), P.changeTrophy(ae._resultType == f.Data.BattleResult.win ? ae._trophy : -ae._trophy), ae._resultType == f.Data.BattleResult.lose && (ie = P._playerWorld._cities[ae._city]) && ie.cityOccupied(ae._timestamp, ae._opponent._id), P._underAttack.removeBattle(ae._opponent._id)
                    }
                    return !0
                }
                if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_RESCUE_END) {
                    var ie, oe = e.getExtensions_World_pb_SglWorldMsg_world_rescue_end_resp();
                    (ie = P._playerWorld._cities[oe]) && (ie.captureSuccess(), E.SceneManager.getRunningSceneId(), o.SceneId.world)
                } else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_USECARD) for (A = e.getExtensions_Battle_pb_SglBattleMsg_battle_op_usecard_resp(), U = 0; U < A.length; ++U) T.BattleInputUtil._usedCardsToAdd.push(A[U].id); else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_USECARD) for (A = e.getExtensions_Battle_pb_SglBattleMsg_battle_op_usecard_resp(), U = 0; U < A.length; ++U) T.BattleInputUtil._observeUsedCards.push(A[U]); else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_ONLINE) p.BattlePart.sendBattleSync(), T.BattleInputUtil._isOppoOnline = !0; else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_OP_OFFLINE) T.BattleInputUtil._isOppoOnline = !1; else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_LOTTERY) {
                    var re = e.getExtensions_World_pb_SglWorldMsg_world_lottery_resp().length;
                    _.ClientData._lotteryPower = _.ClientData._lotteryPower + re
                } else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_TURN_TABLE_LOTTERY) g.nox.log("sp"), re = e.getExtensions_Buy_pb_SglBuyMsg_turn_table_resp().length, P.changeResource(f.Data.ResType.ingot, -f.Data._globalInfo._turnTableCost * re); else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_IAP_ACTIVITY) {
                    A = e.getExtensions_Buy_pb_SglBuyMsg_iap_activity_resp();
                    var _e = !0;
                    for (U = 0; U < A.length; ++U) if (115 == (ce = A[U]).id || ce.id >= 200 && ce.id <= 209) for (var se = 0; se < P._Custom_Piece_Activity.length; ++se) P._Custom_Piece_Activity[se] = ce, P._Custom_Piece_Activity[se].user_activity_data = JSON.parse(ce.user_activity_data), _e = !1;
                    if (_e) for (U = 0; U < A.length; U++) P._CustomActivity[U].user_activity_data = A[U].user_activity_data
                } else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_RECHARGE_WEEK_ACTIVITY) {
                    var ce;
                    if ((ce = (A = e.getExtensions_Buy_pb_SglBuyMsg_iap_activity_resp())[0]).id >= f.Data.BonusType.sevenRecharge && ce.id <= f.Data.BonusType.sevenRecharge_end) {
                        var le = JSON.parse(ce.user_activity_data);
                        P._seven_recharge = le, P._seven_recharge.rechargeWeekAmount = le.rechargeWeekAmount
                    }
                } else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_ACTIVITY_CLAIM) A = e.getExtensions_User_pb_SglUserMsg_user_in_resp(), P._CustomActivity = A.payment_activity; else if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_DAILY_RECHARGE_ACTIVITY) A = e.getExtensions_Buy_pb_SglBuyMsg_daily_recharge_resp(), P._Recharge_Month_CheckIn = A[0], P._Recharge_Month_CheckIn.user_activity_data = JSON.parse(A[0].user_activity_data); else {
                    if (I == SglMsgType_pb.ProtoMsgType.PB_TYPE_SUPER_GROW_FUND) {
                        for (A = e.getExtensions_Buy_pb_SglBuyMsg_buy_super_grow_fund_resp(), P._playerActivity._superGrowFundTime = parseInt(A.player_activity.super_grow_fund_time), P._playerActivity._superGrowFundId = A.player_activity.super_grow_fund_id, k = [], U = 0; U < P._playerBonus._superGrowthFund1.length; U++) k[U] = P._playerBonus._superGrowthFund1[U];
                        for (se = 0; se < P._playerBonus._superGrowthFund2.length; se++) k[k.length] = P._playerBonus._superGrowthFund2[se];
                        for (var de = P._playerBonus.hashPbBonus(A.player_bonus), pe = de[0], ue = de[1], ge = 0; ge < k.length; ge++) k[ge]._value = u.lc.D(pe[k[ge]._info._cid], k[ge]._value), k[ge]._isClaimed = u.lc.D(ue[k[ge]._infoId], k[ge]._isClaimed);
                        return l.ToastManager.push(s.lcStr(c.STR.BUYSUCCESS)), P.sendSuperGrowthFundDirty(), !0
                    }
                    I == SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_NEW_PROPS && (A = e.getExtensions_User_pb_SglUserMsg_player_new_props_resp(), P._newProp = A, f.Data.Event.new_props_change.dispatchEvent())
                }
                return !1
            }, e.onMsgErrorStatus = t, e.onMsg = function (e) {
                var t = e.type;
                if (e.status, t == SglMsgType_pb.ProtoMsgType.PB_TYPE_IAP_START) {
                    var n = e.getExtensions_Buy_pb_SglBuyMsg_iap_start_resp();
                    return cc.log("#### iap start resp: " + n.purchase_id + n.type), m.SdkManager.pay(n.type, n.purchase_id), !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_IAP_FINISH) {
                    var a = e.getExtensions_Buy_pb_SglBuyMsg_iap_finish_resp();
                    if (cc.log("#### iap finish resp: " + a.purchase_id + a.type + a.is_success + a.fail_desc), a.is_success) {
                        var i = a.type, o = P._vip;
                        a.iap_type && (P.parseBuyCounts(a.iap_type), P.parseBuyTimes(a.iap_type));
                        var _ = a.buyed_ingot, d = a.gift_ingot;
                        if (N.RechargeUtil.setRecharged(i), i >= f.Data.PurchaseType.month_card_1 && i <= f.Data.PurchaseType.month_card_3) {
                            if (y.lcAppCfg.isAppStoreReviewing()) {
                                var p = i == f.Data.PurchaseType.month_card_1 ? 4e3 : 1e4;
                                P.changeResource(f.Data.ResType.gold, p), r.ClientView.showResChangeText(E.SceneManager.getRunningScene().getSceneNode(), f.Data.ResType.gold, p), l.ToastManager.push(string.format(s.lcStr(c.STR.BUY_GOLD_SUCCESS), p))
                            } else {
                                switch (i) {
                                    case f.Data.PurchaseType.month_card_1:
                                        P._monthCardDay1 += f.Data._iapInfo[i]._number;
                                        break;
                                    case f.Data.PurchaseType.month_card_2:
                                        P._monthCardDay2 += f.Data._iapInfo[i]._number;
                                        break;
                                    case f.Data.PurchaseType.month_card_3:
                                        P._monthCardDay3 += f.Data._iapInfo[i]._number
                                }
                                for (var u = [], h = P._playerBonus._bonuses[f.Data._iapInfo[i]._bonusId[0]], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                    info_id: h._info._rid[T],
                                    num: h._info._count[T]
                                };
                                D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), h._isClaimed = !0, l.ToastManager.push(s.lcStr(c.STR.BUY_MONTH_CARD_SUCCESS))
                            }
                            P.sendMonthCardDirty()
                        } else if (i == f.Data.PurchaseType.fund) y.lcAppCfg.isAppStoreReviewing() ? (p = 14e3, P.changeResource(f.Data.ResType.gold, p), r.ClientView.showResChangeText(E.SceneManager.getRunningScene().getSceneNode(), f.Data.ResType.gold, p), l.ToastManager.push(string.format(s.lcStr(c.STR.BUY_GOLD_SUCCESS), p))) : (isChargedBefore ? D.RewardPanel.create([{
                            info_id: f.Data.PropsId.union_fund,
                            num: 1
                        }], D.RewardPanel.MODE_BUY).show() : l.ToastManager.push(s.lcStr(c.STR.BUY_FUND_SUCCESS)), P.changeVIPExp(_), P._playerBonus.onFundLevelDirty(!0)), P.sendFundDirty(); else if (i == f.Data.PurchaseType.fund_sign_in) {
                            var S = P._playerBonus._bonusFund_7days;
                            for (T = 0; T < S.length; ++T) S[T]._value = 1;
                            P._playerBonus._fundSignInLastTime = 0, P.sendFundDirty()
                        } else if (i >= f.Data.PurchaseType.daily_1 && i <= f.Data.PurchaseType.daily_2) {
                            for (h = P._playerBonus._bonuses[f.Data._iapInfo[i]._bonusId[0]], u = [], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                info_id: h._info._rid[T],
                                num: h._info._count[T]
                            };
                            D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), h._isClaimed = !0, P.sendPackageDirty()
                        } else if (i >= f.Data.PurchaseType.package_1 && i <= f.Data.PurchaseType.package_9) {
                            for (h = P._playerBonus._bonuses[f.Data._iapInfo[i]._bonusId[0]], u = [], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                info_id: h._info._rid[T],
                                num: h._info._count[T]
                            };
                            D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), h._isClaimed = !0, P.sendPackageDirty()
                        } else if (i >= f.Data.PurchaseType.limit_1 && i <= f.Data.PurchaseType.limit_9) {
                            for (h = P._playerBonus._bonuses[f.Data._iapInfo[i]._bonusId[0]], u = [], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                info_id: h._info._rid[T],
                                num: h._info._count[T]
                            };
                            D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), h._isClaimed = !0, P.sendPackageDirty()
                        } else if (i >= 401 && i <= 412) {
                            for (h = P._playerBonus._bonusPreferential[i - 401], u = [], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                info_id: h._info._rid[T],
                                num: h._info._count[T]
                            };
                            D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), P.changeVIPExp(_), h._isClaimed = !0, P.sendPackageDirty()
                        } else if (i >= 801 && i <= 900) {
                            var C = Math.floor((i - 801) / (U.GameCfg.PREFERENTIAL_GIFT_MAX_COUNT - 1));
                            for (h = P._playerBonus._bonusPreferential[C], u = [], T = 0; T < h._info._rid.length; ++T) u[u.length] = {
                                info_id: h._info._rid[T],
                                num: h._info._count[T]
                            };
                            D.RewardPanel.create(u, D.RewardPanel.MODE_BUY).show(), P.changeVIPExp(_), h._isClaimed = !0, P.sendPackageDirty()
                        } else if (0 == i) {
                            var v;
                            cc.assert(!1, "\u672a\u6d4b\u8bd5"), P.changeResource(f.Data.ResType.ingot, a.extra_ingot), P.changeVIPExp(a.extra_ingot), r.ClientView.showResChangeText(E.SceneManager.getRunningScene().getSceneNode(), f.Data.ResType.ingot, a.extra_ingot), P._playerActivity.checkChargeDays(), v = string.format(s.lcStr(c.STR.BUY_INGOT_SUCCESS), a.extra_ingot), cc.log(v), l.ToastManager.push(v)
                        } else P.isGemRechargeType(i) ? P.isGemRechargeType(i) && P._anniversaryWheelData && (cc.assert(!1, "\u672a\u6d4b\u8bd5"), P._newYearPay += _, r.ClientView.getMenuUI().updateButtonFlags()) : cc.assert(!1, "no test");
                        if (_ + d > 0 && (P.changeResource(f.Data.ResType.ingot, _ + d), r.ClientView.showResChangeText(E.SceneManager.getRunningScene().getSceneNode(), f.Data.ResType.ingot, _ + d), P._playerActivity.checkChargeDays(), v = d > 0 ? string.format(s.lcStr(c.STR.BUY_INGOT_SUCCESS), _) + string.format(s.lcStr(c.STR.CHARGE_BONUS_INGOT), d) : string.format(s.lcStr(c.STR.BUY_INGOT_SUCCESS), _), l.ToastManager.push(v)), P.setVIP(a.vip_level, a.vip_exp), P._vip > o && (P.sendVIPDirty(), k.LevelUpPanel.createVip(o, P._vip).show()), g.nox.V(P._playerActivity._actCharge) && (P._playerActivity._chargeIngot = 0 == i ? P._playerActivity._chargeIngot + a.extra_ingot : P._playerActivity._chargeIngot + _), g.nox.V(P._playerActivity._actRebate) && (P._playerActivity._rebateIngot = 0 == i ? P._playerActivity._rebateIngot + a.extra_ingot : P._playerActivity._rebateIngot + _), _ > 0) {
                            var b = P._playerActivity.getDayilPaymentActivity();
                            if (b) for (T = 0; T < b._bonusId.length; ++T) P._playerBonus._bonuses[b._bonusId[T]]._value += _;
                            if (0 == P._ingotDailyRecharge) {
                                var I = P._playerActivity.getLastDayilPaymentActivity();
                                if (I) for (T = 0; T < I._bonusId.length; ++T) P._playerBonus._bonuses[I._bonusId[T]]._value += 1
                            }
                            P._ingotDailyRecharge += _
                        }
                        f.Data.Event.recharge_success.dispatchEvent(i)
                    } else {
                        var A = s.lcStr(c.STR.BUYFAIL);
                        cc.log(A), l.ToastManager.push(A)
                    }
                    return !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SWEEP_COPY || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SWEEP_COPY_ONCE) {
                    var R = r.ClientView.getActiveIndicator().hide(),
                        M = e.getExtensions_World_pb_SglWorldMsg_world_sweep_resp();
                    r.ClientView.showSweepForm(M), M.result.length;
                    var L = P.getBattleCost();
                    return P.changeResource(f.Data.ResType.grain, -L), P.accountCopyWin(R._type), f.Data.Event.copy_times_dirty.dispatchEvent({_type: R._type}), !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_SYSTEM_MAINTENANCE) {
                    var O = e.getExtensions_Mail_pb_SglMailMsg_mail_receive_resp();
                    return B.Dialog.showDialog(string.format(s.lcStr(70058), O.content), null, !0), P._maintenanceTime = 60 * parseInt(O.content), !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USE_EXPERIENCE_CARD) {
                    var x = e.getExtensions_User_pb_SglUserMsg_use_experience_card_resp();
                    return P.changeExp(x.get_exp), D.RewardPanel.create([{
                        info_id: 7,
                        num: x.get_exp
                    }], D.RewardPanel.MODE_CHEST).show(), !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_CHANGE_NOTICE) {
                    var w = e.getExtensions_Bonus_pb_SglBonusMsg_bonus_change_notice();
                    P._playerBonus.updateBonusValue(w.type, w.value)
                } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_BADGE) {
                    var F = e.getExtensions_User_pb_SglUserMsg_update_porps_resp();
                    return P._propBag.changeProps(F.info_id, F.num), !0
                }
                return !1
            }, e.onError = function (e) {
                return _.ClientData.showReloadDialog(s.lcStr(e.code)), !0
            }, e.onMsgAfterScene = function (e) {
                return e.type, !1
            }, e.onConnectedAndAuthorized = n, e.onLogin = Z, e.onAttack = J, e.onExpeditionEx = Q, e.onReplay = $, e.onFriendBattle = ee, e.onBattleRecover = function (e) {
            }, e.onEnterRoom = function () {
                var e = E.SceneManager.getRunningScene();
                e._sceneId == o.SceneId.battle ? E.SceneManager.getRunningScene().getSceneNode().runAction(u.lc.sequence(.5, u.lc.callFunc(function () {
                    E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.in_room))
                }))) : e instanceof w.FindScene ? e.onEnterRoom() : e instanceof F.InRoomScene ? e.onEnterRoom() : e instanceof X.HallScene ? e.onEnterRoom() : e instanceof x.LoadingScene ? (E.SceneManager.replaceScene(M.ResSwitchScene.create(E.SceneManager.getRunningSceneId(), o.SceneId.city)), E.SceneManager.pushScene(w.FindScene.create()), E.SceneManager.pushScene(F.InRoomScene.create())) : E.SceneManager.pushScene(w.FindScene.create(f.Data.FindMatchType.hall))
            }, e.onMonsterExplored = te, e.onMonsterExploredEx = ne
        })(n.MsgHandler || (n.MsgHandler = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../battle/scene/BattleScene": "BattleScene",
        "../config/GameCfg": "GameCfg",
        "../config/UICfg": "UICfg",
        "../const/SDK_TYPE": "SDK_TYPE",
        "../const/SceneId": "SceneId",
        "../data/Log/Log": "Log",
        "../data/Log/PlayerLog": "PlayerLog",
        "../data/data": "data",
        "../part/BattlePart": "BattlePart",
        "../part/BuyPart": "BuyPart",
        "../part/DuelCityPart": "DuelCityPart",
        "../part/MiscPart": "MiscPart",
        "../part/UserPart": "UserPart",
        "../part/WorldPart": "WorldPart",
        "../scene/ExpeditionScene": "ExpeditionScene",
        "../scene/FindScene": "FindScene",
        "../scene/HallScene": "HallScene",
        "../scene/InRoomScene": "InRoomScene",
        "../scene/LoadingScene": "LoadingScene",
        "../scene/ResSwitchScene": "ResSwitchScene",
        "../scene/SceneManager": "SceneManager",
        "../sdk/SdkManager": "SdkManager",
        "../ui/common/ActiveIndicator": "ActiveIndicator",
        "../ui/common/Dialog": "Dialog",
        "../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../ui/panel/CapturePanel": "CapturePanel",
        "../ui/panel/LevelUpPanel": "LevelUpPanel",
        "../ui/panel/RewardPanel": "RewardPanel",
        "./BattleInputUtil": "BattleInputUtil",
        "./CardUtil": "CardUtil",
        "./LoginData": "LoginData",
        "./NetUtil": "NetUtil",
        "./RechargeUtil": "RechargeUtil",
        "./SpineUtil": "SpineUtil",
        "./TimeUtil": "TimeUtil"
    }],
    MsgMailItem: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "69720N+iW9BZpOcHXQK5T30", "MsgMailItem");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../data/data"),
            _ = e("../../../data/Social/PlayerMail"), s = e("../../../ClientView"), c = e("../../../utils/UIUtil"),
            l = e("../../../config/UICfg"), d = e("../../../../leocool/lc"), p = e("../../widget/UserWidget"),
            u = e("../../../utils/TimeUtil"), g = function (e) {
                function t() {
                    return e.call(this, "form/MailForm/MsgMailItem") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    var e = this, t = e.width, n = e._mail, a = o.noxcc.find("mroot", e.mRoot);
                    e.mRoot.setContentSize(cc.size(t, 160)), e.mRoot.addComponent(cc.Button), o.noxcc.addClick(e.mRoot, e, function () {
                        c.UIUtil.operateUser(this._mail._user, e.mRoot)
                    });
                    var i = p.UserWidget.create(n._user, p.UserWidget.Flag.NAME_UNION);
                    i.node.setScale(.95), d.lc.addChildToPosAR(a, i.node, cc.v2(d.lc.w(i.node) / 5 + 28, d.lc.h(a) / 2 + 4)), e._userArea = i;
                    var r = c.UIUtil.createTTF("0", null, l.UICfg.COLOR_TEXT_DARK, cc.size(292, 145), 0, 1);
                    r.setAnchorPoint(0, 1), d.lc.addChildToPosAR(a, r, cc.v2(d.lc.w(a) - d.lc.w(r) - 50, d.lc.h(a) / 2 + 10)), e._content = r;
                    var _ = c.UIUtil.createTTF("", null, l.UICfg.COLOR_LABEL_DARK);
                    _.setAnchorPoint(1, .5), d.lc.addChildToPosAR(a, _, cc.v2(d.lc.w(a) - 150, 32 + d.lc.h(_) / 2)), e._time = _
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.onEnter = function () {
                    var e = this;
                    e._listeners = [], e._listeners.push(r.Data.Event.mail.addListener(e, function (t) {
                        t && t._event && t._event == _.PlayerMail.Event.mail_dirty && t._data == this._mail && (s.ClientView.getActiveIndicator().hide(), e.updateView())
                    })), e.updateView()
                }, t.prototype.onExit = function () {
                    for (var e = 0; e < this._listeners.length; e++) this._listeners[e].remove();
                    this._listeners = []
                }, t.prototype.init = function (e, t) {
                    this.width = e, this._mail = t
                }, t.prototype.updateView = function () {
                    var e = this._mail;
                    this._userArea.setUser(e._user, !0), o.noxcc.setLabelString(this._time, u.TimeUtil.getTimeAgo(e._timestamp)), o.noxcc.setLabelString(this._content, d.lc.D(e._title, e._content))
                }, t.prototype.updateMail = function (e) {
                    this._mail = e, this.updateView()
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(i.BasePage);
        n.MsgMailItem = g, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../config/UICfg": "UICfg",
        "../../../data/Social/PlayerMail": "PlayerMail",
        "../../../data/data": "data",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../widget/UserWidget": "UserWidget"
    }],
    NameSample: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "89085MnVjZGk46z/y1eegqx", "NameSample"), Object.defineProperty(n, "__esModule", {value: !0}), n.FAMILY_NAMES1 = ["Hoa ", "L\u1ee5c ", "M\u1eaft ", "Ch\xfaa T\u1ec3 ", "\u0110\xf4 \u0110\u1ed1c ", "\u0110\xf4 \u0110\u1ed1c ", "Vua ", "Nh\u1ec7n ", "S\u1ee9c M\u1ea1nh ", "Th\u1ea7n ", "R\u1ed3ng ", "R\u1ed3ng ", "R\u1ed3ng ", "Vu\u1ed1t ", "Qu\u1ef7 ", "H\u1ed3 Li ", "N\u1eafm \u0110\u1ea5m ", "Qu\xe1i V\u1eadt ", "X\xe1c \u01af\u1edbp ", "Ph\u01b0\u1ee3ng Ho\xe0ng ", "\u0110\u1ee9a Tr\u1ebb ", "Cung ", "\xc1c ", "Ng\u01b0\u1eddi M\xe1y ", "C\u1ea3nh S\xe1t ", "X\xe0 ", "\u0110\u1ea1i T\u01b0\u1edbng ", "Nh\xe0 ", "S\u1ee9 Gi\u1ea3 ", "N\u1eef Ho\xe0ng ", "N\u1eef ", "Qu\xe1i ", "Ma ", "Vua ", "Th\u1ee7y ", "Ng\u01b0\u1eddi ", "L\u1eef Kh\xe1ch ", "Th\u1ee3 ", "K\u1ebb ", "Th\u1ea7y Tu ", "K\u1ebb ", "Thi\xean Th\u1ea7n ", "Th\u1ee3 S\u0103n ", "Ti\xean Tri ", "Hi\u1ec7p S\u0129 ", "M\u1eaft ", "D\u01b0\u1ee3c S\u0129 ", "\u0110\u1ea1i ", "Tinh ", "B\u1eadc Th\u1ea7y ", "N\u1eef Ch\xfaa ", "Hi\u1ec7p S\u0129 ", "Th\u1ea7n ", "Chu\u1ed9t ", "L\u1eef Kh\xe1ch ", "Tay S\xfang ", "Vua ", "Th\u1ea7n Ch\u1ebft ", "H\u1ea7u ", "Ph\xe1p S\u01b0 ", "K\u1ebb ", "V\u0169 Kh\xed ", "Ch\xfaa T\u1ec3 ", "Gi\xe1m H\u1ed9 ", "Gai ", "Ti\u1ebfng G\u1ea7m ", "Ch\xe2u ", "Ch\xe2u ", "L\u01b0u ", "\u0110\u1ed7 ", "\u0110\u1ed7 ", "L\u1ee5c \u0110\u1ea1o ", "Th\u1ea7n ", "Th\u1eadp ", "C\u1eefu ", "B\xe1t ", "Th\u1ea5t ", "L\u1ee5c ", "Ng\u0169 ", "T\u1ee9 ", "Tam ", "Nh\u1ecb ", "Nh\u1ea5t ", "L\xe0ng  ", "L\xe0ng ", "L\xe0ng ", "L\xe0ng ", "Th\u1ea5t ", "T\u1ed5 Ch\u1ee9c ", "Si\xeau ", "Vua ", "M\u0169 ", "M\xe8o ", "N\xfai ", "T\u1ee9 ", "T\xf3c ", "R\xe2u ", "B\xe1ch ", "Big ", "R\xe2u ", "Th\u1ea5t "], n.FAMILY_NAMES2 = ["Mutou ", "Yami ", "Katsuya ", "Jonouchi ", "Mazaki ", "Anzu ", "Hiroto ", "Honda ", "Kaiba ", "Seto ", "Kaiba ", "Mokuba ", "Kaiba ", "Noah ", "Kaiba ", "Gozaburo ", "Pharaoh ", "Atem ", "Sugoroku ", "Mutou ", "Bakura ", "Ryo ", "Crawford ", "Pegasus J. ", "Insector ", "Haga ", "Ryuzaki ", "Dinosaur  ", "Kawai ", "Shizuka ", "Kujaku ", "Mai ", "Ryota  ", "Kajiki ", "Keith ", "Keith ", "Bandit ", "Shadi ", "The ", "Rebecca ", "Hopkins ", "Hopkins ", "Arthur ", "Ryugi ", "Otogi ", " Ishtar ", "Iishizu ", " Ishtar ", "Marik ", "Rishid ", "The ", "Anubis ", "The ", "Ziegfried ", "Schroider ", "Thief ", "Bakura ", " King  ", "Bakura ", "Thief ", " King  ", "Yami ", "Alexander ", "The ", "Seeker ", "The ", "Pantomimer ", "The ", "Pandora ", "Mask ", "Light ", "Mask ", "Darkness ", "Leon ", "Von ", "Vivian ", "Won ", "Baary ", "Ginger ", "Ape ", "Monkey ", "Richard ", "Goat ", "Paul ", "McGregor ", "Totani ", "Ialos ", "Sergei ", "Ivanoff ", "Essel ", "Jansen ", "Fortune ", "Salim ", "Ethan ", "Shark ", "Jafar ", "Shin ", "Alex ", "Brisbane ", "Alexander ", "Mr ", "Mr ", "Akhenam ", "Siamun ", "Muran ", "Mahado ", "Mr ", "Ghost ", "Kotsuzuka ", "Meikyu ", "Brothers ", "Death ", "Imitator ", "Miho ", "Nosaka ", "Yuki ", "Judai ", "Jaden ", "Yuki ", "Syrus ", "Truesdale ", "Marufuji ", "Sho ", "Chumley ", "Hufington ", "Maeda ", "Hayato ", "Bastion ", "Misawa ", "Miasawa ", "Daichi ", "Chazz ", "Princeton ", "Manjome ", "Jun ", "Rhodes ", "Alexis ", "Tenjoin ", "Asuka ", "Zane ", "Marufuji ", "Ryo ", "Blair ", "Flannigan ", "Saotome ", "Rei ", "Adrian ", "Gecko ", "Amon ", "Garam ", "Amon ", "Garamu ", "Aster ", "Phoenix ", "Edo ", "Phoenix ", "Edo ", "Rhodes ", "Atticus ", "Fubuki ", "Tenjoin ", "Axel ", "Brodie ", "Austin ", "O'Brien ", "Osuchin ", "Oburaien ", "Fonda ", "Fontaine ", "Emi ", "Azukawa ", "Junko ", "Makita ", "Louis ", "Bonaparte ", "Louis ", "Napoleon ", "Jesse ", "Anderson ", "Johan ", "Andersen ", "Yohan ", "Andersen ", "Kurokodairu ", "Kukku ", "Purinsesu ", "Rozu ", "Yuma ", "Tsukumo ", "Reginald ", "Kastle ", "Tori ", "Meadows ", "Kite ", "Tenjoin ", "Dr. ", "Cathy ", "Tsukumo ", "Kari ", "Orbital ", "Bronk ", "Stone ", "Caswell ", "Farancis ", "Flip ", "Tumer ", "Haru ", "Tsukumo ", "Yusaku ", "Fujiki ", "Kusanagi ", "Shoichi ", "Shima ", "Naoki ", "Zaizen ", "Aoi ", "Onizuka ", "Go ", "Taki ", "Kyoko ", "Eagle ", "Faust ", "Okita ", "Sogo ", "Gin ", "Tama ", "Sakata ", "Gintoki ", "Yu ", "Hakusho ", "Shishio ", "Makoto ", "Rurouni ", "Kenshin ", "Miyamoto ", "Musashi ", "Hiko ", "Seijuro ", "Rurouni ", "Kenshin ", "Roronoa ", "Zoro ", "Himura ", "Kenshin ", "Ishikawa ", "Goemon ", "Gintoki ", "Sakata ", "Fate ", "Series ", "Ichigo ", "Kurosaki ", "Erza ", "Scarlet ", "Mugen ", "Jin ", "Samurai ", "Champloo ", "Kazuto ", "Kirigaya ", "King ", "Bradley ", "Killer ", "Bee ", "Goemon ", "Ishikawa ", "Akame ", "Ga Kill ", "Jubei ", "Kibagami ", "Bohemian ", "Knight ", "Risa ", "Tachibana ", "Sakurai ", "Ria ", "Misaki ", "Ren ", "Suzumura ", "Yui ", "Hatano ", "Tian ", "Meibo ", "Osawa ", "Moe ", "Dream ", "Sakaguchi ", "Rola ", "Takizawa ", "Tsubasa ", "Anami ", "Uzumaki ", "Uchiha ", "H\u1ea3uno ", "Hatake ", "Nara ", "Akimichi ", "Yamanaka ", "Sarutobi ", "Hyuga ", "Inuzka ", "Aburame ", "Yuhi ", "Maito ", "Rock ", "Huyga ", "Gai ", "Hokage ", "Hokage ", "Hokage ", "Hokage ", "Hokage ", "Hokage ", "Hokage ", "Sannin ", "Sannin ", "Sannin ", "Shimura ", "Umino ", "Killer ", "Momochi ", "Kudo ", "Kudo ", "Kudo ", "Edogawa ", "Mori ", "Mori ", "K\xedaki ", "Haibara ", "Yoshida ", "Tsuburaza ", "Kojima ", "Hattori ", "Hattori ", "Hattori ", "Suzuki ", "Suzuki ", "Suzuki ", "Suzuki ", "Suzuki ", "Megure ", "Sato ", "Takagi ", "Matsuda ", "Kazunobu ", "Miike ", "Otaki ", "One "], n.JueSe_NAMES1 = ["Ki\u1ebfm", "\u0110\u1ea1o", "Di\u1ec1u H\xe2u", "S\u1ea5m S\xe9t", "H\u1ea3i Qu\xe2n", "H\u1ea1m \u0110\u1ed9i", "B\xf3ng T\u1ed1i", "N\u01b0\u1edbc", "B\u1ecb X\xedch", "S\u1ee9c M\u1ea1nh", "Ph\u01b0\u01a1ng \u0110\xf4ng", "Ph\u01b0\u01a1ng T\xe2y", "C\xf3 C\xe1nh", "R\u1ed3ng", "Ki\u1ebfm", "Ch\xedn \u0110\xf4i", "B\xf3ng \u0110\xeam", "\u0110\u1ea7u B\xf2", "U S\u1ea7u", "B\u0103ng", "B\xf3ng T\u1ed1i", "B\u0103ng", "Long", "H\u01a1i N\u01b0\u1edbc", "Tr\u01b0\u1edfng", "N\u1eef", "Noxus", "Th\xe1m Hi\u1ec3m", "\u0110\u1ecba Ng\u1ee5c", "Nh\u1ec7n", "Ki\u1ebfm S\u1ef9", "Ng\u01b0", "D\u01a1i", "H\u1ec1", "Th\u1ea7n", "B\u1ea3o H\u1ed9", "H\u01b0 Kh\xf4ng", "S\u0103n", "L\u1eeba \u0110\u1ea3o", "M\xf9", "Thanh Tr\u1eebng", "Sa Ng\xe3", "Ti\u1ec1n Th\u01b0\u1edfng", "H\u01b0 Kh\xf4ng", "Pha L\xea", "Ho\xe0ng H\xf4n", "\u0110i\xean", "C\u1ea7m N\u1eef", "N\u1eef", "Chi\u1ebfn Thu\u1eadt", "B\xf3ng \u0110\xeam", "Pha L\xea", "B\xe0i", "Th\xe0nh Tinh", "Tinh Linh", "Tinh Nhu\u1ec7", "Kh\u1ed5ng L\u1ed3", "\u0110\u1ecf", "V\u01b0\u01a1ng", "Th\u0103ng Hoa", "\u0110\xe0o M\u1ed9", "B\xed M\u1eadt", "B\xf3ng T\u1ed1i", "Th\u1eddi gian", "N\u1ed5i Lo\u1ea1n", "S\u1ea5m S\xe9t", "Nhu\u1eadn Ph\xe1t", "Tinh Tr\xec", "\u0110\u1ee9c Hoa", "Th\xe1nh", "Hi\u1ec7p", "Ti\xean Nh\xe2n", "M\u1ed9c", "V\u0129", "L\xe1", "M\xe2y", "S\u01b0\u01a1ng M\xf9", "\u0110\xe1", "Ki\u1ebfm", "\xc1o \u0110en", "Tr\u1ed9m", "H\u1ea3i T\u1eb7c", "R\u01a1m", "\u0110en", "Kh\u1ec9", "Ho\xe0ng", "\u0110\u1ecf", "Tr\u1eafng", "Th\xfa", "Mom", "\u0110en", "V\u0169 H\u1ea3i"], n.JueSe_NAMES2 = ["Yugi", "Jonouchi", "Katsuya", "Anzu", "Mazaki", "Honda", "Hiroto", "Seto", "Kaiba", "Mokuba", "Kaiba", "Noah", "Kaiba", "Gozaburo", "Kaiba", "Atem", "Pharaoh", "Mutou", "Sugoroku", "Ryo", "Bakura", "Pegasus.J", "Crawford", "Haga", "Insector", "Dinosaur", "Ryuzaki", "Shizuka", "Kawai", "Mai", "Kujaku", "Kajiki", "Ryota", "Howard", "Bandit", "Keith", "Shadi", "Hopkins", "Rebecca", "Arthur", "Hopkins", "Otogi", "Ryugi", "Iishizu", "Ishtar", "Marik", "Ishtar", "Rishid", "Anubis", "Schroider", "Ziegfried", "Bakura", "Thief", "Bakura", "King", "King", "Thief", "Alexander", "Yami", "Seeker", "Pantomimer", "Pandora", "ofLight", "ofDarkness", "Mask", "vonSchroider", "Schroider", "Won", "Vivian", "Ginger", "Baary", "Monkey", "Ape", "Goat", "Richard", "McGregor", "Paul", "Ialos", "Totani", "Ivanoff", "Sergei", "Jansen", "Essel", "Salim", "Fortune", "Shark", "Ethan", "Shin", "Jafar", "Brisbane", "Alex", "TheGreat", "Great", "Akhenamkhanen", "khanen", "Muran", "Siamun", "Mahado", "Akhenaden", "Isis", "Shada", "Karimu", "Mana", "Hasan", "Bobasa", "Kisara", "Kotsuzuka", "Ghost", "Brothers", "Meikyu", "Imitator", "Death", "Miruko", "Nosaka", "Miho", "Judai", "Yuki", "Jaden", "Truesdale", "Syrus", "Sho", "Marufuji", "Hufington", "Chumley", "Hayato", "Maeda", "Misawa", "Bastion", "Daichi", "Miasawa", "Princeton", "Chazz", "Jun", "Manjome", "Alexis", "Rhodes", "Asuka", "Tenjoin", "Truesdale", "Ryo", "Marufuji", "Flannigan", "Blair", "Rei", "Satome", "Gecko", "Adrian", "Garam", "Amon", "Garamu", "Phoenix", "Aster", "Phoenix", "Edo", "Fenikkusu", "Atticus", "Rhodes", "Tenjoin", "Fubuki", "Brodie", "Axel", "O'Brien", "Austin", "Oburaien", "Osuchin", "Fontaine", "Fonda", "Azukawa", "Emi", "Makita", "Junko", "Bonaparte", "Louis", "Napoleon", "Louis", "Anderson", "Jesse", "Andersen", "Johan", "Andersen", "Yohan", "Kukku", "Kurokodairu", "Rozu", "Purinsesu", "Tsukumo", "Yuma", "Kastle", "Reginald", "Meadows", "Tori", "Tenjoin", "Kite", "Faker", "Katherine", "Kari", "Tsukumo", "Heartland", "Orbital", "Stone", "Bronk", "Farancis", "Caswell", "Tumer", "Flip", "Tsukumo", "Haru", "Fujiki", "Yusaku", "Shoichi", "Kusanagi", "Naoki", "Shima", "Aoi", "Zaizen", "Go", "Onizuka", "Kyoko", "Taki", "Faust", "Eagle", "Sogo", "Okita", "Tama", "Gin", "Gintoki", "Sakata", "Hakusho", "Yu", "Makoto", "Shishio", "Kenshin", "Rurouni", "Musashi", "Miyamoto", "Seijuro", "Hiko", "Kenshin", "Rurouni", "Zoro", "Roronoa", "Kenshin", "Himura", "Goemon", "Ishikawa", "Sakata", "Gintoki", "Series", "Fate", "Kurosaki", "Ichigo", "Scarlet", "Erza", "Jin", "Mugen", "Champloo", "Samurai", "Kirigaya", "Kazuto", "Bradley", "King", "Bee", "Killer", "Ishikawa", "Goemon", "GaKill", "Akame", "Kibagami", "Jubei", "Knight", "Bohemian", "Tachibana", "Risa", "Ria", "Sakurai", "Ren", "Misaki", "Suzumura", "Hatano", "Meibo", "Tian", "Moe", "Osawa", "Sakaguchi", "Takizawa", "Rola", "Anami", "Tsubasa", "Naruto", "Sasuke", "Sakura", "Kakashi", "Shikamaru", "Choji", "Ino", "Asuma", "Hinata", "Kiba", "Shino", "Kurenai", "Gai", "Lee", "Neji", "Tenten", "Jiraiya", "Tsunade", "Orochimaru", "Danzo", "Iruka", "B", "Zabuza", "Shinichi", "Yusaku", "Yukiko", "Conan", "Ran", "Kogoro", "Eri", "Ai", "Ayumi", "Mitsuhiko", "Genta", "Heiji", "Heizo", "Shizuka", "Sonoko", "Ayako", "Jirokichi", "Shiro", "Tomoko", "Juzo", "Miwako", "Wataru", "Jinpei", "Chiba", "Naeko", "Goro", "Piece"], cc._RF.pop()
    }, {}],
    NativeSdk: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c43cdm3xWBERri499mSLz/v", "NativeSdk"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e.invokeNative = function (e, t) {
                return window.prompt("invokeNative:" + e, t)
            }
        }(n.NativeSdk || (n.NativeSdk = {})), cc._RF.pop()
    }, {}],
    NetUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "68c70bxHqRBKYMB5rzIxsSM", "NetUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../leocool/lc"), i = e("../StringEnums"), o = e("../data/data"), r = e("../../nox"),
            _ = e("./TimeUtil"), s = e("../pb/Socket_pb"), c = e("../NoticeManager"), l = e("../GuideManager"),
            d = e("../../leocool/lcStr"), p = e("../sdk/SdkManager"), u = e("../../noxEvent"),
            g = e("../../leocool/lcFile"), h = e("../part/UserPart"), f = e("../../leocool/lcAppCfg"),
            m = e("../const/SDK_TYPE"), y = e("./LoginData"), T = e("./cu"), S = e("./SpriteUtil"),
            C = e("../ui/node/NodeWithLabel"), v = e("../config/UICfg"), b = e("../ClientData"),
            E = e("../ui/common/Dialog");
        (function (e) {
            var t;
            (function (e) {
                e[e.disconnected = 1] = "disconnected", e[e.connecting = 2] = "connecting", e[e.connected = 3] = "connected", e[e.login = 4] = "login"
            })(t = e.SocketStatus || (e.SocketStatus = {})), e.Event = {
                connect_fail: new u.noxEvent0,
                msg: new u.noxEvent1,
                error: new u.noxEvent1,
                disconnect: new u.noxEvent0
            };
            var n = null, I = null, A = null, R = null, B = null;
            e._socketStatus = t.disconnected;
            var N = null, D = null;
            e._heartbeatGapNoticeId = null, e._heartbeatLostNoticeId = null;
            var U, M = null, k = null, L = null, O = null;
            (function (e) {
                e.unstable = "unstable", e.recover = "recover", e.reconnect = "reconnect", e.disconnect = "disconnect", e.reachability_changed = "reachability_changed"
            })(U = e.SocketLog || (e.SocketLog = {}));
            e._needSendBattleDebugLog = !1;
            var x = "";

            function w() {
                null == R && (R = s.Socket_pb.Event.data.addListener(null, function (e) {
                    e._socket == B && V(e)
                }))
            }

            function F() {
                R && (R.remove(), R = null)
            }

            function V(n) {
                if (n._hasError) e.Event.error.dispatchEvent(n._msg); else {
                    var a = n._msg;
                    if (a.status == SglMsg_pb.ProtoMsgStatus.PB_STATUS_OK) switch (a.type) {
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_AUTHENTICATION:
                            e._socketStatus = t.connected, H();
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REGISTER:
                            e._socketStatus = t.login;
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_HEART_BEAT:
                            D = _.TimeUtil.getCurrentTime()
                    }
                    e.Event.msg.dispatchEvent(a)
                }
            }

            function H() {
                N = null, D = null, null != e._heartbeatGapNoticeId && (c.NoticeManager.hide(e._heartbeatGapNoticeId), e._heartbeatGapNoticeId = null), null != e._heartbeatLostNoticeId && (c.NoticeManager.hide(e._heartbeatLostNoticeId), e._heartbeatLostNoticeId = null), M = r.nox.scheduleInterval(function (e) {
                    j()
                }, 1)
            }

            function G() {
                a.lc.log("[NETWORK] disconnec"), null != B && (B.close(), B = null), Y()
            }

            function W() {
                a.lc.log("[NETWORK] onConnectFail"), e._socketStatus = t.disconnected
            }

            function Y() {
                a.lc.log("[NETWORK] onDisconnect"), e._socketStatus != t.disconnected && (e._socketStatus = t.disconnected, N = null, D = null, null != M && (r.nox.unscheduleTimeout(M), M = null), F(), P && P.stopPlayerScheduler())
            }

            function K(e) {
                null != B && (e.dt = 1e3 * _.TimeUtil.getRunningTime(), B.sendProtoMsg(e))
            }

            function z() {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_AUTHENTICATION, K(e)
            }

            function j() {
                if (null != N && null != D) {
                    if ((l = N - D) > 60) return r.nox.log("[NETWORK] heartbeat lost", l), b.ClientData.reconnect(d.lcStr(i.STR.HEARTBEAT_LOST)), void e.writeSocketLog(U.reconnect, l);
                    if (l > 30) {
                        if (null == b.ClientData._reloadDialog && null != S.SpriteUtil.getSpriteFrame("img_icon_wifi_low")) {
                            var t = a.lc.createNode(), n = S.SpriteUtil.createSprite("img_icon_wifi_low").node;
                            n.runAction(a.lc.repeatForever(a.lc.sequence(.5, cc.show(), .5, cc.hide())));
                            var s = C.NodeWithLabel.createTTF(d.lcStr(i.STR.HEARTBEAT_GAP), v.UICfg.FontSize.S1, v.UICfg.COLOR_TEXT_DARK),
                                l = 2;
                            t.width = n.width + l + s.width, a.lc.addNodesToCenter(t, [n, s], l), e._heartbeatGapNoticeId = c.NoticeManager.show(t, null, e._heartbeatGapNoticeId)
                        }
                        e.writeSocketLog(U.unstable, l)
                    } else null != e._heartbeatGapNoticeId && (c.NoticeManager.hide(e._heartbeatGapNoticeId), e._heartbeatGapNoticeId = null), null != e._heartbeatLostNoticeId && (c.NoticeManager.hide(e._heartbeatLostNoticeId), e._heartbeatLostNoticeId = null), e.writeSocketLog(U.recover, l)
                }
                N = _.TimeUtil.getCurrentTime();
                var p = SglMsg_pb.SglReqMsg.create();
                p.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_HEART_BEAT, K(p);
                var u = _.TimeUtil.getServerDate(), g = u[0], h = u[1];
                null != k && k == g || (k = g, o.Data.Event.time_hour_changed.dispatchEvent()), null != g && (null != L && L == g || (L = g, o.Data.Event.server_hour_changed.dispatchEvent(), null != O && O == h || (null != O && b.ClientData.showReloadDialog(d.lcStr(i.STR.NEW_DAY_BEGIN), SglMsg_pb.ProtoMsgStatus.PB_STATUS_INVALID_VERSION), O = h, o.Data.Event.server_day_changed.dispatchEvent()))), !r.nox.isJsb && T.cu.ios && (G(), E.Dialog.showIosDialog())
            }

            e.init = function () {
                e._socketStatus = t.disconnected, n = s.Socket_pb.Event.connect.addListener(null, function () {
                    z()
                }), I = s.Socket_pb.Event.connect_fail.addListener(null, function () {
                    W(), e.Event.connect_fail.dispatchEvent()
                }), A = s.Socket_pb.Event.disconnect.addListener(null, function () {
                    Y(), e.Event.disconnect.dispatchEvent()
                })
            }, e.shut = function () {
                n && (n.remove(), n = null), I && (I.remove(), I = null), A && (A.remove(), A = null), F()
            }, e.startDataListener = w, e.stopDataListener = F, e.onSocketData = V, e.onAuthentication = H, e.isLogin = function () {
                return e._socketStatus == t.login
            }, e.connect = function (n, a) {
                e._socketStatus = t.connecting, a ? r.nox.log("[NETWORK] connect " + n + ":" + a) : r.nox.log("[NETWORK] connect " + n), w();
                var i = f.lcAppCfg.isHttpProtocol() ? "ws://" : "wss://";
                i += a ? n + ":" + a : n, (B = new s.Socket_pb).connect(i)
            }, e.disconnect = G, e.onDisconnect = Y, e.sendProtoMsg = K, e.sendHeartBeat = j, e.sendRegionListReq = function (e) {
                var t = y.LoginData.loadUserId(), n = f.lcAppCfg.getChannelName();
                n = r.nox.D(e, n), f.lcAppCfg.isShowDevServerList() && !f.lcAppCfg.isAdmin() && (n = "DEV"), r.nox.isJsb || (a.lc.getQueryString("noxad_sdk"), p.SdkManager.getSdkType(), m.SDK_TYPE.zl);
                var i = "321";
                "OFFICIAL" == n || "APPSTORE" == n ? ("UDID" == t && (i = null), t = a.lc.getUdid()) : "FACEBOOK" == n && ("UDID" == t ? (i = null, t = a.lc.getUdid()) : t = "");
                var o = SglMsg_pb.SglReqMsg.create();
                o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_REGION_LIST;
                var _ = o.addExtensions_Region_pb_SglRegionMsg_region_list_req();
                _.uid = t, "OFFICIAL" != n && "APPSTORE" != n && "FACEBOOK" != n || null != i && (_.gcid = i);
                var s = f.lcAppCfg.getRedirectGameServer();
                0 != s.length && (n = n + "_" + s), _.channel = n, _.sign_data = p.SdkManager._sginData, a.lc.log("Region List UID:%s, GCID:%s", _.uid, _.gcid), K(o)
            }, e.sendUserRegister = function () {
                var t = y.LoginData.loadUserId(), n = y.LoginData._userRegion._id, i = a.lc.getDeviceInfo(),
                    o = f.lcAppCfg.getVersion(), _ = f.lcAppCfg.getBinaryVersion(), s = f.lcAppCfg.getChannelName(),
                    c = t;
                "OFFICIAL" == s || "APPSTORE" == s ? ("UDID" == t && (c = null), t = a.lc.getUdid()) : "FACEBOOK" == s && ("UDID" == t ? (c = null, t = a.lc.getUdid()) : t = "");
                var l = p.SdkManager.bindAlias(s + t + n);
                "APPSTORE" == s ? l = f.lcAppCfg.getAppId() + "." + l : "FACEBOOK" == s ? l = f.lcAppCfg.getAppId() + "." + l : "ASDK" == s && (l = f.lcAppCfg.getSubChannelName() + "." + f.lcAppCfg.getAppId() + "." + l);
                a.lc.log("register to game server: %s with (uid: %s, rid: %d, alias: %s, device_info: %s, version: %s)", y.LoginData._userRegion._ip, t, n, l, i, o);
                var d = SglMsg_pb.SglReqMsg.create();
                d.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_REGISTER;
                var u = d.addExtensions_User_pb_SglUserMsg_user_reg_req();
                u.uid = t, u.rid = r.nox.toNumber(n), u.cid = l, u.device_info = i.toString(), u.version = o, u.binary_version = _, u.appid = f.lcAppCfg.getAppId(), u.sign_data = p.SdkManager._sginData, u.idfa = f.lcAppCfg.getIdfa(), "OFFICIAL" != s && "APPSTORE" != s && "FACEBOOK" != s || null != c && d.setExtensions_User_pb_SglUserMsg_user_gcid_req(c), y.LoginData._regIds = string.format("gcid:%s, uid:%s", c, t);
                var g = f.lcAppCfg.getRedirectGameServer();
                0 != g.length && (s = s + "_" + g), u.channel = s, e._needSendBattleDebugLog && x && (d.setExtensions_Battle_pb_SglBattleMsg_battle_log_req(x), e._needSendBattleDebugLog = !1), K(d)
            }, e.sendUserLogin = function (t) {
                var n = y.LoginData.loadUserId(), i = y.LoginData._userRegion._id, o = a.lc.getDeviceInfo(),
                    _ = f.lcAppCfg.getVersion(), s = f.lcAppCfg.getBinVersion(), c = f.lcAppCfg.getChannelName(),
                    l = p.SdkManager.bindAlias(c + n + i);
                "APPSTORE" == c ? l = f.lcAppCfg.getAppId() + "." + l : "FACEBOOK" == c ? l = f.lcAppCfg.getAppId() + "." + l : "ASDK" == c && (l = f.lcAppCfg.getSubChannelName() + "." + f.lcAppCfg.getAppId() + "." + l);
                a.lc.log("login to game server: %s with (userId: %s, rid: %d, alias: %s, device_info: %s, version: %s)", y.LoginData._userRegion._ip, t, i, l, o, _);
                var d = SglMsg_pb.SglReqMsg.create();
                d.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOGIN;
                var u = d.addExtensions_User_pb_SglUserMsg_user_login_req();
                u.user_id = t, u.cid = l, u.device_info = r.nox.jsonEncode(o), u.version = _, u.binary_version = s, u.sign_data = p.SdkManager._sginData, u.uid = n, e._needSendBattleDebugLog && x && (d.setExtensions_Battle_pb_SglBattleMsg_battle_log_req(x), e._needSendBattleDebugLog = !1), K(d)
            }, e.appendGuideIdIfNeed = function (e) {
                if (f.lcAppCfg.isEnableGuide()) {
                    var t = l.GuideManager.getCurSaveGuideId();
                    t && e.setExtensions_User_pb_SglUserMsg_user_set_guide_req(t)
                }
            }, e.checkSocketLog = function () {
                var e = g.lcFile.readFile(g.lcFile.getWritablePath() + "socketLog.txt");
                if (null != e && "" != e) {
                    for (var t = 0, n = string.splitByChar(e, "\n"); t < n.length; t++) {
                        var a = n[t];
                        "" != a && h.UserPart.sendUserEvent({socketLog: a})
                    }
                    null, g.lcFile.writeFile(g.lcFile.getWritablePath() + "socketLog.txt", "")
                } else e
            }, e.writeSocketLog = function (e, t) {
            }, e.addBattleDebugLog = function (e) {
                x = r.nox.D(x, "") + e
            }
        })(n.NetUtil || (n.NetUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcFile": "lcFile",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxEvent": "noxEvent",
        "../ClientData": "ClientData",
        "../GuideManager": "GuideManager",
        "../NoticeManager": "NoticeManager",
        "../StringEnums": "StringEnums",
        "../config/UICfg": "UICfg",
        "../const/SDK_TYPE": "SDK_TYPE",
        "../data/data": "data",
        "../part/UserPart": "UserPart",
        "../pb/Socket_pb": "Socket_pb",
        "../sdk/SdkManager": "SdkManager",
        "../ui/common/Dialog": "Dialog",
        "../ui/node/NodeWithLabel": "NodeWithLabel",
        "./LoginData": "LoginData",
        "./SpriteUtil": "SpriteUtil",
        "./TimeUtil": "TimeUtil",
        "./cu": "cu"
    }],
    NewClashPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "06afemVcrpAP490+NtqubIY", "NewClashPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendNewClashBuyTicket = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_WORLD_EX_TICKET, t.setExtensions_World_pb_SglWorldMsg_duel_city_buy_ticket_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetNewClashForbidCard = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_FORBID_CARD_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendNewClashSync = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE_EX, a.NetUtil.sendProtoMsg(e)
            }
        })(n.NewClashPart || (n.NewClashPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    NewbieTaskPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "eb3476qIB1IbYYySNM6EkcD", "NewbieTaskPage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BasePage"), i = e("../../../../noxcc"), o = e("../../../ClientView"),
            r = e("../../../../leocool/lc"), _ = e("../../../data/data"), s = e("../../widget/BonusWidget"),
            c = e("../../../../leocool/lcStr"), l = e("../../../../nox"), d = e("../../../utils/TimeUtil"),
            p = e("../../../ClientData"), u = e("../../../scene/ExpeditionScene"), g = e("../../../ToastManager"),
            h = e("../../../StringEnums"), f = e("../../../scene/UnionScene"), m = e("../../../scene/FindScene"),
            y = e("../../../scene/TavernScene"), T = e("../../../scene/TutorialScene"),
            S = e("../../../scene/SceneManager"), C = function (e) {
                function t() {
                    var t = e.call(this, "panel/assistant/NewbieTaskPage") || this;
                    return t._day = 1, t._curDay = 0, t
                }

                return __extends(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = i.noxcc.findToggleGroup("TopScrollView/view/content", this.mRoot).node;
                    this._toggles = [];
                    for (var a = function (e) {
                        var a = i.noxcc.findToggle("Day" + l.nox.toString(e + 1) + "_Button", n);
                        o._toggles[e] = a, i.noxcc.setNodeColor(i.noxcc.find("Label", a.node), a.isChecked ? r.lc.Color3B.yellow : r.lc.Color3B.white), i.noxcc.addToggleClick(a, o, function () {
                            for (var n = 0; n < 7; n++) i.noxcc.setNodeColor(i.noxcc.find("Label", t._toggles[n].node), t._toggles[n].isChecked ? r.lc.Color3B.yellow : r.lc.Color3B.white);
                            t._day = e + 1, t.createBonusWidgetList()
                        })
                    }, o = this, _ = 0; _ < 7; _++) a(_);
                    this._contentNode = i.noxcc.find("Task_Down_ScrollView/view/content", this.mRoot), this._tmplNode = i.noxcc.find("grid", this._contentNode), i.noxcc.setActive(this._tmplNode, !1), i.noxcc.setParent(this._tmplNode, this.mRoot), this.createBonusWidgetList()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(_.Data.Event.achieve_list_dirty.addListener(this, function () {
                        t.createBonusWidgetList()
                    })), this.showTabFlag()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.createBonusWidgetList = function () {
                    var e = this;
                    this._contentNode.destroyAllChildren();
                    for (var t = [], n = P._playerBonus._bonusNoviceTask, a = 0; a < n.length; a++) Math.floor(n[a]._info._id / 10) % 10 == this._day && t.push(n[a]);
                    t.sort(function (e, t) {
                        return e.canClaim() != t.canClaim() ? e.canClaim() ? -1 : 1 : e._info.id - t._info.id
                    }), this._bonusInfos = t;
                    var o = function (n) {
                        var a = i.noxcc.instantiate(p._tmplNode);
                        i.noxcc.setActive(a, !0), i.noxcc.setParent(a, p._contentNode);
                        var o = void 0;
                        o = 809 == t[n]._info._cid || 811 == t[n]._info._cid ? string.format(c.lcStr(t[n]._info._nameSid), t[n]._info._val % 100) : 810 == t[n]._info._cid ? string.format(c.lcStr(t[n]._info._nameSid), c.lcStr(_.Data._levelInfo[t[n]._info._val]._nameSid)) : string.format(c.lcStr(t[n]._info._nameSid), t[n]._info._val);
                        var u = s.BonusWidget.create(r.lc.w(p._contentNode) - 10, t[n], o, "");
                        u.registerCallback(function () {
                            e.dealFacebookTask(t[n])
                        });
                        var g = Math.floor(t[n]._info._id / 10) % 10, h = l.nox.getDateTableFromTimeSeconds(P._regTime);
                        h.hours = 0, h.minutes = 0, h.seconds = 0, h.millSeconds = 0;
                        var f = l.nox.getTimeSecondsFromDateTable(h),
                            m = Math.floor((d.TimeUtil.getCurrentTime() - f) / 3600 / 24) + 1;
                        p._curDay = m, u.getButton().isEnabled() && m < g && u.getButton().setEnabled(!1), p._bonusNodes = i.noxcc.find("bonus", a), r.lc.addChildToCenter(p._bonusNodes, u.node)
                    }, p = this;
                    for (a = 0; a < t.length; a++) o(a);
                    this.showTabFlag()
                }, t.prototype.dealFacebookTask = function (e) {
                    e._info._val <= e._value ? e._isClaimed || (o.ClientView.showClaimBonusResult(e, p.ClientData.claimBonus(e)), this.createBonusWidgetList()) : this.gotoBonusTask(e)
                }, t.prototype.gotoBonusTask = function (e) {
                    var t = e._info._cid;
                    if (e.isChapter() || 1701 == t || 1702 == t || t >= 2e3 && t <= 2100) {
                        var n = u.ExpeditionScene.createWithLevel(_.Data._levelInfo[e._info._val]._id);
                        S.SceneManager.pushScene(n)
                    } else if (807 == t) {
                        n = u.ExpeditionScene.create();
                        S.SceneManager.pushScene(n)
                    } else if (809 == t || 811 == t) S.SceneManager.pushScene(T.TutorialScene.create(809 == t ? 20001 : 30001)); else if (801 == t || 806 == t) {
                        n = y.TavernScene.create();
                        S.SceneManager.pushScene(n)
                    } else if (803 == t || 804 == t) {
                        if (P.getMaxCharacterLevel() < _.Data.UNION_UNLOCK_LEVEL) return void g.ToastManager.push(string.format(c.lcStr(h.STR.UNIONSCENE_LOCKED), _.Data.UNION_UNLOCK_LEVEL));
                        n = f.UnionScene.create();
                        S.SceneManager.pushScene(n)
                    } else if (802 == t || 805 == t || 812 == t) {
                        if (!P.checkFindClash()) return void g.ToastManager.push(string.format(c.lcStr(h.STR.FINDSCENE_LOCKED), _.Data._levelInfo[_.Data.CLASH_UNLOCK_LEVEL]._id % 100, c.lcStr(_.Data._levelInfo[_.Data.CLASH_UNLOCK_LEVEL]._nameSid)), 0, !0);
                        n = m.FindScene.create();
                        S.SceneManager.pushScene(n)
                    }
                }, t.prototype.showTabFlag = function () {
                    for (var e = P._playerBonus._bonusNoviceTask, t = 0; t < 7; t++) {
                        for (var n = this._toggles[t].node, a = 0, i = [], r = 0; r < e.length; r++) Math.floor(e[r]._info._id / 10) % 10 == t + 1 && i.push(e[r]);
                        for (r = 0; r < i.length; r++) i[r]._value >= i[r]._info._val && !i[r]._isClaimed && a++;
                        t < this._curDay && o.ClientView.checkNewFlag(n, a, 24, 0)
                    }
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BasePage);
        n.NewbieTaskPage = C, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../scene/ExpeditionScene": "ExpeditionScene",
        "../../../scene/FindScene": "FindScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/TavernScene": "TavernScene",
        "../../../scene/TutorialScene": "TutorialScene",
        "../../../scene/UnionScene": "UnionScene",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "../../widget/BonusWidget": "BonusWidget"
    }],
    NodeUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cfc22NG/XlPI6ka1I6tHpxy", "NodeUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
                this.node = null, this.node = new cc.Node
            }

            return e.prototype.stopActionByTag = function (e) {
                this.node.stopActionByTag(e)
            }, e.prototype.removeFromParent = function (e) {
                this.node.removeFromParent(e)
            }, e.prototype.addChild = function (e, t, n) {
                this.node.addChild(e, t, n)
            }, e.prototype.setPosition = function (e, t, n) {
                this.node.setPosition(e, t, n)
            }, e.prototype.setVisible = function (e) {
                this.node.active = e
            }, e.prototype.getContentSize = function () {
                return this.node.getContentSize()
            }, e
        }();
        n.NodeUtil = a, cc._RF.pop()
    }, {}],
    NodeWithEditBox: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "415ebJA1xVPf4UdfBLscyFX", "NodeWithEditBox"), cc._RF.pop()
    }, {}],
    NodeWithImageFont: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5a2616O/k1Kw41XaW89axPe", "NodeWithImageFont"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../../leocool/lc"), o = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.createItem = function (e) {
                for (var t = 0, n = 0; n < e.length; n++) {
                    var o = a.SpriteUtil.createSprite(this.fontName + e[n]).node;
                    if (0 == n) {
                        var r = i.lc.h(o);
                        t = i.lc.w(o) + i.lc.D(this.padding, 0), this.setAnchorPoint(.5, .5), this.setContentSize(cc.size(t * e.length, r))
                    }
                    i.lc.addChildToPosLB(this, o, cc.p(t * (n + .5), i.lc.ch(o)))
                }
            }, t.prototype.setString = function (e) {
                this.removeAllChildren(), this.createItem(e)
            }, t.createImageFont = function (e, n, a) {
                var i = 0, o = "";
                "object" == typeof e && (i = e._padding, o = e._fontName), a && (i = a);
                var r = new t;
                return r.padding = i, r.fontName = o, r.createItem(n), r
            }, t
        }(cc.Node);
        n.NodeWithImageFont = o, cc._RF.pop()
    }, {"../../../leocool/lc": "lc", "../../utils/SpriteUtil": "SpriteUtil"}],
    NodeWithLabel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ee79chNjgBCW65cAlDo2avQ", "NodeWithLabel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../noxcc"), o = e("../../StaticPrefabMgr"), r = e("../../../nox"), _ = e("../../config/UICfg"),
            s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.initWithBMFont = function (e, t, n, a) {
                    var i = this._label = this.addComponent(cc.Label), r = o.StaticPrefabMgr.getLabelWithBMFont(e);
                    i.isSystemFontUsed = !1, i.font = r.font, i.fontSize = r.fontSize, i.lineHeight = i.fontSize, i.horizontalAlign = n, i.verticalAlign = cc.Label.VerticalAlign.CENTER, i.overflow = 0, i.string = t + "", null != a ? this.width = a : i._updateRenderData(!0)
                }, t.prototype.initWithTTF = function (e, t, n, a, i, _) {
                    var s = this._label = this.addComponent(cc.Label);
                    return a && this.setContentSize(a), a && 0 == a.height ? s.overflow = cc.Label.Overflow.RESIZE_HEIGHT : s.overflow = cc.Label.Overflow.NONE, s.fontSize = n, s.lineHeight = n + 2, s.enableWrapText = !0, s.overflow = 0, _ = r.nox.D(_, cc.Label.VerticalAlign.CENTER), null != i && (s.horizontalAlign = i), null != _ && (s.verticalAlign = _), s.string = e, o.StaticPrefabMgr.configDefaultTTFFont(s), a && this.setContentSize(cc.size(a.width, a.height || this.height)), s
                }, t.prototype.setString = function (e, t) {
                    this._label.string = e, (null == t || t) && this._label._updateRenderData(!0)
                }, t.prototype.getString = function () {
                    return this._label.string
                }, t.prototype.setNumber = function (e, t) {
                    this.setString(r.nox.toString(e), t)
                }, t.prototype.getNumber = function () {
                    return r.nox.toNumber(this._label.string)
                }, t.prototype.enableOutline = function (e, t) {
                    var n = this.getComponent(cc.LabelOutline) || this.addComponent(cc.LabelOutline);
                    n.color = e, n.width = t
                }, t.createWithBMFont = function (e, n, a, i) {
                    var o = new t;
                    return o.initWithBMFont(e, n, a, i), o
                }, t.createWithTTF = function (e, n, a, i, o, r) {
                    var _ = new t;
                    return _.initWithTTF(e, n, a, i, o, r), _
                }, t.createBMFont = function (e, n, a, o) {
                    null == a && (a = cc.Label.HorizontalAlign.LEFT), null == o && (o = null);
                    r.nox.isNumber(n);
                    if (e == _.UICfg.BMFont.num_48 || e == _.UICfg.BMFont.num_43 || e == _.UICfg.BMFont.num_24 || e == _.UICfg.BMFont.number) return s = t.createWithBMFont(e, n + "", a, o);
                    if (e == _.UICfg.BMFont.huali_20) {
                        var s = t.createWithTTF(n + "", _.UICfg.defaultUIFont, _.UICfg.FontSize.S3, null, a, cc.Label.VerticalAlign.TOP);
                        return i.noxcc.setLabelColor(s._label, _.UICfg.COLOR_BMFONT), s
                    }
                    if (e == _.UICfg.BMFont.huali_26) {
                        var s = t.createWithTTF(n + "", _.UICfg.defaultUIFont, _.UICfg.FontSize.S1, null, a, cc.Label.VerticalAlign.TOP);
                        return i.noxcc.setLabelColor(s._label, _.UICfg.COLOR_BMFONT), s
                    }
                    if (e == _.UICfg.BMFont.huali_32) {
                        s = t.createWithTTF(n + "", _.UICfg.defaultUIFont, _.UICfg.FontSize.M1, null, a, cc.Label.VerticalAlign.TOP);
                        return i.noxcc.setLabelColor(s._label, _.UICfg.COLOR_BMFONT), s
                    }
                    s = t.createWithTTF(n + "", _.UICfg.defaultUIFont, _.UICfg.FontSize.S1, null, a, cc.Label.VerticalAlign.TOP);
                    return i.noxcc.setLabelColor(s._label, _.UICfg.COLOR_BMFONT), s
                }, t.createTTF = function (e, n, a, o, s, c) {
                    var l = t.createWithTTF(e, _.UICfg.TTF_FONT, r.nox.D(n, _.UICfg.FontSize.S2), o, s, c);
                    return i.noxcc.setLabelColor(l._label, a || _.UICfg.COLOR_TEXT_LIGHT), l
                }, t
            }(cc.Node);
        n.NodeWithLabel = s, cc._RF.pop()
    }, {
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../config/UICfg": "UICfg"
    }],
    NodeWithListView: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "24eebQqtBVEL6BHNaOmDvxP", "NodeWithListView"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../StaticPrefabMgr"), i = e("../../../noxcc"), o = e("../../../nox"),
            r = e("../../utils/RichTextUtil"), _ = e("../../config/UICfg"), s = e("../../../leocool/lc"),
            c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, r) {
                    this.mRoot = t ? i.noxcc.instantiate(a.StaticPrefabMgr.getListHPrefab()) : i.noxcc.instantiate(a.StaticPrefabMgr.getListVPrefab()), this.mRoot.parent = this, this.setContentSize(e), this.mRoot.setContentSize(e), this.mLayout = this.mRoot.getComponentInChildren(cc.Layout), this.mScrollView = this.mRoot.getComponent(cc.ScrollView), this.mViewNode = this.mRoot.getChildByName("view"), this.mContentNode = this.mViewNode.getChildByName("content"), n = o.nox.D(n, 20), r = o.nox.D(r, 20), this.mLayout.paddingLeft = t ? n : 0, this.mLayout.paddingTop = t ? 0 : n, this.mLayout.paddingRight = t ? n : 0, this.mLayout.paddingBottom = t ? 0 : n, this.mLayout.spacingX = r, this.mLayout.spacingY = r, i.noxcc.addScrollBegan(this.mRoot, function () {
                    }), i.noxcc.addScrolling(this.mRoot, function () {
                        cc.log("-----------scrolling")
                    }), i.noxcc.addScrollEnded(this.mRoot, function () {
                    })
                }, t.prototype.bindData = function (e, n, a, i) {
                    this.removeAllItems(!0), this._data = e, null != e && (this._keepCount = o.nox.D(i, 0), this._cacheCount = o.nox.D(a, t.DEFAULT_CACHE_COUNT), this._dataFunc = n, this._indexBegin = 0, this._indexEnd = this._cacheCount)
                }, t.prototype.checkEmpty = function (e) {
                    if (0 == this.getItems().length) {
                        var t;
                        if (e) "string" == typeof e ? (t = r.RichTextUtil.createMultiLineText(e, {
                            _width: 600,
                            _fontSize: _.UICfg.FontSize.S1,
                            _boldClr: _.UICfg.COLOR_TEXT_LIGHT
                        })).horizontalAlign = cc.macro.TextAlignment.CENTER : t = e, this._emptyLabel && (this._emptyLabel.node.removeFromParent(!0), this._emptyLabel = null), this._emptyLabel = t, this.mRoot.addChild(this._emptyLabel.node);
                        return !0
                    }
                    return !1
                }, t.prototype.setDataToItems = function (e) {
                    if (null != this._data && null != this._dataFunc) {
                        if (e) this._indexBegin = 0, this._indexEnd = this._cacheCount; else {
                            var t = this._data.length;
                            this._indexBegin = t - this._cacheCount, this._indexEnd = t
                        }
                        for (var n = this.getItems(), a = this._indexBegin, i = 0; i < n.length; ++i) {
                            var o = n[i];
                            this._dataFunc(o, this._data[a]), ++a
                        }
                    }
                }, t.prototype.gotoLeft = function () {
                    this.mLayout.type == cc.Layout.Type.HORIZONTAL && (this.setDataToItems(!0), this.jumpToLeft())
                }, t.prototype.gotoRight = function () {
                    this.mLayout.type == cc.Layout.Type.HORIZONTAL && (this.setDataToItems(!1), this.jumpToRight())
                }, t.prototype.gotoTop = function () {
                    this.mLayout.type == cc.Layout.Type.VERTICAL && (this.setDataToItems(!0), this.jumpToTop())
                }, t.prototype.gotoBottom = function () {
                    this.mLayout.type == cc.Layout.Type.VERTICAL && (this.setDataToItems(!1), this.jumpToBottom())
                }, t.prototype.gotoPos = function (e) {
                    e = e >= 0 ? e : 0, this.setDataToItems(!1);
                    var t = this.mContentNode.getContentSize();
                    if (this.mLayout.type == cc.Layout.Type.VERTICAL) {
                        var n = t.height - s.lc.h(this);
                        n > 0 && this.jumpToPercentVertical(100 * e / n)
                    } else {
                        var a = t.width - s.lc.w(this);
                        a > 0 && this.jumpToPercentHorizontal(100 * e / a)
                    }
                }, t.prototype.isAtBegin = function () {
                    var e = this.mContentNode, t = e.x, n = e.y, a = this.getContentSize(), i = e.getContentSize();
                    return this.mLayout.type == cc.Layout.Type.VERTICAL ? Math.abs(n - (a.height - i.height)) < 1 : Math.abs(t) < 1
                }, t.prototype.isAtEnd = function () {
                    var e = this.mContentNode, t = e.getContentSize(), n = this.getContentSize(), a = e.x, i = e.y;
                    return this.mLayout.type == cc.Layout.Type.VERTICAL ? Math.abs(i) < 1 : Math.abs(a - (n.width - t.width)) < 1
                }, t.prototype.setBoundMargin = function (e) {
                    this.mLayout.paddingLeft = e, this.mLayout.paddingTop = e, this.mLayout.paddingRight = e, this.mLayout.paddingBottom = e
                }, t.prototype.getStartMargin = function () {
                    return this.mLayout.paddingLeft
                }, t.prototype.getEndMargin = function () {
                    return this.mLayout.paddingRight
                }, t.prototype.pushBackCustomItem = function (e) {
                    this.mLayout.node.addChild(e)
                }, t.prototype.insertCustomItem = function (e, t) {
                    this.mLayout.node.insertChild(e, t)
                }, t.prototype.getItems = function () {
                    return this.mLayout.node.children.slice()
                }, t.prototype.getItem = function (e) {
                    return e < 0 || e >= this.mLayout.node.children.length ? null : this.mLayout.node.children[e]
                }, t.prototype.removeItem = function (e, t) {
                    var n = this.getItem(e);
                    null != n && this.removeChild(n, !1 !== t)
                }, t.prototype.removeAllItems = function (e) {
                    !1 !== e ? i.noxcc.destroyAllChildren(this.mLayout.node) : this.mLayout.node.removeAllChildren(!1)
                }, t.prototype.removeItemWithCleanup = function (e, t) {
                    e.parent = null, !1 !== t && e.destroy()
                }, t.prototype.jumpToLeft = function () {
                }, t.prototype.jumpToRight = function () {
                }, t.prototype.jumpToTop = function () {
                }, t.prototype.jumpToBottom = function () {
                }, t.prototype.jumpToPercentVertical = function (e) {
                }, t.prototype.jumpToPercentHorizontal = function (e) {
                }, t.prototype.getInnerContainerSize = function () {
                    return this.mContentNode.getContentSize()
                }, t.prototype.getItemsMargin = function () {
                    return this.mLayout.paddingTop
                }, t.prototype.setBounceEnabled = function (e) {
                    this.mScrollView.elastic = e
                }, t.createH = function (e, n, a) {
                    var i = new t;
                    return i.init(e, !0, n, a), i
                }, t.createV = function (e, n, a) {
                    var i = new t;
                    return i.init(e, !1, n, a), i
                }, t.DEFAULT_CACHE_COUNT = 10, t.TAG_EMPTY_LABEL = 1e3, t
            }(cc.Node);
        n.NodeWithListView = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../config/UICfg": "UICfg",
        "../../utils/RichTextUtil": "RichTextUtil"
    }],
    NodeWithProgressBar: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ec19487gk5Ek5eX06m+eYsT", "NodeWithProgressBar"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/TimeUtil"), i = e("../../../nox"), o = e("../../config/UICfg"),
            r = e("../../utils/SpriteUtil"), _ = e("../../../noxcc"), s = e("../../../leocool/lc"),
            c = e("./NodeWithLabel"), l = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t._bar = null, t._label = null, t
                }

                return __extends(t, e), t.prototype.initProgressBar = function (e, t) {
                    var n = o.UICfg.CRECT_PROGRESS_BG.height, a = r.SpriteUtil.addSprite(this, {
                        _name: "img_progress_bg",
                        _crect: o.UICfg.CRECT_PROGRESS_BG,
                        _size: cc.size(e, n)
                    }), i = r.SpriteUtil.createScale9Sprite("img_progress_fg"), c = this.addComponent(cc.ProgressBar);
                    c.barSprite = i, c.mode = cc.ProgressBar.Mode.HORIZONTAL, this.setContentSize(e, n);
                    var l = i.node;
                    this.addChild(l), l.anchorX = 0, l.setContentSize(e - 6, o.UICfg.CRECT_PROGRESS_FG.height), l.setPosition(s.lc.aleft(this) + 3, 0), c.totalLength = l.width, c.progress = 0, _.noxcc.setSpriteColor(a, t || s.lc.Color3B.yellow), this._bar = c
                }, t.prototype.initLabel = function (e, t) {
                    s.lc.w(this), s.lc.h(this);
                    var n = c.NodeWithLabel.createBMFont(e || o.UICfg.BMFont.huali_26, "");
                    n.setScale(.9), t && _.noxcc.setLabelColor(n, t), this.addLabel(n)
                }, t.prototype.addLabel = function (e) {
                    this._label = e, this.addChild(e)
                }, t.prototype.setLabel = function (e, t, n) {
                    t ? n ? this._label.setString(a.TimeUtil.formatNum(e, 99999) + "/" + a.TimeUtil.formatNum(t, 99999)) : this._label.setString(string.format("%d/%d", e, t)) : this._label.setString(e.toString())
                }, t.prototype.getLabel = function () {
                    return this._label.getComponent(cc.Label)
                }, t.prototype.getProgressBar = function () {
                    return this.getComponent(cc.ProgressBar)
                }, t.prototype.setProgress = function (e) {
                    this.getProgressBar().progress = e
                }, t.prototype.setPercent = function (e) {
                    this.getProgressBar().progress = e / 100
                }, t.prototype.setBarColor = function (e) {
                    this.getProgressBar().barSprite.node.color = e
                }, t.prototype.setTiem = function (e, t, n) {
                    var a = this.getLabel(), i = this.getProgressBar();
                    a && (n ? (a.string = string.format("%d", e), i.progress = e / t) : Math.floor(e) === e && Math.floor(t) === t && e <= t && (a.string = string.format("%d:%d:%d", Math.floor(e / 3600), Math.floor(e / 60) % 60, e % 60), i.progress = e / t))
                }, t.prototype.setLabelString = function (e, t, n, o) {
                    var r = this.getLabel();
                    this.getProgressBar();
                    r.string = o ? string.format("%dK/%dK", Math.floor(e / 1e3), Math.floor(t / 1e3)) : null != t ? n ? a.TimeUtil.formatNum(e, 99999) + "/" + a.TimeUtil.formatNum(t, 99999) : string.format("%d/%d", e, t) : i.nox.toString(e)
                }, t.createProgressBar = function (e, n) {
                    var a = new t;
                    return a.initProgressBar(e, n), a
                }, t.createLabelProgressBar = function (e, n, a, i) {
                    var o = new t;
                    return o.initProgressBar(e, i), o.initLabel(n, a), o
                }, t
            }(cc.Node);
        n.NodeWithProgressBar = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    NodeWithShaderButton: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b0114da6VpEYL6GEbobsqRM", "NodeWithShaderButton"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../framework/NoxResMgr"), i = e("../../config/UICfg"), o = e("../../../noxcc"),
            r = e("../../../leocool/lc"), _ = e("../../utils/SpriteUtil"), s = e("./NodeWithLabel"),
            c = e("../../../leocool/lcStr"), l = e("../../StringEnums"), d = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    var t = this;
                    this._sprite = _.SpriteUtil.addSprite(this, e);
                    var n = this.addComponent(cc.Button);
                    n.target = this, n.transition = cc.Button.Transition.SCALE, n.zoomScale = .95, n.duration = .1, n.enableAutoGrayEffect = !0, o.noxcc.addClick(t, t, function () {
                        t._callback && t._callback(t)
                    })
                }, t.prototype.initShaderButton = function (e, t, n, a) {
                    var o = "img_blank" == (e = r.lc.D(e, "img_blank"));
                    this.init(e);
                    var _ = this._sprite;
                    o && (_.type = cc.Sprite.Type.SLICED, _.sizeMode = cc.Sprite.SizeMode.CUSTOM), null != n && (this.x = n), null != a && (this.y = a), this.setZoomScale(.9), this.setPressedActionEnabled(!0), this.setPressedShader(i.UICfg.SHADER_PRESS), this._callback = t
                }, t.prototype.initScale9ShaderButton = function (e, t, n, a, i) {
                    this.initShaderButton(e, t), this.setScale9Enabled(!0), this.setCapInsets(n), this.setContentSize(r.lc.D(a, 0), r.lc.D(i, n.height))
                }, t.prototype.setZoomScale = function (e) {
                }, t.prototype.setPressedShader = function (e) {
                }, t.prototype.setPressedActionEnabled = function (e) {
                }, t.prototype.setTouchEndCancelRange = function (e) {
                }, t.prototype.setScale9Enabled = function (e) {
                    e ? (this._sprite.type = cc.Sprite.Type.SLICED, this._sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM) : this._sprite.type = cc.Sprite.Type.SIMPLE
                }, t.prototype.setCapInsets = function (e) {
                }, t.prototype.setDisplayFrame = function (e) {
                    var t = this.getComponent(cc.Sprite);
                    a.NoxResMgr.setSpriteFrameAsync(t, e)
                }, t.prototype.addLabel = function (e, t, n) {
                    cc.assert(null == this._label, "label already exists");
                    var a = s.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_26, e);
                    null != t && o.noxcc.setLabelColor(a, t), null != n && (a._label.fontSize = n, a._label.lineHeight = n + 10, a._label.verticalAlign = cc.Label.VerticalAlign.CENTER), r.lc.addChildToPosAR(this, a, cc.v2(0, 1)), this._label = a, null != this._icon && (r.lc.offset(a, 16), this._icon.node.x = 30 - this.width / 2)
                }, t.prototype.addIcon = function (e) {
                    var t = _.SpriteUtil.createSprite(e);
                    r.lc.addChildToPosAR(this, t.node, cc.p(0, 1)), this._icon = t, null != this._label && (r.lc.offset(this._label, 16), t.node.x = 30 - this.width / 2)
                }, t.prototype.removeIcon = function () {
                    null != this._icon && (this._icon.node.removeFromParent(), this._icon = null, null != this._label && (this._label.x = 0))
                }, t.prototype.setDisabledShader = function (e) {
                }, t.prototype.setLabelString = function (e) {
                    this._label.setString(e)
                }, t.prototype.setEnabled = function (e) {
                    this.getComponent(cc.Button).interactable = e
                }, t.prototype.isEnabled = function () {
                    return this.getComponent(cc.Button).interactable
                }, t.createShaderButton = function (e, n, a, i) {
                    var o = new t;
                    return o.initShaderButton(e, n, a, i), o
                }, t.createScale9ShaderButton = function (e, n, a, i, o) {
                    var r = new t;
                    return r.initScale9ShaderButton(e, n, a, i, o), r
                }, t.createChargeButton = function (e, n) {
                    var a = t.createScale9ShaderButton("img_btn_blue_s", n, i.UICfg.CRECT_BUTTON_S, e);
                    return a.addLabel(c.lcStr(l.STR.RECHARGE)), a
                }, t
            }(cc.Node);
        n.NodeWithShaderButton = d, cc._RF.pop()
    }, {
        "../../../framework/NoxResMgr": "NoxResMgr",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    NodeWithShaderSprite: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f80b0YmK3JJ94g45klAinQd", "NodeWithShaderSprite"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.init = function () {
                this._sprite = this.addComponent(cc.Sprite)
            }, t.prototype.setEffect = function (e) {
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t
        }(cc.Node);
        n.NodeWithShaderSprite = a, cc._RF.pop()
    }, {}],
    NoticeManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "57a5f9FJepOmbLDcyLQWLSx", "NoticeManager"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./data/data"), o = e("./utils/RichTextUtil"), r = e("../leocool/lcStr"),
            _ = e("./StringEnums"), s = e("../noxcc"), c = e("./const/ZOrder"), l = e("../leocool/lc"),
            d = e("../framework/NoxViewMgr"), p = e("./StaticPrefabMgr"), u = e("./config/UICfg");
        (function (e) {
            var t = 640, n = 400, g = 4, h = 4, f = 2, m = 2, y = null, T = {}, S = [], C = null, v = null, b = null;

            function E(e, n, i, o) {
                var r = B();
                if (null == r) return e.destroy(), o;
                if (null != o && null != T[o]) return e.destroy(), o;
                for (var _ = 1; null != T[_];) _ += 1;
                e.getComponent(cc.RichText) && (e.getComponent(cc.RichText).maxWidth = t);
                var d = s.noxcc.instantiate(y), p = s.noxcc.findButton("CloseBtn", d);
                return s.noxcc.addClick(p, function () {
                    I(_)
                }), d.setContentSize(2 * g + t + f + p.node.width, Math.max(e.height, p.node.height) + 2 * h), d.opacity = 250, s.noxcc.setParent(e, d), "push_notice_maintenance" == n ? e.setPosition(0, 0) : e.setPosition(l.lc.aleft(d) + l.lc.asw(e) + g, 0), r.addChild(d, c.ZOrder.toast), A(), S.length > 0 ? d.setPosition(0, a.nox.top(S[0]) + a.nox.ash(d) + m) : d.setPosition(0, a.nox.atop(r) + a.nox.ash(d)), T[_] = d, S.unshift(d), null != i && d.runAction(cc.sequence(cc.delayTime(i), cc.callFunc(function () {
                    I(_)
                }))), _
            }

            function I(e) {
                if (null != T[e]) {
                    var t = T[e];
                    s.noxcc.destroy(t), delete T[e], A()
                }
            }

            function A() {
                S = a.nox.values(T).sort(function (e, t) {
                    return a.nox.y(t) - a.nox.y(e)
                })
            }

            function R(e) {
                var t = B();
                if (S.length > 0) for (var i = 0; i < S.length; ++i) {
                    var o;
                    o = 0 == i ? a.nox.atop(t) - a.nox.astop(S[i]) : a.nox.bottom(S[i - 1]) - m - a.nox.astop(S[i]);
                    var r = a.nox.y(S[i]);
                    S[i].y = o > r ? Math.min(r + n * e, o) : Math.max(r - n * e, o)
                }
            }

            function B() {
                return d.NoxViewMgr.getRunningScene().getSceneNode()
            }

            e.init = function () {
                y = p.StaticPrefabMgr.getNoticePrefab(), null == C && (C = a.nox.scheduleUpdate(R, 0)), null == v && (v = i.Data.Event.push_notice.addListener(null, function (e) {
                    var t = o.RichTextUtil.newRichText();
                    o.RichTextUtil.appendText(t, string.format(r.lcStr(_.STR.BRACKETS_S), e._title), u.UICfg.COLOR_LABEL_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendBoldRichText(t, e._content, {
                        _normalClr: u.UICfg.COLOR_TEXT_WHITE,
                        _boldClr: u.UICfg.COLOR_TEXT_RED_DARK,
                        _fontSize: u.UICfg.FontSize.S1
                    }), E(t.node, e.__myType, e._isImportant ? -1 : 5)
                })), null == b && (b = i.Data.Event.bonus_dirty.addListener(null, function (e) {
                    var t = e._bonus;
                    if (null != t._info) {
                        var n, a = e._lastValue;
                        if (n = a ? a < t._info._val && t._value >= t._info._val : t._value == t._info._val, t._type == i.Data.BonusType.daily_task) {
                            if (!t._isClaimed && n) {
                                var s = o.RichTextUtil.newRichText();
                                o.RichTextUtil.appendText(s, string.format(r.lcStr(_.STR.BRACKETS_S), r.lcStr(_.STR.DAILY_TASK)), u.UICfg.COLOR_LABEL_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, r.lcStr(t._info._nameSid), u.UICfg.COLOR_TEXT_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, r.lcStr(_.STR.FINISHED), u.UICfg.COLOR_TEXT_GREEN_DARK, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), E(s.node, "", 5)
                            }
                        } else if (t._type == i.Data.BonusType.novice) !t._isClaimed && n && (s = o.RichTextUtil.newRichText(), o.RichTextUtil.appendText(s, string.format(r.lcStr(_.STR.BRACKETS_S), r.lcStr(_.STR.NOVICE_TASK)), u.UICfg.COLOR_LABEL_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, r.lcStr(t._info._nameSid), u.UICfg.COLOR_TEXT_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, r.lcStr(_.STR.FINISHED), u.UICfg.COLOR_TEXT_GREEN_DARK, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), E(s.node, "", 5)); else for (var c in P._playerAchieve._mainTasks) {
                            var l = P._playerAchieve._mainTasks[c];
                            if (l.isDefaultValid() && l._info._bonusId == t._infoId && !t._isClaimed && n) {
                                s = o.RichTextUtil.newRichText(), o.RichTextUtil.appendText(s, string.format(r.lcStr(_.STR.BRACKETS_S), r.lcStr(_.STR.MAIN_TASK)), u.UICfg.COLOR_LABEL_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, l.getDesc(), u.UICfg.COLOR_TEXT_LIGHT, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), o.RichTextUtil.appendText(s, r.lcStr(_.STR.FINISHED), u.UICfg.COLOR_TEXT_GREEN_DARK, u.UICfg.FontSize.S1, u.UICfg.TTF_FONT), E(s.node, "", 5);
                                break
                            }
                        }
                    }
                }))
            }, e.shut = function () {
                C && (a.nox.unscheduleUpdate(C), C = null), v && (v.remove(), v = null), b && (b.remove(), b = null)
            }, e.show = E, e.hide = I, e.hideAll = function () {
                for (var e in T) T[e], I(a.nox.toNumber(e))
            }, e.bindToRunningScene = function () {
                var e = B();
                for (var t in T) {
                    var n = T[t];
                    null == n.getParent() && (n.zIndex = c.ZOrder.toast, n.parent = e)
                }
            }, e.unbindFromRunningScene = function () {
                for (var e in T) {
                    var t = T[e];
                    null != t.parent && (t.parent = null)
                }
                T = {}, S = []
            }, e.sortPanels = A
        })(n.NoticeManager || (n.NoticeManager = {})), cc._RF.pop()
    }, {
        "../framework/NoxViewMgr": "NoxViewMgr",
        "../leocool/lc": "lc",
        "../leocool/lcStr": "lcStr",
        "../nox": "nox",
        "../noxcc": "noxcc",
        "./StaticPrefabMgr": "StaticPrefabMgr",
        "./StringEnums": "StringEnums",
        "./config/UICfg": "UICfg",
        "./const/ZOrder": "ZOrder",
        "./data/data": "data",
        "./utils/RichTextUtil": "RichTextUtil"
    }],
    NovicePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "17371mbt9hP8qt/WjBqd+xw", "NovicePanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../leocool/lcStr"), r = e("../../../StringEnums"),
            _ = e("../../node/NodeWithListView"), s = e("./CheckinBonusWidget"), c = e("../../../ClientView"),
            l = e("../../../ClientData"), d = e("../../../utils/MsgCenter"), p = e("../../../../noxcc"),
            u = function (e) {
                function t() {
                    return e.call(this, "form/CheckInForm/NovicePanel") || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.bonusList = _.NodeWithListView.createV(cc.size(0, 0), 16, 10), this.moban = s.CheckinBonusWidget.create(null, null)
                }, t.prototype.onInitWidget = function () {
                    this.mcontent = cc.find("View/content", this.mRoot)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.updateview(), d.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0)
                }, t.prototype.onExit = function () {
                    d.MsgCenter.removeMsgListener(this), e.prototype.onExit.call(this)
                }, t.prototype.onReleaseWidget = function () {
                }, t.prototype.updateview = function () {
                    var e = P._playerBonus.splitBonus(P._playerBonus._bonusLogin, function (e, t) {
                        return {_bonus: t, _label: string.format(o.lcStr(r.STR.DATE_NUM), t._info._val)}
                    }), t = e[0], n = e[1], a = e[2];
                    this._bonuses = [].concat(t, n, a), this.mcontent.removeAllChildren();
                    for (var i = 0; i < this._bonuses.length; i++) {
                        var _ = this._bonuses[i], d = p.noxcc.newNode("Bonusparent");
                        d.setContentSize(680, 0);
                        var u = d.addComponent(cc.Layout);
                        u.type = cc.Layout.Type.VERTICAL, u.resizeMode = cc.Layout.ResizeMode.CONTAINER;
                        var g = s.CheckinBonusWidget.create(_._label, _._bonus);
                        g.registerClaimHandler(function (e) {
                            var t = l.ClientData.claimBonus(e);
                            c.ClientView.showClaimBonusResult(e, t)
                        }), this.mcontent.addChild(d), g.show(d)
                    }
                }, t.prototype.onMsg = function (e) {
                    return e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_CLAIM && (c.ClientView.getActiveIndicator().hide(), this.updateview(), !0)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePage);
        n.NovicePanel = u, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView",
        "./CheckinBonusWidget": "CheckinBonusWidget"
    }],
    NoxComponent: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3a8d5ewTSpBUaxuFRwazTfU", "NoxComponent");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../nox"), o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.mProtectedChildren = [], t
            }

            return a(t, e), t.prototype.getRoot = function () {
                return this.node
            }, t.prototype.addProtectedChild = function (e) {
                i.nox.addUniqueItem(this.mProtectedChildren, e), this.getRoot().addChild(e)
            }, t.prototype.removeAllChildren = function () {
                var e = this.getRoot().children;
                if (e && e.length > 0) for (var t = e.length - 1; t >= 0; --t) {
                    var n = e[t];
                    i.nox.hasUniqueItem(this.mProtectedChildren, n) || (n.parent = null, n.destroy())
                }
            }, t.prototype.onLoad = function () {
            }, t.prototype.onEnable = function () {
            }, t.prototype.onDisable = function () {
            }, t.prototype.onDestroy = function () {
            }, t.prototype._onPreDestroy = function () {
                e.prototype._onPreDestroy.call(this), this.onCleanup()
            }, t.prototype.onCleanup = function () {
            }, t
        }(cc.Component);
        n.NoxComponent = o, cc._RF.pop()
    }, {"../nox": "nox"}],
    NoxLabelExt: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "20bef8IwotMVZlzjd9/ZfbB", "NoxLabelExt");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }(), i = this && this.__decorate || function (e, t, n, a) {
            var i, o = arguments.length, r = o < 3 ? t : null === a ? a = Object.getOwnPropertyDescriptor(t, n) : a;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, n, a); else for (var _ = e.length - 1; _ >= 0; _--) (i = e[_]) && (r = (o < 3 ? i(r) : o > 3 ? i(t, n, r) : i(t, n)) || r);
            return o > 3 && r && Object.defineProperty(t, n, r), r
        };
        Object.defineProperty(n, "__esModule", {value: !0});
        var o = e("../src/leocool/lcStr"), r = e("./EnumFontSize"), _ = e("../src/game/StaticPrefabMgr"),
            s = cc._decorator, c = s.ccclass, l = s.property, d = s.executeInEditMode, p = s.requireComponent,
            u = s.executionOrder, g = s.disallowMultiple;
        (function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t._fontSize = null, t._extraLineHeight = 0, t._ignoreLocaleFont = !1, t._strID = 0, t
            }

            a(t, e), Object.defineProperty(t.prototype, "fontSize", {
                get: function () {
                    return this._fontSize || 0
                }, set: function (e) {
                    this._fontSize != e && (this._fontSize = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "extraLineHeight", {
                get: function () {
                    return this._extraLineHeight || 0
                }, set: function (e) {
                    this._extraLineHeight != e && (this._extraLineHeight = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "ignoreLocaleFont", {
                get: function () {
                    return this._ignoreLocaleFont || !1
                }, set: function (e) {
                    this._ignoreLocaleFont != e && (this._ignoreLocaleFont = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "strID", {
                get: function () {
                    return this._strID || 0
                }, set: function (e) {
                    this._strID != e && (this._strID = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), t.prototype.onLoad = function () {
                this._applyChange()
            }, t.prototype._applyChange = function () {
                var e = this.node.getComponent(cc.Label);
                if (e) {
                    var t = this.fontSize;
                    if (t && t > 0) {
                        var n = r.EnumFontSizeList[t - 1];
                        e.fontSize = n;
                        var a = this.extraLineHeight;
                        a >= 0 && (e.lineHeight = n + a)
                    }
                    this._ignoreLocaleFont || _.StaticPrefabMgr.configDefaultTTFFont(e);
                    var i = this.strID;
                    i && i > 0 && (e.string = o.lcStr(i))
                }
            }, i([l({
                type: cc.Enum(r.EnumFontSize),
                visible: !1
            })], t.prototype, "_fontSize", void 0), i([l({
                type: cc.Integer,
                visible: !1
            })], t.prototype, "_extraLineHeight", void 0), i([l({visible: !1})], t.prototype, "_ignoreLocaleFont", void 0), i([l({
                type: cc.Integer,
                visible: !1
            })], t.prototype, "_strID", void 0), i([l({
                type: cc.Enum(r.EnumFontSize),
                displayName: "Enum font size",
                tooltip: "Enum font size for label"
            })], t.prototype, "fontSize", null), i([l({
                type: cc.Integer,
                displayName: "Extra Line Height",
                tooltip: "Extra Line Height for label"
            })], t.prototype, "extraLineHeight", null), i([l({
                type: cc.Boolean,
                displayName: "Ignore Locale Font",
                tooltip: "Ignore Locale Font for label"
            })], t.prototype, "ignoreLocaleFont", null), i([l({
                type: cc.Integer,
                displayName: "String ID",
                tooltip: "String ID for label"
            })], t.prototype, "strID", null), t = i([c, d, p(cc.Label), u(1), g], t)
        })(cc.Component);
        cc._RF.pop()
    }, {
        "../src/game/StaticPrefabMgr": "StaticPrefabMgr",
        "../src/leocool/lcStr": "lcStr",
        "./EnumFontSize": "EnumFontSize"
    }],
    NoxResMgr: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "88250G9669GH58woikEPLMV", "NoxResMgr"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../noxcc"), i = (e("../nox"), e("../game/AllSpriteFrames"));
        (function (e) {
            function t(e, t) {
                var n = i.AllSpriteFrames[e] || e;
                a.noxcc.loadSpriteFrame(n, t)
            }

            function n(e, t) {
                return e = "spine/" + (e = e.replace(/.*\//g, "")), a.noxcc.loadSkeletonData(e, t)
            }

            function o(e, t) {
                return e = "particle/" + (e = e.replace(/.*\//g, "")), a.noxcc.loadParticleAsset(e, t)
            }

            function r(e, t) {
                a.noxcc.loadPrefab(e, t)
            }

            function _(e, t) {
                a.noxcc.loadAnimationClip(e, t)
            }

            e.loadSpriteFrameAsync = t, e.setSpriteFrameAsync = function (e, n, i) {
                var o = e instanceof cc.Sprite ? e : a.noxcc.getSprite(e),
                    r = o.__spriteFrameVersion = (o.__spriteFrameVersion || 0) + 1;
                t(n, function (t) {
                    t && a.noxcc.isValid(t) && a.noxcc.isValid(e) && r == o.__spriteFrameVersion && (a.noxcc.setSpriteFrame(e, t), i && i(t))
                })
            }, e.loadSkeletonAsync = n, e.setSkeletonAnimAsync = function (e, t, i, o, r, _) {
                var s = e instanceof sp.Skeleton ? e : e.getComponent(sp.Skeleton),
                    c = s.__animationVersion = (s.__animationVersion || 0) + 1;
                n(t, function (e) {
                    e && a.noxcc.isValid(e) && a.noxcc.isValid(s) && c == s.__animationVersion && (s.skeletonData = e, null != i && s.setSkin(i), null != o && s.setAnimation(1, o, r), _ && _(s.node))
                })
            }, e.loadParticleAsync = o, e.setParticleAsync = function (e, t, n, i) {
                var r = e instanceof cc.ParticleSystem ? e : e.getComponent(cc.ParticleSystem),
                    _ = r.__particleVersion = (r.__particleVersion || 0) + 1;
                o(t, function (e) {
                    e && a.noxcc.isValid(e) && a.noxcc.isValid(r) && r.__particleVersion == _ && (r.file = e, i && i(r.node))
                })
            }, e.loadPrefabAsync = r, e.setPrefabToParentAsync = function (e, t, n) {
                r(t, function (t) {
                    if (t && a.noxcc.isValid(t)) {
                        var i = a.noxcc.instantiate(t);
                        a.noxcc.setParent(i, e), n && n(i)
                    }
                })
            }, e.loadAnimClipAsync = _, e.playAnimClipAsync = function (e, t, n) {
                _(t, function (t) {
                    if (t && a.noxcc.isValid(e)) {
                        var n = t.name;
                        a.noxcc.playAnimClip(e, n)
                    }
                })
            }
        })(n.NoxResMgr || (n.NoxResMgr = {})), cc._RF.pop()
    }, {"../game/AllSpriteFrames": "AllSpriteFrames", "../nox": "nox", "../noxcc": "noxcc"}],
    NoxResPath: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6d7f7i6Gb9NHrhaEg1J5pbi", "NoxResPath"), Object.defineProperty(n, "__esModule", {value: !0}), n.NoxResPath = {viewPath: "view/"}, cc._RF.pop()
    }, {}],
    NoxRichTextExt: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d2856iFuN1O+73e9fx6HdlO", "NoxRichTextExt");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }(), i = this && this.__decorate || function (e, t, n, a) {
            var i, o = arguments.length, r = o < 3 ? t : null === a ? a = Object.getOwnPropertyDescriptor(t, n) : a;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) r = Reflect.decorate(e, t, n, a); else for (var _ = e.length - 1; _ >= 0; _--) (i = e[_]) && (r = (o < 3 ? i(r) : o > 3 ? i(t, n, r) : i(t, n)) || r);
            return o > 3 && r && Object.defineProperty(t, n, r), r
        };
        Object.defineProperty(n, "__esModule", {value: !0});
        var o = e("../src/leocool/lcStr"), r = e("./EnumFontSize"), _ = e("../src/game/StaticPrefabMgr"),
            s = cc._decorator, c = s.ccclass, l = s.property, d = s.executeInEditMode, p = s.requireComponent,
            u = s.executionOrder, g = s.disallowMultiple;
        (function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t._fontSize = null, t._extraLineHeight = 0, t._ignoreLocaleFont = !1, t._strID = 0, t
            }

            a(t, e), Object.defineProperty(t.prototype, "fontSize", {
                get: function () {
                    return this._fontSize || 0
                }, set: function (e) {
                    this._fontSize != e && (this._fontSize = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "extraLineHeight", {
                get: function () {
                    return this._extraLineHeight || 0
                }, set: function (e) {
                    this._extraLineHeight != e && (this._extraLineHeight = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "ignoreLocaleFont", {
                get: function () {
                    return this._ignoreLocaleFont || !1
                }, set: function (e) {
                    this._ignoreLocaleFont != e && (this._ignoreLocaleFont = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(t.prototype, "strID", {
                get: function () {
                    return this._strID || 0
                }, set: function (e) {
                    this._strID != e && (this._strID = e, this._applyChange())
                }, enumerable: !0, configurable: !0
            }), t.prototype.onLoad = function () {
                this._applyChange()
            }, t.prototype._applyChange = function () {
                var e = this.node.getComponent(cc.RichText);
                if (e) {
                    var t = this.fontSize;
                    if (t && t > 0) {
                        var n = r.EnumFontSizeList[t - 1];
                        e.fontSize = n;
                        var a = this.extraLineHeight;
                        a >= 0 && (e.lineHeight = n + a)
                    }
                    this._ignoreLocaleFont || _.StaticPrefabMgr.configDefaultTTFFont(e);
                    var i = this.strID;
                    i && i > 0 && (e.string = o.lcStr(i))
                }
            }, i([l({
                type: cc.Enum(r.EnumFontSize),
                visible: !1
            })], t.prototype, "_fontSize", void 0), i([l({
                type: cc.Integer,
                visible: !1
            })], t.prototype, "_extraLineHeight", void 0), i([l({visible: !1})], t.prototype, "_ignoreLocaleFont", void 0), i([l({
                type: cc.Integer,
                visible: !1
            })], t.prototype, "_strID", void 0), i([l({
                type: cc.Enum(r.EnumFontSize),
                displayName: "Enum font size",
                tooltip: "Enum font size for label"
            })], t.prototype, "fontSize", null), i([l({
                type: cc.Integer,
                displayName: "Extra Line Height",
                tooltip: "Extra Line Height for label"
            })], t.prototype, "extraLineHeight", null), i([l({
                type: cc.Boolean,
                displayName: "Ignore Locale Font",
                tooltip: "Ignore Locale Font for label"
            })], t.prototype, "ignoreLocaleFont", null), i([l({
                type: cc.Integer,
                displayName: "String ID",
                tooltip: "String ID for label"
            })], t.prototype, "strID", null), t = i([c, d, p(cc.RichText), u(1), g], t)
        })(cc.Component);
        cc._RF.pop()
    }, {
        "../src/game/StaticPrefabMgr": "StaticPrefabMgr",
        "../src/leocool/lcStr": "lcStr",
        "./EnumFontSize": "EnumFontSize"
    }],
    NoxScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "66cca4SaG5P2pcMVRAwJ7BK", "NoxScene"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../noxcc"), i = e("./NoxViewMgr"), o = e("./NoxTipWidget"), r = e("../leocool/lc"), _ = function () {
            function e() {
                this.mSceneNode = null, this.mViewStack = []
            }

            return e.prototype.onCreate = function () {
            }, e.prototype.onDestroy = function () {
            }, e.prototype.onEnter = function () {
            }, e.prototype.onExit = function () {
            }, e.prototype.onSuspend = function () {
            }, e.prototype.onResume = function () {
            }, e.prototype.create = function () {
                if (null == this.mSceneNode) {
                    var e = i.NoxViewMgr.getRoot();
                    this.createSceneNode(e), this.onCreate()
                }
            }, e.prototype.destroy = function () {
                if (this.mSceneNode) {
                    for (this.onDestroy(); this.mViewStack.length;) {
                        this.mViewStack[this.mViewStack.length - 1];
                        this.removeView(this.mViewStack[this.mViewStack.length - 1], !1, !0)
                    }
                    a.noxcc.destroy(this.mSceneNode), this.mSceneNode = null
                }
            }, e.prototype.enter = function () {
                i.NoxViewMgr.getRoot().addChild(this.mSceneNode), this.activeViews(), this.onEnter()
            }, e.prototype.exit = function () {
                this.mSceneNode.parent = null, this.deactiveViews(), this.onExit()
            }, e.prototype.isRunning = function () {
                return this.mSceneNode && this.mSceneNode.activeInHierarchy
            }, e.prototype.deactiveViews = function () {
                for (var e = this.mViewStack.length - 1; e >= 0; --e) {
                    this.mViewStack[e].doDeactiveView()
                }
            }, e.prototype.activeViews = function () {
                for (var e = 0; e < this.mViewStack.length; ++e) {
                    this.mViewStack[e].doActiveView()
                }
            }, e.prototype.calcViewIndex = function (e) {
                for (var t = 0; t < this.mViewStack.length; ++t) {
                    var n = this.mViewStack[t];
                    if (e.getZOrder() < n.getZOrder()) return t
                }
                return this.mViewStack.length
            }, e.prototype.findView = function (e) {
                for (var t = this.mViewStack.length - 1; t >= 0; --t) {
                    var n = this.mViewStack[t];
                    if (n.getViewType() == e) return n
                }
                return null
            }, e.prototype.getAllViews = function () {
                return this.mViewStack.slice()
            }, e.prototype.addView = function (e) {
                o.NoxTipWidget.hideCurrentTipWidget();
                var t = this.calcViewIndex(e);
                t >= this.mViewStack.length ? this.mViewStack.push(e) : this.mViewStack.splice(t, 0, e), e.doShowView(this), this.checkAllViewStates()
            }, e.prototype.removeView = function (e, t, n) {
                o.NoxTipWidget.hideCurrentTipWidget();
                var a = this.mViewStack.indexOf(e);
                a >= 0 && (this.mViewStack.splice(a, 1), e.doHideView(t, n), this.checkAllViewStates())
            }, e.prototype.checkAllViewStates = function () {
            }, e.prototype.makeAsTopView = function (e) {
                var t = this.mViewStack.indexOf(e);
                t >= 0 && (this.mViewStack.splice(t, 1), (t = this.calcViewIndex(e)) >= this.mViewStack.length ? this.mViewStack.push(e) : this.mViewStack.splice(t, 0, e), this.checkAllViewStates(), e.getRootNode() && e.isRunning() && !e.isPlayOpeningAnim() && e.playOpenAnim())
            }, e.prototype.createSceneNode = function (e) {
                var t = r.lc.createNodeAndFullSize();
                t.setContentSize(e.getContentSize()), this.mSceneNode = t
            }, e.prototype.processUpdate = function (e) {
                for (var t = this.mViewStack.slice(0), n = t.length - 1; n >= 0; --n) {
                    var a = t[n];
                    a.isRunning() && a.onUpdate(e)
                }
            }, e.prototype.getSceneNode = function () {
                return this.mSceneNode
            }, e
        }();
        n.NoxScene = _, cc._RF.pop()
    }, {"../leocool/lc": "lc", "../noxcc": "noxcc", "./NoxTipWidget": "NoxTipWidget", "./NoxViewMgr": "NoxViewMgr"}],
    NoxTipWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0ff175+anNAFp20RzhYnr2B", "NoxTipWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NoxViewMgr"), i = e("../game/const/ZOrder"), o = e("./NoxComponent"), r = e("../leocool/lc"),
            _ = e("../nox"), s = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return __extends(t, e), t.prototype.onLoad = function () {
                    e.prototype.onLoad.call(this), this.node.zIndex = i.ZOrder.tip
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this), t.hideCurrentTipWidget(), t.gCurrentTipWidget = this
                }, t.prototype.onDisable = function () {
                    t.gCurrentTipWidget = null, e.prototype.onDisable.call(this)
                }, t.prototype.show = function (e, t) {
                    var n = r.lc.w(this.node) / 2, a = r.lc.h(this.node) / 2, i = this.getTargetParent();
                    if (e) {
                        var o = cc.v2(_.nox.cx(e), _.nox.atop(e)).add(cc.v2(0, a + _.nox.D(t, 6))),
                            s = r.lc.convertPosAR(o, e, i);
                        s.x - n < r.lc.aleft(i) ? s.x = n + r.lc.aleft(i) : s.x + n > r.lc.aright(i) && (s.x = r.lc.aright(i) - n), s.y + a > r.lc.atop(i) ? s.y = r.lc.atop(i) - a : s.y - a < r.lc.abottom(i) && (s.y = a + r.lc.abottom(i)), this.node.setPosition(s)
                    }
                    i.addChild(this.node)
                }, t.prototype.hide = function () {
                    this.node.destroy()
                }, t.prototype.getTargetParent = function () {
                    return a.NoxViewMgr.getRunningScene().getSceneNode()
                }, t.hideCurrentTipWidget = function () {
                    t.gCurrentTipWidget && t.gCurrentTipWidget.hide()
                }, t.gCurrentTipWidget = null, t
            }(o.NoxComponent);
        n.NoxTipWidget = s, cc._RF.pop()
    }, {
        "../game/const/ZOrder": "ZOrder",
        "../leocool/lc": "lc",
        "../nox": "nox",
        "./NoxComponent": "NoxComponent",
        "./NoxViewMgr": "NoxViewMgr"
    }],
    NoxViewMgr: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fc87fVqSqpJI7ZhcI4PVIPV", "NoxViewMgr"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./NoxTipWidget"), o = e("../leocool/lc");
        (function (e) {
            var t = null, n = [], r = {}, _ = [], s = null, c = 0;

            function l() {
                return t
            }

            function d() {
                return n.length > 0 ? n[n.length - 1] : null
            }

            e.init = function (n, i) {
                t = n, r = i, a.nox.scheduleUpdate(e.onUpdate, 0)
            }, e.getRoot = l, e.pushScene = function (e) {
                i.NoxTipWidget.hideCurrentTipWidget();
                var t = n.length > 0 ? n[n.length - 1] : null;
                t && t.exit(), n.push(e), e.create(), e.enter()
            }, e.replaceScene = function (e) {
                i.NoxTipWidget.hideCurrentTipWidget(), n.length > 0 ? (n[n.length - 1].exit(), n[n.length - 1] = e, e.create(), e.enter()) : (n.push(e), e.create(), e.enter())
            }, e.popScene = function () {
                i.NoxTipWidget.hideCurrentTipWidget();
                var e = n[n.length - 1];
                e.exit(), e.destroy(), n.pop(), n.length > 0 && n[n.length - 1].enter()
            }, e.popToRootScene = function () {
                if (i.NoxTipWidget.hideCurrentTipWidget(), n.length > 1) {
                    for (var e = n.length - 1; e >= 1; --e) {
                        var t = n[e];
                        t.exit(), t.destroy(), n.pop()
                    }
                    n[0].enter()
                }
            }, e.getRunningScene = d, e.getSceneStack = function () {
                return n
            }, e.addWidget = function (e) {
                a.nox.addUniqueItem(_, e)
            }, e.removeWidget = function (e) {
                a.nox.removeUniqueItem(_, e)
            }, e.findView = function (e) {
                var t = "string" == typeof e ? r[e] : e;
                return t && d().findView(t)
            }, e.addView = function (e) {
                d().addView(e)
            }, e.removeView = function (e, t, n) {
                d().removeView(e, t, n)
            }, e.makeAsTopView = function (e) {
                d().makeAsTopView(e)
            }, e.onUpdate = function (t) {
                var n = e.getRunningScene();
                n && n.processUpdate(t);
                for (var a = _.slice(), i = 0; i < a.length; ++i) {
                    var o = a[i];
                    o.isRunning() && o.onUpdate(t)
                }
            }, e.addScreenBlock = function () {
                null == s && ((s = s = o.lc.createNodeAndFullSize()).addComponent(cc.BlockInputEvents), s.active = !1, l().addChild(s, 100)), c++, s.active = c > 0
            }, e.removeScreenBlock = function () {
                c--, s.active = c > 0
            }
        })(n.NoxViewMgr || (n.NoxViewMgr = {})), cc._RF.pop()
    }, {"../leocool/lc": "lc", "../nox": "nox", "./NoxTipWidget": "NoxTipWidget"}],
    NoxView: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d8c75Mh/gNKeYdW45rOEY4w", "NoxView"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NoxResPath"), i = e("../noxcc"), o = e("./NoxResMgr"), r = e("./NoxViewMgr"), _ = e("../nox"),
            s = e("../leocool/lc"), c = e("../game/ui/common/ActiveIndicator");
        n.ViewFlag = {None: 0, Main: 1, Form: 2, FullScreen: 8, Panel: 2, Dialog: 2};
        var l = function () {
            function e(e) {
                this.mViewType = null, this.mRoot = null, this.mOpenAnim = "", this.mCloseAnim = "", this.mOpenAction = null, this.mCloseAction = null, this.mPrefabLoading = !1, this.mInitIsDone = !1, this.mInitWidgetIsDone = !1, this.mIsOpened = !1, this.mIsRunning = !1, this.mViewType = e, this.mInitIsDone = !0, this.node = s.lc.createNodeAndFullSize(), this.node.addComponent(cc.BlockInputEvents), this.node.active = !1, this.blockNode = s.lc.createNodeAndFullSize(), this.blockNode.addComponent(cc.BlockInputEvents), this.blockNode.active = !1, this.node.addChild(this.blockNode, 100)
            }

            return e.prototype.init = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.prototype.onRelease = function () {
            }, e.prototype.onInitWidget = function () {
            }, e.prototype.onReleaseWidget = function () {
            }, e.prototype.onOpen = function () {
            }, e.prototype.onClose = function () {
            }, e.prototype.onEnter = function () {
            }, e.prototype.onExit = function () {
            }, e.prototype.onUpdate = function (e) {
            }, e.prototype.onOpening = function () {
            }, e.prototype.onClosing = function () {
            }, e.prototype.onFadeInBegin = function () {
            }, e.prototype.onFadeInEnd = function () {
            }, e.prototype.onFadeOutBegin = function () {
            }, e.prototype.onFadeOutEnd = function () {
            }, e.prototype.onAttachViewCanvas = function () {
                this.getAttachedScene().getSceneNode().addChild(this.node, this.getZOrder()), this.node.getComponent(cc.Widget).updateAlignment()
            }, e.prototype.onDetachViewCanvas = function () {
                this.node.parent = null
            }, e.prototype.prepareOpenAction = function () {
                return null
            }, e.prototype.prepareCloseAction = function () {
                return null
            }, e.prototype.loadPrefab = function () {
                var e = this;
                if (!e.mPrefabLoading) if (e.mViewType.resPath) {
                    e.mPrefabLoading = !0;
                    var t = _.nox.pathJoin(a.NoxResPath.viewPath, e.mViewType.resPath);
                    r.NoxViewMgr.addScreenBlock(), c.ActiveIndicator.showLoading(), o.NoxResMgr.loadPrefabAsync(t, function (n) {
                        c.ActiveIndicator.hideLoading(), r.NoxViewMgr.removeScreenBlock(), cc.assert(n, "load root failed: " + t), e.mPrefabLoading = !1, e.mRoot || (e.mInitIsDone, e.mIsOpened && (e.mRoot = i.noxcc.instantiate(n), e.processRootLoaded()))
                    })
                } else e.mRoot = s.lc.createNode(), cc.assert(e.mRoot, "mRoot needed"), e.processRootLoaded()
            }, e.prototype.processRootLoaded = function () {
                this.node.active = !1, this.mRoot.parent = this.node, this.onAttachViewCanvas(), this.mIsOpened && (this.onInitWidget(), this.mInitWidgetIsDone = !0, this.initView())
            }, e.prototype.stopOpenAnim = function () {
                this.mOpenAnimState && (this.mOpenAnimState.stop(), this.mOpenAnimState = null, this.updateBlock(), cc.assert(!1, "need test"), this.onFadeInEnd()), this.mOpenActionState && (this.mOpenActionState.getTarget().stopAction(this.mOpenActionState), this.mOpenActionState = null, this.updateBlock(), this.onFadeInEnd())
            }, e.prototype.stopCloseAnim = function () {
                this.mCloseAnimState && (this.mCloseAnimState.stop(), this.mCloseAnimState = null, this.mHideViewCallback = null, cc.assert(!1, "need test"), this.updateBlock(), this.onFadeOutEnd(), this.onCloseAnimEnd()), this.mCloseActionState && (this.mCloseActionState.getTarget().stopAction(this.mCloseActionState), this.mCloseActionState = null, this.mHideViewCallback = null, this.updateBlock(), this.onFadeOutEnd(), this.onCloseAnimEnd())
            }, e.prototype.doShowView = function (e) {
                this.mHideViewCallback = null, this.stopCloseAnim(), this.mIsOpened || (this.mIsOpened = !0, this.mAttachedScene = e, this.onOpening(), this.mRoot ? (null == this.node.parent && this.onAttachViewCanvas(), this.mInitWidgetIsDone || (this.onInitWidget(), this.mInitWidgetIsDone = !0), this.initView()) : this.loadPrefab())
            }, e.prototype.doHideView = function (e, t) {
                var n = this;
                if (n.mShowViewCallback = null, n.stopOpenAnim(), n.mIsOpened) if (n.mHideWithCleanup = !e, n.mIsOpened = !1, n.mAttachedScene = null, n.onClosing(), n.doDeactiveView(), n.removeTimeoutCallback(), n.mRoot) {
                    var a = null;
                    if (n.mCloseAnim && !t) {
                        var o = i.noxcc.getAnim(n.mRoot);
                        if (o) {
                            var r = n.mCloseAnimState = i.noxcc.playAnimClip(o, n.mCloseAnim);
                            n.updateBlock(), n.onFadeOutBegin(), n.mCloseAnimState.once("finished", function () {
                                n.mCloseAnimState == r && (n.mCloseAnimState = null, n.updateBlock(), n.onFadeOutEnd(), n.onCloseAnimEnd())
                            })
                        } else n.onCloseAnimEnd()
                    } else if (t || null == (a = n.mCloseAction ? n.mCloseAction.clone() : n.prepareCloseAction())) n.onCloseAnimEnd(); else {
                        var _ = n.mCloseActionState = cc.sequence(a, cc.callFunc(function () {
                            n.mCloseActionState == _ && (n.mCloseActionState = null, n.updateBlock(), n.onFadeOutEnd(), n.onCloseAnimEnd())
                        }));
                        n.updateBlock(), n.onFadeOutBegin(), n.mRoot.runAction(_)
                    }
                } else n.onCloseAnimEnd(); else t && (this.mCloseAnimState || this.mCloseActionState) ? (this.mHideWithCleanup = this.mHideWithCleanup || !e, n.stopOpenAnim(), n.stopCloseAnim()) : e || (this.mHideWithCleanup = !0, this.mCloseAnimState || this.mCloseActionState || n.hideViewReal())
            }, e.prototype.doDeactiveView = function () {
                this.mIsRunning && (this.mIsRunning = !1, this.onExit())
            }, e.prototype.doActiveView = function () {
                this.mIsOpened && this.mRoot && (this.mIsRunning || (this.mIsRunning = !0, this.mRoot.getComponent(cc.Widget) && this.mRoot.getComponent(cc.Widget).updateAlignment(), this.onEnter()))
            }, e.prototype.showView = function (e, t) {
                this.mIsOpened ? r.NoxViewMgr.makeAsTopView(this) : (this.mHideViewCallback = null, this.mShowViewCallback = t, r.NoxViewMgr.addView(this))
            }, e.prototype.hideView = function (e, t, n) {
                this.mIsOpened ? (this.mShowViewCallback = null, this.mHideViewCallback = n, r.NoxViewMgr.removeView(this, e, t)) : !t && e || (this.mShowViewCallback = null, this.mHideViewCallback = n, this.doHideView(e, t))
            }, e.prototype.hideViewReal = function () {
                var e = this.mHideViewCallback;
                this.mHideViewCallback = null, this.mIsOpened = !1, this.removeTimeoutCallback(), this.mRoot && (this.doDeactiveView(), this.onClose(), this.node.active = !1, this.mHideWithCleanup && (this.onReleaseWidget(), this.onDetachViewCanvas(), i.noxcc.destroy(this.mRoot), this.mRoot = null, this.mInitWidgetIsDone = !1)), this.mHideWithCleanup && this.mInitIsDone && (this.onRelease(), this.mInitIsDone = !1, i.noxcc.destroy(this.node), this.node = null), e && e(this)
            }, e.prototype.playOpenAnim = function () {
                var e = this, t = null;
                if (e.mOpenAnim) {
                    if (!e.mOpenAnimState) {
                        var n = i.noxcc.getAnim(e.mRoot);
                        if (n) {
                            var a = e.mOpenAnimState = i.noxcc.playAnimClip(n, e.mOpenAnim);
                            e.updateBlock(), e.onFadeInBegin(), e.mOpenAnimState.once("finished", function () {
                                e.mOpenAnimState == a && (e.mOpenAnimState = null, e.updateBlock(), e.onFadeInEnd(), e.onOpenAnimEnd())
                            })
                        } else e.onOpenAnimEnd()
                    }
                } else if (null != (t = e.mOpenAction ? e.mOpenAction.clone() : e.prepareOpenAction())) {
                    if (null == e.mOpenActionState) {
                        var o = e.mOpenActionState = cc.sequence(t, cc.callFunc(function () {
                            e.mOpenActionState == o && (e.mOpenActionState = null, e.updateBlock(), e.onFadeInEnd(), e.onOpenAnimEnd())
                        }));
                        e.updateBlock(), e.onFadeInBegin(), e.mRoot.runAction(o)
                    }
                } else e.onOpenAnimEnd()
            }, e.prototype.onOpenAnimEnd = function () {
            }, e.prototype.onCloseAnimEnd = function () {
                this.mIsOpened || this.hideViewReal()
            }, e.prototype.initView = function () {
                i.noxcc.setActive(this.node, !0), this.onOpen(), this.getAttachedScene() == r.NoxViewMgr.getRunningScene() && this.doActiveView(), this.playOpenAnim(), this.mShowViewCallback && this.mShowViewCallback(this)
            }, e.prototype.removeTimeoutCallback = function () {
            }, e.prototype.suspendView = function () {
            }, e.prototype.resumeView = function () {
            }, e.prototype.updateBlock = function () {
                this.mOpenAnimState || this.mOpenActionState ? this.blockNode.active = !0 : this.mCloseAnimState || this.mCloseActionState ? this.blockNode.active = !0 : this.blockNode.active = !1
            }, e.prototype.addOutsideClick = function (e) {
                var t = this;
                if (null == i.noxcc.find("anyClick", this.mRoot)) {
                    var n = s.lc.createNode(cc.size(4096, 4096));
                    this.mRoot.addChild(n, -100, "anyClick")
                }
                this.mOutsideClickCallback = e, n.targetOff(this), n.on(cc.Node.EventType.TOUCH_END, function (e) {
                    var n = t.mRoot.convertToNodeSpaceAR(e.getLocation());
                    _.nox.arect(t.mRoot).contains(n) || t.mOutsideClickCallback && t.mOutsideClickCallback()
                }, this, !1)
            }, e.prototype.getViewType = function () {
                return this.mViewType
            }, e.prototype.isOpened = function () {
                return this.mIsOpened
            }, e.prototype.isRunning = function () {
                return this.mIsRunning
            }, e.prototype.isPlayOpeningAnim = function () {
                return null != this.mOpenAnimState || null != this.mOpenActionState
            }, e.prototype.isSuspendable = function () {
                return this.isForm()
            }, e.prototype.isWholeScreen = function () {
                return 0 != (this.mViewType.flags & n.ViewFlag.FullScreen)
            }, e.prototype.isForm = function () {
                return 0 != (this.mViewType.flags & n.ViewFlag.Form)
            }, e.prototype.getZOrder = function () {
                return this.mViewType.module
            }, e.prototype.getRootNode = function () {
                return this.mRoot
            }, e.prototype.getSceneNode = function () {
                return this.node.parent
            }, e.prototype.getAttachedScene = function () {
                return this.mAttachedScene
            }, e.prototype.isLoading = function () {
                return this.mIsOpened && null == this.mRoot && this.mPrefabLoading
            }, e
        }();
        n.NoxView = l, cc._RF.pop()
    }, {
        "../game/ui/common/ActiveIndicator": "ActiveIndicator",
        "../leocool/lc": "lc",
        "../nox": "nox",
        "../noxcc": "noxcc",
        "./NoxResMgr": "NoxResMgr",
        "./NoxResPath": "NoxResPath",
        "./NoxViewMgr": "NoxViewMgr"
    }],
    NoxWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d0403S9jY5GKq6eCC1a3WVf", "NoxWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./NoxResPath"), o = e("./NoxResMgr"), r = e("../noxcc"), _ = function () {
            function e(e) {
                this.mHierarchy = 0, this.mResPath = e
            }

            return e.prototype.setResPath = function (e) {
                this.mResPath = e
            }, e.prototype.setPrefab = function (e) {
                this.takeRoot(r.noxcc.instantiate(e))
            }, e.prototype.takeRoot = function (e) {
                this.setRoot(e, !0)
            }, e.prototype.useRoot = function (e) {
                this.setRoot(e, !1)
            }, e.prototype.setRoot = function (e, t) {
                this.mRoot = e, this.mAutoDestroyRoot = t, this.mRoot && (this.onInitWidget(), this.mInitWidgetIsDone = !0)
            }, e.prototype.loadPrefab = function () {
                var e = this;
                if (!e.mPrefabLoading) {
                    e.mPrefabLoading = !0;
                    var t = a.nox.pathJoin(i.NoxResPath.viewPath, e.mResPath);
                    o.NoxResMgr.loadPrefabAsync(t, function (n) {
                        cc.assert(n, "load root failed: " + t), e.mPrefabLoading = !1, e.mRoot || e.mIsDestroyed || (e.mRoot = r.noxcc.instantiate(n), r.noxcc.setZIndex(e.mRoot, e.getZOrder()), e.applyName(), e.applyParent(), e.applyPosition(), e.mInitWidgetIsDone || (e.onInitWidget(), e.mInitWidgetIsDone = !0), r.noxcc.setActive(e.mRoot, e.mIsOpened), e.mIsOpened && e.onEnter())
                    })
                }
            }, e.prototype.setName = function (e) {
                this.mTargetName = e, this.applyName()
            }, e.prototype.setParent = function (e) {
                this.mTargetParent = e, this.applyParent()
            }, e.prototype.applyName = function () {
                this.mRoot && null != this.mTargetName && r.noxcc.setName(this.mRoot, this.mTargetName)
            }, e.prototype.applyParent = function () {
                this.mRoot && r.noxcc.setParent(this.mRoot, this.mTargetParent)
            }, e.prototype.setPosition = function (e, t) {
                this.mTargetPosition = "object" == typeof e ? e : cc.v2(e, t), this.applyPosition()
            }, e.prototype.applyPosition = function () {
                this.mRoot && this.mTargetPosition && r.noxcc.setPosition(this.mRoot, this.mTargetPosition)
            }, e.prototype.show = function (e) {
                e && this.setParent(e), this.mIsOpened || (this.mIsOpened = !0, this.mRoot ? (this.mInitWidgetIsDone || (this.onInitWidget(), this.mInitWidgetIsDone = !0), r.noxcc.setActive(this.mRoot, !0), this.onEnter()) : this.loadPrefab())
            }, e.prototype.hide = function () {
                this.mIsOpened && (this.mIsOpened = !1, this.mRoot && (r.noxcc.setActive(this.mRoot, !1), this.onExit()))
            }, e.prototype.destroy = function () {
                this.hide(), this.mRoot && (this.mInitWidgetIsDone && (this.onReleaseWidget(), this.mInitWidgetIsDone = !1), this.mAutoDestroyRoot && r.noxcc.destroy(this.mRoot), this.mRoot = null, this.onRelease())
            }, e.prototype.getZOrder = function () {
                return this.mHierarchy
            }, e.prototype.getRoot = function () {
                return this.mRoot
            }, e.prototype.isOpened = function () {
                return this.mIsOpened
            }, e.prototype.isActivated = function () {
                return !this.mIsDeactivated
            }, e.prototype.isRunning = function () {
                return this.mRoot && this.mIsOpened && !this.mIsDeactivated
            }, e.prototype.onRelease = function () {
            }, e.prototype.onInitWidget = function () {
            }, e.prototype.onReleaseWidget = function () {
            }, e.prototype.onEnter = function () {
            }, e.prototype.onExit = function () {
            }, e.prototype.onUpdate = function (e) {
            }, e
        }();
        n.NoxWidget = _, cc._RF.pop()
    }, {"../nox": "nox", "../noxcc": "noxcc", "./NoxResMgr": "NoxResMgr", "./NoxResPath": "NoxResPath"}],
    OnlinePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c87b1WunQ1B7Iw2x22BvdIF", "OnlinePanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../node/NodeWithListView"),
            _ = e("./CheckinBonusWidget"), s = e("../../../../leocool/lcStr"), c = e("../../../ClientData"),
            l = e("../../../ClientView"), d = e("../../../utils/MsgCenter"), p = e("../../../StringEnums"),
            u = function (e) {
                function t() {
                    return e.call(this, "form/CheckInForm/OnlinePanel") || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.bonusList = r.NodeWithListView.createV(cc.size(0, 0), 16, 10)
                }, t.prototype.onInitWidget = function () {
                    this.mcontent = cc.find("View/content", this.mRoot), this.refreshList()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    d.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    this.mcontent && this.mcontent.destroyAllChildren(), d.MsgCenter.removeMsgListener(this)
                }, t.prototype.refreshList = function () {
                    for (var e = P._playerBonus.splitBonus(P._playerBonus._bonusOnlineTask), t = [], n = e[0], a = e[1], i = e[2], r = 0; r < n.length; r++) t.push(n[r]);
                    for (r = 0; r < a.length; r++) t.push(a[r]);
                    for (r = 0; r < i.length; r++) t.push(i[r]);
                    this._bonuses = t, this.mcontent.destroyAllChildren();
                    for (r = 0; r < this._bonuses.length; r++) {
                        var _ = o.noxcc.newNode("Bonusparent");
                        _.setContentSize(680, 0);
                        var s = _.addComponent(cc.Layout);
                        s.type = cc.Layout.Type.VERTICAL, s.resizeMode = cc.Layout.ResizeMode.CONTAINER;
                        var c = this.setOrCreateItem(null, t[r]);
                        this.mcontent.addChild(_), c.show(_)
                    }
                }, t.prototype.setOrCreateItem = function (e, t) {
                    var n = this, a = string.format(s.lcStr(p.STR.TASK) + " " + (t._info._id - 3007).toString()),
                        i = _.CheckinBonusWidget.create(a, t);
                    return i.registerClaimHandler(function (e) {
                        if (e._value >= e._info._val && !e._isClaimed) {
                            var t = c.ClientData.claimBonus(e);
                            n.refreshList(), l.ClientView.showClaimBonusResult(e, t)
                        }
                    }), i
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ONLINE_CLAIM) return l.ClientView.getActiveIndicator().hide(), !0
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePage);
        n.OnlinePanel = u, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView",
        "./CheckinBonusWidget": "CheckinBonusWidget"
    }],
    ParticleUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1127fniCypI5oUgDMxALTdE", "ParticleUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../noxcc"), i = e("../../framework/NoxResMgr");
        (function (e) {
            e.createParticle = function (e, t) {
                var n = a.noxcc.newNode(), o = a.noxcc.getOrAddComponent(n, cc.ParticleSystem);
                return i.NoxResMgr.setParticleAsync(o, e, t), n
            }, e.setParticle = function (e, t, n) {
                i.NoxResMgr.setParticleAsync(e, t, n)
            }
        })(n.ParticleUtil || (n.ParticleUtil = {})), cc._RF.pop()
    }, {"../../framework/NoxResMgr": "NoxResMgr", "../../noxcc": "noxcc"}],
    PlayerAchieve: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ec248iWmD5AbpnxCz4/8tbV", "PlayerAchieve"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("./ActivityTask"), o = e("../../../nox").nox.toNumber, r = e("./MainTask"),
            _ = e("../../../leocool/lc"), s = function () {
                function e() {
                    this.clear()
                }

                return e.prototype.clear = function () {
                    this._mainTasks = {}, this._activityTasks = {}
                }, e.prototype.init = function () {
                    this.initMainTask(), this.initActivityTask()
                }, e.prototype.initMainTask = function () {
                    for (var e in a.Data._mainTaskInfo) if (a.Data._mainTaskInfo[e]._type <= 0) {
                        var t = new r.MainTask(o(e));
                        this._mainTasks[e] = t
                    }
                }, e.prototype.initActivityTask = function () {
                    for (var e in a.Data._activityTaskInfo) {
                        var t = new i.ActivityTask(o(e));
                        this._activityTasks[e] = t
                    }
                }, e.prototype.getDailyTaskLevel = function (e) {
                    switch (e) {
                        case a.Data.DailyTaskType.player_battle_win:
                            return a.Data._globalInfo._unlockFindMatch;
                        case a.Data.DailyTaskType.upgrade_equip:
                        case a.Data.DailyTaskType.challenge_elite:
                            return a.Data._globalInfo._unlockElite;
                        case a.Data.DailyTaskType.copy_boss:
                            return a.Data._globalInfo._unlockRobExp;
                        case a.Data.DailyTaskType.collect_fragment:
                            return P._playerCity.getGuardUnlockLevel();
                        case a.Data.DailyTaskType.rob_horse:
                            return a.Data._globalInfo._unlockCommander;
                        case a.Data.DailyTaskType.upgrade_horse:
                            return P._playerCity.getStableUnlockLevel();
                        case a.Data.DailyTaskType.expedition:
                            return a.Data._globalInfo._unlockExpedition;
                        case a.Data.DailyTaskType.challenge_uboss:
                    }
                    return 0
                }, e.prototype.getOrderedMainTasks = function () {
                    return _.lc.reorderToArray(this._mainTasks, function (e, t) {
                        return parseInt(e._infoId) - parseInt(t._infoId)
                    })
                }, e.prototype.getOrderedActivityTasks = function () {
                    return _.lc.reorderToArray(this._activityTasks, function (e, t) {
                        return parseInt(e._infoId) - parseInt(t._infoId)
                    })
                }, e.prototype.dailyTaskDone = function () {
                }, e.prototype.activityTaskDone = function (e) {
                }, e.prototype.sendAchieveListDirty = function () {
                    a.Data.Event.achieve_list_dirty.dispatchEvent()
                }, e
            }();
        n.PlayerAchieve = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../data": "data",
        "./ActivityTask": "ActivityTask",
        "./MainTask": "MainTask"
    }],
    PlayerActivity: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "abc21/A0gdOjqhPCvnS/WYM", "PlayerActivity"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/TimeUtil"), i = e("../data"), o = e("../../../leocool/lc"),
            r = e("../../utils/ActivityUtil"), _ = e("../../utils/MsgCenter"), s = e("../../../nox").nox.toNumber,
            c = e("../../../leocool/lcAppCfg"), l = function () {
                function e() {
                }

                return e.prototype.init = function (e) {
                    if (e) {
                        if (this._ghost = e.ghost, this._loginDays = e.login, this._chargeIngot = e.charge, this._chargeDays = e.charge_ex, this._lastChargeTimestamp = e.last_charge_ex, this._rebateIngot = e.rebate, this._consumeIngot = e.consume, this._ladderContWin = e.fund_package_ladder_cont_win, this._superGrowFundTime = parseInt(e.super_grow_fund_time), this._superGrowFundId = e.super_grow_fund_id, null != e.bonus) {
                            var t = P._playerBonus.hashPbBonus(e.bonus), n = t[0], a = t[1];
                            for (var s in P._playerBonus._bonuses) {
                                var c = P._playerBonus._bonuses[s];
                                c._value = o.lc.D(n[c._info._cid], c._value), c._isClaimed = o.lc.D(a[c._infoId], c._isClaimed)
                            }
                        }
                        if (this._productBuyCounts = {}, e.bundles) for (s = 0; s < e.bundles.length; ++s) {
                            var l = e.bundles[s];
                            this._productBuyCounts[l.info_id] = l.num
                        }
                        for (var d in i.Data._activityInfo) {
                            var p = i.Data._activityInfo[d];
                            1911 == p._type && r.ActivityUtil.isActivityValidIgnoreHour(p) && (this._zing = p)
                        }
                        this._zing_card_daily_pay = e.zing_card_daily_pay, this._returnDay = e.return_day, _.MsgCenter.addMsgListener(this, function (e) {
                            return this.onMsg(e)
                        }.bind(this), 0)
                    }
                }, e.prototype.clear = function () {
                    this._zing = null, this._preferentialInfo = null, _.MsgCenter.removeMsgListener(this)
                }, e.prototype.onMsg = function (e) {
                    e.type;
                    return !1
                }, e.prototype.genActivityKey = function (e) {
                    return e._type + e._beginTime + e._endTime
                }, e.prototype.parseTime = function (e) {
                    if (null == e || "" == e) return 0;
                    var t = s(e);
                    return o.lc.V(t) ? P._serverOpenTimestamp + (t - 1) * i.Data.DAY_SECONDS : a.TimeUtil.parseTimeStr(e)
                }, e.prototype.isVisible = function (e) {
                    var t;
                    if (a.TimeUtil.getDaysAfterServerOpen() <= i.Data.NEW_REGION_DAYS) {
                        if (e._id < 1e3 && 0 == e._isShare && 105 != e._type) return !1
                    } else if ((e._id >= 1e3 || 0 == e._isShare && e._beginTimestamp > 0 && P._newRegionCloseTimestamp > e._beginTimestamp) && 105 != e._type) return !1;
                    for (var n = 0; n < e._gameType.length; ++n) {
                        var o = e._gameType[n];
                        if (c.lcAppCfg.getGameType() == o) {
                            t = !0;
                            break
                        }
                    }
                    if (t) {
                        if (401 == e._type && P._playerBonus._bonusLogin[0]._value > 8) return !1;
                        var r = e._visibleTime;
                        if ("" == r) return !0;
                        var _ = string.splitByChar(r, "-"), s = a.TimeUtil.getCurrentTime();
                        if (this.parseTime(_[0]) <= s) return !_[1] || this.parseTime(_[1]) >= s
                    }
                    return !1
                }, e.prototype.hasVisibleActivities = function () {
                    for (var e in i.Data._activityInfo) {
                        var t = i.Data._activityInfo[e];
                        if (this.isVisible(t)) return !0
                    }
                    return !1
                }, e.prototype.isValid = function (e) {
                    var t = a.TimeUtil.getCurrentTime();
                    return e._beginTimestamp <= t && (t < e._endTimestamp || 0 == e._endTimestamp)
                }, e.prototype.getNewActivityCount = function () {
                    var e = 0;
                    for (var t in i.Data._activityInfo) {
                        var n = i.Data._activityInfo[t];
                        this.isActivityNew(n) && (e += 1)
                    }
                    return e
                }, e.prototype.isActivityNew = function (e) {
                    if (!this.isValid(e) || !this.isVisible(e)) return !1;
                    e = "number" == typeof e ? i.Data._activityInfo[e] : e;
                    var t = this.genActivityKey(e);
                    return 0 == o.lc.readConfig(t.toString(), "0")
                }, e.prototype.readActivity = function (e) {
                    if (this.isValid(e) && this.isVisible(e)) {
                        e = "number" == typeof e ? i.Data._activityInfo[e] : e;
                        var t = this.genActivityKey(e);
                        o.lc.writeConfig(t.toString(), a.TimeUtil.getCurrentTime())
                    }
                }, e.prototype.checkChargeDays = function () {
                }, e.prototype.getDayilPaymentActivityFlags = function () {
                    var e = this.getDayilPaymentActivity();
                    if (null == e) return 0;
                    for (var t = 0, n = 0; n < e._bonusId.length; ++n) {
                        var a = P._playerBonus._bonuses[e._bonusId[n]];
                        a._info._val <= a._value && !a._isClaimed && (t += 1)
                    }
                    return t
                }, e.prototype.getDayilPaymentActivity = function () {
                    return r.ActivityUtil.getValidActivityByType(603)
                }, e.prototype.getLastDayilPaymentActivity = function () {
                    return r.ActivityUtil.getValidActivityByType(610)
                }, e.prototype.getConsumeFeedBackActivity = function () {
                    return r.ActivityUtil.getValidActivityByType(901)
                }, e.prototype.getPaymentDaysActivityBonusIds = function () {
                    var e = this.getLastDayilPaymentActivity();
                    return e ? e._bonusId.slice() : []
                }, e.prototype.getPaymentDaysActivityFlags = function () {
                    for (var e = 0, t = this.getPaymentDaysActivityBonusIds(), n = 0; n < t.length; ++n) {
                        P._playerBonus._bonuses[t[n]].canClaim() && (e += 1)
                    }
                    return e
                }, e.prototype.getConsumeFeedbackActivity = function () {
                    return r.ActivityUtil.getValidActivityByType(901)
                }, e.prototype.getConsumeFeedbackActivityFlags = function () {
                    var e = this.getConsumeFeedbackActivity();
                    if (null == e) return 0;
                    for (var t = 0, n = e._bonusId.slice(), a = 0; a < n.length; ++a) {
                        P._playerBonus._bonuses[n[a]].canClaim() && (t += 1)
                    }
                    return t
                }, e.prototype.getFreeMonthCardActivity = function () {
                    return r.ActivityUtil.getValidActivityByType(607)
                }, e.prototype.getFreeMonthCardActivityFlags = function () {
                    this.getFreeMonthCardActivity();
                    return 0
                }, e
            }();
        n.PlayerActivity = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../nox": "nox",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    PlayerBattle: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ba30bI941VI0KnmitcBSqts", "PlayerBattle");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BattleInterfaces"), o = e("./BattleHelper"), r = e("../../data/data"),
            _ = e("./BattlleCardStatus"), s = e("./BattleStaticHelper"), c = e("./BattleEvent"), l = e("./BattleAi"),
            d = e("./BattleData"), p = e("./BattleCondition"), u = e("./BattleSkill"), g = e("./BattleStep"),
            h = e("../../data/CardHelper"), f = e("../../../noxEvent"), m = function (e) {
                function t(n) {
                    var a = e.call(this) || this;
                    return a._eventObj = {}, a.initMainData(), a._isClient = n._isClient, a._isAttacker = n._isAttacker, a._fortressHp = n._fortressHp, a._troopCards = n._troopCards, a._troopLevels = n._troopLevels, a._battleType = n._battleType, a._troopSkins = n._troopSkins, a._baseBattleType = Math.floor(a._battleType / 100), a._isOnlinePvp = a._battleType == r.Data.BattleType.PVP_clash || a._battleType == r.Data.BattleType.PVP_friend || a._battleType == r.Data.BattleType.PVP_ladder || a._battleType == r.Data.BattleType.PVP_room || a._battleType == r.Data.BattleType.PVP_group || a._battleType == r.Data.BattleType.PVP_dark, a._maxRound = a.getMaxRound(n._atkLevel), a._isNpc = n._isNpc, a._survivalTimeStamp = n._survivalTimeStamp + (a._isAttacker ? 18 : 3), a._avatar = n._avatar, t._originRandomSeed = n._randomSeed, a._battleCondition = new p.default(a, n._conditions), a._ops = _.B.parseOperations(n._usedCards, !1), a._isClient && a._isAttacker && (a._battleType == r.Data.BattleType.unittest || a._battleType == r.Data.BattleType.teach) && (n._events.push(65101), n._events.push(65102)), a._isClient && a._isAttacker && a._battleType == r.Data.BattleType.PVP_clash_npc && null != P._pvpWinTotal && P._pvpWinTotal + P._pvpLoseTotal == 0 && (n._events.push(60001), n._events.push(60002)), a._battleEvent = new c.default(a, n._events), a._fortressSkillInfo = n._fortressSkill, a._ai = new l.default(a), a._idInRoom = n._idInRoom, a
                }

                return a(t, e), t.prototype.initMainData = function () {
                    this._battleStep = new g.default(this), this._battleSkill = new u.default(this), this._battleHelper = new o.BattleHelper(this), this._battleStaticHelper = new s.BattleStaticHelper(this)
                }, t.prototype.getUnderSkillCards = function (e, t) {
                    for (var n = this.getAllCards(), a = [], i = 1; i <= n.length; ++i) for (var o = n[i - 1], r = 1; r <= o._underSkills.length; ++r) {
                        var _ = o._underSkills[r - 1];
                        if (_._cid == e && _._sid == t && !_._positiveType && !_._negativeType) {
                            a.push(o);
                            break
                        }
                    }
                    return a
                }, t.prototype.getUnderChangedCards = function () {
                    for (var e = this.getAllCards(), t = [], n = 1; n <= e.length; ++n) {
                        var a = e[n - 1];
                        Object.keys(a._changed).length > 0 && t.push(a)
                    }
                    return t
                }, t.prototype.dealCard = function (e, t, n, a) {
                    for (var i = this._handCards.length, o = 1; o <= e && !(r.Data.MAX_CARD_COUNT_IN_HAND <= i || null == this._pileCards[o - 1]); ++o) this.setCardStatus(this._pileCards[o], d.default.CardStatus.hand, t, n, a);
                    return !1
                }, t.prototype.setCardStatus = function (e, t, n, a, i, o, r) {
                    void 0 === o && (o = null), void 0 === r && (r = null), e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _status: t,
                        _statusVal: o,
                        _futureSourceStatus: r
                    })
                }, t.prototype.setCardPosChange = function (e, t, n, a, i) {
                    null == e && cc.log("error"), e._underSkills.push({_cid: n, _sid: a, _mode: i, _posChange: t})
                }, t.prototype.addDamage = function (e, t, n, a, i) {
                    void 0 === n && (n = null), void 0 === a && (a = null), void 0 === i && (i = null), e._type == r.Data.CardType.fortress && t > 0 && this._isClient && (t = 1), e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _damage: t,
                        _removable: !1
                    })
                }, t.prototype.addSpellDamag = function (e, t, n, a, i, o) {
                }, t.prototype.incAtk = function (e, t, n, a, i, o) {
                    e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _atkInc: t,
                        _removable: n
                    }), e._underSkills.push({_cid: a, _sid: i, _mode: o, _maxAtkInc: t, _removable: n})
                }, t.prototype.decAtk = function (e, t, n, a, i, o) {
                    e._underSkills.push({_cid: a, _sid: i, _mode: o, _atkInc: -t, _removable: n})
                }, t.prototype.recAtk = function (e, t, n, a, i) {
                    return !(t < 0 || e._atk >= e._maxAtk + e._haloedMaxHpInc) && (e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _atkInc: Math.min(e._maxAtk + e._haloedMaxHpInc - e._atk)
                    }), !0)
                }, t.prototype.incActionCount = function (e, t, n, a, i) {
                    e._underSkills.push({_cid: n, _sid: a, _mode: i, _actionCount: t})
                }, t.prototype.incHp = function (e, t, n, a, i, o, r) {
                    void 0 === n && (n = null), void 0 === a && (a = null), void 0 === i && (i = null), void 0 === o && (o = null), void 0 === r && (r = !1), e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _hpInc: t,
                        _removable: n,
                        _isSelf: r
                    }), e._underSkills.push({_cid: a, _sid: i, _mode: o, _maxHpInc: t, _removable: n, _isSelf: r})
                }, t.prototype.decHp = function (e, t, n, a, i, o, r) {
                    void 0 === r && (r = null);
                    var s = this.getCardById(a);
                    _.B.isMonsterSkill(i) ? t = _.B.getDamageByMonster(s, e, i, t, r) : _.B.isEffectSkill(i) && cc.log("is effcet skill"), e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _hpInc: -t,
                        _removable: n
                    })
                }, t.prototype.decMaxHp = function (e, t, n, a, i, o) {
                    e._underSkills.push({_cid: a, _sid: i, _mode: o, _maxHpInc: -t, _removable: n})
                }, t.prototype.decHpForce = function (e, t, n, a, i, o) {
                    e._underSkills.push({_cid: a, _sid: i, _mode: o, _hpInc: -t, _removable: n})
                }, t.prototype.recHp = function (e, t, n, a, i) {
                    return !(t < 0 || e._hp >= e._maxHp + e._haloedMaxHpInc) && (!e.hasBuff(!1, d.default.NegativeType.cannotRecHp) && (null != e._owner._opponent._boardCards[1] && null != e._owner._opponent._boardCards[1]._binds[0] && e._owner._opponent._boardCards[1]._binds[0].hasSkills([6076]) && (t = -t), e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _hpInc: t
                    }), !0))
                }, t.prototype.recHpForce = function (e, t, n, a, i) {
                    return !(t < 0 || e._hp >= e._maxHp + e._haloedMaxHpInc) && (e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _hpInc: t
                    }), !0)
                }, t.prototype.addDamageMark = function (e, t, n, a, i, o) {
                    e._underSkills.push({_cid: a, _sid: i, _mode: o, _hpInc: -t, _removable: n, _directDamageMark: !0})
                }, t.prototype.incSkillLevel = function (e, t, n, a, i, o) {
                    e._underSkills.push({_cid: a, _sid: i, _mode: o, _skillLevelInc: t, _removable: n})
                }, t.prototype.canIncNegativeStatus = function (e, t) {
                    return t != d.default.NegativeType.sleep && t != d.default.NegativeType.numb && t != d.default.NegativeType.chaos || !(e.hasBuff(!1, d.default.NegativeType.sleep) || e.hasBuff(!1, d.default.NegativeType.numb) || e.hasBuff(!1, d.default.NegativeType.chaos))
                }, t.prototype.incNegativeStatus = function (e, t, n, a, i, o) {
                    if (!e.hasBuff(!0, d.default.PositiveType.ignoreNegative)) if (t instanceof Array) for (var _ = 0; _ < t.length; _++) this.incNegativeStatus(e, t[_], n, a, i, o); else {
                        if (0 == t) return;
                        if (this.canIncNegativeStatus(e, t) && e._underSkills.push({
                            _cid: a,
                            _sid: i,
                            _mode: o,
                            _incNegative: t,
                            _removable: n
                        }), 1 != n && t == d.default.NegativeType.chaos) {
                            var s = this.getCardById(a);
                            if (null != s && null != s._skills[0] && 6011 == s._skills[0]._id) {
                                var c = r.Data._skillInfo[s._skills[0]._id]._val[0] || 0;
                                this.decHp(e, c, n, a, i, o)
                            }
                        }
                    }
                }, t.prototype.decNegativeStatus = function (e, t, n, a, i, o) {
                    if (t instanceof Array) for (var r = 0; r < t.length; r++) this.decNegativeStatus(e, t[r], n, a, i, o); else e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _decNegative: t,
                        _removable: n
                    })
                }, t.prototype.incPositiveStatus = function (e, t, n, a, i, o) {
                    if (t instanceof Array) for (var r = 0; r < t.length; r++) this.incPositiveStatus(e, t[r], n, a, i, o); else e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _incPositive: t,
                        _removable: n
                    })
                }, t.prototype.decPositiveStatus = function (e, t, n, a, i, o) {
                    if (t instanceof Array) for (var r = 0; r < t.length; r++) this.decPositiveStatus(e, t[r], n, a, i, o); else e._underSkills.push({
                        _cid: a,
                        _sid: i,
                        _mode: o,
                        _decPositive: t,
                        _removable: n
                    })
                }, t.prototype.incNegativeValue = function (e, t, n, a, i, o, _, s) {
                    if (void 0 === s && (s = !1), !e.hasBuff(!0, d.default.PositiveType.ignoreNegative) && (e._underSkills.push({
                        _cid: i,
                        _sid: o,
                        _mode: _,
                        _negativeType: t,
                        _value: n,
                        _aggregateType: a,
                        _removable: !0
                    }), !s)) {
                        e._underSkills[e._underSkills.length - 2]._follower = e._underSkills[e._underSkills.length - 1];
                        var c = e._underSkills[e._underSkills.length - 2]._incNegative[1];
                        _ != r.Data.SkillMode.halo && c >= d.default.NegativeType.haloSkillBegin && c <= d.default.NegativeType.haloSkillEnd && (e._underSkills[e._underSkills.length - 2]._ignoreDisable = !0, e._underSkills[e._underSkills.length - 1]._ignoreDisable = !0)
                    }
                }, t.prototype.incPositiveValue = function (e, t, n, a, i, o, _, s) {
                    if (void 0 === s && (s = !1), e._underSkills.push({
                        _cid: i,
                        _sid: o,
                        _mode: _,
                        _positiveType: t,
                        _value: n,
                        _aggregateType: a,
                        _removable: !0
                    }), !s) {
                        e._underSkills[e._underSkills.length - 2]._follower = e._underSkills[e._underSkills.length - 1];
                        var c = e._underSkills[e._underSkills.length - 2]._incPositive[1];
                        _ != r.Data.SkillMode.halo && c >= d.default.PositiveType.haloSkillBegin && c <= d.default.PositiveType.haloSkillEnd && (e._underSkills[e._underSkills.length - 2]._ignoreDisable = !0, e._underSkills[e._underSkills.length - 1]._ignoreDisable = !0)
                    }
                }, t.prototype.incShield = function (e, t, n, a, i, o, _) {
                    for (var s = 0; s < t.length; ++s) {
                        var c = t[s] < 12e3 ? d.default.PositiveType.shieldBegin + t[s] - 11001 : (a ? d.default.PositiveType.shieldHaloBegin : d.default.PositiveType.shieldExBegin) + t[s] - 12001,
                            l = c == d.default.PositiveType.shieldHp || c == d.default.PositiveType.shieldExHp ? this._fortress : e;
                        this.incPositiveStatus(l, [c], a, i, o, _), this.incPositiveValue(l, c, 1 + (n ? 65536 : 0), r.Data.AggregateType.table, i, o, _)
                    }
                }, t.prototype.decShield = function (e, t, n, a, i, o) {
                    for (var r = [], _ = 0; _ < t.length; ++_) {
                        var s = t[_] < 12e3 ? d.default.PositiveType.shieldBegin + t[_] - 11001 : (n ? d.default.PositiveType.shieldHaloBegin : d.default.PositiveType.shieldExBegin) + t[_] - 12001;
                        r.push(s)
                    }
                    this.decPositiveStatus(e, r, n, a, i, o)
                }, t.prototype.addGivenSkillToOppo = function (e, t, n, a, i) {
                    e._underSkills.push({_cid: n, _sid: a, _mode: i, _givenSkill: t})
                }, t.prototype.bindCard = function (e, t, n, a, i, o) {
                    void 0 === n && (n = null), void 0 === a && (a = null), void 0 === i && (i = null), void 0 === o && (o = !1), _.B.isAlive(t) ? (e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _bind: t,
                        _removable: o
                    }), t._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _bind: e,
                        _removable: o,
                        _trigger: e._underSkills[e._underSkills.length]
                    })) : this.setCardStatus(e, d.default.CardStatus.grave, n, a, i)
                }, t.prototype.unbindCard = function (e, t, n, a, i) {
                    _.B.isAlive(t) && e._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _unbind: t,
                        _removable: null
                    }), t._underSkills.push({
                        _cid: n,
                        _sid: a,
                        _mode: i,
                        _unbind: e,
                        _removable: null,
                        _trigger: e._underSkills[e._underSkills.length]
                    }), e._equipTarget = null
                }, t.prototype.incPower = function (e, t, n, a) {
                    this._fortress._underSkills.push({_cid: t, _sid: n, _mode: a, _incPower: e})
                }, t.prototype.incBall = function (e, t, n, a) {
                    this._fortress._underSkills.push({_cid: t, _sid: n, _mode: a, _incBall: e})
                }, t.prototype.decBall = function (e, t, n, a) {
                    this._fortress._underSkills.push({_cid: t, _sid: n, _mode: a, _incBall: -e})
                }, t.prototype.addGemUnderSkill = function (e, t, n, a, i, o) {
                    this._gemUnderSkills.push({_cid: a, _sid: i, _mode: o, _val: e, _singleRound: t, _count: n})
                }, t.prototype.removeGemUnderSkillsByRound = function () {
                    for (var e = [], t = 1; t <= this._gemUnderSkills.length; ++t) {
                        var n = this._gemUnderSkills[t - 1];
                        n._singleRound || e.push(n)
                    }
                    this._gemUnderSkills = e
                }, t.prototype.account = function () {
                    for (var e = this.getAllCards(), t = [], n = [], a = [], i = 1; i <= e.length; ++i) {
                        ((o = e[i - 1])._status == d.default.CardStatus.board || o._underSkills.length > 0 || o._status == d.default.CardStatus.fortress && o._lastHasUnderSkill) && (o.hasAdvanceUnderSkill() ? t.push(o) : n.push(o))
                    }
                    for (i = 0; i < t.length; ++i) {
                        (o = t[i])._owner.accountTarget(o)
                    }
                    for (i = 0; i < n.length; ++i) {
                        (o = n[i])._owner.accountTarget(o)
                    }
                    for (i = 0; i < a.length; ++i) {
                        var o;
                        (o = a[i])._owner.accountTarget(o)
                    }
                }, t.prototype.accountTarget = function (e) {
                    var t = this, n = {};
                    n._hp = e._hp, n._atk = e._atk, n._atkCount = e._atkCount, n._actionCount = e._actionCount, n._skillLevelInc = e._skillLevelInc, n._negativeStatus = {}, n._negativeValues = {};
                    for (var a = 1; a <= d.default.NegativeType.count; ++a) n._negativeStatus[a] = e._negativeStatus ? e._negativeStatus[a] : null, n._negativeValues[a] = e._negativeValues ? e._negativeValues[a] : null, e._negativeStatus && a >= d.default.NegativeType.haloSkillBegin && a <= d.default.NegativeType.haloSkillEnd && (e._negativeStatus[a] = !1);
                    n._positiveStatus = {}, n._positiveValues = {};
                    for (var i = 1; i <= d.default.PositiveType.count; ++i) n._positiveStatus[i] = e._positiveStatus ? e._positiveStatus[i] : e._positiveStatus, n._positiveValues[i] = e._positiveValues ? e._positiveValues[i] : e._positiveValues, e._positiveStatus && i >= d.default.PositiveType.haloSkillBegin && i <= d.default.PositiveType.haloSkillEnd && (e._positiveStatus[i] = !1);
                    n._binds = [];
                    for (var o = 1; o <= e._binds.length; ++o) n._binds.push(e._binds[o - 1]);
                    for (var s = e._maxHpInc, c = e._hpInc, l = e._maxAtkInc, p = e._atkInc, u = {}, g = {}, f = {}, m = {}, y = e._skillLevelInc, T = 0, S = 1; S <= e._underSkills.length; ++S) {
                        if (1 != (M = e._underSkills[S - 1])._disabled) for (var C in M) {
                            var v = M[C];
                            "_incPositive" == C ? f[v] = !0 : "_decPositive" == C && (m[v] = !0)
                        }
                    }
                    if (null != e._positiveStatus) for (var b = d.default.PositiveType.shieldHaloBegin; b <= d.default.PositiveType.shieldExEnd; ++b) m[b] ? e._positiveStatus[b] = !1 : f[b] && (e._positiveStatus[b] = !0), 0 == e._positiveStatus[b] ? e.resetBuffByType(!0, b) : 1 == e._positiveStatus[b] && (e._posiBuffIconValue = 1, e.accountBuffValue(!0, b));
                    for (var E = function (e, n) {
                        return d.default.NegativeType.sleep <= e && e <= d.default.NegativeType.chaos && 1 != n._pos && !t.cardHasToPos1Underskill(n)
                    }, I = 1; I <= e._underSkills.length; ++I) {
                        if (1 != (M = e._underSkills[I - 1])._disabled && !this.isHaloUnderSkillDisabledByShield(e, M)) for (var C in M) {
                            v = M[C];
                            "_incNegative" == C ? E(v, e) || (u[v] = !0) : "_decNegative" == C ? g[v] = !0 : "_incPositive" == C ? (v < d.default.PositiveType.shieldHaloBegin || v > d.default.PositiveType.shieldExEnd) && (f[v] = !0) : "_decPositive" == C ? (v < d.default.PositiveType.shieldHaloBegin || v > d.default.PositiveType.shieldExEnd) && (m[v] = !0) : "_maxHpInc" == C ? (s += v, M._removable || (e._maxHpInc = e._maxHpInc + v)) : "_hpInc" == C ? (c += v, M._removable || (e._hpInc = e._hpInc + v, this.updateLastAttackedInfo(e, M._cid, M._sid, e._hpInc))) : "_maxAtkInc" == C ? (l += v, M._removable || (e._maxAtkInc = e._maxAtkInc + v)) : "_atkInc" == C ? (p += v, M._removable || (e._atkInc = e._atkInc + v)) : "_skillLevelInc" == C ? (y += v, M._removable || (e._skillLevelInc = e._skillLevelInc + v)) : "_atkCount" == C ? e._atkCount = e._atkCount + v : "_actionCount" == C ? (e._actionCount = e._actionCount + v, e._actionCount > 2 && e.hasSkills([3191]) && (e._actionCount = 2)) : "_damage" == C ? T += v : "_gemInc" == C ? v : "_gemFrozen" == C ? v : "_status" == C ? this.changeCardStatus(e, M._futureSourceStatus || e._status, v, M._statusVal, this.getCardById(M._cid)) : "_posChange" == C ? this.changeCardPos(e, v) : "_givenSkill" == C ? (e.removeSkillById(M._sid), e.addSkill(v % 65536, Math.floor(v / 65536), d.default.SkillProvider.given)) : "_bind" == C ? e.addBind(v) : "_unbind" == C ? e.removeBind(v) : "_incBall" == C && (this._ball = Math.min(v + this._ball, d.default.MAX_BALL_COUNT))
                        }
                    }
                    e._negaBuffIconValue = 0;
                    var P = 0;
                    if (null != e._negativeStatus) for (var A = 1; A <= d.default.NegativeType.count; ++A) g[A] ? e._negativeStatus[A] = !1 : u[A] && (e._negativeStatus[A] = !0), 0 == e._negativeStatus[A] ? e.resetBuffByType(!1, A) : 1 == e._negativeStatus[A] && (e.accountBuffValue(!1, A), d.default.NegativeType.sleep <= A && A <= d.default.NegativeType.chaos && (e._negaBuffIconValue = e._negaBuffIconValue + Math.pow(2, A - 1)), A != d.default.NegativeType.extraDecHp && A != d.default.NegativeType.cannotRecHp && A != d.default.NegativeType.lostAbility && A != d.default.NegativeType.disableLastSkill && A == d.default.NegativeType.decDamage && e.hasBuff(!1, A) && (P = 2));
                    if (null != e._positiveStatus) for (var R = 1; R <= d.default.PositiveType.count; ++R) (R < d.default.PositiveType.shieldHaloBegin || R > d.default.PositiveType.shieldExEnd) && (m[R] ? e._positiveStatus[R] = !1 : f[R] && (e._positiveStatus[R] = !0), 0 == e._positiveStatus[R] ? e.resetBuffByType(!0, R) : 1 == e._positiveStatus[R] && (e.accountBuffValue(!0, R), R == d.default.PositiveType.powerMark && 0 == e.getBuffValue(!0, R) && (e._positiveStatus[R] = !1, e.resetBuffByType(!0, R)), R != d.default.PositiveType.powerMark && 0 == e._posiBuffIconValue && e.hasBuff(!0, R) && (e._posiBuffIconValue = 1)), R == d.default.PositiveType.extraSkill && e.accountExtraSkill());
                    var B = 1;
                    for (e._posiBuffIconValue = e._posiBuffIconValue + P; ;) {
                        if (null == (M = e._underSkills[B - 1])) break;
                        M._removable ? B += 1 : (1 != M._disabled && null != M._follower && 1 != M._follower._disabled && (M._follower._ignoreDisable = !0), e._underSkills.splice(B - 1, 1))
                    }
                    if (0 != T && (c -= T, e._hpInc = e._hpInc - T), null != e._hp) {
                        if (e._type == r.Data.CardType.fortress && 0 == e._owner._fortressHp) e._hp = e._maxHp; else {
                            var N = e._maxHp + c;
                            e._hp = Math.max(Math.min(N, e._maxHp + s), 0), e._hpInc = e._hpInc + (e._hp - N)
                        }
                        e._haloedMaxHpInc = s
                    }
                    if (null != e._atk) {
                        var D = e._maxAtk + p;
                        e._atk = Math.max(Math.min(D, e._maxAtk + l), 0), e._atkInc = e._atkInc + (e._atk - D), e._haloedMaxAtkInc = l
                    }
                    if (e.isMonster()) for (var U = 1; U <= e._skills.length; ++U) {
                        var M;
                        (M = e._skills[U - 1])._level = Math.min(M._maxLevel + y, h.CardHelper.getSkillMaxLevel(M._id))
                    }
                    return 0 != T && (e._type == r.Data.CardType.fortress && 0 == e._owner._fortressHp || e.getOriginOwner()._opponent.addDamageScore(T)), e._changed = {}, e._atk != n._atk && (e._changed._atk = e._atk - n._atk), e._type != r.Data.CardType.fortress ? null != e._hp && e._hp != n._hp && (e._changed._hp = e._hp - n._hp) : null != e._hp && e._hp != n._hp && e._hp > 0 && e._hp != n._hp - T && (e._changed._hp = e._hp - n._hp + T), 0 != T && (e._changed._damage = T, e._type == r.Data.CardType.fortress && (e._lastDamage = T, this.changeCardStatus(e, e._status, e._status))), e._atkCount != n._atkCount && (e._changed._atkCount = e._atkCount - n._atkCount), e._actionCount != n._actionCount && (e._changed._actionCount = e._actionCount - n._actionCount), e._skillLevelInc != n._skillLevelInc && (e._changed._skillLevelInc = e._skillLevelInc - n._skillLevelInc), (e.isMonster() || e._type == r.Data.CardType.fortress || e._type == r.Data.CardType.magic || e._type == r.Data.CardType.trap) && (_.B.isStatusChange(d.default.NegativeType.count, e._negativeStatus, e._negativeValues, n._negativeStatus, n._negativeValues) && (e._changed._negativeStatus = {}), _.B.isStatusChange(d.default.PositiveType.count, e._positiveStatus, e._positiveValues, n._positiveStatus, n._positiveValues) && (e._changed._positiveStatus = {})), e._binds.length != n._binds.length && (e._changed._bind = []), e._status == d.default.CardStatus.fortress && (e._lastHasUnderSkill = e._underSkills[1]), e._hp, n._hp, e._atk, n._atk, Object.keys(e._changed).length > 0
                }, t.prototype.cardHasToPos1Underskill = function (e) {
                    if (1 == e._pos) return !1;
                    for (var t = 1; t <= e._underSkills.length; t++) if (null != e._underSkills[t - 1]._posChange && (e._underSkills[t - 1]._posChange == d.default.CardPosChange.swap || e._underSkills[t - 1]._posChange == d.default.CardPosChange.x21)) return !0;
                    return !1
                }, t.prototype.updateLastAttackedInfo = function (e, t, n, a) {
                    a < 0 && (e._lastAttackedInfo = {_sid: n, _cid: t, _hpInc: a})
                }, t.prototype.updateBuffsEoundEndPart2 = function () {
                    for (var e = 1; e <= r.Data.MAX_CARD_COUNT_ON_BOARD; e++) {
                        var t = this._boardCards[e];
                        if (_.B.isAlive(t)) for (var n = 1; n <= d.default.POSITIVE_CLEAR_WHEN_ROUND_END_PLUS.length; n++) {
                            var a = d.default.POSITIVE_CLEAR_WHEN_ROUND_END_PLUS[n - 1], i = t.getBuffValues(!0, a), o = !1;
                            if (null != i && 0 != i) {
                                if ("number" == typeof i) ; else for (var s = 1; s <= i.length; s++) this._round < Math.floor(i[s] / 196608) && (o = !0);
                                o || this.decPositiveStatus(t, a, !1, null, null, r.Data.SkillMode.once)
                            }
                        }
                    }
                }, t.prototype.getActionPlayer = function () {
                    return this._stepStatus != d.default.Status.wait_opponent ? this : this._opponent
                }, t.prototype.getActionCard = function () {
                    return this._actionCard || this._opponent._actionCard
                }, t.prototype.getEvents = function (e) {
                    for (var t = [], n = this._battleEvent.getSatisfiedEvents(e), a = 1; a <= n.length; ++a) this._eventObj[n[a - 1]._id] || t.push(n[a - 1]), this._eventObj[n[a - 1]._id] = !0;
                    if (e == c.default.EventType.battle_start || e == c.default.EventType.card_use || e == c.default.EventType.card_die || e == c.default.EventType.card_deal || e == c.default.EventType.battle_end) {
                        var i = this._opponent._battleEvent.getSatisfiedEvents(e);
                        for (a = 1; a <= i.length; ++a) t.push(i[a - 1])
                    }
                    return t
                }, t.prototype.getIsEventSatisfied = function (e) {
                    return this._battleEvent.isEventSatisfied(e)
                }, t.prototype.getActionEffect = function (e, t) {
                    return [e._info._effect[t - 1], e._info._effectValue]
                }, t.prototype.getActionStory = function (e, t) {
                    return e._info._storyId[t - 1]
                }, t.prototype.getHaloModeSkills = function (e) {
                    for (var t = [], n = _.B.mergeTable([this.getBattleCards("BS"), this.getBattleCardsBySkillMode("G", r.Data.SkillMode.in_grave), this.getBattleCardsBySkillMode("H", r.Data.SkillMode.in_hand)]), a = 1; a <= n.length; ++a) {
                        for (var i = n[a - 1], o = 1; o <= i._skills.length; ++o) {
                            var s = i._skills[o - 1];
                            _.B.skillHasMode(s, e) && t.push(s)
                        }
                        null != i._binds[0] && _.B.skillHasMode(i._binds[0]._skills[0], e) && t.push(i._binds[0]._skills[0])
                    }
                    return t
                }, t.prototype.isHaloUnderSkillDisabledByShield = function (e, t) {
                    if (t._mode != r.Data.SkillMode.halo) return !1;
                    if (1 == r.Data._skillInfo[t._sid]._isIgnoreDefend) return !1;
                    var n = this.getCardById(t._cid);
                    return null != n && (!(n._type != r.Data.CardType.monster || e.hasBuff(!0, d.default.PositiveType.shieldExMonster) || !e.hasBuff(!0, d.default.PositiveType.shieldHaloMonster)) || (!(n._type != r.Data.CardType.magic || e.hasBuff(!0, d.default.PositiveType.shieldExMagic) || !e.hasBuff(!0, d.default.PositiveType.shieldHaloMagic)) || !(n._type != r.Data.CardType.trap || e.hasBuff(!0, d.default.PositiveType.shieldExTrap) || !e.hasBuff(!0, d.default.PositiveType.shieldHaloTrap))))
                }, t.prototype.getSkillPowerCost = function (e) {
                    var t = e + (this._extraPowerCost[this._round] || 0);
                    return Math.max(t, 0)
                }, t.prototype.getLeftEnergyNum = function () {
                    for (var e = 0, t = 1; t <= this._handCards.length; t++) 39999 == this._handCards[t - 1]._infoId && e++;
                    return e
                }, t.prototype.addAUseCardToList = function (e, t) {
                    d.default._battleUseCardList._cardOpList[d.default._battleUseCardList._cardOpList.length] = {
                        _type: e,
                        _ids: t
                    }, this._ops.push({_type: e, _ids: t})
                }, t.prototype.resetWhenBattleStart = function () {
                    this._battleStep.resetWhenBattleStart()
                }, t.prototype.resetWhenRoundBegin = function () {
                    this._battleStep.resetWhenRoundBegin()
                }, t.prototype.resetWhenInitialDeal = function () {
                    this._battleStep.resetWhenInitialDeal()
                }, t.prototype.attackEnd = function () {
                    this._battleStep.attackEnd()
                }, t.prototype.resetActionCard = function () {
                    this._battleStep.resetActionCard()
                }, t.prototype.resetAccount = function () {
                    this._battleStep.resetAccount()
                }, t.prototype.isBigWin = function () {
                    return this._battleStep.isBigWin()
                }, t.prototype.beginForward = function (e) {
                    void 0 === e && (e = null), this._battleStep.beginForward(e)
                }, t.prototype.endForward = function () {
                    this._battleStep.endForward()
                }, t.prototype.retreat = function () {
                    this._battleStep.retreat()
                }, t.prototype.skip = function () {
                    this._battleStep.skip()
                }, t.prototype.pause = function () {
                    this._battleStep.pause()
                }, t.prototype.resume = function () {
                    this._battleStep.resume()
                }, t.prototype.checkFinish = function () {
                    return this._battleStep.checkFinish()
                }, t.prototype.getIsWin = function () {
                    return this._battleStep.getIsWin()
                }, t.prototype.getIsLose = function () {
                    return this._battleStep.getIsLose()
                }, t.prototype.getIsPileEmpty = function () {
                    return this._battleStep.getIsPileEmpty()
                }, t.prototype.getIsRoundExceed = function () {
                    return this._battleStep.getIsRoundExceed()
                }, t.prototype.getIsAllCardsDied = function () {
                    return this._battleStep.getIsAllCardsDied()
                }, t.prototype.genResult = function (e) {
                    this._battleStep.genResult(e)
                }, t.prototype.getResult = function () {
                    return this._battleStep.getResult()
                }, t.prototype.step = function () {
                    this._battleStep.step()
                }, t.prototype.start = function () {
                    this._battleStep.start()
                }, t.prototype.finish = function () {
                    this._battleStep.finish()
                }, t.prototype.initialDeal = function () {
                    this._battleStep.initialDeal()
                }, t.prototype.roundBegin = function () {
                    this._battleStep.roundBegin()
                }, t.prototype.deal = function () {
                    this._battleStep.deal()
                }, t.prototype.use = function () {
                    this._battleStep.use()
                }, t.prototype.action = function () {
                    this._battleStep.action()
                }, t.prototype.roundEnd = function () {
                    this._battleStep.roundEnd()
                }, t.prototype.selectMain = function () {
                    this._battleStep.selectMain()
                }, t.prototype.beforeAccountStatus = function () {
                    this._battleStep.beforeAccountStatus()
                }, t.prototype.afterAccountStatus = function () {
                    this._battleStep.afterAccountStatus()
                }, t.prototype.beforeAccountReorder = function () {
                    this._battleStep.beforeAccountReorder()
                }, t.prototype.afterAccountReorder = function () {
                    this._battleStep.afterAccountReorder()
                }, t.prototype.beforeAccountPosChange = function () {
                    this._battleStep.beforeAccountPosChange()
                }, t.prototype.afterAccountPosChange = function () {
                    this._battleStep.afterAccountPosChange()
                }, t.prototype.beforeAccountHalo = function () {
                    this._battleStep.beforeAccountHalo()
                }, t.prototype.afterAccountHalo = function () {
                    this._battleStep.afterAccountHalo()
                }, t.prototype.beforeAccountSpell = function () {
                    this._battleStep.beforeAccountSpell()
                }, t.prototype.afterAccountSpell = function () {
                    this._battleStep.afterAccountSpell()
                }, t.prototype.beforeAccountEvent = function () {
                    this._battleStep.beforeAccountEvent()
                }, t.prototype.afterAccountEvent = function () {
                    this._battleStep.afterAccountEvent()
                }, t.prototype.beforeAccountFinish = function () {
                    this._battleStep.beforeAccountFinish()
                }, t.prototype.afterAccountFinish = function () {
                    this._battleStep.afterAccountFinish()
                }, t.prototype.beforeAccountTrap = function () {
                    this._battleStep.beforeAccountTrap()
                }, t.prototype.afterAccountTrap = function () {
                    this._battleStep.afterAccountTrap()
                },t.prototype.endRound = function (e, t) {
                    this._battleStep.endRound(e, t)
                },t.prototype.initMainMonster = function (e, t) {
                    this._battleStep.initMainMonster(e, t)
                },t.prototype.initBackupMonsters = function (e, t) {
                    this._battleStep.initBackupMonsters(e, t)
                },t.prototype.monsterToBoard = function (e, t) {
                    this._battleStep.monsterToBoard(e, t)
                },t.prototype.drawbackMonster = function (e, t) {
                    this._battleStep.drawbackMonster(e, t)
                },t.prototype.dropHandCard = function (e, t) {
                    this._battleStep.dropHandCard(e, t)
                },t.prototype.useSpell = function (e, t) {
                    this._battleStep.useSpell(e, t)
                },t.prototype.tryUseCard = function () {
                    this._battleStep.tryUseCard()
                },t.prototype.waitOppoUseCard = function () {
                    this._battleStep.waitOppoUseCard()
                },t.prototype.waitObserveUseCard = function () {
                    this._battleStep.waitObserveUseCard()
                },t.prototype.useCard = function (e, t) {
                    this._battleStep.useCard(e, t)
                },t.prototype.replayUseCard = function () {
                    return this._battleStep.replayUseCard()
                },t.prototype.accountStatus = function () {
                    this._battleStep.accountStatus()
                },t.prototype.accountReorder = function () {
                    this._battleStep.accountReorder()
                },t.prototype.doReorderBoard = function () {
                    this._battleStep.doReorderBoard()
                },t.prototype.accountPosChange = function () {
                    this._battleStep.accountPosChange()
                },t.prototype.accountHalo = function () {
                    this._battleStep.accountHalo()
                },t.prototype.spelling = function () {
                    this._battleStep.spelling()
                },t.prototype.underSpell = function () {
                    this._battleStep.underSpell()
                },t.prototype.underDefendSpell = function () {
                    this._battleStep.underDefendSpell()
                },t.prototype.underSpellDamage = function () {
                    this._battleStep.underSpellDamage()
                },t.prototype.underCounterSpell = function () {
                    this._battleStep.underCounterSpell()
                },t.prototype.accountSpell = function () {
                    this._battleStep.accountSpell()
                },t.prototype.afterSpell = function () {
                    this._battleStep.afterSpell()
                },t.prototype.endSpell = function () {
                    this._battleStep.endSpell()
                },t.prototype.doUseCard = function (e, t) {
                    void 0 === e && (e = null), void 0 === t && (t = null), this._battleStep.doUseCard(e, t)
                },t.prototype.endAttack = function (e, t) {
                    void 0 === e && (e = null), void 0 === t && (t = null), this._battleStep.endAttack(e, t)
                },t.prototype.accountEvent = function () {
                    this._battleStep.accountEvent()
                },t.prototype.accountFinish = function () {
                    this._battleStep.accountFinish()
                },t.prototype.accountTrap = function () {
                    this._battleStep.accountTrap()
                },t.prototype.saveStatus = function () {
                    this._battleStep.saveStatus()
                },t.prototype.loadStatus = function () {
                    this._battleStep.loadStatus()
                },t.prototype.removeDeadCards = function () {
                    this._battleStep.removeDeadCards()
                },t.prototype.getAllCards = function () {
                    return this._battleStaticHelper.getAllCards()
                },t.prototype.getCardById = function (e) {
                    return this._battleStaticHelper.getCardById(e)
                },t.prototype.addCardToCards = function (e) {
                    this._battleStaticHelper.addCardToCards(e)
                },t.prototype.addCardByStatusPos = function (e, t, n, a, i, o, r) {
                    void 0 === o && (o = null), void 0 === r && (r = null), this._battleStaticHelper.addCardByStatusPos(e, t, n, a, i, o, r)
                },t.prototype.removeCardFromCards = function (e) {
                    this._battleStaticHelper.removeCardFromCards(e)
                },t.prototype.removeCardToOppo = function (e) {
                    this._battleStaticHelper.removeCardToOppo(e)
                },t.prototype.getGhostCard = function () {
                    return this._battleStaticHelper.getGhostCard()
                },t.prototype.getBattleCards = function (e, t, n) {
                    return void 0 === t && (t = null), void 0 === n && (n = null), this._battleStaticHelper.getBattleCards(e, t, n)
                },t.prototype.getBattleCardsByInfoId = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByInfoId(e, t, n, a)
                },t.prototype.getBattleCardsByOriginId = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByOriginId(e, t, n, a)
                },t.prototype.getBattleCardsByInfoIdGroup = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByInfoIdGroup(e, t, n, a)
                },t.prototype.getBattleCardsByType = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByType(e, t, n, a)
                },t.prototype.getBattleCardsByLevel = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByLevel(e, t, n, a)
                },t.prototype.getBattleCardsByCategory = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByCategory(e, t, n, a)
                },t.prototype.getBattleCardsByCategoryGroup = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByCategoryGroup(e, t, n, a)
                },t.prototype.getBattleCardsByKeyword = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByKeyword(e, t, n, a)
                },t.prototype.getBattleCardsByNature = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "nature", [t], n, a)
                },t.prototype.getBattleCardsByHurt = function (e, t, n) {
                    return void 0 === t && (t = null), void 0 === n && (n = null), this._battleStaticHelper.getBattleCardsByHurt(e, t, n)
                },t.prototype.getBattleCardsByBindedSkill = function (e, t, n, a) {
                    return void 0 === n && (n = null), this._battleStaticHelper.getBattleCardsByBindedSkill(e, t, n, a)
                },t.prototype.filterNotEnoughPowerCards = function (e, t) {
                    return void 0 === t && (t = !1), this._battleStaticHelper.filterNotEnoughPowerCards(e, t)
                },t.prototype.getLeaveCards = function () {
                    return this._battleStaticHelper.getLeaveCards()
                },t.prototype.getLeaveCardsByInfoId = function (e) {
                    return this._battleStaticHelper.getLeaveCardsByInfoId(e)
                },t.prototype.getBindCardsOnBoard = function () {
                    return this._battleStaticHelper.getBindCardsOnBoard()
                },t.prototype.isNeedMainWhenInitialDeal = function () {
                    return this._battleStaticHelper.isNeedMainWhenInitialDeal()
                },t.prototype.isNeedMainWhenRoundBegin = function () {
                    return this._battleStaticHelper.isNeedMainWhenRoundBegin()
                },t.prototype.isNeedMainWhenRoundEnd = function () {
                    return this._battleStaticHelper.isNeedMainWhenRoundEnd()
                },t.prototype.getBattleCardsByStar = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "star", [t], n, a)
                },t.prototype.getBattleCardsByMaxStar = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "max_star", [t], n, a)
                },t.prototype.getBattleCardsByMinStar = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "min_star", [t], n, a)
                },t.prototype.getCardsByMinStar = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getCardsByStr(e, "min_star", [t], n, a)
                },t.prototype.getBattleCardsBetweenStar = function (e, t, n, a, i) {
                    return void 0 === a && (a = null), void 0 === i && (i = null), this._battleStaticHelper.getBattleCardsByStr(e, "stars", [t, n], a, i)
                },t.prototype.getBattleCardsByAtk = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "atk", [t], n, a)
                },t.prototype.getBattleCardsByMaxAtk = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "max_atk", [t], n, a)
                },t.prototype.getBattleCardsByMinAtk = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "min_atk", [t], n, a)
                },t.prototype.getBattleCardsByMaxHp = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "max_hp", [t], n, a)
                },t.prototype.getBattleCardsByMinHp = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "min_hp", [t], n, a)
                },t.prototype.getBattleCardsByCategoryAndNature = function (e, t, n, a, i) {
                    return void 0 === a && (a = null), void 0 === i && (i = null), this._battleStaticHelper.getBattleCardsByStr(e, "CN", [t, n], a, i)
                },t.prototype.getBattleCardsByAtkDef = function (e, t, n, a, i) {
                    return void 0 === a && (a = null), void 0 === i && (i = null), this._battleStaticHelper.getBattleCardsByStr(e, "atk_def", [t, n], a, i)
                },t.prototype.getBattleCardsByMaxOriginAtk = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "max_origin_atk", [t], n, a)
                },t.prototype.getBattleCardsByMaxOriginDef = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsByStr(e, "max_origin_def", [t], n, a)
                },t.prototype.getBattleCardsByBuff = function (e, t, n, a, i) {
                    return void 0 === a && (a = null), void 0 === i && (i = null), this._battleStaticHelper.getBattleCardsByBuff(e, t, n, a, i)
                },t.prototype.getBattleCardsBySkills = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsBySkills(e, t, n, a)
                },t.prototype.getBattleCardsBySkillMode = function (e, t, n, a) {
                    return void 0 === n && (n = null), void 0 === a && (a = null), this._battleStaticHelper.getBattleCardsBySkillMode(e, t, n, a)
                },t.prototype.isNeedDrop = function () {
                    return this._battleStaticHelper.isNeedDrop()
                },t.prototype.isNeedSelectSkill = function () {
                    return this._battleStaticHelper.isNeedSelectSkill()
                },t.prototype.isMustUseASpecificSkill = function () {
                    return this._battleStaticHelper.isMustUseASpecificSkill()
                },t.prototype.isMustUseASkill = function () {
                    return this._battleStaticHelper.isMustUseASkill()
                },t.prototype.getBoardCardsNumByNatureForSkill = function (e) {
                    return this._battleStaticHelper.getBoardCardsNumByNatureForSkill(e)
                },t.prototype.getHasUnderTypeCastedModeCards = function (e, t) {
                    return this._battleStaticHelper.getHasUnderTypeCastedModeCards(e, t)
                },t.prototype.isBoardPosLocked = function (e) {
                    return this._battleStaticHelper.isBoardPosLocked(e)
                },t.prototype.isBoardPosEmpty = function (e) {
                    return this._battleStaticHelper.isBoardPosEmpty(e)
                },t.prototype.getEmptyBoardPosCount = function () {
                    return this._battleStaticHelper.getEmptyBoardPosCount()
                },t.prototype.getEmptyBoardPos = function (e) {
                    return void 0 === e && (e = null), this._battleStaticHelper.getEmptyBoardPos(e)
                },t.prototype.getEmptyBackupPos = function () {
                    return this._battleStaticHelper.getEmptyBackupPos()
                },t.prototype.canSpecialSummonAnyCard = function () {
                    return this._battleStaticHelper.canSpecialSummonAnyCard()
                },t.prototype.canSpecialSummon = function (e, t, n) {
                    return void 0 === t && (t = null), void 0 === n && (n = null), this._battleStaticHelper.canSpecialSummon(e, t, n)
                },t.prototype.filterCanChangeToBoardCards = function (e, t, n) {
                    return void 0 === t && (t = null), void 0 === n && (n = null), this._battleStaticHelper.filterCanChangeToBoardCards(e, t, n)
                },t.prototype.filterCanEquipCards = function (e, t) {
                    return this._battleStaticHelper.filterCanEquipCards(e, t)
                },t.prototype.filterCanEvolveCards = function (e, t) {
                    return this._battleStaticHelper.filterCanEvolveCards(e, t)
                },t.prototype.filterCanChangeToHandCards = function (e) {
                    return this._battleStaticHelper.filterCanChangeToHandCards(e)
                },t.prototype.filterHasEnergyCards = function (e) {
                    return this._battleStaticHelper.filterHasEnergyCards(e)
                },t.prototype.filterRemoveByInfoId = function (e, t) {
                    return this._battleStaticHelper.filterRemoveByInfoId(e, t)
                },t.prototype.filterRemoveByNature = function (e, t) {
                    return this._battleStaticHelper.filterRemoveByNature(e, t)
                },t.prototype.filterRemoveBySkillType = function (e, t) {
                    return this._battleStaticHelper.filterRemoveBySkillType(e, t)
                },t.prototype.filterCardsByNature = function (e, t) {
                    return this._battleStaticHelper.filterCardsByNature(e, t)
                },t.prototype.filterCardsByCardType = function (e, t) {
                    return this._battleStaticHelper.filterCardsByCardType(e, t)
                },t.prototype.filterCardsByInfoType = function (e, t) {
                    return this._battleStaticHelper.filterCardsByInfoType(e, t)
                },t.prototype.filterCardsByMinLevel = function (e, t) {
                    return this._battleStaticHelper.filterCardsByMinLevel(e, t)
                },t.prototype.filterCardsByLevel = function (e, t) {
                    return this._battleStaticHelper.filterCardsByLevel(e, t)
                },t.prototype.filterCardsByMaxHp = function (e, t) {
                    return this._battleStaticHelper.filterCardsByMaxHp(e, t)
                },t.prototype.filterCardsByMinHp = function (e, t) {
                    return this._battleStaticHelper.filterCardsByMinHp(e, t)
                },t.prototype.filterCardsExceptCategory = function (e, t) {
                    return this._battleStaticHelper.filterCardsExceptCategory(e, t)
                },t.prototype.filterCardsByOriginIds = function (e, t) {
                    return this._battleStaticHelper.filterCardsByOriginIds(e, t)
                },t.prototype.isChooseCardsSkill = function (e) {
                    return this._battleStaticHelper.isChooseCardsSkill(e)
                },t.prototype.getDrawbackCost = function (e) {
                    return this._battleStaticHelper.getDrawbackCost(e)
                },t.prototype.randomPile = function () {
                    this._battleStaticHelper.randomPile()
                },t.prototype.canUseHandCard = function () {
                    return this._battleStaticHelper.canUseHandCard()
                },t.prototype.getMaxRound = function (e) {
                    return void 0 === e && (e = null), this._battleStaticHelper.getMaxRound(e)
                },t.prototype.getRandom = function () {
                    return this._battleStaticHelper.getRandom()
                },t.prototype.getRandomIntInRange = function (e, t) {
                    return this._battleStaticHelper.getRandomIntInRange(e, t)
                },t.prototype.getRandomByHalo = function () {
                    return this._battleStaticHelper.getRandomByHalo()
                },t.prototype.haloRandom = function (e) {
                    return this._battleStaticHelper.haloRandom(e)
                },t.prototype.getChangeRandomValue = function () {
                    return this._battleStaticHelper.getChangeRandomValue()
                },t.prototype.randomOne = function (e) {
                    return this._battleStaticHelper.randomOne(e)
                },t.prototype.randomOneTryExcept = function (e, t) {
                    return this._battleStaticHelper.randomOneTryExcept(e, t)
                },t.prototype.randomOneExcept = function (e, t) {
                    return this._battleStaticHelper.randomOneExcept(e, t)
                },t.prototype.randomTable = function (e, t) {
                    return this._battleStaticHelper.randomTable(e, t)
                },t.prototype.getDamageFactor = function (e) {
                    return this._battleStaticHelper.getDamageFactor(e)
                },t.prototype.getTotalDamageScore = function () {
                    return this._battleStaticHelper.getTotalDamageScore()
                },t.prototype.addDamageScore = function (e) {
                    this._battleStaticHelper.addDamageScore(e)
                },t.prototype.addDestroyCardScore = function (e) {
                    this._battleStaticHelper.addDestroyCardScore(e)
                },t.prototype.getTotalRound = function () {
                    return this._round
                },t.prototype.getDestroyMonsterCount = function (e) {
                    return this._destroyMonsterCount[e] || 0
                },t.prototype.getSummonedMonsterCount = function (e) {
                    return this._totalSummonedMonsterCount[e + 1] || 0
                },t.prototype.getCastedMagicCount = function () {
                    return this._totalCastedMagicCount
                },t.prototype.getCastedTrapCount = function () {
                    return this._totalCastedTrapCount
                },t.prototype.loadUnitTest = function () {
                    this._battleStaticHelper.loadUnitTest()
                },t.prototype.loadFields = function (e, t) {
                    this._battleStaticHelper.loadFields(e, t)
                },t.prototype.loadCard = function (e, t, n) {
                    this._battleStaticHelper.loadCard(e, t, n)
                },t.prototype.loadUsedCards = function (e) {
                    this._battleStaticHelper.loadUsedCards(e)
                },t.prototype.sendEvent = function (e, t, n) {
                    void 0 === t && (t = null), void 0 === n && (n = null), this._battleStaticHelper.sendEvent(e, t, n)
                },t.prototype.battleLog = function (e) {
                    this._battleStaticHelper.battleLog(e)
                },t.prototype.cardName = function (e) {
                    return this._battleStaticHelper.cardName(e)
                },t.prototype.createCharacterCard = function () {
                    return this._battleStaticHelper.createCharacterCard()
                },t.prototype.calcFortressCost = function (e) {
                    return e
                },t.prototype.changeCardStatus = function (e, t, n, a, i) {
                    void 0 === a && (a = null), void 0 === i && (i = null), this._battleHelper.changeCardStatus(e, t, n, a, i)
                },t.prototype.changeCardPos = function (e, t) {
                    this._battleHelper.changeCardPos(e, t)
                },t.prototype.changeEvent = function (e, t) {
                    this._battleHelper.changeEvent(e, t)
                },t.prototype.removeCardFromPile = function (e) {
                    this._battleHelper.removeCardFromPile(e)
                },t.prototype.removeCardFromHand = function (e) {
                    this._battleHelper.removeCardFromHand(e)
                },t.prototype.removeCardFromBoard = function (e) {
                    this._battleHelper.removeCardFromBoard(e)
                },t.prototype.removeCardFromGrave = function (e) {
                    this._battleHelper.removeCardFromGrave(e)
                },t.prototype.removeCardFromLeave = function (e) {
                    e.saveAndReset()
                },t.prototype.removeCardFromEnergy = function (e) {
                    this._battleHelper.removeCardFromEnergy(e)
                },t.prototype.addCardToPile = function (e) {
                    this._battleHelper.addCardToPile(e)
                },t.prototype.addCardToHand = function (e) {
                    this._battleHelper.addCardToHand(e)
                },t.prototype.addCardToBoard = function (e) {
                    this._battleHelper.addCardToBoard(e)
                },t.prototype.addCardToGrave = function (e) {
                    this._battleHelper.addCardToGrave(e)
                },t.prototype.addCardToLeave = function (e) {
                    this._battleHelper.addCardToLeave(e)
                },t.prototype.addCardToEnergy = function (e) {
                    this._battleHelper.addCardToEnergy(e)
                },t.prototype.castSkill = function (e, t, n) {
                    this._battleSkill.castSkill(e, t, n)
                },t.prototype.forceDrawbackMonster = function (e, t, n, a, i) {
                    this._battleSkill.forceDrawbackMonster(e, t, n, a, i)
                },t.prototype.skillCasted = function (e, t, n) {
                    this._battleSkill.skillCasted(e, t, n)
                },t.prototype.revertAbilitySkillEffect = function (e, t, n) {
                    this._battleSkill.revertAbilitySkillEffect(e, t, n)
                },t.prototype.canUseMonster = function (e, t) {
                    return this._battleSkill.canUseMonster(e, t)
                },t.prototype.canEvolveCard = function (e, t) {
                    return this._battleSkill.canEvolveCard(e, t)
                },t.prototype.canDrawbackCard = function (e) {
                    return this._battleSkill.canDrawbackCard(e)
                },t.prototype.canUseMonsterNormal = function (e, t) {
                    return this._battleSkill.canUseMonsterNormal(e, t)
                },t.prototype.canUseMonsterSpecial = function (e, t) {
                    return this._battleSkill.canUseMonsterSpecial(e, t)
                },t.prototype.canUseMonsterSpecific = function (e, t) {
                    return this._battleSkill.canUseMonsterSpecific(e, t)
                },t.prototype.canUseMonsterSpell = function (e, t) {
                    return this._battleSkill.canUseMonsterSpell(e, t)
                },t.prototype.canUseAnyMonsterSpell = function (e) {
                    return this._battleSkill.canUseAnyMonsterSpell(e)
                },t.prototype.canUseMagic = function (e, t) {
                    return void 0 === t && (t = !1), this._battleSkill.canUseMagic(e, t)
                },t.prototype.isEquipSkillForOppoCard = function (e) {
                    return this._battleSkill.isEquipSkillForOppoCard(e)
                },t.prototype.canEquipCard = function (e, t) {
                    return this._battleSkill.canEquipCard(e, t)
                },t.prototype.isCardInDecHpUnderSkill = function (e, t) {
                    return void 0 === t && (t = !1), this._battleSkill.isCardInDecHpUnderSkill(e, t)
                },t.prototype.bindMagicTarget = function (e, t, n, a, i) {
                    return this._battleSkill.bindMagicTarget(e, t, n, a, i)
                },t.prototype.canUseTrap = function (e, t) {
                    return void 0 === t && (t = !1), this._battleSkill.canUseTrap(e, t)
                },t.prototype.canUseTrapOnTarget = function (e, t) {
                    return this._battleSkill.canUseTrapOnTarget(e, t)
                },t.prototype.canUseTrapLater = function (e) {
                    return this._battleSkill.canUseTrapLater(e)
                },t.prototype.canTrapEffect = function (e) {
                    return this.canTrapEffect(e)
                },t.prototype.canTriggerTrap = function (e) {
                    return this._battleSkill.canTriggerTrap(e)
                },t.prototype.canTriggerTrapWhenStatusChange = function (e, t) {
                    return this._battleSkill.canTriggerTrapWhenStatusChange(e, t)
                },t.prototype.canTriggerTrapWhenRoundBegin = function (e) {
                    return this._battleSkill.canTriggerTrapWhenRoundBegin(e)
                },t.prototype.canTriggerTrapWhenOppoRoundBegin = function (e) {
                    return this._battleSkill.canTriggerTrapWhenOppoRoundBegin(e)
                },t.prototype.swapHandPileCards = function (e, t, n, a, i) {
                    return this._battleSkill.swapHandPileCards(e, t, n, a, i)
                },t.prototype.removePowerRandom = function (e, t, n, a, i) {
                    return this._battleSkill.removePowerRandom(e, t, n, a, i)
                },t.KEY_TOTAL = "TOTAL",t.EVENT = new f.noxEvent1,t
            }(i.BattleInterfaces);
        n.PlayerBattle = m, cc._RF.pop()
    }, {
        "../../../noxEvent": "noxEvent",
        "../../data/CardHelper": "CardHelper",
        "../../data/data": "data",
        "./BattleAi": "BattleAi",
        "./BattleCondition": "BattleCondition",
        "./BattleData": "BattleData",
        "./BattleEvent": "BattleEvent",
        "./BattleHelper": "BattleHelper",
        "./BattleInterfaces": "BattleInterfaces",
        "./BattleSkill": "BattleSkill",
        "./BattleStaticHelper": "BattleStaticHelper",
        "./BattleStep": "BattleStep",
        "./BattlleCardStatus": "BattlleCardStatus"
    }],
    PlayerBonus: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "be5fbXrz1hOI4t/8LAovkC+", "PlayerBonus"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../data"), o = e("./ServerBonus"), r = e("./Bonus"),
            _ = e("../../../nox"), s = _.nox.toNumber, c = e("../../utils/MsgCenter"), l = e("../../utils/TimeUtil"),
            d = e("../../utils/ActivityUtil"), p = e("../../part/BonusPart"), u = e("../../ToastManager"),
            g = e("../../../leocool/lcStr"), h = e("../../part/UserPart"), f = e("../../utils/RechargeUtil"),
            m = e("../../utils/SpriteUtil"), y = e("../../utils/UIUtil"), T = e("../../config/UICfg"),
            S = e("../../NoticeManager"), C = function () {
                function e() {
                    this._bonuses = {}, this._serverBonuses = [], this._bonusCount = 0, this._achievePoint = 0, i.Data.Event.daily_active_dirty.addListener(null, function (e) {
                        this.onDailyActiveDirty()
                    }.bind(this)), i.Data.Event.level_dirty.addListener(this, function () {
                        this.onLevelDirty()
                    }), i.Data.Event.card_dirty.addListener(this, function (e) {
                        this.onCardDirty(e)
                    }), a.lc.addEventListener(i.Data.Event.card_add, function (e) {
                        this.onCardAdd(e._infoId)
                    }.bind(this)), i.Data.Event.recharge_success.addListener(this, function (e) {
                        e != i.Data.PurchaseType.month_card_1 && e != i.Data.PurchaseType.month_card_2 || this.onMonthCardDirty(e)
                    }), i.Data.Event.chapter_level_dirty.addListener(this, function (e) {
                        this.onChapterLevelDirty(e._levelId)
                    }), a.lc.addEventListener(i.Data.Event.city_sweep, function (e) {
                        this.onNoviceTaskDirty(2, e._times)
                    }.bind(this)), a.lc.addEventListener(i.Data.Event.hero_guard_dirty, function (e) {
                        0 == e._data._taskId && this.onNoviceTaskDirty(3)
                    }.bind(this)), a.lc.addEventListener(i.Data.Event.pk_join, function (e) {
                        this.onNoviceTaskDirty(5)
                    }.bind(this)), i.Data.Event.time_hour_changed.addListener(this, function () {
                        this.checkGrainBonus()
                    }.bind(this)), c.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._bonusCount = 0, this._bonuses = {}, this._serverBonuses = [], this.stopSchedule()
                }, e.prototype.splitBonus = function (e, t) {
                    void 0 === t && (t = null);
                    for (var n = [], a = [], i = [], o = 0; o < e.length; ++o) {
                        var r = e[o], _ = t ? t(o, r) : r;
                        r._value >= r._info._val ? r._isClaimed ? i.push(_) : n.push(_) : a.push(_)
                    }
                    return [n, a, i]
                }, e.prototype.splitWeekBonusByType = function (e) {
                    return [[], [], []]
                }, e.prototype.splitOpenServerLimitGiftByType = function (e) {
                    return [[], [], []]
                }, e.prototype.splitOpenServerBonus = function (e) {
                    for (var t = [], n = [], a = [], i = [], o = 0; o < e.length; o++) {
                        var r = e[o];
                        r._remainClaimTimes <= 0 ? i.push(r) : r._value >= r._info._val ? r._isClaimed ? a.push(r) : t.push(r) : n.push(r)
                    }

                    function _(e, t) {
                        return e._infoId >= 30633 && t._infoId < 30633 ? -1 : e._infoId < 30633 && t._infoId >= 30633 ? 1 : e._infoId - t._infoId
                    }

                    return n.sort(_), t.sort(_), [t, n, a, i]
                }, e.prototype.hashPbBonus = function (e) {
                    var t = {}, n = {};
                    if (e.bonuses) for (var a = 0; a < e.bonuses.length; ++a) {
                        var i = e.bonuses[a];
                        t[i.cid] = i.value
                    }
                    if (e.claimed) for (a = 0; a < e.claimed.length; ++a) {
                        n[e.claimed[a]] = !0
                    }
                    return [t, n]
                }, e.prototype.init = function (e, t) {
                    void 0 === t && (t = null);
                    var n = this.hashPbBonus(e), o = n[0], _ = n[1];
                    for (var c in null == t && (t = !0), this._bonusLord = [], this._bonusLevel = [], this._bonusChapter = [], this._bonusCharacter = [], this._bonusPassChapter = [], this._bonusEquip = [], this._bonusHorse = [], this._bonusBook = [], this._bonusDailyTask = [], this._bonusGrainTask = [], t && (this._bonusOnlineTask = []), this._bonusNoviceTask = [], this._bonusFacebookTask = [], this._bonusWeekCheckin = [], this._bonusLogin = [], this._bonusMonthCheckin = [], this._bonusVipDaily = [], this._bonusMonthCard = [], this._bonusActivity = [], this._bonusFundLevel = [], this._bonusFund_7days = [], this._bonusFundAll = [], this._invitedBonus = null, this._bonusInvite = [], this._bonusClashTarget = [], this._bonusClashChests = [], this._bonusClashChestsEx = [], this._bonusNewClashTarget = [], this._bonusClash = [], this._bonusClashConti = [], this._bonusClashLegacy = [], this._bonusClashLocal = [], this._bonusClashZone = [], this._bonusClashTriumph = [], this._bonusClashConsecutiveWins = [], this._bonusClashReach = [], this._bonusArenaOnce = [], this._bonusArenaAll = [], this._bonusArena12 = [], this._bonusGoldGain = [], this._bonusGoldCost = [], this._bonusGemCost = [], this._bonusBottle = [], this._bonusCardSr = [], this._bonusCardUr = [], this._bonusCardPackage = [], this._bonusAnyLevel = [], this._bonusTeach = {}, this._bonusDailyActive = [], this._bonusWeeklyActive = [], this._loginDayBonus = [], this._fundResetCount = a.lc.D(e.task_reset_count, 0), this._bonusFundTasks = {}, this._changedFundTasks = {}, this._allFundTasks = {}, this._bonusPrimeTime1 = [], this._bonusPrimeTime2 = [], this._bonusPrimeTime3 = [], this._bonusPreferential = [], this._clashBonuses = [this._bonusClash, this._bonusClashConti, this._bonusClashLegacy, this._bonusClashLocal, this._bonusClashZone], this._arenaBonuses = [this._bonusArenaOnce, this._bonusArenaAll, this._bonusArena12], this._newClashBonuses = [this._bonusClashTriumph, this._bonusClashConsecutiveWins, this._bonusClashReach], this._collectBonuses = [this._bonusGoldGain, this._bonusCardSr, this._bonusCardUr, this._loginDayBonus, this._bonusAnyLevel], this._costBonuses = [this._bonusGoldCost, this._bonusGemCost, this._bonusCardPackage, this._bonusBottle], this._weekPackage = [], this._bonuseOpenServerGift = [], this._bonuseOpenServer = [], this._bonusVipRechargeLayer = [], this._bonuseOfWorship = [], this._newSuitBags1 = [], this._newSuitBags2 = [], this._newSuitBags3 = [], this._newSuitBags4 = [], this._superGrowthFund1 = [], this._superGrowthFund2 = [], this._newGuidance = [], this._rodReward = [], this._sevenRecharge = [], this._sevenRecharge2 = [], this._newServerRecharge = [], this._anniversarySignBonus = [], this._anniversaryExchangeBonus = [], this._anniversaryExchangeConditionsBonus = null, this._anniversaryWheelBonus = [], this._birthdayCakeRankBonus = [], this._birthdayCakeSubmitBonus = [], this._returnBonus = null, this._regressionRechargePackageBonus1 = [], this._regressionRechargePackageBonus2 = [], this._characterSpecialRechargePackBonus = [], this._fundSignInLastTime = e.signin_fund_last_time / 1e3, i.Data._bonusInfo) {
                        var d = i.Data._bonusInfo[c];
                        if (d._cid > 0 || d._type > 0) {
                            var p = (y = new r.Bonus(s(c)))._type;
                            switch (y._value = a.lc.D(o[d._cid], y._value), y._isClaimed = a.lc.D(_[c], y._isClaimed), y._isDefaultClaimable = y._value >= d._val, p == i.Data.BonusType.online && 1 != t || (this._bonuses[c] = y), p) {
                                case i.Data.BonusType.lord:
                                    101 == d._cid ? (cc.assert(!1, "not supported"), this._bonusLord.push(y)) : 103 == d._cid ? this._bonusChapter.push(y) : cc.assert(!1, "unexpected cid: " + d._cid);
                                    break;
                                case i.Data.BonusType.level:
                                    this._bonusLevel.push(y);
                                    break;
                                case i.Data.BonusType.character:
                                    this._bonusCharacter.push(y);
                                    break;
                                case i.Data.BonusType.equip:
                                    this._bonusEquip.push(y);
                                    break;
                                case i.Data.BonusType.book:
                                    this._bonusBook.push(y);
                                    break;
                                case i.Data.BonusType.horse:
                                    this._bonusHorse.push(y);
                                    break;
                                case i.Data.BonusType.daily_task:
                                    this._bonusDailyTask.push(y);
                                    break;
                                case i.Data.BonusType.week_checkin:
                                    this._bonusWeekCheckin.push(y);
                                    break;
                                case i.Data.BonusType.login:
                                    this._bonusLogin.push(y);
                                    break;
                                case i.Data.BonusType.vip_daily:
                                    d._cid >= 1120 && d._cid <= 1124 || d._cid >= 1304 && d._cid <= 1306 ? (this._packageBonus = a.lc.D(this._packageBonus, {}), this._packageBonus[d._cid] = y) : d._cid >= 1401 && d._cid <= 1402 ? (this._limitBonus = a.lc.D(this._limitBonus, {}), this._limitBonus[d._cid] = y) : this._bonusVipDaily.push(y);
                                    break;
                                case i.Data.BonusType.month_card:
                                    this._bonusMonthCard.push(y);
                                    break;
                                case i.Data.BonusType.online:
                                    4009 == d._id ? this._cardBonus = y : t && this._bonusOnlineTask.push(y);
                                    break;
                                case i.Data.BonusType.novice:
                                    this._bonusNoviceTask.push(y);
                                    break;
                                case i.Data.BonusType.activity:
                                    this._bonusActivity.push(y);
                                    break;
                                case i.Data.BonusType.pass_chapter:
                                    this._bonusPassChapter.push(y);
                                    break;
                                case i.Data.BonusType.fund_level:
                                    y._value = P.getMaxCharacterLevel(), this._bonusFundLevel.push(y);
                                    break;
                                case i.Data.BonusType.fund_7days:
                                    this._bonusFund_7days.push(y);
                                    break;
                                case i.Data.BonusType.fund_all:
                                    this._bonusFundAll.push(y);
                                    break;
                                case i.Data.BonusType.invite:
                                    108 == d._cid ? this._bonusInvite.push(y) : 113 == d._cid ? this._invitedBonus = y : cc.assert(!1, "fatal error");
                                    break;
                                case i.Data.BonusType.facebook:
                                    this._bonusFacebookTask.push(y);
                                    break;
                                case i.Data.BonusType.clash_target:
                                    this._bonusClashTarget.push(y);
                                    break;
                                case i.Data.BonusType.clash_chests1:
                                case i.Data.BonusType.clash_chests2:
                                case i.Data.BonusType.clash_chests3:
                                case i.Data.BonusType.clash_chests4:
                                case i.Data.BonusType.clash_chests5:
                                    this._bonusClashChests.push(y);
                                    break;
                                case i.Data.BonusType.clash_new_chests1:
                                case i.Data.BonusType.clash_new_chests2:
                                case i.Data.BonusType.clash_new_chests3:
                                case i.Data.BonusType.clash_new_chests4:
                                case i.Data.BonusType.clash_new_chests5:
                                    this._bonusClashChestsEx.push(y);
                                    break;
                                case i.Data.BonusType.clash:
                                    this._bonusClash.push(y);
                                    break;
                                case i.Data.BonusType.clash_conti:
                                    this._bonusClashConti.push(y);
                                    break;
                                case i.Data.BonusType.clash_legacy:
                                    this._bonusClashLegacy.push(y);
                                    break;
                                case i.Data.BonusType.clash_local:
                                    this._bonusClashLocal.push(y);
                                    break;
                                case i.Data.BonusType.clash_zone:
                                    this._bonusClashZone.push(y);
                                    break;
                                case i.Data.BonusType.arena_once:
                                    this._bonusArenaOnce.push(y);
                                    break;
                                case i.Data.BonusType.arena_all:
                                    this._bonusArenaAll.push(y);
                                    break;
                                case i.Data.BonusType.arena_12:
                                    this._bonusArena12.push(y);
                                    break;
                                case i.Data.BonusType.gold_cost:
                                    this._bonusGoldCost.push(y);
                                    break;
                                case i.Data.BonusType.gold_gain:
                                    this._bonusGoldGain.push(y);
                                    break;
                                case i.Data.BonusType.any_level:
                                    this._bonusAnyLevel.push(y);
                                    break;
                                case i.Data.BonusType.gem_cost:
                                    this._bonusGemCost.push(y);
                                    break;
                                case i.Data.BonusType.bottle:
                                    this._bonusBottle.push(y);
                                    break;
                                case i.Data.BonusType.card_sr:
                                    this._bonusCardSr.push(y);
                                    break;
                                case i.Data.BonusType.card_ur:
                                    this._bonusCardUr.push(y);
                                    break;
                                case i.Data.BonusType.card_package:
                                    this._bonusCardPackage.push(y);
                                    break;
                                case i.Data.BonusType.teach:
                                    this._bonusTeach[y._infoId] = y;
                                    break;
                                case i.Data.BonusType.login_day:
                                    this._loginDayBonus.push(y);
                                    break;
                                case i.Data.BonusType.daily_active:
                                    this._bonusDailyActive.push(y), !a.lc.V(P._dailyActive) && a.lc.V(y._value) && (P._dailyActive = y._value);
                                    break;
                                case i.Data.BonusType.return_to_game:
                                    y._value != y._info._val || y._isClaimed || (this._returnBonus = y);
                                    break;
                                case i.Data.BonusType.fund_task:
                                    cc.assert(null == this._allFundTasks[y._info._cid], "fatal error: cid " + y._info._cid + " duplicated"), this._allFundTasks[y._info._cid] = y, null == o[y._info._cid] || y._isClaimed || (this._bonusFundTasks[y._info._cid] = y, this._changedFundTasks[y._info._cid] = y._info._cid);
                                    break;
                                case i.Data.BonusType.newGuidance:
                                    this._newGuidance.push(y)
                            }
                        }
                    }
                    var u = l.TimeUtil.getServerDate()[2];
                    for (var c in i.Data._monthCheckinInfo) {
                        var g = i.Data._monthCheckinInfo[c];
                        if (g._month == u) (y = this._bonuses[g._bonusId])._checkinInfo = g, this._bonusMonthCheckin.push(y)
                    }
                    for (var h = [this._bonusDailyTask, this._bonusLevel, this._bonusGrainTask, this._bonusOnlineTask, this._bonusWeekCheckin, this._bonusLogin, this._bonusMonthCheckin, this._bonusVipDaily, this._bonusMonthCard, this._bonusLord, this._bonusChapter, this._bonusCharacter, this._bonusEquip, this._bonusHorse, this._bonusBook, this._bonusClashTarget, this._bonusClashChests, this._bonusClashChestsEx, this._bonusClash, this._bonusClashConti, this._bonusClashLegacy, this._bonusClashLocal, this._bonusClashZone, this._bonusArenaOnce, this._bonusArenaAll, this._bonusArena12, this._bonusGoldCost, this._bonusGoldGain, this._bonusGemCost, this._bonusBottle, this._bonusCardSr, this._bonusCardUr, this._bonusCardPackage, this._bonusAnyLevel], f = 0; f < h.length - 1; ++f) {
                        (y = h[f]).sort(function (e, t) {
                            return e._info._cid == t._info._cid ? e._info._val - t._info._val : e._info._cid - t._info._cid
                        })
                    }
                    this._bonusNoviceTask.sort(function (e, t) {
                        return e._info._id - t._info._id
                    }), this._bonusDailyActive.sort(function (e, t) {
                        return e._info._id - t._info._id
                    }), this._bonusWeeklyActive.sort(function (e, t) {
                        return e._info._id - t._info._id
                    });
                    for (f = 0; f < this._bonusOnlineTask.length; ++f) {
                        var m = (y = this._bonusOnlineTask[f]).getPrevBonus();
                        a.lc.V(m) && y._value < m._info._val && (y._value = m._info._val), y._timestamp = l.TimeUtil.getCurrentTime()
                    }
                    if (this.startSchedule(), e.items) for (f = 0; f < e.items.length; ++f) {
                        var y, T = e.items[f];
                        (y = this._bonuses[T.info_id])._claimTimes = T.num, y._claimTimes >= y._claimTimesMax && (y._isClaimed = !0)
                    }
                    this.initIapCount(e), this.checkGrainBonus(), this.checkOnlineBonus()
                }, e.prototype.startSchedule = function () {
                    this.stopSchedule(), this._schedulerId = function (e) {
                        this.checkOnlineBonus()
                    }.bind(this), _.nox.scheduleInterval(this._schedulerId, 1)
                }, e.prototype.stopSchedule = function () {
                    a.lc.V(this._schedulerId) && (_.nox.unschedule(this._schedulerId), this._schedulerId = null)
                }, e.prototype.checkGrainBonus = function () {
                }, e.prototype.checkOnlineBonus = function () {
                    if (a.lc.V(this._bonusOnlineTask)) for (var e = 0; e < this._bonusOnlineTask.length; ++e) {
                        var t = this._bonusOnlineTask[e], n = t.getPrevBonus();
                        if ((null == n || n._isClaimed) && !t._isClaimed) {
                            var i = l.TimeUtil.getCurrentTime();
                            t._value = t._value + (i - t._timestamp), t._timestamp = i, t._value >= t._info._val && t.sendBonusDirty();
                            break
                        }
                    }
                    a.lc.V(this._cardBonus) && !this._cardBonus._isClaimed && (this._cardBonus._value = Math.floor((l.TimeUtil.getCurrentTime() - P._regTime) / 3600))
                }, e.prototype.getCommonBonusFlag = function (e, t) {
                    void 0 === t && (t = null);
                    var n = 0;
                    if (null == e) return n;
                    for (var a = 0; a < e.length; ++a) {
                        var i = e[a];
                        i._value >= i._info._val && !i._isClaimed && (null == t || i._info._cid == t) && (n += 1)
                    }
                    return n
                }, e.prototype.getActivityBonusFlag = function () {
                }, e.prototype.getCheckinBonusFlag = function () {
                    return this.getMonthCardBonusFlag() + this.getMonthCheckinBonusFlag() + this.getLoginBonusFlag() + this.getOnlineTaskBonusFlag()
                }, e.prototype.getFundBonusFlag = function () {
                    return this.getFundLevelBonusFlag() + this.getFundAllBonusFlag()
                }, e.prototype.getSignInFundFlag = function () {
                    var e = this._bonusFund_7days, t = this.splitBonus(e), n = [], a = t.shift(), i = t.shift(),
                        o = t.shift();
                    a.sort(function (e, t) {
                        return e._info._val - t._info._val
                    }), i.sort(function (e, t) {
                        return e._info._val - t._info._val
                    }), o.sort(function (e, t) {
                        return e._info._val - t._info._val
                    });
                    for (var r = 0; r < a.length; ++r) n.push(a[r]);
                    for (r = 0; r < i.length; ++r) n.push(i[r]);
                    for (r = 0; r < o.length; ++r) n.push(o[r]);
                    var s = _.nox.getDateTableFromTimeSeconds(P._playerBonus._fundSignInLastTime),
                        c = _.nox.getDateTableFromTimeSeconds(l.TimeUtil.getCurrentTime());
                    return n[0].canClaim() && s.day != c.day ? 1 : 0
                }, e.prototype.getCustomActivityFlag = function () {
                    for (var e = 0, t = 0; t < P._CustomActivity.length; ++t) {
                        var n = P._CustomActivity[t], a = JSON.parse(n.user_activity_data);
                        for (var i in a) parseInt(i) > 19999 && 0 == a[i] && (e += 1)
                    }
                    return e
                }, e.prototype.getSevenRechargeBonusFlag = function () {
                    return 0
                }, e.prototype.getAnniversaryWheelBonusFlag = function () {
                    return 0
                }, e.prototype.getTiredBonusFlag = function () {
                    for (var e = 0, t = 0; t < P._CustomActivity.length; ++t) {
                        var n = P._CustomActivity[t], a = JSON.parse(n.user_activity_data);
                        if (n.id >= 100 && n.id <= 103 || n.id >= 300 && n.id <= 399 || 141 == n.id) for (var i in a) parseInt(i) > 19999 && 0 == a[i] && (e += 1)
                    }
                    return e
                }, e.prototype.getFirstRechargeFlag = function () {
                    var e = P._playerBonus._packageBonus[1120];
                    return f.RechargeUtil.isGemRecharged() && e._value >= e._info._val && !e._isClaimed ? 1 : 0
                }, e.prototype.getRecharge7Flag = function () {
                    var e = P._playerBonus._packageBonus[1306];
                    return e._value >= e._info._val && !e._isClaimed ? 1 : 0
                }, e.prototype.getReturnPackageFlag = function () {
                    var e = P._playerBonus._returnBonus;
                    return a.lc.V(e) && e._value >= e._info._val && !e._isClaimed ? 1 : 0
                }, e.prototype.getOpenServerFlag = function () {
                    var e = P._playerBonus._bonuseOpenServer, t = 0;
                    if (l.TimeUtil.getDaysAfterServerOpen() < 7) for (var n = 0; n < e.length; n++) {
                        var a = e[n];
                        a._value >= a._info._val && !a._isClaimed && (t += 1)
                    }
                    return t
                }, e.prototype.getPrimeTimeFlag = function () {
                    var e = 0;
                    return e += this.getUsualFlag(this._bonusPrimeTime1), e += this.getUsualFlag(this._bonusPrimeTime2), e += this.getUsualFlag(this._bonusPrimeTime3)
                }, e.prototype.getNerServerEventFlag = function () {
                    var e = 0;
                    return e += this.getRecharge7Flag(), P.getSelfOld() < 7 && (e += this.getCustomActivityFlag()), e
                }, e.prototype.getRechargeEventFlag = function () {
                    var e = 0;
                    return e += this.getFirstRechargeFlag(), e += this.getTiredBonusFlag()
                }, e.prototype.getUsualFlag = function (e) {
                    return 0
                }, e.prototype.getInviteBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._bonusInvite.length; ++t) {
                        var n = this._bonusInvite[t];
                        n._value >= n._info._val && !n._isClaimed && (e += 1)
                    }
                    return e
                }, e.prototype.getClaimCenterBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._serverBonuses.length; ++t) {
                        var n = this._serverBonuses[t];
                        n._isClaimed || n._send_info || (e += 1)
                    }
                    return e
                }, e.prototype.getClaimCenterSendBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._serverBonuses.length; ++t) {
                        var n = this._serverBonuses[t];
                        !n._isClaimed && n._send_info && (e += 1)
                    }
                    return e
                }, e.prototype.getTaskBonusFlag = function () {
                    return this.getLevelTaskBonusFlag() + this.getMainTaskBonusFlag() + this.getOnlineTaskBonusFlag()
                }, e.prototype.getDailyActiveBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._bonusDailyActive.length; ++t) {
                        this._bonusDailyActive[t].canClaim() && (e += 1)
                    }
                    return e
                }, e.prototype.getGeneralBonusFlag = function (e) {
                    var t = 0;
                    if (e instanceof Array) for (var n = 0; n < e.length; ++n) {
                        (i = e[n]) && i.canClaim() && (t += 1)
                    } else if (_.nox.isObject(e)) for (var a in e) {
                        var i;
                        (i = e[a]) && i.canClaim() && (t += 1)
                    }
                    return t
                }, e.prototype.getFundTasksFlag = function () {
                    var e = 0;
                    for (var t in this._bonusFundTasks) {
                        this._bonusFundTasks[t].canClaim() && (e += 1)
                    }
                    return e
                }, e.prototype.getAchieveBonusFlag = function () {
                    var e = this.getClashBonusesFlag() + this.getArenaBonusesFlag() + this.getCollectBonusFlag() + this.getCostBonusFlag();
                    return this._bonusCount = e, e
                }, e.prototype.getClashBonusesFlag = function () {
                    for (var e = 0, t = 0; t < this._clashBonuses.length; ++t) for (var n = this._clashBonuses[t], a = 0; a < n.length; ++a) {
                        if (n[a].canClaim()) {
                            e += 1;
                            break
                        }
                    }
                    return e
                }, e.prototype.getArenaBonusesFlag = function () {
                    for (var e = 0, t = 0; t < this._arenaBonuses.length; ++t) for (var n = this._arenaBonuses[t], a = 0; a < n.length; ++a) {
                        if (n[a].canClaim()) {
                            e += 1;
                            break
                        }
                    }
                    return e
                }, e.prototype.getNewClashBonusesFlag = function () {
                    for (var e = 0, t = 0; t < this._newClashBonuses.length; ++t) for (var n = this._newClashBonuses[t], a = 0; a < n.length; ++a) {
                        if (n[a].canClaim()) {
                            e += 1;
                            break
                        }
                    }
                    return e
                }, e.prototype.getCostBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._costBonuses.length; ++t) for (var n = this._costBonuses[t], a = 0; a < n.length; ++a) {
                        if (n[a].canClaim()) {
                            e += 1;
                            break
                        }
                    }
                    return e
                }, e.prototype.getCollectBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._collectBonuses.length; ++t) for (var n = this._collectBonuses[t], a = 0; a < n.length; ++a) {
                        if (n[a].canClaim()) {
                            e += 1;
                            break
                        }
                    }
                    return e
                }, e.prototype.getDailyTaskBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._bonusDailyTask.length; ++t) {
                        var n = this._bonusDailyTask[t], a = P._playerAchieve.getDailyTaskLevel(n._info._cid % 100);
                        P._level >= a && n._value >= n._info._val && !n._isClaimed && (e += 1)
                    }
                    return e
                }, e.prototype.getMainTaskBonusFlag = function () {
                    var e = 0;
                    for (var t in P._playerAchieve._mainTasks) {
                        var n = P._playerAchieve._mainTasks[t], a = n.getBonus();
                        n.isValid() && a._value >= a._info._val && (e += 1)
                    }
                    return e
                }, e.prototype.getOnlineTaskBonusFlag = function () {
                    for (var e = 0; e < this._bonusOnlineTask.length; ++e) {
                        if (this._bonusOnlineTask[e].canClaim()) return 1
                    }
                    return 0
                }, e.prototype.getNoviceTaskBonusFlag = function () {
                    var e = _.nox.getDateTableFromTimeSeconds(P._regTime);
                    e.hours = 0, e.minutes = 0, e.seconds = 0, e.millSeconds = 0;
                    for (var t = _.nox.getTimeSecondsFromDateTable(e), n = Math.floor((l.TimeUtil.getCurrentTime() - t) / 3600 / 24) + 1, a = P._playerBonus._bonusNoviceTask, i = 0, o = 0; o < 7; o++) {
                        for (var r = [], s = 0; s < a.length; s++) Math.floor(a[s]._info._id / 10) % 10 == o + 1 && r.push(a[s]);
                        for (s = 0; s < r.length; s++) r[s]._value >= r[s]._info._val && !r[s]._isClaimed && o < n && i++
                    }
                    return i
                }, e.prototype.getFacebookTaskBonusFlag = function () {
                    for (var e = 0, t = 0; t < this._bonusFacebookTask.length; ++t) {
                        var n = this._bonusFacebookTask[t];
                        n._value >= n._info._val && !n._isClaimed && (e += 1)
                    }
                    return e
                }, e.prototype.isAllNoviceTaskClaimed = function () {
                    for (var e = 0; e < this._bonusNoviceTask.length; ++e) {
                        if (!this._bonusNoviceTask[e]._isClaimed) return !1
                    }
                    return !0
                }, e.prototype.isNeedShowNoviceBonusTips = function () {
                    for (var e = !1, t = !1, n = 0, a = 0, i = 0; i < this._bonusLogin.length; ++i) {
                        var o = this._bonusLogin[i];
                        o._value < 2 && 2 == o._info._val && !o._isClaimed ? (n = o._value, e = !0) : o._value < 7 && 7 == o._info._val && !o._isClaimed && (a = o._value, t = !0)
                    }
                    return e ? [2, n] : t ? [7, a] : [null, null]
                }, e.prototype.getLevelTaskBonusFlag = function (e) {
                    return void 0 === e && (e = null), this.getCommonBonusFlag(this._bonusLevel, e)
                }, e.prototype.getMonthCardBonusFlag = function () {
                    var e = this._bonusMonthCard;
                    e.sort(function (e, t) {
                        return e._infoId - t._infoId
                    });
                    var t = 0;
                    if (null == e) return t;
                    for (var n = 0; n < e.length; ++n) {
                        var a = e[n];
                        n % 2 == 0 && 0 != e[n]._value && (a._isClaimed || (t += 1))
                    }
                    return t
                }, e.prototype.getWeekCheckinBonusFlag = function () {
                    return this.getCommonBonusFlag(this._bonusWeekCheckin)
                }, e.prototype.getMonthCheckinBonusFlag = function () {
                    return this.getCommonBonusFlag(this._bonusMonthCheckin)
                }, e.prototype.getLoginBonusFlag = function () {
                    return this.getCommonBonusFlag(this._bonusLogin)
                }, e.prototype.getVipDailyBonusFlag = function () {
                    return this.getCommonBonusFlag(this._bonusVipDaily)
                }, e.prototype.getFundLevelBonusFlag = function () {
                    for (var e = 0, t = f.RechargeUtil.isRecharged(i.Data.PurchaseType.fund) || P.isUnionFundValid(), n = 0; n < this._bonusFundLevel.length; ++n) {
                        var a = this._bonusFundLevel[n];
                        t && a._value >= a._info._val && !a._isClaimed && (e += 1)
                    }
                    return e
                }, e.prototype.getSuperGrowthFundFlag = function () {
                    var e, t = 0;
                    if (0 == P._playerActivity._superGrowFundTime) return t;
                    if (165 == P._playerActivity._superGrowFundId) e = P._playerBonus._superGrowthFund1; else {
                        if (166 != P._playerActivity._superGrowFundId) return t;
                        e = P._playerBonus._superGrowthFund2
                    }
                    for (var n = 0; n < e.length; ++n) {
                        var a = e[n];
                        if (0 == a._isClaimed && a._value >= a._info._val) {
                            var i = e[n + 1];
                            i ? a._value < i._info._val && (t += 1) : t += 1
                        }
                    }
                    return t
                }, e.prototype.getNewSuitBagsBonusFlag = function () {
                    return 0
                }, e.prototype.updateNewSuitBagsBonus2 = function (e) {
                }, e.prototype.updateNewSuitBagsBonus3 = function (e) {
                }, e.prototype.updateNewSuitBagsBonus4 = function (e) {
                }, e.prototype.isAwardCollection = function (e) {
                    return !1
                }, e.prototype.getFundAllBonusFlag = function () {
                    return this.getCommonBonusFlag(this._bonusFundAll)
                }, e.prototype.getFundTaskBonusFlag = function () {
                    var e = 0;
                    for (var t in this._bonusFundTasks) {
                        var n = this._bonusFundTasks[t];
                        n && n._value >= n._info._val && !n._isClaimed && (e += 1)
                    }
                    return e
                }, e.prototype.initIapCount = function (e) {
                    this._iapCount = [0, 0];
                    for (var t = 0; t < e.bonuses.length; ++t) {
                        var n = e.bonuses[t];
                        4001 != n.cid && 4002 != n.cid || (this._iapCount[n.cid - 4001] = n.value)
                    }
                }, e.prototype.getIapCount = function (e) {
                    return cc.assert(!1, "\u4e0d\u518d\u652f\u6301, \u7981\u6b62\u4f7f\u7528"), 1 == e || 2 == e ? a.lc.D(this._iapCount[0], 0) + a.lc.D(this._iapCount[1], 0) : a.lc.D(this._iapCount[e - 1], 0)
                }, e.prototype.incIapCount = function (e) {
                    null != this._iapCount[e - 1] && (this._iapCount[e - 1] = this._iapCount[e - 1] + 1)
                }, e.prototype.claimServerBonus = function (e) {
                    if (null != e) {
                        if (e._isClaimed) return i.Data.ErrorType.claimed;
                        if (a.lc.V(e._info)) {
                            var t = e._info;
                            P.addResources(t._rid, t._level, t._count, t._isFragment)
                        } else P.addResourcesData(e._extraBonus);
                        return e._isClaimed = !0, e.sendBonusDirty(), i.Data.ErrorType.ok
                    }
                    return i.Data.ErrorType.error
                }, e.prototype.claimBonus = function (e) {
                    var t = this._bonuses[e];
                    if (a.lc.V(t)) {
                        var n = t._info;
                        if (t._isClaimed) return i.Data.ErrorType.claimed;
                        if (t._value < t._info._val) return i.Data.ErrorType.claim_not_support;
                        for (var o = [], r = 0; r < n._count.length; ++r) {
                            var _ = n._count[r];
                            t.isDouble() && (t._multiple = 2), o.push(_ * a.lc.D(t._multiple, 1))
                        }
                        if (P.addResources(n._rid, n._level, o, n._isFragment), this.tryClaimBonusExtra(e), t._claimTimesMax) t._claimTimes = t._claimTimes + 1, t._isClaimed = t._claimTimes >= t._claimTimesMax; else if (a.lc.V(t._remainClaimTimes) && t._remainClaimTimes > 0) t._remainClaimTimes = t._remainClaimTimes - 1, t._isClaimed = !0; else {
                            if (n._type == i.Data.BonusType.online) {
                                var s = l.TimeUtil.getCurrentTime();
                                for (r = 0; r < this._bonusOnlineTask.length; ++r) {
                                    (c = this._bonusOnlineTask[r])._timestamp = s
                                }
                            }
                            if (155 == n._cid) for (r = 0; r < this._newSuitBags1.length; ++r) {
                                var c;
                                if ((c = this._newSuitBags1[r])._isClaimed) {
                                    var d = this._newSuitBags1[r + 1];
                                    d && 0 == d._isClaimed && (d._value = c._info._val + 1)
                                }
                            } else n._type == i.Data.BonusType.pass_chapter && this.onNoviceTaskDirty(1);
                            t._isClaimed = !0
                        }
                        return t._info && t._info._type == i.Data.BonusType.fund_7days && (P._playerBonus._fundSignInLastTime = l.TimeUtil.getCurrentTime()), t.sendBonusDirty(), i.Data.ErrorType.ok
                    }
                    return i.Data.ErrorType.error
                }, e.prototype.tryClaimBonusExtra = function (e) {
                    var t = d.ActivityUtil.getValidActivityByTypeAndParam(525, e), n = t._info, a = t._index;
                    if (null != n) {
                        var o = n._bonusId[a], r = i.Data._bonusInfo[o];
                        null != r && P.addResources(r._rid, r._level, r._count, r._isFragment)
                    }
                }, e.prototype.supplyMonthCheckinBonus = function (e) {
                    var t = this._bonuses[e];
                    if (null != t && t._type == i.Data.BonusType.month_checkin) {
                        if (t._isClaimed) return i.Data.ErrorType.claimed;
                        var n = Math.min(10 + 10 * P._monthlyRecheck, i.Data._globalInfo._maxRecheckIngot);
                        if (!P.hasResource(i.Data.ResType.ingot, n)) return i.Data.ErrorType.need_more_ingot;
                        if (P._dayOfMonth >= t._info._val && t._info._val - t._value == 1) {
                            for (var a = 0; a < this._bonusMonthCheckin.length; ++a) this._bonusMonthCheckin[a]._value = this._bonusMonthCheckin[a]._value + 1, this._bonusMonthCheckin[a] != t && this._bonusMonthCheckin[a].sendBonusDirty();
                            return P.changeResource(i.Data.ResType.ingot, -n), P._monthlyRecheck = P._monthlyRecheck + 1, this.claimBonus(t._infoId)
                        }
                    }
                    return i.Data.ErrorType.error
                }, e.prototype.onDailyActiveDirty = function () {
                    for (var e = 0; e < this._bonusDailyActive.length; ++e) {
                        this._bonusDailyActive[e]._value = P._dailyActive
                    }
                    for (e = 0; e < this._bonusWeeklyActive.length; e++) {
                        this._bonusWeeklyActive[e]._value = P._weeklyActive
                    }
                }, e.prototype.checkBonusLevel = function (e) {
                    var t = P.getCharacterId(), n = P._characters[t];
                    if (e._info._cid % 1e3 == t && e._info._type == i.Data.BonusType.level && e._value != n._level) {
                        var a = e._value;
                        e._value = n._level, e.sendBonusDirty(a)
                    }
                }, e.prototype.onLevelDirty = function () {
                    for (var e = 0; e < this._bonusLord.length; ++e) {
                        var t = this._bonusLord[e];
                        this.checkBonusLevel(t)
                    }
                    for (e = 0; e < this._bonusLevel.length; ++e) {
                        t = this._bonusLevel[e];
                        this.checkBonusLevel(t)
                    }
                    this.onFundLevelDirty()
                }, e.prototype.onFundLevelDirty = function (e) {
                    void 0 === e && (e = !1);
                    for (var t = 0; t < this._bonusFundLevel.length; ++t) {
                        var n = this._bonusFundLevel[t];
                        if (n._value != P.getMaxCharacterLevel() || e) {
                            var a = n._value;
                            n._value = P._level, n.sendBonusDirty(a)
                        }
                    }
                }, e.prototype.onFundNumDirty = function () {
                    for (var e = 0; e < this._bonusFundAll.length; ++e) {
                        var t = this._bonusFundAll[e], n = t._value;
                        t._value = t._value + 1, t.sendBonusDirty(n)
                    }
                }, e.prototype.onCardDirty = function (e) {
                    i.Data.getInfo(e);
                    var t = i.Data.getType(e);
                    if (t == i.Data.CardType.monster) for (var n = 0; n < this._bonusCharacter.length; ++n) {
                        var a = this._bonusCharacter[n], o = a._info._cid % 100;
                        a._value;
                        4 == o && t == i.Data.CardType.monster || 5 == o && i.Data.CardType.monster
                    }
                }, e.prototype.onCardAdd = function (e) {
                    if (null != e) {
                        var t = i.Data.getInfo(e), n = t.shift();
                        if (t.shift() == i.Data.CardType.monster) for (var a = 0; a < this._bonusCharacter.length; ++a) {
                            var o = this._bonusCharacter[a], r = o._info._cid % 100, _ = !1, s = o._value;
                            2 == r && n._quality == i.Data.CardQuality.SR ? (o._value = o._value + 1, _ = !0) : 3 == r && n._quality == i.Data.CardQuality.UR && (o._value = o._value + 1, _ = !0), _ && o.sendBonusDirty(s)
                        }
                    }
                }, e.prototype.onMonthCardDirty = function (e) {
                    var t = e - i.Data.PurchaseType.month_card_1 + 1;
                    this._bonusMonthCard[t - 1].sendBonusDirty()
                }, e.prototype.onChapterLevelDirty = function (e) {
                    for (var t = function (t) {
                        var n = Math.floor(e / 1e4);
                        1 == n ? t._info._cid % 100 == 3 && t._value != e && (t._value = e, t.sendBonusDirty()) : 2 == n ? t._info._cid % 100 == 4 && t._value != e && (t._value = e, t.sendBonusDirty()) : 3 == n && t._info._cid % 100 == 5 && t._value != e && (t._value = e, t.sendBonusDirty())
                    }, n = 0; n < this._bonusChapter.length; ++n) {
                        t(this._bonusChapter[n])
                    }
                    for (n = 0; n < this._bonusPassChapter.length; ++n) {
                        t(this._bonusPassChapter[n])
                    }
                }, e.prototype.onNoviceTaskDirty = function (e, t) {
                    void 0 === e && (e = null), void 0 === t && (t = null)
                }, e.prototype.onFacebookTaskDirty = function (e, t) {
                    for (var n = 0; n < this._bonusFacebookTask.length; ++n) {
                        var i = this._bonusFacebookTask[n];
                        if (i._info._cid == e) {
                            i._value = a.lc.D(t, 1), i.sendBonusDirty();
                            break
                        }
                    }
                }, e.prototype.sendBonusRequest = function () {
                    p.BonusPart.sendBonusRequest()
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    e.status;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_PLAYER_BONUS) this.updateBonus(e); else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_PLAYER_BONUS_AVAILABLE) this._bonusCount = a.lc.D(e.getExtensions_Bonus_pb_SglBonusMsg_bonus_count(), 0); else {
                        if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ACTIVITY) {
                            var n = e.getExtensions_Bonus_pb_SglBonusMsg_bonus_activity_resp();
                            if (1 == n.length && 0 == n[0].info_id && parseInt(n[0].id), a.lc.V(n)) {
                                for (var _ = 0; _ < n.length; ++_) {
                                    var s = new o.ServerBonus(n[_]);
                                    this._serverBonuses.push(s)
                                }
                                this._serverBonuses.sort(function (e, t) {
                                    return t._timestamp - e._timestamp
                                }), i.Data.Event.server_bonus_list_dirty.dispatchEvent()
                            }
                            return !0
                        }
                        if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SPAWN_GOLD) {
                            var c = e.getExtensions_User_pb_SglUserMsg_user_spawn_gold_resp();
                            return P._dailyClaimedGold = c.gold, P._dailyNextSpawn = c.next_spawn / 1e3, !0
                        }
                        if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BUY_FUND) return this.onFundNumDirty(), !0;
                        if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_DAILY_TASK || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_DAILY_TASK_RESET) {
                            var l = e.getExtensions_Bonus_pb_SglBonusMsg_daily_task();
                            if (l) {
                                this._changedFundTasks = {};
                                for (_ = 0; _ < l.length; ++_) {
                                    var d = l[_];
                                    null != (s = this._allFundTasks[d.cid]) && (this._bonusFundTasks[d.cid] ? this._bonusFundTasks[d.cid]._value != d.value && (!this._bonusFundTasks[d.cid].canClaim() && !this._bonusFundTasks[d.cid]._isClaimed && d.value > 0 && (this._changedFundTasks[d.cid] = d.cid), this._bonusFundTasks[d.cid]._value = d.value) : s._isClaimed ? cc.assert(!1, "fatal error: " + s._info._id) : (this._bonusFundTasks[d.cid] = s, s._value = d.value, s._isClaimed = !1, this._changedFundTasks[d.cid] = d.cid))
                                }
                                i.Data.Event.fund_task_dirty.dispatchEvent(), S.NoticeManager.hideAll();
                                var p = 0;
                                for (var h in this._bonusFundTasks) {
                                    if (s = this._bonusFundTasks[h]) {
                                        if (++p > 5) {
                                            cc.assert(!1, "fatal error: " + s._info._id);
                                            break
                                        }
                                        if (this._changedFundTasks[s._info._cid] && s._value > 0) {
                                            var f = a.lc.createNode(), C = m.SpriteUtil.createSprite("fund_task_spr").node;
                                            C.setScale(.5);
                                            var v = y.UIUtil.createTTF(string.format(g.lcStr(s._info._nameSid), s._info._val).replace("\\n", "") + ": ", T.UICfg.FontSize.S1, T.UICfg.COLOR_TEXT_DARK),
                                                b = y.UIUtil.createTTF(s._value + "/" + s._info._val, T.UICfg.FontSize.S1, T.UICfg.COLOR_TEXT_INGOT);
                                            f.setContentSize(cc.size(a.lc.w(C) + a.lc.w(v) + a.lc.w(b) + 30, 50)), a.lc.addNodesToCenter(f, [C, v, b], 10), S.NoticeManager.show(f, "", 5, 100)
                                        }
                                    } else cc.assert(!1, "fatal error: " + s._info._id)
                                }
                                return this._changedFundTasks = {}, !0
                            }
                        } else {
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_OPEN_SERVER_BONUS_STATUS) {
                                c = e.getExtensions_Bonus_pb_SglBonusMsg_open_server_bonus_status_resp();
                                return (s = this._bonuses[c.info_id])._remainClaimTimes = c.num, s.sendBonusDirty(), !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_OPEND_SERVER_BONUS_MSG) {
                                c = e.getExtensions_Bonus_pb_SglBonusMsg_open_server_bonus_msg_resp();
                                return (s = this._bonuses[c])._value = 1, s.sendBonusDirty(), !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_NUM) {
                                var E = (c = e.getExtensions_Bonus_pb_SglBonusMsg_glod_time_num_resp()).type, I = c.num;
                                switch (E) {
                                    case 1:
                                        for (_ = 0; _ < this._bonusPrimeTime1.length; _++) this._bonusPrimeTime1[_]._value = I, this._bonusPrimeTime1[_].sendBonusDirty();
                                        break;
                                    case 2:
                                        for (_ = 0; _ < this._bonusPrimeTime2.length; _++) this._bonusPrimeTime2[_]._value = I, this._bonusPrimeTime2[_].sendBonusDirty();
                                        break;
                                    case 3:
                                        for (_ = 0; _ < this._bonusPrimeTime3.length; _++) this._bonusPrimeTime3[_]._value = I, this._bonusPrimeTime3[_].sendBonusDirty()
                                }
                                return !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_ONLINE_TWO || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_BATTLE) {
                                if ((c = e.getExtensions_Bonus_pb_SglBonusMsg_bonus_glod_time_resp()).is_success) {
                                    var A = [];
                                    for (_ = 0; _ < c.resource.length; ++_) A[A.length] = {
                                        info_id: c.resource[_].info_id,
                                        num: c.resource[_].num,
                                        level: 1
                                    }
                                }
                                return !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_GLOD_TIME_ONLINE) {
                                if ((c = e.getExtensions_Bonus_pb_SglBonusMsg_glod_time_online_resp()).success) {
                                    s = new r.Bonus(c.info_id);
                                    this._bonuses[c.info_id]._isClaimed = !0, P.addResources(s._info._rid, s._info._level, s._info._count, s._info._isFragment)
                                }
                                return !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_SUPER_GROW_FUND_CLAIM) {
                                c = e.getExtensions_Buy_pb_SglBuyMsg_claim_super_grow_fund_resp();
                                P._playerActivity._superGrowFundTime = parseInt(c.player_activity.super_grow_fund_time), P._playerActivity._superGrowFundId = c.player_activity.super_grow_fund_id;
                                for (s = [], _ = 0; _ < P._playerBonus._superGrowthFund1.length; _++) s[_] = P._playerBonus._superGrowthFund1[_];
                                for (var R = 0; R < P._playerBonus._superGrowthFund2.length; R++) s[s.length] = P._playerBonus._superGrowthFund2[R];
                                var B = P._playerBonus.hashPbBonus(c.player_bonus), N = B[0], D = B[1];
                                for (h = 0; h < s.length; h++) s[h]._value = a.lc.D(N[s[h]._info._cid], s[h]._value), s[h]._isClaimed = a.lc.D(D[s[h]._infoId], s[h]._isClaimed);
                                return P.sendSuperGrowthFundDirty(), !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_AWARD_ACTIVITY_NUM) {
                                if ((c = e.getExtensions_Buy_pb_SglBuyMsg_award_activity_resp()).num) for (s = P._playerBonus._rodReward, h = 0; h < s.length; h++) s[h]._infoId == c.id && (s[h]._value = c.num, s[h]._isClaimed = !(s[h]._info._val > c.num) || s[h]._isClaimed);
                                return !0
                            }
                            if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_AWARD_ACTIVITY) {
                                if ((c = e.getExtensions_World_pb_SglWorldMsg_award_activity_resp()).claimed) (s = new r.Bonus(c.id)) && (this._bonuses[c.id]._isClaimed = !0, P.addResources(s._info._rid, s._info._level, s._info._count, s._info._isFragment), P.sendRodRewardDirty()); else u.ToastManager.push(g.lcStr(41265), 0, !1);
                                return !0
                            }
                        }
                    }
                    return !1
                }, e.prototype.checkServerBonusStatus = function (e) {
                    return null != P.newServerDiscount && 1 == P.newServerDiscount[e]
                }, e.prototype.updateBonus = function (e) {
                    var t = e.getExtensions_Bonus_pb_SglBonusMsg_player_bonus();
                    this.init(t, !1), P._playerAchieve.sendAchieveListDirty()
                }, e.prototype.sendResetFundTask = function (e) {
                    delete this._bonusFundTasks[e], p.BonusPart.sendResetFundTask(e), this._fundResetCount = this._fundResetCount - 1
                }, e.prototype.getBonusToTypeFlag = function (e) {
                    var t = 0;
                    for (var n in e) {
                        var a = e[n];
                        this.isReceiveBonus(a) && (t += 1)
                    }
                    return t
                }, e.prototype.achieveCurNewGuidance = function () {
                    for (var e in this._newGuidance) {
                        var t = this._newGuidance[e];
                        if (t._info._cid == P._new_guidance) {
                            t._value += 1, h.UserPart.sendGetNewGuidance(P._new_guidance), P._new_guidance = 0, P.sendNewGuidanceDirty();
                            break
                        }
                    }
                }, e.prototype.isReceiveAllNewGuidance = function () {
                    for (var e in this._newGuidance) {
                        if (!this._newGuidance[e]._isClaimed) return !1
                    }
                    return !0
                }, e.prototype.isReceiveAllRewards = function (e) {
                    for (var t in e) {
                        if (!e[t]._isClaimed) return !1
                    }
                    return !0
                }, e.prototype.isReceiveBonus = function (e) {
                    return !(!(e && e._value >= e._info._val) || e._isClaimed)
                }, e.prototype.checkRodRewards = function () {
                    for (var e = P._playerBonus._rodReward, t = [], n = 0; n < e.length; n++) t.push(e[n]._value < e[n]._info._val);
                    return t
                }, e.prototype.getRegressionRechargePackageBonus = function () {
                    return P._playerActivity._returnDay >= 40 ? this._regressionRechargePackageBonus2 : P._playerActivity._returnDay >= 30 ? this._regressionRechargePackageBonus1 : null
                }, e.prototype.updateBonusValue = function (e, t) {
                    var n = !1;
                    for (var a in this._bonuses) {
                        var o = this._bonuses[a];
                        o._info && o._info._cid == e && o._value != t && (o._value = t, n = !0)
                    }
                    n && i.Data.Event.bonus_value_change.dispatchEvent()
                }, e.prototype.calculateTheQuantityAvailable = function (e) {
                    var t = 0;
                    for (var n in e) {
                        var a = e[n];
                        P._playerBonus.isReceiveBonus(a) && t++
                    }
                    return t
                }, e
            }();
        n.PlayerBonus = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../NoticeManager": "NoticeManager",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../part/BonusPart": "BonusPart",
        "../../part/UserPart": "UserPart",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/RechargeUtil": "RechargeUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../../utils/UIUtil": "UIUtil",
        "../data": "data",
        "./Bonus": "Bonus",
        "./ServerBonus": "ServerBonus"
    }],
    PlayerCard: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5f392x2vyRNErt2UQt/ID8u", "PlayerCard"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../ClientData"), i = e("../data"), o = e("../../../leocool/lc"), r = e("../../utils/MsgCenter"),
            _ = e("../../../nox").nox.toNumber, s = e("../../utils/TimeUtil"), c = e("../../../leocool/lcStr"),
            l = e("../../StringEnums"), d = e("../../utils/HelpUtil"), p = e("../../ui/panel/CardOperatePanel"),
            u = e("../../scene/SceneManager"), g = function () {
                function e() {
                    this._lendCards = [], this.clear(), r.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._monsters = {}, this._magics = {}, this._traps = {}, this._cards = {}, this._cards[i.Data.CardType.monster.toString()] = this._monsters, this._cards[i.Data.CardType.magic.toString()] = this._magics, this._cards[i.Data.CardType.trap.toString()] = this._traps, this._levels = {}, this._unlocked = {}, this._skins = {}, this._troops = [], this._guardSlots = [], this._groupMonsters = {}, this._groupMagics = {}, this._groupTraps = {}, this._groupCards = {}, this._groupCards[i.Data.CardType.monster.toString()] = this._groupMonsters, this._groupCards[i.Data.CardType.magic.toString()] = this._groupMagics, this._groupCards[i.Data.CardType.trap.toString()] = this._groupTraps, this._cardFragment = {}, this._systemRecommendTroops = []
                }, e.prototype.init = function (e) {
                    if (e.levels) for (var t = 0; t < e.levels.length; ++t) {
                        var n = e.levels[t], a = n.info_id;
                        this._levels[a] = n.level
                    }
                    if (e.cards) for (t = 0; t < e.cards.length; ++t) {
                        a = e.cards[t].info_id;
                        var o = i.Data.getType(a);
                        i.Data.isUserVisible(a) ? this._cards[o][a] = e.cards[t].num : cc.assert(!1, "infoid : " + a + " is illegal card")
                    }
                    if (e.unlocked) for (t = 0; t < e.unlocked.length; ++t) this._unlocked[e.unlocked[t]] = !0;
                    if (e.skin) for (t = 0; t < e.skin.length; ++t) {
                        for (var r = e.skin[t], _ = {
                            _currentSkinId: r.default_skin,
                            _availableSkins: []
                        }, s = 0; s < r.skin_id.length; ++s) _._availableSkins[s] = {
                            _id: r.skin_id[s],
                            _expire: Math.floor(r.expire[s] / 1e3)
                        };
                        this._skins[r.info_id] = _
                    }
                    if (e.troops) for (t = 0; t < e.troops.length; ++t) {
                        var c = e.troops[t], l = [];
                        if (c.troop_item) for (s = 0; s < c.troop_item.length; ++s) l.push(i.Data.pb2Resource(c.troop_item[s]));
                        this._troops[t] = l
                    }
                    if (e.card_debris) for (t = 0; t < e.card_debris.length; ++t) {
                        var d = e.card_debris[t];
                        this._cardFragment[d.info_id] = d.num
                    }
                    this.initSystemRecommendTroops()
                }, e.prototype.initGroupCards = function (e) {
                    if (e.cards) for (var t = 0; t < e.cards.length; ++t) {
                        var n = e.cards[t].info_id, a = i.Data.getType(n);
                        this._groupCards[a][n] = e.cards[t].num
                    }
                    if (e.troop) for (t = 0; t < e.troop.length; ++t) {
                        for (var o = e.troop[t], r = [], _ = 0; _ < o.troop_item.length; ++_) r.push(i.Data.pb2Resource(o.troop_item[_]));
                        this._troops[t + i.Data.TroopIndex.union_battle1 - 1] = r
                    }
                    i.Data.Event.group_cards_dirty.dispatchEvent()
                }, e.prototype.initRecommendTroops = function (e) {
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    e.status;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_LOAD_CARDS) {
                        var n = e.getExtensions_UnionWar_pb_SglUnionWarMsg_masswar_load_cards_resp();
                        return this.initGroupCards(n), P._cardOnlyDisplaysInfo = !0, !0
                    }
                    if (SglMsgType_pb.ProtoMsgType.PB_TYPE_UNLOCK_CARD, SglMsgType_pb.ProtoMsgType.PB_TYPE_LEND_CARD_INFO_CHANGE, t == SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_RECOVE_NOTICE) {
                        n = e.getExtensions_Card_pb_SglCardMsg_card_recover_notice_resp();
                        P.save_recovery_cardId = n.recover_info_id, P.save_recovery_price = n.recovery_price, P.save_recovery_debris = n.debris_recovery, o.lc.Dispatcher.dispatchEvent(i.Data.Event.card_recovery_count)
                    }
                    return !1
                }, e.prototype.upgradeCard = function (e, t) {
                    if (this._levels[e] >= i.Data.CARD_MAX_LEVEL) return i.Data.ErrorType.card_not_support;
                    var n = this.getUpgradeGold(e);
                    if (!P.hasResource(i.Data.ResType.gold, n)) return i.Data.ErrorType.need_more_gold;
                    var a = i.Data.getType(e), o = this.getUpgradeCount(e);
                    if (this._cards[a][e] < o) return i.Data.ErrorType.need_more_samecard;
                    var r = this.getUpgradeStone(e), _ = r.shift(), s = r.shift();
                    return P._propBag.hasProps(_, s) ? (t || (this._levels[e] = this._levels[e] + 1, this.removeCard(e, o), P.changeResource(i.Data.ResType.gold, -n), P._propBag.changeProps(_, -s)), i.Data.ErrorType.ok) : _ == i.Data.PropsId.stone_rare ? i.Data.ErrorType.need_more_stonerare : i.Data.ErrorType.need_more_stonelegend
                }, e.prototype.composeCard = function (e, t, n) {
                    if (null == this._levels[e] || 0 == this._levels[e]) return i.Data.ErrorType.card_cannot_compose;
                    var a = this.getComposeGold(e) * t;
                    if (!P.hasResource(i.Data.ResType.gold, a)) return i.Data.ErrorType.need_more_gold;
                    var o = this.getComposeDust(e), r = o.shift(), _ = o.shift();
                    return _ *= t, P._propBag.hasProps(r, _) ? (n || (this.addCard(e, t), P.changeResource(i.Data.ResType.gold, -a), P._propBag.changeProps(r, -_)), i.Data.ErrorType.ok) : i.Data.ErrorType.need_more_dust
                }, e.prototype.composeCardByFragment = function (e, t, n, o) {
                    var r = this.convert2FragmentId(e), _ = this.convert2CardId(e), s = i.Data.ErrorType.ok,
                        c = this.getFragmentCount(e), l = P.getItemCount(i.Data.PropsId.common_fragment);
                    return this.getFragmentCount(e) + P.getItemCount(i.Data.PropsId.common_fragment) < i.Data._globalInfo._legendCardMixCount ? i.Data.ErrorType.fragment_not_enough : (c < i.Data._globalInfo._legendCardMixCount && (s = i.Data.ErrorType.compose_common_fragment), t || (a.ClientData.sendComposeCard(_), this.addCard(_, 1), c < i.Data._globalInfo._legendCardMixCount && i.Data._globalInfo._legendCardMixCount <= c + l && P.addResource(i.Data.PropsId.common_fragment, 1, this.getFragmentCount(e) - i.Data._globalInfo._legendCardMixCount), this.addCard(r, -i.Data._globalInfo._legendCardMixCount)), s)
                }, e.prototype.decomposeCard = function (e, t, n) {
                    void 0 === n && (n = !1);
                    var a = i.Data.getType(e);
                    if (this._cards[a][e] < t) return [i.Data.ErrorType.need_more_samecard, null];
                    var o = this.getDecomposeDust(e), r = o[0], _ = o[1];
                    return _ *= t, n || (this.removeCard(e, t), P.changeResource(r, _)), [i.Data.ErrorType.ok, _]
                }, e.prototype.getCanDecomposeCount = function () {
                    for (var e = 0, t = 0, n = 0, a = i.Data.CardType.monster; a <= i.Data.CardType.trap; ++a) {
                        for (var o = this._cards[a]; !o;) o = this._cards[a + 1];
                        for (var r in o) {
                            var s = o[r];
                            if (s > 4) {
                                s -= 4;
                                var c = i.Data.getInfo(_(r));
                                c._quality == i.Data.CardQuality.C ? n += s : c._quality == i.Data.CardQuality.U ? t += s : c._quality == i.Data.CardQuality.R && (e += s)
                            }
                        }
                    }
                    return [e, t, n]
                }, e.prototype.decomposeAll = function () {
                    for (var e = 0, t = i.Data.CardType.monster; t <= i.Data.CardType.trap; ++t) {
                        for (var n = this._cards[t]; !n;) n = this._cards[t + 1];
                        for (var a in n) {
                            var o = n[a], r = i.Data.getInfo(_(a));
                            if (o > 4 && r._quality < i.Data.CardQuality.RR) {
                                var s = this.decomposeCard(_(a), o - 4);
                                s[0];
                                e += s[1]
                            }
                        }
                    }
                    return e
                }, e.prototype.recoveryCard = function (e, t, n, a, o) {
                    var r = i.Data.getType(e);
                    if (this._cards[r][e] < t) return [i.Data.ErrorType.need_more_samecard, null];
                    var _ = null, s = null;
                    if (o == p.CardOperatePanel.OperateMode.recovery) _ = (c = this.getRecoveryDust(a)).shift(), s = c.shift(), s *= t; else if (o == p.CardOperatePanel.OperateMode.exchange_recovery) {
                        var c;
                        if (null != (c = this.getExchageRecoveryPrice(a))) {
                            var l = c.shift();
                            _ = c.shift(), s = this.getDustCount(a, l, t)
                        }
                    }
                    return n || (this.removeCard(e, t), P.addResource(_, null, s)), [i.Data.ErrorType.ok, s]
                }, e.prototype.getExchageRecoveryPrice = function (e) {
                    for (var t = P.save_recovery_price, n = P.save_recovery_debris, a = i.Data.getInfo(e)[0], o = 0; o < t.length; o++) {
                        var r = t[o];
                        if (r.info_id == e) return [r.price, 7141]
                    }
                    for (var _ = 0; _ < n.length; _++) {
                        var s = n[_], c = void 0;
                        if (s.info_id == e) return 5 == a._quality ? c = 8017 : 4 == a._quality ? c = 8018 : 3 == a._quality ? c = 8019 : 2 == a._quality ? c = 8020 : 1 == a._quality && (c = 8021), [s.price, c]
                    }
                }, e.prototype.getDustCount = function (e, t, n) {
                    var a;
                    return a = t, Math.floor(a * n * i.Data._globalInfo._recoveroutlets / 100)
                }, e.prototype.getUpgradeCount = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = this._levels[e];
                    if (a == i.Data.CARD_MAX_LEVEL) return 0;
                    var o = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + a;
                    return n == i.Data.CardType.monster ? i.Data._globalInfo._monsterUpgradeCount[o - 1] : n == i.Data.CardType.magic ? i.Data._globalInfo._magicUpgradeCount[o - 1] : n == i.Data.CardType.trap ? i.Data._globalInfo._trapUpgradeCount[o - 1] : n == i.Data.CardType.rare ? i.Data._globalInfo._rareUpgradeCount[o - 1] : void 0
                }, e.prototype.getUpgradeGold = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = this._levels[e],
                        o = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + a;
                    return n == i.Data.CardType.monster ? i.Data._globalInfo._monsterUpgradeGold[o - 1] : n == i.Data.CardType.magic ? i.Data._globalInfo._magicUpgradeGold[o - 1] : n == i.Data.CardType.trap ? i.Data._globalInfo._trapUpgradeGold[o - 1] : n == i.Data.CardType.rare ? i.Data._globalInfo._rareUpgradeGold[o - 1] : void 0
                }, e.prototype.getUpgradeStone = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = this._levels[e],
                        o = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + a;
                    return n == i.Data.CardType.monster ? [i.Data.PropsId.monster_stone_n + t._quality - 1, i.Data._globalInfo._monsterUpgradeStone[o - 1]] : n == i.Data.CardType.magic ? [i.Data.PropsId.magic_stone_n + a - 1, i.Data._globalInfo._magicUpgradeStone[o - 1]] : n == i.Data.CardType.trap ? [i.Data.PropsId.trap_stone_n + a - 1, i.Data._globalInfo._trapUpgradeStone[o - 1]] : void 0
                }, e.prototype.getComposeDust = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + 1;
                    return n == i.Data.CardType.monster ? [i.Data.PropsId.dust_monster, i.Data._globalInfo._monsterComposeDust[a - 1]] : n == i.Data.CardType.magic ? [i.Data.PropsId.dust_magic, i.Data._globalInfo._magicComposeDust[a - 1]] : n == i.Data.CardType.trap ? [i.Data.PropsId.dust_trap, i.Data._globalInfo._trapComposeDust[a - 1]] : n == i.Data.CardType.rare ? [i.Data.PropsId.dust_rare, i.Data._globalInfo._rareComposeDust[a - 1]] : void 0
                }, e.prototype.getComposeGold = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + 1;
                    return n == i.Data.CardType.monster ? i.Data._globalInfo._monsterComposeGold[a - 1] : n == i.Data.CardType.magic ? i.Data._globalInfo._magicComposeGold[a - 1] : n == i.Data.CardType.trap ? i.Data._globalInfo._trapComposeGold[a - 1] : n == i.Data.CardType.rare ? i.Data._globalInfo._rareComposeGold[a - 1] : void 0
                }, e.prototype.getDecomposeDust = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e),
                        a = (i.Data._dropInfo, (t._quality - 1) * i.Data.CARD_MAX_LEVEL + 1);
                    return n == i.Data.CardType.monster ? [i.Data.ResType.gold, i.Data._globalInfo._monsterDecomposeDust[a - 1]] : n == i.Data.CardType.magic ? [i.Data.ResType.gold, i.Data._globalInfo._magicDecomposeDust[a - 1]] : n == i.Data.CardType.trap ? [i.Data.ResType.gold, i.Data._globalInfo._trapDecomposeDust[a - 1]] : [null, null]
                }, e.prototype.getCardOperateDecomposeDust = function (e) {
                    var t = i.Data.getInfo(e)._quality + 145;
                    return i.Data._dropInfo[t]._pid
                }, e.prototype.getRecoveryDust = function (e) {
                    var t = i.Data._unionProductsExInfo[e]._cost, n = i.Data._globalInfo._receveryPercent / 100;
                    return [i.Data.PropsId.yubi, t * n]
                }, e.prototype.getDecomposeGold = function (e) {
                    var t = i.Data.getInfo(e), n = i.Data.getType(e), a = (t._quality - 1) * i.Data.CARD_MAX_LEVEL + 1;
                    return n == i.Data.CardType.monster ? i.Data._globalInfo._monsterDecomposeGold[a - 1] : n == i.Data.CardType.magic ? i.Data._globalInfo._magicDecomposeGold[a - 1] : n == i.Data.CardType.trap ? i.Data._globalInfo._trapDecomposeGold[a - 1] : void 0
                }, e.prototype.getCards = function (e) {
                    return this._cards[e]
                }, e.prototype.getGroupCards = function (e) {
                    return this._groupCards[e]
                }, e.prototype.getAllCards = function (e) {
                    var t;
                    e == i.Data.CardType.monster ? t = i.Data._monsterInfo : e == i.Data.CardType.magic ? t = i.Data._magicInfo : e == i.Data.CardType.trap && (t = i.Data._trapInfo);
                    var n = {};
                    for (var a in t) n[a] = P._playerCard.getCardCount(a);
                    return n
                }, e.prototype.getCardCount = function (e) {
                    var t = i.Data.getType(e);
                    return o.lc.V(this._cards[t][e]) && o.lc.V(this._cards[t]) ? this._cards[t][e] : 0
                }, e.prototype.getCanRecoveryCardCount = function (e) {
                    for (var t = P.save_recovery_cardId, n = 0, a = 0; a < t.length; a++) {
                        t[a] == e && n++
                    }
                    for (var i = P.save_recovery_debris, o = 0; o < i.length; o++) {
                        i[o].info_id == e && n++
                    }
                    return n
                }, e.prototype.getGroupCardCount = function (e) {
                    var t = i.Data.getType(e);
                    return o.lc.V(this._groupCards[t]) ? this._groupCards[t][e] : 0
                }, e.prototype.getIsCardFragment = function (e) {
                    return i.Data.getType(e) == i.Data.CardType.fragment
                }, e.prototype.convert2FragmentId = function (e) {
                    return this.getIsCardFragment(e) ? e : 10 * e
                }, e.prototype.convert2CardId = function (e) {
                    return this.getIsCardFragment(e) ? e / 10 : e
                }, e.prototype.getFragmentCount = function (e) {
                    return e = this.convert2FragmentId(e), o.lc.V(this._cardFragment[e]) ? this._cardFragment[e] : 0
                }, e.prototype.changeFragmentCount = function (e, t) {
                    e = this.convert2FragmentId(e);
                    var n = this.getFragmentCount(e);
                    return this._cardFragment[e] = Math.max(n + t, 0), this.sendFragmentDirty(), n + t > 0
                }, e.prototype.addCard = function (e, t) {
                    var n = i.Data.getType(e);
                    if (n != i.Data.CardType.fragment) return this._cards[n][e] = o.lc.D(this._cards[n][e], 0) + t, this.sendCardDirty(e), (null == this._levels[e] || 0 == this._levels[e]) && (this._unlocked[e] = !0, this._levels[e] = 1, this.sendCardAdd(e), this.sendCardFlagDirty(e), !0);
                    this.changeFragmentCount(e, t), this.sendFragmentDirty()
                }, e.prototype.removeCard = function (e, t) {
                    var n = i.Data.getType(e);
                    if (n == i.Data.CardType.fragment) this._cardFragment[e] = Math.max(this.getFragmentCount(e) - t, 0), this.sendFragmentDirty(); else {
                        var a = o.lc.D(this._cards[n][e], 0);
                        a >= t && (this._cards[n][e] = a - t), a == t && delete this._cards[n][e], this.sendCardDirty(e), a == t && this.sendCardListDirty(n)
                    }
                }, e.prototype.saveTroop = function (e, t) {
                    this._troops[t] = [];
                    for (var n = 0; n < e.length; ++n) this._troops[t].push({_infoId: e[n]._infoId, _num: e[n]._num});
                    return i.Data.ErrorType.ok
                }, e.prototype.checkTroop = function (e) {
                    if (this.getTroopCardCountByLevel(0, e) < i.Data.MIN_BASIC_TROOP_CARD_COUNT) return [!1, string.format(c.lcStr(l.STR.AT_LEAST_ONE_BASIC_IN_TROOP), i.Data.MIN_BASIC_TROOP_CARD_COUNT)];
                    if (P._guideID <= 150) return [!0, null];
                    if (this.isTroopEmpty(e)) return [!1, c.lcStr(l.STR.EMPTY_IN_TROOP)];
                    var t = this.getTroopCardCountByType(i.Data.CardType.rare, e),
                        n = this.getTroopCardCountByType(null, e);
                    if (d.HelpUtil.isUnionBattleTroop(e)) {
                        if (t < i.Data.MAX_RARE_TROOP_CARD_COUNT) return [!1, string.format(c.lcStr(l.STR.AT_LEAST_ONE_IN_TROOP), i.Data.MAX_UNION_TROOP_CARD_COUNT)]
                    } else if (i.Data.isDarkTroop(e) && n < i.Data.TROOP_CARD_COUNT_2) return [!1, string.format(c.lcStr(l.STR.AT_LEAST_ONE_IN_TROOP), i.Data.TROOP_CARD_COUNT_2)];
                    if ((30 <= P.getTotalCharacterLevel() && i.Data.MIN_TROOP_CARD_COUNT_2 || i.Data.MIN_TROOP_CARD_COUNT) == i.Data.MIN_TROOP_CARD_COUNT_2) {
                        if (n < i.Data.MIN_TROOP_CARD_COUNT) return [!1, string.format(c.lcStr(l.STR.AT_LEAST_ONE_IN_TROOP_2), 30, i.Data.MIN_TROOP_CARD_COUNT)]
                    } else if (n < i.Data.MIN_TROOP_CARD_COUNT) return [!1, string.format(c.lcStr(l.STR.AT_LEAST_ONE_IN_TROOP), i.Data.MIN_TROOP_CARD_COUNT)];
                    return [!0, null]
                }, e.prototype.isTroopEmpty = function (e) {
                    return cc.assert(e > 0, "troopIndex should be more than 0"), 0 == this._troops[e - 1].length
                }, e.prototype.checkForExpiredCards = function (e) {
                    cc.assert(e > 0, "troopIndex should be more than 0");
                    for (var t = this._troops[e - 1], n = 0; n < t.length; n++) {
                        var a = t[n], i = this.getCardCount(a._infoId);
                        if (a._num > i) return !1
                    }
                    return !0
                }, e.prototype.getTroop = function (e, t) {
                    void 0 === t && (t = !1), cc.assert(e > 0, "troopIndex should be more than 0");
                    var n = null;
                    if (e -= 1, t) {
                        if (n = [], this._troops[e]) for (var a in this._troops[e]) {
                            var i = this._troops[e][a];
                            n.push(i)
                        }
                    } else n = this._troops[e];
                    return n
                }, e.prototype.getTroopFightingValue = function (e) {
                    return 0
                }, e.prototype.getTroopCardNum = function (e, t) {
                    void 0 === t && (t = !1), cc.assert(e > 0, "troopIndex should be more than 0");
                    var n = 0;
                    if (this._troops[e - 1]) for (var a = 0; a < this._troops[e - 1].length; ++a) t ? n += this._troops[e - 1][a]._num : this._troops[e - 1][a]._infoId < 4e4 && (n += this._troops[e - 1][a]._num);
                    return n
                }, e.prototype.getTroopCardCountByType = function (e, t, n) {
                    void 0 === n && (n = !1);
                    var a = this.getTroop(t), o = 0;
                    if (a) for (var r = 0; r < a.length; ++r) {
                        var _ = i.Data.getType(a[r]._infoId);
                        (null != e && _ == e || null == e && _ != i.Data.CardType.rare) && (o += a[r]._num)
                    }
                    return o
                }, e.prototype.getTroopCardBy43 = function (e) {
                    this.getTroop(e);
                    return 0
                }, e.prototype.getTroopCardCountByMinStar = function (e, t) {
                    for (var n = this.getTroop(t), a = 0, o = 0; o < n.length; ++o) {
                        var r = i.Data.getInfo(n[o]._infoId);
                        i.Data.getType(n[o]._infoId) == i.Data.CardType.monster && r._star >= e && (a += n[o]._num)
                    }
                    return a
                }, e.prototype.getTroopCardCountByMaxStar = function (e, t) {
                    for (var n = this.getTroop(t), a = 0, o = 0; o < n.length; ++o) {
                        var r = i.Data.getInfo(n[o]._infoId);
                        i.Data.getType(n[o]._infoId) == i.Data.CardType.monster && r._star <= e && (a += n[o]._num)
                    }
                    return a
                }, e.prototype.getTroopCardCountByStar = function (e, t) {
                    for (var n = this.getTroop(t), a = 0, o = 0; o < n.length; ++o) {
                        var r = i.Data.getInfo(n[o]._infoId);
                        i.Data.getType(n[o]._infoId) == i.Data.CardType.monster && r._star == e && (a += n[o]._num)
                    }
                    return a
                }, e.prototype.getTroopCardCountByNature = function (e, t) {
                    for (var n = this.getTroop(t), a = 0, o = 0; o < n.length; ++o) {
                        var r = i.Data.getInfo(n[o]._infoId);
                        i.Data.getType(n[o]._infoId) == i.Data.CardType.monster && r._nature == e && (a += n[o]._num)
                    }
                    return a
                }, e.prototype.getTroopCardCountByRace = function (e, t) {
                    for (var n = this.getTroop(t), a = 0, o = 0; o < n.length; ++o) {
                        var r = i.Data.getInfo(n[o]._infoId);
                        i.Data.getType(n[o]._infoId) == i.Data.CardType.monster && r._category == e && (a += n[o]._num)
                    }
                    return a
                }, e.prototype.getTroopCardCountByLevel = function (e, t) {
                    for (var n = 0, a = this.getTroop(t), o = 0; o < a.length; o++) {
                        var r = a[o], _ = i.Data.getInfo(r._infoId);
                        i.Data.getType(r._infoId) == i.Data.CardType.monster && _._level == e && (n += r._num)
                    }
                    return n
                }, e.prototype.getCardCountInTroop = function (e, t) {
                    void 0 === t && (t = !1);
                    for (var n = 0, a = 0; a < this._troops.length; ++a) {
                        if (_ = this._troops[a]) for (var o = 0; o < _.length; ++o) {
                            if ((s = _[o])._infoId == e && s._num > n) {
                                n = s._num;
                                break
                            }
                        }
                    }
                    if (t) {
                        var r = 0;
                        for (a = i.Data.TroopIndex.dark_battle1; a <= i.Data.TroopIndex.dark_battle3; ++a) {
                            var _;
                            if (_ = this._troops[a]) for (o = 0; o < _.length; ++o) {
                                var s;
                                (s = _[o])._infoId == e && (r += s._num)
                            }
                        }
                        r > n && (n = r)
                    }
                    return n
                }, e.prototype.sendCardDirty = function (e) {
                    i.Data.Event.card_dirty.dispatchEvent(e)
                }, e.prototype.sendFragmentDirty = function () {
                    o.lc.Dispatcher.dispatchEvent(i.Data.Event.fragment_dirty)
                }, e.prototype.sendCardAdd = function (e) {
                    o.lc.Dispatcher.dispatchEvent(i.Data.Event.card_add, e)
                }, e.prototype.sendCardListDirty = function (e) {
                    i.Data.Event.card_list_dirty.dispatchEvent(e), u.SceneManager.setNeedSyncDataForCardListScenes()
                }, e.prototype.sendCardFlagDirty = function (e) {
                    i.Data.Event.card_flag_dirty.dispatchEvent(e), u.SceneManager.setNeedSyncDataForCardListScenes()
                }, e.prototype.sendCardSelect = function (e, t) {
                    var n = {_infoId: e, _count: t};
                    i.Data.Event.card_select.dispatchEvent(n)
                }, e.prototype.getCardFlag = function () {
                    return this.getCardFlagByType()
                }, e.prototype.getMonsterFlag = function () {
                    return this.getCardFlagByType(i.Data.CardType.monster)
                }, e.prototype.getTrapFlag = function () {
                    return this.getCardFlagByType(i.Data.CardType.trap)
                }, e.prototype.getMagicFlag = function () {
                    return this.getCardFlagByType(i.Data.CardType.magic)
                }, e.prototype.getRareFlag = function () {
                    return this.getCardFlagByType(i.Data.CardType.rare)
                }, e.prototype.getCardFlagByType = function (e) {
                    void 0 === e && (e = null);
                    var t = 0;
                    for (var n in this._unlocked) {
                        !this._unlocked[n] || e && i.Data.getType(n) != e || (t += 1)
                    }
                    return t
                }, e.prototype.removeUnlocked = function (e) {
                    this._unlocked[e] = null, this.sendCardFlagDirty(e)
                }, e.prototype.isUnlocked = function (e) {
                    return this._unlocked[e]
                }, e.prototype.getSkinId = function (e) {
                    var t = this._skins[e];
                    return null == t ? 0 : t._currentSkinId
                }, e.prototype.hasSkin = function (e, t) {
                    if (0 == e) return null;
                    var n = i.Data._skinInfo[e];
                    if (null == n) return null;
                    var a = n._infoId, o = this._skins[a];
                    if (null == o) return null;
                    for (var r = 0; r < o._availableSkins.length; ++r) if (e == o._availableSkins[r]._id && (0 == o._availableSkins[r]._expire || !t)) return o._availableSkins[r];
                    return null
                }, e.prototype.setSkinId = function (e, t) {
                    var n = this._skins[e];
                    if (0 == t) return null != n && (n._currentSkinId = t), !0;
                    if (null == n) return !1;
                    if (null == i.Data._skinInfo[t]) return !1;
                    for (var a = 0; a < n._availableSkins.length; ++a) if (t == n._availableSkins[a]._id) return n._currentSkinId = t, !0;
                    return !1
                }, e.prototype.buySkinId = function (e, t) {
                    var n = i.Data._skinInfo[e];
                    if (null == n) return !1;
                    if (null != this.hasSkin(e, !0)) return !1;
                    var a = this.hasSkin(e, !1), r = 0 == t ? 0 : s.TimeUtil.getExpireTimestamp(t + 1);
                    if (null != a) a._expire < r && (a._expire = r); else {
                        var _ = n._infoId, c = o.lc.D(this._skins[_], {_currentSkinId: 0, _availableSkins: []});
                        c._availableSkins[c._availableSkins.length] = {_id: e, _expire: r}, this._skins[_] = c
                    }
                    return !0
                }, e.prototype.getCardCountByShopType = function (e, t) {
                    return 0
                }, e.prototype.getSealCardCount = function (e) {
                    return 0
                }, e.prototype.getDeadShopCount = function (e) {
                    return 0
                }, e.prototype.getDiamondShopCardCount = function (e, t) {
                    return 0
                }, e.prototype.getGloryShopCardCount = function (e, t) {
                    return 0
                }, e.prototype.getRelicCardCount = function (e, t) {
                    return 0
                }, e.prototype.getResolveShopCardCount = function (e, t) {
                    return 0
                }, e.prototype.getResolveShopPruductInfo = function (e) {
                }, e.prototype.getSystemRecommendTroops = function () {
                    return this._systemRecommendTroops
                }, e.prototype.initSystemRecommendTroops = function () {
                    for (var e = [2, 3, 4, 5, 10, 12, 13], t = i.Data._troopInfo, n = 0; n < e.length; ++n) {
                        var a = t[15e3 + e[n]];
                        if (null != a) {
                            for (var o = [], r = [], _ = c.lcStr(a._nameSid), s = a._picId, l = a._infoId, d = 0; d < l.length; ++d) {
                                var p = l[d];
                                o.push({info_id: p, num: a._num[n]}), r.push({info_id: p, level: a._level[n]})
                            }
                            var u = {
                                _name: _,
                                _avatar: s,
                                _level: 30,
                                _troopCards: o,
                                _troopLevels: r,
                                _troopSkins: {},
                                _fortressHp: a._fortressHp
                            };
                            this._systemRecommendTroops.push({_player: u, _isAttacker: !0})
                        }
                    }
                }, e.prototype.getRelicShopCardCount = function (e, t) {
                    return 0
                }, e.prototype.setRelicShopCardCount = function (e, t) {
                }, e.prototype.byIdGetRentCardNum = function (e) {
                    for (var t = 0, n = 0, a = 0; a < this._lendCards.length; ++a) {
                        var r = this._lendCards[a];
                        if (!o.lc.V(e) || r.info_id == e) if (r.create_id.toString() != P._id.toString() && r.state == i.Data.UnsealCardStatus.recall) n++; else if (r.create_id.toString() != P._id.toString() && r.state == i.Data.UnsealCardStatus.rent) {
                            Math.floor((s.TimeUtil.getCurrentTime() - o.lc.D(r.hire_time, 0) / 1e3) / 3600) < r.duration ? t++ : n++
                        }
                    }
                    return [t, n]
                }, e
            }();
        n.PlayerCard = g, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../scene/SceneManager": "SceneManager",
        "../../ui/panel/CardOperatePanel": "CardOperatePanel",
        "../../utils/HelpUtil": "HelpUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    PlayerCity: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bddb4WfxMhKk4OmGlrnohqs", "PlayerCity"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.prototype.clear = function () {
            }, e.prototype.init = function (e) {
            }, e
        }();
        n.PlayerCity = a, cc._RF.pop()
    }, {}],
    PlayerExpedition: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f8706J42AdGt7EpbrzKnRr/", "PlayerExpedition"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../Social/User"), o = e("../../ClientData"), r = function () {
            function e() {
                this._troopInfos = [], this._chests = [], this._isRefreshed = !1
            }

            return e.prototype.clear = function () {
                this._isRefreshed = !1
            }, e.prototype.refresh = function (e) {
                this._players = [], this._troopInfos = [], this._chests = [], this._isRefreshed = !0, this._reliveTimes = e.recover_count, this._chapter = e.chapter, this._sweepChapter = e.sweep_chapter;
                for (var t = 0; t < e.troops.length; ++t) {
                    var n = e.troops[t], a = o.ClientData.pbTroopToTroop(n);
                    this._troopInfos.push(a), this._players.push(i.User.create(n.info))
                }
                for (t = 0; t < e.chests.length; ++t) {
                    var r = e.chests[t];
                    this._chests.push({_id: r.id, _opened: r.opened})
                }
            }, e.prototype.setCardDead = function (e, t, n) {
            }, e.prototype.getDropDetail = function (e) {
                var t, n = this._chests[e - 1]._id;
                for (var i in a.Data._dropInfo) {
                    var o = a.Data._dropInfo[i];
                    if (1007 == o._type && o._value == n) {
                        t = o;
                        break
                    }
                }
                return t
            }, e.prototype.getReliveIngot = function () {
                return 10 * Math.floor((this._reliveTimes + 1) / 2)
            }, e
        }();
        n.PlayerExpedition = r, cc._RF.pop()
    }, {"../../ClientData": "ClientData", "../Social/User": "User", "../data": "data"}],
    PlayerFindClash: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6b795YcuUBPCIa9a4hvb6tP", "PlayerFindClash"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../../../leocool/lc"), o = e("../data"),
            r = e("../../part/DuelCityPart"), _ = function () {
                function e() {
                    this.clear(), this._trophy = 0, a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0), o.Data.Event.prop_dirty.addListener(null, function (e) {
                        this.syncChests(), this.syncTotalChests()
                    }.bind(this))
                }

                return e.prototype.clear = function () {
                    this._isSyncData = !1, this._chests = [], this._totalChests = []
                }, e.prototype.simulate = function () {
                    this._isSyncData = !0, this._endTime = 0, this._preRank = 0, this._preTrophy = 0, this._trophy = 600, this._grade = this.getGrade(this._trophy), this._isFirst = !0, o.Data.Event.clash_sync_ready.dispatchEvent()
                }, e.prototype.changeTrophy = function (e) {
                    var t = this._trophy + e;
                    this._trophy = t, this._grade = this.getGrade(t);
                    for (var n = 0; n < P._playerBonus._bonusClashTarget.length; ++n) P._playerBonus._bonusClashTarget[n].setValue(Math.max(this._trophy, P._playerBonus._bonusClashTarget[n]._value));
                    i.lc.Dispatcher.dispatchEvent(o.Data.Event.clash_trophy_dirty)
                }, e.prototype.getGrade = function (e) {
                    for (var t = o.Data.FindClashGrade.bronze + 1; t <= o.Data.FindClashGrade.legend; ++t) {
                        if (e < o.Data._ladderInfo[t]._trophy) return t - 1
                    }
                    return o.Data.FindClashGrade.legend
                }, e.prototype.resetChests = function () {
                    for (var e = o.Data.PropsId.clash_chest; e <= o.Data.PropsId.clash_chest_end; ++e) {
                        var t = P._propBag._props[e];
                        i.lc.V(t) && t._num > 0 && (t._isOpened = !1, P._propBag.setProps(e, 0))
                    }
                    this._chests = []
                }, e.prototype.syncChests = function () {
                    this._chests = [];
                    for (var e = o.Data.PropsId.clash_chest; e <= o.Data.PropsId.clash_chest_end; ++e) {
                        var t = P._propBag._props[e];
                        if (i.lc.V(t) && t._num > 0) {
                            var n = e % 10;
                            if (null == this._chests[n - 1]) {
                                var a = Math.floor((e - o.Data.PropsId.clash_chest) / 10) + 1;
                                this._chests[n - 1] = {_prop: t, _grade: a}
                            }
                        }
                    }
                }, e.prototype.syncTotalChests = function () {
                    this._totalChests = [];
                    for (var e = o.Data.PropsId.clash_total_chest; e <= o.Data.PropsId.clash_total_chest_end; ++e) {
                        var t = P._propBag._props[e];
                        if (i.lc.V(t) && t._num > 0) {
                            var n = e % 10;
                            if (null == this._totalChests[n - 1]) {
                                var a = Math.floor((e - o.Data.PropsId.clash_total_chest) / 10) + 1;
                                this._totalChests[n - 1] = {_prop: t, _grade: a}
                            }
                        }
                    }
                }, e.prototype.getChestGrade = function (e) {
                    return i.lc.V(this._chests[e - 1]) ? this._chests[e - 1]._grade : this._grade
                }, e.prototype.getTotalChestGrade = function (e) {
                    return i.lc.V(this._totalChests[e - 1]) ? this._totalChests[e - 1]._grade : this._grade
                }, e.prototype.isAllChestsOpened = function () {
                    for (var e = 1; e <= 5; ++e) if (null == this._chests[e - 1] || !this._chests[e - 1]._prop._isOpened) return !1;
                    return !0
                }, e.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE) {
                        this._isSyncData = !0;
                        var t = e.getExtensions_Rank_pb_SglRankMsg_rank_pre_resp();
                        this._endTime = t.end_time / 1e3, this._preRank = t.pre_rank, this._preTrophy = t.pre_trophy, this._trophy = 0, this.changeTrophy(t.trophy), this._grade = this.getGrade(this._trophy), this._period = t.period, this._isFirst = t.is_first, this._ladderTrophy = 0, null != t.ladder_ex_trophy && (this._ladderTrophy = t.ladder_ex_trophy);
                        for (var n = o.Data._globalInfo._ladderStage, a = 0; a <= n.length + 1; ++a) {
                            var _ = t.ranks[a];
                            i.lc.V(_) && (_.user_id = t.user_id), P._playerRank.parseRankData(_, SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE, a)
                        }
                        return this._clashId = t.user_id, this.syncChests(), this.syncTotalChests(), o.Data.Event.clash_sync_ready.dispatchEvent(), 0 != P._playerFindDuelCity._roomId && r.DuelCityPart.sendFindRoom(P._curTroopIndex, Battle_pb.BattleType.PB_BATTLE_DUEL_CITY, P._playerFindDuelCity._roomId, P._playerFindClash._clashId), !0
                    }
                    return !1
                }, e
            }();
        n.PlayerFindClash = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../part/DuelCityPart": "DuelCityPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../data": "data"
    }],
    PlayerFindDuelCity: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a703ehx4H1L8r5yhjfNLLzZ", "PlayerFindDuelCity"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../data"), o = e("../../utils/TimeUtil"),
            r = e("../../../leocool/lcStr"), _ = e("../../StringEnums"), s = e("../../../leocool/lc"),
            c = e("../Bonus/Bonus"), l = e("../../../nox"), d = function () {
                function e() {
                    this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._hasTicket = !1, this._isWin = !1, this._step = 0, this._characterId = 0, this._roomId = 0, this._rank = 0, this._startTime = 0, this._lifeTime = 0, this._survivalTime = 0, this._cardsPool = [], this._characters = [], this._troopCards = [], this._selected = [], this._rankingAward = [], this._alternativeCards = [], this.stopSurvivalTimeSchedule()
                }, e.prototype.init = function (e) {
                    if (this._hasTicket = e.has_ticket, this._characterId = e.char_id || 0, this._step = e.step, this._roomId = e.room_id, this._rank = 0, this._startTime = e.start_time, this._lifeTime = e.life_time, this._isWin = !1, this._dailyGold = e.daily_gold, this._dailyIngot = e.daily_ingot, this._survivalTime = 0, this._cardsPool = [], e.pool) for (var t = 0; t < e.pool.length; ++t) this._cardsPool[t] = e.pool[t];
                    if (this._troopCards = [], e.cards) for (t = 0; t < e.cards.length; ++t) {
                        var n = e.cards[t];
                        this._troopCards[t] = {_infoId: n.info_id, _num: n.num}
                    }
                    if (this._alternativeCards = [], e.extra_cards) for (t = 0; t < e.extra_cards.length; ++t) {
                        n = e.extra_cards[t];
                        this._alternativeCards[t] = {_infoId: n.info_id, _num: n.num}
                    }
                    if (this._characters = [], e.chars) for (t = 0; t < e.chars.length; ++t) this._characters[t] = e.chars[t];
                    if (this._selected = [], e.selected) for (t = 0; t < e.selected.length; ++t) this._selected[t] = e.selected[t] + 1;
                    for (var t in this._rankingAward = [], i.Data._rankBonusInfo) 1725 == i.Data._rankBonusInfo[t]._type && this._rankingAward.push(i.Data._rankBonusInfo[t])
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_BUY_TICKET) {
                        var n = e.getExtensions_World_pb_SglWorldMsg_duel_city_buy_ticket_resp();
                        this._characters = [];
                        for (var a = 0; a < n.length; ++a) this._characters[a] = n[a]
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_DUEL_CITY_SELECT_CHAR) {
                        n = e.getExtensions_World_pb_SglWorldMsg_duel_city_select_char_resp();
                        this._cardsPool = [];
                        for (a = 0; a < n.length; ++a) this._cardsPool[a] = n[a]
                    }
                    return !1
                }, e.prototype.addCardToTroop = function (t, n) {
                    this._selected[this._selected.length] = n + Math.floor((this._step - 1) / e.SELECT_CARD_COUNT) * e.TOTAL_CARD_COUNT;
                    for (var a = this._troopCards, i = 0; i < a.length; ++i) {
                        var o = a[i];
                        if (o._infoId == t) return void (o._num = o._num + 1)
                    }
                    a[a.length] = {_infoId: t, _num: 1}
                }, e.prototype.getTroopCardCount = function () {
                    for (var e = 0, t = 0, n = 0, a = 0, o = 0, r = 0; r < this._troopCards.length; ++r) {
                        var _ = this._troopCards[r], s = i.Data.getType(_._infoId);
                        e += _._num, s == i.Data.CardType.monster ? t += _._num : s == i.Data.CardType.rare ? n += _._num : s == i.Data.CardType.magic ? a += _._num : s == i.Data.CardType.trap && (o += _._num)
                    }
                    return [e, t, n, a, o]
                }, e.prototype.getSelectCards = function () {
                    for (var t = [], n = Math.floor((this._step - 1) / e.SELECT_CARD_COUNT) * e.TOTAL_CARD_COUNT, a = 0; a < e.TOTAL_CARD_COUNT; ++a) t[a] = {
                        _infoId: this._cardsPool[n + a],
                        _isValid: !0
                    };
                    for (a = 0; a < this._selected.length; ++a) {
                        var i = this._selected[a] - n;
                        i > 0 && i <= e.TOTAL_CARD_COUNT && (t[i - 1]._isValid = !1)
                    }
                    return t
                }, e.prototype.getSelectCardIndex = function (e) {
                    for (var t = this.getSelectCards(), n = 0; n < t.length; ++n) {
                        var a = t[n];
                        if (a._infoId == e && a._isValid) return n + 1
                    }
                    return 0
                }, e.prototype.getIsValidTime = function () {
                    var e = o.TimeUtil.getServerDay() - 1;
                    if (0 == i.Data._globalInfo._deathweek[e]) return !1;
                    var t = o.TimeUtil.getServerDate().shift(), n = i.Data._globalInfo._deathtime, a = n[0], r = n[1];
                    return t >= a && t < r
                }, e.prototype.getTimeTip = function () {
                    var e = o.TimeUtil.getServerDay() - 1;
                    if (0 == i.Data._globalInfo._deathweek[e]) return r.lcStr(_.STR.SID_FIXITY_DESC_1013);
                    var t = i.Data._globalInfo._deathtime, n = t[0], a = t[1];
                    return string.format(r.lcStr(41113), n, 0, a, 0)
                }, e.prototype.isReconnect = function () {
                    return (0 != this._startTime || 0 != this._lifeTime) && !(o.TimeUtil.getCurrentTime() - this._startTime / 1e3 >= this._lifeTime / 1e3)
                }, e.prototype.subtractTroopCardIndex = function (e) {
                    for (var t = 0; t < this._troopCards.length; ++t) {
                        var n = this._troopCards[t];
                        if (n._infoId == e) return void (n._num > 1 ? this._troopCards[t]._num = n._num - 1 : this._troopCards.splice(t, 1))
                    }
                }, e.prototype.addCardToAlternative = function (e, t) {
                    t = s.lc.D(t, 1);
                    for (var n = this._alternativeCards, a = 0; a < n.length; ++a) {
                        var i = n[a];
                        if (i._infoId == e) return void (i._num = i._num + t)
                    }
                    n[n.length] = {_infoId: e, _num: t}
                }, e.prototype.subtractAlternativeCardIndex = function (e) {
                    for (var t = 0; t < this._alternativeCards.length; ++t) {
                        var n = this._alternativeCards[t];
                        if (n._infoId == e) return void (n._num > 1 ? this._alternativeCards[t]._num = n._num - 1 : this._alternativeCards.splice(t, 1))
                    }
                }, e.prototype.queryBonus = function (e) {
                    if (0 == this._rankingAward.length) for (var t in i.Data._rankBonusInfo) 1725 == i.Data._rankBonusInfo[t]._type && this._rankingAward.push(i.Data._rankBonusInfo[t]);
                    for (var t in this._rankingAward) {
                        if (this._rankingAward[t]._min <= e && this._rankingAward[t]._max >= e) return new c.Bonus(this._rankingAward[t]._bonusId)
                    }
                    return null
                }, e.prototype.startSurvivalTime = function (e, t) {
                    null != this._survivalTimeScheduler && this.stopSurvivalTimeSchedule(), this._survivalTime = e > 0 ? e : this._survivalTime, this._survivalTimeScheduler = function (e) {
                        null != this._survivalTimeScheduler && (this._survivalTime > 0 ? (this._survivalTime -= 1e3, t && t.setTiem(this._survivalTime / 1e3 || 0, this.MAX_EXPLORE_TIME)) : this.stopSurvivalTimeSchedule())
                    }.bind(this), l.nox.scheduleInterval(this._survivalTimeScheduler, 1)
                }, e.prototype.stopSurvivalTimeSchedule = function () {
                    null != this._survivalTimeScheduler && (l.nox.unschedule(this._survivalTimeScheduler), this._survivalTimeScheduler = null)
                }, e.MAX_TROOP_COUNT = 40, e.TOTAL_CARD_COUNT = 5, e.SELECT_CARD_COUNT = 2, e.MAX_COMBAT_TIME = 10, e.MAX_EXPLORE_TIME = 300, e
            }();
        n.PlayerFindDuelCity = d, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../StringEnums": "StringEnums",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../Bonus/Bonus": "Bonus",
        "../data": "data"
    }],
    PlayerFindLadder: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "30247viqERPD7vEGHS0kYdW", "PlayerFindLadder"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../data"), o = e("../../utils/ActivityUtil"),
            r = e("../../../leocool/lc"), _ = e("../../utils/TimeUtil"), s = e("../../../leocool/lcStr"),
            c = e("../../StringEnums"), l = function () {
                function e() {
                    this.MAX_TROOP_COUNT = 40, this.MAX_BATTLE_COUNT = 12, this.MAX_LOSE_COUNT = 3, this.TOTAL_CARD_COUNT = 6, this.SELECT_CARD_COUNT = [3, 3, 1], this.SELECTED_NATURE_STEP = 22, this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._hasTicket = !1, this._step = 0, this._characterId = 0, this._cardsPool = [], this._characters = [], this._troopCards = [], this._selected = [], this._winCount = 0, this._loseCount = 0, this._chest = {
                        _infoId: 0,
                        _isOpened: !1
                    }, this._stage = 0
                }, e.prototype.init = function (e) {
                    if (this._hasTicket = e.has_ticket, this._characterId = e.char_id, this._nature = e.sub_type_id, this._step = e.step, this._cardsPool = [], e.pool) for (var t = 0; t < e.pool.length; ++t) this._cardsPool[t] = e.pool[t];
                    if (this._troopCards = [], e.cards) for (t = 0; t < e.cards.length; ++t) {
                        var n = e.cards[t];
                        this._troopCards[t] = {_infoId: n.info_id, _num: n.num}
                    }
                    this._winCount = e.win, this._loseCount = e.lose, this._chest = {_infoId: 0, _isOpened: !1};
                    var a = e.chest;
                    if (null != a && (this._chest._infoId = a.id, this._chest._isOpened = a.opened), this._characters = [], e.chars) for (t = 0; t < e.chars.length; ++t) this._characters[t] = e.chars[t];
                    if (this._selected = [], e.selected) for (t = 0; t < e.selected.length; ++t) this._selected[t] = e.selected[t] + 1;
                    this.updateStage()
                }, e.prototype.updateStage = function () {
                    this._step == this.MAX_TROOP_COUNT ? this._stage = 2 : this.SELECTED_NATURE_STEP <= this._step ? this._stage = 1 : this._stage = 0
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_BUY_TICKET) {
                        var n = e.getExtensions_World_pb_SglWorldMsg_world_buy_ticket_resp();
                        this._characters = [];
                        for (var a = 0; a < n.length; ++a) this._characters[a] = n[a]
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_SELECT_CHAR) {
                        n = e.getExtensions_World_pb_SglWorldMsg_world_select_char_resp();
                        this._cardsPool = [];
                        for (a = 0; a < n.length; ++a) this._cardsPool[a] = n[a]
                    } else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_QUIT) for (n = e.getExtensions_World_pb_SglWorldMsg_world_quit_resp(), a = 0; a < n.length; a++) this.changeChest(n[a].info_id);
                    return !1
                }, e.prototype.addCardToTroop = function (e, t) {
                    this._selected[this._selected.length] = t + Math.floor((this._step - 1) / this.SELECT_CARD_COUNT[this._stage]) * this.TOTAL_CARD_COUNT;
                    for (var n = this._troopCards, a = 0; a < n.length; ++a) {
                        var i = n[a];
                        if (i._infoId == e) return void (i._num = i._num + 1)
                    }
                    n[n.length] = {_infoId: e, _num: 1}
                }, e.prototype.getTroopCardCount = function () {
                    for (var e = 0, t = 0, n = 0, a = 0, o = 0, r = 0; r < this._troopCards.length; ++r) {
                        var _ = this._troopCards[r], s = i.Data.getType(_._infoId);
                        e += _._num, s == i.Data.CardType.monster ? t += _._num : s == i.Data.CardType.rare ? n += _._num : s == i.Data.CardType.magic ? a += _._num : s == i.Data.CardType.trap && (o += _._num)
                    }
                    return [e, t, n, a, o]
                }, e.prototype.changeChest = function (e) {
                    this._chest = {_infoId: e, _isOpened: !1}
                }, e.prototype.getSelectCards = function () {
                    var e = [], t = Math.floor((this._step - 1) / this.SELECT_CARD_COUNT[0]) * this.TOTAL_CARD_COUNT;
                    console.log(t);
                    for (var n = 0; n < this.TOTAL_CARD_COUNT; ++n) e[n] = {_infoId: this._cardsPool[t + n], _isValid: !0};
                    for (n = 0; n < this._selected.length; ++n) {
                        var a = this._selected[n] - t;
                        a > 0 && a <= this.TOTAL_CARD_COUNT && (e[a - 1]._isValid = !1)
                    }
                    return e
                }, e.prototype.getSelectCardIndex = function (e) {
                    for (var t = this.getSelectCards(), n = 0; n < t.length; ++n) {
                        var a = t[n];
                        if (a._infoId == e && a._isValid) return n + 1
                    }
                    return 0
                }, e.prototype.getLadderDuration = function () {
                    var e, t;
                    for (var n in i.Data._activityInfo) {
                        var a = i.Data._activityInfo[n];
                        1302 == a._type && ("" == a._beginTime ? e = a : o.ActivityUtil.isActivityValid(a) && (t = a))
                    }
                    var _ = r.lc.D(t, e);
                    return [r.lc.D(_._param[0], 0), r.lc.D(_._param[1], 0), r.lc.D(_._param[2], 0), r.lc.D(_._param[3], 0)]
                }, e.prototype.getIsValidTime = function () {
                    var e = _.TimeUtil.getServerDate(), t = e.shift(),
                        n = (e.shift(), e.shift(), e.shift(), this.getLadderDuration()), a = n.shift(), i = n.shift(),
                        o = n.shift(), r = n.shift();
                    return t >= a && t < i || t >= o && t < r
                }, e.prototype.getTimeTip = function () {
                    var e = this.getLadderDuration(), t = e.shift(), n = e.shift(), a = e.shift(), i = e.shift();
                    return 0 != a && 0 != i ? string.format(s.lcStr(c.STR.FIND_ARENA_TIME2), t, 0, n, 0, a, 0, i, 0) : string.format(s.lcStr(c.STR.FIND_ARENA_TIME), t, 0, n, 0)
                }, e
            }();
        n.PlayerFindLadder = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    PlayerFindNewClash: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ff119Mqa0BIjLdmhhfQws3x", "PlayerFindNewClash"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../data"), o = e("../../../leocool/lc"), r = function () {
            function e() {
                this.clear(), this._trophy = 0, this._isConstraintTroop = !1, a.MsgCenter.addMsgListener(this, function (e) {
                    return this.onMsg(e)
                }.bind(this), 0), i.Data.Event.prop_dirty.addListener(this, function (e) {
                    this.syncChests(), this.syncTotalChests()
                }.bind(this))
            }

            return e.prototype.clear = function () {
                this._isSyncData = !1, this._hasTicket = !1, this._chests = [], this._totalChests = [], this._limitTroop = []
            }, e.prototype.init = function (e) {
                this._hasTicket = e, this._limitTroop = []
            }, e.prototype.simulate = function () {
                this._isSyncData = !0, this._endTime = 0, this._preRank = 0, this._trophy = 600, this._isFirst = !0
            }, e.prototype.changeTrophy = function (e) {
                var t = this._trophy + e;
                t < 0 && (t = 0), this._trophy = t;
                for (var n = 0; n < P._playerBonus._bonusNewClashTarget.length; ++n) P._playerBonus._bonusNewClashTarget[n].setValue(Math.max(this._trophy, P._playerBonus._bonusNewClashTarget[n]._value))
            }, e.prototype.syncChests = function () {
                this._chests = [];
                for (var e = i.Data.PropsId.winning_streak_clash_chest; e <= i.Data.PropsId.winning_streak_clash_chest_end; ++e) {
                    var t = P._propBag._props[e];
                    if (o.lc.V(t) && t._num > 0) {
                        var n = e % 10;
                        null == this._chests[n - 1] && (this._chests[n - 1] = {_prop: t, _infoId: e})
                    }
                }
            }, e.prototype.syncTotalChests = function () {
                this._totalChests = [];
                for (var e = i.Data.PropsId.new_clash_total_chest; e <= i.Data.PropsId.new_clash_total_chest_end; ++e) {
                    var t = P._propBag._props[e];
                    if (o.lc.V(t) && t._num > 0) {
                        var n = e % 10;
                        null == this._totalChests[n - 1] && (this._totalChests[n - 1] = {_prop: t, _infoId: e})
                    }
                }
            }, e.prototype.getChestInfoId = function (e) {
                return o.lc.V(this._chests[e - 1]) ? this._chests[e - 1]._infoId : this._chests[this._chests.length - 1] ? this._chests[this._chests.length - 1]._infoId + 1 : i.Data.PropsId.new_clash_chest
            }, e.prototype.getTotalChestInfoId = function (e) {
                return o.lc.V(this._totalChests[e - 1]) ? this._totalChests[e - 1]._infoId : this._totalChests[this._totalChests.length - 1] ? this._totalChests[this._totalChests.length - 1]._infoId + 1 : i.Data.PropsId.new_clash_total_chest
            }, e.prototype.isAllChestsOpened = function () {
                for (var e = 1; e <= 5; ++e) if (null == this._chests[e - 1] || !this._chests[e - 1]._prop._isOpened) return !1;
                return !0
            }, e.prototype.onMsg = function (e) {
                var t = e.type;
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE_EX) {
                    this._isSyncData = !0;
                    var n = e.getExtensions_Rank_pb_SglRankMsg_rank_pre_resp();
                    this._endTime = n.end_time / 1e3, this._preRank = n.pre_rank, this._trophy = 0, this.changeTrophy(n.trophy), this._period = n.period, this._isFirst = n.is_first, this._ladderTrophy = 0, this._ladderTrophy = n.ladder_ex_trophy;
                    for (var a = i.Data._globalInfo._ladderStage, r = 0; r <= a.length + 1; ++r) {
                        var _ = n.ranks[r];
                        o.lc.V(_) && (_.user_id = n.user_id), P._playerRank.parseRankData(_, SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE_EX, r)
                    }
                    return this._clashId = n.user_id, this.syncChests(), this.syncTotalChests(), !0
                }
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_FORBID_CARD_INFO) {
                    n = e.getExtensions_Battle_pb_SglBattleMsg_forbid_card_info();
                    if (this._limitTroop = [], n) for (r = 0; r < n.length; ++r) this._limitTroop[r] = n[r];
                    return !0
                }
                return !1
            }, e.prototype.checkConstraint = function (e) {
                for (var t in this._limitTroop) if (e == this._limitTroop[t]) return !0;
                return !1
            }, e
        }();
        n.PlayerFindNewClash = r, cc._RF.pop()
    }, {"../../../leocool/lc": "lc", "../../utils/MsgCenter": "MsgCenter", "../data": "data"}],
    PlayerFindUnionBattle: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "231b6OQa6NDG7WbfdWLGQp3", "PlayerFindUnionBattle"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../../utils/TimeUtil"), o = e("../../StringEnums"), r = e("../data"),
            _ = e("../../utils/ActivityUtil"), s = e("../../../leocool/lc"), c = e("../../../leocool/lcStr"),
            l = function () {
                function e() {
                    this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                }, e.prototype.init = function (e) {
                }, e.prototype.onMsg = function (e) {
                    e.type;
                    return !1
                }, e.prototype.getLadderDuration = function () {
                    var e, t;
                    for (var n in r.Data._activityInfo) {
                        var a = r.Data._activityInfo[n];
                        1303 == a._type && ("" == a._beginTime ? e = a : _.ActivityUtil.isActivityValid(a) && (t = a))
                    }
                    return s.lc.D(t, e)._param
                }, e.prototype.getIsValidTime = function () {
                    var e = i.TimeUtil.getServerDate(), t = e.shift(),
                        n = (e.shift(), e.shift(), e.shift(), this.getLadderDuration()), a = i.TimeUtil.getServerDay(),
                        o = n[3 * ((a = 0 == a ? 7 : a) - 1) + 2 - 1], r = n[3 * (a - 1) + 3 - 1], _ = 0;
                    return 0 == o ? _ = null : t < o ? _ = 1 : t >= r && (_ = -1), _
                }, e.prototype.getStartTimeTip = function () {
                    var e = i.TimeUtil.getServerDate(),
                        t = (e.shift(), e.shift(), e.shift(), e.shift(), i.TimeUtil.getCurrentTime(), i.TimeUtil.getExpireTimestamp(0), this.getLadderDuration()),
                        n = i.TimeUtil.getServerDay(), a = t[3 * (n - 1) + 2 - 1], r = t[3 * (n - 1) + 3 - 1];
                    return 0 == a ? c.lcStr(41305) : string.format(c.lcStr(o.STR.UNION_BATTLE_START_TIP), a + ":00", r + ":00")
                }, e.prototype.getEndTimeTip = function () {
                    var e = i.TimeUtil.getServerDate(),
                        t = (e.shift(), e.shift(), e.shift(), e.shift(), i.TimeUtil.getCurrentTime() - i.TimeUtil.getExpireTimestamp(0)),
                        n = this.getLadderDuration(), a = i.TimeUtil.getServerDay(), o = n[3 * (a - 1) + 2 - 1],
                        r = 3600 * n[3 * (a - 1) + 3 - 1] - t;
                    return 0 == o ? c.lcStr(41305) : this.getRemainSecondsStr(r)
                }, e.prototype.getRemainSecondsStr = function (e) {
                    var t = Math.floor(e / 3600), n = Math.floor((e - 3600 * t) / 60), a = Math.floor(e % 60);
                    return string.format("%d:%02d:%02d", t, n, a)
                }, e
            }();
        n.PlayerFindUnionBattle = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    PlayerInvite: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7f67eKJCLRMaax0NQY+8jBC", "PlayerInvite"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = function () {
            function e() {
                this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                    return this.onMsg(e)
                }.bind(this), 0)
            }

            return e.prototype.clear = function () {
                this._ingot = 0, this._invitedNum = 0
            }, e.prototype.init = function (e) {
            }, e.prototype.onMsg = function (e) {
                e.type, e.status;
                return !1
            }, e
        }();
        n.PlayerInvite = i, cc._RF.pop()
    }, {"../../utils/MsgCenter": "MsgCenter"}],
    PlayerKillBoss: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cf6c78F7oNO0LbDGBC2Yd77", "PlayerKillBoss"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.prototype.clear = function () {
            }, e.prototype.init = function (e, t, n) {
                this._buyChapter = {}, this._passedChapterItem = {};
                for (var a = 0; a < e.length; a++) null == this._buyChapter[e[a]] ? this._buyChapter[e[a]] = 1 : this._buyChapter[e[a]]++;
                for (a = 0; a < t.length; a++) this._passedChapterItem[t[a]] = !0;
                this._passChapeterMaxLevel = n
            }, e.prototype.getChapterMaxProgress = function (e) {
                for (var t = 0, n = 0; n < this._passChapeterMaxLevel.length; n++) Math.floor(this._passChapeterMaxLevel[n] / 100) == e && t++;
                return t
            }, e.prototype.resetChapter = function (e) {
                for (var t in null == this._buyChapter[e] ? this._buyChapter[e] = 1 : this._buyChapter[e]++, this._passedChapterItem) Math.floor(parseInt(t) / 100) == e && (this._passedChapterItem[t] = !1)
            }, e.prototype.sweepChapter = function (e, t) {
                for (var n = 1; n <= t; n++) this._passedChapterItem[100 * e + n] = !0
            }, e.prototype.getChapterProgress = function (e) {
                var t = 0;
                for (var n in this._passedChapterItem) Math.floor(parseInt(n) / 100) == e && 1 == this._passedChapterItem[n] && t++;
                return t
            }, e.prototype.throughtPass = function (e) {
                for (var t = 0; t < this._passChapeterMaxLevel.length; t++) if (this._passChapeterMaxLevel[t] == e) return;
                this._passChapeterMaxLevel.push(e)
            }, e
        }();
        n.PlayerKillBoss = a, cc._RF.pop()
    }, {}],
    PlayerLog: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5668ehwEE5K6ZLGxIkciJqC", "PlayerLog"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("./Log"), o = e("../data"), r = e("../../const/ConfigKey"),
            _ = e("../../../leocool/lc"), s = e("../../../noxEvent"), c = function () {
                function e() {
                    this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._attackLogs = {}, this._defenseLogs = {}, this._clashLogs = {}, this._isClashLogsReady = !1, this._newClashLogs = {}, this._isNewClashLogsReady = !1, this._meleeLogs = {}, this._isMeleeLogsReady = !1, this._roomLogs = {}, this._isRoomLogsReady = !1, this._duelLogs = {}, this._isDuelLogsReady = !1, this._seasonLogs = {}, this._isSeasonLogsReady = !1
                }, e.prototype.addLog = function (e, t) {
                    this.getLogs(t, e._isAttack)[e._id] = e
                }, e.prototype.sendLogDirty = function (e, t) {
                    void 0 === t && (t = null), o.Data.Event.log_dirty.dispatchEvent({_event: e, _logId: t})
                }, e.prototype.sendLogShared = function (t) {
                    e.Event.log_already_shared.dispatchEvent({_logId: t})
                }, e.prototype.getLogs = function (e, t) {
                    return e == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? this._clashLogs : e == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX ? this._meleeLogs : e == Battle_pb.BattleType.PB_BATTLE_MATCH ? this._roomLogs : e == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY ? this._duelLogs : e == Battle_pb.BattleType.PB_BATTLE_SEASON ? this._seasonLogs : e == Battle_pb.BattleType.PB_BATTLE_WORLD_EX ? this._newClashLogs : t ? this._attackLogs : this._defenseLogs
                }, e.prototype.getLogList = function (e, t) {
                    if (e == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER) {
                        if (!_.lc.V(this._isClashLogsReady)) return null
                    } else if (e == Battle_pb.BattleType.PB_BATTLE_WORLD_EX) {
                        if (!_.lc.V(this._isNewClashLogsReady)) return null
                    } else if (e == Battle_pb.BattleType.PB_BATTLE_MATCH) {
                        if (!_.lc.V(this._isRoomLogsReady)) return null
                    } else if (e == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER_EX) {
                        if (!_.lc.V(this._isMeleeLogsReady)) return null
                    } else if (e == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY) {
                        if (!_.lc.V(this._isDuelLogsReady)) return null
                    } else if (e == Battle_pb.BattleType.PB_BATTLE_SEASON && !_.lc.V(this._isSeasonLogsReady)) return null;
                    var n = [], a = this.getLogs(e, t);
                    for (var i in a) {
                        var o = a[i];
                        n.push(o)
                    }
                    return n.sort(function (e, t) {
                        return t._timestamp - e._timestamp
                    }), n
                }, e.prototype.getNewAttackLogCount = function () {
                    var e = _.lc.readConfig(r.ConfigKey.new_attack_log, "0"), t = 0;
                    if (null != this._attackLogs) for (var n in this._attackLogs) {
                        this._attackLogs[n]._timestamp > e && (t += 1)
                    }
                    return t
                }, e.prototype.getNewDefenseLogCount = function () {
                    var e = _.lc.readConfig(r.ConfigKey.new_defense_log, "0"), t = 0;
                    if (null != this._defenseLogs) for (var n in this._defenseLogs) {
                        this._defenseLogs[n]._timestamp > e && (t += 1)
                    }
                    return t
                }, e.prototype.onMsg = function (t) {
                    var n = t.type;
                    t.status;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_LOG) {
                        if ((r = t.getExtensions_Battle_pb_SglBattleMsg_battle_log_resp()).attack_log) {
                            for (var a = 0; a < r.attack_log.length; ++a) {
                                cc.assert(!1, "\u8bf7\u786e\u5b9alog.js\u7684\u7c7b\u540d");
                                var o = new i.Log(!0, r.attack_log[a]);
                                this.addLog(o, Battle_pb.BattleType.PB_BATTLE_PLAYER)
                            }
                            this.sendLogDirty(e.Event.attack_log_dirty)
                        }
                        if (r.defend_log) {
                            for (a = 0; a < r.defend_log.length; ++a) {
                                o = new i.Log(!1, r.defend_log[a]);
                                this.addLog(o, Battle_pb.BattleType.PB_BATTLE_PLAYER)
                            }
                            this.sendLogDirty(e.Event.defense_log_dirty)
                        }
                        return !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_LOG_EX) {
                        var r, _ = (r = t.getExtensions_Battle_pb_SglBattleMsg_battle_log_ex_resp()).type, s = r.logs;
                        for (a = 0; a < s.length; ++a) {
                            var c = s[a];
                            o = new i.Log(null, c);
                            this.addLog(o, _)
                        }
                        return _ == Battle_pb.BattleType.PB_BATTLE_WORLD_LADDER ? (this._isClashLogsReady = !0, this.sendLogDirty(e.Event.clash_log_dirty)) : _ == Battle_pb.BattleType.PB_BATTLE_WORLD_EX ? (this._isNewClashLogsReady = !0, this.sendLogDirty(e.Event.clash_log_dirty)) : _ == Battle_pb.BattleType.PB_BATTLE_MATCH ? (this._isRoomLogsReady = !0, this.sendLogDirty(e.Event.room_log_dirty)) : _ == Battle_pb.BattleType.PB_BATTLE_DUEL_CITY ? (this._isDuelLogsReady = !0, this.sendLogDirty(e.Event.duel_log_dirty)) : _ == Battle_pb.BattleType.PB_BATTLE_SEASON ? (this._isSeasonLogsReady = !0, this.sendLogDirty(e.Event.season_log_dirty)) : (this._isMeleeLogsReady = !0, this.sendLogDirty(e.Event.melee_log_dirty)), !0
                    }
                    return !1
                }, e.Event = {
                    attack_log_dirty: "attack log dirty",
                    defense_log_dirty: "defense log dirty",
                    clash_log_dirty: "clash log dirty",
                    melee_log_dirty: "melee log dirty",
                    room_log_dirty: "room log dirty",
                    log_item_dirty: "log item dirty",
                    log_already_shared: new s.noxEvent1,
                    duel_log_dirty: "duel log dirty",
                    season_log_dirty: "season log dirty"
                }, e
            }();
        n.PlayerLog = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxEvent": "noxEvent",
        "../../const/ConfigKey": "ConfigKey",
        "../../utils/MsgCenter": "MsgCenter",
        "../data": "data",
        "./Log": "Log"
    }],
    PlayerMail: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a16f7lJp/1Bsqlvq3XddgX8", "PlayerMail"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("./Mail"), o = e("../data"), r = e("../../../leocool/lc"),
            _ = e("../../sdk/SdkManager"), s = e("../../const/SDK_TYPE"), c = e("../../part/UnionPart"),
            l = e("../../const/ConfigKey"), d = e("../../utils/TimeUtil"), p = e("../../../leocool/lcStr"),
            u = e("../../StringEnums"), g = function () {
                function e() {
                    this._mails = {}, a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._mails = {}
                }, e.prototype.refreshMails = function (t) {
                    if (this._mails = {}, t) for (var n = 0; n < t.length; ++n) {
                        var a = i.Mail.create(t[n]);
                        this.addMail(a)
                    }
                    this.sendMailEvent(e.Event.mail_list_dirty)
                }, e.prototype.addMail = function (e) {
                    this._mails[e._id] = e
                }, e.prototype.sendMailEvent = function (e) {
                    var t = {_event: e, _data: null};
                    o.Data.Event.mail.dispatchEvent(t)
                }, e.prototype.getMailList = function (e, t) {
                    var n = [];
                    if (r.lc.V(this._mails)) for (var a in this._mails) {
                        var i = this._mails[a];
                        i._type != e && i._type != t || this.isMailVisible(i) && n.push(i)
                    }
                    return n.sort(function (e, t) {
                        return t._timestamp - e._timestamp
                    }), n
                }, e.prototype.isMailVisible = function (e) {
                    var t = e._isIgnore;
                    if (e._type == Mail_pb.MailType.PB_MAIL_UNION && !t) {
                        var n = P._playerUnion;
                        r.lc.V(e._applyStatus) && n.canOperate(n.Operate.agree_user) != o.Data.ErrorType.ok && (t = !0)
                    }
                    return !t
                }, e.prototype.acceptMail = function (e) {
                    e._type == Mail_pb.MailType.PB_MAIL_FRIEND ? r.lc.V(e._inviteStatus) && c.UnionPart.sendUnionAcceptInvite(e._id, !0) : e._type == Mail_pb.MailType.PB_MAIL_UNION && r.lc.V(e._applyStatus) && c.UnionPart.sendUnionAcceptApply(e._id, !0)
                }, e.prototype.refuseMail = function (e) {
                    e._type == Mail_pb.MailType.PB_MAIL_FRIEND ? r.lc.V(e._inviteStatus) && (e._inviteStatus = SglMsg_pb.InviteStatus.PB_INVITE_REFUSED, c.UnionPart.sendUnionAcceptInvite(e._id, !1)) : e._type == Mail_pb.MailType.PB_MAIL_UNION && r.lc.V(e._applyStatus) && (e._applyStatus = SglMsg_pb.InviteStatus.PB_INVITE_REFUSED, c.UnionPart.sendUnionAcceptApply(e._id, !1)), e.sendMailDirty()
                }, e.prototype.getNewUnionMails = function () {
                    var e = r.lc.readConfig(l.ConfigKey.new_union_mail, ""), t = 0;
                    if (r.lc.V(this._mails)) for (var n in this._mails) {
                        var a = this._mails[n];
                        a._type == Mail_pb.MailType.PB_MAIL_UNION && this.isMailVisible(a) && Math.floor(a._timestamp) > Math.floor(e) && (t += 1)
                    }
                    return t
                }, e.prototype.clearNewUniSails = function () {
                    r.lc.writeConfig(l.ConfigKey.new_union_mail, d.TimeUtil.getCurrentTime())
                }, e.prototype.getNewMsgMails = function () {
                    var e = r.lc.readConfig(l.ConfigKey.new_friend_mail, "0"), t = 0;
                    if (null != this._mails) for (var n in this._mails) {
                        var a = this._mails[n];
                        (a._type == Mail_pb.MailType.PB_MAIL_FRIEND || a._type == Mail_pb.MailType.PB_MAIL_NOTIFY) && Math.floor(a._timestamp) > Math.floor(e) && (t += 1)
                    }
                    return t
                }, e.prototype.clearNewMsgMails = function () {
                    r.lc.writeConfig(l.ConfigKey.new_friend_mail, d.TimeUtil.getCurrentTime())
                }, e.prototype.getNewSystemMails = function () {
                    return this.getNewAnnouncements() + this.getNewNoticeMails() + P._playerBonus.getClaimCenterBonusFlag() + P._playerBonus.getClaimCenterSendBonusFlag()
                }, e.prototype.getNewAnnouncements = function () {
                    for (var e = r.lc.readConfig(l.ConfigKey.new_announce, "0"), t = 0, n = 0; n < P._systemAnnouncement.length; ++n) {
                        var a = P._systemAnnouncement[n];
                        Math.floor(a._timestamp) > Math.floor(e) && (t += 1)
                    }
                    return t
                }, e.prototype.getNewNoticeMails = function () {
                    var e = r.lc.readConfig(l.ConfigKey.new_notice_mail, "0"), t = 0;
                    if (this._mails) for (var n in this._mails) {
                        var a = this._mails[n];
                        a._type == Mail_pb.MailType.PB_MAIL_SYSTEM && Math.floor(a._timestamp) > Math.floor(e) && (t += 1)
                    }
                    return t
                }, e.prototype.clearNewAnnouncements = function () {
                    r.lc.writeConfig(l.ConfigKey.new_announce, d.TimeUtil.getCurrentTime())
                }, e.prototype.clearNewNoticeMails = function () {
                    r.lc.writeConfig(l.ConfigKey.new_notice_mail, d.TimeUtil.getCurrentTime())
                }, e.prototype.clearNewUnionMails = function () {
                    r.lc.writeConfig(l.ConfigKey.new_union_mail, d.TimeUtil.getCurrentTime())
                }, e.prototype.onMsg = function (t) {
                    var n = t.type;
                    t.status;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_MAIL_SEND) return this.sendMailEvent(e.Event.send_ok), !0;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_MAIL_LIST) {
                        var a = [], r = t.getExtensions_Mail_pb_SglMailMsg_mail_list_resp();
                        void 0 == (d = _.SdkManager.getSdkType()) && (d = s.SDK_TYPE.nox);
                        for (var c = 0; c < r.length; ++c) {
                            if (1 == (m = r[c]).type) {
                                var l = JSON.parse(m.param);
                                "all" == l.sdktype ? a.push(m) : l.sdktype == d && a.push(m)
                            } else a.push(m)
                        }
                        return this.refreshMails(a), !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_MAIL_RECEIVE) {
                        var d, g = t.getExtensions_Mail_pb_SglMailMsg_mail_receive_resp(), h = i.Mail.create(g);
                        if (1 == g.type) if (void 0 == (d = _.SdkManager.getSdkType()) && (d = s.SDK_TYPE.nox), JSON.parse(g.param).sdktype == d) this.addMail(h); else {
                            if ("all" != JSON.parse(g.param).sdktype) return;
                            this.addMail(h)
                        } else this.addMail(h);
                        return this.sendMailEvent(e.Event.mail_list_dirty), h._type == Mail_pb.MailType.PB_MAIL_SYSTEM && o.Data.Event.push_notice.addListener(null, function (e) {
                            e._title = p.lcStr(u.STR.NEW_SYS_MAIL), e._content = h._title, e._isImportant = h._isImportant, o.Data.Event.push_notice.dispatchEvent(e)
                        }), !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ACCEPT_INVITE) {
                        var f = t.getExtensions_Union_pb_SglUnionMsg_union_accept_resp();
                        return (m = this._mails[f])._inviteStatus == SglMsg_pb.InviteStatus.PB_INVITE_INVITED && (m._inviteStatus = SglMsg_pb.InviteStatus.PB_INVITE_ACCEPTED, m.sendMailDirty()), !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ACCEPT_APPLY) {
                        var m;
                        f = t.getExtensions_Union_pb_SglUnionMsg_union_accept_resp();
                        (m = this._mails[f])._applyStatus == SglMsg_pb.ApplyStatus.PB_APPLY_APPLIED && (m._applyStatus = SglMsg_pb.ApplyStatus.PB_APPLY_ACCEPTED, m.sendMailDirty())
                    }
                    return !1
                }, e.Event = {send_ok: "send ok", mail_list_dirty: "mail list dirty", mail_dirty: "mail dirty"}, e
            }();
        n.PlayerMail = g, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../const/ConfigKey": "ConfigKey",
        "../../const/SDK_TYPE": "SDK_TYPE",
        "../../part/UnionPart": "UnionPart",
        "../../sdk/SdkManager": "SdkManager",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data",
        "./Mail": "Mail"
    }],
    PlayerMarket: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "11773ReZCdDxpQLIZuWXOH7", "PlayerMarket"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../data"), o = e("../../../leocool/lc"),
            r = e("../../utils/TimeUtil"), _ = o.lc.blsh, s = o.lc.band, c = o.lc.bnot, l = o.lc.bor,
            d = e("../../part/ShopPart"), p = function () {
                function e() {
                    this._products = {}, this._rareGoodsMap = {}, this._godGoodsMap = {}, this._refreshingBits = 0, a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    for (var e in this._products) this._products[e] = [];
                    this._rareGoodsMap = {}, this._godGoodsMap = {}, this._refreshingBits = 0
                }, e.prototype.clearUnionMarket = function () {
                    this._products[e.TYPE.union] = [], this.clearRefreshing(e.TYPE.union)
                }, e.prototype.init = function (t) {
                    if (this._offs = [1, 1, 1, 1, 1, 1, 1], o.lc.V(P._playerActivity._actMarketOff)) for (var n = P._playerActivity._actMarketOff, a = i.Data.MarketBuyType.daily; a <= i.Data.MarketBuyType.dragon_flag; ++a) this._offs[a - 1] = n._bonusId[a - i.Data.MarketBuyType.daily] / 10;
                    this._nextRefreshTime = t.next_refresh / 1e3, this._fragMarketTimestamp = t.last_open / 1e3, this.initProducts(t.bundles, e.TYPE.random), this.initProducts(t.ladder_bundles, e.TYPE.dragon_flag), this.initGifts(t.gifts), this.initRareGoodsMap(t.rare_bundles), this.initGodGoodsMap(t.legend_bundles)
                }, e.prototype.initRareGoodsMap = function (e) {
                    for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        this._rareGoodsMap[n] = 1
                    }
                }, e.prototype.initGodGoodsMap = function (e) {
                    for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        this._godGoodsMap[n] = 1
                    }
                }, e.prototype.initProducts = function (t, n) {
                    this._products[n] = [];
                    var a = this._products[n];
                    if (t) for (var i = 0; i < t.length; ++i) {
                        var o = t[i], r = this.createProduct(o, n);
                        a.push(r)
                    }
                    var _ = function (e, t) {
                        return e._isFixed == t._isFixed ? e._id - t._id : e._isFixed ? -1 : 1
                    };
                    n == e.TYPE.union && a.sort(function (e, t) {
                        var n = P._playerUnion.getMyUnion()._level;
                        return n >= e._info._level && n >= t._info._level ? _(e, t) : e._info._level - t._info._level
                    }), this.clearRefreshing(n), this.sendMarketListDirty(n)
                }, e.prototype.initGifts = function (e) {
                }, e.prototype.createProduct = function (e, t) {
                    var n = {};
                    n._id = e.id, n._type = t, n._isAvailable = e.is_available;
                    var a = e.product;
                    n._infoId = a.info_id, n._num = a.num, n._productId = e.info_id, n._buyCount = e.count;
                    var o = void 0, r = void 0;
                    if (t == i.Data.MarketBuyType.random) r = (o = i.Data._productsInfo[n._productId])._cost; else if (t == i.Data.MarketBuyType.union) {
                        o = i.Data._unionProductsInfo[n._productId], r = this.getProductCost(n, o);
                        var _ = i.Data.getInfo(n._infoId), s = _.shift(), c = _.shift();
                        null != s && c == i.Data.CardType.monster && s._fragmentCount >= 80 ? null == o._param[1] || 0 == o._param[1] ? n._buyCountMax = o._count : n._buyCountMax = o._param[1] : n._buyCountMax = o._count
                    } else t == i.Data.MarketBuyType.dragon_flag && (o = i.Data._ladderProductsInfo[n._productId], r = this.getProductCost(n, o), n._buyCountMax = o._count);
                    return n._info = o, n._resType = o._resType, n._cost = r * n._num * this._offs[t - 1], n._isFixed = 1 == o._isFixed, n
                }, e.prototype.getProductCost = function (t, n) {
                    n = o.lc.D(n, t._info);
                    var a = i.Data.getInfo(t._infoId), r = i.Data.getType(t._infoId);
                    if (null != a && r == i.Data.CardType.monster && t._type == e.TYPE.union) {
                        var _ = void 0;
                        _ = null == n._param[0] || 0 == n._param[0] ? n._cost : n._param[0];
                        var s = void 0;
                        return n._param && (s = null == n._param[2] || 0 == n._param[2] ? n._costFlag : n._param[2]), Math.floor(_ * Math.pow(s / 100, t._buyCount))
                    }
                    return t._type == e.TYPE.union || t._type == e.TYPE.dragon_flag ? Math.floor(n._cost * Math.pow(n._costFlag / 100, t._buyCount)) : n._cost
                }, e.prototype.scheduler = function (e) {
                    this._fragMarketTimestamp > 0 && this.isFragMarketClosed() && this.closeFragMarket();
                    var t = r.TimeUtil.getCurrentTime();
                    t > this._nextRefreshTime && (this.isRefreshing(i.Data.MarketBuyType.random) || (this._refreshingBits = l(0, _(1, i.Data.MarketBuyType.random)), d.ShopPart.sendProductsRefreshAll())), P.hasUnion() && t > P._playerUnion._nextRefreshTime && this.sendRefresh(i.Data.MarketBuyType.union)
                }, e.prototype.sendRefresh = function (e, t) {
                    void 0 === t && (t = null), this.isRefreshing(e) || (this._refreshingBits = l(this._refreshingBits, _(1, e)), d.ShopPart.sendProductsRefresh(e, t))
                }, e.prototype.isRefreshing = function (e) {
                    return 0 != this._refreshingBits && 0 != s(this._refreshingBits, _(1, e))
                }, e.prototype.clearRefreshing = function (e) {
                    this._refreshingBits = s(this._refreshingBits, c(_(1, e)))
                }, e.prototype.getProducts = function (t) {
                    if (t == e.TYPE.daily) return this.getGoods();
                    if (t == e.TYPE.vip) return this.getVipGoods();
                    var n = this._products[t];
                    return t == e.TYPE.random && (n = P.sortResultItems(n)), n
                }, e.prototype.getGoods = function () {
                    var t = [];
                    for (var n in i.Data._goodsInfo) {
                        var a = i.Data._goodsInfo[n], o = a._infoId;
                        if (o >= 7015 && o <= 7018) {
                            var r = {
                                _id: a._id,
                                _cost: null,
                                _infoId: a._infoId,
                                _level: a._level,
                                _resType: a._resType,
                                _num: a._num,
                                _isFragment: a._isFragment > 0,
                                _type: TYPE.daily,
                                _isAvailable: this.getBuyGoodsNumber(o) > 0
                            };
                            r._cost = a._cost * r._num * this._offs[e.TYPE.daily - 1], t.push(r)
                        }
                    }
                    return t.sort(function (e, t) {
                        return i.Data._propsInfo[e._infoId]._rank - i.Data._propsInfo[t._infoId]._rank
                    }), t
                }, e.prototype.getVipGoods = function () {
                    return []
                }, e.prototype.hasVipGoods = function () {
                    var e = P._playerActivity._actMarket;
                    if (o.lc.V(e)) for (var t = 0; t < e._bonusId.length; ++t) {
                        var n = e._bonusId[t];
                        if (o.lc.log("id = %d", n), 1 == i.Data._activityGoodsInfo[n]._isVip) return !0
                    }
                    return !1
                }, e.prototype.getBuyGoodsNumber = function (e, t) {
                    var n = P;
                    switch (e) {
                        case i.Data.PropsId.orange_hero_f_box:
                            return n.getBuyOrangeHeroFBoxNumber() + (t ? n._dailyBuyOrangeHeroFBox : 0);
                        case i.Data.PropsId.purple_hero_f_box:
                            return P.getBuyPurpleHeroFBoxNumber() + (t ? n._dailyBuyPurpleHeroFBox : 0);
                        case i.Data.PropsId.dust_monster:
                            return P.getBuyHeroExpNumber() + (t ? n._dailyBuyHeroExp : 0);
                        case i.Data.PropsId.dust_magic:
                            return P.getBuyEquipExpNumber() + (t ? n._dailyBuyEquipExp : 0);
                        case i.Data.PropsId.dust_trap:
                            return P.getBuyHorseExpNumber() + (t ? n._dailyBuyHorseExp : 0);
                        case i.Data.PropsId.dust_rare:
                            return P.getBuyBookExpNumber() + (t ? n._dailyBuyBookExp : 0);
                        case i.Data.PropsId.orange_horse_f_box:
                            return P.getBuyOrangeHorseFBoxNumber() + (t ? n._dailyBuyOrangeHorseFBox : 0);
                        case i.Data.PropsId.purple_horse_f_box:
                            return P.getBuyPurpleHorseFBoxNumber() + (t ? n._dailyBuyPurpleHorseFBox : 0);
                        case i.Data.PropsId.evolute_material:
                            return P.getBuyRemedyNumber() + (t ? n._dailyBuyRemedy : 0);
                        case i.Data.PropsId.polish:
                            return P.getBuyStoneNumber() + (t ? n._dailyBuyStone : 0)
                    }
                    return 0
                }, e.prototype.buyGoods = function (e, t) {
                    var n = e._cost * t;
                    if (!P.hasResource(e._resType, n)) {
                        if (e._resType == i.Data.ResType.ingot || e._resType == i.Data.ResType.binding_ingot) return i.Data.ErrorType.need_more_ingot;
                        if (e._resType == i.Data.ResType.gold) return i.Data.ErrorType.need_more_gold
                    }
                    switch (e._infoId) {
                        case i.Data.PropsId.orange_hero_f_box:
                            P._dailyBuyOrangeHeroFBox = P._dailyBuyOrangeHeroFBox + t, e._isAvailable = P.getBuyOrangeHeroFBoxNumber() > 0;
                            break;
                        case i.Data.PropsId.purple_hero_f_box:
                            P._dailyBuyPurpleHeroFBox = P._dailyBuyPurpleHeroFBox + t, e._isAvailable = P.getBuyPurpleHeroFBoxNumber() > 0;
                            break;
                        case i.Data.PropsId.orange_horse_f_box:
                            P._dailyBuyOrangeHorseFBox = P._dailyBuyOrangeHorseFBox + t, e._isAvailable = P.getBuyOrangeHorseFBoxNumber() > 0;
                            break;
                        case i.Data.PropsId.purple_horse_f_box:
                            P._dailyBuyPurpleHorseFBox = P._dailyBuyPurpleHorseFBox + t, e._isAvailable = P.getBuyPurpleHorseFBoxNumber() > 0;
                            break;
                        case i.Data.PropsId.dust_monster:
                            P._dailyBuyHeroExp = P._dailyBuyHeroExp + t, e._isAvailable = P.getBuyHeroExpNumber() > 0;
                            break;
                        case i.Data.PropsId.dust_magic:
                            P._dailyBuyEquipExp = P._dailyBuyEquipExp + t, e._isAvailable = P.getBuyEquipExpNumber() > 0;
                            break;
                        case i.Data.PropsId.dust_trap:
                            P._dailyBuyHorseExp = P._dailyBuyHorseExp + t, e._isAvailable = P.getBuyHorseExpNumber() > 0;
                            break;
                        case i.Data.PropsId.dust_rare:
                            P._dailyBuyBookExp = P._dailyBuyBookExp + t, e._isAvailable = P.getBuyBookExpNumber() > 0;
                            break;
                        case i.Data.PropsId.evolute_material:
                            P._dailyBuyRemedy = P._dailyBuyRemedy + t, e._isAvailable = P.getBuyRemedyNumber() > 0;
                            break;
                        case i.Data.PropsId.polish:
                            P._dailyBuyStone = P._dailyBuyStone + t, e._isAvailable = P.getBuyStoneNumber() > 0
                    }
                    return P.changeResource(e._resType, -n), P._propBag.changeProps(e._infoId, e._num * t), o.lc.V(e._buyCountMax) && (e._buyCount = e._buyCount + 1, e._isAct && (P._playerActivity._productBuyCounts[e._id] = e._buyCount)), this.sendProductDirty(e), i.Data.ErrorType.ok
                }, e.prototype.buyProduct = function (e) {
                    if (o.lc.V(e)) {
                        var t = e._resType, n = i.Data.getType(t);
                        if (n == i.Data.CardType.res) {
                            if (!P.hasResource(t, e._cost)) return t == i.Data.ResType.gold ? i.Data.ErrorType.need_more_gold : t == i.Data.ResType.ingot || t == i.Data.ResType.binding_ingot ? i.Data.ErrorType.need_more_ingot : i.Data.ErrorType.error;
                            P.changeResource(t, -e._cost)
                        } else {
                            if (n != i.Data.CardType.props) return i.Data.ErrorType.error;
                            if (!P._propBag.hasProps(t, e._cost)) return i.Data.ErrorType.need_more_money;
                            P._propBag.changeProps(t, -e._cost)
                        }
                        return P.addResources([e._infoId], [e._level], [e._num], [e._isFragment]), e._buyCountMax ? (e._buyCount = e._buyCount + 1, e._cost = this.getProductCost(e) * e._num * this._offs[e._type - 1], e._isAct && (P._playerActivity._productBuyCounts[e._id] = e._buyCount)) : e._isAct || (e._isAvailable = !1), this.sendProductDirty(e), i.Data.ErrorType.ok
                    }
                    return i.Data.ErrorType.error
                }, e.prototype.buyGifts = function () {
                }, e.prototype.getGiftRemainTime = function () {
                }, e.prototype.isGiftsClosed = function () {
                }, e.prototype.closeGifts = function () {
                }, e.prototype.getFragMarketRemainTime = function () {
                    return 0 == this._fragMarketTimestamp ? 0 : this._fragMarketTimestamp + 3600 * i.Data._globalInfo._shopOpenTime - r.TimeUtil.getCurrentTime()
                }, e.prototype.isFragMarketClosed = function () {
                    return this.getFragMarketRemainTime() <= 0
                }, e.prototype.closeFragMarket = function () {
                    this._fragMarketTimestamp = 0, this.sendFragMarketClosed()
                }, e.prototype.onMsg = function (t) {
                    var n = t.type;
                    t.status;
                    switch (n) {
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_EX:
                            var a = t.getExtensions_Shop_pb_SglShopMsg_shop_refresh_resp();
                            return this._nextRefreshTime = a.next_refresh / 1e3, this.initProducts(a.bundles, e.TYPE.random), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_PVP:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_PVP_EX:
                            return !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_LADDER:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_LADDER_EX:
                            a = t.getExtensions_Shop_pb_SglShopMsg_shop_refresh_resp();
                            return this._nextRefreshTime = a.next_refresh / 1e3, this.initProducts(a.bundles, e.TYPE.dragon_flag), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_ALL:
                            a = t.getExtensions_Shop_pb_SglShopMsg_shop_refresh_all_resp();
                            return this._nextRefreshTime = a.next_refresh / 1e3, this.initProducts(a.bundles, e.TYPE.random), this.initProducts(a.ladder_bundles, e.TYPE.dragon_flag), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_OPEN:
                            return !0
                    }
                    return !1
                }, e.prototype.sendProductDirty = function (e) {
                    i.Data.Event.product_dirty.dispatchEvent(e)
                }, e.prototype.sendMarketListDirty = function (e) {
                    i.Data.Event.market_list_dirty.dispatchEvent(e)
                }, e.prototype.sendFragMarketOpen = function () {
                    i.Data.Event.fragment_market_open.dispatchEvent()
                }, e.prototype.sendFragMarketClosed = function () {
                    i.Data.Event.fragment_market_closed.dispatchEvent()
                }, e.prototype.getFragmentShopFlagNum = function () {
                    var e = [];
                    for (var t in i.Data._cardAdvanceInfo) {
                        var n = i.Data._cardAdvanceInfo[t];
                        0 == n._isHide && e.push(n)
                    }
                    for (var a = 0, o = 0; o < e.length; o++) e[o]._fragment <= P._playerCard.getFragmentCount(e[o]._infoId) && (a += 1);
                    return a
                }, e.TYPE = i.Data.MarketBuyType, e
            }();
        n.PlayerMarket = p, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../part/ShopPart": "ShopPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    PlayerMessage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fa783NQ29VF2b08a7JvIP8I", "PlayerMessage"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("../data"), o = e("./Message"), r = e("../../utils/TimeUtil"),
            _ = e("../../../leocool/lc"), s = e("../../const/ConfigKey"), c = e("../Log/PlayerLog"),
            l = e("../../../leocool/lcStr"), d = e("../../StringEnums"), p = e("./User"), u = function () {
                function e() {
                    this.clear(), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._msgAll = [[], [], [], [], []]
                }, e.prototype.clearUnion = function () {
                    this._msgAll[i.Data.MsgType.union - 1] = [], this.sendMessageEvent(e.Event.union_clear)
                }, e.prototype.shiftCustomChat = function () {
                    this._msgAll[i.Data.MsgType.customize - 1].shift()
                }, e.prototype.getNew = function (t) {
                    if (_.lc.V(t)) {
                        for (var n = this._msgAll[t - 1], a = e.CFG_KEYS[t - 1], i = _.lc.readConfig(a, "0"), o = 0, r = 0; r < n.length; ++r) {
                            var s = n[r];
                            _.lc.V(s._user) && s._user._id != P._id && Math.floor(s._timestamp) > Math.ceil(i) && (o += 1)
                        }
                        return o
                    }
                    return this.getNewWorld() + this.getNewUnion() + this.getNewBulletin() + this.getNewBattle()
                }, e.prototype.clearNew = function (t) {
                    var n = e.CFG_KEYS[t - 1];
                    _.lc.writeConfig(n, r.TimeUtil.getCurrentTime())
                }, e.prototype.getNewWorld = function () {
                    return this.getNew(i.Data.MsgType.world)
                }, e.prototype.getNewUnion = function () {
                    return this.getNew(i.Data.MsgType.union)
                }, e.prototype.getNewBulletin = function () {
                    return this.getNew(i.Data.MsgType.bulletin)
                }, e.prototype.getNewBattle = function () {
                    return this.getNew(i.Data.MsgType.battle)
                }, e.prototype.addMsg = function (e, t) {
                    var n = new o.Message(e, t);
                    if (_.lc.V(n._hiddenInChat)) return null;
                    var a = this._msgAll[n._type - 1],
                        r = t == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MESSAGE || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE ? 30 : 100;
                    return a.length >= r && a.splice(a.length - 1, 1), n._type == i.Data.MsgType.customize ? a.push(n) : a.unshift(n), n
                }, e.prototype.isLogShared = function (e) {
                    for (var t = 0; t < this._msgAll[i.Data.MsgType.battle - 1].length; ++t) {
                        var n = this._msgAll[i.Data.MsgType.battle - 1][t];
                        if (_.lc.V(n._log) && n._log._id == e) return !0
                    }
                    return !1
                }, e.prototype.sendMessageEvent = function (e, t, n) {
                    void 0 === t && (t = null), void 0 === n && (n = null), i.Data.Event.message.dispatchEvent({
                        _type: t,
                        _event: e,
                        _param: n
                    })
                }, e.prototype.onMsg = function (t, n) {
                    if ((n = _.lc.D(n, t.type)) == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_LOADING_DONE) return this.onMsg(t, SglMsgType_pb.ProtoMsgType.PB_TYPE_CHAT), this.onMsg(t, SglMsgType_pb.ProtoMsgType.PB_TYPE_NEWS), this.onMsg(t, SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SHARE), !0;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_CHAT) {
                        var a = 0, o = 0, r = 0;
                        if (f = t.getExtensions_Chat_pb_SglChatMsg_chat_receive_resp()) for (var s = 0; s < f.length; ++s) {
                            var u = f[s], g = this.addMsg(u, n);
                            _.lc.V(g) && (g._type == i.Data.MsgType.world ? a += 1 : g._type == i.Data.MsgType.customize ? r += 1 : o += 1)
                        }
                        return a > 0 && this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.world, a), o > 0 && this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.bulletin, o), r > 0 && this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.customize, r), !0
                    }
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MESSAGE) {
                        if (P.hasUnion()) {
                            var h = 0;
                            if (f = t.getExtensions_Union_pb_SglUnionMsg_union_message_resp()) for (s = 0; s < f.length; ++s) {
                                u = f[s];
                                this.addMsg(u, n) && (h += 1)
                            }
                            if (f = t.getExtensions_Friend_pb_SglFriendMsg_friend_battle_resp()) for (s = 0; s < f.length; ++s) {
                                u = f[s];
                                this.addMsg(u, SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE) && (h += 1)
                            }
                            this._msgAll[i.Data.MsgType.union - 1].sort(function (e, t) {
                                return t._timestamp - e._timestamp
                            }), h > 0 && this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.union, h)
                        }
                    } else {
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_NEWS) {
                            h = 0;
                            if (f = t.getExtensions_News_pb_SglNewsMsg_news_receive_resp()) {
                                for (s = 0; s < f.length; ++s) {
                                    u = f[s];
                                    this.addMsg(u, n) && (h += 1)
                                }
                                this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.bulletin, h)
                            }
                            return !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SHARE) {
                            var f;
                            h = 0;
                            if (f = t.getExtensions_Battle_pb_SglBattleMsg_battle_share_resp()) {
                                for (s = 0; s < f.length; ++s) {
                                    u = f[s];
                                    var m = this.addMsg(u, n);
                                    _.lc.V(m) && (h += 1, _.lc.V(m._log) && m._user._id > 0 && P._playerLog.sendLogDirty(c.PlayerLog.Event.log_item_dirty, m._log._id))
                                }
                                this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.battle, h)
                            }
                            return !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_START) return (u = t.getExtensions_Friend_pb_SglFriendMsg_friend_battle_start_resp()) && this.addMsg(u, n) && this.sendMessageEvent(e.Event.msg_new, i.Data.MsgType.battle, 1), !0;
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_END) {
                            for (u = t.getExtensions_Friend_pb_SglFriendMsg_friend_battle_end_resp(), s = 0; s < this._msgAll[i.Data.MsgType.battle - 1].length; ++s) {
                                var y = this._msgAll[i.Data.MsgType.battle - 1][s];
                                if (y._battleId == u.id) {
                                    y._result = u.result_type == i.Data.BattleResult.win ? 1 : 0, y._content = u.result_type == i.Data.BattleResult.win ? l.lcStr(d.STR.FRIEND_BATTLE_WIN) : l.lcStr(d.STR.FRIEND_BATTLE_LOSE), this.sendMessageEvent(e.Event.msg_update, i.Data.MsgType.battle, y);
                                    break
                                }
                            }
                            return !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_BAN_CHAT) {
                            var T = t.getExtensions_User_pb_SglUserMsg_user_ban_chat_resp();
                            return P._chatBanList[T] = !0, !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CANCEL_BAN_CHAT) {
                            T = t.getExtensions_User_pb_SglUserMsg_user_cancel_ban_chat_resp();
                            return P._chatBanList[T] = !1, !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_THUMBS_UP || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_THUMBS_UP_CANCEL) {
                            for (T = (u = t.getExtensions_Battle_pb_SglBattleMsg_battle_thumbs_up_resp()).user_id, parseInt(u.log_id), s = 0; s < this._msgAll[i.Data.MsgType.battle - 1].length; ++s) {
                                var S = this._msgAll[i.Data.MsgType.battle - 1][s];
                                if (_.lc.V(S._log) && S._log._id == parseInt(u.log_id)) {
                                    n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_THUMBS_UP ? (S._likeIds[T] = !0, S._likeIdsCount = S._likeIdsCount + 1) : (S._likeIds[T] = null, S._likeIdsCount = Math.max(0, S._likeIdsCount - 1)), this.sendMessageEvent(e.Event.msg_update, i.Data.MsgType.battle, S);
                                    break
                                }
                            }
                            return !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_BATTLE_SHARE_WATCH) {
                            for (T = (u = t.getExtensions_Battle_pb_SglBattleMsg_battle_share_watch_resp()).user_id, parseInt(u.log_id), s = 0; s < this._msgAll[i.Data.MsgType.battle - 1].length; ++s) {
                                var C = this._msgAll[i.Data.MsgType.battle - 1][s];
                                if (_.lc.V(C._log) && C._log._id == parseInt(u.log_id)) {
                                    C._watchIds[T] || (C._watchIds[T] = !0, C._watchIdsCount = C._watchIdsCount + 1), this.sendMessageEvent(e.Event.msg_update, i.Data.MsgType.battle, C);
                                    break
                                }
                            }
                            return !0
                        }
                        if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_FRIEND_BATTLE_UPDATE) for (u = t.getExtensions_Friend_pb_SglFriendMsg_friend_battle_update_resp(), s = 0; s < this._msgAll[i.Data.MsgType.union - 1].length; ++s) {
                            var v = this._msgAll[i.Data.MsgType.union - 1][s];
                            if (_.lc.V(v._battleId) && v._battleId == parseInt(u.battle_id)) {
                                null != u.user2 && (v._opponent = p.User.create(u.user2)), v._isValid = u.is_valid, u.result && (v._resultType = u.result.result_type, v._replayId = u.result.replay_id), this.sendMessageEvent(e.Event.msg_update, i.Data.MsgType.union, v);
                                break
                            }
                        }
                    }
                    return !1
                }, e.Event = {
                    send_ok: "send ok",
                    msg_new: "msg new",
                    msg_update: "msg update",
                    union_clear: "union clear"
                }, e.CFG_KEYS = [s.ConfigKey.new_world_msg, s.ConfigKey.new_bulletin_msg, s.ConfigKey.new_battle_msg, s.ConfigKey.new_union_msg], e
            }();
        n.PlayerMessage = u, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../../const/ConfigKey": "ConfigKey",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../Log/PlayerLog": "PlayerLog",
        "../data": "data",
        "./Message": "Message",
        "./User": "User"
    }],
    PlayerRank: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f5209XupDhNoabqwBH6HYHp", "PlayerRank"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("./Rank"), o = e("../data"), r = e("../../../leocool/lc"),
            _ = e("../../part/RankPart"), s = function () {
                function e() {
                    this._ranks = {}, this.clear(), r.lc.addEventListener(o.Data.Event.level_dirty, function () {
                        this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LEVEL)
                    }.bind(this)), r.lc.addEventListener(o.Data.Event.chapter_level_dirty, function () {
                        this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_STAR)
                    }.bind(this)), o.Data.Event.trophy_dirty.addListener(null, function () {
                        this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY)
                    }.bind(this)), r.lc.addEventListener(o.Data.Event.union_level_upgrade, function () {
                        this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL)
                    }.bind(this)), o.Data.Event.clash_trophy_dirty.addListener(null, function () {
                        for (var e = 0; e <= o.Data._globalInfo._ladderStage.length + 1; ++e) this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER, e), this.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX, e)
                    }.bind(this)), a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    e.rankClearTimer = 0, e.rankReady = {}, e.reserveRanks = {}, this._ranks = {}
                }, e.prototype.initRanks = function (t) {
                    for (var n = [], a = 0; a < e.RANK_COUNT; ++a) n.push(new i.Rank);
                    return n
                }, e.prototype.parseRankData = function (t, n, a) {
                    var _, s = this.getRankName(n, a), c = function (t) {
                        return t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY ? e.RANK_COUNT = 100 : t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY_EX || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX ? e.RANK_COUNT = 3 : e.RANK_COUNT = 50, this._ranks || o.Data.Event.achieve_list_dirty.dispatchEvent(), this._ranks[s] = this.initRanks(t), this._ranks[s]
                    }.bind(this)(n), l = !1;
                    if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY ? l = !0 : n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE && n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE_EX || (c._isReserve = !0), n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_TEAM && n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_TEAM || (_ = !0), r.lc.V(t)) {
                        t.data ? c._count = t.data.length : c._count = 0, t.user_id ? c._rankId = t.user_id : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE_EX || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX ? c._rankId = 0 : c._rankId = P._id, t.season && (c._season = t.season), c._selfRank = null;
                        var d = 0;
                        if (t.data) for (var p = 0; p < t.data.length; ++p) {
                            var u = t.data[p];
                            if (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY && 0 == u.union_info.member) c._count = c._count - 1; else {
                                var g = null;
                                if (d < e.RANK_COUNT) {
                                    if (!(g = c[d])) continue;
                                    g.set(u, n, a)
                                }
                                (!l && !_ && parseInt(u.user_info.id) == parseInt(c._rankId) || l && parseInt(u.union_info.id) == parseInt(P._unionId) || _ && parseInt(u.team.id) == parseInt(P._playerUnion._groupId)) && (null == g && ((g = new i.Rank).set(u, n, a), c._count = c._count - 1), c._selfRank = g), d += 1
                            }
                        }
                    } else c._count = 0, c._rankId = P._id, c._selfRank = null;
                    e.rankReady[s] = c, this.sendRankListDirty(n, a)
                }, e.prototype.getRanks = function (e, t) {
                    return this._ranks[this.getRankName(e, t)]
                }, e.prototype.getRankName = function (e, t) {
                    var n = "";
                    switch (e) {
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LEVEL:
                            n = "lordLevel";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER:
                            n = "power";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_STAR:
                            n = "cityStar";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY:
                            n = "trophy";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL:
                            n = "unionLevel";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_BOSS:
                            n = "worldBoss";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE:
                            n = "uboss";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER:
                            n = "findClash";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX:
                            n = "findLadder";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE:
                            n = "findClashPre";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY:
                            n = "unionTrophy";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_MVP:
                            n = "unionBattleMvp";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_TEAM:
                            n = "unionBattleTeam";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_MVP:
                            n = "unionBattlePreMvp";
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_TEAM:
                            n = "unionBattlePreTeam"
                    }
                    return r.lc.V(t) ? string.format("_%sRanks_%s", n, t) : string.format("_%sRanks", n)
                }, e.prototype.getRankBonusInfo = function (e, t) {
                    for (var n in t = r.lc.D(t, SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY), o.Data._rankBonusInfo) {
                        var a = o.Data._rankBonusInfo[n];
                        if (a._type == t && e >= a._min && e <= a._max) return a
                    }
                }, e.prototype.scheduler = function (t) {
                    if (e.rankClearTimer = e.rankClearTimer + t, e.rankClearTimer > 30) for (var n in e.rankClearTimer = 0, e.rankReady) {
                        e.rankReady[n]._isReserve || (e.rankReady[n] = null)
                    }
                }, e.prototype.clearRank = function (t, n) {
                    void 0 === n && (n = null);
                    var a = this.getRankName(t, n);
                    e.rankReady[a] = null
                }, e.prototype.clearPreRank = function (t, n) {
                    var a = this.getRankName(t, n);
                    this[a] = null, e.rankReady[a] = null
                }, e.prototype.sendRankRequest = function (t, n) {
                    var a = this.getRankName(t, n);
                    if (!e.rankReady[a]) return t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME ? _.RankPart.sendRankUBoss(t, n) : _.RankPart.sendRankRequest(t, n), !0;
                    this.sendRankListDirty(t, n)
                }, e.prototype.sendRankListDirty = function (e, t) {
                    o.Data.Event.rank_list_dirty.dispatchEvent(e, t)
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LEVEL || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_STAR || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_BOSS || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_TEAM || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_MVP || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY_EX || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX) {
                        var n = e.getExtensions_Rank_pb_SglRankMsg_rank_list_resp(), a = null;
                        return t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME ? a = e.getExtensions_Rank_pb_SglRankMsg_rank_uboss_resp() : t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER ? a = e.getExtensions_Rank_pb_SglRankMsg_rank_ladder_resp() : t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX ? a = e.getExtensions_Rank_pb_SglRankMsg_rank_ladder_resp() : t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL && (a = e.getExtensions_Rank_pb_SglRankMsg_rank_char_resp()), this.parseRankData(n, t, a), !0
                    }
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE) {
                        var i = e.getExtensions_Rank_pb_SglRankMsg_rank_top_team_mvp_resp().ranks;
                        return this.parseRankData(i[0], SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_TEAM, null), this.parseRankData(i[1], SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_MVP, null), !0
                    }
                    return !1
                }, e.RANK_COUNT = null, e
            }();
        n.PlayerRank = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../part/RankPart": "RankPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../data": "data",
        "./Rank": "Rank"
    }],
    PlayerRoom: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c8b84dG3jtB1JmNKcNgoDde", "PlayerRoom"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./Room"), i = e("../data"), o = e("../../part/BattlePart"), r = e("../../../leocool/lc"),
            _ = e("../../part/RoomPart"), s = e("../../ClientView"), c = e("../../utils/MsgHandler"),
            l = e("../../utils/MsgCenter"), d = function () {
                function e() {
                    l.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._myRoom && this._myRoom.clear(), this._myRoom = null, this._myIdInRoom = null, P._roomId = null, P._roomJob = null
                }, e.prototype.initMyRoom = function (e) {
                    var t = a.Room.create(e);
                    null != t && (this._myRoom = t, P._roomId = t._id, P._lastRoomId = t._id, this._myIdInRoom = e.user_id, this._myIdInRoom == parseInt(t._creator._idInRoom) ? P._roomJob = i.Data.RoomJob.leader : P._roomJob = i.Data.RoomJob.rookie, c.MsgHandler.onEnterRoom())
                }, e.prototype.updateMyRoom = function (e) {
                    this._myRoom.updateInfo(e);
                    var t = this._myRoom;
                    P._roomId = t._id, this._myIdInRoom = e.user_id, this._myIdInRoom == t._creator._idInRoom ? P._roomJob = i.Data.RoomJob.leader : P._roomJob = i.Data.RoomJob.rookie, this._myRoom.sendRoomDirty()
                }, e.prototype.getMyRoom = function () {
                    return this._myRoom
                }, e.prototype.addMember = function (e) {
                }, e.prototype.removeMember = function (e, t) {
                }, e.prototype.sendEnterRoomDirty = function () {
                    i.Data.Event.room_enter_dirty.dispatchEvent()
                }, e.prototype.sendExitRoomDirty = function () {
                    i.Data.Event.room_exit_dirty.dispatchEvent()
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    e.status;
                    if (r.lc.log(e.type + " " + e.status), t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_GET_MATCH) {
                        s.ClientView.getActiveIndicator().hide();
                        var n = e.getExtensions_World_pb_SglWorldMsg_world_get_match_resp();
                        return this._myRoom ? this.updateMyRoom(n) : this.initMyRoom(n), !0
                    }
                    return t == SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CLOSE_MATCH && (this.clear(), this.sendExitRoomDirty(), !0)
                }, e.prototype.exitMyRoom = function () {
                    this.clear(), _.RoomPart.sendQuitRoom()
                }, e.prototype.sendGetRoomLog = function () {
                    o.BattlePart.sendGetPvpLogs(Battle_pb.BattleType.PB_BATTLE_MATCH)
                }, e.Operate = {
                    exit_union: 101,
                    buy_product: 102,
                    contribute_gold: 103,
                    contribute_wood: 104,
                    send_message: 105,
                    refresh_store: 106,
                    give_fund: 107,
                    impeach: 108,
                    fire_member: 201,
                    agree_user: 202,
                    refuse_user: 203,
                    launch_battle: 204,
                    cancel_battle: 205,
                    invite_user: 206,
                    edit: 207,
                    upgrade: 208,
                    view_contribute: 209,
                    view_activity: 210,
                    unlock_boss: 211,
                    upgrade_tech: 212,
                    set_job: 301,
                    give_leader: 302
                }, e
            }();
        n.PlayerRoom = d, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../ClientView": "ClientView",
        "../../part/BattlePart": "BattlePart",
        "../../part/RoomPart": "RoomPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/MsgHandler": "MsgHandler",
        "../data": "data",
        "./Room": "Room"
    }],
    PlayerSeason: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "369ce3a8wlNwaGTiMtYSqVv", "PlayerSeason"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../utils/TimeUtil"), o = function () {
            function e() {
                this.clear()
            }

            return e.prototype.init = function (e) {
                this._status = e, this._isPrompt = !1, this._isStayPrompt = !1, this._applyPeriod = 0, this._bet_group_id = 0, this._bet_user_id = 0, this._startTime = this.startTheCountdown()
            }, e.prototype.clear = function () {
                this._startTime = 0
            }, e.prototype.seasonTimeOverview = function () {
                var e = [];
                return a.Data._globalInfo._saijics16time && e.push(a.Data._globalInfo._saijics16time), a.Data._globalInfo._saijics8time && e.push(a.Data._globalInfo._saijics8time), a.Data._globalInfo._saijics4time && e.push(a.Data._globalInfo._saijics4time), a.Data._globalInfo._saijics2time && e.push(a.Data._globalInfo._saijics2time), a.Data._globalInfo._saijics1time && e.push(a.Data._globalInfo._saijics1time), a.Data._globalInfo._saijitxdy16time && e.push(a.Data._globalInfo._saijitxdy16time), a.Data._globalInfo._saijitxdy8time && e.push(a.Data._globalInfo._saijitxdy8time), a.Data._globalInfo._saijitxdy4time && e.push(a.Data._globalInfo._saijitxdy4time), a.Data._globalInfo._saijitixy2time && e.push(a.Data._globalInfo._saijitixy2time), a.Data._globalInfo._saijitixy1time && e.push(a.Data._globalInfo._saijitixy1time), e
            }, e.prototype.startTheCountdown = function () {
                for (var e = i.TimeUtil.getServerDay(), t = this.seasonTimeOverview(), n = 0; n < t.length; n++) {
                    var a = i.TimeUtil.numOfSecondsPassedToday(), o = i.TimeUtil.calcSecondsBasedOnString(t[n][1]);
                    if (o >= a) return o -= a;
                    if (t[n] && e < t[n][0] && o < a) return o += 86400 - a, o += o
                }
                return 0
            }, e.prototype.endTheCountdown = function () {
                for (var e = i.TimeUtil.getServerDay(), t = this.seasonTimeOverview(), n = 0, a = 0; a < t.length; a++) {
                    var o = i.TimeUtil.numOfSecondsPassedToday(), r = t[a][0],
                        _ = i.TimeUtil.calcSecondsBasedOnString(t[a][1]),
                        s = i.TimeUtil.calcSecondsBasedOnString(t[a][2]);
                    if (r == e && s >= o) return n = s - o;
                    if (r > e) return n += 86400 - o, n += _
                }
                return n
            }, e.prototype.isRacePreparationTime = function () {
                for (var e = i.TimeUtil.getServerDay(), t = this.seasonTimeOverview(), n = 0; n < t.length; n++) if (t[n] && e == t[n][0]) {
                    var a = i.TimeUtil.numOfSecondsPassedToday() - i.TimeUtil.calcSecondsBasedOnString(t[n][1]);
                    if (a <= 300 && a >= 0) return !0
                }
                return !1
            }, e.prototype.calcRemainingTimeOfApply = function () {
                var e = a.Data._globalInfo._saijibmtime[1], t = a.Data._globalInfo._saijibmtime[2],
                    n = i.TimeUtil.getServerDay(), o = i.TimeUtil.numOfSecondsPassedToday(),
                    r = 3600 * a.Data._globalInfo._saijibmtime[1], _ = 3600 * a.Data._globalInfo._saijibmtime[3], s = 0;
                e == n && r < o ? (s = 86400 - o, s += _) : t == n && _ > o && (s = _ - o), this._applyPeriod = s
            }, e.prototype.isToApply = function () {
                return this.calcRemainingTimeOfApply(), this._applyPeriod > 0
            }, e
        }();
        n.PlayerSeason = o, cc._RF.pop()
    }, {"../../utils/TimeUtil": "TimeUtil", "../data": "data"}],
    PlayerSkinShop: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "bf5d15RsPZP5b8Z72aScTe/", "PlayerSkinShop"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            function e() {
            }

            return e.prototype.clear = function () {
            }, e
        }();
        n.PlayerSkinShop = a, cc._RF.pop()
    }, {}],
    PlayerUi: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2a281nClyNL2owYDuP/7/Fv", "PlayerUi"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BattleUi"), i = e("../scene/BattleScene"), o = e("./CardSprite"), r = e("../data/BattleData"),
            _ = e("../../../noxEvent"), s = e("../../data/data"), c = e("./BattleListDialog"),
            l = e("../../const/ViewConst"), d = e("../../../leocool/lc"), p = e("../../../leocool/lcStr"),
            u = e("../../StringEnums"), g = e("../../../nox").nox.toNumber, h = e("../data/BattlleCardStatus"),
            f = e("../../utils/SpineUtil"), m = e("../../../leocool/lcAudio"), y = e("../../AudioEnums"),
            T = e("../../utils/CardUtil"), S = e("../../utils/SpriteUtil"), C = e("../../../noxcc"),
            v = e("../../ui/node/NodeWithLabel"), b = e("../../config/UICfg"), E = cc.Vec2,
            I = e("../../utils/ParticleUtil"), A = e("../../StaticPrefabMgr"), R = e("./BattleEventDialog"),
            B = e("./ChoiceLayer"), N = e("../../ui/node/NodeWithShaderButton"), D = function () {
                function e(e, t, n, a) {
                    this._battleUi = null, this._opponentUi = null, this._hideHandCards = !1, this._player = null, this._isAttacker = !1, this._isController = !1, this._actionDelay = 1, this._isOnBottomHalf = !1, this._cardSprites = {}, this._pHandCards = [], this._pBoardCards = {}, this._pGraveCards = [], this._pPileCards = [], this._preGraveCount = 0, this._pGraveLabel = null, this._ballLabel = null, this._ballValue = 0, this._ballIcon = null, this._coin = null, this._cardBackId = null, this._lastGraveIndex = 0, this._lastGraveIndex2 = 0, this._choiceCardsDialog = null, this._choiceMainDialog = null, this._finishEfcLayer = null, this._cardBackAtkName = null, this._cardBackHeapName = null, this._graveFrameName = null, this._graveFrameName2 = null, this._battleUi = e, this._player = t, this._isAttacker = t._isAttacker, this._isController = this._isAttacker == this._battleUi._isAttacker, this._hideHandCards = !this._isController, !this._isController || this._battleUi._isReverse ? this._isController ? this._isOnBottomHalf = !1 : this._isOnBottomHalf = this._battleUi._isReverse : this._isOnBottomHalf = !0, this._battleUi._isObserve && (this._hideHandCards = !0), this._lastGraveIndex = 0, this._lastGraveIndex2 = 0, a = T.CardUtil.convertBackId(a), this._cardBackAtkName = "card_back_atk_" + a, this._cardBackHeapName = "bat_pile_heap_" + a
                }

                return e.prototype.init = function () {
                }, e.prototype.initUiOnSwitchView = function () {
                }, e.prototype.initUIControl = function () {
                }, e.prototype.hideHandCards = function (e) {
                    this._hideHandCards = e;
                    for (var t = 1; t <= this._pHandCards.length; t++) {
                        var n = this._pHandCards[t - 1];
                        this._hideHandCards ? n.initBack() : n.initNormal(), n.updateZOrder()
                    }
                    this.updateHandCardsPos()
                }, e.prototype.updateHandCardsPos = function () {
                    for (var e = 1; e <= this._pHandCards.length; e++) {
                        var t = this._pHandCards[e - 1], n = this.calHandCardPosAndRot(t), a = n[0], i = n[1];
                        t.setPosition(a), t.setRotation3D(i), t.updateZOrder()
                    }
                }, e.prototype.updateBoardCardsPos = function () {
                }, e.prototype.updateGraveCardsPos = function () {
                    var t = e.Pos.attacker_grave;
                    this._isOnBottomHalf || (t = e.Pos.defender_grave);
                    for (var n = 0; n < this._pGraveCards.length; n++) this._pGraveCards[n].setPosition(t), this._pGraveCards[n]._default._position = cc.v2(t.x, t.y)
                }, e.prototype.updatePileCardsPos = function () {
                }, e.prototype.updatePileHeapShow = function () {
                }, e.prototype.updateGraveHeapShow = function () {
                }, e.prototype.createCardSprite = function (e) {
                    var t = o.CardSprite.create(e, this);
                    return t._ownerUi = this, null != this._cardSprites[e._id] && this.removeCardSprite(this._cardSprites[e._id]), this._cardSprites[e._id] = t, e._status == r.default.CardStatus.board ? e.isMonster() && (t.transfigure(), t.initFight()) : e._status == r.default.CardStatus.grave && e._sourceStatus != r.default.CardStatus.pile && this.addGraveCard(t), t
                }, e.prototype.createMaskCardSprite = function (e) {
                }, e.prototype.removeCardSprite = function (e) {
                    null != e && null != e.getParent() && e.removeFromParent()
                }, e.prototype.hideCardSprite = function (e) {
                    null != e && e.setVisible(!1)
                }, e.prototype.resetCardSprites = function () {
                    if (null != this._cardSprites) {
                        for (var e in this._cardSprites) this.removeCardSprite(this._cardSprites[e]);
                        this._cardSprites = {}
                    } else this._cardSprites = {}
                }, e.prototype.resetCard = function () {
                }, e.prototype.resetWhenBattleStart = function () {
                    this._actionDelay = 0, this._pHandCards = [], this._pBoardCards = {}, this._pGraveCards = [], this._pPileCards = [], this.resetCardSprites(), this.updateFortressSkill(), this.updateBall();
                    for (var e = 0; e < this._player._pileCards.length; e++) {
                        var t = this.createCardSprite(this._player._pileCards[e]);
                        this._pPileCards[this._player._pileCards[e]._pos - 1] = t, t.setPosition(new cc.Vec2(l.ViewConst.SCR_W + 100, l.ViewConst.SCR_CH + (this._isController ? -200 : 200))), this._battleUi.addChild(t._node)
                    }
                    this._battleUi.updatePile(this)
                }, e.prototype.resetWhenRoundBegin = function () {
                }, e.prototype.resetWhenInitialDeal = function () {
                    this.updateGraveArea()
                }, e.prototype.start = function () {
                }, e.prototype.doReorderHand = function () {
                    for (var e = 0; e < this._pHandCards.length; e++) {
                        var t = this._pHandCards[e], n = this.calHandCardPosAndRot(t), a = n[0], i = n[1];
                        t.setPosition(a), t.setRotation3D(i)
                    }
                }, e.prototype.doReorderBoard = function () {
                    for (var e = 1; e <= s.Data.MAX_CARD_COUNT_ON_BOARD; e++) {
                        var t = this._pBoardCards[e];
                        if (null != t) {
                            var n = this.calBoardCardPos(t);
                            t.setPosition(n)
                        }
                    }
                }, e.prototype.forward = function () {
                    this._battleUi._node.stopAllActions();
                    for (var t = 1; t <= this._player._pileCards.length; t++) {
                        var n = this._player._pileCards[t - 1], a = this.createCardSprite(n);
                        this._pPileCards.push(a), this._battleUi.addChild(a._node), a.setPosition(new cc.Vec2(l.ViewConst.SCR_W + 100, l.ViewConst.SCR_CH + (this._isController ? -200 : 200))), a.updateZOrder()
                    }
                    for (t = 1; t <= this._player._handCards.length; t++) {
                        n = this._player._handCards[t - 1], a = this.createCardSprite(n);
                        this._pHandCards.push(a), this._battleUi.addChild(a._node), a.updateZOrder()
                    }
                    for (this.doReorderHand(), t = 1; t <= s.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        if (null != (n = this._player._boardCards[t]) && n._type != s.Data.CardType.boss) {
                            a = this.createCardSprite(n);
                            this._pBoardCards[n._pos] = a, this._battleUi.addChild(a._node), a.initTeachBoard(), a.updateZOrder()
                        }
                    }
                    for (this.doReorderBoard(), this._opponentUi.doReorderBoard(), t = 1; t <= this._player._graveCards.length; t++) {
                        n = this._player._graveCards[t - 1], a = this.createCardSprite(n);
                        this._battleUi.addChild(a._node), a._pCardAreaAll.setScale(o.CardSprite.Scale.grave), a.setPosition(this._isOnBottomHalf ? e.Pos.attacker_grave : e.Pos.defender_grave), a.initDead(), this._pGraveCards.push(a)
                    }
                    this.updateFortressSkill(), this.sendEvent(e.EventType.update_card_pile_count, {}), this._battleUi.updateCardZOrder(), this.updateGraveArea(), this.updateBoardCardsActive()
                }, e.prototype.roundBegin = function () {
                    this.resetWhenRoundBegin()
                }, e.prototype.roundEnd = function (e) {
                    return e
                }, e.prototype.action = function () {
                }, e.prototype.getCardSprite = function (e) {
                    return null == e ? null : this._cardSprites[e._id]
                }, e.prototype.getCardSpriteById = function (e) {
                    return this._cardSprites[e]
                }, e.prototype.getPileCardSprite = function (e) {
                    for (var t = 0; t < this._pPileCards.length; t++) {
                        var n = this._pPileCards[t];
                        if (null != n && e == n._card) return [n, t]
                    }
                    return [null, -1]
                }, e.prototype.getHandCardSprite = function (e) {
                    for (var t = 0; t < s.Data.MAX_CARD_COUNT_IN_HAND; t++) {
                        var n = this._pHandCards[t];
                        if (null != n && n._card == e) return [n, t]
                    }
                    return [null, -1]
                }, e.prototype.getBoardCardSprite = function (e) {
                    for (var t = 1; t <= s.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        var n = this._pBoardCards[t];
                        if (null != n && n._card == e) return [n, t]
                    }
                    return [null, -1]
                }, e.prototype.getGraveCardSprite = function (e) {
                    for (var t = 1; t <= s.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        var n = this._pGraveCards[t - 1];
                        if (null != n && n._card == e) return [n, t - 1]
                    }
                    return [null, -1]
                }, e.prototype.getHandCardSpriteByInfoId = function (e) {
                    for (var t = 0; t < s.Data.MAX_CARD_COUNT_IN_HAND; t++) {
                        var n = this._pHandCards[t];
                        if (null != n && n._card._infoId == e) return n
                    }
                    return null
                }, e.prototype.getBoardCardSpriteByInfoId = function (e) {
                    for (var t = 0; t < s.Data.MAX_CARD_COUNT_ON_BOARD; t++) {
                        var n = this._pBoardCards[t];
                        if (null != n && n._card._infoId == e) return n
                    }
                    return null
                }, e.prototype.getIsEndAllOperation = function () {
                    return !1
                }, e.prototype.getIsMoreOperation = function () {
                    if (this._battleUi._isAddingBoardCard) return !1;
                    if (this._player.canUseHandCard()) return !0;
                    for (var e = this._player.getBattleCards("B"), t = 1; t <= e.length; t++) {
                        if (e[t - 1].canAction()) return !0
                    }
                    return !1
                }, e.prototype.getIsShowHandCardActive = function () {
                    return !!this._battleUi._isOperating && (!this._battleUi._isAddingBoardCard && this._player.canUseHandCard())
                }, e.prototype.calHandCardPosAndRot = function (t) {
                    if (!t) return cc.assert(!1, "pCard undefined"), [null, null];
                    39999 == t._card._infoId && cc.log("---");
                    for (var n = this._pHandCards.length, a = 0, i = 1; i <= s.Data.MAX_CARD_COUNT_IN_HAND; i++) {
                        var r = this._pHandCards[i - 1];
                        if (null != r && r._card._id == t._card._id) {
                            a = i;
                            break
                        }
                    }
                    var _ = 292 - 500 * (1 - this._battleUi._scale), c = _, p = _;
                    d.lc.isIPhoneX() ? c += 180 : (c += 130, p -= 50);
                    var u = l.ViewConst.SCR_W - c - p, g = l.ViewConst.CARD_SIZE.width * o.CardSprite.Scale.normal,
                        h = l.ViewConst.CARD_SIZE.height * o.CardSprite.Scale.normal, f = (u - n * g) / (n + 1),
                        m = c + g / 2 + f, y = this._isController ? e.Pos.attacker_hand_y : e.Pos.defender_hand_y;
                    this._isController && (y -= 320 * (1 - this._battleUi._scale));
                    l.ViewConst.SCR_H, this._battleUi._scale, Math.cos(l.ViewConst.BATTLE_ROTATION_X * Math.PI / 360), this._battleUi._scale;
                    return (this._battleUi._isObserver || this._battleUi._battleType == s.Data.BattleType.replay) && (this._isController || this._battleUi._isReverse) && (!this._isController && this._battleUi._isReverse ? y = l.ViewConst.SCR_H - 13 : this._isController && !this._battleUi._isReverse ? y = 13 : this._isController && this._battleUi._isReverse && (y = d.lc.ch(this._battleUi._node) - 328 - h / 2)), f > -4 ? (m += (f - -4) * (n - 1) / 2, f = -4) : (m -= f, f = f * (n + 1) / (n - 1)), y = this._isController ? e.Pos.attacker_hand_y : e.Pos.defender_hand_y, t._default._position = new cc.Vec2(m + (a - 1) * (g + f), y), t._default._rotation = {
                        x: 0,
                        y: 0,
                        z: 0
                    }, [t._default._position, t._default._rotation]
                }, e.prototype.calBoardCardCount = function () {
                    for (var e = s.Data.MAX_CARD_COUNT_ON_BOARD, t = s.Data.MAX_CARD_COUNT_ON_BOARD; t >= 1 && null == this._pBoardCards[t]; t--) e -= 1;
                    return e
                }, e.prototype.calBoardCardStep = function () {
                    var e = this.calBoardCardCount();
                    return 1 == e ? 76 : 180 + 20 * (5 - e)
                }, e.prototype.calBoardCardPos = function (t) {
                    var n = -1, a = !1;
                    a = !(!this._isController || this._battleUi._isReverse) || !this._isController && this._battleUi._isReverse;
                    for (var i = 1; i <= s.Data.MAX_CARD_COUNT_ON_BOARD; i++) {
                        var o = this._pBoardCards[i];
                        if (o && o._card._id == t._card._id) {
                            n = i - 1;
                            break
                        }
                    }
                    var r = a ? e.Pos.attacker_board_y[n] : e.Pos.defender_board_y[n],
                        _ = a ? e.Pos.attacker_board_x[n] : e.Pos.defender_board_x[n];
                    return -1 == n && cc.assert(n >= 0, "calBoardCardPos index must be greater than -1"), t._default._position = new cc.Vec2(_, r), t._default._position
                }, e.prototype.calLengthAndAngle = function (e, t) {
                    var n = Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y));
                    if (0 == n) return [0, 0];
                    var a = function (e) {
                        return 180 / Math.PI * e
                    }(Math.asin((t.y - e.y) / n));
                    return t.x < e.x && (a = t.y >= e.y ? 180 - a : -180 - a), [n, a]
                }, e.prototype.updateFortressSkill = function () {
                }, e.prototype.addRedEdgeScreen = function () {
                }, e.prototype.removeRedEdgeScreen = function () {
                }, e.prototype.updateBall = function (e) {
                    void 0 === e && (e = !1);
                    var t = this;
                    null != this._ballLabel && this._ballValue != this._player._ball && (this._ballValue = this._player._ball, this._ballLabel.string = "x" + this._player._ball, this._ballValue <= 1 && (this._ballLabel.node.color = d.lc.Color3B.red), e || (f.SpineUtil.setSpineAnim(this._ballIcon, "jinglingqiu", "default", "animation2", !1), this._ballIcon.runAction(d.lc.sequence(1.6, function () {
                        f.SpineUtil.setSpineAnim(t._ballIcon, "jinglingqiu", "default", "animation", !0)
                    }))))
                }, e.prototype.updateCardsActive = function () {
                    if (this._isController) {
                        if (this.getIsShowHandCardActive()) for (var e = this._player, t = 0; t < this._pHandCards.length; t++) {
                            var n = this._pHandCards[t];
                            this.calHandCardPosAndRot(n), n.shouldShowNormal() && n._status != o.CardSprite.Status.normal && n._status != o.CardSprite.Status.large && n._status != o.CardSprite.Status.info && n.initNormal(), n._card.isMonster() ? n.updateActive(e.canUseMonster(n._card, !1)._canUse) : n._card._type == s.Data.CardType.magic ? n.updateActive(e.canUseMagic(n._card, !1)._canUse) : n._card._type == s.Data.CardType.trap ? n.updateActive(e.canUseTrap(n._card, !1)._canUse) : n.updateActive(!0)
                        } else for (t = 0; t < this._pHandCards.length; t++) {
                            (n = this._pHandCards[t]).updateActive(!1)
                        }
                        this.updateHandCardsPos()
                    }
                }, e.prototype.updateBoardCardsActive = function () {
                    for (var e in this._pBoardCards) {
                        var t = this._pBoardCards[e];
                        t && t.updateBoardActive()
                    }
                }, e.prototype.updateBoardCardsBuffIcons = function () {
                    for (var e in this._pBoardCards) {
                        var t = this._pBoardCards[g(e)];
                        t.updateBuffIcons(), t.updateAtkHp()
                    }
                }, e.prototype.updateGraveArea = function () {
                    this._preGraveCount = this._pGraveCards.length, null != this._pGraveLabel && (this._pGraveLabel.string = this._preGraveCount + "");
                    for (var e = 0; e < this._preGraveCount; e++) e != this._preGraveCount - 1 && (this._pGraveCards[e].setVisible(!1), this._pGraveCards[e].updateZOrder());
                    this._pGraveCards[this._preGraveCount - 1] && (this._pGraveCards[this._preGraveCount - 1]._pFrame.setGray(!0), this._pGraveCards[this._preGraveCount - 1].updateZOrder()), this.updateGraveHeapShow()
                }, e.prototype.createChoiceMaskLayer = function (t, n, a) {
                    var o = this, _ = B.ChoiceLayer.create(this._battleUi, 200, d.lc.Color3B.black, l.ViewConst.SCR_SIZE);
                    return d.lc.addChildToPosAR(this._battleUi._node, _.node, cc.v2(0, 0), i.BattleScene.ZOrder.form), this._battleUi._choiceMaskLayer = _, _._pCard = t, _._skill = n, _._ids = a, _.setCancelChoice(function () {
                        _._pCard.setVisible(!0), o._battleUi.hideCardAttack(), _._pCard._card._status == r.default.CardStatus.hand && o.playAction(t, e.Action.replace_hand_card, 0, 1), _.endChoice()
                    }), _
                }, e.prototype.getMaskCardSprites = function () {
                }, e.prototype.showChoiceCards = function (e, t, n, a, i) {
                    void 0 === i && (i = !1);
                    var o = this, r = string.format(p.lcStr(u.STR.CHOICE_TITLE_CHOICE), n),
                        _ = c.BattleListDialog.create(this, t, c.BattleListDialog.Mode.choice, r);
                    _._ignoreCancel = i, e._card._type == s.Data.CardType.magic && e.setPosition(new E(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH)), _.setChoiceFunction(function (e) {
                        return o.checkChoiceCards(e, a, n)
                    }, function (e) {
                        return o.onChoiceCards(e, a)
                    }, function (t) {
                        return o.cancelChoiceCards(t, e)
                    }), _.show(), _._choice = n, this._choiceCardsDialog = _, this._battleUi._battleListDialog = _
                }, e.prototype.onChoiceCards = function (t, n) {
                    cc.log("   ");
                    for (var a = t.getSelectedCards(), i = [], o = 0; o < n.length; o++) i.push(n[o]);
                    for (o = 0; o < a.length; o++) i.push(a[o]._id);
                    this._battleUi.hideCardAttack(), this.sendEvent(e.EventType.send_use_card, {
                        _val: r.default.UseCardType.spell,
                        _ids: i
                    })
                }, e.prototype.cancelChoiceCards = function (t, n) {
                    n._card._type == s.Data.CardType.magic && this.playAction(n, e.Action.replace_hand_card, 0, 1)
                }, e.prototype.checkChoiceCards = function (e, t, n) {
                    return e.getSelectedCount() == n
                }, e.prototype.showChoiceSkill = function (t, n, a) {
                    void 0 === a && (a = !1);
                    var i = this, o = t._card.getSkillById(n[1]), _ = s.Data._skillInfo[o._id], c = p.lcStr(u.STR.CHOICE);
                    if (!h.B.skillHasMode(o, s.Data.SkillMode.choice)) return this.sendEvent(e.EventType.send_use_card, {
                        _val: r.default.UseCardType.spell,
                        _ids: n
                    });
                    _._refSkills[0] >= 10 && (c = p.lcStr(u.STR.CHOICE_TITLE_SKILL));
                    var g = this.createChoiceMaskLayer(t, o, n);
                    g._ignoreCancel = a;
                    var f = v.NodeWithLabel.createTTF(c, b.UICfg.FontSize.M1);
                    f.runAction(d.lc.repeatForever(d.lc.sequence(d.lc.scaleTo(1.5, 1.05), d.lc.scaleTo(1.5, 1)))), d.lc.addChildToPosAR(g.node, f, cc.p(d.lc.w(g.node) / 2, 600)), this._battleUi._btnRoundEnd.enabled = !1;
                    var m = null;
                    if (3002 == n[1]) m = [{
                        _enabled: !0,
                        _id: this._player._opponent._boardCards[1]._skills[0]._id,
                        _level: this._player._opponent._boardCards[1]._skills[0]._level
                    }, {
                        _enabled: !0,
                        _id: this._player._opponent._boardCards[1]._skills[1]._id,
                        _level: this._player._opponent._boardCards[1]._skills[1]._level
                    }]; else if (7021 == n[1]) {
                        var y = {_enabled: !0, _level: g._skill._level};
                        (C = _._refSkills[0]) < 10 && (C += 61e3), y._id = C;
                        var S = {
                            _enabled: this._player.filterCanChangeToHandCards(this._player.getBattleCards("P")).length > 0,
                            _level: g._skill._level
                        };
                        (E = _._refSkills[1]) < 10 && (E += 61e3), S._id = E, m = [y, S]
                    } else {
                        var C;
                        y = {_enabled: !0, _level: g._skill._level};
                        (C = _._refSkills[0]) < 10 && (C += 61e3), y._id = C;
                        var E;
                        S = {_enabled: !0, _level: g._skill._level};
                        (E = _._refSkills[1]) < 10 && (E += 61e3), S._id = E, m = [y, S]
                    }
                    for (var I = function (e) {
                        var t = N.NodeWithShaderButton.createShaderButton(null, function () {
                            i.onChoiceSkill(e, g)
                        });
                        t.setContentSize(346, 178), g._choiceBtns.push(t);
                        var n = T.CardUtil.BattleSkillItem2.create(m[e]._id, m[e]._enabled, new cc.Size(346, 178));
                        d.lc.addChildToCenter(t, n.node), t.setEnabled(m[e]._enabled), g.addChild(t), t.setPosition(cc.v2(l.ViewConst.SCR_CW + 400 * (e - .5), 400))
                    }, P = 0; P < m.length; P++) I(P)
                }, e.prototype.onChoiceSkill = function (t, n) {
                    var a = n._ids;
                    a.push(t), this._battleUi.hideCardAttack(), n.endChoice(), this.sendEvent(e.EventType.send_use_card, {
                        _val: r.default.UseCardType.spell,
                        _ids: a
                    })
                }, e.prototype.showChoiceInitialMonstersMain = function (e) {
                }, e.prototype.onChoiceInitialMonstersMain = function () {
                }, e.prototype.checkChoiceInitialMonstersMain = function () {
                }, e.prototype.showChoiceInitialMonstersBackup = function (e) {
                }, e.prototype.onChoiceInitialMonstersBackup = function () {
                }, e.prototype.checkChoiceInitialMonstersBackup = function () {
                    return !0
                }, e.prototype.showChoiceSwapMonsters = function (e, t) {
                    var n = c.BattleListDialog.create(this, e, c.BattleListDialog.Mode.choice, p.lcStr(u.STR.SWAP_CHOOSE));
                    n._ignoreCancel = t;
                    var a = this;
                    n.setChoiceFunction(function (e) {
                        return a.checkChoiceSwapMonsters(e)
                    }, function (e) {
                        return a.onChoiceSwapMonsters(e)
                    }, function (e) {
                    }), n._callbackHide = function () {
                        a._choiceMainDialog = null
                    }, n._choice = 1, a._choiceMainDialog = n, this._battleUi._battleListDialog = n, this._battleUi.hideCardAttack(), n.show()
                }, e.prototype.onChoiceSwapMonsters = function (t) {
                    this._pBoardCards[1];
                    this.sendEvent(e.EventType.send_use_card, {
                        _val: r.default.UseCardType.swap,
                        _ids: [t.getSelectedCards()[0]._id]
                    })
                }, e.prototype.checkChoiceSwapMonsters = function (e) {
                    return 1 == e.getSelectedCards().length
                }, e.prototype.showChoiceSelectMain = function (e) {
                    var t = c.BattleListDialog.create(this, e, c.BattleListDialog.Mode.choice, p.lcStr(u.STR.INITIAL_CHOOSE_MAIN));
                    t._ignoreCancel = !0;
                    var n = this;
                    t.setChoiceFunction(function (e) {
                        return n.checkChoiceSelectMain(e)
                    }, function (e) {
                        return n.onChoiceSelectMain(e)
                    }, function (e) {
                    }), t._callbackHide = function () {
                        n._choiceMainDialog = null
                    }, t._choice = 1, n._choiceMainDialog = t, this._battleUi._battleListDialog = t, this._battleUi.hideCardAttack(), t.show()
                }, e.prototype.onChoiceSelectMain = function (t) {
                    this.sendEvent(e.EventType.send_use_card, {
                        _val: r.default.UseCardType.swap,
                        _ids: [t.getSelectedCards()[0]._id]
                    })
                }, e.prototype.checkChoiceSelectMain = function (e) {
                    return 1 == e.getSelectedCards().length
                }, e.prototype.addGraveCard = function (e) {
                    e.stopAllActions(), e.initDead(), this.updateGraveArea()
                }, e.prototype.showSelectSkillForMustUseSkill = function () {
                    this.showChoiceSkill(this.getCardSpriteById(this._player._mustUseChooseSkillSkill._cid), [this._player._mustUseChooseSkillSkill._cid, this._player._mustUseChooseSkillSkill._sid], !0), this._player._mustUseChooseSkillSkill = null
                }, e.prototype.showSelectCardForMustUseSkill = function () {
                    this.showChoiceCards(this.getCardSpriteById(this._player._mustUseChooseCardSkill._cid), this._player._mustUseChooseCardSkill._cards, this._player._mustUseChooseCardSkill._count, this._player._mustUseChooseCardSkill._ids, !0), this._player._mustUseChooseCardSkill = null
                }, e.prototype.reverse = function () {
                }, e.prototype.reverseOld = function () {
                }, e.prototype.hideOperateDialogs = function () {
                    this._choiceCardsDialog && (this._choiceCardsDialog.removeFromParent(), this._battleUi._battleListDialog = null, this._choiceCardsDialog = null), this._choiceMainDialog && (this._choiceMainDialog.removeFromParent(), this._battleUi._battleListDialog = null, this._choiceMainDialog = null), this._battleUi._battleListDialog && (this._battleUi._battleListDialog.removeFromParent(), this._battleUi._battleListDialog = null)
                }, e.prototype.getForceAutoUseCard = function () {
                    for (var e = this._player.getBattleCards("H"), t = 0; t < e.length; t++) {
                        var n = e[0];
                        if (7034 == n._skills[0]._id) {
                            var a = this._player.canUseMagic(n, !0);
                            if (a._canUse) return [r.default.UseCardType.spell, a._result]
                        }
                    }
                    return [null, null]
                }, e.prototype.showKO = function (e) {
                    var t = f.SpineUtil.createSpineAnim("ko", "default", "animation", !0);
                    this._battleUi._node.addChild(t, a.BattleUi.ZOrder.effect), t.setPosition(new cc.Vec2(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH)), t.runAction(d.lc.sequence(function () {
                        m.lcAudio.playAudio(y.AUDIO.E_BATTLE_KO)
                    }, 1.5, function () {
                        t.removeFromParent(), null != e && e()
                    }))
                }, e.prototype.finish = function (t) {
                    this.hideOperateDialogs();
                    var n = this._player.getResult();
                    return n < s.Data.BattleResult.draw ? t = this.playAction(null, e.Action.fortress_die, t) : s.Data.BattleResult.draw < n && (t = this._opponentUi.playAction(null, e.Action.fortress_die, t)), t
                }, e.prototype.playAction = function (t, n, a, i) {
                    if (void 0 === i && (i = null), null != t) {
                        var o = this;
                        t._card;
                        if (null != t) {
                            if (n == e.Action.replace_hand_card) {
                                var r = t._default._position, _ = t._default._rotation;
                                if (t.getPosition().x == r.x && t.getPosition().y == r.y && 1 == t._node.scale) return a;
                                var c = .2 * i / s.Data.MAX_CARD_COUNT_IN_HAND;
                                return t.runAction(d.lc.sequence(d.lc.delay(a + c), d.lc.callFunc(function () {
                                    t.updateZOrder()
                                }), d.lc.spawn(d.lc.moveTo(.4, r), d.lc.rotateTo(.4, _.x, _.y, _.z), d.lc.scaleTo(.4, 1)), d.lc.callFunc(function () {
                                    t._pCardArea.setPosition(new cc.Vec2(0, 0))
                                }))), a + .4
                            }
                            if (n == e.Action.replace_board_card) {
                                r = t._default._position;
                                var l = t.getPosition(), p = r.x - l.x, u = r.y - l.y;
                                _ = 0;
                                return t.getPosition() == r && 0 == t.getRotation() && 1 == t._node.scale ? a : (t.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                    t.updateZOrder(!0)
                                }), d.lc.spawn(d.lc.scaleTo(.0625, 1.4), d.lc.moveTo(.0625, cc.p(l.x + p / 8, l.y + u / 8))), d.lc.spawn(d.lc.sequence(d.lc.scaleTo(.1875, 1.5), d.lc.scaleTo(.1875, 1.4)), d.lc.moveTo(.375, cc.p(l.x + p / 8, l.y + u / 8))), d.lc.spawn(d.lc.scaleTo(.0625, 1), d.lc.moveTo(.0625, r)), d.lc.callFunc(function () {
                                    t._pCardAreaAll.setScale(T.CardUtil.getBoardCardScale(t)), t.setRotation3D({
                                        x: 0,
                                        y: 0,
                                        z: 0
                                    }), t.updateBoardActive(), t.updateZOrder(), m.lcAudio.playAudio(y.AUDIO.E_BAT_CARD_BOARD)
                                }))), a + .5)
                            }
                            if (n == e.Action.card_hurt) return this.playAction(t, e.Action.hp_update, a), t.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                t.updateZOrder()
                            }), cc.moveBy(.12, new cc.Vec2(0, 15 * (o._isOnBottomHalf ? -1 : 1))), cc.moveBy(.12, new cc.Vec2(0, -15 * (o._isOnBottomHalf ? -1 : 1))))), a + .24;
                            if (n == e.Action.fortress_die) return this._battleUi.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                o.efcFortressDie()
                            }))), a + 2;
                            if (n == e.Action.atk_update) return a;
                            var g;
                            if (n == e.Action.hp_update) return (g = t._pTransfiguration) && null != g._hpNode && (g._hpNode.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                t.updateAtkHp()
                            }))), g._hpNode.runAction(d.lc.sequence(d.lc.delay(a), d.lc.scaleTo(.16, .8), d.lc.scaleTo(.12, 1.2), d.lc.scaleTo(.08, .9), d.lc.scaleTo(.04, 1)))), a + .4;
                            if (n == e.Action.hp_inc || n == e.Action.hp_dec) return (g = t._pTransfiguration) && null != g._hpNode && (a = this.playAction(t, e.Action.hp_update, a), t.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                o.efcCardHpLabel(t, i)
                            })))), a + 2;
                            if (n == e.Action.atk_dec) return a;
                            if (n == e.Action.change_nature) return a;
                            if (n == e.Action.update_positive_status) return this._battleUi.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                t.updatePositiveStatus()
                            }))), a;
                            if (n == e.Action.update_negative_status) return this._battleUi.runAction(d.lc.sequence(d.lc.delay(a), d.lc.callFunc(function () {
                                t.updateNegativeStatus()
                            }))), a;
                            if (n == e.Action.avoid_attack) return t.runAction(d.lc.sequence(d.lc.spawn(cc.moveBy(.2, new cc.Vec2(-50 * (o._isOnBottomHalf ? -1 : 1), 30 * (o._isOnBottomHalf ? -1 : 1))), cc.rotateBy(.2, -10 * (o._isOnBottomHalf ? -1 : 1))).easing(cc.easeOut(3)), d.lc.spawn(cc.moveBy(.1, cc.p(50 * (o._isOnBottomHalf ? -1 : 1), -30 * (o._isOnBottomHalf ? -1 : 1))), cc.rotateBy(.1, 10 * (o._isOnBottomHalf ? -1 : 1))).easing(cc.easeIn(3)))), t._pShadowArea.runAction(d.lc.sequence(cc.moveBy(.2, cc.p(-60, -30)).easing(cc.easeOut(3)), cc.moveBy(.1, cc.p(60, 30)).easing(cc.easeOut(3)))), a;
                            if (n == e.Action.update_bind) {
                                if (t._card.isMonster()) return t.updateBuffIcons(), a
                            } else cc.log("[PLAYER UI] UNHANDLED ACTION!!!")
                        }
                        return a
                    }
                }, e.prototype.showHandCards = function () {
                }, e.prototype.replaceHandCards = function (t, n) {
                    for (var a = this._pHandCards, i = 0; i < a.length; i++) {
                        var r = a[i];
                        if (r._card != n) {
                            var _ = this.calHandCardPosAndRot(r), s = _[0];
                            _[1];
                            if (r._status != o.CardSprite.Status.large || r._status != o.CardSprite.Status.info && !r._spellUsedFlag) {
                                var c = r.getPosition();
                                c.x == s.x && c.y == s.y || (r.stopAllActions(), this.playAction(r, e.Action.replace_hand_card, t, i))
                            }
                        }
                    }
                }, e.prototype.isHpDecOccur = function (e) {
                    for (var t = 0; t < e.length; t++) {
                        var n = e[t]._changed;
                        for (var a in n) if ("_hp" == a && n[a] < 0) return !0
                    }
                    return !1
                }, e.prototype.accountAction = function (t, n, a) {
                    var i = this._player.getAllCards(), o = 0, _ = null;
                    null != a && (null != (u = d.lc.D(this.getCardSprite(a), this._opponentUi.getCardSprite(a))) && null != u._delayAction && u._delayAction._triggerType == n && (_ = this.isHpDecOccur(i) ? this.efcSpineByName(u._delayAction._skillId, u, u._delayAction._targets, u._delayAction._spine, null, n, t) : this.efcSpineByName(u._delayAction._skillId, u, u._delayAction._targets, u._delayAction._spineFalse, null, n, t), u._delayAction = null));
                    _ && (t += _);
                    for (var c = 0; c < i.length; c++) {
                        var l = (f = i[c])._owner._isAttacker == this._isAttacker ? this : this._opponentUi,
                            p = f._castedSkills, u = d.lc.D(this.getCardSprite(f), this._opponentUi.getCardSprite(f));
                        if (p.length > 0) {
                            f._castedSkills = null;
                            for (var g = 0; g < p.length; g++) {
                                var h = p[g];
                                if (0 != h._id) o = l.castSkillAction(u, n, h, s.Data.SkillMode.spelling, t)[0]
                            }
                        }
                    }
                    t += o, o = 0;
                    for (c = 0; c < i.length; c++) {
                        l = (f = i[c])._owner._isAttacker == this._isAttacker ? this : this._opponentUi, p = f._castedSkills, u = d.lc.D(this.getCardSprite(f), this._opponentUi.getCardSprite(f));
                        var f, m = f._changed;
                        if (f._changed = {}, Object.keys(m).length > 0) for (var y in m) {
                            var T = m[y];
                            if ("_hp" == y) if (f._type == s.Data.CardType.fortress) {
                                var S = e.Action.fortress_hp_inc;
                                T < 0 && (S = e.Action.fortress_hp_dec), o = l.playAction(null, S, t, T)
                            } else {
                                S = e.Action.hp_inc;
                                T < 0 && (S = e.Action.hp_dec), o = l.playAction(u, S, t, T)
                            } else "_atk" == y || ("_nature" == y ? o = l.playAction(u, e.Action.change_nature, t, T) : "_actionCount" == y ? u.updateBoardActive() : "_skillLevelInc" == y || ("_positiveStatus" == y ? o = l.playAction(u, e.Action.update_positive_status, t, T) : "_negativeStatus" == y ? o = l.playAction(u, e.Action.update_negative_status, t, T) : "_bind" == y ? o = l.playAction(u, e.Action.update_bind, t, T) : "_power" == y || "_ball" == y && l.updateBall()))
                        }
                    }
                    return n == r.default.Status.spelling ? this._actionDelay = o : n == r.default.Status.account_spell ? (t += d.lc.D(this._actionDelay, 0), this._actionDelay = 0) : n == r.default.Status.under_spell || n == r.default.Status.under_defend_spell || n == r.default.Status.under_spell_damage || n == r.default.Status.under_counter_spell ? (t = 0, this._actionDelay < o && (this._actionDelay = o)) : t = o + t, n == r.default.Status.account_spell ? (this.updateBoardCardsBuffIcons(), this._opponentUi.updateBoardCardsBuffIcons()) : n == r.default.Status.end_spell && this.setStatusWhenSpellEnd(), t
                }, e.prototype.accountStatus = function (e, t) {
                    var n = t, a = d.lc.D(this.getCardSprite(e), this._opponentUi.getCardSprite(e));
                    null != a && a == this._battleUi._touchCard && this._battleUi.onTouchCanceled();
                    var i = e._sourceStatus, o = e._destStatus;
                    if (i == r.default.CardStatus.leave ? a = this.removeCardFromLeave(e) : i == r.default.CardStatus.pile ? a = this.removeCardFromPile(e) : i == r.default.CardStatus.hand ? a._ownerUi.removeCardFromHand(e) : i == r.default.CardStatus.board ? a._ownerUi.removeCardFromBoard(e) : i == r.default.CardStatus.grave ? a._ownerUi.removeCardFromGrave(e) : i == r.default.CardStatus.energy && a._ownerUi.removeCardFromEnergy(e), a && a._ownerUi._player != e._owner && a._ownerUi.removeCardToOppo(a), o == r.default.CardStatus.leave) n = (_ = this.addCardToLeave(e, n, t, e._isSilentEvolve))[0], t = _[1]; else if (o == r.default.CardStatus.pile) {
                        n = (_ = this.addCardToPile(e, n, t))[0], t = _[1]
                    } else if (o == r.default.CardStatus.hand) {
                        n = (_ = this.addCardToHand(e, n, t))[0], t = _[1]
                    } else if (o == r.default.CardStatus.board) {
                        n = (_ = this.addCardToBoard(e, n, t, e._isEvolve))[0], t = _[1]
                    } else if (o == r.default.CardStatus.grave) {
                        n = (_ = this.addCardToGrave(e, n, t))[0], t = _[1]
                    } else if (o == r.default.CardStatus.energy) {
                        var _;
                        n = (_ = this.addCardToEnergy(e, n, t))[0], t = _[1]
                    }
                    var s = this, c = t;
                    return this._battleUi.runAction(d.lc.sequence(d.lc.delay(c), cc.callFunc(function () {
                        s.updateBall(), s.updateBoardCardsActive()
                    }))), this._ballValue != this._player._ball && (t += 1.3), t
                }, e.prototype.accountReorder = function (e) {
                    for (var t = 1; t <= 2; t++) {
                        for (var n = 1 == t ? this : this._opponentUi, a = 1 == t ? this._player : this._player._opponent, i = {}, o = 1; o <= s.Data.MAX_CARD_COUNT_ON_BOARD; o++) {
                            var r = a._boardCards[o];
                            if (null != r) for (var _ = 1; _ <= s.Data.MAX_CARD_COUNT_ON_BOARD; _++) {
                                var c = n._pBoardCards[_];
                                if (null != c && c._card == r) {
                                    i[r._pos] = c;
                                    break
                                }
                            }
                        }
                        n._pBoardCards = i
                    }
                    var l = this.replaceBoardCards(e), d = this._opponentUi.replaceBoardCards(e);
                    return e = l > d ? l : d
                }, e.prototype.accountPosChange = function (e) {
                    this._battleUi.hideCardAttack();
                    for (var t = [{}, {}], n = 1; n <= 2; n++) for (var a = 1 == n ? this._player : this._player._opponent, i = 1 == n ? this : this._opponentUi, o = 1 == n ? this._opponentUi : this, _ = t[n - 1], c = 1; c <= s.Data.MAX_CARD_COUNT_ON_BOARD; c++) {
                        var l = a._boardCards[c];
                        if (null != l) {
                            var d = i.getBoardCardSprite(l), p = d[0];
                            null == p && null != (p = (d = o.getBoardCardSprite(l))[0]) && o.removeCardToOppo(p), _[c] = p
                        }
                    }
                    this._pBoardCards = t[0], this._opponentUi._pBoardCards = t[1];
                    var u = this.replaceBoardCards(e), g = this._opponentUi.replaceBoardCards(e);
                    return e = u > g ? u : g, this.updateBoardCardsBuffIcons(), this._player.getActionPlayer()._macroStatus == r.default.Status.use && this._player.getActionPlayer()._actionCard._status == r.default.CardStatus.hand ? 0 : e
                }, e.prototype.replaceBoardCards = function (t, n) {
                    void 0 === n && (n = null);
                    var a = 0;
                    null == t && (t = 0);
                    for (var i = 1; i <= s.Data.MAX_CARD_COUNT_ON_BOARD; i++) {
                        var o = this._pBoardCards[i];
                        if (o && o._card != n) {
                            this.calBoardCardPos(o);
                            var r = o.getPosition(), _ = o._default._position;
                            (Math.abs(r.x - _.x) > .001 || Math.abs(r.y - _.y) > .001) && (a = this.playAction(o, e.Action.replace_board_card, t, i))
                        }
                    }
                    return t + a
                }, e.prototype.accountHalo = function (e, t, n) {
                    return e
                }, e.prototype.accountEvent = function (e) {
                    var t = this._player, n = t._actionEvent, a = t.getActionEffect(n, t._eventIndex), i = a.shift(),
                        o = a.shift(), r = n._owner == this._player ? this : this._opponentUi;
                    if (0 == t._effectIndex) ; else if (1 == t._effectIndex) {
                        var _ = t.getActionStory(n, t._eventIndex);
                        null != _ && 0 != _[0] && (this.castEventStory(n, _), e = null)
                    } else 2 == t._effectIndex && (e = r.castEventAction(n, i, o));
                    return e
                }, e.prototype.castEventStory = function (e, t) {
                    this._battleUi.showEvent(R.BattleEventDialog.Type.story, t, null)
                }, e.prototype.castEventAction = function (t, n, a) {
                    var i = 0;
                    a = d.lc.D(a, {}), this._player.getActionCard();
                    switch (n) {
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                        case 5:
                        case 6:
                        case 8:
                        case 12:
                        case 17:
                            i = 0;
                            break;
                        case 7:
                            if (null != (p = this.getBoardCardSpriteByInfoId(a.id))) {
                                var o = f.SpineUtil.createSpineAnim("jinu", "deafult", "animation", !1);
                                d.lc.addChildToPosAR(p.node, o, new cc.Vec2(0, -10)), i = 1
                            }
                            break;
                        case 9:
                            this._battleUi.showEvent(R.BattleEventDialog.Type.info_help, null, null), i = null;
                            break;
                        case 10:
                            if (39999 == a.id) this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_pos, [this.getHandCardSpriteByInfoId(a.id), this.getBoardCardSpriteByInfoId(a.ti) || null], null != a.df), i = 0; else {
                                var r = this.getHandCardSpriteByInfoId(a.id),
                                    _ = a.ti ? this.getBoardCardSpriteByInfoId(a.ti) : null;
                                r && (this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_pos, [r, _], null != a.df), i = 0)
                            }
                            break;
                        case 11:
                            this._battleUi.showEvent(R.BattleEventDialog.Type.guide_tap, this._battleUi._btnRoundEnd, null != a.df), i = 0;
                            break;
                        case 13:
                            var c = a.id;
                            39999 == c ? this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_pos, [this.getHandCardSpriteByInfoId(c), null], null != a.df) : this._battleUi.showEvent(R.BattleEventDialog.Type.guide_tap, this.getCardSprite(this._player._boardCards[1]), null != a.df), i = 0;
                            break;
                        case 14:
                            var p = this.getBoardCardSpriteByInfoId(a.id),
                                u = a.ti ? this._opponentUi.getBoardCardSpriteByInfoId(a.ti) : null;
                            p && (this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_attack, [p, u], null != a.df), i = 0);
                            break;
                        case 15:
                            this._battleUi.hideEvent(), i = null;
                            break;
                        case 16:
                            this._battleUi.exitScene(), i = null;
                            break;
                        case 18:
                            this.playAction(null, e.Action.fortress_hp_inc, 0, a.hp), i = 1;
                            break;
                        case 19:
                            this._battleUi._battleType == s.Data.BattleType.sweep ? i = 0 : (this._battleUi.showTip(a), i = 1 == a.t.touch ? null : 0);
                            break;
                        case 20:
                            this._battleUi.showEvent(R.BattleEventDialog.Type.guide_tap, this._battleUi._btnAuto, null != a.df), i = 0;
                            break;
                        case 21:
                            (p = this.getHandCardSpriteByInfoId(a.id)) && (this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag, p, null != a.df), i = 0);
                            break;
                        case 22:
                            p = this.getBoardCardSpriteByInfoId(a.id), u = this.getBoardCardSpriteByInfoId(a.ti);
                            p && u && (this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_card, [p, u], null != a.df), i = 0);
                            break;
                        case 23:
                            (p = this.getBoardCardSpriteByInfoId(a.id)) && (this._battleUi.showEvent(R.BattleEventDialog.Type.guide_drag_to_defend, [p], null != a.df), i = 0);
                            break;
                        case 53:
                            this._battleUi.showTask(), i = null;
                            break;
                        case 54:
                            (p = this.getHandCardSpriteByInfoId(a.id)) && (this._battleUi.onTouchCanceled(), p.onTouchEnded(), p.onTouchBegan(null), p.node.x = l.ViewConst.SCR_CW, i = 0);
                            break;
                        case 55:
                            (p = this.getHandCardSpriteByInfoId(a.id)) && (p.onTouchEnded(), this.playAction(p, e.Action.replace_hand_card, 0, 1), i = 0);
                            break;
                        case 72:
                            null == this._player._boardCards[1] && (this.getCardSprite(this._player._handCards[0])._isGuiding72 = !0, this._battleUi.showEvent(R.BattleEventDialog.Type.guide_tap, this.getCardSprite(this._player._handCards[0]), null != a.df))
                    }
                    return i
                }, e.prototype.clear = function () {
                }, e.prototype.removeCardFromLeave = function (e) {
                    var t = this.createCardSprite(e);
                    return t.setPosition(new cc.Vec2(-100, l.ViewConst.SCR_CH + (this._isOnBottomHalf ? -200 : 200))), this._battleUi.addChild(t._node, 100), t
                }, e.prototype.removeCardFromPile = function (t) {
                    var n = this.getPileCardSprite(t), a = n[0], i = n[1];
                    return this._pPileCards.splice(i, 1), a.setVisible(!0), this.sendEvent(e.EventType.update_card_pile_count, {}), a
                }, e.prototype.removeCardFromHand = function (e) {
                    var t = this.getHandCardSprite(e), n = (t[0], t[1]);
                    this._pHandCards.splice(n, 1)
                }, e.prototype.removeCardFromBoard = function (e) {
                    if (e.isMonster()) {
                        var t = this.getBoardCardSprite(e), n = (t[0], t[1]);
                        if (delete this._pBoardCards[n], e.iChaomeng()) {
                            var a = e._owner.getBattleCardsByInfoId("B", e._infoId),
                                i = e._owner._opponent.getBattleCardsByInfoId("B", e._infoId);
                            a.length, i.length
                        }
                    }
                }, e.prototype.removeCardFromGrave = function (e) {
                    var t = this.getGraveCardSprite(e), n = t[0], a = t[1];
                    this._pGraveCards.splice(a, 1), n.setVisible(!1), this.updateGraveArea()
                }, e.prototype.removeCardFromEnergy = function (e) {
                }, e.prototype.removeCardToOppo = function (e) {
                    this.removeCardFromSprites(e), this._opponentUi.addCardToSprites(e), e.setPlayerUi(this._opponentUi);
                    var t = e._card;
                    t.isMonster() && t._status == r.default.CardStatus.board && e.reloadAllStatus()
                }, e.prototype.removeCardFromSprites = function (e) {
                    if (null != e) {
                        var t = e._card;
                        this._cardSprites[t._id] = null
                    }
                },e.prototype.addCardToSprites = function (e) {
                    if (null != e) {
                        var t = e._card;
                        this._cardSprites[t._id] = e, e._isAttacker = this._battleUi._isAttacker, e._isOnBottomHalf = this._isAttacker == this._battleUi._isAttacker
                    }
                },e.prototype.addCardToLeave = function (e, t, n, a) {
                    void 0 === a && (a = !1);
                    var i = this.getCardSprite(e);
                    return [n = e._sourceStatus == r.default.CardStatus.board && a ? i.playBoardToLeave(n, a) : e._sourceStatus == r.default.CardStatus.grave ? i.playRetrievToLeave(n) : e._sourceStatus == r.default.CardStatus.energy ? this.playEnergyAdd(n) : i.playToLeave(n), n]
                },e.prototype.addCardToPile = function (t, n, a) {
                    var i = this.getCardSprite(t), o = this, _ = 0, s = 0;
                    return t._statusVal == r.default.CardStatusVal.g2p_fast || t._statusVal == r.default.CardStatusVal.e2x_fast ? i.fastToPile(a) : t._sourceStatus == r.default.CardStatus.board ? (_ = i.playBoardRetriev(a), s = i.playRetrievToPile(_)) : t._sourceStatus == r.default.CardStatus.grave ? (_ = i.playGraveRetriev(a), s = i.playRetrievToPile(_)) : t._sourceStatus == r.default.CardStatus.leave ? (i.setPosition(new cc.Vec2(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH)), s = i.playToPile(a)) : s = i.playToPile(a), this._battleUi.runAction(d.lc.callFunc(function () {
                        for (var t = 0; t < o._player._pileCards.length; t++) {
                            var n = o._player._pileCards[t], a = n._pos, i = o.getCardSprite(n);
                            o._pPileCards[a - 1] = i
                        }
                        o.sendEvent(e.EventType.update_card_pile_count, {})
                    })), [s, s]
                },e.prototype.resetWhenAddCardToHand = function (e) {
                    e._spellUsedFlag = null
                },e.prototype.addCardToHand = function (e, t, n) {
                    var a = d.lc.D(this.getCardSprite(e), this._opponentUi.getCardSprite(e));
                    if (this.resetWhenAddCardToHand(a), this._pHandCards.splice(e._pos - 1, 0, a), this.calHandCardPosAndRot(a), e._statusVal == r.default.CardStatusVal.e2x_fast) n = a.fastToHand(n, !1); else if (e._sourceStatus == r.default.CardStatus.board) n = a.playBoardRetriev(n), t = n = a.playRetrievToHand(n); else if (e._sourceStatus == r.default.CardStatus.grave) n = a.playGraveRetriev(n), t = n = a.playRetrievToHand(n); else if (e._sourceStatus == r.default.CardStatus.leave) a.setPosition(new cc.Vec2(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH)), a.setScale(1 / o.CardSprite.Scale.normal), t = n = a.playRetrievToHand(n); else {
                        var i;
                        if (e._statusVal == r.default.CardStatusVal.p2h_show_random) t = (i = a.playToHand(n, !0)).shift(), n = i.shift(); else t = (i = a.playToHand(n, !1)).shift(), n = i.shift()
                    }
                    return [t, n]
                },e.prototype.addCardToBoard = function (e, t, n, a) {
                    var i = this.getCardSprite(e);
                    return e.isMonster() && (this._pBoardCards[e._pos] = i, this.calBoardCardPos(i)), e._statusVal == r.default.CardStatusVal.e2x_fast || e._statusVal == r.default.CardStatusVal.e2x_fast_def ? n = i.fastToBoard(n) : e._sourceStatus == r.default.CardStatus.leave ? n = i.playEmptyToBoard(n) : e._sourceStatus == r.default.CardStatus.grave ? (n = i.playGraveRetriev(n), n = i.playToBoard(n)) : n = e._sourceStatus == r.default.CardStatus.board ? i.playBoardToBoard(n) : i.playToBoard(n, a), [n, n]
                },e.prototype.addCardToGrave = function (e, t, n) {
                    var a = this.getCardSprite(e);
                    return this._pGraveCards.push(a), e._statusVal == r.default.CardStatusVal.b2g_degrade ? n = a.fastToGrave(n) : e._sourceStatus == r.default.CardStatus.board ? n = a.playBoardToGrave(n) : e._sourceStatus == r.default.CardStatus.hand || e._sourceStatus == r.default.CardStatus.pile ? e._statusVal == r.default.CardStatusVal.h2g_magic ? (this.replaceHandCards(n, e), this.addGraveCard(a), a.updateZOrder()) : n = a.playToGrave(n) : (this.addGraveCard(a), a.updateZOrder()), [n, n]
                },e.prototype.addCardToEnergy = function (e, t, n) {
                    return [n, n]
                },e.prototype.playEnergyAdd = function (e) {
                    return e
                },e.prototype.castSkillAction = function (e, t, n, a, i) {
                    var o = s.Data._skillInfo[n._id];
                    if (null != e && null == e._card) return [i, 0];
                    if (52006 != n._id && 2041 == o._refId) return [i, 0];
                    var _ = s.Data.getSkillType(n._id);
                    this._player.getActionCard();
                    if (_ == s.Data.SkillType.magic_equip && t != r.default.Status.after_spell) {
                        var l = o._coinCount;
                        l >= 1 && (e._card.hasSkills([n._id]) || (i = this.throwCoinEffect(e._card, l, i)));
                        var p = s.Data._skillAudioInfo[n._id];
                        if (e._card.hasSkills([n._id]) || null == p._spine || "NULL" == p._spine) return [i, 0]
                    }
                    var u = [];
                    if (t == r.default.Status.after_spell) u = this._player.getUnderChangedCards(); else for (var g = this._player.getUnderSkillCards(e._card._id, n._id), f = 0; f < g.length; f++) g[f] != e._card && u.push(g[f]);
                    50005 != n._id && (this._battleUi.hideCardAttack(), this.updateBoardCardsActive());
                    var m = null;
                    if (1102 == o._refId) ; else if (1463 == o._refId) {
                        (y = e._card.getBuffValue(!0, r.default.PositiveType.powerMark)) > 0 && (m = y)
                    } else if (1154 == o._refId) {
                        m = (y = h.B.getCoinFaceCount(e._card._lastCount)) + 1
                    } else if (1326 == o._refId) {
                        var y = h.B.getCoinFaceCount(e._card._lastCount);
                        null != m ? m += y : m = y
                    } else if (1017 == o._refId) {
                        m = o._coinCount;
                        var T = e._card._baseCard;
                        null != T && T.hasSkills([2043]) && e._card._isEvolved && (null != m ? m += 1 : m = 1)
                    } else o._coinCount >= 1 && (null != m ? m += 1 : m = o._coinCount);
                    if (null != m && (50005 > o._refId && o._refId > 50001 && (i = this.showBeforeNegativeCoin(e, o._refId, i)), i = this.throwCoinEffect(e._card, m, i)), 1328 == o._refId) {
                        var S = this._player.filterCanChangeToHandCards(this._player.getBattleCards("P"));
                        S = h.B.filterFirstCards(S, o._val[0]);
                        var C = c.BattleListDialog.create(this, S, c.BattleListDialog.Mode.grave_list, "NULL");
                        C.show(), this._battleUi._battleListDialog = C, i += 1.5
                    }
                    var v = null, b = s.Data._skillAudioInfo[o._refId];
                    if (null != b && (v = b._spine), d.lc.isIPhoneX() && "shuimu" == v && (v = "shuihua"), null != v && "NULL" != v) i = this.efcSpineByName(n._id, e, u, v, m, t, i); else if (1001 == o._refId) o._val[0] > 0 && (i = this.singleTargetEffectOnCards(e, u, "ptgj", i)); else if (50001 <= o._refId && o._refId <= 50005) this.negativeBuffEffectOnCard(e, n._id, i); else if (t == r.default.Status.spelling) e._card._status == r.default.CardStatus.grave ? e.showUseToGrave(i) : 52001 != o._refId && 2005 != o._refId && (i = this.efcSkillShow(e, Math.max(1.4, i))); else if (t == r.default.Status.after_spell) {
                        var E = e._triggerSkill;
                        null != E && "NULL" != E ? this.effectZszq(E, e, i) : e._card._status == r.default.CardStatus.grave ? e.showUseToGrave(i) : i = this.efcSkillShow(e, i)
                    }
                    return t == r.default.Status.spelling && this.setStatusWhenSpellBegin(n._id), [i]
                },e.prototype.efcSpineByName = function (e, t, n, a, i, o, _) {
                    var c = s.Data.getSkillType(e);
                    if (c != s.Data.SkillType.magic_item && c != s.Data.SkillType.magic_special) if (c == s.Data.SkillType.leader_magic) _ = this.singleEfcMagicSkillShow(t, e, n, i, _); else {
                        var l = null, d = s.Data._skillAudioInfo[e];
                        if (null != d && (l = d._spinefalse), null != l && "NULL" != l && i > 0 && 0 == t._card._lastCount) return t._delayAction = {
                            _spine: a,
                            _spineFalse: l,
                            _targets: n,
                            _skillId: e,
                            _triggerType: r.default.Status.account_spell
                        }, _;
                        "zszq" == a ? (_ = this.effectZszq(a, t, _), t._triggerSkill = "zszq") : _ = "wobble" == a ? this.effectWobble(t, a, _) : this.singleTargetEffectOnCards(t, n, a, _)
                    }
                    return _
                },e.prototype.efcCardDie = function (e) {
                    var t = this;
                    if (e._card.isMonster()) {
                        e._default._position;
                        e.runAction(d.lc.sequence(d.lc.delay(.15), d.lc.callFunc(function () {
                            e.removeAllStatus();
                            var n = f.SpineUtil.createSpineAnim("kpsw", "default", "animation", !1);
                            d.lc.addChildToPosLB(t._battleUi._node, n, cc.p(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH), 1)
                        })))
                    } else if (e._card._type == s.Data.CardType.magic) {
                        var n = f.SpineUtil.createSpineAnim("kapaisiwang", "default", "animation", !1);
                        d.lc.addChildToPosLB(t._battleUi._node, n, cc.p(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH), 1)
                    }
                },e.prototype.efcCardVanish = function (e) {
                    e._spineDie && (e._spineDie.removeFromParent(), e._spineDie = null);
                    var t = f.SpineUtil.createSpineAnim("mdtx", "default", "animation", !1);
                    d.lc.addChildToPosLB(this._battleUi._node, t, cc.p(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH), 1), m.lcAudio.playAudio(y.AUDIO.E_BAT_CARD_BOARD)
                },e.prototype.preloadEfcCardEvolve = function (e) {
                    var t = f.SpineUtil.createSpineAnim("kpjh", "default", "animation2", !1);
                    t.setVisible(!1), d.lc.addChildToPosLB(e._node, t, new cc.Vec2(d.lc.cw(e._node), d.lc.ch(e._node) + 10), o.CardSprite.ZOrder.efc), e._toEvolveSpine = t
                },e.prototype.efcCardEvolve = function (e) {
                    var t = e._card._info._level > 1 ? "animation2" : "animation1",
                        n = f.SpineUtil.createSpineAnim("kpjh", "default", t, !1);
                    d.lc.addChildToCenter(e._node, n, o.CardSprite.ZOrder.effect), e._toBoardSpine = n, e._toBoardSpine.setScale((1 == e._card._pos ? 1 : .6) * e.getScale()), m.lcAudio.playAudio(y.AUDIO.E_BAT_CARD_EVOLVE), m.lcAudio.playAudio(y.AUDIO.E_BAT_CARD_BOARD), e._card._info._level, e.runAction(d.lc.sequence(e._card._info._level >= 2 ? 2.4 : 1.7, d.lc.callFunc(function () {
                    }), d.lc.scaleTo(.12, 1)))
                },e.prototype.preloadEfcCardToBoard = function (e) {
                    f.SpineUtil.createSpineAnim("kpsz", "default", "animation2", !1)
                },e.prototype.efcCardToBoard = function (e) {
                    var t = 1 == e._card._pos, n = e._card._info._nature, i = this._player, r = n;
                    n > 6 && (r = 11), i._round < 1 && (r = 11);
                    var _ = f.SpineUtil.createSpineAnim("kpsz", "default", "animation" + r, !1);
                    if (d.lc.addChildToCenter(e._node, _, o.CardSprite.ZOrder.effect), e._toBoardSpine = _, e._toBoardSpine.setVisible(!0), e._toBoardSpine.setScale(e.getScale() * (t ? 1 : .8)), m.lcAudio.playAudio(y.AUDIO.E_BAT_CARD_BOARD), 6 == n) {
                        var s = S.SpriteUtil.addSprite(C.noxcc.newNode(), "bat_dilie").node;
                        s.setScale(t ? 1.75 : 1.2249999), s.setVisible(!1), d.lc.addChildToPosLB(e.getParent(), s, e.getPosition(), a.BattleUi.ZOrder.card - 1), s.runAction(d.lc.sequence(d.lc.delay(.16), d.lc.callFunc(function () {
                            s.setVisible(!0)
                        }), d.lc.delay(.17), cc.fadeOut(.67), d.lc.callFunc(function () {
                            s.removeFromParent()
                        })))
                    }
                },e.prototype.efcCardFlip = function (e) {
                },e.prototype.efcSkillShow = function (e, t) {
                    void 0 === t && (t = 0);
                    var n = new cc.Vec2(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH);
                    return e._card.isMonster() || (e._spellUsedFlag = !0), e.setLocalZOrder(a.BattleUi.ZOrder.effect + 10), e.stopAllActions(), e.runAction(d.lc.sequence(e._card.isMonster() ? d.lc.scaleTo(.2, 1.55) : d.lc.spawn(d.lc.moveTo(.2, n), d.lc.scaleTo(.2, .7 / o.CardSprite.Scale.normal)), d.lc.delay(.05), d.lc.callFunc(function () {
                        if (e._card.isMonster()) {
                            var t = f.SpineUtil.createSpineAnim("kprc05", "default", "animation", !1);
                            t.setScale(.38), d.lc.addChildToCenter(e.node, t, o.CardSprite.ZOrder.efc), d.lc.offset(t, 5, 0)
                        } else {
                            var n = I.ParticleUtil.createParticle("par_kprc01");
                            d.lc.addChildToCenter(e.node, n, o.CardSprite.ZOrder.efc)
                        }
                        var a = I.ParticleUtil.createParticle("par_kprc02");
                        d.lc.addChildToCenter(e.node, a, o.CardSprite.ZOrder.efc), m.lcAudio.playAudio(y.AUDIO.E_BAT_SKILL_MAGIC_NORMAL), e._status != o.CardSprite.Status.normal && e._status != o.CardSprite.Status.fight && e.initFight()
                    }), e._card.isMonster() ? d.lc.repeat(d.lc.sequence(d.lc.moveBy(.5, cc.p(3, 5)), d.lc.moveBy(.5, cc.p(-3, -5)), d.lc.moveBy(.4, cc.p(-2.4000000000000004, 4))), Math.max(1, Math.floor(t / 1.4))) : 0, d.lc.spawn(d.lc.scaleTo(.2, 1), d.lc.callFunc(function () {
                        if (e._card.isMonster()) {
                            var t = e._ownerUi.calBoardCardPos(e);
                            e._pCardAreaAll.setScale(T.CardUtil.getBoardCardScale(e)), e.runAction(d.lc.spawn(d.lc.moveTo(.2, t), d.lc.rotateTo(.2, 0, 0, 0))), e.updateZOrder()
                        }
                    })))), e._pShadowArea.runAction(d.lc.spawn(d.lc.moveTo(.2, cc.v2(-100, -50)), d.lc.scaleTo(.2, .6))), 2.05 + t
                },e.prototype.singleEfcMagicSkillShow = function (e, t, n, a, i) {
                    cc.log("singleEfcMagicSkillShow");
                    s.Data._skillAudioInfo[t], cc.v2(e.getPosition()), s.Data.getSkillType(t), S.SpriteUtil.createWithSpriteFrameName("efc_glow_bottom");
                    e._node.setScale(1.8), e.setPosition(cc.v2(300, 350));
                    var r = I.ParticleUtil.createParticle("par_round_explode");
                    e._node.addChild(r);
                    var _ = I.ParticleUtil.createParticle("par_kprc01");
                    return d.lc.addChildToCenter(e._node, _, o.CardSprite.ZOrder.efc), e._node.runAction(cc.sequence(cc.delayTime(1.9), cc.fadeOut(.3), cc.callFunc(function () {
                        r.removeFromParent(), _.removeFromParent()
                    }))), 2.2
                },e.prototype.efcFortressDie = function () {
                    if (this._player._specialFail) {
                        var t = f.SpineUtil.createSpineAnim("mieshibaodan", "default", "animation", !0);
                        d.lc.addChildToCenter(this._battleUi._node, t, a.BattleUi.ZOrder.effect, a.BattleUi.Tag.remove_when_reset), this._finishEfcLayer = t, t.runAction(d.lc.sequence(d.lc.delay(1.6), d.lc.callFunc(function () {
                            t.removeFromParent(!0)
                        })))
                    }
                    var n = f.SpineUtil.createSpineAnim("ds", "default", "animation", !0),
                        i = new cc.Vec2(l.ViewConst.SCR_CW, l.ViewConst.SCR_CH + (this._isOnBottomHalf ? -150 : 50));
                    d.lc.addChildToPosLB(this._battleUi._node, n, i, a.BattleUi.ZOrder.effect, a.BattleUi.Tag.remove_when_reset), this.sendEvent(e.EventType.efc_screen_fortress_die, {}), m.lcAudio.playAudio(y.AUDIO.E_BAT_FORTRESS_DIE)
                },e.prototype.efcFortressDieRemove = function () {
                    var e = this._finishEfcLayer;
                    null != e && (e.removeFromParent(), this._finishEfcLayer = null, this.hideOperateDialogs())
                },e.prototype.efcCardHpLabel = function (t, n) {
                    this._player.getActionPlayer();
                    var i = d.lc.createNode();
                    new cc.Vec2(t._default._position.x + l.ViewConst.SCR_CW, t._default._position.y + l.ViewConst.SCR_CH);
                    (d.lc.addChildToPosLB(this._battleUi._node, i, t._default._position, a.BattleUi.ZOrder.label), null != n && n < 0) && (t._card._lastDamage >= 50 && this.sendEvent(e.EventType.efc_screen_attack_card, {}));
                    var o = v.NodeWithLabel.createBMFont(b.UICfg.BMFont.num_48, "" + n);
                    i.addChild(o), o._label.fontSize = 50, o._label.lineHeight = 60, o.color = n < 0 ? cc.color(255, 0, 0) : cc.color(0, 255, 0), o._label.string = n < 0 ? "" + n : "+" + n, o.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3, 1.3), cc.moveBy(.3, cc.v2(0, 50))), cc.delayTime(.4), cc.spawn(cc.moveBy(.3, cc.v2(0, 30)), cc.sequence(cc.delayTime(.1), cc.fadeOut(.2))), cc.callFunc(function () {
                        i.removeFromParent()
                    })))
                },e.prototype.showBeforeNegativeCoin = function (e, t, n) {
                    var i = t - 5e4, o = null;
                    if (i == r.default.NegativeType.sleep ? o = "shuimian" : i == r.default.NegativeType.burn ? o = "ranshao" : i == r.default.NegativeType.chaos && (o = "hunluan"), null != o) {
                        var _ = f.SpineUtil.createSpineAnim("panding", o, "animation", !1);
                        d.lc.addChildToCenter(e._node, _, a.BattleUi.ZOrder.effect), _.runAction(d.lc.sequence(2, d.lc.callFunc(function () {
                            _.removeFromParent()
                        }))), n += 2
                    }
                    return n
                },e.prototype.throwCoinEffect = function (t, n, i) {
                    var o = this;
                    this._battleUi.runAction(d.lc.sequence(i, function () {
                        o._isOnBottomHalf ? o._battleUi.setCoinArea() : o._battleUi.setOppCoinArea(), o._battleUi._coinCntZ.string = "0", o._battleUi._coinCntF.string = "0", o._battleUi._coinCntZ.node.runAction(d.lc.sequence(i / 2, d.lc.fadeIn(i / 2))), o._battleUi._coinCntF.node.runAction(d.lc.sequence(i / 2, d.lc.fadeIn(i / 2))), o._battleUi._coinFIcon.runAction(d.lc.sequence(i / 2, d.lc.fadeIn(i / 2))), o._battleUi._coinZIcon.runAction(d.lc.sequence(i / 2, d.lc.fadeIn(i / 2)))
                    })), null != this._coin && (this._coin.removeFromParent(), this._coin = null);
                    var r = f.SpineUtil.createSpineAnim("ryb", "default", "f", !1);
                    this._coin = r, r.setVisible(!1), this._isOnBottomHalf ? d.lc.addChildToPosLB(this._battleUi._node, r, e.Pos.attacker_coin, a.BattleUi.ZOrder.card_touch + 1) : d.lc.addChildToPosLB(this._battleUi._node, r, e.Pos.defender_coin, a.BattleUi.ZOrder.card_touch + 1);
                    for (var _ = 0, s = 0, c = 0, l = !1, p = function (e) {
                        var a = 0 == (t._lastCount & Math.pow(2, e));
                        l = a, c = (.3 + 2.3) * e + (1 + e == n ? 0 : i), u._battleUi.runAction(d.lc.sequence(c, function () {
                            var e = a ? "f2" : "z2";
                            o._coin.setVisible(!0), f.SpineUtil.setSpineAnim(o._coin, "ryb", "default", e, !1), m.lcAudio.playAudio(y.AUDIO.E_BAT_COIN)
                        }, .3 + 2.3, function () {
                            a ? _ += 1 : s += 1, o._battleUi._coinCntZ.string = "" + s, o._battleUi._coinCntF.string = "" + _
                        }))
                    }, u = this, g = 0; g < n; g++) p(g);
                    return this._battleUi.runAction(d.lc.sequence(c + 2.3 + .3, d.lc.callFunc(function () {
                        f.SpineUtil.setSpineAnim(o._coin, "ryb", "default", l ? "fmxiaoshi2" : "zmxiaoshi", !1), o._battleUi._coinCntZ.node.runAction(d.lc.fadeIn(2)), o._battleUi._coinCntF.node.runAction(d.lc.fadeIn(2)), o._battleUi._coinFIcon.runAction(d.lc.fadeIn(2)), o._battleUi._coinZIcon.runAction(d.lc.fadeIn(2))
                    }), 1.3, d.lc.callFunc(function () {
                        C.noxcc.isValid(o._coin) && o._coin.removeFromParent(), o._coin = null, o._battleUi._coinArea.setVisible(!1)
                    }))), c + 1.3 + i + 2.3
                },e.prototype.effectZszq = function (e, t, n) {
                    var i = this, o = d.lc.callFunc(function () {
                        var n = f.SpineUtil.createSpineAnim(e, "default", "animation", !1);
                        i.isEffectNeedRotate(e) && (t._ownerUi._isOnBottomHalf || n.setRotation(180)), d.lc.addChildToPosLB(i._battleUi._node, n, cc.v2(d.lc.x(t._node), d.lc.y(t._node)), a.BattleUi.ZOrder.effect + 2), i.playSkillAudio(e)
                    });
                    return i._battleUi.runAction(d.lc.sequence(n, o)), n += .4
                },e.prototype.singleTargetEffectOnCards = function (e, t, n, a) {
                    var i = t.length, o = 0;
                    if (cc.log(n), 1 == i) {
                        if (1 == t[0]._pos) {
                            var r = d.lc.D(this.getCardSprite(t[0]), this._opponentUi.getCardSprite(t[0]));
                            o = this.isEffectNeedAttack(n) ? this.effectAttack(e, r, n, a) : this.effect1v1Begin(e, r, n, a)
                        }
                    } else for (var _ = 0; _ < i; _++) {
                        null != (r = d.lc.D(this.getCardSprite(t[_]), this._opponentUi.getCardSprite(t[_]))) && (o = this.singleTargetEffectOnCard(e, r, n, a))
                    }
                    return o
                },e.prototype.isEffectNeedAttack = function (e) {
                    return "ptgj" == e || "ddj" == e || "dafeng" == e || "dashui" == e || "dgz" == e || "bwft" == e || "baozha" == e
                },e.prototype.effectAttack = function (e, t, n, i) {
                    var o = this;
                    e._node.stopActionByTag(a.BattleUi.Tag.hide_attack_pos), e._node.stopActionByTag(a.BattleUi.Tag.hide_attack_zorder), e._node.zIndex = a.BattleUi.ZOrder.effect + 1;
                    var r = this.getEffectDuration(n), _ = r[0];
                    r[1];
                    return e._node.runAction(d.lc.sequence(d.lc.delay(i), d.lc.callFunc(function () {
                        var e = C.noxcc.instantiate(A.StaticPrefabMgr.getSingleSprite());
                        e.setContentSize(cc.view.getVisibleSize()), e.setScale(1.5), d.lc.addChildToCenter(o._battleUi._node, e, a.BattleUi.ZOrder.effect - 1), e.setTagID(a.BattleUi.Tag.mask_layer_1v1)
                    }), d.lc.callFunc(function () {
                        o.attackEffectOnCard(e, t, n, 0)
                    }), d.lc.delay(.3 + _), d.lc.callFunc(function () {
                        o.effect1v1End(e, t)
                    }))), t._node.zIndex = a.BattleUi.ZOrder.effect, i + .6 + _ + .2
                },e.prototype.getEffectDuration = function (e) {
                    return "dj" == e ? [1, .4] : "ddj" == e ? [3, 1] : "guafeng" == e ? [2.5, .9] : "dafeng" == e ? [2, .8] : "huoyan" == e ? [.6, .3] : "dahuo" == e ? [1.2, .3] : "shuihua" == e ? [1, .3] : "dashui" == e ? [2, .7] : "duwu" == e ? [1.3, .5] : "dgz" == e ? [2, .7] : "zhanqie" == e ? [1.3, .25] : "zhuazi" == e ? [1.3, .3] : "baozha" == e ? [2, .7] : "rcz" == e ? [1, .3] : "rdx" == e ? [1, .3] : "rnj" == e ? [1.2, .35] : "jiaxue" == e ? [1.3, .8] : "ptgj" == e ? [.9, .4] : "bwft" == e ? [1, .3] : "shuizt" == e ? [1.5, 1.5] : "duzt" == e ? [1.5, 1.5] : "huozt" == e ? [1.5, 1.5] : "mbzt" == e ? [1.5, 1.5] : "yunzt" == e ? [1.5, 1.5] : "heidong" == e ? [1.3, 1] : "guangshu" == e ? [1.1, .5] : "gddj1" == e ? [1, .3] : "gddj2" == e ? [1, .3] : "gddj3" == e ? [1, .3] : "menghuo" == e ? [1.6, 1] : "feiyekuaidao" == e ? [1.2, .2] : "ciji" == e ? [1, .3] : "bingdong" == e ? [2.5, .7] : "zengyi" == e ? [1, null] : "zhongdian" == e ? [2, .6] : "zhongshui" == e ? [1.6, .6] : "jishengzhongzi" == e ? [1.5, .5] : "tengbian" == e ? [1.3, .6] : "duzhen" == e ? [1.3, .4] : "shuimu" == e ? [1.7, .6] : [1, 1]
                },e.prototype.attackEffectOnCard = function (t, n, a, i) {
                    var o = this,
                        r = (t._node.getParent(), t._ownerUi._isOnBottomHalf ? e.Pos.attacker_1v1 : e.Pos.defender_1v1),
                        _ = t._ownerUi._isOnBottomHalf ? e.Pos.defender_1v1 : e.Pos.attacker_1v1,
                        s = (cc.v2(n._default._position.x, n._default._position.y), _.x, r.x, _.y, r.y, _.x, r.x, t._ownerUi._isOnBottomHalf ? cc.v2(-102, -61) : cc.v2(102, 61)),
                        c = t._ownerUi._isOnBottomHalf ? cc.v2(_.x - 70, _.y - 50) : cc.v2(_.x + 70, _.y + 60),
                        l = t._ownerUi._isOnBottomHalf ? cc.v2(102, 61) : cc.v2(-102, -61), p = d.lc.moveBy(.4, s),
                        u = d.lc.scaleBy(.4, 1.2), g = d.lc.spawn(p, u), h = d.lc.moveTo(.08, c).easing(cc.easeIn(2.5)),
                        f = d.lc.scaleBy(.08, .8), m = d.lc.spawn(h, f), y = d.lc.moveTo(.2, r).easing(cc.easeOut(2.5)),
                        T = d.lc.scaleTo(.2, 1.2), S = d.lc.spawn(y, T);
                    t._node.runAction(d.lc.sequence(d.lc.delay(i), g, d.lc.delay(.15), m, d.lc.callFunc(function () {
                        o.sendEvent(e.EventType.efc_screen_attack_card, {}), o.singleTargetEffectOnCard(t, n, a, 0);
                        var i = d.lc.moveBy(.09, cc.v2(l)).easing(cc.easeOut(2.5)), r = d.lc.moveTo(.15, _);
                        n.runAction(d.lc.sequence(i, d.lc.delay(.2), r))
                    }), S))
                },e.prototype.effect1v1Begin = function (t, n, i, o) {
                    var r = this;
                    t._node.stopActionByTag(a.BattleUi.Tag.hide_attack_pos), t._node.stopActionByTag(a.BattleUi.Tag.hide_attack_zorder), t._node.zIndex = a.BattleUi.ZOrder.effect + 1, n._node.zIndex = a.BattleUi.ZOrder.effect;
                    var _ = t._ownerUi._isOnBottomHalf ? e.Pos.attacker_1v1 : e.Pos.defender_1v1, s = d.lc.moveTo(.3, _),
                        c = d.lc.rotateTo(.3, l.ViewConst.BATTLE_ROTATION_X, 0, 0), p = d.lc.scaleTo(.3, 1.3),
                        u = (d.lc.spawn(s, c, p), this.getEffectDuration(i)), g = u[0],
                        h = (u[1], d.lc.rotateBy(.1, 10, 0, 0)), f = d.lc.rotateBy(.1, -20, 0, 0),
                        m = d.lc.rotateBy(.05, 10, 0, 0), y = d.lc.sequence(h, f, m),
                        T = d.lc.spawn(y, d.lc.callFunc(function () {
                            r.singleTargetEffectOnCard(t, n, i, 0)
                        })), S = d.lc.moveBy(.1, cc.v2(10, 20)), v = d.lc.moveBy(.1, cc.v2(-20, -40)),
                        b = d.lc.moveBy(.1, cc.v2(10, 20)), E = d.lc.sequence(S, v, b);
                    t._node.runAction(d.lc.sequence(d.lc.delay(o), d.lc.callFunc(function () {
                        var e = C.noxcc.instantiate(A.StaticPrefabMgr.getSingleSprite());
                        e.setContentSize(cc.view.getVisibleSize()), e.setScale(1.5), d.lc.addChildToCenter(r._battleUi._node, e, a.BattleUi.ZOrder.effect - 1), e.setTagID(a.BattleUi.Tag.mask_layer_1v1)
                    }), p, T, d.lc.delay(g), d.lc.callFunc(function () {
                        r.effect1v1End(t, n)
                    })));
                    t._ownerUi._isOnBottomHalf ? e.Pos.defender_1v1 : e.Pos.attacker_1v1;
                    var I = d.lc.scaleTo(.3, 1.3);
                    return n._node.runAction(d.lc.sequence(d.lc.delay(o), I, d.lc.delay(g - .3), E)), .55 + g + .2 + o
                },e.prototype.singleTargetEffectOnCard = function (e, t, n, i) {
                    var o = this, _ = n;
                    1 == t._card._pos && t._card._status != r.default.CardStatus.board && this.isOnlySupportMainCard(_) && (_ = "ptgj");
                    var s = null;
                    this._battleUi._node.runAction(d.lc.sequence(d.lc.delay(i), d.lc.callFunc(function () {
                        var n = o.getEffSpineNameAndAnimation(e._ownerUi._isOnBottomHalf, _);
                        _ = n[0], s = n[1], "siyao" == _ && (s = "animation2");
                        var i = f.SpineUtil.createSpineAnim(_, "default", s, !1);
                        o.isEffectNeedRotate(_) && e._ownerUi._isOnBottomHalf ? d.lc.addChildToPosLB(o._battleUi._node, i, cc.v2(d.lc.x(e._node), d.lc.y(e._node)), a.BattleUi.ZOrder.effect + 2) : o.isEffectNeedRotate(_) && !e._ownerUi._isOnBottomHalf ? (i.scaleX = -1, i.rotation = i.rotation - 50, d.lc.addChildToPosLB(o._battleUi._node, i, cc.v2(d.lc.x(e._node), d.lc.y(e._node)), a.BattleUi.ZOrder.effect + 2)) : o.isEffectNeedRotate2(_) && e._ownerUi._isOnBottomHalf ? d.lc.addChildToPosLB(o._battleUi._node, i, cc.v2(d.lc.x(t._node), d.lc.y(t._node)), a.BattleUi.ZOrder.effect + 2) : o.isEffectNeedRotate2(_) && !e._ownerUi._isOnBottomHalf ? (i.scaleX = -1, i.rotation = "zhanqie" == _ ? i.rotation - 30 : i.rotation - 50, d.lc.addChildToPosLB(o._battleUi._node, i, cc.v2(d.lc.x(t._node), d.lc.y(t._node)), a.BattleUi.ZOrder.effect + 2)) : d.lc.addChildToPosLB(o._battleUi._node, i, cc.v2(d.lc.x(t._node), d.lc.y(t._node)), a.BattleUi.ZOrder.effect + 2);
                        var r = o.isEffectNeedShakeScreen(_);
                        r[0] && o._battleUi.shakeScreen(a.BattleUi.ShakeScreenType.effect_skill, o, r[1]);
                        var c = o.getEffectDuration(_), l = c[0];
                        c[1];
                        i.runAction(d.lc.sequence(d.lc.delay(l), d.lc.callFunc(function () {
                            i.destroy()
                        }))), o.playSkillAudio(_)
                    })));
                    var c = this.getEffectDuration(_);
                    c[0];
                    return i + (c[1] || 0)
                },e.prototype.isEffectAnchorOnFromCard = function (e) {
                    return "zengyi" == e || "zszq" == e || "shuihua" == e || "rcz" == e || "rdx" == e || "guangshu" == e || "guafeng" == e || "jiaxue" == e
                },e.prototype.isEffectAnchorOnAttacker = function () {
                    return !1
                },e.prototype.isOnlySupportMainCard = function (e) {
                    return "zengyi" != e && "zszq" != e && "jiaxue" != e
                },e.prototype.isEffectNeedRotate = function (e) {
                    return "rcz" == e || "rdx" == e || "shuihua" == e || "guafeng" == e || "guangshu" == e
                },e.prototype.isEffectNeedRotate2 = function (e) {
                    return "gddj" == e || "zhanqie" == e || "ciji" == e || "jishengzhongzi" == e
                },e.prototype.isEffectNeedShakeScreen = function (e) {
                    return "dafeng" == e ? [!0, {_shakeTime: .9}] : "heidong" == e ? [!0, {_shakeTime: .9}] : "guangshu" == e ? [!0, {_shakeTime: .9}] : "menghuo" == e ? [!0, {_shakeTime: .9}] : "dashui" == e ? [!0, {_shakeTime: .9}] : "bwft" == e ? [!0, {_shakeTime: .9}] : "gddj3" == e ? [!0, {_shakeTime: .9}] : "jishengzhongzi" == e ? [!0, {
                        _shakeTime: .1,
                        _delay: .1
                    }] : "zhongshui" == e ? [!0, {_shakeTime: .3, _delay: .18}] : "tengbian" == e ? [!0, {
                        _shakeTime: .5,
                        _delay: .1
                    }] : "dahuo" == e ? [!0, {_shakeTime: .3, _delay: .1}] : "duzhen" == e ? [!0, {
                        _shakeTime: .1,
                        _delay: .3
                    }] : "shuimu" == e && [!0, {_shakeTime: .6, _delay: .3}]
                },e.prototype.getEffSpineNameAndAnimation = function (e, t) {
                    return "gddj1" == t ? ["gddj", "animation"] : "gddj2" == t ? ["gddj", "animation2"] : "gddj3" == t ? ["gddj", "animation3"] : e ? [t, this.getAttackerAnimationName(t)] : [t, this.getDefenderAnimationName(t)]
                },e.prototype.getAttackerAnimationName = function (e) {
                    return 17 == P._guideID && "bwft" == e ? "animation2" : "animation"
                },e.prototype.getDefenderAnimationName = function (e) {
                    return "duwu" == e || "huoyan" == e || "zhuazi" == e || "rnj" == e || "feiyekuaidao" == e || "bingdong" == e || "zhongshui" == e || "tengbian" == e || "zhongdian" == e || "duzhen" == e || "shuimu" == e ? "animation2" : "animation"
                },e.prototype.effect1v1End = function (e, t) {
                    var n = e._ownerUi.calBoardCardPos(e), i = d.lc.moveTo(.2, n), o = d.lc.rotateTo(.2, 0, 0, 0),
                        r = d.lc.spawn(i, o, d.lc.scaleTo(.2, 1));
                    e.runAction(r), e.updateZOrder();
                    var _ = t._ownerUi.calBoardCardPos(t), s = d.lc.moveTo(.2, _), c = d.lc.rotateTo(.2, 0, 0, 0),
                        l = d.lc.spawn(s, c, d.lc.scaleTo(.2, 1));
                    return t.runAction(l), t.updateZOrder(), this._battleUi._node.removeChildrenByTagID(a.BattleUi.Tag.mask_layer_1v1), .2
                },e.prototype.negativeBuffEffectOnCard = function (e, t, n) {
                    var i = t - 5e4, o = (e._buffIconsAtk[i], {});
                    if (o[r.default.NegativeType.sleep] = "shuizt", o[r.default.NegativeType.poison] = "duzt", o[r.default.NegativeType.burn] = "huozt", o[r.default.NegativeType.numb] = "mbzt", o[r.default.NegativeType.chaos] = "yunzt", null == o[i]) return n;
                    if (i == r.default.NegativeType.chaos && 0 != e._card._lastCount) return n;
                    var _ = this;
                    return this._battleUi.runAction(d.lc.sequence(n, d.lc.callFunc(function () {
                        var e = f.SpineUtil.createSpineAnim(o[i], "default", "animation", !1);
                        d.lc.addChildToCenter(_._battleUi._node, e, a.BattleUi.ZOrder.effect), _.playSkillAudio(o[i])
                    }), d.lc.callFunc(function () {
                        50005 == t && 0 == e._card._lastCount && _._battleUi.hideCardAttack()
                    }))), n
                },e.prototype.effectWobble = function (e, t, n) {
                    return e.runAction(d.lc.sequence(n + .3, d.lc.spawn(d.lc.sequence(d.lc.moveBy(.5, cc.p(0, 40)), d.lc.moveBy(.5, cc.p(0, -40))), d.lc.sequence(d.lc.rotateBy(.1, 10), d.lc.rotateBy(.15, -20), d.lc.rotateBy(.15, 20), d.lc.rotateBy(.15, -20), d.lc.rotateBy(.15, 20), d.lc.rotateBy(.175, -20), d.lc.rotateBy(.125, 10))))), n + 1.3
                },e.prototype.setStatusWhenSpellBegin = function (e) {
                    7007 != e && 7008 != e && 7027 != e || (this._battleUi._spellSatus = !0)
                },e.prototype.setStatusWhenSpellEnd = function () {
                    this._battleUi._spellSatus = null
                },e.prototype.playSkillAudio = function (e) {
                    var t = "E_BAT_SKILL_" + e.toUpperCase(), n = y.AUDIO[t];
                    n && (17 == P._guideID && "bwft" == e ? (n = y.AUDIO.E_BAT_SKILL__2) && m.lcAudio.playAudio(n) : m.lcAudio.playAudio(n))
                },e.prototype.sendEvent = function (t, n) {
                    e.Event.dispatchEvent({_type: t, _ids: n._ids, _val: n._val, _sender: this})
                },e.initStaticVal = function () {
                    e.Pos.attacker_hand_y = l.ViewConst.SCR_CH - 370, e.Pos.defender_hand_y = l.ViewConst.SCR_CH + 440, e.Pos.attacker_coin = new cc.Vec2(l.ViewConst.SCR_CW + 70, l.ViewConst.SCR_CH - 70), e.Pos.defender_coin = new cc.Vec2(l.ViewConst.SCR_CW - 70, l.ViewConst.SCR_CH + 140), e.Pos.attacker_1v1 = new cc.Vec2(l.ViewConst.SCR_CW - 93, l.ViewConst.SCR_CH - 17), e.Pos.defender_1v1 = new cc.Vec2(l.ViewConst.SCR_CW + 213, l.ViewConst.SCR_CH + 114)
                },e.Event = new _.noxEvent1,e.EventType = {
                    dialog_cannot_effect: 8,
                    dialog_not_enough_gem: 2,
                    dialog_board_card_full: 3,
                    dialog_no_base_monster: 16,
                    dialog_trap_existed: 10,
                    dialog_attacker_hand_cards: 14,
                    dialog_defender_hand_cards: 1,
                    efc_screen_equip_book: 102,
                    efc_screen_fortress_hurt: 105,
                    dialog_not_your_round: 4,
                    efc_camera_to: 201,
                    update_card_pile_count: 301,
                    dialog_target_unattackable: 11,
                    send_use_card: 401,
                    dialog_cannot_attack: 12,
                    dialog_special_summon_invalid: 7,
                    dialog_card_need_target: 6,
                    efc_screen_fortress_die: 104,
                    efc_screen_attack_card: 103,
                    efc_screen_to_board: 101,
                    dialog_adding_board_card: 9,
                    dialog_card_need_aim: 5,
                    dialog_need_main_card: 15
                },e.Pos = {
                    round_btn_area: new cc.Vec2(0, 0),
                    use_area: 211,
                    attacker_hand_y: l.ViewConst.SCR_CH - 370,
                    defender_hand_y: l.ViewConst.SCR_CH + 370,
                    attacker_board_y: [],
                    defender_board_y: [],
                    defender_board_x: [],
                    attacker_board_x: [],
                    defender_pile: new cc.Vec2(1366, 0),
                    attacker_pile: new cc.Vec2(1366, 0),
                    attacker_grave: new cc.Vec2(0, 0),
                    defender_grave: new cc.Vec2(0, 0),
                    attacker_coin: new cc.Vec2(l.ViewConst.SCR_CW + 70, l.ViewConst.SCR_CH - 70),
                    defender_coin: new cc.Vec2(l.ViewConst.SCR_CW - 70, l.ViewConst.SCR_CH + 140),
                    attacker_1v1: new cc.Vec2(l.ViewConst.SCR_CW - 93, l.ViewConst.SCR_CH - 17),
                    defender_1v1: new cc.Vec2(l.ViewConst.SCR_CW + 213, l.ViewConst.SCR_CH + 114)
                },e.Action = {
                    fortress_atk_dec: 324,
                    update_negative_status: 332,
                    atk_inc: 327,
                    replace_board_card: 32,
                    hp_update: 313,
                    replace_hand_card: 31,
                    attack_card: 213,
                    fortress_hp_dec: 322,
                    fortress_hp_inc: 321,
                    hp_dec: 326,
                    fortress_atk_inc: 323,
                    hp_inc: 325,
                    card_hurt: 222,
                    fortress_die: 224,
                    atk_dec: 328,
                    update_positive_status: 331,
                    avoid_attack: 341,
                    atk_update: 314,
                    change_nature: 351,
                    update_bind: 333
                },e
            }();
        n.PlayerUi = D, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxEvent": "noxEvent",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../../ui/node/NodeWithLabel": "NodeWithLabel",
        "../../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../../utils/CardUtil": "CardUtil",
        "../../utils/ParticleUtil": "ParticleUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../data/BattleData": "BattleData",
        "../data/BattlleCardStatus": "BattlleCardStatus",
        "../scene/BattleScene": "BattleScene",
        "./BattleEventDialog": "BattleEventDialog",
        "./BattleListDialog": "BattleListDialog",
        "./BattleUi": "BattleUi",
        "./CardSprite": "CardSprite",
        "./ChoiceLayer": "ChoiceLayer"
    }],
    PlayerUnion: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "74431OzbixCPKhsdiPvJVlP", "PlayerUnion"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/MsgCenter"), i = e("./Union"), o = e("../../../leocool/lc"), r = e("../data"),
            _ = e("../../../leocool/lcStr"), s = e("../../StringEnums"), c = e("../Social/User"),
            l = e("../../ToastManager"), d = e("../../part/UnionWarPart"), p = e("../../../leocool/lcAppCfg"),
            u = e("../../ClientView"), g = e("../../ui/panel/LevelUpPanel"), h = e("../../utils/TimeUtil"),
            f = e("../../ui/panel/RewardPanel"), m = function () {
                function e() {
                    this._lendCardList = [], this._searchUnions = {}, this._recommandUnions = {}, this._myActivityPoint = 0, this._groupId = null, this._groupJob = null, a.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }

                return e.prototype.clear = function () {
                    this._searchUnions = {}, this._recommandUnions = {}, this.stopHireSchedule(), o.lc.V(this._myUnion) && (this._myUnion.clear(), this._myUnion = null, this._hasDetailInfo = null), this._nextRefreshTime = null, P._playerMarket.clearUnionMarket(), this._myGroup = null, this._groupId = null, this._groupJob = null, this._isSyncData = null
                }, e.prototype.initBase = function (e) {
                    this.clear(), this.initMyUnionBase(e.info), this.init(e.data), this._taskList = e.union_task_list
                }, e.prototype.init = function (e) {
                    this._nextRefreshTime = e.next_refresh / 1e3, P._playerMarket.initProducts(e.bundles, r.Data.MarketBuyType.union), this._groupId = e.team_info ? e.team_info.id : null, this._battleTrophy = e.team_info ? e.team_info.score : 500, this._battleTrophy = this._battleTrophy ? this._battleTrophy : 500
                }, e.prototype.initMyUnionBase = function (e) {
                    var t = null;
                    e.id == P._unionId && (t = i.Union.create(e)), null != t && (this._myUnion = t, P._unionName = t._name, P._unionBadge = t._badge, P._unionWord = t._word, P._unionType = t._joinType, t.sendUnionDirty(), t.sendUnionResDirty())
                }, e.prototype.initMyUnionMsg = function (e) {
                    var t = e.detail, n = null;
                    null != t && parseInt(t.union_info.id) == parseInt(P._unionId) && (n = i.Union.create(t.union_info, t.member_info, e), this._hasDetailInfo = !0), null != n && (this._myUnion = n, P._unionName = n._name, P._unionBadge = n._badge, P._unionWord = n._word, P._unionType = n._joinType, n.sendUnionDirty(), n.sendUnionResDirty())
                }, e.prototype.getMyUnion = function () {
                    return this._myUnion
                }, e.prototype.getMyGroup = function () {
                }, e.prototype.getGroups = function () {
                }, e.prototype.addMember = function (e) {
                    var t = this._myUnion;
                    o.lc.V(t) && t.addMember(e)
                }, e.prototype.removeMember = function (e, t) {
                    void 0 === t && (t = !1);
                    var n = this._myUnion;
                    o.lc.V(n) && (n.removeMember(e), e == P._id ? (P._unionId = 0, P._playerMessage.clearUnion(), P.setUnionFundValid(!1), o.lc.Dispatcher.dispatchEvent(r.Data.Event.union_fund_dirty), this.clear(), this.sendExitUnionDirty(), t && l.ToastManager.push(_.lcStr(s.STR.UNION_BE_KICKED_OUT), 0, !1)) : n._impeach[e] = null)
                }, e.prototype.upgrade = function (e) {
                    void 0 === e && (e = !1);
                    var t = this._myUnion;
                    if (o.lc.V(t)) if (e) {
                        if (t._level >= r.Data._globalInfo._unionLevel.length) return r.Data.ErrorType.union_level_max;
                        if (t._act < t.getLevelupAct()) return r.Data.ErrorType.need_more_union_act
                    } else t.upgrade(), o.lc.Dispatcher.dispatchEvent(r.Data.Event.union_level_upgrade);
                    return r.Data.ErrorType.ok
                }, e.prototype.upgradeTech = function (e) {
                    return r.Data.ErrorType.ok
                }, e.prototype.getTech = function (e) {
                    return [null, null]
                }, e.prototype.getTechVal = function (e) {
                    return 0
                }, e.prototype.addMyHire = function (e) {
                }, e.prototype.removeMyHire = function (e) {
                }, e.prototype.startHireSchedule = function () {
                }, e.prototype.stopHireSchedule = function () {
                }, e.prototype.canOperate = function (e) {
                    if (P._unionId > 0) {
                        var t = Math.floor(e / 100);
                        if (P._unionJob >= t) return r.Data.ErrorType.ok;
                        if (t == r.Data.UnionJob.leader) return r.Data.ErrorType.leader_operate;
                        if (t == r.Data.UnionJob.elder) return r.Data.ErrorType.elder_operate;
                        if (t == r.Data.UnionJob.rookie) return r.Data.ErrorType.rookie_operate
                    }
                    return r.Data.ErrorType.union_operate
                }, e.prototype.getSearchUnions = function () {
                    var e = [];
                    for (var t in this._searchUnions) {
                        var n = this._searchUnions[t];
                        e.push(n)
                    }
                    return e
                }, e.prototype.getRecommandUnions = function () {
                    var e = [];
                    for (var t in this._recommandUnions) {
                        var n = this._recommandUnions[t];
                        e.push(n)
                    }
                    return e
                }, e.prototype.getMaxResource = function (e) {
                    var t = this._myUnion;
                    return null == t ? 0 : e == r.Data.ResType.union_act ? r.Data._globalInfo._unionLevelupExp[t._level - 1] : void 0
                }, e.prototype.isReachMaxResource = function (e, t) {
                    if (null == this._myUnion) return !0
                }, e.prototype.changeResource = function (e, t) {
                    var n = this._myUnion;
                    if (null != n) if (e == r.Data.ResType.union_gold) {
                        var a = this.getMaxResource(e), i = n._gold + t;
                        i >= 0 && (i > a && (i = a), n._gold = i, n.sendUnionResDirty(e))
                    } else if (e == r.Data.ResType.union_wood) {
                        a = this.getMaxResource(e);
                        var o = n._wood + t;
                        o >= 0 && (o > a && (o = a), n._wood = o, n.sendUnionResDirty(e))
                    } else if (e == r.Data.ResType.union_act) {
                        var _ = n._act + t;
                        _ >= 0 && (n._act = _, n.sendUnionResDirty(e), this.upgrade(!0) == r.Data.ErrorType.ok && this.upgrade(!1))
                    }
                }, e.prototype.sendSearchUnionsDirty = function () {
                    r.Data.Event.union_search_dirty.dispatchEvent()
                }, e.prototype.sendRecommandUnionsDirty = function () {
                    r.Data.Event.union_recommand_dirty.dispatchEvent()
                }, e.prototype.sendEnterUnionDirty = function () {
                    r.Data.Event.union_enter_dirty.dispatchEvent()
                }, e.prototype.sendExitUnionDirty = function () {
                    r.Data.Event.union_exit_dirty.dispatchEvent()
                }, e.prototype.sendEditUnionDirty = function () {
                    r.Data.Event.union_edit_dirty.dispatchEvent()
                }, e.prototype.sendHookDirty = function () {
                    r.Data.Event.union_hook_dirty.dispatchEvent()
                }, e.prototype.sendCardDirty = function () {
                    r.Data.Event.union_card_dirty.dispatchEvent()
                }, e.prototype.sendtaskDirty = function () {
                    r.Data.Event.union_task_dirty.dispatchEvent()
                }, e.prototype.sendlendinfoDirty = function () {
                    r.Data.Event.union_lendinfo_dirty.dispatchEvent()
                }, e.prototype.sendlendDirty = function () {
                    r.Data.Event.union_lend_dirty.dispatchEvent()
                }, e.prototype.sendrecallDirty = function () {
                    r.Data.Event.union_recall_dirty.dispatchEvent()
                }, e.prototype.onMsg = function (e) {
                    var t = e.type;
                    e.status;
                    switch (t) {
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MINE:
                            var n = e.getExtensions_Union_pb_SglUnionMsg_union_mine_resp();
                            return this.initMyUnionMsg(n), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_EDIT:
                            return l.ToastManager.push(_.lcStr(s.STR.SUCCESS) + p.lcAppCfg.breakCharacter() + _.lcStr(s.STR.CHANGE) + p.lcAppCfg.breakCharacter() + _.lcStr(s.STR.UNION) + p.lcAppCfg.breakCharacter() + _.lcStr(s.STR.INFO)), this.sendEditUnionDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_CREATE:
                            var a = e.getExtensions_Union_pb_SglUnionMsg_union_create_resp();
                            return P._unionId = a.info.id, P._unionJob = r.Data.UnionJob.leader, P.changeResource(r.Data.ResType.ingot, -r.Data._globalInfo._createUnionIngot), this.initBase(a), this.sendEnterUnionDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ON_HOOK:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DO_TASK:
                            return this._taskList = e.getExtensions_Union_pb_SglUnionMsg_union_task_info_resp(), this.sendHookDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SHARE_CARD_INFO:
                            n = e.getExtensions_Union_pb_SglUnionMsg_union_share_card_list_resp();
                            return this._ShareCardList = n, this.sendCardDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SUBMIT_TASK:
                            n = e.getExtensions_Union_pb_SglUnionMsg_union_submit_task_resp();
                            for (var d = [], h = 0; h < n.resource.length; ++h) P.changeResource(n.resource[h].info_id, n.resource[h].num), d.push({
                                info_id: n.resource[h].info_id,
                                num: n.resource[h].num
                            });
                            f.RewardPanel.create(d, f.RewardPanel.MODE_CHEST).show();
                            var m = P._playerUnion._taskList.union_task_info;
                            for (h = 0; h < m.length; ++h) m[h].id == n.task_id && m[h];
                            return this.sendtaskDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEND_CARD_INFO:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEND_CARD:
                            return this._lendCardList = e.getExtensions_Union_pb_SglUnionMsg_union_lend_card_info_resp(), this.sendlendinfoDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RECALL_CARD:
                            n = e.getExtensions_Union_pb_SglUnionMsg_union_recall_card_resp();
                            return P.changeResource(n.recall_rescource.info_id, n.recall_rescource.num), f.RewardPanel.create([{
                                info_id: n.recall_rescource.info_id,
                                num: n.recall_rescource.num
                            }], f.RewardPanel.MODE_CHEST).show(), this._lendCardList = n.lend_card_list, this.sendrecallDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_JOIN:
                            a = e.getExtensions_Union_pb_SglUnionMsg_union_join_resp();
                            return P._unionId = a.info.id, P._unionJob = r.Data.UnionJob.rookie, this.initBase(a), this.sendEnterUnionDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEAVE:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_KICKOUT:
                            return this.removeMember(P._id, t == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_KICKOUT), P._unionDevote = Math.floor(P._unionDevote / 2), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SEARCH:
                            if (this._searchUnions = {}, n = e.getExtensions_Union_pb_SglUnionMsg_union_search_resp()) for (h = 0; h < n.length; h++) {
                                a = i.Union.create(n[h]);
                                o.lc.V(a) && (this._searchUnions[a._id] = a)
                            }
                            return this.sendSearchUnionsDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RECOMMEND:
                            if (this._recommandUnions = {}, n = e.getExtensions_Union_pb_SglUnionMsg_union_recommend_resp()) for (h = 0; h < n.length; h++) {
                                a = i.Union.create(n[h]);
                                o.lc.V(a) && (this._recommandUnions[a._id] = a)
                            }
                            return this.sendRecommandUnionsDirty(), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_REFRESH:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_REFRESH_EX:
                            n = e.getExtensions_Union_pb_SglUnionMsg_union_refresh_resp();
                            return this.init(n), !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LET:
                            a = this._myUnion;
                            return !0;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_UNLET:
                            if (a = this._myUnion) e.getExtensions_Union_pb_SglUnionMsg_union_unlet_resp();
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_UNLOCK:
                            a = this._myUnion;
                            if (o.lc.V(a) && o.lc.V(this._hasDetailInfo)) {
                                var y = e.getExtensions_Union_pb_SglUnionMsg_union_boss_unlock_resp();
                                a.unlockBoss(y)
                            }
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_DAMAGE:
                            a = this._myUnion;
                            o.lc.V(a) && o.lc.V(this._hasDetailInfo);
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_FOCUS:
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_KILL:
                            a = this._myUnion;
                            if (o.lc.V(a) && o.lc.V(this._hasDetailInfo)) {
                                var T = e.getExtensions_Union_pb_SglUnionMsg_union_boss_kill_resp();
                                for (h = 0; h < T.length; h++) {
                                    var S = T[h];
                                    P.addResource(S.info_id, null, S.num, null)
                                }
                            }
                            P._playerRank.clearRank(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME);
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_FUND_GIVEN:
                            P.givenUnionFund(), o.lc.Dispatcher.dispatchEvent(r.Data.Event.union_fund_dirty);
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MESSAGE:
                            var C = this._myUnion;
                            if (o.lc.V(C)) {
                                var v = function (e, t) {
                                    var n = C.findMember(e);
                                    o.lc.V(n) && (n._unionJob = t, P._id == e && (P._unionJob = t), n.sendUserDirty())
                                }, b = e.getExtensions_Union_pb_SglUnionMsg_union_message_resp();
                                for (h = 0; h < b.length; h++) {
                                    var E = b[h], I = E.type, A = E.user1.id, R = void 0;
                                    if (null != E.user2 && (R = E.user2.id), I == Union_pb.UnionMessageType.PB_UNION_JOIN) this.addMember(c.User.create(E.user1)); else if (I == Union_pb.UnionMessageType.PB_UNION_KICKOUT) this.removeMember(R), parseInt(A) == P._id && l.ToastManager.push(_.lcStr(s.STR.UNION_KICKOUT_SUCCESS)); else if (I == Union_pb.UnionMessageType.PB_UNION_LEAVE) this.removeMember(A); else if (I == Union_pb.UnionMessageType.PB_UNION_DONATE) r.Data.Event.union_donate_done.dispatchEvent(); else if (I == Union_pb.UnionMessageType.PB_UNION_TO_MEMBER || I == Union_pb.UnionMessageType.PB_UNION_TO_CO_LEADER) v(R, E.user2.union_title), parseInt(A) == P._id && l.ToastManager.push(_.lcStr(s.STR.CHANGE_JOB_SUCCESS)); else if (I == Union_pb.UnionMessageType.PB_UNION_TO_LEADER) v(A, E.user1.union_title), C._impeach = {}; else if (I == Union_pb.UnionMessageType.PB_UNION_RESIGN) v(A, E.user1.union_title), v(R, E.user2.union_title), C._impeach = {}; else if (I == Union_pb.UnionMessageType.PB_UNION_UPGRADE) this.upgrade(), parseInt(A) == P._id && g.LevelUpPanel.createUnion(C._level - 1, C._level).show(); else if (I == Union_pb.UnionMessageType.PB_UNION_TECH_UPGRADE) ; else if (I == Union_pb.UnionMessageType.PB_UNION_IMPEACH) C._impeach[A] = !0; else if (I == Union_pb.UnionMessageType.PB_UNION_UNIMPEACH) C._impeach[A] = null; else if (I == Union_pb.UnionMessageType.PB_UNION_IMPEACHED) v(A, E.user1.union_title); else if (I == Union_pb.UnionMessageType.PB_UNION_ADD_EXP) for (var B = E.resource, N = 0; N < B.length; ++N) {
                                        var D = B[N];
                                        this.changeResource(D.info_id, D.num)
                                    }
                                }
                            }
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUERY_INFO:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_CREATE_TEAM:
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_START:
                            break;
                        case SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUIT_TEAM:
                            u.ClientView.getActiveIndicator().hide(), this._groupId = null, this._groupJob = null, this._myGroup = null, o.lc.Dispatcher.dispatchEvent(r.Data.Event.union_group_dirty)
                    }
                    return !1
                }, e.prototype.createGroup = function (e, t) {
                    d.UnionWarPart.sendCreateGroup(e, t)
                }, e.prototype.joinGroup = function (e) {
                    d.UnionWarPart.sendGroupJoin(e)
                }, e.prototype.exitGroup = function () {
                    d.UnionWarPart.sendExitGroup(this._groupId)
                }, e.prototype.initGroups = function (e) {
                }, e.prototype.getUnionUpgradeExp = function () {
                    var e = this._myUnion, t = !1, n = -1;
                    return e._level >= this.getUnionMaxLevel() ? t = !0 : n = r.Data._globalInfo._unionLevelupExp[e._level + 1 - 1] - e._act, [t, n]
                }, e.prototype.getUnionMaxLevel = function () {
                    return r.Data._globalInfo._unionLevelupExp.length
                }, e.prototype.canDailyDonate = function () {
                    return P._dailyDonate < r.Data._globalInfo._dailyDonateCount
                }, e.prototype.getCompleteUnionTaskNum = function () {
                    if (null == P._playerUnion._taskList) return 0;
                    for (var e = 0, t = 0; t < P._playerUnion._taskList.union_task_info.length; t++) 1 == P._playerUnion._taskList.union_task_info[t].union_task.is_taken && 0 == P._playerUnion._taskList.union_task_info[t].union_task.is_finish && e++;
                    return e
                }, e.prototype.getCompleteUnionLetNum = function () {
                    if (0 == P._playerUnion._lendCardList.length) return 0;
                    for (var e = 0, t = 0; t < P._playerUnion._lendCardList.length; t++) {
                        var n = P._playerUnion._lendCardList[t].lend_time / 1e3;
                        (h.TimeUtil.getCurrentTime() - n) / 3600 > 1 && e++
                    }
                    return e
                }, e
            }();
        n.PlayerUnion = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../part/UnionWarPart": "UnionWarPart",
        "../../ui/panel/LevelUpPanel": "LevelUpPanel",
        "../../ui/panel/RewardPanel": "RewardPanel",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/TimeUtil": "TimeUtil",
        "../Social/User": "User",
        "../data": "data",
        "./Union": "Union"
    }],
    PlayerWorld: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f46e2Eb2AtObZRQcJruAPH0", "PlayerWorld"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../../nox"), o = e("../../utils/TimeUtil"), r = e("../../part/WorldPart"),
            _ = function () {
                function e() {
                    this._exploreList = []
                }

                return e.prototype.clear = function () {
                }, e.prototype.init = function (e) {
                    this._curLevel = [];
                    for (var t = 0; t < e.cur_levels.length; t++) this._curLevel[t] = e.cur_levels[t];
                    this._dailyExploreTimes = e.daily_explore_times, this._dailyPvpTimes = e.daily_pvp_times, this._exploreList = [];
                    for (var n = 0; n < e.explores.length; n++) this.addExploreInfo(a.Data.pb2ExploreInfo(e.explores[n]));
                    this._lastUsedBallId = e.last_used_ball_id, 0 == this._lastUsedBallId && (this._lastUsedBallId = a.Data.PropsId.ball_begin + 1)
                }, e.prototype.getExploreInfo = function (e) {
                    for (var t = 0; t < this._exploreList.length; t++) if (this._exploreList[t]._levelId == e) return this._exploreList[t]
                }, e.prototype.addExploreInfo = function (e) {
                    this._exploreList.push(e)
                }, e.prototype.removeExploreInfo = function (e, t) {
                    for (var n = 0; n < this._exploreList.length; n++) if (this._exploreList[n]._levelId == e) return void (t ? this._exploreList.splice(n, 1) : this._exploreList[n]._monsterId = 0)
                }, e.prototype.isMonsterCaptured = function (e, t) {
                    if (null == this.getExploreInfo(e)) return !1;
                    for (var n = this.getExploreInfo(e)._meetRecords, a = 0; a < n.length; a++) if (n[a] == t) return !0;
                    return !1
                }, e.prototype.getChapterCapturingCount = function (e) {
                    for (var t = 0, n = 0; n < this._exploreList.length; n++) this.getChapterId(this._exploreList[n]._levelId) == e && this.isCapturing(this._exploreList[n]) && (t += 1);
                    return t
                }, e.prototype.getChapterProgress = function (e, t) {
                    for (var n = 100 * e + t, o = 0, r = 0, _ = 0; _ < i.nox.tableSize(a.Data._levelInfo); _++) {
                        var s = a.Data._levelInfo[_];
                        Math.floor(s._id / 100) == n && (o += 1, s._id < this._curLevel[e - 1] && (r += 1))
                    }
                    return [o, r]
                }, e.prototype.isLevelPassed = function (e) {
                    return e < this._curLevel[0]
                }, e.prototype.isLevelLocked = function (e) {
                    return this._curLevel[0] < e
                }, e.prototype.isLevelCapturing = function (e) {
                    var t = this.getExploreInfo(e);
                    return null != t && this.isCapturing(t)
                }, e.prototype.getLevelRemainExploreTimes = function (e) {
                    return null == this.getExploreInfo(e) ? a.Data.DAILY_EXPLORE_TIMES : this._dailyExploreTimes
                }, e.prototype.isCapturing = function (e) {
                    return !(e._monsterId < 1e4) && (0 != e._maxCatchTimes && o.TimeUtil.getCurrentTime() < e._disappearTime)
                }, e.prototype.isChapterPassed = function (e) {
                    return e < this.getChapterId(this._curLevel[0])
                }, e.prototype.isChapterLocked = function (e) {
                    return this.getChapterId(this._curLevel[0]) < e
                }, e.prototype.getChapterId = function (e) {
                    return Math.floor(e % 1e4 / 100)
                }, e.prototype.getNextLevelId = function (e) {
                    var t = e + 1;
                    return null == a.Data._levelInfo[e + 1] && (t = 100 * (Math.floor(e / 100) + 1) + 1), t
                }, e.prototype.catch = function (e, t) {
                    this.getExploreInfo(e)._ballUseTimes[t] = (this.getExploreInfo(e)._ballUseTimes[t] || 0) + 1, r.WorldPart.sendWorldCatch(e, t)
                }, e.prototype.calCapturePossibility = function (e, t) {
                    var n = a.Data._catchRateInfo[t], i = a.Data._catchRateInfo[t]._ballType,
                        o = this.getExploreInfo(e)._monsterId;
                    return !this.getExploreInfo(e) || this.getExploreInfo(e)._monsterId < 1e4 ? 0 : (i == a.Data.getInfo(o)._nature && n["_quality" + a.Data.getInfo(o)._quality][0] || n["_quality" + a.Data.getInfo(o)._quality][1]) + (this.getExploreInfo(e)._ballUseTimes[t] || 0) * n["_quality" + a.Data.getInfo(o)._quality][2]
                }, e
            }();
        n.PlayerWorld = _, cc._RF.pop()
    }, {
        "../../../nox": "nox",
        "../../part/WorldPart": "WorldPart",
        "../../utils/TimeUtil": "TimeUtil",
        "../data": "data"
    }],
    Player: [function (require, module, exports) {
        "use strict";
        cc._RF.push(module, "f4e8dmIP4dCTpNYquMsgyyj", "Player"), Object.defineProperty(exports, "__esModule", {value: !0});
        var PlayerCard_1 = require("./Card/PlayerCard"), PlayerCity_1 = require("./City/PlayerCity"),
            PlayerWorld_1 = require("./World/PlayerWorld"), PlayerKillBoss_1 = require("./World/PlayerKillBoss"),
            PlayerBonus_1 = require("./Bonus/PlayerBonus"), PlayerAchieve_1 = require("./Achievement/PlayerAchieve"),
            PlayerMarket_1 = require("./Market/PlayerMarket"), PlayerMessage_1 = require("./Social/PlayerMessage"),
            PlayerMail_1 = require("./Social/PlayerMail"), PlayerLog_1 = require("./Log/PlayerLog"),
            PlayerRank_1 = require("./Rank/PlayerRank"), PlayerExpedition_1 = require("./World/PlayerExpedition"),
            PlayerUnion_1 = require("./Union/PlayerUnion"), PlayerActivity_1 = require("./Activity/PlayerActivity"),
            PropBag_1 = require("./Prop/PropBag"), PlayerRoom_1 = require("./Room/PlayerRoom"),
            PlayerFindClash_1 = require("./Find/PlayerFindClash"), PlayerSeason_1 = require("./World/PlayerSeason"),
            PlayerFindDuelCity_1 = require("./Find/PlayerFindDuelCity"),
            PlayerSkinShop_1 = require("./SkinShop/PlayerSkinShop"),
            PlayerFindLadder_1 = require("./Find/PlayerFindLadder"),
            PlayerFindUnionBattle_1 = require("./Find/PlayerFindUnionBattle"),
            PlayerFindNewClash_1 = require("./Find/PlayerFindNewClash"), User_1 = require("./Social/User"),
            Union_1 = require("./Union/Union"), Mail_1 = require("./Social/Mail"), lc_1 = require("../../leocool/lc"),
            data_1 = require("./data"), TimeUtil_1 = require("../utils/TimeUtil"), nox_1 = require("../../nox"),
            toNumber = nox_1.nox.toNumber, ConfigKey_1 = require("../const/ConfigKey"),
            LoginData_1 = require("../utils/LoginData"), lcAppCfg_1 = require("../../leocool/lcAppCfg"),
            RechargeUtil_1 = require("../utils/RechargeUtil"), UserPart_1 = require("../part/UserPart"),
            lcStr_1 = require("../../leocool/lcStr"), MarqueeManager_1 = require("../MarqueeManager"),
            Player = function () {
                function Player() {
                    this._ingotDailyRecharge = 0, this._playerCard = new PlayerCard_1.PlayerCard, this._playerCity = new PlayerCity_1.PlayerCity, this._playerWorld = new PlayerWorld_1.PlayerWorld, this._playerKillBoss = new PlayerKillBoss_1.PlayerKillBoss, this._playerBonus = new PlayerBonus_1.PlayerBonus, this._playerAchieve = new PlayerAchieve_1.PlayerAchieve, this._playerMarket = new PlayerMarket_1.PlayerMarket, this._playerMessage = new PlayerMessage_1.PlayerMessage, this._playerMail = new PlayerMail_1.PlayerMail, this._playerLog = new PlayerLog_1.PlayerLog, this._playerRank = new PlayerRank_1.PlayerRank, this._playerExpedition = new PlayerExpedition_1.PlayerExpedition, this._playerUnion = new PlayerUnion_1.PlayerUnion, this._playerActivity = new PlayerActivity_1.PlayerActivity, this._propBag = new PropBag_1.PropBag, this._playerRoom = new PlayerRoom_1.PlayerRoom, this._playerFindClash = new PlayerFindClash_1.PlayerFindClash, this._playerFindLadder = new PlayerFindLadder_1.PlayerFindLadder, this._playerFindUnionBattle = new PlayerFindUnionBattle_1.PlayerFindUnionBattle, this._playerFindDuelCity = new PlayerFindDuelCity_1.PlayerFindDuelCity, this._playerFindNewClash = new PlayerFindNewClash_1.PlayerFindNewClash, this._playerSkinShop = new PlayerSkinShop_1.PlayerSkinShop, this._playerSeason = new PlayerSeason_1.PlayerSeason, window.P = this
                }

                return Player.createSingleton = function () {
                    new Player
                }, Player.prototype.clear = function () {
                    this.stopPlayerScheduler(), this.stopMaintenceSchedule(), this._playerCard.clear(), this._playerCity.clear(), this._playerWorld.clear(), this._playerKillBoss.clear(), this._playerBonus.clear(), this._playerAchieve.clear(), this._playerMarket.clear(), this._playerMessage.clear(), this._playerMail.clear(), this._playerLog.clear(), this._playerRank.clear(), this._playerExpedition.clear(), this._playerUnion.clear(), this._playerActivity.clear(), this._propBag.clear(), this._playerRoom.clear(), this._playerFindClash.clear(), this._playerFindNewClash.clear(), this._playerSkinShop.clear(), this._id = null, this._guideID = null, this._dailyActive = null, this._weeklyActive = null, this._inviteCode = null, this._invitedCode = null, this._hasEnterCity = null, this._CustomActivity = null, this.xls_activity = [], this.jizi_activity = [], this.zhuanpan_activity = null, this.dianfengdoublegift = null, this._birthdayCakeData = null, this._anniversaryWheelData = null, this.womensday_activity_wheel = null, this._daliy_card_open = null, this.newServerDiscount = null, this._cardOnlyDisplaysInfo = null, this._seven_recharge = null, this._Clash_Seal_Bottle = null, User_1.User.Users = {}, Union_1.Union.Unions = {}, Mail_1.Mail.Mails = {}, MarqueeManager_1.MarqueeManager.release()
                }, Player.prototype.init = function (e) {
                    MarqueeManager_1.MarqueeManager.init(), this._id = e.user_info.id, this._Medal_Shop_Activity = e.attach.shop.buy_medal_shop, this._cardOnlyDisplaysInfo = !1, this.save_recovery_cardId = e.attach.shop.recover_info_id, this.save_recovery_price = e.attach.shop.recovery_price, this.save_recovery_debris = e.attach.shop.debris_recovery, this.parseBuyCounts(e.attach.iap_type), this.parseBuyTimes(e.attach.iap_type), this._CustomActivity = e.payment_activity, cc.log(this._CustomActivity), this._Custon_Limit_Time_Array = e.time_limit_card, this.xls_activity = e.xls_activity, this.lz_activity = e.activity, this._rodRewardActivity = [];
                    for (var t = 0; t < this.lz_activity.length; ++t) {
                        var n = this.lz_activity[t];
                        1922 == n.activity_type ? this._rodRewardActivity.push(n) : 730 == n.id || 731 == n.id || 732 == n.id || n.id == data_1.Data.ActivityId.valentine_rose || 733 == n.id || n.id == data_1.Data.ActivityId.newyearecharge || n.id == data_1.Data.ActivityId.anniversary_redPacket || (n.id == data_1.Data.ActivityId.birthday_cake ? this._birthdayCakeData = n : n.id == data_1.Data.ActivityId.anniversary_wheel ? this._anniversaryWheelData = n : n.id == data_1.Data.ActivityId.daily_card_open ? this._daliy_card_open = n : n.id != data_1.Data.ActivityId.jizi_1 && n.id != data_1.Data.ActivityId.jizi_2 || (this.jizi_activity[n.id] = n))
                    }
                    this._Custom_Piece_Activity = [], this._Preferential_Array = e.card.month_cards, this._shop = e.attach.shop, this._Clash_Seal_Bottle = e.attach.prop.use_seal_bottle, this.month_card_month = e.user_count.month_card_month, this.month_card_ex_month = e.user_count.month_card_ex_month, this._ingotDailyRecharge = e.user_count.daily_charge, this._sid = string.format("%d+%s", LoginData_1.LoginData._userRegion._id, this._id), LoginData_1.LoginData.initConfig(nox_1.nox.toString(this._id)), this._unionId = e.user_info.union_id, this._unionJob = e.user_info.union_title, this._roomId = 0, this._roomJob = data_1.Data.RoomJob.rookie, this.hasUnion(), this._name = e.user_info.name, this._exp = e.user_info.exp, this._level = e.user_info.level, this._vip = e.user_info.vip, this._vipExp = e.user_info.vip_exp, this._trophy = e.user_info.trophy, this._avatar = e.user_info.avatar, this._loginTime = e.user_info.last_login / 1e3, this._regTime = e.user_info.reg_date / 1e3, this._timeOffset = e.time_offset / 1e3, this._initialCharacter = e.user_info.initial_character, this._privilege = e.user_info.privilege, this._canBind = e.can_bind, this._badge = e.user_info.badge, this._functionSwitch = 0, e.hasOwnProperty("function_switch") && (this._functionSwitch = e.function_switch), e.user_info.hasOwnProperty("code") && (this._invitedCode = e.user_info.code), this._inviteIngot = e.user_count.invite_charge, this._inviteCount = e.user_count.invite_count, this._lastLogin = lc_1.lc.readConfig(ConfigKey_1.ConfigKey.last_login, this._loginTime.toString()), lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.last_login, Math.floor(this._loginTime)), this._dayOfMonth = TimeUtil_1.TimeUtil.getServerDate()[1], this._gold = e.user_info.gold, this._grain = e.user_info.grain, this._ingot = e.user_info.ingot, this._binding_ingot = e.user_info.binding_ingot, this._unionDevote = e.user_info.union_devote, this._achievePoint = e.user_info.achievement, this._highestPower = 0, this._guideID = lcAppCfg_1.lcAppCfg.isEnableGuide() ? e.user_info.guide : 500, this._guideDifficultyID = e.user_info.guide1, this._guideRecruiteID = e.user_info.guide2, 0 == this._guideDifficultyID && (this._guideDifficultyID = 10001), 0 == this._guideRecruiteID && (this._guideRecruiteID = 20001), this._defTroopIndex = e.user_info.def_troop, this._pvpWinTotal = e.user_battle.total_pvp_win, this._pvpTotal = this._pvpWinTotal + e.user_battle.total_pvp_lose, this._pvpWinDaily = e.user_battle.daily_pvp_win, this._pvpDaily = this._pvpWinDaily + e.user_battle.daily_pvp_lose, this._dailyClashWin = e.user_battle.daily_ladder_win, this._dailyClashTotalWin = e.user_battle.daily_ladder_contWin, this._ladderContWin = e.user_battle.ladder_cont_win, this._ladderContLose = e.user_battle.ladder_cont_lose, this._dailyNewClashWin = e.user_battle.daily_ladder_ex_contWin, this._dailyNewClashTotalWin = e.user_battle.daily_ladder_ex_totalWin, this._newClashContWin = e.user_battle.daily_ladder_ex_contMaxWin, this._lotteryNextFree = [];
                    for (t = 0; t < e.user_lottery.next_free.length; ++t) this._lotteryNextFree[t] = e.user_lottery.next_free[t] / 1e3;
                    if (this._bookLotteryQuality = e.user_lottery.next_quality, this._legendBoxOpenTimes = e.user_lottery.nchest, this._legendBoxOpenRemainTimes = e.user_lottery.nchest_ex, this._bloodJade = e.user_lottery.point, this._dailyBuyOrangeHeroFBox = e.user_count.buy_chest1, this._dailyBuyPurpleHeroFBox = e.user_count.buy_chest2, this._dailyBuyOrangeHorseFBox = e.user_count.buy_chest3, this._dailyBuyPurpleHorseFBox = e.user_count.buy_chest4, this._dailyBuyHeroExp = e.user_count.buy_hero_exp, this._dailyBuyEquipExp = e.user_count.buy_equip_exp, this._dailyBuyHorseExp = e.user_count.buy_horse_exp, this._dailyBuyBookExp = e.user_count.buy_book_exp, this._dailyBuyStone = e.user_count.buy_stone, this._dailyBuyRemedy = e.user_count.buy_remedy, this._dailyBuyGold = e.user_count.buy_gold, this._dailyBuyGrain = e.user_count.buy_grain, this._dailyBuyRefresh = e.user_count.buy_refresh, this._dailyBuyRefreshPvp = e.user_count.buy_refresh_pvp, this._dailyBuyRefreshUnion = e.user_count.buy_refresh_union, this._dailyBuyRefreshLadder = e.user_count.buy_refresh_ladder, this._dailyBuyCopyExpedition = e.user_count.buy_expedition, this._dailyBuyCopyElite = e.user_count.buy_elite, this._dailyBuyCopyBoss = e.user_count.buy_rob_exp, this._dailyBuyCopyCommander = e.user_count.buy_commander, this._dailyCopyBoss = e.user_count.rob_gold, this._dailyDonate = (128 & e.user_count.donate) / 128, this._dailyIngotDonate = 127 & e.user_count.donate, this._dailyWorship = e.user_count.worship, this._dailyChallengeElite = e.user_count.challenge_elite, this._dailyChallengeCommander = e.user_count.challenge_commander, this._dailyTrophy = e.user_count.trophy, this._dailyExpedition = e.user_count.expedition, this._dailySendMail = e.user_count.send_mail, this._dailyNextSpawn = e.user_count.next_spawn / 1e3, this._dailyCollectedGold = e.user_count.collect_gold, this._dailyWorldBoss = e.user_count.atk_boss, this._dailyBuyWorldBoss = e.user_count.buy_atk_boss, this._worldBossScore = e.user_battle.boss_score, this._dailyResetLadder = e.user_count.reset_ladder, this._nextCityHelp = e.user_count.next_sos / 1e3, this._monthlyRecheck = e.user_count.re_check, this._serverOpenTimestamp = e.open_time / 1e3, this._newRegionCloseTimestamp = this._serverOpenTimestamp + data_1.Data.NEW_REGION_DAYS * data_1.Data.DAY_SECONDS, this._unionFundFlag = e.user_count.welfare, this._changeNameCount = e.user_count.edit_name, this._nextShareBattle = e.user_count.next_share / 1e3, this._nextChat = e.user_count.next_chat / 1e3, this._nextCopyPvp = e.user_count.next_find / 1e3, this._unlockCopyPvpTimes = e.user_count.buy_refresh_find, this._dailyCopyPvpTimes = e.user_count.atk_player, e.user_count.month_card / 1e3 > this._loginTime ? this._monthCardDay1 = Math.ceil((e.user_count.month_card / 1e3 - this._loginTime) / data_1.Data.DAY_SECONDS) : this._monthCardDay1 = 0, e.user_count.month_card_ex / 1e3 > this._loginTime ? this._monthCardDay2 = Math.ceil((e.user_count.month_card_ex / 1e3 - this._loginTime) / data_1.Data.DAY_SECONDS) : this._monthCardDay2 = 0, e.user_count.month_card_diamond / 1e3 > this._loginTime ? this._monthCardDay3 = Math.ceil((e.user_count.month_card_diamond / 1e3 - this._loginTime) / data_1.Data.DAY_SECONDS) : this._monthCardDay3 = 0, this._systemAnnouncement = [], e.announcement.length > 0) {
                        var a = JSON.parse(e.announcement);
                        for (t = 0; t < a.length; ++t) {
                            var i = a[t];
                            this._systemAnnouncement.push({
                                _title: i.title,
                                _content: i.content,
                                _timestamp: e.time_of_ann / 1e3
                            })
                        }
                    }
                    for (t = 0; t < this._systemAnnouncement.length; ++t) {
                        var o = this._systemAnnouncement[t];
                        o._content = o._content.replace(/(\\n)/g, "\n")
                    }
                    for (var t in this._characters = {}, data_1.Data._characterInfo) {
                        var r = toNumber(t), _ = {_id: r, _level: 0, _exp: 0, _avatar: 100 * r + 1};
                        this._characters[r] = _
                    }
                    if (e.attach.characters) for (t = 0; t < e.attach.characters.length; ++t) {
                        var s = e.attach.characters[t];
                        _ = {_id: s.id, _level: s.level, _exp: s.exp, _avatar: s.avatar};
                        this._characters[_._id] = _
                    }
                    this._playerUnion._lendCardList = e.card.lend_cards, this._playerBonus.init(e.attach.bonus), this._playerActivity.init(e.attach.activity), this._playerFindLadder.init(e.attach.ladder), e.attach.city && this._playerFindDuelCity.init(e.attach.city), this._playerFindNewClash.init(e.user_count.buy_ladder_ex_ticket), this._playerCard.init(e.card), this._playerCity.init(e.city), this._playerWorld.init(e.world), this._playerKillBoss.init(e.attach.shop.reset_kill_boss, e.attach.shop.kill_boss, e.attach.shop.kill_boss_log), this._playerSeason.init(e.user_info.season_status), this._propBag.init(e.attach.prop), this._newProp = e.attach.prop.new_props, this._troopRemarks = [];
                    for (t = 0; t < e.attach.prop.marks.length; ++t) {
                        var c = e.attach.prop.marks[t];
                        this._troopRemarks.push(c)
                    }
                    if (this._playerMarket.init(e.attach.shop), this._playerAchieve.initMainTask(), this._playerAchieve.initActivityTask(), null != e.union && this._playerUnion.initBase(e.union), this._avatarFrameId = e.user_info.avatar_frame, 0 == this._avatarFrameId && (this._avatarFrameId = this._propBag.validPropId(data_1.Data.PropsId.avatar_frame)[1]), this._cardBackId = e.user_info.card_back, 0 == this._cardBackId && (this._cardBackId = data_1.Data.PropsId.card_back), this._crown = null, null != e.user_info.crown && (this._crown = {
                        _infoId: e.user_info.crown.info_id,
                        _num: e.user_info.crown.num
                    }), e.attach.copy.copies) for (t = 0; t < e.attach.copy.copies.length; ++t) {
                        var l = e.attach.copy.copies[t];
                        this._copyPassTimes[l.id] = l.value, this._copyScore[l.id] = l.score
                    }
                    if (this._chatBanList = {}, e.ban_chat) for (t = 0; t < e.ban_chat.length; ++t) {
                        var d = e.ban_chat[t];
                        this._chatBanList[d] = !0
                    }
                    if (this._curTroopIndex = lc_1.lc.readConfig(ConfigKey_1.ConfigKey.cur_troop, "1"), (this._curTroopIndex < 1 || this._curTroopIndex > this.getUnlockTroopNumber()) && (this._curTroopIndex = 1, lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.cur_troop, this._curTroopIndex)), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_city) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_city, this._level), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_split) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_split, this._level), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_equip) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_equip, this._level), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_herocenter) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_herocenter, this._level), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_battle) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_battle, this._level), null == lc_1.lc.readConfig(ConfigKey_1.ConfigKey.lock_level_vip) && lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.lock_level_vip, this._level), "ASDK" == lcAppCfg_1.lcAppCfg.getChannelName()) {
                        var p = {subChannel: lcAppCfg_1.lcAppCfg.getSubChannelName(), day: P.getDayDiff()};
                        UserPart_1.UserPart.sendUserEvent(p)
                    }
                }, Player.prototype.hasUnion = function () {
                    return null != this._unionId && this._unionId > 0
                }, Player.prototype.scheduler = function (e) {
                    this._playerRank.scheduler(e)
                }, Player.prototype.stopPlayerScheduler = function () {
                }, Player.prototype.stopMaintenceSchedule = function () {
                }, Player.prototype.setCurrentTroopIndex = function (e, t) {
                    return void 0 === t && (t = !1), !(this._curTroopIndex == e && !t) && (!(e < 1 || e > this.getUnlockTroopNumber()) && (this._curTroopIndex = e, lc_1.lc.writeConfig(ConfigKey_1.ConfigKey.cur_troop, e + ""), !0))
                }, Player.prototype.hasPrivilege = function (e) {
                    return 0 != (this._privilege & e)
                }, Player.prototype.isUserAdmin = function () {
                    return this._privilege == (data_1.Data.Privilege.chat_ban | data_1.Data.Privilege.mail_free)
                }, Player.prototype.setUnionFundValid = function (e) {
                    this._unionFundFlag = e ? 2 | this._unionFundFlag : -3 | this._unionFundFlag
                }, Player.prototype.isUnionFundValid = function () {
                    return 0 != (2 & this._unionFundFlag)
                }, Player.prototype.givenUnionFund = function () {
                    this._unionFundFlag = 3 | this._unionFundFlag
                }, Player.prototype.getDayDiff = function () {
                    var e = Math.floor((this._regTime + 28800) / data_1.Data.DAY_SECONDS);
                    return Math.floor((this._loginTime + 28800) / data_1.Data.DAY_SECONDS) - e
                }, Player.prototype.getItemCount = function (e) {
                    var t = data_1.Data.getType(e);
                    if (t == data_1.Data.CardType.res) switch (e) {
                        case data_1.Data.ResType.gold:
                            return this._gold;
                        case data_1.Data.ResType.ingot:
                            return this._ingot;
                        case data_1.Data.ResType.binding_ingot:
                            return this._binding_ingot;
                        case data_1.Data.ResType.clash_trophy:
                            return this._playerFindClash._trophy;
                        case data_1.Data.ResType.new_clash_trophy:
                            return this._playerFindNewClash._trophy;
                        case data_1.Data.ResType.ladder_trophy:
                            return this._playerFindClash._ladderTrophy;
                        case data_1.Data.ResType.exp:
                            return this._exp;
                        case data_1.Data.ResType.ghost:
                            return lc_1.lc.D(this._playerActivity._ghost, 0);
                        case data_1.Data.ResType.blood_jade:
                            return this._bloodJade;
                        case data_1.Data.ResType.union_battle_trophy:
                            return this._playerUnion._battleTrophy;
                        case data_1.Data.ResType.union_devote:
                            return this._unionDevote;
                        default:
                            if (this.hasUnion()) {
                                var n = this._playerUnion.getMyUnion();
                                if (e == data_1.Data.ResType.union_act) return n._act;
                                if (e == data_1.Data.ResType.union_gold) return n._gold;
                                if (e == data_1.Data.ResType.union_wood) return n._wood
                            }
                    } else if (t == data_1.Data.CardType.props) return e >= data_1.Data.PropsId.special && (e == data_1.Data.PropsId.avatar_frame || e == data_1.Data.PropsId.card_back) ? 1 : lc_1.lc.V(this._propBag._props[e]) ? this._propBag._props[e]._num : 0;
                    return -1
                }, Player.prototype.getExchangeGold = function (e) {
                    return 9999 == e ? [520, 9999, null] : 4e3 == e ? [280, 4e3, null] : 1e4 == e ? [601, 1e4, null] : 3e3 == e ? [3e3, 3e3, data_1.Data.ResType.gold] : 6e3 == e ? [300, 6e3, null] : 6800 == e ? [680, 6800, null] : [data_1.Data._globalInfo._goldIngot[e - 1], data_1.Data._globalInfo._goldValue[e - 1], null]
                }, Player.prototype.getExchangeGrain = function () {
                    var e = this._dailyBuyGrain + 1;
                    return e > data_1.Data._globalInfo._grainIngot.length && (e = data_1.Data._globalInfo._grainIngot.length), [data_1.Data._globalInfo._grainIngot[e - 1], data_1.Data._globalInfo._grainValue[e - 1]]
                }, Player.prototype.getExchangeDust = function (e, t) {
                    return e == data_1.Data.PropsId.dust_monster ? [data_1.Data._globalInfo._dustMonsterIngot[t - 1], data_1.Data._globalInfo._dustMonsterValue[t - 1]] : e == data_1.Data.PropsId.dust_magic ? [data_1.Data._globalInfo._dustMagicIngot[t - 1], data_1.Data._globalInfo._dustMagicValue[t - 1]] : e == data_1.Data.PropsId.dust_rare ? [data_1.Data._globalInfo._dustRareIngot[t - 1], data_1.Data._globalInfo._dustRareValue[t - 1]] : e == data_1.Data.PropsId.dimension_bottle ? [data_1.Data._globalInfo._dimensionBottleIngot[t - 1], data_1.Data._globalInfo._dimensionBottleValue[t - 1]] : e == data_1.Data.PropsId.skin_crystal ? [data_1.Data._globalInfo._phantomCrystalIngot[t - 1], data_1.Data._globalInfo._phantomCrystalValue[t - 1]] : e == data_1.Data.PropsId.times_package_ticket ? [data_1.Data._globalInfo._dimensionLotteryTokenIngot[t - 1], data_1.Data._globalInfo._dimensionLotteryTokenValue[t - 1]] : e == data_1.Data.PropsId.explore_token ? [data_1.Data._globalInfo._sweepLevelTicketIngot[t - 1], data_1.Data._globalInfo._sweepLevelTicketValue[t - 1]] : e == data_1.Data.PropsId.ball_begin + 1 ? [data_1.Data._globalInfo._pokeBallNormalIngot[t - 1], data_1.Data._globalInfo._pokeBallNormalValue[t - 1]] : e == data_1.Data.PropsId.ball_begin + 2 ? [data_1.Data._globalInfo._pokeBallSuperIngot[t - 1], data_1.Data._globalInfo._pokeBallSuperValue[t - 1]] : e == data_1.Data.PropsId.ball_begin + 3 ? [data_1.Data._globalInfo._pokeBallHighIngot[t - 1], data_1.Data._globalInfo._pokeBallHighValue[t - 1]] : e == data_1.Data.PropsId.pvp_fragment ? [data_1.Data._globalInfo._battleProofIngot[t - 1], data_1.Data._globalInfo._battleProofValue[t - 1]] : [null, null]
                }, Player.prototype.buyGold = function (e) {
                    var t = this.getExchangeGold(e), n = t[0], a = t[1], i = t[2];
                    if ((i = lc_1.lc.D(i, data_1.Data.ResType.ingot)) == data_1.Data.ResType.ingot) {
                        if (!this.hasResource(i, n)) return data_1.Data.ErrorType.need_more_ingot
                    } else if (i == data_1.Data.ResType.gold && !this.hasResource(i, n)) return data_1.Data.ErrorType.need_more_gold;
                    return this.changeResource(data_1.Data.ResType.gold, a), this.changeResource(i, -n), data_1.Data.ErrorType.ok
                }, Player.prototype.buyGrain = function () {
                    var e = this.getExchangeGrain(), t = e[0];
                    e[1];
                    return this.hasResource(data_1.Data.ResType.ingot, t) ? (this.changeResource(data_1.Data.ResType.ingot, -t), data_1.Data.ErrorType.ok) : data_1.Data.ErrorType.need_more_ingot
                }, Player.prototype.buyDust = function (e, t) {
                    var n = this.getExchangeDust(e, t), a = n[0], i = n[1];
                    return this.hasResource(data_1.Data.ResType.ingot, a) ? (this._propBag.changeProps(e, i), this.changeResource(data_1.Data.ResType.ingot, -a), data_1.Data.ErrorType.ok) : data_1.Data.ErrorType.need_more_ingot
                }, Player.prototype.exchangeProps = function (e) {
                    var t = e._propsID, n = e._number, a = e._exchangeID, i = e._exchangeNum;
                    return this._propBag.hasProps(t, n) ? (this._propBag.changeProps(a, i), this._propBag.changeProps(t, -n), data_1.Data.ErrorType.ok) : data_1.Data.ErrorType.error
                }, Player.prototype.buyWeekPackage = function (e) {
                    if (!this.hasResource(data_1.Data.ResType.ingot, e._info._val)) return data_1.Data.ErrorType.need_more_ingot;
                    var t = e._info;
                    this.changeResource(data_1.Data.ResType.ingot, -t._val), this.addResources(t._rid, t._level, t._count, t._isFragment), e._isClaimed = !0;
                    for (var n = 0; n < this.xls_activity.length; n++) {
                        this.xls_activity[n].id, e._type
                    }
                    return e.sendBonusDirty(), data_1.Data.ErrorType.ok
                }, Player.prototype.hasResource = function (e, t) {
                    return void 0 === t && (t = 0), e == data_1.Data.ResType.gold ? this._gold >= t : e == data_1.Data.ResType.ingot || !lcAppCfg_1.lcAppCfg.isEnableBindingIngot() && e == data_1.Data.ResType.binding_ingot ? this._ingot >= t : e == data_1.Data.ResType.binding_ingot ? this._binding_ingot + this._ingot >= t : e == data_1.Data.ResType.ghost ? !!this._playerActivity._ghost && this._playerActivity._ghost >= t : e == data_1.Data.ResType.union_devote ? this._unionDevote >= t : e == data_1.Data.ResType.blood_jade ? this._bloodJade >= t : data_1.Data.getType(e) == data_1.Data.CardType.props && this._propBag.hasProps(e, t)
                }, Player.prototype.changeResource = function (e, t) {
                    if (0 != t) if (data_1.Data.isUnionRes(e)) this._playerUnion.changeResource(e, t); else if (e == data_1.Data.ResType.gold) {
                        var n = this._gold + t;
                        n >= 0 && (this._gold = n, this.sendGoldDirty())
                    } else if (e == data_1.Data.ResType.ingot && t >= 0) this._ingot += t, this.sendIngotDirty(); else if (e == data_1.Data.ResType.binding_ingot && t >= 0) this._binding_ingot += t, this.sendBindingIngotDirty(); else if (e == data_1.Data.ResType.ingot || !lcAppCfg_1.lcAppCfg.isEnableBindingIngot() && e == data_1.Data.ResType.binding_ingot) {
                        var a = this._ingot + t;
                        a >= 0 && (this._ingot = a, this.sendIngotDirty())
                    } else if (e == data_1.Data.ResType.binding_ingot) {
                        if (this._binding_ingot + this._ingot + t >= 0) {
                            var i = Math.min(-t, this._binding_ingot);
                            this._binding_ingot -= i;
                            var o = -t - i;
                            this._ingot -= o, 0 != i && this.sendBindingIngotDirty(), 0 != o && this.sendIngotDirty()
                        }
                    } else if (e == data_1.Data.ResType.ghost) {
                        if (this._playerActivity._ghost) {
                            var r = this._playerActivity._ghost + t;
                            r >= 0 && (this._playerActivity._ghost = r, this.sendGhostDirty())
                        }
                    } else if (e == data_1.Data.ResType.blood_jade) {
                        var _ = this._bloodJade + t;
                        _ >= 0 && (this._bloodJade = _, this.sendBloodJadeDirty())
                    } else if (e == data_1.Data.ResType.achieve_point) {
                        (s = this._achievePoint + t) >= 0 && (this._achievePoint = s, this.sendAchievePointDirty())
                    } else if (e == data_1.Data.ResType.union_personal_power) {
                        var s = this._dailyActive + t, c = this._weeklyActive + t;
                        s >= 0 && (this._dailyActive = s, this._weeklyActive = c, this.sendDailyActiveDirty(), P._playerBonus.updateNewSuitBagsBonus2(t))
                    } else if (e == data_1.Data.ResType.union_battle_trophy) {
                        var l = this._playerUnion._battleTrophy + t;
                        l = Math.max(l, 500), this._playerUnion._battleTrophy = l, this.sendUnionBattleTrophyDirty()
                    } else if (e == data_1.Data.ResType.union_devote) {
                        var d = this._unionDevote + t;
                        if (d >= 0) {
                            this._unionDevote;
                            this._unionDevote = d, this.sendUnionDevoteDirty()
                        }
                    }
                }, Player.prototype.addResourcesData = function (e) {
                    for (var t = {}, n = 0; n < e.length; n++) {
                        var a = e[n], i = this.addResource(a._infoId, a._level, a._count, a._isFragment, !0);
                        lc_1.lc.V(i) && (t[i] = !0)
                    }
                    for (var n in t) this._playerCard.sendCardListDirty(n)
                }, Player.prototype.addResources = function (e, t, n, a) {
                    for (var i = {}, o = Math.min(e.length, n.length), r = 0; r < o; ++r) {
                        var _ = this.addResource(e[r], t[r], n[r], a[r], !0);
                        lc_1.lc.V(_) && (i[_] = !0)
                    }
                    for (var s in i) {
                        var c = i[s];
                        this._playerCard.sendCardListDirty(c)
                    }
                }, Player.prototype.addResource = function (e, t, n, a, i) {
                    if (void 0 === a && (a = null), void 0 === i && (i = !1), data_1.Data.isUnionRes(e)) this._playerUnion.changeResource(e, n); else if (e == data_1.Data.ResType.gold || e == data_1.Data.ResType.ingot || e == data_1.Data.ResType.binding_ingot || e == data_1.Data.ResType.ghost || e == data_1.Data.ResType.blood_jade || e == data_1.Data.ResType.achieve_point || e == data_1.Data.ResType.union_personal_power || e == data_1.Data.ResType.exp || e == data_1.Data.ResType.character_exp || e == data_1.Data.ResType.dark_trophy || e == data_1.Data.ResType.union_battle_trophy) this.changeResource(e, n); else {
                        var o = data_1.Data.getType(e);
                        if (o == data_1.Data.CardType.props) this._propBag.changeProps(e, n); else if (o == data_1.Data.CardType.monster_skin || o == data_1.Data.CardType.rare_skin) this._playerCard.buySkinId(e, n); else if (o != data_1.Data.CardType.fragment && this._playerCard.addCard(e, n)) return i || this._playerCard.sendCardListDirty(o), o
                    }
                }, Player.prototype.getLevelupGrain = function (e, t) {
                    for (var n = 0, a = e + 1; a <= t; ++a) n += data_1.Data._globalInfo._playerLevelupGrain[Math.min(a, data_1.Data._globalInfo._playerLevelupGrain.length)];
                    return n
                }, Player.prototype.changeLevel = function (e, t) {
                    var n = this.getCharacterId(), a = this._characters[n], i = a._level + e;
                    return i > 0 && (a._level = i, this.sendLevelDirty(), !0)
                }, Player.prototype.changeExp = function (e, t) {
                    var n = 0, a = this.getCharacterId(), i = this._characters[a];
                    i._exp = i._exp + e;
                    this.getMaxCharacterLevel();
                    for (var o = this.getLevelupExp(i._level + n); i._level < 100 && o > 0 && i._exp >= o;) i._exp = i._exp - o, n += 1, o = this.getLevelupExp(i._level + n);
                    n > 0 && this.changeLevel(n, t), this.sendExpDirty();
                    this.getMaxCharacterLevel();
                    return n
                }, Player.prototype.setVIP = function (e, t) {
                    this._vip != e ? (this._vip = e, this._vipExp = t, this.sendVIPDirty(), this.sendVIPExpDirty()) : this._vipExp != t && (this._vipExp = t, this.sendVIPExpDirty())
                }, Player.prototype.changeVIP = function (e) {
                    var t = this._vip + e;
                    return e > 0 && (this._vip = t, this.sendVIPDirty(), !0)
                }, Player.prototype.changeVIPExp = function (e) {
                    var t = 0;
                    this._vipExp = this._vipExp + e;
                    for (var n = this.getVIPupExp(this._vip + t); this._vip < data_1.Data._globalInfo._vipIngot.length - 1 && n > 0 && this._vipExp >= n;) this._vipExp = this._vipExp - n, t += 1, n = this.getVIPupExp(this._vip + t);
                    return t > 0 && this.changeVIP(t), this.sendVIPExpDirty(), t
                }, Player.prototype.changeTrophy = function (e) {
                    var t = this._trophy + e;
                    t < 0 && (t = 0), this._trophy = t, this.sendTrophyDirty()
                }, Player.prototype.changeName = function (e) {
                    return this._name != e && "" != e && (this._name = e, this.sendNameDirty(), !0)
                }, Player.prototype.changeIcon = function (e) {
                    return this._avatar != e && (this._avatar = e, this._characters[Math.floor(e / 100)]._avatar = e, this.sendIconDirty(), !0)
                }, Player.prototype.changeAvatarFrame = function (e) {
                    return this._avatarFrameId != e && (this._avatarFrameId = e, this.sendAvatarFrameDirty(), !0)
                }, Player.prototype.changeCharacter = function (e, t) {
                    return !(!t && this.getCharacterId() == e) && (this.changeIcon(this._characters[e]._avatar), this.sendCharacterDirty(), !0)
                }, Player.prototype.changeBall = function (e) {
                    return !!e && ((!this._ballId || this._ballId != e) && (this._playerWorld._lastUsedBallId = e, data_1.Data.Event.ball_dirty.dispatchEvent(), !0))
                }, Player.prototype.getBattleCost = function (e, t, n) {
                    var a;
                    if (null != n && n > 0) {
                        var i = Math.floor(n / 1e4);
                        a = t ? data_1.Data._globalInfo._chapterLoseCost[i - 1] : data_1.Data._globalInfo._chapterCost[i - 1]
                    } else a = t ? data_1.Data._globalInfo._battleLoseCost : data_1.Data._globalInfo._battleCost;
                    return null != e && (a *= e), a
                }, Player.prototype.sortBySerialId = function (e, t) {
                    return e.sort(function (e, n) {
                        var a = data_1.Data.getInfo(e && e._infoId || e), i = data_1.Data.getInfo(n && n._infoId || n);
                        null != a && null != i || cc.log("[Unrecognizable card]", e, n);
                        var o = a._categoryData && a._categoryData[0] || 0,
                            r = i._categoryData && i._categoryData[0] || 0,
                            _ = P._playerCard._unlocked[e && e._infoId || e],
                            s = P._playerCard._unlocked[e && n._infoId || n];
                        return 1 == _ && 1 != s ? -1 : 1 != _ && 1 == s ? 1 : o._quality == r._quality ? a._id - i._id : t ? o - r : r - o
                    }), e
                }, Player.prototype.sortByQuality = function (e, t) {
                    return e.sort(function (e, n) {
                        var a = data_1.Data.getInfo(e && e._infoId || e), i = data_1.Data.getInfo(n && n._infoId || n);
                        null != a && null != i || cc.log("[Unrecognizable card]" + e + n);
                        var o = P._playerCard._unlocked[e && e._infoId || e],
                            r = P._playerCard._unlocked[e && n._infoId || n];
                        return 1 == o && 1 != r ? -1 : 1 != o && 1 == r ? 1 : a._quality == i._quality ? i._id - a._id : t ? i._quality - a._quality : a._quality - i._quality
                    }), e
                }, Player.prototype.sortCardsByATK = function (e, t) {
                    void 0 === t && (t = !1);
                    return e
                }, Player.prototype.sortCardsByHP = function (e, t) {
                    void 0 === t && (t = !1);
                    var n = e;
                    return n.sort(function (e, n) {
                        e = "number" == typeof e ? e : e._infoId, n = "number" == typeof n ? n : n._infoId;
                        var a = data_1.Data.getInfo(e), i = data_1.Data.getInfo(n), o = P._playerCard._levels[e],
                            r = P._playerCard._levels[n];
                        return t ? i._hp[r - 1] - a._hp[o - 1] : a._hp[o - 1] - i._hp[r - 1]
                    }), n
                }, Player.prototype.sortResultItems = function (e) {
                    return e.sort(function (e, t) {
                        var n = "number" == typeof e ? e : e._data && e._data._infoId || e._infoId,
                            a = "number" == typeof t ? t : t._data && t._data._infoId || t._infoId,
                            i = data_1.Data.getInfo(n), o = data_1.Data.getType(n), r = data_1.Data.getInfo(a),
                            _ = data_1.Data.getType(a);
                        o == data_1.Data.CardType.magic || o == data_1.Data.CardType.trap || o == data_1.Data.CardType.monster || o == data_1.Data.CardType.rare ? o *= 100 : o == data_1.Data.CardType.props && (o *= 10), _ == data_1.Data.CardType.magic || _ == data_1.Data.CardType.trap || _ == data_1.Data.CardType.monster || _ == data_1.Data.CardType.rare ? _ *= 100 : _ == data_1.Data.CardType.props && (_ *= 10);
                        var s = lc_1.lc.D(i && i._quality, -1), c = lc_1.lc.D(r && r._quality, -1);
                        return o == _ ? s == c ? r._id - i._id : c - s : _ - o
                    }), e
                }, Player.prototype.sortCardsByNum = function (e, t) {
                    void 0 === t && (t = !1);
                    var n = e;
                    return n.sort(function (e, n) {
                        var a = P._playerCard.getCardCount(e), i = P._playerCard.getCardCount(n);
                        return a == i ? t ? n - e : e - n : t ? i - a : a - i
                    }), n
                }, Player.prototype.filterByCategory = function (e, t) {
                    for (var n = [], a = 0; a < e.length; ++a) {
                        var i = e[a];
                        data_1.Data.getInfo(i)._category == t && n.push(i)
                    }
                    return n
                }, Player.prototype.filterByQuality = function (e, t) {
                    for (var n = [], a = 0; a < e.length; ++a) {
                        var i = e[a];
                        (i._infoId ? data_1.Data.getInfo(i._infoId) : data_1.Data.getInfo(i))._quality == t && n.push(i)
                    }
                    return n
                }, Player.prototype.filterByNature = function (e, t) {
                    for (var n = [], a = 0; a < e.length; ++a) {
                        var i = e[a];
                        ("number" == typeof i ? data_1.Data.getInfo(i) : data_1.Data.getInfo(i._infoId))._nature == t && n.push(i)
                    }
                    return n
                }, Player.prototype.filterByLevel = function (e, t) {
                    for (var n = [], a = 0; a < e.length; ++a) {
                        var i = e[a];
                        ("number" == typeof i ? data_1.Data.getInfo(i) : data_1.Data.getInfo(i._infoId))._level == t - 1 && n.push(i)
                    }
                    return n
                }, Player.prototype.filterByType = function (e, t) {
                    for (var n = [], a = 0; a < e.length; ++a) {
                        var i = e[a];
                        data_1.Data.getType(i) == t && n.push(i)
                    }
                    return n
                }, Player.prototype.filterByCanUpgrade = function (e) {
                    for (var t = [], n = 0; n < e.length; ++n) {
                        var a = e[n];
                        this._playerCard.upgradeCard(a, !0) == data_1.Data.ErrorType.ok && t.push(a)
                    }
                    return t
                }, Player.prototype.filterBySearch = function (src, keyword) {
                    for (var filters = [], i = 0; i < src.length; ++i) {
                        for (var val = src[i], info = data_1.Data.getInfo(val), str = "", j = 0; j < keyword.length; ++j) {
                            var keychar = keyword[j];
                            switch (keychar) {
                                case"a":
                                case"A":
                                    str += "[a\xe0\xe1\u1ea1\xe3\u1ea3\u0103\u1eb1\u1eaf\u1eb7\u1eb5\u1eb3\xe2\u1ea7\u1ea5\u1ead\u1eab\u1ea9A\xc0\xc1\xc1\u1ea0\xc3\u1ea2\u1eb2\u1eb4\u1eb6\u1eae\u1eb0\u0102\xc2\u1ea6\u1ea4\u1eac\u1eaa\u1ea8]";
                                    break;
                                case"e":
                                case"E":
                                    str += "[e\xe8\xe9\u1eb9\u1ebd\u1ebb\xea\u1ec1\u1ebf\u1ec7\u1ec5\u1ec3E\xc8\xc9\u1eb8\u1ebc\u1eba\xca\u1ec0\u1ebe\u1ec6\u1ec4\u1ec2]";
                                    break;
                                case"i":
                                case"I":
                                    str += "[I\xcc\xcd\u1eca\u0128\u1ec8i\xec\xed\u1ecb\u0129\u1ec9]";
                                    break;
                                case"o":
                                case"O":
                                    str += "[o\xf2\xf3\u1ecd\xf5\u1ecf\xf4\u1ed3\u1ed1\u1ed9\u1ed7\u1ed5\u01a1\u1edd\u1edb\u1ee3\u1ee1\u1edfO\xd2\xd3\u1ecc\xd5\u1ece\u1ed4\u1ed6\u1ed8\u1ed0\u1ed2\xd4\u01a0\u1edc\u1eda\u1ee2\u1ee0\u1ede]";
                                    break;
                                case"u":
                                case"U":
                                    str += "[u\xf9\xfa\u1ee5\u0169\u1ee7\u01b0\u1eeb\u1ee9\u1ef1\u1eef\u1eedU\xd9\xda\u1ee4\u0168\u1ee6\u1eec\u1eee\u1ef0\u1ee8\u1eea\u01af]";
                                    break;
                                case"y":
                                case"Y":
                                    str += "[y\u1ef3\xfd\u1ef5\u1ef9\u1ef7Y\u1ef2\xdd\u1ef4\u1ef8\u1ef6]";
                                    break;
                                default:
                                    str += keychar
                            }
                        }
                        var patt = eval("/" + str + "/i");
                        patt.test(lcStr_1.lcStr(info._nameSid)) && filters.push(val)
                    }
                    return filters
                }, Player.prototype.filterByMagicType = function (e, t) {
                    for (var n = [], a = 0; a < e.length; a++) {
                        var i = e[a];
                        ("number" == typeof i && data_1.Data.getInfo(i) || i._type == t) && n.push(i)
                    }
                    return n
                }, Player.prototype.searchInSkill = function (e, t) {
                    var n = data_1.Data._skillInfo[e];
                    if (lc_1.lc.V(n)) {
                        var a = lcStr_1.lcStr(n._nameSid).indexOf(t);
                        if (-1 != a) return !0;
                        if (-1 != (a = lcStr_1.lcStr(n._descSid).indexOf(t))) return !0
                    }
                    return !1
                }, Player.prototype.sendGoldDirty = function () {
                    data_1.Data.Event.gold_dirty.dispatchEvent()
                }, Player.prototype.sendUnionDevoteDirty = function () {
                }, Player.prototype.sendGrainDirty = function () {
                }, Player.prototype.sendIngotDirty = function () {
                    data_1.Data.Event.ingot_dirty.dispatchEvent()
                }, Player.prototype.sendBindingIngotDirty = function () {
                    data_1.Data.Event.binding_ingot_dirty.dispatchEvent()
                }, Player.prototype.sendGhostDirty = function () {
                    lc_1.lc.Dispatcher.dispatchEvent(data_1.Data.Event.ghost_dirty)
                }, Player.prototype.sendBloodJadeDirty = function () {
                    lc_1.lc.Dispatcher.dispatchEvent(data_1.Data.Event.blood_jade_dirty)
                }, Player.prototype.sendAchievePointDirty = function () {
                }, Player.prototype.sendUnionBattleTrophyDirty = function () {
                }, Player.prototype.sendDailyActiveDirty = function () {
                    data_1.Data.Event.daily_active_dirty.dispatchEvent()
                }, Player.prototype.sendDailyBonusDirty = function () {
                    data_1.Data.Event.daily_bonus_dirty.dispatchEvent()
                }, Player.prototype.sendLevelDirty = function () {
                    data_1.Data.Event.level_dirty.dispatchEvent()
                }, Player.prototype.sendExpDirty = function () {
                    data_1.Data.Event.exp_dirty.dispatchEvent()
                }, Player.prototype.sendVIPDirty = function () {
                    data_1.Data.Event.vip_dirty.dispatchEvent()
                }, Player.prototype.sendMedalDirty = function () {
                }, Player.prototype.sendVIPExpDirty = function () {
                    data_1.Data.Event.vip_exp_dirty.dispatchEvent()
                }, Player.prototype.sendMonthCardDirty = function () {
                    data_1.Data.Event.month_card_dirty.dispatchEvent()
                }, Player.prototype.sendFundDirty = function () {
                    data_1.Data.Event.fund_dirty.dispatchEvent()
                }, Player.prototype.sendNewSuitBagsDirty = function () {
                }, Player.prototype.sendSeasonBetBtnDirty = function () {
                }, Player.prototype.sendSuperGrowthFundDirty = function () {
                }, Player.prototype.sendRodRewardDirty = function () {
                }, Player.prototype.sendPackageDirty = function () {
                    lc_1.lc.Dispatcher.dispatchEvent(data_1.Data.Event.package_dirty)
                }, Player.prototype.sendRegressionRechargePackageDirty = function () {
                }, Player.prototype.sendTrophyDirty = function () {
                    data_1.Data.Event.trophy_dirty.dispatchEvent()
                }, Player.prototype.sendNameDirty = function () {
                    data_1.Data.Event.name_dirty.dispatchEvent()
                }, Player.prototype.sendIconDirty = function () {
                    data_1.Data.Event.icon_dirty.dispatchEvent()
                }, Player.prototype.sendAvatarFrameDirty = function () {
                    data_1.Data.Event.icon_dirty.dispatchEvent()
                }, Player.prototype.sendCharacterDirty = function () {
                    data_1.Data.Event.character_dirty.dispatchEvent()
                }, Player.prototype.sendNewGuidanceDirty = function () {
                }, Player.prototype.getUnlockSlotNumber = function (e, t, n) {
                    null == e && (e = this._level);
                    var a = e + 1, i = data_1.Data._globalInfo._unlockSlot;
                    if (a > i.length) return [i[i.length - 1], null];
                    for (var o = i[a - 1], r = null, _ = a; _ < i.length; ++_) if (i[_] > o) {
                        r = _ + 1;
                        break
                    }
                    return lc_1.lc.V(n) ? [i[a - 1], r] : [i[a - 1], null]
                }, Player.prototype.getUnlockSlotLevel = function (e) {
                    for (var t = e + data_1.Data._globalInfo._unlockSlot[0], n = 0; n < data_1.Data._globalInfo._unlockSlot.length; ++n) if (data_1.Data._globalInfo._unlockSlot[n] == t) return n;
                    return null
                }, Player.prototype.getUnlockTroopNumber = function () {
                    return this.getCharacterUnlockCount()
                }, Player.prototype.getTitle = function (e) {
                    null == e && (e = this._trophy);
                    for (var t = 0; t < data_1.Data._globalInfo._playerTitleTrophy.length; ++t) if (t + 1 < data_1.Data._globalInfo._playerTitleTrophy.length) {
                        if (e >= data_1.Data._globalInfo._playerTitleTrophy[t] && e < data_1.Data._globalInfo._playerTitleTrophy[t + 1]) return t + 1
                    } else if (e >= data_1.Data._globalInfo._playerTitleTrophy[t]) return t + 1;
                    return null
                }, Player.prototype.getMaxLevel = function () {
                    return data_1.Data._globalInfo._playerLevelupExp.length
                }, Player.prototype.getLevelupExp = function (e) {
                    return e <= 0 ? 0 : (e >= data_1.Data._globalInfo._playerLevelupExp.length && (e = data_1.Data._globalInfo._playerLevelupExp.length - 1), data_1.Data._globalInfo._playerLevelupExp[e] - data_1.Data._globalInfo._playerLevelupExp[e - 1])
                }, Player.prototype.getVIPupExp = function (e) {
                    return null == e && (e = this._vip), e < 0 ? 0 : e >= data_1.Data._globalInfo._vipIngot.length - 1 ? 0 : data_1.Data._globalInfo._vipIngot[e + 1] - data_1.Data._globalInfo._vipIngot[e]
                }, Player.prototype.getBattleExp = function (e) {
                    return null == e && (e = this._level), e <= 0 ? 0 : e > data_1.Data._globalInfo._playerBattleExp.length ? data_1.Data._globalInfo._playerBattleExp[data_1.Data._globalInfo._playerBattleExp.length - 1] : data_1.Data._globalInfo._playerBattleExp[e - 1]
                }, Player.prototype.getHp = function (e) {
                    return null == e && (e = this._level), e <= 0 ? 0 : e > data_1.Data._globalInfo._playerHp.length ? data_1.Data._globalInfo._playerHp[data_1.Data._globalInfo._playerHp.length - 1] : data_1.Data._globalInfo._playerHp[e - 1]
                }, Player.prototype.getReputation = function (e) {
                    return null == e && (e = this._level), e <= 0 ? 0 : lc_1.lc.arrayAt(data_1.Data._globalInfo._playerReputation, e) + this._playerUnion.getTechVal(data_1.Data.UnionTechId.lord_reputation)
                }, Player.prototype.getGrainCapacity = function (e) {
                    return (e = lc_1.lc.D(e, this._level)) > data_1.Data._globalInfo._grainCapacity.length && (e = data_1.Data._globalInfo._grainCapacity.length), data_1.Data._globalInfo._grainCapacity[e - 1]
                }, Player.prototype.getBuyGoldTimes = function () {
                    return 0
                }, Player.prototype.getBuyGrainTimes = function () {
                    return 0
                }, Player.prototype.getBuyPacksNumber = function () {
                    return 0
                }, Player.prototype.getBuyHeroExpNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyHeroExp.length && (e = data_1.Data._globalInfo._vipBuyHeroExp.length), data_1.Data._globalInfo._vipBuyHeroExp[e - 1] - this._dailyBuyHeroExp
                },Player.prototype.getBuyEquipExpNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyEquipExp.length && (e = data_1.Data._globalInfo._vipBuyEquipExp.length), data_1.Data._globalInfo._vipBuyEquipExp[e - 1] - this._dailyBuyEquipExp
                },Player.prototype.getBuyHorseExpNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyHorseExp.length && (e = data_1.Data._globalInfo._vipBuyHorseExp.length), data_1.Data._globalInfo._vipBuyHorseExp[e - 1] - this._dailyBuyHorseExp
                },Player.prototype.getBuyBookExpNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyBookExp.length && (e = data_1.Data._globalInfo._vipBuyBookExp.length), data_1.Data._globalInfo._vipBuyBookExp[e - 1] - this._dailyBuyBookExp
                },Player.prototype.getBuyOrangeHeroFBoxNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyChest1.length && (e = data_1.Data._globalInfo._vipBuyChest1.length), data_1.Data._globalInfo._vipBuyChest1[e - 1] - this._dailyBuyOrangeHeroFBox
                },Player.prototype.getBuyPurpleHeroFBoxNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyChest2.length && (e = data_1.Data._globalInfo._vipBuyChest2.length), data_1.Data._globalInfo._vipBuyChest2[e - 1] - this._dailyBuyPurpleHeroFBox
                },Player.prototype.getBuyOrangeHorseFBoxNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyChest3.length && (e = data_1.Data._globalInfo._vipBuyChest3.length), data_1.Data._globalInfo._vipBuyChest3[e - 1] - this._dailyBuyOrangeHorseFBox
                },Player.prototype.getBuyPurpleHorseFBoxNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyChest4.length && (e = data_1.Data._globalInfo._vipBuyChest4.length), data_1.Data._globalInfo._vipBuyChest4[e - 1] - this._dailyBuyPurpleHorseFBox
                },Player.prototype.getBuyStoneNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyStone.length && (e = data_1.Data._globalInfo._vipBuyStone.length), data_1.Data._globalInfo._vipBuyStone[e - 1] - this._dailyBuyStone
                },Player.prototype.getBuyRemedyNumber = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyRemedy.length && (e = data_1.Data._globalInfo._vipBuyRemedy.length), data_1.Data._globalInfo._vipBuyRemedy[e - 1] - this._dailyBuyRemedy
                },Player.prototype.getBuyRefreshTimes = function (e) {
                    return e == data_1.Data.MarketBuyType.random ? lc_1.lc.arrayAt(data_1.Data._globalInfo._vipBuyRefresh, this._vip + 1) : e == data_1.Data.MarketBuyType.union || e == data_1.Data.MarketBuyType.dragon_flag ? lc_1.lc.arrayAt(data_1.Data._globalInfo._vipBuyRefreshEx, this._vip + 1) : 0
                },Player.prototype.getRemainBuyRefreshTimes = function (e) {
                    return e == data_1.Data.MarketBuyType.random ? lc_1.lc.arrayAt(data_1.Data._globalInfo._vipBuyRefresh, this._vip + 1) - this._dailyBuyRefresh : e == data_1.Data.MarketBuyType.union ? lc_1.lc.arrayAt(data_1.Data._globalInfo._vipBuyRefreshEx, this._vip + 1) - this._dailyBuyRefreshUnion : e == data_1.Data.MarketBuyType.dragon_flag ? lc_1.lc.arrayAt(data_1.Data._globalInfo._vipBuyRefreshEx, this._vip + 1) - this._dailyBuyRefreshLadder : 0
                },Player.prototype.getBuyRefreshCost = function (e, t) {
                    return e == data_1.Data.MarketBuyType.random ? t == data_1.Data.ResType.ingot ? lc_1.lc.arrayAt(data_1.Data._globalInfo._buyRefreshCost, this._dailyBuyRefresh + 1) : 1 : e == data_1.Data.MarketBuyType.union ? t == data_1.Data.ResType.ingot ? lc_1.lc.arrayAt(data_1.Data._globalInfo._buyRefreshUnionCost, this._dailyBuyRefreshUnion + 1) : data_1.Data._globalInfo._buyRefreshUnionCostEx : e == data_1.Data.MarketBuyType.dragon_flag ? t == data_1.Data.ResType.ingot ? lc_1.lc.arrayAt(data_1.Data._globalInfo._buyRefreshLadderCost, this._dailyBuyRefreshLadder + 1) : data_1.Data._globalInfo._buyRefreshLadderCostEx : 0
                },Player.prototype.getBuyShieldTimes = function () {
                    return 0
                },Player.prototype.getCopyEliteTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipEliteCount.length && (e = data_1.Data._globalInfo._vipEliteCount.length), data_1.Data._globalInfo._vipEliteCount[e - 1]
                },Player.prototype.getCopyCommanderTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipCommanderCount.length && (e = data_1.Data._globalInfo._vipCommanderCount.length), data_1.Data._globalInfo._vipCommanderCount[e - 1]
                },Player.prototype.getCopyBossTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipRobGoldCount.length && (e = data_1.Data._globalInfo._vipRobGoldCount.length), data_1.Data._globalInfo._vipRobGoldCount[e - 1]
                },Player.prototype.getCopyExpeditionTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipExpeditionCount.length && (e = data_1.Data._globalInfo._vipExpeditionCount.length), data_1.Data._globalInfo._vipExpeditionCount[e - 1]
                },Player.prototype.etBuyCopyEliteRemainTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyElite.length && (e = data_1.Data._globalInfo._vipBuyElite.length), data_1.Data._globalInfo._vipBuyElite[e - 1] - this._dailyBuyCopyElite
                },Player.prototype.getBuyCopyEliteIngot = function () {
                    return 18 + 10 * this._dailyBuyCopyElite
                },Player.prototype.getBuyCopyBossRemainTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyRobGold.length && (e = data_1.Data._globalInfo._vipBuyRobGold.length), data_1.Data._globalInfo._vipBuyRobGold[e - 1] - this._dailyBuyCopyBoss
                },Player.prototype.getBuyCopyBossIngot = function () {
                    return 18 + 10 * this._dailyBuyCopyBoss
                },Player.prototype.getBuyCopyCommanderRemainTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyCommander.length && (e = data_1.Data._globalInfo._vipBuyCommander.length), data_1.Data._globalInfo._vipBuyCommander[e - 1] - this._dailyBuyCopyCommander
                },Player.prototype.getBuyCopyCommanderIngot = function () {
                    return 38 + 30 * this._dailyBuyCopyCommander
                },Player.prototype.getBuyCopyExpeditionRemainTimes = function () {
                    var e = this._vip + 1;
                    return e > data_1.Data._globalInfo._vipBuyExpedition.length && (e = data_1.Data._globalInfo._vipBuyExpedition.length), data_1.Data._globalInfo._vipBuyExpedition[e - 1] - this._dailyBuyCopyExpedition
                },Player.prototype.getBuyCopyExpeditionIngot = function () {
                    return data_1.Data._globalInfo._buyExpeditionIngot
                },Player.prototype.getCopyEliteRemainTimes = function () {
                    return this.getCopyEliteTimes() + this._dailyBuyCopyElite - this._dailyChallengeElite
                },Player.prototype.getCopyBossRemainTimes = function () {
                    return this.getCopyBossTimes() + this._dailyBuyCopyBoss - this._dailyCopyBoss
                },Player.prototype.getCopyCommanderRemainTimes = function () {
                    return this.getCopyCommanderTimes() + this._dailyBuyCopyCommander - this._dailyChallengeCommander
                },Player.prototype.getCopyExpeditionRemainTimes = function () {
                    return this.getCopyExpeditionTimes() + this._dailyBuyCopyExpedition - this._dailyExpedition
                },Player.prototype.getToadLevel = function (e) {
                    return lc_1.lc.D(e, this._level) - 25 + 1
                },Player.prototype.getCopyTimes = function (e) {
                    var t = Math.floor(e / 10);
                    return t == data_1.Data.CopyType.group_elite ? this.getCopyEliteTimes() : t == data_1.Data.CopyType.group_boss ? this.getCopyBossTimes() : t == data_1.Data.CopyType.group_commander ? this.getCopyCommanderTimes() : t == data_1.Data.CopyType.group_expedition ? this.getCopyExpeditionTimes() : void 0
                },Player.prototype.getCopyTotalTimes = function (e) {
                    var t = Math.floor(e / 10);
                    return t == data_1.Data.CopyType.group_elite ? this.getCopyEliteTimes() + this._dailyBuyCopyElite : t == data_1.Data.CopyType.group_boss ? this.getCopyBossTimes() + this._dailyBuyCopyBoss : t == data_1.Data.CopyType.group_commander ? this.getCopyCommanderTimes() + this._dailyBuyCopyCommander : t == data_1.Data.CopyType.group_expedition ? this.getCopyExpeditionTimes() + this._dailyBuyCopyExpedition : void 0
                },Player.prototype.getChallengeCopyRemainTimes = function (e) {
                    var t = Math.floor(e / 10);
                    return t == data_1.Data.CopyType.group_elite ? this.getCopyEliteRemainTimes() : t == data_1.Data.CopyType.group_boss ? this.getCopyBossRemainTimes() : t == data_1.Data.CopyType.group_commander ? this.getCopyCommanderRemainTimes() : t == data_1.Data.CopyType.group_expedition ? this.getCopyExpeditionRemainTimes() : void 0
                },Player.prototype.getBuyCopyRemainTimes = function (e) {
                    var t = Math.floor(e / 10);
                    return t == data_1.Data.CopyType.group_boss ? this.getBuyCopyBossRemainTimes() : t == data_1.Data.CopyType.group_commander ? this.getBuyCopyCommanderRemainTimes() : t == data_1.Data.CopyType.group_expedition ? this.getBuyCopyExpeditionRemainTimes() : void 0
                },Player.prototype.getBuyCopyIngot = function (e) {
                    var t = Math.floor(e / 10);
                    if (t == data_1.Data.CopyType.group_elite) {
                        return this.getBuyCopyEliteIngot()
                    }
                    return t == data_1.Data.CopyType.group_boss ? this.getBuyCopyBossIngot() : t == data_1.Data.CopyType.group_commander ? this.getBuyCopyCommanderIngot() : t == data_1.Data.CopyType.group_expedition ? this.getBuyCopyExpeditionIngot() : void 0
                },Player.prototype.accountCopyWin = function (e) {
                    var t = Math.floor(e / 10);
                    t == data_1.Data.CopyType.group_elite ? this._dailyChallengeElite = this._dailyChallengeElite + 1 : t == data_1.Data.CopyType.group_boss ? this._dailyCopyBoss = this._dailyCopyBoss + 1 : t == data_1.Data.CopyType.group_commander ? this._dailyChallengeCommander = this._dailyChallengeCommander + 1 : t == data_1.Data.CopyType.group_expedition && (this._playerExpedition._chapter = this._playerExpedition._chapter + 1)
                },Player.prototype.addBuyCopyTimes = function (e) {
                    var t = Math.floor(e / 10);
                    t == data_1.Data.CopyType.group_elite ? this._dailyBuyCopyElite = this._dailyBuyCopyElite + 1 : t == data_1.Data.CopyType.group_boss ? this._dailyBuyCopyBoss = this._dailyBuyCopyBoss + 1 : t == data_1.Data.CopyType.group_commander ? this._dailyBuyCopyCommander = this._dailyBuyCopyCommander + 1 : t == data_1.Data.CopyType.group_expedition && (this._dailyBuyCopyExpedition = this._dailyBuyCopyExpedition + 1)
                },Player.prototype.preCheckCondition = function (e, t, n) {
                    var a = {};
                    if (6 == e || 16 == e) a._cardType = null, a._type = 1; else if (e >= 7 && e <= 9) a._cardType = e - 6, a._type = 1; else {
                        if (10 == e) return 0 == (u = this._playerCard.getTroopCardCountByMinStar(t, n));
                        if (11 == e) return 0 == (u = this._playerCard.getTroopCardCountByNature(t, n));
                        if (16 == e) a._cardType = null, a._type = 2; else if (e >= 17 && e <= 19) a._cardType = e - 16, a._type = 2; else {
                            if (30 == e) return this._playerCard.getTroopCardCountByType(data_1.Data.CardType.monster, n) == this._playerCard.getTroopCardCountByNature(t, n);
                            if (31 == e) return 0 == this._playerCard.getTroopCardCountByRace(t, n);
                            if (32 == e) {
                                var i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByStar(Math.floor(t / 40) + 1, n) >= i
                            }
                            if (33 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByStar(Math.floor(t / 40) + 1, n) <= i
                            }
                            if (34 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByRace(Math.floor(t / 40) + 1, n) >= i
                            }
                            if (35 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByRace(Math.floor(t / 40) + 1, n) <= i
                            }
                            if (36 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByNature(Math.floor(t / 40) + 1, n) >= i
                            }
                            if (37 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByNature(Math.floor(t / 40) + 1, n) <= i
                            }
                            if (38 == e) return 0 == this._playerCard.getTroopCardCountByStar(t, n);
                            if (39 == e) return 0 == this._playerCard.getTroopCardCountByMaxStar(t, n);
                            if (40 == e) return 0 == this._playerCard.getTroopCardCountByMinStar(t, n);
                            if (41 == e) {
                                var o = this._playerCard.getTroopCardCountByNature(Math.floor(t / 7) + 1, n),
                                    r = this._playerCard.getTroopCardCountByNature(t % 7 + 1, n);
                                return 0 == o && 0 == r
                            }
                            if (42 == e) {
                                var _ = this._playerCard.getTroopCardCountByStar(Math.floor(t / 12) + 1, n),
                                    s = this._playerCard.getTroopCardCountByStar(t % 12 + 1, n);
                                return 0 == _ && 0 == s
                            }
                            if (43 == e) {
                                var c = this._playerCard.getTroopCardCountByType(1, n);
                                return this._playerCard.getTroopCardBy43(n) == c
                            }
                            if (44 == e) {
                                i = t % 40 + 1;
                                return this._playerCard.getTroopCardCountByNature(Math.floor(t / 40) + 1, n) == i
                            }
                            if (45 == e) {
                                var l = this._playerCard.getTroopCardCountByType(1, n);
                                return this._playerCard.getTroopCardCountByRace(t, n) == l
                            }
                            if (46 == e) {
                                var d = this._playerCard.getTroopCardCountByType(data_1.Data.CardType.magic, n),
                                    p = this._playerCard.getTroopCardCountByType(data_1.Data.CardType.trap, n);
                                return 0 == d && 0 == p
                            }
                        }
                    }
                    if (null != a._type) {
                        var u = this._playerCard.getTroopCardCountByType(a._cardType, n);
                        if (1 == a._type) return u >= t;
                        if (2 == a._type) return u <= t
                    }
                    return !0
                },Player.prototype.getDailyGoldFlag = function () {
                    return lc_1.lc.D(data_1.Data._globalInfo._vipCollectGold[P._vip - 1], 5) - this._dailyCollectedGold > 0 && this._dailyNextSpawn < TimeUtil_1.TimeUtil.getCurrentTime() ? 1 : 0
                },Player.prototype.getCharacterId = function () {
                    var e = Math.floor(this._avatar / 100);
                    return null == data_1.Data._characterInfo[e] && (e = lcAppCfg_1.lcAppCfg.isEnableGuide() ? null : 3), e
                },Player.prototype.isCharacterUnlocked = function (e) {
                    return this._characters[e] && this._characters[e]._level > 0 || !1
                },Player.prototype.getCharacterCount = function () {
                    var e = 0;
                    for (var t in data_1.Data._characterInfo) e += 1;
                    return e
                },Player.prototype.getCharacterUnlockCount = function () {
                    var e = 0;
                    for (var t in data_1.Data._characterInfo) this.isCharacterUnlocked(toNumber(t)) && (e += 1);
                    return e
                },Player.prototype.getMaxCharacterLevel = function () {
                    var e = 0;
                    for (var t in data_1.Data._characterInfo) if (this._characters[t]) {
                        var n = this._characters[t]._level;
                        n > e && (e = n)
                    }
                    return e
                },Player.prototype.getTotalCharacterLevel = function () {
                    var e = 0;
                    for (var t in data_1.Data._characterInfo) {
                        e += this._characters[t]._level
                    }
                    return e
                },Player.prototype.isShowSpecialPackage = function () {
                    return 0 != (1 & this._functionSwitch)
                },Player.prototype.isShowPackage4 = function () {
                    return 0 != (2 & this._functionSwitch)
                },Player.prototype.getClashTargetStep = function () {
                    for (var e = this._playerBonus._bonusClashTarget.length, t = 0; t < this._playerBonus._bonusClashTarget.length; ++t) if (!this._playerBonus._bonusClashTarget[t]._isClaimed) {
                        e = t + 1;
                        break
                    }
                    return e
                },Player.prototype.getNewClashTargetStep = function () {
                    for (var e = this._playerBonus._bonusNewClashTarget.length, t = 0; t < this._playerBonus._bonusNewClashTarget.length; ++t) if (!this._playerBonus._bonusNewClashTarget[t]._isClaimed) {
                        e = t + 1;
                        break
                    }
                    return e
                },Player.prototype.isNewBie = function () {
                    return Math.floor((TimeUtil_1.TimeUtil.getCurrentTime() + this._timeOffset) / 86400) - Math.floor((this._regTime + this._timeOffset) / 86400) < data_1.Data.NEWBIE_DAY_RANGE
                },Player.prototype.getSelfOld = function () {
                    return Math.floor((TimeUtil_1.TimeUtil.getCurrentTime() + this._timeOffset) / 86400) - Math.floor((this._regTime + this._timeOffset) / 86400)
                },Player.prototype.getFirstRechargeStatus = function () {
                    return !RechargeUtil_1.RechargeUtil.isGemRecharged() || this._playerBonus.getFirstRechargeFlag() > 0 ? 0 : 1
                },Player.prototype.getXLSActivityByType = function (e) {
                    for (var t = this.xls_activity, n = 0; n < t.length; n++) if (e == t[n].id) return t[n]
                },Player.prototype.getLZActivityById = function (e) {
                    for (var t = [], n = 0; n < this.lz_activity.length; ++n) {
                        var a = this.lz_activity[n];
                        a.id == e && t.push(a)
                    }
                    return t
                },Player.prototype.isHaveJiZiActivity = function () {
                    return {}
                },Player.prototype.isTeachPassed = function (e) {
                    return P._playerBonus._bonusTeach[data_1.Data._teachInfo[e]._bonusId]._info._val <= P._playerBonus._bonusTeach[data_1.Data._teachInfo[e]._bonusId]._value
                },Player.prototype.isNoviceTeachPassed = function (e) {
                    var t = data_1.Data._teachInfo[100 * P._initialCharacter + 1e4 + e];
                    if (null == t || null == t._bonusId) return !1;
                    var n = P._playerBonus._bonusTeach;
                    return null != n && (null != n[t._bonusId] && P._playerBonus._bonusTeach[data_1.Data._teachInfo[100 * P._initialCharacter + 1e4 + e]._bonusId]._info._val <= P._playerBonus._bonusTeach[data_1.Data._teachInfo[100 * P._initialCharacter + 1e4 + e]._bonusId]._value)
                },Player.prototype.isNoviceTeachClaimed = function (e) {
                    return P._playerBonus._bonusTeach[data_1.Data._teachInfo[100 * P._initialCharacter + 1e4 + e]._bonusId]._isClaimed
                },Player.prototype.isBasicTeachPassed = function (e) {
                    return P._playerBonus._bonusTeach[data_1.Data._teachInfo[2e4 + e]._bonusId]._info._val <= P._playerBonus._bonusTeach[data_1.Data._teachInfo[2e4 + e]._bonusId]._value
                },Player.prototype.checkFindClash = function () {
                    return data_1.Data.CLASH_UNLOCK_LEVEL < P._playerWorld._curLevel[0]
                },Player.prototype.checkCrossFindClash = function () {
                    return !0
                },Player.prototype.getSpeedInBattle = function () {
                    var e = this.getMaxCharacterLevel(), t = this._vip;
                    return t >= data_1.Data._globalInfo._3xSpeedVip || e >= data_1.Data._globalInfo._3xSpeedLevel ? 3 : t >= data_1.Data._globalInfo._2xSpeedVip || e >= data_1.Data._globalInfo._2xSpeedLevel ? 2 : 1
                },Player.prototype.parseBuyCounts = function (e) {
                    this._buyCounts = {};
                    for (var t = 0; t < e.buy_type.length; ++t) this._buyCounts[e.buy_type[t].info_id] = e.buy_type[t].num
                },Player.prototype.parseBuyTimes = function (e) {
                    this._buyTimes = {};
                    for (var t = 0; t < e.type_and_time.length; ++t) {
                        var n = e.type_and_time[t];
                        this._buyTimes[n.type] = n.buy_time / 1e3
                    }
                },Player.prototype.isGemRecharged = function () {
                    for (var e in this._buyCounts) {
                        var t = nox_1.nox.toNumber(e);
                        if (this._buyCounts[t] > 0 && this.isGemRechargeType(t)) return !0
                    }
                    return !1
                },Player.prototype.isGemRechargeType = function (e) {
                    return e <= data_1.Data.PurchaseType.product_8
                },Player.prototype.getIapCount = function (e) {
                    return this._buyCounts[e] || 0
                },Player.prototype.getIapLastBuyTime = function (e) {
                    return this._buyTimes[e] || 0
                },Player.prototype.isRecharged = function (e) {
                    return this.getIapCount(e) > 0
                },Player.prototype.isAllRecharged = function (e) {
                    var t = this.getRechargedLimitCount(e);
                    return t > 0 && this.getRechargedCount(e) >= t
                },Player.prototype.getRechargedCount = function (e) {
                    return this.getIapCount(e)
                },Player.prototype.getRechargedLimitCount = function (e) {
                    var t = data_1.Data._iapInfo[e];
                    return t ? t._buyLimit : (cc.assert(!1, "fatal error"), 0)
                },Player.prototype.checkWild = function () {
                    return data_1.Data.WILD_UNLOCK_LEVEL < P._playerWorld._curLevel[0]
                },Player
            }();
        exports.Player = Player, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../MarqueeManager": "MarqueeManager",
        "../const/ConfigKey": "ConfigKey",
        "../part/UserPart": "UserPart",
        "../utils/LoginData": "LoginData",
        "../utils/RechargeUtil": "RechargeUtil",
        "../utils/TimeUtil": "TimeUtil",
        "./Achievement/PlayerAchieve": "PlayerAchieve",
        "./Activity/PlayerActivity": "PlayerActivity",
        "./Bonus/PlayerBonus": "PlayerBonus",
        "./Card/PlayerCard": "PlayerCard",
        "./City/PlayerCity": "PlayerCity",
        "./Find/PlayerFindClash": "PlayerFindClash",
        "./Find/PlayerFindDuelCity": "PlayerFindDuelCity",
        "./Find/PlayerFindLadder": "PlayerFindLadder",
        "./Find/PlayerFindNewClash": "PlayerFindNewClash",
        "./Find/PlayerFindUnionBattle": "PlayerFindUnionBattle",
        "./Log/PlayerLog": "PlayerLog",
        "./Market/PlayerMarket": "PlayerMarket",
        "./Prop/PropBag": "PropBag",
        "./Rank/PlayerRank": "PlayerRank",
        "./Room/PlayerRoom": "PlayerRoom",
        "./SkinShop/PlayerSkinShop": "PlayerSkinShop",
        "./Social/Mail": "Mail",
        "./Social/PlayerMail": "PlayerMail",
        "./Social/PlayerMessage": "PlayerMessage",
        "./Social/User": "User",
        "./Union/PlayerUnion": "PlayerUnion",
        "./Union/Union": "Union",
        "./World/PlayerExpedition": "PlayerExpedition",
        "./World/PlayerKillBoss": "PlayerKillBoss",
        "./World/PlayerSeason": "PlayerSeason",
        "./World/PlayerWorld": "PlayerWorld",
        "./data": "data"
    }],
    ProgressBarUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "de79aV9CxVF1aSjaFbzFXXh", "ProgressBarUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("./TimeUtil"), o = e("../../noxcc");
        (function (e) {
            function t(e, t, n, o) {
                return o ? string.format("%dK/%dK", Math.floor(e / 1e3), Math.floor(t / 1e3)) : null != t ? n ? i.TimeUtil.formatNum(e, 99999) + "/" + i.TimeUtil.formatNum(t, 99999) : string.format("%d/%d", e, t) : a.nox.toString(e)
            }

            e.toLabelString = t, e.setProgressBarString = function (e, n, a, i, r, _) {
                var s = o.noxcc.findLabel(n, e.node);
                o.noxcc.setLabelString(s, t(a, i, r, _))
            }
        })(n.ProgressBarUtil || (n.ProgressBarUtil = {})), cc._RF.pop()
    }, {"../../nox": "nox", "../../noxcc": "noxcc", "./TimeUtil": "TimeUtil"}],
    PromptForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "04246YrkA5HLqxs1/VDp/9H", "PromptForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../../../noxcc"), o = e("../AllViewTypes"), r = e("../../scene/RechargeScene"),
            _ = e("../../scene/SceneManager"), s = e("../widget/UserWidget"), c = function (e) {
                function t(t) {
                    return e.call(this, t) || this
                }

                return __extends(t, e), t
            }(a.BaseForm);
        n.PromptForm = c, function (e) {
            var t = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.ConfirmBuyIngot) || this
                }

                return __extends(t, e), t.prototype.init = function (e) {
                    this._callbackExit = e || null
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = i.noxcc.find("cancel", this.mRoot);
                    i.noxcc.addClick(n, function () {
                        t.hide()
                    });
                    var a = i.noxcc.find("ok", this.mRoot);
                    i.noxcc.addClick(a, function () {
                        t.hide(), _.SceneManager.pushScene(r.RechargeScene.create())
                    })
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), this._callbackExit && this._callbackExit()
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(e);
            e.ConfirmBuyIngot = t;
            var n = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.ConfirmInvited) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t) {
                    this._userInfo = e, this._callBackDefine = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = s.UserWidget.create(this._userInfo, s.UserWidget.Flag.REGION_NAME_UNION);
                    this.mRoot.addChild(n.node);
                    var a = i.noxcc.find("cancel", this.mRoot);
                    i.noxcc.addClick(a, function () {
                        t.hide()
                    });
                    var o = i.noxcc.find("ok", this.mRoot);
                    i.noxcc.addClick(o, function () {
                        t._callBackDefine && t._callBackDefine(), t.hide()
                    })
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a._hideBg = !1, a
                }, t
            }(e);
            e.ConfirmInvited = n
        }(c = n.PromptForm || (n.PromptForm = {})), n.PromptForm = c, cc._RF.pop()
    }, {
        "../../../noxcc": "noxcc",
        "../../scene/RechargeScene": "RechargeScene",
        "../../scene/SceneManager": "SceneManager",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/UserWidget": "UserWidget"
    }],
    PropBag: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fed6ehAGXdGXZBqPkEyhbOs", "PropBag"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("./Prop"), o = e("../../../nox").nox.toNumber, r = function () {
            function e() {
                this._props = {}
            }

            return e.prototype.clear = function () {
                this._props = {}
            }, e.prototype.init = function (e) {
                for (var t in a.Data._propsInfo) {
                    var n = new i.Prop(o(t));
                    this._props[n._infoId] = n
                }
                var r = e.props;
                if (r) for (var _ = 0; _ < r.length; ++_) {
                    null != (n = this._props[r[_].info_id]) && (n._num = r[_].num)
                }
                var s = e.chests;
                if (s) for (_ = 0; _ < s.length; ++_) {
                    null != (n = this._props[s[_].id]) && (n._isOpened = s[_].opened, n._num = 1)
                }
                var c = e.crowns;
                if (c) for (_ = 0; _ < c.length; ++_) {
                    null != (n = this._props[c[_].info_id]) && (n._num = c[_].num)
                }
                this._sendGift = {}, this._getTimeGift = {}, this._getCountGift = {};
                for (var l = e.day_send_gift, d = 0; d < l.length; ++d) {
                    n = l[d];
                    this._sendGift[n.info_id] = n.num
                }
                var p = e.day_get_gift;
                for (d = 0; d < p.length; ++d) {
                    n = p[d];
                    this._getTimeGift[n.info_id] = n.num
                }
                var u = e.count_get_gift;
                for (d = 0; d < u.length; ++d) {
                    n = u[d];
                    this._getCountGift[n.info_id] = n.num
                }
            }, e.prototype.hasProps = function (e, t) {
                return null != this._props[e] && this._props[e]._num >= t
            }, e.prototype.changeProps = function (e, t) {
                var n = this._props[e];
                if (null != n) {
                    if (0 == t) return !0;
                    var a = n._num + t;
                    if (a >= 0) return n._num = a, n.sendPropDirty(), !0
                }
                return !1
            }, e.prototype.getProps = function (e, t) {
                return null != this._props[e] ? this._props[e]._num : 0
            }, e.prototype.setProps = function (e, t) {
                var n = this._props[e];
                null != n && (n._num = t, n.sendPropDirty())
            }, e.prototype.useProp = function (e, t) {
                void 0 === t && (t = 1);
                var n = t || 1;
                return this.hasProps(e._infoId, n) ? (this.changeProps(e._infoId, -n), a.Data.ErrorType.ok) : a.Data.ErrorType.error
            }, e.prototype.validPropId = function (e, t) {
                var n, i;
                void 0 === t && (t = !1);
                var o = function (e, t) {
                    for (var n = t; n >= 1; --n) if (this._props[e + n]._num > 0) return [e + n, null]
                }.bind(this);
                return e == a.Data.PropsId.avatar_frame_level_rank || e == a.Data.PropsId.avatar_frame_level_rank1 || e == a.Data.PropsId.avatar_frame_level_rank2 || e == a.Data.PropsId.avatar_frame_level_rank3 ? (n = a.Data.PropsId.avatar_frame_level_rank, t && o(n, 3) && (i = o(n, 3)[0])) : e == a.Data.PropsId.avatar_frame_xmas || e == a.Data.PropsId.avatar_frame_xmas_1 || e == a.Data.PropsId.avatar_frame_xmas_2 ? (n = e == a.Data.PropsId.avatar_frame_xmas_2 ? a.Data.PropsId.avatar_frame_xmas_1 : e, t && o(a.Data.PropsId.avatar_frame_xmas, 2) && (i = o(a.Data.PropsId.avatar_frame_xmas, 2)[0])) : (n = e, i = e), [n, i || e]
            }, e
        }();
        n.PropBag = r, cc._RF.pop()
    }, {"../../../nox": "nox", "../data": "data", "./Prop": "Prop"}],
    Prop: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6d8cbZ/C9lLeJTwssLrVpr5", "Prop"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = function () {
            function e(e, t) {
                void 0 === t && (t = null), this._infoId = e, this._info = a.Data._propsInfo[e], this._num = null != t ? t.num : 0
            }

            return e.prototype.getQuality = function () {
                return this._info._quality
            }, e.prototype.sendPropDirty = function () {
                this._infoId >= 7201 && this._infoId <= 7206 ? (null == P._crown || this._infoId <= P._crown._infoId) && (P._crown = {
                    _infoId: this._infoId,
                    _num: this._num
                }, a.Data.Event.crown_dirty.dispatchEvent(this)) : this._infoId >= 7213 && this._infoId <= 7215 ? a.Data.Event.crown_dirty.dispatchEvent(this) : a.Data.Event.prop_dirty.dispatchEvent({_prop: this})
            }, e
        }();
        n.Prop = i, cc._RF.pop()
    }, {"../data": "data"}],
    PurchaseUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7679fSPvvVHAI5UvFSP0Jzs", "PurchaseUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data/data"), i = e("../../leocool/lcStr"), o = e("../StringEnums"),
            r = e("../../leocool/lcAppCfg"), _ = e("./RechargeUtil");
        (function (e) {
            function t(e, t) {
                if (void 0 === t && (t = null), e == a.Data.PurchaseType.month_card_1) return "comyouxiqunjdzh7";
                if (e == a.Data.PurchaseType.month_card_2) return "comyouxiqunjdzh8";
                if (e == a.Data.PurchaseType.fund) return "comyouxiqunjdzh9";
                if (e == a.Data.PurchaseType.daily_1) return n(a.Data._globalInfo._monthCardRmb[3]);
                if (e == a.Data.PurchaseType.daily_2) return n(a.Data._globalInfo._monthCardRmb[4]);
                if (e == a.Data.PurchaseType.package_1) return "comyouxiqunjdzh11";
                if (e == a.Data.PurchaseType.package_2) return "comyouxiqunjdzh12";
                if (e == a.Data.PurchaseType.package_3) return "comyouxiqunjdzh13";
                if (e == a.Data.PurchaseType.limit_1) return n(a.Data._globalInfo._limitRmb[0]);
                if (e == a.Data.PurchaseType.limit_2) return n(a.Data._globalInfo._limitRmb[1]);
                if (e == a.Data.PurchaseType.new_suit_bags1) return "comyouxiqunjdzh14";
                if (e == a.Data.PurchaseType.new_suit_bags2) return "comyouxiqunjdzh15";
                if (e == a.Data.PurchaseType.new_suit_bags3) return "comyouxiqunjdzh16";
                var i = "";
                switch (t) {
                    case 6:
                        i = "1";
                        break;
                    case 30:
                        i = "2";
                        break;
                    case 98:
                        i = "3";
                        break;
                    case 198:
                        i = "4";
                        break;
                    case 328:
                        i = "5";
                        break;
                    case 648:
                        i = "6"
                }
                return "comyouxiqunjdzh" + i
            }

            function n(e) {
                return 6 == e ? "com.game.juedouzc.package2.ticket_6" : 30 == e ? "com.game.juedouzc.package3.ticket_30" : 28 == e ? "com.game.juedouzc.gold.ticket_28" : 68 == e ? "com.game.juedouzc.gold.ticket_68" : 88 == e ? "com.game.juedouzc.gold.ticket_88" : "com.game.juedouzc.gem.ticket_" + e
            }

            function s(e) {
                return a.Data._iapInfo[e]._RMB
            }

            e.getProductName = t, e.getProductNameByPrice = n, e.getProductTitle = function (e) {
                return e == a.Data.PurchaseType.month_card_1 ? r.lcAppCfg.isAppStoreReviewing() ? i.lcStr(o.STR.SUPER_BONUS_1) : i.lcStr(o.STR.MONTH_CARD1) : e == a.Data.PurchaseType.month_card_2 ? r.lcAppCfg.isAppStoreReviewing() ? i.lcStr(o.STR.SUPER_BONUS_2) : i.lcStr(o.STR.MONTH_CARD2) : e == a.Data.PurchaseType.fund ? r.lcAppCfg.isAppStoreReviewing() ? i.lcStr(o.STR.SUPER_BONUS_3) : i.lcStr(o.STR.FUND_LEVEL) : e == a.Data.PurchaseType.daily_1 ? i.lcStr(o.STR.FIRST_RECHARGE_BONUS_2) : e == a.Data.PurchaseType.daily_2 ? i.lcStr(o.STR.FIRST_RECHARGE_BONUS_2) : e >= a.Data.PurchaseType.package_1 && e < a.Data.PurchaseType.limit_1 ? i.lcStr(o.STR.SUPER_PACKAGE_1 + e - a.Data.PurchaseType.package_1) : e >= a.Data.PurchaseType.limit_1 && e < a.Data.PurchaseType.limit_last ? i.lcStr(o.STR.LIMIT_PACKAGE_1 + e - a.Data.PurchaseType.limit_1) : e >= a.Data.PurchaseType.Preferential1 && e <= a.Data.PurchaseType.Preferential_end ? i.lcStr(70111) : e >= a.Data.PurchaseType.Preferential2_start && e <= a.Data.PurchaseType.Preferential2_end ? i.lcStr(70111) : e >= a.Data.PurchaseType.new_server_daliy_card_common && e <= a.Data.PurchaseType.new_server_daliy_card_legend ? i.lcStr(41114) : e == a.Data.PurchaseType.new_suit_bags1 ? i.lcStr(41163) : e == a.Data.PurchaseType.new_suit_bags2 ? i.lcStr(41164) : e == a.Data.PurchaseType.new_suit_bags3 ? i.lcStr(41165) : e == a.Data.PurchaseType.new_suit_bags4 ? i.lcStr(41165) : e >= a.Data.PurchaseType.zing_card_recharge1 && e <= a.Data.PurchaseType.zing_card_recharge4 ? i.lcStr(80032) : e == a.Data.PurchaseType.special_package_recharge || e == a.Data.PurchaseType.special_package_recharge2 ? i.lcStr(41834) : e >= a.Data.PurchaseType.annual_recharge_package1 && e <= a.Data.PurchaseType.annual_recharge_package3 ? i.lcStr(41854) : e >= a.Data.PurchaseType.return_package_1_start && e <= a.Data.PurchaseType.return_package_2_end ? i.lcStr(41907) : e >= a.Data.PurchaseType.yugi_mutou_pack_start && e <= a.Data.PurchaseType.yugi_mutou_pack_end ? i.lcStr(42104) : e >= a.Data.PurchaseType.seto_kaiba_pack_start && e <= a.Data.PurchaseType.seto_kaiba_pack_end ? i.lcStr(42103) : e >= a.Data.PurchaseType.unlock_role_start && e <= a.Data.PurchaseType.unlock_role_end ? i.lcStr(o.STR.UNLOCK) + i.lcStr(o.STR.CHARACTER) : string.format("%d %s", a.Data._globalInfo._ingotValue[e - 1], i.lcStr(o.STR.SID_RES_NAME_3))
            }, e.getDisplayPrice = function e(n) {
                var a = null, _ = r.lcAppCfg.getChannelName();
                if ("APPSTORE" != _ && "FACEBOOK" != _ || (a = t(n)), null != a && null != e) {
                    var c = e(a);
                    if ("" != c) return c
                }
                return string.format("%s %d", i.lcStr(o.STR.RMB), s(n))
            }, e.getUSDPriceByRMB = function (e, t) {
                var n = 9999;
                switch (e + "") {
                    case"6":
                        n = .9;
                        break;
                    case"30":
                        n = 4.5;
                        break;
                    case"98":
                        n = 14.9;
                        break;
                    case"198":
                        n = 30;
                        break;
                    case"328":
                        n = 49;
                        break;
                    case"648":
                        n = 99;
                        break;
                    case"28":
                        n = 4.3;
                        break;
                    case"68":
                        n = 10;
                        break;
                    case"88":
                        n = 13.5
                }
                return n
            }, e.getPrice = s, e.getIngot = function (e, t) {
                var n = 0;
                return P.isGemRechargeType(e) ? (n = t || _.RechargeUtil.isRecharged(e) ? a.Data._iapInfo[e]._gift : 0, [a.Data._iapInfo[e]._ingot, n]) : a.Data._iapInfo[e] ? [a.Data._iapInfo[e]._ingot, n] : [0, n]
            }
        })(n.PurchaseUtil || (n.PurchaseUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../StringEnums": "StringEnums",
        "../data/data": "data",
        "./RechargeUtil": "RechargeUtil"
    }],
    RankPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1d2ffaVTQlAlo7FoWKrax+a", "RankPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lcStr"),
            s = e("../../StringEnums"), c = e("../../../leocool/lc"), l = e("../../data/data"),
            d = e("../../utils/UIUtil"), p = e("../../utils/SpriteUtil"), u = e("../../ClientView"),
            g = e("../../config/UICfg"), h = e("../node/NodeWithListView"), f = e("../../../leocool/lcAppCfg"),
            m = e("../widget/UserWidget"), y = e("../widget/UnionWidget"), T = e("../../../nox"), S = c.lc.tostring,
            C = cc.Button, v = e("../../utils/RichTextUtil"), b = e("../../ClientData"), E = e("../../utils/SpineUtil"),
            I = e("../../utils/LoginData"), A = e("../node/NodeWithShaderButton"), R = e("../widget/SpriteLabel"),
            B = e("../form/ClashUserInfoForm"), N = e("./union/UnionDetailForm"), D = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.RankPanel) || this;
                    return t.mBackBtn = null, t._isPre = !1, t._range = null, t._isUnlock = !0, t._panelName = "RankPanel", t
                }

                return a(t, e), t.prototype.init = function (t, n, a, i) {
                    if (e.prototype.init.call(this), this._isShowResourceUI = !0, this._range = t, this._isPre = i, this.refreshRank(), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER, 0), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, 5), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, 2), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, 3), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, 4), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY), P._playerRank.sendRankRequest(SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX), this._nowTab = this._tabs[n] ? this._tabs[n] : this._tabs[0], t == l.Data.RankRange.lord && this._nowTab == this._tabs[0]) for (var o = 0; o < this._nowTab._tabs.length; o++) (this._nowTab._tabs[o]._subIndex != a || a) && (this._nowSubTab = this._nowTab._tabs[o])
                }, t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("btn_Back", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this._subTabNode = r.noxcc.find("PageManage_Node/LevelRank_Button/TopScrollView", this.getRootNode()), this._listNode = r.noxcc.find("PageManage_Node/LevelRank_Button/MainScrollView/view/content", this.getRootNode()), this._tip = r.noxcc.find("PageManage_Node/LevelRank_Button/MainScrollView/test", this.getRootNode()), this._none = r.noxcc.find("PageManage_Node/LevelRank_Button/MainScrollView/none", this.getRootNode()), this._selfArea = r.noxcc.find("PageManage_Node/self_Area_bg/self_Area", this.getRootNode()), this._tabArea = r.noxcc.find("Left_ScrollView/view/content", this.getRootNode()), this._tabNode = r.noxcc.find("Button", this._tabArea), this._tabNode.active = !1, r.noxcc.setParent(this._tabNode, this.getRootNode()), null == this._range && (this._range = l.Data.RankRange.lord), this.initMainList(), this.refreshRank(), this._tabBtn = [], this._tabIcon = [], this._tabVals = [];
                    for (var e = 0; e < this._tabs.length; e++) {
                        var t = r.noxcc.instantiate(this._tabNode);
                        t.active = !0, r.noxcc.setParent(t, this._tabArea), this._tabBtn[e] = t.getComponent(C), this._tabIcon[e] = r.noxcc.findSprite("icon", t), this._tabVals[e] = r.noxcc.findLabel("Label", t), r.noxcc.setNodeColor(this._tabVals[0].node, c.lc.Color3B.yellow), r.noxcc.setLabelString(this._tabVals[e], this._tabs[e]._str), this._nowTab = this._tabs[0], this._tabIcon[e].node.active = this._tabs[e] == this._nowTab, r.noxcc.addClick(this._tabBtn[e], this, this.onToggleClick, this._tabs[e])
                    }
                }, t.prototype.onToggleClick = function (e) {
                    this._nowTab = e, this._nowSubTab = null;
                    for (var t = 0; t < this._tabs.length; t++) this._tabIcon[t].node.active = this._tabs[t]._str == e._str, r.noxcc.setNodeColor(r.noxcc.find("Label", this._tabIcon[t].node.parent), this._tabs[t]._str == e._str ? c.lc.Color3B.yellow : c.lc.Color3B.white);
                    this.showSubTab()
                }, t.prototype.subTabClick = function (e) {
                    this._nowSubTab = e, this.showSubTab()
                }, t.prototype.onReleaseWidget = function () {
                    this._tabs = [null], this._nowTab = null, this._nowSubTab = null, this._range = null, e.prototype.onReleaseWidget.call(this)
                }, t.prototype.initMainList = function () {
                    this._list = h.NodeWithListView.createV(cc.size(c.lc.w(this._listNode), c.lc.h(this._listNode)), 20, 10), this._list.setAnchorPoint(.5, 0), c.lc.addChildToPosLB(this._listNode, this._list, cc.v2(c.lc.cw(this._listNode), 0))
                }, t.prototype.refreshRank = function () {
                    var e, t = this._range,
                        n = this._isPre ? SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE : SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER;
                    if (t == l.Data.RankRange.lord) {
                        var a = [{
                            _str: _.lcStr(l.Data._characterInfo[5]._nameSid),
                            _subIndex: 15,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, _subType: 5}
                        }, {
                            _str: _.lcStr(l.Data._characterInfo[2]._nameSid),
                            _subIndex: 12,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, _subType: 2}
                        }, {
                            _str: _.lcStr(l.Data._characterInfo[3]._nameSid),
                            _subIndex: 13,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, _subType: 3}
                        }, {
                            _str: _.lcStr(l.Data._characterInfo[4]._nameSid),
                            _subIndex: 14,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL, _subType: 4}
                        }], i = [{
                            _str: _.lcStr(s.STR.TROPHY_RANK_ZONE),
                            _subIndex: 22,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER, _subType: 0}
                        }, {
                            _str: _.lcStr(s.STR.TROPHY_RANK_REGION),
                            _subIndex: 21,
                            _isSub: !0,
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY}
                        }];
                        f.lcAppCfg.isAppStoreReviewing() ? (e = [{
                            _str: _.lcStr(s.STR.FIND_CLASH_TITLE),
                            _tabs: i
                        }, {
                            _str: _.lcStr(s.STR.UNION_RANK),
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY}
                        }], this._unionTab = e[1]) : (e = [{
                            _str: _.lcStr(s.STR.FIND_CLASH_TITLE),
                            _tabs: i
                        }, {
                            _str: _.lcStr(s.STR.FIND_ARENA_TITLE),
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX}
                        }, {_str: _.lcStr(s.STR.CHARACTER_LEVEL), _tabs: a}, {
                            _str: _.lcStr(s.STR.UNION_RANK),
                            _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY}
                        }], this._arenaTab = e[1], this._levelTab = e[2], this._unionTab = e[3])
                    } else if (t == l.Data.RankRange.union) e = [{
                        _str: _.lcStr(s.STR.UNION_RANK),
                        _userData: {_type: SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY}
                    }], this._unionTab = e[0]; else {
                        for (var o = [], r = l.Data._globalInfo._ladderStage, d = 1; d <= r.length - 1; d++) {
                            var p = string.format("%d%s-%d%s", r[d - 1], _.lcStr(s.STR.LEVEL_S), r[d - 1 + 1] - 1, _.lcStr(s.STR.LEVEL_S));
                            o.push({_str: p, _subIndex: 100 + d, _isSub: !0, _userData: {_type: n, _subType: d}})
                        }
                        o.push({
                            _str: string.format(_.lcStr(s.STR.LEVEL_ABOVE), c.lc.arrayAt(r, -1)),
                            _subIndex: 100 + r.length,
                            _isSub: !0,
                            _userData: {_type: n, _subType: r.length}
                        }), o.push({
                            _str: _.lcStr(s.STR.TOTAL_RANK),
                            _subIndex: 100,
                            _isSub: !0,
                            _userData: {_type: n, _subType: 0}
                        }), e = [{_str: _.lcStr(s.STR.FIND_CLASH_TITLE), _tabs: o}]
                    }
                    this._tabs = e
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listeners = [], this._listeners.push(l.Data.Event.rank_list_dirty.addListener(t, function (e, n) {
                        e == t._rankType && t._isUnlock && t.refreshItemList()
                    })), this._listeners.push(l.Data.Event.union_enter_dirty.addListener(t, function () {
                        t._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL && t.refreshRank()
                    })), this._listeners.push(l.Data.Event.union_exit_dirty.addListener(t, function () {
                        t._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL && t.refreshRank()
                    })), this.refreshRank(), this._isUnlock && this.refreshItemList(), this.showSubTab()
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.showSubTab = function () {
                    var e = this;
                    if (this._subTabNode.active = !(this._nowTab._str == this._unionTab._str || this._nowTab._str == this._arenaTab._str || this._range == l.Data.RankRange.union), this._nowTab._tabs) {
                        var t = r.noxcc.find("view/content", this._subTabNode), n = r.noxcc.find("button", t);
                        n.active = !1, r.noxcc.setParent(n, this.getRootNode()), t.destroyAllChildren(), this._subTabBtn = [], this._subTabIcon = [], this._subTabVals = [];
                        for (var a = 0; a < this._nowTab._tabs.length; a++) {
                            var i = r.noxcc.instantiate(n);
                            i.active = !0, r.noxcc.setParent(i, t), this._subTabBtn[a] = i.getComponent(C), this._subTabIcon[a] = r.noxcc.findSprite("icon", i), this._subTabVals[a] = r.noxcc.findLabel("Label", i), r.noxcc.setLabelString(this._subTabVals[a], this._nowTab._tabs[a]._str), this._nowSubTab = this._nowSubTab || this._nowTab._tabs[0], this._subTabIcon[a].node.active = this._nowTab._tabs[a] == this._nowSubTab, r.noxcc.setNodeColor(this._subTabVals[a].node, this._nowTab._tabs[a] == this._nowSubTab ? c.lc.Color3B.yellow : c.lc.Color3B.white), r.noxcc.addClick(this._subTabBtn[a], this, this.subTabClick, this._nowTab._tabs[a])
                        }
                    }
                    var o = function (t) {
                        e._selfArea.removeChildrenByTagID(100), e._selfArea.setVisible(!0), e.addSelfRankAreas(), e._tip.destroyAllChildren();
                        var n = v.RichTextUtil.createBoldRichTextMultiLine(t, g.UICfg.RICHTEXT_PARAM_LIGHT_S1, 600).node;
                        c.lc.addChildToCenter(e._tip, n), e._tip.active = !0, e._listNode.active = !1
                    };
                    if (this.updateRankType(), this.refreshSelfArea(), this._isUnlock = !0, this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY) {
                        if (!P.checkFindClash()) return this._isUnlock = !1, void o(string.format(_.lcStr(s.STR.UNLOCK_RANK_CLASH_TROPHY_TIP, !0), l.Data._levelInfo[l.Data.CLASH_UNLOCK_LEVEL]._id % 100, _.lcStr(l.Data._levelInfo[l.Data.CLASH_UNLOCK_LEVEL]._nameSid)))
                    } else if (e._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER) {
                        if (!P.checkFindClash()) return this._isUnlock = !1, void o(string.format(_.lcStr(s.STR.UNLOCK_RANK_TROPHY_TIP1), l.Data._levelInfo[l.Data.CLASH_UNLOCK_LEVEL]._id % 100, _.lcStr(l.Data._levelInfo[l.Data.CLASH_UNLOCK_LEVEL]._nameSid), 30));
                        if (!P.checkCrossFindClash()) return this._isUnlock = !1, void o(string.format(_.lcStr(s.STR.UNLOCK_RANK_TROPHY_TIP2), 30))
                    } else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX && P.getMaxCharacterLevel() < l.Data._globalInfo._unlockLadder) return this._isUnlock = !1, void o(string.format(_.lcStr(s.STR.UNLOCK_RANK_LADDER_EX_TIP, !0), l.Data._globalInfo._unlockLadder));
                    P._playerRank.sendRankRequest(this._rankType, this._rankSubType) && u.ClientView.getActiveIndicator().show()
                }, t.prototype.updateRankType = function () {
                    this._rankType = this._nowSubTab ? this._nowSubTab._userData._type : this._nowTab._userData._type, this._rankSubType = this._nowSubTab ? this._nowSubTab._userData._subType : null
                }, t.prototype.refreshSelfArea = function () {
                    this._selfArea._avatar && this._selfArea._avatar.removeFromParent();
                    var e = this._selfArea._avatar;
                    this._nowTab._str != this._unionTab._str && this._range == l.Data.RankRange.lord ? ((e = m.UserWidget.create(P, m.UserWidget.Flag.NAME_UNION).node).setScale(.8), c.lc.addChildToPosLB(this._selfArea, e, cc.v2(175 + c.lc.w(e) / 2 - 6 - 96, c.lc.ch(this._selfArea) - 4))) : P.hasUnion() ? ((e = y.UnionWidget.create(P._playerUnion.getMyUnion(), !1).node).setScale(.8), c.lc.addChildToPosLB(this._selfArea, e, cc.v2(100 + c.lc.w(e) / 2 - 156 + 14, c.lc.h(this._selfArea) / 2))) : (e = d.UIUtil.createTTF(_.lcStr(s.STR.NOT_JOIN_ANY_UNION), g.UICfg.FontSize.S1, g.UICfg.COLOR_TEXT_ORANGE), c.lc.addChildToPosLB(this._selfArea, e, cc.v2(200 + c.lc.w(e) / 2 - 6, c.lc.h(this._selfArea) / 2))), this._selfArea._avatar = e
                }, t.prototype.refreshItemList = function () {
                    var e = this;
                    if (u.ClientView.getActiveIndicator().hide(), null != P._playerRank.getRanks(this._rankType, this._rankSubType)) {
                        this._tip.active = !1, this._listNode.active = !0, this.refreshSelfArea();
                        var t = P._playerRank.getRanks(this._rankType, this._rankSubType);
                        this._selfArea.removeChildrenByTagID(100), this._selfArea.setVisible(!0), this.addSelfRankAreas();
                        var n = Math.min(50, t._count || 0);
                        this._list.bindData(t, function (t, n) {
                            e.setOrCreateItem(t, n, e._rankType)
                        }, n, 0), this._none.active = 0 == n && 1 == this._isUnlock;
                        for (var a = 1; a <= n; a++) {
                            var i = t[a - 1], o = this.setOrCreateItem(null, i, e._rankType, !0);
                            this._list.pushBackCustomItem(o)
                        }
                        this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL ? this._list.checkEmpty(_.lcStr(s.STR.LIST_EMPTY_UNION)) : this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE ? this._list.checkEmpty(_.lcStr(s.STR.LIST_EMPTY_BOSS)) : this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME ? this._list.checkEmpty(_.lcStr(s.STR.LIST_EMPTY_BOSS_UNION)) : this._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER && this._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX && this._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE && this._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY || this._list.checkEmpty(_.lcStr(s.STR.LIST_EMPTY_RANK))
                    }
                }, t.prototype.setOrCreateItem = function (e, t, n, a) {
                    var i = this;
                    if (null == e && ((e = A.NodeWithShaderButton.createShaderButton("img_rank_bg_n", function () {
                        if (c.lc.V(e._rank)) {
                            if (i._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY) return;
                            i._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER && i._rankType != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX ? d.UIUtil.operateUser(e._rank._user, e) : e._rank._user._id != i._list._data._rankId && B.ClashUserInfoForm.show(e._rank._user._id)
                        }
                    })).setScale9Enabled(!0), e.setZoomScale(0), e.setCapInsets(cc.rect(16, 0, 6, 95)), e.setContentSize(cc.size(c.lc.w(i._listNode) - 40, 95))), e._isShow != a) {
                        if (e._isShow = a, e.destroyAllChildren(), !a) return e;
                        var o = null;
                        if (this._nowTab._str != this._unionTab._str) e._userArea = m.UserWidget.create(t._user, m.UserWidget.Flag.NAME_UNION), e._userArea.node.setScale(.8), c.lc.addChildToPosLB(e, e._userArea.node, cc.v2(64 + c.lc.w(e._userArea.node) / 2, c.lc.h(e) / 2)), e._avatarArea = e._userArea, n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER ? o = this.addValueArea(e, "img_icon_power", t._value) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_STAR ? o = this.addValueArea(e, "world_city_star_focus3", t._value) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY ? o = this.addValueArea(e, b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1), t._value) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_BOSS || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE ? o = this.addValueArea(e, "img_icon_score", t._value, 160) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE ? o = this.addValueArea(e, b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1), t._value) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX && (o = this.addValueArea(e, b.ClientData.getResIconName(l.Data.ResType.ladder_trophy, !1), t._value)); else {
                            r.noxcc.addClick(e, function () {
                                P.hasUnion() ? parseInt(t._union._id) != parseInt(P._unionId) && N.UnionDetailForm.create(e._rank._union._id).show() : u.ClientView.operateUnion(t._union, e)
                            });
                            var _ = y.UnionWidget.create(t._union, !0);
                            _.node.setScale(.8), c.lc.addChildToPosLB(e, _.node, cc.v2(100 + c.lc.w(_.node) / 2 - 156 + 14, c.lc.h(e) / 2)), e._avatarArea = _, n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME ? o = this.addUBossKillValueArea(e) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY && (o = this.addValueArea(e, b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1), t._value))
                        }
                        if (o && (o.setPosition(c.lc.cw(e) - 20 - c.lc.cw(o), 0), e._valueArea = o, n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY)) {
                            var s = string.format("animation%d", P._playerFindClash.getGrade(t._user._trophy)),
                                h = E.SpineUtil.createSpineAnim("duanwei", "default", s, !0);
                            if (h.setScale(.25), n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER) {
                                var f = d.UIUtil.createTTF("", g.UICfg.FontSize.S2, c.lc.Color4B.white),
                                    T = p.SpriteUtil.createSprite({
                                        _name: "img_com_bg_58",
                                        _crect: g.UICfg.CRECT_COM_BG58,
                                        _size: cc.size(160, p.SpriteUtil.frameFullSize("img_com_bg_58").height - 6)
                                    }).node, S = r.noxcc.newNode("regionNode");
                                S.setContentSize(T.getContentSize()), r.noxcc.setNodeOpacity(T, 127), c.lc.offset(f, -180), S.addChild(T), c.lc.addChildToCenter(S, f), c.lc.addChildToPosAR(e, S, cc.v2(c.lc.cw(e) - c.lc.w(S) - 180, 0)), e._valueArea._region = f, c.lc.addChildToPosAR(e, h, cc.v2(c.lc.left(e._valueArea) - 300, 0), 2)
                            } else c.lc.addChildToPosAR(e, h, cc.v2(c.lc.left(e._valueArea) - 100, 0), 2);
                            e._valueArea._spine = h
                        }
                        return e.removeChildrenByTagID(100), e._rank = t, e._rankType = n, this.addRankValue(e, t._rank), this._nowTab._str != this._unionTab._str && (t._id == this._list._data._rankId && t._rank > 3 ? r.noxcc.setNodeColor(e, g.UICfg.COLOR_TEXT_GREEN) : r.noxcc.setNodeColor(e, c.lc.Color3B.white), e._avatarArea.setUser(t._user, !0), this._nowTab._str == this._levelTab._str ? e._avatarArea.setLevel(t._value) : t._id == P._unionId && t._rank > 3 ? r.noxcc.setNodeColor(e, g.UICfg.COLOR_TEXT_GREEN) : r.noxcc.setNodeColor(e, c.lc.Color3B.white), e._avatarArea.setUnion(t._union)), e._valueArea && (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME ? e._valueArea.updateTime(t._value) : n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY ? e._valueArea._label.setString(string.format("%d", t._value)) : n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER && n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX && n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE && n != SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY || e._valueArea._region && e._valueArea._region.setString(I.LoginData.genChannelRegionName(t._user._regionId)), e._valueArea._label.setString(string.format("%d", t._value))), e
                    }
                }, t.prototype.addValueArea = function (e, t, n, a) {
                    var i = d.UIUtil.createIconLabelArea(t, S(n), c.lc.D(a, 110));
                    return i.setAnchorPoint(.5, .5), e.addChild(i), i
                }, t.prototype.addUBossKillValueArea = function (e) {
                    var t = c.lc.createNode(cc.size(140, 80));
                    e.addChild(t);
                    var n = d.UIUtil.createTTF(_.lcStr(s.STR.KILL_DURATION), g.UICfg.FontSize.S2, g.UICfg.COLOR_LABEL_DARK);
                    n.setAnchorPoint(1, .5), c.lc.addChildToPosLB(t, n, cc.v2(c.lc.w(t) - 2, 0));
                    var a = d.UIUtil.createTTF("0", g.UICfg.FontSize.S1, g.UICfg.COLOR_TEXT_RED_DARK);
                    return a.setAnchorPoint(1, .5), c.lc.addChildToPosLB(t, a, cc.v2(c.lc.x(n), 0)), t.updateTime = function (e) {
                        if (e > 0) {
                            e /= 1e3;
                            var t = Math.floor(e / l.Data.DAY_SECONDS), n = void 0;
                            e %= l.Data.DAY_SECONDS;
                            var i = Math.floor(e / 3600), o = Math.floor(e % 3600 / 60), r = Math.floor(e % 3600 % 60);
                            n = t > 0 ? string.format("%d%s %02d:%02d:%02d", t, _.lcStr(s.STR.DAY), i, o, r) : string.format("%02d:%02d:%02d", i, o, r), a.setString(n)
                        } else a.setString(_.lcStr(s.STR.VOID))
                    }, t
                }, t.prototype.addSelfRankAreas = function () {
                    var e = this, t = this._selfArea;
                    this._selfArea.getChildByName("selfRankArea") && this._selfArea.getChildByName("selfRankArea").destroy();
                    var n = P._playerRank.getRanks(this._rankType, this._rankSubType), a = n ? n._selfRank : n,
                        i = r.noxcc.newNode("selfRankArea");
                    if (n && a) if (a._rank <= 3) {
                        var o = p.SpriteUtil.createSprite(string.format("img_rank_%02d", a._rank)).node;
                        i.setContentSize(o.getContentSize()), c.lc.addChildToCenter(i, o), i.setPosition(20 + c.lc.cw(i) - c.lc.cw(t), 0)
                    } else {
                        var _ = R.SpriteLabel.create("img_rank_%s", 4, a ? a._rank : null).node;
                        i.setContentSize(_.getContentSize()), c.lc.addChildToCenter(i, _), i.setPosition(45 - c.lc.cw(t), 0), _.setScale(.6)
                    } else {
                        _ = p.SpriteUtil.createSprite(string.format("img_rank_%s", a)).node;
                        i.setContentSize(_.getContentSize()), c.lc.addChildToCenter(i, _), i.setPosition(45 - c.lc.cw(t), 0), _.setScale(.9)
                    }
                    this._selfArea.addChild(i);
                    var s, u = function (n, i) {
                        if (t._avatar && t._avatar.getComponent(m.UserWidget).getNameArea()) {
                            var o = e.addValueArea(t, n, a ? a._value : 0, i);
                            o.setTagID(100), o.setPosition(c.lc.cw(t) - 24 - c.lc.cw(o), 0)
                        }
                    }, h = function (n, i, o) {
                        var r = e.addValueArea(t, n, a ? a._value : 0, o);
                        r.setTagID(100), r.setPosition(c.lc.cw(t) - 30 - c.lc.cw(r), 0)
                    };
                    if (this._selfArea.removeChildrenByTagID(6), this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_POWER) u("img_icon_power"); else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_STAR) u("world_city_star_focus3"); else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_TROPHY) {
                        this._selfArea <= P.getMaxCharacterLevel() && a && a._rank, h(b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1));
                        var f = string.format("animation%d", P._playerFindClash.getGrade(P._trophy));
                        (s = E.SpineUtil.createSpineAnim("duanwei", "default", f, !0)).setScale(.25), c.lc.addChildToPosAR(t, s, cc.v2(c.lc.cw(t) - c.lc.w(s) - 250, 0), 2, 6), t._spine = s, h(b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1))
                    } else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_PRE) {
                        h(b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1));
                        f = string.format("animation%d", P._playerFindClash.getGrade(P._trophy));
                        (s = E.SpineUtil.createSpineAnim("duanwei", "default", f, !0)).setScale(.25), c.lc.addChildToPosAR(t, s, cc.v2(c.lc.cw(t) - c.lc.w(s) - 250, 0), 2, 6), t._spine = s;
                        var y = d.UIUtil.createTTF("", g.UICfg.FontSize.S2, c.lc.Color4B.white),
                            S = p.SpriteUtil.createSprite({
                                _name: "img_com_bg_58",
                                _crect: g.UICfg.CRECT_COM_BG58,
                                _size: cc.size(160, p.SpriteUtil.frameFullSize("img_com_bg_58").height - 6)
                            }).node;
                        r.noxcc.setNodeOpacity(S, 127), c.lc.addChildToPosAR(t, S, cc.v2(c.lc.cw(t) - c.lc.w(S) - 180, 0), 1, 6), c.lc.offset(t._spine, -180), c.lc.addChildToCenter(S, y), t._region = y, y.setString(I.LoginData.genChannelRegionName(T.nox.toNumber(I.LoginData._userRegion._id)))
                    } else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER_EX) h(b.ClientData.getResIconName(l.Data.ResType.ladder_trophy, !1)); else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_BOSS || this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_SCORE) u("img_icon_score", 160); else if (this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME) {
                        var C = this.addUBossKillValueArea(t);
                        C.setTagID(100), C.setPosition(c.lc.w(t) - 34 - c.lc.w(C) / 2, c.lc.h(t) / 2), C.updateTime(a ? a._value : 0)
                    } else this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL ? this._selfArea._avatar.getComponent(m.UserWidget).setLevel(a ? a._value : 0) : this._rankType == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY && h(b.ClientData.getResIconName(l.Data.ResType.clash_trophy, !1));
                    this._selfArea = t
                }, t.prototype.addRankValue = function (e, t) {
                    var n = r.noxcc.newNode("rankVal");
                    if (t <= 3) {
                        var a = p.SpriteUtil.createSprite(string.format("img_rank_%02d", t)).node;
                        n.setContentSize(a.getContentSize()), c.lc.addChildToCenter(n, a), n.setPosition(20 + c.lc.cw(n) - c.lc.cw(e), 0), p.SpriteUtil.addScale9Sprite(e, "img_rank_bg_" + t)
                    } else {
                        a = p.SpriteUtil.createSprite("img_rank_" + t % 10).node;
                        t < 10 ? (n.setContentSize(a.getContentSize()), c.lc.addChildToCenter(n, a)) : (n.setContentSize(cc.size(2 * c.lc.w(a), c.lc.h(a))), c.lc.addChildToPosLB(n, a, cc.v2(3 * c.lc.cw(a), 0)), c.lc.addChildToPosLB(n, p.SpriteUtil.createSprite("img_rank_" + Math.floor(t / 10)).node, cc.v2(c.lc.cw(a), 0))), n.setPosition(57 - c.lc.cw(e), 0), p.SpriteUtil.addScale9Sprite(e, "img_rank_bg_n")
                    }
                    e.addChild(n, 0, "rankVal")
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i.show(), i
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BasePanel);
        n.RankPanel = D, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/LoginData": "LoginData",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../form/ClashUserInfoForm": "ClashUserInfoForm",
        "../node/NodeWithListView": "NodeWithListView",
        "../node/NodeWithShaderButton": "NodeWithShaderButton",
        "../widget/SpriteLabel": "SpriteLabel",
        "../widget/UnionWidget": "UnionWidget",
        "../widget/UserWidget": "UserWidget",
        "./BasePanel": "BasePanel",
        "./union/UnionDetailForm": "UnionDetailForm"
    }],
    RankPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "11064XTB2RPXYGGNN0STfO3", "RankPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendRankRequest = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = e, e == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_LADDER || e == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_WORLD_TROPHY_EX ? n.setExtensions_Rank_pb_SglRankMsg_rank_ladder_req(t) : e == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_CHAR_LEVEL && n.setExtensions_Rank_pb_SglRankMsg_rank_char_req(t), a.NetUtil.sendProtoMsg(n)
            }, e.sendRankUBoss = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = e, n.setExtensions_Rank_pb_SglRankMsg_rank_uboss_req(t), a.NetUtil.sendProtoMsg(n)
            }
        })(n.RankPart || (n.RankPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    Rank: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "acbe1oXgZZIIZdrisXy/1UW", "Rank"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../Social/User"), i = e("../Union/Union"), o = function () {
            function e() {
            }

            return e.prototype.set = function (e, t, n) {
                if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_LEVEL || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UBOSS_TIME || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_UNION_TROPHY) this._union = i.Union.create(e.union_info), this._id = this._union._id; else if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_TEAM || t == SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE_TEAM) for (var o = e.team.user_info, r = [], _ = 0; _ < o.length; ++_) {
                    var s = o[_];
                    r.push(a.User.create(s))
                } else this._user = a.User.create(e.user_info), this._id = this._user._id;
                this._value = e.value, this._rank = e.rank, this._type = t, this._subType = n
            }, e
        }();
        n.Rank = o, cc._RF.pop()
    }, {"../Social/User": "User", "../Union/Union": "Union"}],
    RechargeScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "41b52V0kKBAtYLCJzs1zeIM", "RechargeScene"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../ui/AllViewTypes"), i = e("../const/SceneId"), o = e("../../noxcc"), r = e("./SceneManager"),
            _ = e("../../leocool/lcStr"), s = e("../StringEnums"), c = e("../data/data"), l = e("../../nox"),
            d = e("../ui/form/VIPInfoForm"), p = e("../ClientView"), u = e("./BaseUIScene"),
            g = e("../utils/PurchaseUtil"), h = e("../utils/TimeUtil"), f = function (e) {
                function t() {
                    return e.call(this, i.SceneId.recharge, a.AllViewTypes.RechargeScene) || this
                }

                return __extends(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = o.noxcc.find(this.mRoot, "topBar/title");
                    o.noxcc.setString(t, _.lcStr(s.STR.RECHARGE));
                    var n = o.noxcc.find(this.mRoot, "topBar/closeBtn");
                    o.noxcc.addClick(n, this, function () {
                        r.SceneManager.popScene()
                    });
                    var a = o.noxcc.find(this.mRoot, "VIP/img_btn_green");
                    o.noxcc.addClick(a, this, function () {
                        d.VIPInfoForm.create().show()
                    });
                    var i = o.noxcc.find(this.mRoot, "VIP/img_btn_green/Label");
                    o.noxcc.setString(i, _.lcStr(s.STR.SPECIFIC_PRIVILEGE)), this.onUpdateScene()
                }, t.prototype.onUpdateScene = function () {
                    var e = o.noxcc.find(this.mRoot, "VIP/img_vip_value_bg/VipLabel");
                    o.noxcc.setString(e, "VIP" + P._vip);
                    var t = o.noxcc.find(this.mRoot, "VIP/titleNode/title1"),
                        n = o.noxcc.find(this.mRoot, "VIP/titleNode/title2"),
                        a = o.noxcc.find(this.mRoot, "VIP/titleNode/title3"),
                        i = o.noxcc.find(this.mRoot, "VIP/titleNode/title4");
                    o.noxcc.setString(t, _.lcStr(s.STR.RECHARGE_AGAIN)), o.noxcc.setString(n, " " + l.nox.toString(c.Data._globalInfo._vipIngot[P._vip + 1] - c.Data._globalInfo._vipIngot[P._vip] - P._vipExp) + " "), o.noxcc.setString(a, _.lcStr(s.STR.CAN_ARRIVE)), o.noxcc.setString(i, "VIP" + (P._vip + 1));
                    var r = o.noxcc.find(this.mRoot, "VIP/VipBar"),
                        d = P._vipExp / (c.Data._globalInfo._vipIngot[P._vip + 1] - c.Data._globalInfo._vipIngot[P._vip]);
                    o.noxcc.setProgressBarValue(r, d), this.updateRechargeBtn()
                }, t.prototype.updateRechargeBtn = function () {
                    for (var e = this, t = ["animation", "animation2", "animation3", "animation4", "animation5", "animation6", "animation7", "animation8", "animation9", "animation10", "animation11"], n = o.noxcc.find(e.mRoot, "BtnNode"), a = function (a) {
                        var i = n.children[a], r = o.noxcc.find(i, "label_1");
                        o.noxcc.setString(r, "\xa5" + c.Data._globalInfo._ingotRmb[a]);
                        var _ = o.noxcc.find(i, "label_0");
                        o.noxcc.setString(_, c.Data._globalInfo._ingotValue[a]);
                        var s = a + 1;
                        cc.assert(P.isGemRechargeType(s), "out of range");
                        var l = g.PurchaseUtil.getIngot(s), d = (l[0], l[1]), u = !P.isRecharged(s),
                            f = o.noxcc.find(i, "img_recharge_double"), m = o.noxcc.find(i, "img_recharge_gift");
                        f.setVisible(u), m.setVisible(!u && d > 0);
                        var y = o.noxcc.find(i, "img_recharge_gift/New Label");
                        o.noxcc.setString(y, d), o.noxcc.find(i, "goumaizuanshi").getComponent(sp.Skeleton).defaultAnimation = t[a], i.targetOff(e), i.on("click", function () {
                            h.TimeUtil.checkBtnClick() && p.ClientView.startIAP(s)
                        }, e)
                    }, i = 0; i < n.children.length; i++) a(i)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.mListeners = [], t.mListeners.push(c.Data.Event.recharge_success.addListener(null, function () {
                        t.onUpdateScene()
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.onUpdate = function (e) {
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(u.BaseUIScene);
        n.RechargeScene = f, cc._RF.pop()
    }, {
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/form/VIPInfoForm": "VIPInfoForm",
        "../utils/PurchaseUtil": "PurchaseUtil",
        "../utils/TimeUtil": "TimeUtil",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    RechargeUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ec544cMjC1MHb8jcMOj/LqW", "RechargeUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../leocool/lc");
        (function (e) {
            function t(e) {
                return P.isGemRechargeType(e)
            }

            e.isAnyRecharged = function () {
                return P._vip > 0 || P._vipExp > 0
            }, e.isGemRecharged = function () {
                return P.isGemRecharged()
            }, e.isGemRechargeType = t, e.isRecharged = function (e) {
                return P.isRecharged(e)
            }, e.setRecharged = function (e) {
                t(e) && (P._playerBonus._packageBonus[1120]._value = 1), P._playerBonus.incIapCount(e)
            }, e.isRecharge7BonusClaimed = function () {
                return P._playerBonus._packageBonus[1306]._isClaimed
            }, e.getRecharge7BonusValue = function () {
                return P._playerBonus._packageBonus[1306]._value
            }, e.isReturnToGame = function () {
                var e = P._playerBonus._returnBonus;
                return !!a.lc.V(e) && e._value >= e._info._val
            }, e.isReturnToGameClaimed = function () {
                var e = P._playerBonus._returnBonus;
                return !!a.lc.V(e) && e._isClaimed
            }
        })(n.RechargeUtil || (n.RechargeUtil = {})), cc._RF.pop()
    }, {"../../leocool/lc": "lc"}],
    RecommendTroopPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ffcfblzSiJMia/ajmQqOcmF", "RecommendTroopPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../data/data"),
            _ = e("../../../../leocool/lcStr"), s = e("../../form/VisitForm"), c = function (e) {
                function t() {
                    var t = e.call(this, "panel/assistant/RecommendTroopPage") || this;
                    return t._systemRecommendTroops = [], t
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    this.initSystemRecommendTroops(), this.sendGetRecommendTroops(), this.mSubTabBtn = o.noxcc.findButton("TopScrollView/view/content/button_0", this.mRoot), o.noxcc.addClick(this.mSubTabBtn, this, this.showTabFlag);
                    for (var n = function (e) {
                        var n = o.noxcc.findButton("Down_ScrollView/view/content/CardGroup_" + e + "/button", a.mRoot);
                        o.noxcc.addClick(n, a, function () {
                            t.onRecommendTroopBtn(t._systemRecommendTroops[e], r.Data.RecommendTroop.system)
                        })
                    }, a = this, i = 0; i < this._systemRecommendTroops.length; i++) n(i)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this._listeners = [], this._listeners.push(r.Data.Event.recommend_troop_dirty.addListener(this, function () {
                        var e = P._trophy || 0;
                        e = Math.max(800, e), P._playerCard.getRecommendTroops().length
                    }))
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onExit.call(this)
                }, t.prototype.onRecommendTroopBtn = function (e, t) {
                    this.sendGetRecommendTroops(), s.VisitForm.create(e, t).show()
                }, t.prototype.showTabFlag = function () {
                }, t.prototype.sendGetRecommendTroops = function () {
                }, t.prototype.initSystemRecommendTroops = function () {
                    var e = [5, 2, 3, 4], t = r.Data._troopInfo;
                    this._systemRecommendTroops = [];
                    for (var n = 0; n < e.length; ++n) {
                        var a = t[3e3 + e[n]];
                        if (null != a) {
                            for (var i = [], o = [], s = _.lcStr(a._nameSid), c = a._picId, l = a._infoId, d = 0; d < l.length; ++d) {
                                var p = l[d];
                                i.push({info_id: p, num: a._num[d]}), o.push({info_id: p, level: a._level[d]})
                            }
                            var u = {
                                _name: s,
                                _avatar: c,
                                _level: 30,
                                _troopCards: i,
                                _troopLevels: o,
                                _troopSkins: {},
                                _fortressHp: a._fortressHp
                            };
                            this._systemRecommendTroops.push({_player: u, _isAttacker: !0})
                        }
                    }
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BasePage);
        n.RecommendTroopPage = c, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../data/data": "data",
        "../../BasePage": "BasePage",
        "../../form/VisitForm": "VisitForm"
    }],
    RegionScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "30f44gr4SJD6IH51xiCVlf2", "RegionScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BaseScene"), o = e("../const/SceneId"), r = e("../ui/AllViewTypes"), _ = e("../../leocool/lcStr"),
            s = e("../StringEnums"), c = e("../../leocool/lcAppCfg"), l = e("../../nox"), d = e("../../noxcc"),
            p = e("../GuideManager"), u = e("../sdk/SdkManager"), g = e("../utils/LoginData"),
            h = e("../../leocool/lc"), f = e("../const/ConfigKey"), m = e("../ClientView"),
            y = e("../ui/form/RegionSelectForm"), T = e("../../leocool/lcAudio"), S = e("../AudioEnums"),
            C = e("../ClientData"), v = e("./SceneManager"), b = e("./LoadingScene"), E = e("../data/data"),
            I = e("../ui/common/Dialog"), P = e("../utils/TimeUtil"), A = function (e) {
                function t() {
                    return e.call(this, o.SceneId.region, r.AllViewTypes.RegionScene) || this
                }

                return a(t, e), t.prototype.init = function () {
                    t.gCurrenton = this, this._isPacketReceived = !1, this._isGuideOnEnter = !1
                }, t.prototype.onRelease = function () {
                    cc.assert(t.gCurrenton == this, "RegionScene.gCurrenton error"), t.gCurrenton = null
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this, n = d.noxcc.findButton("Buttons/AgreementBtn", t.mRoot);
                    c.lcAppCfg.isShowAgreement() ? n.node.active = !0 : n.node.active = !1, d.noxcc.addClick(n, t, function () {
                        m.ClientView.openUserProtocol()
                    });
                    var a = _.lcStr(s.STR.VERSION) + c.lcAppCfg.getDisplayVersion(),
                        i = d.noxcc.findLabel("VersionLabel", t.mRoot);
                    i.node.scale = .8, d.noxcc.setLabelString(i, a);
                    h.lc.UserDefault.getBoolForKey(f.ConfigKey.agreement, !1);
                    c.lcAppCfg.isAppStoreReviewing(), t._regionArea = d.noxcc.find("RegionArea", t.mRoot), t._regionArea.active = !0, t._btnChange = d.noxcc.findButton("ChangeBtn", t._regionArea), d.noxcc.addClick(t._btnChange, t, function () {
                        var e = y.RegionSelectForm.create();
                        e.setSelectCallback(function (e) {
                            g.LoginData._userRegion._id = e, t.updateSelectedRegion()
                        }), e.show()
                    }), t._btnChange.interactable = !1, t._loadingText = d.noxcc.findLabel("Row1/LoadingText", t._regionArea), t._loadingText.string = "", t._regionText = d.noxcc.findLabel("Row1/RegionText", t._regionArea), t._regionText.string = "", t._btnStart = d.noxcc.findButton("StartBtn", t._regionArea), d.noxcc.addClick(t._btnStart, t, function () {
                        t.switchScene()
                    }), c.lcAppCfg.isAppStoreReviewing()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    p.GuideManager.releaseLayer(), t._loadingTick = 0, t._loadingSchedulerID = l.nox.scheduleInterval(t.updateLoading.bind(t), .2), C.ClientData.reconnectRegionServer(), c.lcAppCfg.isAppStoreReviewing() || T.lcAudio.playAudio(S.AUDIO.M_LOADING), t._regionArea.active = !1, u.SdkManager.login(function () {
                        t._regionArea.active = !0, g.LoginData.hasUserRegion() && t.switchScene()
                    })
                }, t.prototype.onExit = function () {
                    this.unscheduleLoading(), this._listener && (this._listener.remove(), this._listener = null), e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.onMsg = function (e) {
                    var t = e.type;
                    e.status;
                    if (t == SglMsgType_pb.ProtoMsgType.PB_TYPE_REGION_LIST) {
                        var n = e.getExtensions_Region_pb_SglRegionMsg_region_list_resp();
                        g.LoginData._regions = {}, this._maintainInfo = n.maintain_info;
                        for (var a = 0; a < n.region.length; ++a) {
                            var i = g.LoginData.newRegion(n.region[a]);
                            g.LoginData._regions[i._id] = i
                        }
                        g.LoginData._historyRegion = [];
                        var o = n.last_login;
                        for (null == o && (o = []), a = 0; a < o.length; ++a) {
                            var r = g.LoginData.newHistory(o[a]);
                            h.lc.V(g.LoginData._regions[r._rid]) && g.LoginData._historyRegion.push(r)
                        }
                        if (g.LoginData._historyRegion.length > 0) g.LoginData._userRegion._id = l.nox.toString(g.LoginData._historyRegion[0]._rid); else {
                            var _ = null, s = null, d = null;
                            for (var p in g.LoginData._regions) {
                                d = (i = g.LoginData._regions[p])._id, i._isRecommend && (_ = i._id), i._isNew && (s = i._id)
                            }
                            g.LoginData._userRegion._id = l.nox.D2(_, s, d)
                        }
                        this._isPacketReceived = !0, E.Data.Event.region_receive_data.dispatchEvent(), c.lcAppCfg.isAppStoreReviewing() ? this.switchScene() : this.tryUnscheduleLoading()
                    }
                    return !1
                }, t.prototype.unscheduleLoading = function () {
                    this._loadingSchedulerID && (l.nox.unscheduleInterval(this._loadingSchedulerID), this._loadingSchedulerID = null)
                }, t.prototype.tryUnscheduleLoading = function () {
                    this._isPacketReceived && (this.unscheduleLoading(), this.updateSelectedRegion())
                }, t.prototype.updateLoading = function (e) {
                    this._loadingTick++, this._loadingTick >= 4 && (this._loadingTick = 0);
                    var t = _.lcStr(s.STR.REGION_LOADING);
                    if (this._loadingTick > 0) for (var n = 0; n < this._loadingTick; ++n) t += ".";
                    this._loadingText.string = t
                }, t.prototype.updateSelectedRegion = function () {
                    this._loadingText.node.active = !1, this._btnChange.interactable = !0, this._btnStart.interactable = !0;
                    var e = g.LoginData._regions[g.LoginData._userRegion._id];
                    this._regionText.node.active = !0, this._regionText.string = e._name
                }, t.prototype.switchScene = function () {
                    g.LoginData.canEnterRegion() || c.lcAppCfg.isShowDevServerList() ? (g.LoginData.saveUserRegion(), g.LoginData.loadUserRegion(), g.LoginData._isFromRegion = !0, v.SceneManager.replaceScene(b.LoadingScene.create()), u.SdkManager.selectServer()) : I.Dialog.showDialog(string.format(_.lcStr(70066), P.TimeUtil.getDurationMinutes(parseInt(this._maintainInfo))), null, !0)
                }, t.currenton = function () {
                    return t.gCurrenton
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BaseScene);
        n.RegionScene = A, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../const/ConfigKey": "ConfigKey",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../sdk/SdkManager": "SdkManager",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/common/Dialog": "Dialog",
        "../ui/form/RegionSelectForm": "RegionSelectForm",
        "../utils/LoginData": "LoginData",
        "../utils/TimeUtil": "TimeUtil",
        "./BaseScene": "BaseScene",
        "./LoadingScene": "LoadingScene",
        "./SceneManager": "SceneManager"
    }],
    RegionSelectForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f65b6Y9Xq5P/rkX1LY746iR", "RegionSelectForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../../../noxcc"), o = e("../../utils/LoginData"), r = e("../AllViewTypes"),
            _ = e("../../../nox"), s = e("../../StringEnums"), c = e("../../../leocool/lcStr"),
            l = e("../../utils/NetUtil"), d = e("../../../leocool/lcAppCfg"), p = e("../../data/data"), u = 0, g = 1,
            h = 2, f = 3, m = function (e) {
                function t() {
                    var t = e.call(this, r.AllViewTypes.RegionSelectForm) || this;
                    return t._orderedRegions = [], t._mPagButtons = [], t.tabArea = null, t._focusTabIndex = 0, t._groupIndex = 0, t._list = null, t
                }

                return __extends(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t._receiveDataListener = p.Data.Event.region_receive_data.addListener(null, function () {
                        t.initTabAreaData()
                    });
                    var n = i.noxcc.find("top/title", t.mRoot);
                    i.noxcc.setLabelString(n, c.lcStr(s.STR.REGION_TITLE)), t.tabArea = i.noxcc.find("center/tabArea", t.mRoot), t._list = i.noxcc.find("center/contentPanel/regionView/list", t.mRoot), i.noxcc.addClick(i.noxcc.find("top/closeBtn", t.mRoot), t, function () {
                        t.hide()
                    }), t.onSwitchClick(0)
                }, t.prototype.onSwitchClick = function (e) {
                    var t;
                    switch (e) {
                        case u:
                            t = d.lcAppCfg.getChannelName();
                            break;
                        case g:
                            t = "YH";
                            break;
                        case h:
                            t = "HF";
                            break;
                        case f:
                            t = "CSD"
                    }
                    l.NetUtil.sendRegionListReq(t)
                }, t.prototype.initTabAreaData = function () {
                    var e = [];
                    for (var t in o.LoginData._regions) e.push(o.LoginData._regions[t]);
                    e.sort(function (e, t) {
                        return _.nox.toNumber(e._id) - _.nox.toNumber(t._id)
                    }), this._orderedRegions = [];
                    for (var n = 0; n < e.length; n++) this._orderedRegions.push(e[n]);
                    var a = [];
                    for (n = 0; n < this._orderedRegions.length; n += 10) {
                        var i = string.format(c.lcStr(s.STR.REGION_A_TO_B), n + 1, Math.min(n + 10, this._orderedRegions.length));
                        a.unshift({_str: i, _index: n})
                    }
                    o.LoginData._historyRegion.length > 0 && a.unshift({
                        _str: c.lcStr(s.STR.REGION_HISTORY),
                        _index: 0
                    }), this.creatTabArea(a)
                }, t.prototype.creatTabArea = function (e) {
                    var t = this;
                    i.noxcc.setActive(i.noxcc.find("tabBtn", t.tabArea), !1), i.noxcc.destroyAllChildrenImmediate(i.noxcc.find("layout", t.tabArea));
                    for (var n = function (n) {
                        var a = i.noxcc.instantiate(i.noxcc.find("tabBtn", t.tabArea));
                        i.noxcc.addClick(a, t, function () {
                            t.showTab(n, !0)
                        }), i.noxcc.setLabelString(i.noxcc.find("text", a), e[n]._str), i.noxcc.setParent(a, i.noxcc.find("layout", t.tabArea)), i.noxcc.setActive(a, !0)
                    }, a = 0; a < e.length; a++) n(a);
                    t.showTab(0, !0)
                }, t.prototype.showTab = function (e, t) {
                    t && (this._focusTabIndex = e > 0 ? e : 0, this.refreshList())
                }, t.prototype.refreshList = function () {
                    var e = this._focusTabIndex, t = o.LoginData._historyRegion.length;
                    if (i.noxcc.destroyAllChildren(this._list), 0 == e && t) for (var n = 0; n < t; n++) {
                        var a = this.setOrCreateHistoryItem(null, o.LoginData._historyRegion[n]);
                        this._list.addChild(a)
                    } else {
                        var r = [], _ = t ? Math.floor(this._orderedRegions.length / 10) - (e - 1) : 0;
                        for (n = 10 * _; n < Math.min(this._orderedRegions.length, 10 * _ + 10); n++) r.push(this._orderedRegions[n]);
                        for (n = 0; n < r.length; n++) {
                            a = this.setOrCreateRegionItem(null, r[n]);
                            this._list.addChild(a)
                        }
                    }
                    this._list.parent.getComponent(cc.ScrollView).scrollToTop(.5)
                }, t.prototype.setOrCreateHistoryItem = function (e, t) {
                    var n = this;
                    null == e && (e = i.noxcc.instantiate(i.noxcc.find("center/recentLogin", n.mRoot)), i.noxcc.setActive(e, !0));
                    var a = o.LoginData._regions[t._rid];
                    return i.noxcc.setLabelString(i.noxcc.findLabel("name_bg/name", e), a._name), i.noxcc.setLabelString(i.noxcc.findLabel("level_bg/level", e), t._level), i.noxcc.addClick(e, n, function () {
                        n.mSelectCallback && n.mSelectCallback(t._rid), n.hide()
                    }), e
                }, t.prototype.setOrCreateRegionItem = function (e, t) {
                    var n, a = this;
                    return null == e && (e = i.noxcc.instantiate(i.noxcc.find("center/regionItem", a.mRoot)), i.noxcc.setActive(e, !0)), i.noxcc.setLabelString(i.noxcc.findLabel("regionText", e), t._name), i.noxcc.addClick(e, a, function () {
                        a.mSelectCallback && a.mSelectCallback(t._id), a.hide()
                    }), t._status == Region_pb.RegionStatus.PB_TYPE_MAINTAIN ? n = "img_region_full" : t._isRecommend ? n = "img_region_recommend" : t._isNew ? n = "img_region_new" : t._status == Region_pb.RegionStatus.PB_TYPE_FULL && (n = "img_region_full"), i.noxcc.setActive(i.noxcc.find(e, n), !0), e
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this);
                    this.mSelectCallback = null, this._focusTabIndex = null, this.tabArea = null, this._list = null, this._mPagButtons = [], this._receiveDataListener && (this._receiveDataListener.remove(), this._receiveDataListener = null)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.setSelectCallback = function (e) {
                    this.mSelectCallback = e
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BaseForm);
        n.RegionSelectForm = m, cc._RF.pop()
    }, {
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "../../utils/LoginData": "LoginData",
        "../../utils/NetUtil": "NetUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    ResConsumeButtonArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b38ae0ETuRCUq6shKtwLzy9", "ResConsumeButtonArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../nox"), i = e("../../../leocool/lc"), o = e("./NodeWithShaderButton"),
            r = e("../../config/UICfg"), _ = e("./ResIconLabel"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, s, c, l) {
                    var d, p, u;
                    "number" == typeof e ? (u = !0, d = e - 20, p = e) : (u = !1, d = e[0], p = e[1]);
                    var g = _.ResIconLabel.create(d, t, a.nox.D(n, i.lc.Color3B.black));
                    s && g._label.setString(s);
                    var h = o.NodeWithShaderButton.createScale9ShaderButton(i.lc.D(l, "img_btn_1"), null, r.UICfg.CRECT_BUTTON, p);
                    if (c && h.addLabel(c), u) {
                        var f = i.lc.h(g), m = f + i.lc.h(h) + 10;
                        this.setContentSize(p, m), i.lc.addChildToPosLB(this, g, cc.p(p / 2 + Math.floor(i.lc.w(g._ico.node) / 4) - 4, m - f / 2)), i.lc.addChildToPosLB(this, h, cc.p(p / 2, i.lc.h(h) / 2))
                    } else this.setContentSize(d + p, i.lc.h(h)), i.lc.addChildToPosLB(this, g, cc.p(d / 2, i.lc.h(this) / 2)), i.lc.addChildToPosLB(this, h, cc.p(i.lc.w(this) - p / 2, i.lc.y(g)));
                    this._resArea = g, this._resLabel = g._label, this._btn = h
                }, t.create = function (e, n, a, i, o, r) {
                    var _ = new t;
                    return _.init(e, n, a, i, o, r), _
                }, t
            }(cc.Node);
        n.ResConsumeButtonArea = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../config/UICfg": "UICfg",
        "./NodeWithShaderButton": "NodeWithShaderButton",
        "./ResIconLabel": "ResIconLabel"
    }],
    ResConsumeButton: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1c9d2DSBFpMj5xpDlO5xCWi", "ResConsumeButton"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithShaderButton"), i = e("../../../leocool/lc"), o = e("../../config/UICfg"),
            r = e("./ResIconLabel"), _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.createResConsumeButton = function (e, n, a, _, s, c) {
                    var l = new t;
                    l.initScale9ShaderButton(i.lc.D(c, "img_btn_1"), null, o.UICfg.CRECT_BUTTON, e), l.addLabel(s);
                    var d = r.ResIconLabel.create(n, a, i.lc.Color3B.black);
                    return d.opacity = 0, d._label.setString(_), i.lc.offset(l._label, -n / 2, 0), i.lc.addChildToPosLB(l, d, cc.v2(e - i.lc.w(d) / 2, i.lc.y(l._label))), l._resArea = d, l._resLabel = d._label, l
                }, t
            }(a.NodeWithShaderButton);
        n.ResConsumeButton = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../config/UICfg": "UICfg",
        "./NodeWithShaderButton": "NodeWithShaderButton",
        "./ResIconLabel": "ResIconLabel"
    }],
    ResIconLabel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "17ab46y81FGPJezeOQLXDLW", "ResIconLabel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../config/UICfg"), o = e("../../../leocool/lc"),
            r = e("../../../nox"), _ = e("./NodeWithLabel"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    var s = i.UICfg.CRECT_COM_BG2.height, c = a.SpriteUtil.addSprite(this, "img_com_bg_2");
                    if (a.SpriteUtil.setScale9Enabled(c, !0), a.SpriteUtil.setCapInsets(c, i.UICfg.CRECT_COM_BG2), this._bg = c, this.setContentSize(e, s), this.opacity = 120, this.color = n || o.lc.Color3B.white, t) {
                        var l = a.SpriteUtil.createSprite(t);
                        l.node.setPosition(-r.nox.aw(this), 0), this.addChild(l.node), this._ico = l
                    }
                    var d = _.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_26, "");
                    d.setPosition(0, 0), this.addChild(d), this._label = d
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(cc.Node);
        n.ResIconLabel = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    ResSwitchScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0493f+LC5hIkKttChjWy2Gq", "ResSwitchScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../const/SceneId"), o = e("../utils/BattleInputUtil"), r = e("../ui/AllViewTypes"),
            _ = e("../GuideManager"), s = e("../data/data"), c = e("../../nox"), l = e("../utils/SpriteUtil"),
            d = e("../config/UICfg"), p = e("../../leocool/lc"), u = e("../../leocool/lcRes"), g = e("../ClientData"),
            h = e("./BaseScene"), f = e("../battle/scene/BattleScene"), m = e("../ClientView"),
            y = e("./HeroCenterScene"), T = e("./UnionScene"), S = e("./FindScene"), C = e("./TavernScene"),
            v = e("./TutorialScene"), b = e("./ExpeditionScene"), E = e("./TeachingScene"), I = e("./SceneManager"),
            A = e("./InRoomScene"), R = e("../../noxcc"), B = e("../../leocool/lcStr"), N = e("../battle/ui/BattleUi"),
            D = e("../utils/SpineUtil"), U = function (e) {
                function t() {
                    return e.call(this, i.SceneId.res_switch, r.AllViewTypes.ResSwitchScene) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this._fromSceneId = e, this._toSceneId = t, this._input = n, this._toSceneId == i.SceneId.battle && (o.BattleInputUtil._fromSceneId = this._fromSceneId), this._isAd = !1, this._loadingPercentage = 0, _.GuideManager.stopGuide(), this._isGuideOnEnter = !1
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = R.noxcc.find("bgs", this.getRootNode());
                    t.scale = d.UICfg.SCR_W / t.width;
                    var n = c.nox.randomI(1, 5), a = string.format("bat_loading_bg%d", n);
                    R.noxcc.find("bgs/" + a, this.getRootNode()).active = !0;
                    var i = this._hint = R.noxcc.findLabel("hint/text", this.getRootNode()), o = [];
                    for (var r in s.Data._tipInfo) o.push(s.Data._tipInfo[r]._nameSid);
                    i.string = B.lcStr(c.nox.getRandomItem(o)), this._loadingBar = R.noxcc.findProgressBar("prog", this.getRootNode()), this.updateLoadingBar()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    this._listener = s.Data.Event.resource.addListener(null, function (e) {
                        t.onResourceEvent(e)
                    }), c.nox.scheduleTimeout(function () {
                        this._loadingPercentage = 100, this.updateLoadingBar(), this.checkLoadResFinished()
                    }.bind(this), 2)
                }, t.prototype.onExit = function () {
                    this._listener.remove(), this._listener = null, e.prototype.onExit.call(this)
                }, t.prototype.onUpdate = function (e) {
                }, t.prototype.updateLoadingBar = function () {
                    this._loadingBar.progress = this._loadingPercentage / 100
                }, t.prototype.loadBattleRes = function () {
                    this._loadingPercentage = 50, this.updateLoadingBar(), u.lcRes.unloadCityUnionRes(), u.lcRes.loadLCRes("res/battle.lcres")
                }, t.prototype.loadCityUnionRes = function () {
                    this._loadingPercentage = 50, this.updateLoadingBar(), this._fromSceneId == i.SceneId.battle ? u.lcRes.unloadBattleRes() : u.lcRes.unloadUnionRes(), u.lcRes.loadLCRes("res/city.lcres")
                }, t.prototype.onResourceEvent = function (e) {
                    var t = this;
                    g.ClientData._isWorking && this.updateLoadResProgress(e) && this.getRootNode().runAction(p.lc.sequence(.01, function () {
                        t._toSceneId == i.SceneId.battle ? 60 == t._loadingPercentage ? (u.lcRes.preloadFonts(!0), t.onResourceEvent("fonts")) : t._loadingPercentage > 70 && (u.lcRes.preloadBattleAudio(t._loadingPercentage - 70) ? t._loadingPercentage = 100 : t.onResourceEvent("audio")) : 90 == t._loadingPercentage && (t._loadingPercentage = 100), t.updateLoadingBar(), t.checkLoadResFinished()
                    }))
                }, t.prototype.updateLoadResProgress = function (e) {
                    return "city.png.sfb" == e ? (this._loadingPercentage = 90, !0) : "battle.png.sfb" == e ? (this._loadingPercentage = 60, !0) : "fonts" == e ? (this._loadingPercentage = 71, !0) : "audio" == e && (this._loadingPercentage++, !0)
                }, t.prototype.checkLoadResFinished = function () {
                    var e = this;
                    100 == e._loadingPercentage && (e._fromSceneId == i.SceneId.battle && u.lcRes.preloadFonts(!1), this._toSceneId == i.SceneId.battle && this.preLoadBattleRes(), e.getRootNode().runAction(p.lc.sequence(e._isAd ? 2 : .1, function () {
                        e.switchScene()
                    })))
                }, t.prototype.preLoadBattleRes = function () {
                    var e = p.lc.randomI(1, 5);
                    N.BattleUi.s_bgRand = e, l.SpriteUtil.createSprite("bat_scene_" + e + "_bg"), D.SpineUtil.createSpineAnim("vs", "default", "animation", !1)
                }, t.prototype.onLogin = function () {
                }, t.prototype.switchScene = function () {
                    if (g.ClientData._isWorking) {
                        var e = null;
                        if (this._toSceneId == i.SceneId.battle) c.nox.scheduleTimeout(function () {
                            I.SceneManager.replaceScene(f.BattleScene.create(this._input)), m.ClientView.getActiveIndicator().hide()
                        }.bind(this), .1); else {
                            if (m.ClientView.getMenuUI(), m.ClientView.getResourceUI(), m.ClientView.getChatPanel(), this._toSceneId == i.SceneId.manage_troop) g.ClientData.replaceCityScene(), I.SceneManager.pushScene(y.HeroCenterScene.create()); else if (this._toSceneId == i.SceneId.union) g.ClientData.replaceCityScene(), I.SceneManager.pushScene(T.UnionScene.create()); else if (this._toSceneId == i.SceneId.find) switch (g.ClientData.replaceCityScene(), o.BattleInputUtil._battleFromFindIndex) {
                                case s.Data.FindMatchType.clash:
                                case s.Data.FindMatchType.ladder:
                                case s.Data.FindMatchType.hall:
                                    break;
                                default:
                                    I.SceneManager.pushScene(S.FindScene.create())
                            } else this._toSceneId == i.SceneId.in_room ? (g.ClientData.replaceCityScene(), I.SceneManager.pushScene(A.InRoomScene.create())) : this._toSceneId == i.SceneId.tavern ? (g.ClientData.replaceCityScene(), I.SceneManager.pushScene(C.TavernScene.create())) : this._toSceneId == i.SceneId.tutorial ? (g.ClientData.replaceCityScene(), I.SceneManager.pushScene(v.TutorialScene.create(g.ClientData._teachingIndex))) : (g.ClientData.replaceCityScene(), e = !0);
                            e && (o.BattleInputUtil._battleFromTravel && P._playerWorld._curLevel[0] > 10101 && ("check duel" != _.GuideManager.getCurDifficultyStepName() || !P.checkFindClash()) && ("check union" != _.GuideManager.getCurRecruiteStepName() || s.Data.UNION_UNLOCK_LEVEL > P.getMaxCharacterLevel()) ? (I.SceneManager.pushScene(b.ExpeditionScene.createWithLevel(o.BattleInputUtil._battleFromTravel._id)), 147 == P._guideID && (P._guideID = 148), I.SceneManager.getRunningScene()._needGuideStartStep = !0) : o.BattleInputUtil._battleFromVisit && I.SceneManager.pushScene(E.TeachingScene.create(E.TeachingScene.Tab.RecommendTroop))), o.BattleInputUtil._battleFromTravel = null, o.BattleInputUtil._battleFromTeach = null, o.BattleInputUtil._battleFromVisit = null
                        }
                    }
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(h.BaseScene);
        n.ResSwitchScene = U, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcRes": "lcRes",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../battle/scene/BattleScene": "BattleScene",
        "../battle/ui/BattleUi": "BattleUi",
        "../config/UICfg": "UICfg",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../utils/BattleInputUtil": "BattleInputUtil",
        "../utils/SpineUtil": "SpineUtil",
        "../utils/SpriteUtil": "SpriteUtil",
        "./BaseScene": "BaseScene",
        "./ExpeditionScene": "ExpeditionScene",
        "./FindScene": "FindScene",
        "./HeroCenterScene": "HeroCenterScene",
        "./InRoomScene": "InRoomScene",
        "./SceneManager": "SceneManager",
        "./TavernScene": "TavernScene",
        "./TeachingScene": "TeachingScene",
        "./TutorialScene": "TutorialScene",
        "./UnionScene": "UnionScene"
    }],
    ResourcePanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "aef1c/yljhEt5QkKeMpj45B", "ResourcePanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../widget/ResourceWidget");
        n.ResourcePanel = a.ResourceWidget, cc._RF.pop()
    }, {"../widget/ResourceWidget": "ResourceWidget"}],
    ResourceUI: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "49b47VRAKVCN7TxiFWd/BYm", "ResourceUI"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./ResourceWidget"), i = e("../panel/BasePanel"), o = e("../../const/ZOrder");
        (function (e) {
            var t = null;
            i.BasePanel.Event.TopPanelDirty.addListener(null, function (e) {
                e && e._isShowResourceUI ? t.node.zIndex = e.getZOrder() + 1 : t && (t.node.zIndex = o.ZOrder.ui)
            });
            e.getResourceUI = function () {
                return null == t && (t = a.ResourceWidget.create()), t
            }, e.releaseResourceUI = function () {
                null != t && (t.node.parent = null, t.node.destroy(), t = null)
            }, e.removeResourceFromParent = function () {
                null != t && (t.node.parent = null)
            }
        })(n.ResourceUI || (n.ResourceUI = {})), cc._RF.pop()
    }, {"../../const/ZOrder": "ZOrder", "../panel/BasePanel": "BasePanel", "./ResourceWidget": "ResourceWidget"}],
    ResourceWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "51dddF2JdlO67WhvBub1xgE", "ResourceWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../noxcc"), i = e("../../data/data"), o = e("../../../leocool/lc"), r = e("../../ClientView"),
            _ = e("../../config/UICfg"), s = e("../../utils/TimeUtil"), c = e("../../BaseComponent"),
            l = e("../../StaticPrefabMgr"), d = e("../form/DescForm"), p = e("../../../leocool/lcAppCfg"),
            u = cc.size(200, 46), g = (cc.size(172, u.height), function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._areas = [], t._areaProps = {}, t._areaProps2 = {}, t
                }

                return __extends(t, e), t.prototype.init = function () {
                    var e = cc.size(3 * u.width + 16 + 16, u.height);
                    this._areas = [], this._areaProps = {};
                    for (var n = 0; n < t.PropId.length; ++n) {
                        var a = t.PropId[n], o = a[0], r = a[1];
                        this._areaProps[o] = this.createArea(o, r)
                    }
                    this._areaProps2 = {};
                    for (n = 0; n < t.PropId2.length; ++n) {
                        var s = t.PropId2[n];
                        o = s[0], r = s[1];
                        this._areaProps2[o] = this.createArea(o, r)
                    }
                    this._areaGold = this.createArea(i.Data.ResType.gold, "gold"), this._areaIngot = this.createArea(i.Data.ResType.ingot, "ingot"), this._originalPos = cc.v2(_.UICfg.SCR_W / 2 - _.UICfg.SCR_EDGE, _.UICfg.SCR_H / 2 - e.height / 2 - 8), this.node.setPosition(this._originalPos), this.setMode(i.Data.ResType.gold)
                }, t.prototype.createArea = function (e, t) {
                    this.node.getContentSize();
                    var n = a.noxcc.find(this.node, t);
                    if (null != n) {
                        var o = i.Data.getType(e);
                        e == i.Data.ResType.sun_spirit ? a.noxcc.addClick(n, function () {
                            r.ClientView.showResExchangeForm(e)
                        }) : e == i.Data.ResType.victory_star || e == i.Data.ResType.dead_ticket ? a.noxcc.addClick(n, function () {
                            d.DescForm.create({_infoId: e}).show()
                        }) : e == i.Data.ResType.union_devote ? a.noxcc.addClick(n, function () {
                            d.DescForm.create({_infoId: e}).show()
                        }) : e == i.Data.ResType.clash_trophy || e == i.Data.ResType.ladder_trophy || e == i.Data.ResType.union_battle_trophy || e == i.Data.ResType.new_clash_trophy ? a.noxcc.addClick(n, function () {
                            d.DescForm.create({_infoId: e}).show()
                        }) : e == i.Data.ResType.binding_ingot ? a.noxcc.addClick(n, function () {
                            d.DescForm.create({_infoId: e}).show()
                        }) : o == i.Data.CardType.props ? e == i.Data.PropsId.explore_token || e == i.Data.PropsId.ball_begin + 1 || e == i.Data.PropsId.ball_begin + 2 || e == i.Data.PropsId.ball_begin + 3 ? a.noxcc.addClick(n, function () {
                            r.ClientView.showResExchangeForm(e)
                        }) : a.noxcc.addClick(n, function () {
                            d.DescForm.create({_infoId: e}).show()
                        }) : a.noxcc.addClick(n, function () {
                            r.ClientView.showResExchangeForm(e)
                        });
                        var _ = {node: n, label: a.noxcc.findLabel("text", n), icon: a.noxcc.find("icon", n), value: -1};
                        return this._areas.push(_), _
                    }
                }, t.prototype.setMode = function (e) {
                    this._mode = e, this.node && this.applyMode()
                }, t.prototype.applyMode = function () {
                    for (var e = this._mode, t = 0; t < this._areas.length; ++t) {
                        this._areas[t].node.active = !1
                    }
                    null != e && (e == i.Data.PropsId.rare_silver_coin ? (this._areaProps2[e].node.active = !0, this._areaProps[i.Data.PropsId.rare_coin].node.active = !0) : e == i.Data.PropsId.magic_dust ? (this._areaProps2[e].node.active = !0, this._areaProps[i.Data.PropsId.obelisk_badge].node.active = !0) : e == i.Data.PropsId.times_package_ticket ? (this._areaProps2[e].node.active = !0, this._areaProps[i.Data.PropsId.tied_feed].node.active = !0) : e != i.Data.ResType.gold ? (this._areaGold.node.active = !0, this._areaProps[e].node.active = !0) : this._areaGold.node.active = !0, this._areaIngot.node.active = !0, p.lcAppCfg.isEnableBindingIngot() ? e != i.Data.ResType.binding_ingot && e != i.Data.PropsId.rare_package_ticket && e != i.Data.PropsId.common_fragment || (this._areaProps[i.Data.ResType.binding_ingot].node.active = !0) : this._areaProps[i.Data.ResType.binding_ingot].node.active = !1, this.updateValues())
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this), this._listeners = [], this._listeners.push(i.Data.Event.login.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.prop_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.union_res_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.gold_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.ingot_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.binding_ingot_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.trophy_dirty.addListener(this, this.updateValues)), this._listeners.push(i.Data.Event.clash_trophy_dirty.addListener(this, this.updateValues)), this.updateValues()
                }, t.prototype.onDisable = function () {
                    e.prototype.onDisable.call(this);
                    for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                    this._listeners = []
                }, t.prototype.updateValues = function () {
                    this._notupdate ? this._notupdate = !1 : this.runUpdateAction()
                }, t.prototype.runUpdateAction = function () {
                    var e = this, t = [], n = [], a = [], r = function (e, i, r) {
                        null != i && null != e && t.indexOf(e) < 0 && (t.push(e), n.push(i), a.push(o.lc.D(r, 0)))
                    };
                    if (e._mode == i.Data.PropsId.rare_silver_coin ? (r(e._areaProps2[e._mode], P.getItemCount(e._mode)), r(e._areaProps[i.Data.PropsId.rare_coin], P.getItemCount(i.Data.PropsId.rare_coin))) : e._mode == i.Data.PropsId.magic_dust ? (r(e._areaProps2[e._mode], P.getItemCount(e._mode)), r(e._areaProps[i.Data.PropsId.obelisk_badge], P.getItemCount(i.Data.PropsId.obelisk_badge))) : e._mode == i.Data.PropsId.times_package_ticket ? (r(e._areaProps2[e._mode], P.getItemCount(e._mode)), r(e._areaProps[i.Data.PropsId.tied_feed], P.getItemCount(i.Data.PropsId.tied_feed))) : e._mode != i.Data.ResType.gold && r(e._areaProps[e._mode], P.getItemCount(e._mode)), r(e._areaGold, P._gold), r(e._areaIngot, P._ingot), e._areaProps[i.Data.ResType.binding_ingot].node.active && r(e._areaProps[i.Data.ResType.binding_ingot], P._binding_ingot), 0 != t.length) {
                        e._schedulerID && (this.unschedule(this._schedulerID), e._schedulerID = null);
                        var c = function (i) {
                            for (var r = !0, c = 0; c < t.length; ++c) {
                                var l = t[c], d = l.label, p = l.icon;
                                if (l.value != n[c]) {
                                    if (r = !1, l.value = n[c], a[c] > 0) {
                                        d.string = string.format("%d/%d", l.value, a[c]);
                                        var u = l.value > a[c] ? _.UICfg.COLOR_TEXT_GREEN : _.UICfg.COLOR_TEXT_LIGHT;
                                        d.node.color = u
                                    } else d.string = s.TimeUtil.formatNum(l.value, 99999);
                                    if (0 == d.node.getNumberOfRunningActions()) {
                                        var g = o.lc.scaleBy(.1, 1.2).easing(cc.easeSineInOut());
                                        d.node.runAction(o.lc.sequence(g, g.reverse()))
                                    }
                                    if (0 == p.getNumberOfRunningActions()) {
                                        g = o.lc.scaleBy(.1, 1.2).easing(cc.easeSineInOut());
                                        p.runAction(o.lc.sequence(g, g.reverse()))
                                    }
                                }
                            }
                            r && e._schedulerID && (e.unschedule(e._schedulerID), e._schedulerID = null)
                        };
                        e._schedulerID = c, this.schedule(c, .05, cc.macro.REPEAT_FOREVER)
                    }
                }, t.prototype.runResAction = function (e, t, n) {
                    var r = this;
                    if (null != r.node) {
                        var _, s, c = r.node.convertToNodeSpace(n);
                        if (e == i.Data.ResType.gold && (_ = a.noxcc.find(r._areaGold.node, "feijb"), _ = a.noxcc.instantiate(_), s = cc.p(o.lc.left(r._areaGold.node) + 26, o.lc.y(r._areaGold.node))), o.lc.V(_)) {
                            _.setPosition(c);
                            var l = cc.p(c.x, c.y + 200), d = cc.p(c.x, c.y + 200), p = cc.p(s.x, s.y);
                            _.runAction(o.lc.sequence(cc.bezierTo(.75, [l, d, p]).easing(cc.easeSineInOut()), cc.callFunc(function () {
                                e.removeFromParent();
                                var e = a.noxcc.find(r._areaGold.node, "par_res_collect3");
                                (e = a.noxcc.instantiate(e)).setPosition(s), r.node.addChild(e), r.updateValues()
                            }.bind(r)))), r.node.addChild(_)
                        }
                    }
                }, t.create = function () {
                    var e = a.noxcc.instantiate(l.StaticPrefabMgr.getResourceWidgetPrefab()).addComponent(t);
                    return e.init(), e
                }, t
            }(c.BaseComponent));
        n.ResourceWidget = g, function (e) {
            e.PropId = [[i.Data.ResType.binding_ingot, "binding_ingot"], [i.Data.PropsId.yubi, "yubi"], [i.Data.ResType.clash_trophy, "clash_trophy"], [i.Data.ResType.ladder_trophy, "ladder_trophy"], [i.Data.PropsId.ladder_ticket, "ladder_ticket"], [i.Data.PropsId.explore_token, "explore_token"], [i.Data.PropsId.rare_package_ticket, "rare_package_ticket"], [i.Data.PropsId.character_package_ticket, "character_package_ticket"], [i.Data.PropsId.tied_feed, "tied_feed"], [i.Data.PropsId.pvp_fragment, "pvp_fragment"], [i.Data.PropsId.comet_fragment, "comet_fragment"], [i.Data.PropsId.common_fragment, "common_fragment"], [i.Data.PropsId.evolve_stone, "evolve_stone"], [i.Data.PropsId.ball_begin + 1, "ball1"], [i.Data.PropsId.ball_begin + 2, "ball2"], [i.Data.PropsId.ball_begin + 3, "ball3"], [i.Data.PropsId.ball_begin + 4, "ball4"], [i.Data.PropsId.ball_begin + 5, "ball5"]], e.PropId2 = []
        }(g = n.ResourceWidget || (n.ResourceWidget = {})), n.ResourceWidget = g, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientView": "ClientView",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/TimeUtil": "TimeUtil",
        "../form/DescForm": "DescForm"
    }],
    RewardCardPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "17157GGlelHu4wKIODT5M7U", "RewardCardPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../widget/CardThumbnail"),
            s = e("./CardInfoPanel"), c = e("../../../leocool/lc"), l = e("../../GuideManager"),
            d = e("../../data/data"), p = e("../form/DescForm"), u = e("../../AudioEnums"),
            g = e("../../../leocool/lcAudio"), h = e("../../utils/ParticleUtil"), f = e("../../utils/SpineUtil"),
            m = e("../../scene/SceneManager"), y = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.RewardCardPanel) || this;
                    return t._list = null, t._thumbnails = [], t._titleStr = "", t._cards = null, t._recruitInfo = null, t._troopIndex = 0, t._btnBack = null, t._listener = null, t
                }

                return a(t, e), t.prototype.init = function (e, t, n, a) {
                    this._titleStr = e, this._cards = t, this._recruitInfo = n, this._troopIndex = a
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t._btnBack = r.noxcc.find("backButton", this.getRootNode()), t._btnBack.on("click", function () {
                        t.hide()
                    });
                    var n = [];
                    t._cards.length > 4 ? t._list = r.noxcc.find("scrollView/layout", t.mRoot) : t._list = r.noxcc.find("layout", t.mRoot), t._list.destroyAllChildren();
                    var a = r.noxcc.find("groupCardTip", t.mRoot);
                    if (r.noxcc.setActive(a, !1), t._cards.length >= 5) for (var i = function (e) {
                        var a = t._cards[e], i = _.CardThumbnail.createFromPool(a._infoId, .6);
                        i._thumbnail.node.on(cc.Node.EventType.TOUCH_END, function (e) {
                            e.type == cc.Node.EventType.TOUCH_END && s.CardInfoPanel.create(i._thumbnail._infoId, null, s.CardInfoPanel.OperateType.na).show()
                        }, !0), n.push(i._thumbnail), i.setPosition(0, 0), i.setContentSize(i._thumbnail.node.getContentSize()), t._list.addChild(i)
                    }, o = 0; o < t._cards.length; o++) i(o); else for (o = 0; o < t._cards.length; o++) {
                        var h = t._cards[o], f = _.CardThumbnail.createFromPool(h._infoId, .6);
                        c.lc.offset(f._countArea, 0, -80), f.setContentSize(c.lc.asrect(f._thumbnail.node)), f.setPosition(0, 0), c.lc.addChildToCenter(t._list, f), n.push(f._thumbnail), f._thumbnail.node.on(cc.Node.EventType.TOUCH_END, function (e, t) {
                            if (e.type == cc.Node.EventType.TOUCH_END) {
                                if (s.CardInfoPanel.currenton()) return;
                                l.GuideManager.isGuideEnabled() && l.GuideManager.pauseGuide();
                                var n = e.target.parent._thumbnail;
                                d.Data.getType(n._infoId) == d.Data.CardType.fragment ? p.DescForm.create(n._infoId).show() : s.CardInfoPanel.create(n._infoId, null, s.CardInfoPanel.OperateType.na).show()
                            }
                        }, !0)
                    }
                    var m = r.noxcc.find("title_bg", t.mRoot);
                    t._titleStr ? (r.noxcc.setActive(m, !0), r.noxcc.setLabelString(m.getChildByName("title"), t._titleStr)) : r.noxcc.setActive(m, !1), t._thumbnails = n, g.lcAudio.playAudio(u.AUDIO.E_CARD_GET);
                    for (o = 0; o < t._thumbnails.length; o++) {
                        var y = t._thumbnails[o];
                        t._thumbnails.length < 5 && y.setScaleFactor(.6), t.showEffect(y)
                    }
                    if (l.GuideManager.isGuideEnabled()) {
                        var T = r.noxcc.find("groupCardTip", t.mRoot);
                        r.noxcc.setActive(T, !0)
                    }
                    if (l.GuideManager.isGuideEnabled() && P._guideID >= 100) for (var S = 0; S < t._cards.length; S++) {
                        for (var C = !1, v = 0; v < P._playerCard._troops[0].length; v++) if (P._playerCard._troops[0][v]._infoId == t._cards[S]._infoId) {
                            P._playerCard._troops[0][v]._num++, C = !0;
                            break
                        }
                        C || P._playerCard._troops[0].push({
                            _num: 1,
                            _infoId: t._cards[S]._infoId
                        }), P._playerCard._unlocked[t._cards[S]._infoId] = null
                    }
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    if (t._listener = l.GuideManager.Event.seek.addListener(null, function () {
                        t.onGuide()
                    }), "leave card reward" == l.GuideManager.getCurStepName()) {
                        for (var n = [], a = 0; a < this._thumbnails.length; ++a) n.push(this._thumbnails[a].node);
                        l.GuideManager.setOperateLayer(t._btnBack, null, n)
                    }
                }, t.prototype.hide = function () {
                    r.noxcc.setActive(this._btnBack, !1), this._needEffect && g.lcAudio.playAudio(u.AUDIO.E_CLAIM), l.GuideManager.isGuideEnabled() ? this.showToTroopAnimation() : this.hideView()
                }, t.prototype.showEffect = function (e, t) {
                    void 0 === t && (t = 0);
                    r.noxcc.setActive(e.node.getParent(), !1);
                    var n = h.ParticleUtil.createParticle("par_reward1");
                    n.setTagID(255);
                    var a, i = h.ParticleUtil.createParticle("par_reward2");
                    n.setTagID(255), n.setScale(1.3 * e._scale), i.setScale(1.3 * e._scale), c.lc.addChildToCenter(e.node.getParent(), n, 2), c.lc.addChildToCenter(e.node.getParent(), i, 2), n.getComponent(cc.ParticleSystem).stopSystem(), i.getComponent(cc.ParticleSystem).stopSystem(), d.Data.getInfo(e._infoId)._quality == d.Data.CardQuality.UR ? a = h.ParticleUtil.createParticle("par_hk") : d.Data.getInfo(e._infoId)._quality == d.Data.CardQuality.SR && (a = h.ParticleUtil.createParticle("par_zk")), a && (a.setTagID(255), a.setScale(2.1 * e._scale), c.lc.addChildToCenter(e.node.getParent(), a, -1), a.getComponent(cc.ParticleSystem).stopSystem()), e.node.runAction(c.lc.sequence(c.lc.delay(t + .1), cc.callFunc(function () {
                        n && (n.getComponent(cc.ParticleSystem).resetSystem(), n.runAction(c.lc.sequence(c.lc.delay(n.getComponent(cc.ParticleSystem).duration), c.lc.callFunc(function () {
                            i.getComponent(cc.ParticleSystem).resetSystem()
                        }), c.lc.delay(i.getComponent(cc.ParticleSystem).duration))))
                    }), c.lc.delay(.1), c.lc.callFunc(function () {
                        r.noxcc.setActive(e.node.getParent(), !0), a && a.getComponent(cc.ParticleSystem).resetSystem()
                    })))
                }, t.prototype.onGuide = function (e) {
                    var t = l.GuideManager.getCurStepName(), n = e.target;
                    if ("show card info" == l.GuideManager.getCurStepName()) l.GuideManager.setOperateLayer(n._thumbnails[0]); else if ("show tap card tip" == t) l.GuideManager.finishStepLater(); else {
                        if ("leave claim 1" != t) return;
                        l.GuideManager.setOperateLayer(this._btnBack, null, [this.mRoot])
                    }
                    e.stopPropagation()
                }, t.prototype.showToTroopAnimation = function () {
                    l.GuideManager._finger && (l.GuideManager._finger.node.active = !1);
                    var e = f.SpineUtil.createSpineAnim("shourukazu", "default", "animation", !1);
                    c.lc.addChildToPosAR(this.mRoot, e, cc.v2(c.lc.left(this.mRoot) + 100, c.lc.bottom(this.mRoot) - 100));
                    var t = this;
                    e.runAction(c.lc.sequence(c.lc.moveTo(.5, cc.v2(e.x, c.lc.bottom(this.mRoot) + 30)), .3 * (this._thumbnails.length + 1), c.lc.moveTo(.5, cc.v2(c.lc.left(this.mRoot) + 100, c.lc.bottom(this.mRoot) - 100)), function () {
                        t.hideView(), P._guideID < 100 ? m.SceneManager.getRunningScene().nextStep() : l.GuideManager.finishStep()
                    }));
                    for (var n = 0; n < this._thumbnails.length; n++) t._thumbnails[n]._item.parent = null, c.lc.addChildToPosAR(this.mRoot, this._thumbnails[n]._item, this._thumbnails[n]._item.convertToWorldSpace(cc.v2(0, 0))), this._thumbnails[n]._item.runAction(c.lc.sequence(.2 * n, c.lc.spawn(c.lc.moveTo(.2, cc.v2(e.x, c.lc.bottom(this.mRoot) + 30)), c.lc.scaleTo(.2, 0)), function () {
                        e.getComponent(sp.Skeleton).setAnimation(1, "animation2", !1), g.lcAudio.playAudio(u.AUDIO.E_FLASH)
                    }))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this);
                    for (var t = 0; t < this._thumbnails.length; t++) {
                        var n = this._thumbnails[t];
                        n.node.getParent().removeChildrenByTagID(255), n.node.getParent().scale = 1, _.CardThumbnail.releaseToPool(n._item)
                    }
                }, t.prototype.onExit = function () {
                    this._listener.remove(), e.prototype.onExit.call(this)
                }, t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o.show(), o
                }, t
            }(i.BasePanel);
        n.RewardCardPanel = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../GuideManager": "GuideManager",
        "../../data/data": "data",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/ParticleUtil": "ParticleUtil",
        "../../utils/SpineUtil": "SpineUtil",
        "../AllViewTypes": "AllViewTypes",
        "../form/DescForm": "DescForm",
        "../widget/CardThumbnail": "CardThumbnail",
        "./BasePanel": "BasePanel",
        "./CardInfoPanel": "CardInfoPanel"
    }],
    RewardPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "20bfbnR/cpOyIVUyAa5v5cj", "RewardPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BasePanel"), o = e("../AllViewTypes"), r = e("../../../nox"), _ = e("../../data/data"),
            s = e("../../../noxcc"), c = e("../../../leocool/lc"), l = e("../../ToastManager"),
            d = e("../../ClientData"), p = e("../widget/IconWidget"), u = e("../../../leocool/lcStr"),
            g = e("../../StringEnums"), h = e("./RewardCardPanel"), f = e("../../../leocool/lcAudio"),
            m = e("../../AudioEnums"), y = e("../../utils/ActivityUtil"), T = e("../../GuideManager"),
            S = e("./LevelUpPanel"), C = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.RewardPanel) || this;
                    return t._spine = null, t._item = null, t._btnBack = null, t
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._mode = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var n = this;
                    n._listener = T.GuideManager.Event.seek.addListener(null, function () {
                        n.onGuide()
                    });
                    var a = n._mode == t.MODE_BUY ? "goumaichenggong" : "lingjiangchenggong";
                    n._spine = s.noxcc.find("spine/" + a, n.mRoot), s.noxcc.setActive(n._spine, !0);
                    var i = n._spine.getComponent(sp.Skeleton);
                    n.mRoot.runAction(c.lc.sequence(function () {
                        i.setAnimation(0, "chuxian1", !1)
                    }, .2, function () {
                        i.setAnimation(0, "chixun2", !0)
                    }));
                    for (var o = n._bonuses, r = s.noxcc.find("scrollView/content", n.mRoot), y = 0, S = 0, C = 0, v = [], b = 0; b < o.length; b++) {
                        var E = o[b], I = s.noxcc.newNode("widget");
                        if (I.addComponent(cc.Widget), E._infoId == _.Data.ResType.clash_trophy || E._infoId == _.Data.ResType.ladder_trophy || E._infoId == _.Data.ResType.union_battle_trophy || E._infoId == _.Data.ResType.dark_trophy ? l.ToastManager.push(d.ClientData.getNameByInfoId(E._infoId) + " " + (E._count > 0 ? "+" : "") + E._count) : s.noxcc.getChildrenCount(r) == t.MAX_ITEM_NUM && (I.setContentSize(S - t.ITEM_SPACE, C), r.addChild(I), y = Math.max(c.lc.w(I), y), S = 0, C = 0, (I = new cc.Node("widget")).addComponent(cc.Widget)), E._count > 0) {
                            var P = p.IconWidget.create(E, p.IconWidget.DisplayFlag.ITEM);
                            I.addChild(P.getRoot()), P.getRoot().setAnchorPoint(.5, .5), P.getRoot().runAction(c.lc.sequence(.3 + .2 * b, c.lc.scaleTo(.1, 1.2), c.lc.scaleTo(.1, 1)))
                        }
                        _.Data.hasBigCard(E._infoId) && E._count > 0 && v.push({
                            _infoId: E._infoId,
                            _num: E._count
                        }), I.setContentSize(cc.size(132, 132)), r.addChild(I)
                    }
                    if (n._item = r, n._btnBack = cc.find("backBtn", n.mRoot), s.noxcc.addClick(n._btnBack, n, function () {
                        n.hide()
                    }), v.length > 0 && (n._bigCards = v), n._bigCards) {
                        var A = h.RewardCardPanel.create(u.lcStr(g.STR.GET) + u.lcStr(g.STR.CARD), n._bigCards);
                        A._needEffect = !0, A.show()
                    } else f.lcAudio.playAudio(m.AUDIO.E_CLAIM)
                }, t.prototype.hide = function () {
                    e.prototype.hide.call(this), "leave claim 2" == T.GuideManager.getCurStepName() ? T.GuideManager.finishStep() : "leave novice claim" == T.GuideManager.getCurStepName() && T.GuideManager.finishStep()
                }, t.prototype.onGuide = function (e) {
                    var t = T.GuideManager.getCurStepName();
                    "leave claim 2" != T.GuideManager.getCurStepName() && "leave novice claim" != t || T.GuideManager.setOperateLayer(this._btnBack, null, [this.mRoot])
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    this._listener && this._listener.remove(), this._spine.removeFromParent(), this._spine = null, e.prototype.onExit.call(this)
                }, t.prototype.tryAddBonusExtra = function (e, t) {
                    var n = y.ActivityUtil.getValidActivityByTypeAndParam(525, e), a = n._info, i = n._index;
                    if (a) {
                        var o = _.Data._bonusInfo[a._bonusId[i]];
                        if (o) for (var r = o._level, s = o._count, c = o._isFragment, l = 0; l < o._rid.length; l++) {
                            for (var d = null, p = 0; p < t.length; p++) if (t[p]._infoId == o._rid[p]) {
                                d = t[p];
                                break
                            }
                            if (d) d._count = d._count + s[l]; else {
                                var u = {_infoId: o._rid[l], _count: s[l], _isFragment: c[l] > 0, _level: r[l]};
                                t.push(u)
                            }
                        }
                    }
                }, t.create = function (e, n) {
                    var a = new t, i = [];
                    if (n == t.MODE_CLAIM) if (e._info) {
                        for (var o = e._info._rid, _ = e._info._level, s = e._info._count, c = e._info._isFragment, l = 0; l < o.length; l++) {
                            var d = {
                                _infoId: o[l],
                                _count: s[l] * r.nox.D(e._multiple, 1),
                                _isFragment: c[l] > 0,
                                _level: _[l]
                            };
                            i.push(d)
                        }
                        a.tryAddBonusExtra(e._info._id, i)
                    } else i = e._extraBonus; else if (n == t.MODE_CLAIM_ALL) "object" != typeof e && (i = e) || i.push(e); else if (n == t.MODE_SPLIT) "object" != typeof e && (i = e) || i.push(e); else if (n == t.MODE_MIX_FRAGMENT) "object" != typeof e && (i = e) || i.push(e); else if (n == t.MODE_UNION_CONTRIBUTE) i = e; else {
                        for (l = 0; l < e.length; l++) {
                            d = {
                                _infoId: e[l].info_id || e[l]._infoId,
                                _count: e[l].num || e[l]._num,
                                _isFragment: e[l]._isFragment,
                                _level: e[l].level
                            };
                            i.push(d)
                        }
                        if (n != t.MODE_EXCHANGE && (P.addResourcesData(i), i[0] && 7 == i[0]._infoId)) {
                            var p = 0, u = P._characters[P.getCharacterId()], g = u._level;
                            u._exp - e[0].num < 0 && (p -= 1), p < 0 && S.LevelUpPanel.createLord(g + p, g).show()
                        }
                    }
                    return n != t.MODE_BUY && P.sortResultItems(i), a._bonuses = i, a.init(n), a
                }, t.MODE_CHEST = 1, t.MODE_SPLIT = 2, t.MODE_CLAIM = 3, t.MODE_MIX_FRAGMENT = 4, t.MODE_CLAIM_ALL = 5, t.MODE_BUY = 6, t.MODE_LOTTERY = 7, t.MODE_UNION_CONTRIBUTE = 8, t.MODE_EXCHANGE = 9, t.MAX_ITEM_NUM = 8, t.MAX_ITEMS_HEIGHT = 140, t.ITEM_SPACE = 16, t
            }(i.BasePanel);
        n.RewardPanel = C, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientData": "ClientData",
        "../../GuideManager": "GuideManager",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../AllViewTypes": "AllViewTypes",
        "../widget/IconWidget": "IconWidget",
        "./BasePanel": "BasePanel",
        "./LevelUpPanel": "LevelUpPanel",
        "./RewardCardPanel": "RewardCardPanel"
    }],
    RewardsTip: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "318ccAbs3VAjYTOQ1TjuS0v", "RewardsTip"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../noxcc"), i = e("../../StaticPrefabMgr"), o = e("../widget/IconWidget"),
            r = e("../../../leocool/lc"), _ = e("../../../framework/NoxViewMgr"), s = function () {
                function e() {
                    this.node = a.noxcc.instantiate(i.StaticPrefabMgr.getRewardsTip())
                }

                return e.prototype.init = function (e, t) {
                    this.rewardsData = e, this.layout = a.noxcc.find("content", this.node);
                    var n = a.noxcc.find("triangleTop", this.node), i = a.noxcc.find("triangle", this.node);
                    n.active = t, i.active = !t;
                    for (var _ = this.rewardsData._info._rid, s = this.rewardsData._info._count, c = 0; c < _.length; c++) {
                        var l = _[c], d = o.IconWidget.create({_infoId: l, _count: s[c]}, o.IconWidget.DisplayFlag.ITEM);
                        this.layout.addChild(d.node), d.setNameColor(r.lc.Color3B.white), a.noxcc.setLabelColor(d.getNameLabel(), r.lc.Color3B.white)
                    }
                }, e.prototype.getNode = function () {
                    return this.node
                }, e.prototype.getTargetParent = function () {
                    return _.NoxViewMgr.getRunningScene().getSceneNode()
                }, e.prototype.setName = function (e) {
                    this.node.name = e, a.noxcc.setName(this.node, e)
                }, e.create = function (t, n) {
                    var a = new e;
                    return a.init(t, n), a
                }, e
            }();
        n.RewardsTip = s, cc._RF.pop()
    }, {
        "../../../framework/NoxViewMgr": "NoxViewMgr",
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../widget/IconWidget": "IconWidget"
    }],
    RichTextUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c3ea6o+Ob1MlpUMz82dM95P", "RichTextUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("../../leocool/lc"), o = e("../../leocool/lcBBCode"), r = e("../../noxcc"),
            _ = e("../config/UICfg"), s = e("../../leocool/lcAppCfg"), c = e("../StaticPrefabMgr");
        (function (e) {
            var t;

            function n(e) {
                return string.format("#%02x%02x%02x", e.getR(), e.getG(), e.getB())
            }

            function l(e, t, n, a, i) {
                var r = t;
                n && (r = o.lcBBCode.color(r, n)), a && (r = o.lcBBCode.size(r, a))
            }

            function d(e, t) {
                e.string = e.string + o.lcBBCode.image(t)
            }

            function p(e, t, n) {
                n = a.nox.D(n, {});
                var i = e.string;
                i += "<br/>", i += g(t, n), e.string = i
            }

            function u(e, t) {
                for (var n = e.replace(/\r*/, "").split("\n"), a = "", i = 0; i < n.length; i++) {
                    var o = n[i];
                    0 != i && (a += "<br/>"), a += g(o, t)
                }
                return a
            }

            function g(e, t) {
                t = a.nox.D(t, {});
                var r = "", s = a.nox.D(t._normalClr, _.UICfg.COLOR_TEXT_LIGHT),
                    c = a.nox.D(t._fontSize, _.UICfg.FontSize.S2), l = 0, d = e.length, p = i.lc.D(t._beginTag, "|"),
                    u = i.lc.D(t._endTag, "|"),
                    g = /^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?$/;
                for (n(s); l < d;) {
                    var h = e.indexOf(p, l);
                    if (h < 0) r += o.lcBBCode.color(e.substring(l, d), s), l = d; else {
                        var f, m = h + p.length, y = e.substring(l, h), T = o.lcBBCode.color(y, s);
                        if (g.test(e.substring(l, h)) && (T = o.lcBBCode.on(T, y)), r += T, "\\" == e[h + 2]) {
                            m = e.indexOf("\\", h + 3), m += 1;
                            var S = e.substring(h + 3, m - 1);
                            if ("#" == S[0]) {
                                var C = a.nox.toNumber("0x" + S.substring(1, 3)),
                                    v = a.nox.toNumber("0x" + S.substring(3, 5)),
                                    b = a.nox.toNumber("0x" + S.substring(5, 7));
                                f = a.nox.c3b(C, v, b)
                            } else {
                                var E = string.splitByChar(S, ".");
                                f = 1 == E.length ? i.lc.Color3B[E[0]] : a.nox.c3b(parseInt(E[0]), parseInt(E[1]), parseInt(E[2]))
                            }
                        } else f = i.lc.D(t._boldClr, _.UICfg.COLOR_TEXT_PURPLE);
                        l = m, (h = e.indexOf(u, l)) < 0 ? h = m = d : m = h + u.length, y = e.substring(l, h), T = o.lcBBCode.color(y, f), g.test(y) && (T = o.lcBBCode.on(T, y)), r += T, l = m
                    }
                }
                return o.lcBBCode.size(r, c)
            }

            function h(e, t) {
            }

            (function (e) {
                e[e.START = 1] = "START", e[e.CN = 1] = "CN", e[e.EN = 2] = "EN", e[e.COUNT = 2] = "COUNT"
            })(t || (t = {})), e.toHtmlColor = n, e.newRichText = function () {
                var e = r.noxcc.newNode().addComponent(cc.RichText);
                return c.StaticPrefabMgr.configDefaultTTFFont(e), e.string = "", e
            }, e.appendText = l, e.appendImage = d, e.createBoldRichText = function (e, t, n) {
                t = i.lc.D(t, {}), e = e.replace(/\|/g, "| ");
                var o = r.noxcc.newNode().addComponent(cc.RichText);
                return c.StaticPrefabMgr.configDefaultTTFFont(o), o.fontSize = a.nox.D(t._fontSize, _.UICfg.FontSize.S2), null != (n = a.nox.D(t._width, n)) && (o.maxWidth = n), o.string = g(e, t), o
            }, e.createBoldRichTextMultiLine = function (e, t, n) {
                t = a.nox.D(t, {});
                var i = r.noxcc.newNode().addComponent(cc.RichText);
                return c.StaticPrefabMgr.configDefaultTTFFont(i), i.fontSize = a.nox.D(t._fontSize, _.UICfg.FontSize.S2), null != (n = a.nox.D(t._width, n)) && (i.maxWidth = n), i.string = u(e, t), i
            }, e.appendBoldRichText = p, e.createBoldBBCodeMultiline = u, e.createBoldBBCode = g, e.createBBCode = function (e, t, n, a) {
                var i = e;
                return t && (i = o.lcBBCode.color(i, t)), n && (i = o.lcBBCode.size(i, n)), i
            }, e.createLabel = function (e, t, n, a, i, o) {
                var _ = r.noxcc.newNode(), s = _.addComponent(cc.Label);
                return a && _.setContentSize(a), a && 0 == a.height ? s.overflow = cc.Label.Overflow.RESIZE_HEIGHT : s.overflow = cc.Label.Overflow.NONE, s.fontSize = n, s.lineHeight = n, s.enableWrapText = !0, s.overflow = 0, null != i && (s.horizontalAlign = i), null != o && (s.verticalAlign = o), s.string = e, c.StaticPrefabMgr.configDefaultTTFFont(s), a && _.setContentSize(cc.size(a.width, a.height || _.height)), s
            }, e.createTTF = function (e, t, n, i) {
                var o = r.noxcc.newNode();
                o.color = a.nox.D(n, _.UICfg.COLOR_TEXT_LIGHT);
                var s = o.addComponent(cc.Label);
                return i && o.setContentSize(i), i && 0 == i.height ? s.overflow = cc.Label.Overflow.RESIZE_HEIGHT : s.overflow = cc.Label.Overflow.NONE, s.fontSize = a.nox.D(t, _.UICfg.FontSize.S2), s.lineHeight = s.fontSize, s.enableWrapText = !0, s.string = e, c.StaticPrefabMgr.configDefaultTTFFont(s), i && o.setContentSize(cc.size(i.width, i.height || o.height)), s
            }, e.setLineBreakOnSpace = h, e.createMultiLineText = function (e, t, n) {
                t = i.lc.D(t, {});
                var a = r.noxcc.newNode().addComponent(cc.RichText);
                c.StaticPrefabMgr.configDefaultTTFFont(a);
                var o = i.lc.D(t._boldClr, _.UICfg.COLOR_TEXT_LIGHT), s = i.lc.D(t._fontSize, _.UICfg.FontSize.S2),
                    d = e.indexOf("[");
                -1 != d && (e = e.substring(0, d));
                return l(0, e = e.replace(/[|]/g, ""), o, s, _.UICfg.TTF_FONT), null != (n = i.lc.D(t._width, n)) && (a.maxWidth = n), a
            }, e.createBoldRichTextWithIcons = function (e, t, n) {
                var a = r.noxcc.newNode().addComponent(cc.RichText);
                c.StaticPrefabMgr.configDefaultTTFFont(a), null != (n = i.lc.D(t._width, n)) && (a.maxWidth = n);
                for (var o = e.length, _ = 0; _ < o;) {
                    var l = e.indexOf("[", _);
                    l >= 0 ? (l > _ && p(a, e.substring(_, l), t), _ = l, l = e.indexOf("]", _ + 1), d(a, e.substring(_ + 1, l)), _ = l + 1) : (p(a, e.substring(_, o), t), _ = o)
                }
                return s.lcAppCfg.isNeedSpaceBreak(), a
            }, e.updateBoldRichTextMultiLine = function (e, t, n) {
                e.string = "", p(e, t, n)
            }, e.formatTtf = function (e, t) {
                if (e.string.length > t._length) {
                    var n = e.string;
                    n = n.replace("\n", "");
                    var a = t._length, o = n.substr(0, a);
                    if (s.lcAppCfg.isChinese()) ; else {
                        var r = o.lastIndexOf(" ");
                        -1 != r && (o = n.substr(0, r + 1), a = r + 1)
                    }
                    n = o + "\n" + n.substr(a, n.length - 1), e.string = n, e.horizontalAlign = i.lc.D(cc.Label.HorizontalAlign.CENTER, t._hAlignment), t._anchorPoint && e.node.setAnchorPoint(t._anchorPoint._x, t._anchorPoint._y), t._fontSize && (e.fontSize = t._fontSize)
                }
            }, e.formatStr = function (e, t, n, a) {
                void 0 === n && (n = null), void 0 === a && (a = !0);
                var i = "";
                n = n || 4095;
                for (var o = 1; e.length > t;) {
                    var r = e, _ = t, c = (r = r.replace("\n", "")).substr(0, _);
                    if (s.lcAppCfg.isChinese()) ; else {
                        var l = c.lastIndexOf(" ");
                        -1 != l && (c = r.substr(0, l + 1), _ = l + 1)
                    }
                    if (e = r.substr(_, r.length - 1), n < ++o && e.length > 0 && a) return c = r.substr(0, _ - 4), i + (c += "....");
                    if (n < o && e.length > 0 && !a) return i + r;
                    i = i + c + "\n"
                }
                return i + e
            }
        })(n.RichTextUtil || (n.RichTextUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcBBCode": "lcBBCode",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../StaticPrefabMgr": "StaticPrefabMgr",
        "../config/UICfg": "UICfg"
    }],
    RoomBattleReportForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8f985xUdgtH0ZW0ZQ60Dn2w", "RoomBattleReportForm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../BaseForm"), i = e("../../../noxcc"), o = e("../AllViewTypes"), r = e("../../data/data"),
            _ = e("../../data/Log/PlayerLog"), s = e("../../../leocool/lc"), c = e("../node/NodeWithListView"),
            l = e("../../../leocool/lcStr"), d = e("../../StringEnums"), p = e("../widget/UserWidget"),
            u = e("../../utils/BattleInputUtil"), g = e("../../part/BattlePart"), h = e("../../utils/TimeUtil"),
            f = e("../../utils/SpriteUtil"), m = e("../../ClientView"), y = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.RoomBattleReportForm) || this
                }

                return __extends(t, e), t.prototype.init = function () {
                    P._playerRoom.sendGetRoomLog(), this._indicator = m.ClientView.showPanelActiveIndicator(this.mRoot), this.initReplayList()
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBackBtn = i.noxcc.findButton("bg/close_btn", this.mRoot), this.mContent = i.noxcc.find("bg/scrollView/view/content", this.mRoot), this.mItem = i.noxcc.find("item", this.mContent), this.mItem.active = !1, i.noxcc.setParent(this.mItem, this.mRoot), i.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), m.ClientView.getActiveIndicator().hide(), this.mListeners = [], this.updateList(), this.mListeners.push(r.Data.Event.log_dirty.addListener(null, function (e) {
                        this.onLogEvent(e)
                    }.bind(this)))
                }, t.prototype.onLogEvent = function (e) {
                    e._event == _.PlayerLog.Event.room_log_dirty && (this._indicator && (this._indicator.removeFromParent(), this._indicator = null), this.updateList())
                }, t.prototype.initReplayList = function () {
                    var e = c.NodeWithListView.createV(cc.size(0, 0), 6, 0);
                    this._replayList = e
                }, t.prototype.updateList = function () {
                    var e = Battle_pb.BattleType.PB_BATTLE_MATCH, t = P._playerLog.getLogList(e, !0),
                        n = i.noxcc.find("bg/Label", this.mRoot);
                    if (0 == t.length ? n.setVisible(!0) : n.setVisible(!1), s.lc.V(t)) {
                        this._replayList.bindData(t, function (e, t) {
                            this.setOrCreateItem(e, t)
                        }.bind(this), Math.min(5, t.length), 0);
                        for (var a = 1; a <= this._replayList._cacheCount; ++a) {
                            var o = this.setOrCreateItem(null, t[a - 1]);
                            this._replayList.pushBackCustomItem(o)
                        }
                        this._replayList.stopAllActions(), this._replayList.checkEmpty(l.lcStr(d.STR.LIST_EMPTY_NO_LOG))
                    }
                }, t.prototype.setOrCreateItem = function (e, t) {
                    var n = i.noxcc.instantiate(this.mItem);
                    n.active = !0, i.noxcc.setParent(n, this.mContent);
                    var a = t._player, o = t._opponent, _ = i.noxcc.findLabel("timelabel", n),
                        c = i.noxcc.findButton("replaybtn", n), l = i.noxcc.find("player", n),
                        d = i.noxcc.find("opponent", n), m = i.noxcc.findSprite("img_win", l),
                        y = i.noxcc.findSprite("img_win", d),
                        T = p.UserWidget.create(a, p.UserWidget.Flag.LEVEL_NAME, .8, !1);
                    s.lc.addChildToPosLB(l, T.node, cc.v2(0, 0));
                    var S = p.UserWidget.create(o, p.UserWidget.Flag.LEVEL_NAME, .8, !0);
                    return s.lc.addChildToPosLB(d, S.node, cc.v2(0, 0)), i.noxcc.addClick(c, this, function (e) {
                        u.BattleInputUtil._replayingLog = t;
                        var n = t.isLocal();
                        g.BattlePart.sendBattleReplay(t._replayId, n)
                    }), i.noxcc.setString(_, h.TimeUtil.getTimeAgo(t._timestamp)), T.setUser(t._player), S.setUser(t._opponent), t._resultType == r.Data.BattleResult.win ? (f.SpriteUtil.setSprite(m, "img_win"), f.SpriteUtil.setSprite(y, "img_lose")) : t._resultType == r.Data.BattleResult.lose ? (f.SpriteUtil.setSprite(m, "img_lose"), f.SpriteUtil.setSprite(y, "img_win")) : t._resultType == r.Data.BattleResult.draw && (f.SpriteUtil.setSprite(m, "img_draw"), f.SpriteUtil.setSprite(y, "img_draw")), n
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(a.BaseForm);
        n.RoomBattleReportForm = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../data/Log/PlayerLog": "PlayerLog",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../utils/BattleInputUtil": "BattleInputUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../node/NodeWithListView": "NodeWithListView",
        "../widget/UserWidget": "UserWidget"
    }],
    RoomPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2541bTaOGNBlYFL8guP7Z48", "RoomPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("../utils/NetUtil");
        (function (e) {
            e.sendCreateRoom = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CREATE_MATCH, i.NetUtil.sendProtoMsg(e)
            }, e.sendQueryRoom = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_QUERY_MATCH, t.setExtensions_World_pb_SglWorldMsg_world_query_match_req(a.nox.toNumber(e)), i.NetUtil.sendProtoMsg(t)
            }, e.sendQuitRoom = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_QUIT_MATCH, i.NetUtil.sendProtoMsg(e)
            }, e.sendToggleRoomMatch = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_TOGGLE_MATCH, i.NetUtil.sendProtoMsg(e)
            }, e.sendStartRoomMatch = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_START_MATCH, i.NetUtil.sendProtoMsg(e)
            }
        })(n.RoomPart || (n.RoomPart = {})), cc._RF.pop()
    }, {"../../nox": "nox", "../utils/NetUtil": "NetUtil"}],
    Room: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "01caafSDztO8LFxbviPxAJr", "Room"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../Social/User"), i = e("../data"), o = function () {
            function e(e) {
                this.updateInfo(e)
            }

            return e.prototype.clear = function () {
                this._members = null
            }, e.prototype.updateInfo = function (e) {
                this._id = e.id;
                var t, n, o, r = a.User.create(e.creator.info, !0);
                r._idInRoom = e.creator.id, this._creator = r, this._creator._roomJob = i.Data.RoomJob.leader, e.playerO && ((t = a.User.create(e.playerO.info, !0))._idInRoom = e.playerO.id, t._win = e.playerO.win), e.playerA && ((n = a.User.create(e.playerA.info, !0))._idInRoom = e.playerA.id, n._win = e.playerA.win), e.playerB && ((o = a.User.create(e.playerB.info, !0))._idInRoom = e.playerB.id, o._win = e.playerB.win), this._members = [t, n, o];
                for (var _ = 0; _ < this._members.length; _++) {
                    var s = this._members[_];
                    null != s && (s._idInRoom == this._creator._idInRoom ? s._roomJob = i.Data.RoomJob.leader : s._roomJob = i.Data.RoomJob.rookie)
                }
            }, e.prototype.getMembers = function () {
                return this._members
            }, e.prototype.sendRoomDirty = function () {
                i.Data.Event.room_dirty.dispatchEvent()
            }, e.create = function (t) {
                var n;
                return null != t && (n = new e(t)), n
            }, e
        }();
        n.Room = o, cc._RF.pop()
    }, {"../Social/User": "User", "../data": "data"}],
    RootScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "97127/+TBtNA62Sm+x5GDfQ", "RootScene"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../src/main"), i = cc._decorator, o = i.ccclass, r = (i.property, function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.onLoad = function () {
                a.main(this.node)
            }, t.prototype.start = function () {
            }, t.prototype.update = function (e) {
            }, t = __decorate([o], t)
        }(cc.Component));
        n.RootScene = r, cc._RF.pop()
    }, {"../src/main": "main"}],
    SDK_TYPE: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "de8feQDBB1IkqnC6uUhjS2J", "SDK_TYPE"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e.DEV = "dev", e.MOBY_TEST = "moby_test", e.VNG_TEST = "vng_test", e.VNG_360 = "vng_360", e.WHITE = "white", e.QH = "qunhei", e.XMW = "xmw", e.SSTF = "7724", e.FW = "5wan", e.XQ = "xiaoqi", e.FOSS_4177 = "4177", e.EFFA_844a = "844a", e.CDJYW = "cdjyw", e.HengShi = "hengshi", e.DJS = "djs", e.TSY_16y = "16y", e.YXTZ = "yxtz", e.g7K7K = "7k7k", e.mht = "mht", e.hscm = "hscm", e.h4399 = "4399", e.AYX = "ayx", e.sina = "sina", e.gs = "gs", e.zl = "zl", e.nox = "nox", e.UNKNOWN = "unknown"
        }(n.SDK_TYPE || (n.SDK_TYPE = {})), cc._RF.pop()
    }, {}],
    SceneId: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "40699E84oxH0IBfDjmhq8z7", "SceneId"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e[e.loading = 1] = "loading", e[e.city = 2] = "city", e[e.expedition = 3] = "expedition", e[e.battle = 4] = "battle", e[e.tavern = 5] = "tavern", e[e.helper = 6] = "helper", e[e.illustration = 7] = "illustration", e[e.tutorial = 8] = "tutorial", e[e.cardAdvence = 9] = "cardAdvence", e[e.shop = 10] = "shop", e[e.manage_troop = 17] = "manage_troop", e[e.res_switch = 18] = "res_switch", e[e.region = 22] = "region", e[e.union = 26] = "union", e[e.rank = 27] = "rank", e[e.find = 133] = "find", e[e.find_ladder = 134] = "find_ladder", e[e.find_clash = 135] = "find_clash", e[e.find_hall = 136] = "find_hall", e[e.depot = 34] = "depot", e[e.recharge = 36] = "recharge", e[e.activity = 37] = "activity", e[e.in_room = 41] = "in_room", e[e.union_battle = 50] = "union_battle", e[e.union_battle_group = 51] = "union_battle_group", e[e.guide = 60] = "guide", e[e.login = 99] = "login"
        }(n.SceneId || (n.SceneId = {})), cc._RF.pop()
    }, {}],
    SceneManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1e411oBGGdMyaW70OXz1mj4", "SceneManager"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../GuideManager"), i = e("../../framework/NoxViewMgr"), o = e("../const/SceneId"),
            r = e("./BaseSceneImpl"), _ = e("../ClientData");
        (function (e) {
            function t() {
                return r.BaseSceneImpl.getRunningScene()
            }

            function n() {
                return r.BaseSceneImpl.getSceneList()
            }

            e.pushScene = function (e) {
                _.ClientData._reloadDialog && (_.ClientData._reloadDialog.hide(), _.ClientData._reloadDialog = null), e && i.NoxViewMgr.pushScene(e._scene)
            }, e.popScene = function (e) {
                _.ClientData._reloadDialog && (_.ClientData._reloadDialog.hide(), _.ClientData._reloadDialog = null), a.GuideManager.stopGuide(), e ? i.NoxViewMgr.popToRootScene() : i.NoxViewMgr.popScene()
            }, e.replaceScene = function (e) {
                _.ClientData._reloadDialog && (_.ClientData._reloadDialog.hide(), _.ClientData._reloadDialog = null), e && i.NoxViewMgr.replaceScene(e._scene)
            }, e.isInBattleScene = function () {
                return r.BaseSceneImpl.isInBattleScene()
            }, e.getRunningScene = t, e.getRunningSceneId = function () {
                return r.BaseSceneImpl.getRunningSceneId()
            }, e.getSceneList = n, e.setNeedSyncDataForCardListScenes = function () {
                for (var e = n(), a = 0; a < e.length; ++a) {
                    var i = e[a];
                    i == t() || i._sceneId != o.SceneId.manage_troop && i._sceneId != o.SceneId.city || (i._needSyncData = !0)
                }
            }
        })(n.SceneManager || (n.SceneManager = {})), cc._RF.pop()
    }, {
        "../../framework/NoxViewMgr": "NoxViewMgr",
        "../ClientData": "ClientData",
        "../GuideManager": "GuideManager",
        "../const/SceneId": "SceneId",
        "./BaseSceneImpl": "BaseSceneImpl"
    }],
    SdkManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "49720sAtx5P/rFq4WAOp5l/", "SdkManager"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("../../leocool/lc"), o = e("../const/SDK_TYPE"), r = e("../../leocool/lcAppCfg"),
            _ = e("../utils/LoginData"), s = e("./Sdk_White"), c = e("../utils/PurchaseUtil");
        (function (e) {
            e.replayConfig = null, e._sginData = "", e._purchaseType = null, e._purchaseId = null;
            var t = null;
            a.nox.isJsb || window.location.href;

            function n() {
                switch (l()) {
                    case o.SDK_TYPE.DEV:
                        return new s.Sdk_White("noxdc.3322.org:18081", "http://noxdc.3322.org:18181/NOWL", "http://noxdc.3322.org:18181/NOWREG", "http://www.moby.hk/LOCAL");
                    case o.SDK_TYPE.MOBY_TEST:
                        return new s.Sdk_White("www.moby.hk/region", "http://www.moby.hk/NOWL", "http://www.moby.hk/NOWREG", "http://www.moby.hk/LOCAL");
                    case o.SDK_TYPE.VNG_TEST:
                        return new s.Sdk_White("loginteh5pkmnew.mto.zing.vn/region", "https://loginteh5pkmnew.mto.zing.vn/NOWL", "https://loginteh5pkmnew.mto.zing.vn/NOWREG", "https://loginteh5pkmnew.mto.zing.vn/LOCAL");
                    default:
                        return cc.assert(!1, "unknown sdk " + l()), null
                }
            }

            function l() {
                return r.lcAppCfg.getSdkType()
            }

            function d() {
                return null == t && (t = n()), t
            }

            function p() {
                var e = new Date, t = e.getFullYear(), n = e.getMonth() + 1;
                n < 10 && (n = "0" + n);
                var a = e.getDate();
                a < 10 && (a = "0" + a);
                var i = e.getHours();
                i < 10 && (i = "0" + i);
                var o = e.getMinutes();
                o < 10 && (o = "0" + o);
                var r = e.getSeconds();
                return r < 10 && (r = "0" + r), "" + t + n + a + i + o + r
            }

            function u(e) {
                for (var t = p(), n = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], a = (new Date).getTime(), i = function (e, t) {
                    return e = e || 1, (t = t || 0) + (a = (9301 * a + 49297) % 233280) / 233280 * (e - t)
                }, o = e - t.length, r = 0; r < o; r++) t += n[Math.ceil(i(n.length - 1, 0))];
                return t
            }

            e.getSdkType = l, e.getSdk = d, e.getSdkSubChannel = function () {
                return i.lc.getQueryString("subchannel")
            }, e.upgradeLevel = function (e) {
                d().upgradeLevel(e)
            }, e.createRole = function () {
                d().createRole()
            }, e.selectServer = function () {
                d().selectServer()
            }, e.setRoleData = function () {
                d().setRoleData()
            }, e.share = function () {
                a.nox.isJsb ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "share", "()V") : d().share()
            }, e.addShortcutToDesktop = function () {
                d().addShortcutToDesktop()
            }, e.canLogin = function () {
                return d().canLogin()
            }, e.login = function (t) {
                if (!a.nox.isJsb && r.lcAppCfg.isAdmin()) {
                    var n = {
                        uid: i.lc.getQueryString("uid"),
                        id: i.lc.getQueryString("id"),
                        server_id: i.lc.getQueryString("server_id")
                    };
                    if (null != n.id) return e.replayConfig = n, _.LoginData.saveUserId(n.uid), void (t && t());
                    if (window.location.host.indexOf("dev.yugih5.com") >= 0) return void cc.assert(!1, "not implemented")
                }
                d().login(t)
            }, e.canLogout = function () {
                return d().canLogout()
            }, e.logout = function (e) {
                d().logout(e)
            }, e.pay = function (e, t) {
                cc.log("============="), cc.log("purchaseType = " + e), cc.log("purchaseId = " + t), cc.log("=============");
                var n = {
                    system: a.nox.os,
                    purchaseId: parseInt(t),
                    orderId: u(20),
                    amount: c.PurchaseUtil.getIngot(e).shift(),
                    userId: parseInt(P._id),
                    regionId: _.LoginData._userRegion._id,
                    price: c.PurchaseUtil.getPrice(e),
                    regionName: _.LoginData._userRegion._name,
                    ext: _.LoginData._userRegion._id + "_" + t + "_" + parseInt(P._id) + "_" + c.PurchaseUtil.getIngot(e, !1).shift()
                };
                d().pay(n, t)
            }, e.getRegionUrl = function () {
                return d().getRegionUrl()
            }, e.bindAlias = function (e) {
                return ""
            }
        })(n.SdkManager || (n.SdkManager = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../nox": "nox",
        "../const/SDK_TYPE": "SDK_TYPE",
        "../utils/LoginData": "LoginData",
        "../utils/PurchaseUtil": "PurchaseUtil",
        "./Sdk_White": "Sdk_White"
    }],
    Sdk_16Y: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "19360ixkyNGjbvHkt6WrxCw", "Sdk_16Y"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                i.lc.httpPost(t.ts_userinfo_url, "partnerid=" + t.ts_appid + "&access_token=" + i.lc.getQueryString("access_token"), function (n, a) {
                    0 === a.code && i.lc.createSript(t.ts_sdkurl, function () {
                        LWGAME_SDK.config({
                            pay: {
                                success: function () {
                                }, cancel: function () {
                                }
                            }
                        }), o.LoginData.saveUserId(a.userid + "@16y"), e && e()
                    })
                })
            }, t.ts_userinfo_url = "http://103.20.249.171:8181/16YL", t.ts_appkey = "14d379d46114b01364fbfb64fe91d757", t.ts_appid = "66a437fabb86898c8a4d539016a2b30a", t.ts_sdkurl = "http://gameapi.16you.com/media/js/16yougame_sdk.min.js", t
        }(a.BaseSdk);
        n.Sdk_16Y = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_360Game: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "31444d+N4VJu7XPQvdJGrfl", "Sdk_360Game");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BaseSdk"), o = e("../../leocool/lc"), r = e("../utils/LoginData"), _ = e("../ToastManager"),
            s = function (e) {
                function t() {
                    var t = e.call(this) || this, n = t;
                    return n.h5auth = n._getCookieString("h5auth"), t.mLoginUrl = "https://360game.vn/h5/login/vtc?url=" + encodeURIComponent("http://localhost:7456/"), t
                }

                return a(t, e), t.prototype.login = function (e) {
                    var t = this;
                    t.h5auth ? o.lc.httpPost("http://www.moby.hk:8080/index.php/Api/GetUid", "h5auth=" + t.h5auth, function (n, a) {
                        a && "0" === a.result ? (t.uid = a.uid, t.time = a.time, t.sign = a.sign, o.lc.httpPost(t.mLoginUrl, "uid=" + t.uid + "&time=" + t.time + "&sign=" + t.sign, function (n, i) {
                            0 == i.result && t.uid ? (r.LoginData.saveUserId(a.uid + "@vn"), e && e()) : _.ToastManager.push("Uid error!!!")
                        })) : _.ToastManager.push("h5auth error!!!")
                    }) : _.ToastManager.push("h5auth null!!!")
                }, t.prototype._getCookieString = function (e) {
                    var t = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"), n = document.cookie.substr(1).match(t);
                    return null != n ? unescape(n[2]) : null
                }, t
            }(i.BaseSdk);
        n.Sdk_360Game = s, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../ToastManager": "ToastManager",
        "../utils/LoginData": "LoginData",
        "./BaseSdk": "BaseSdk"
    }],
    Sdk_4177: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0130c8L7TlHKqC8LmDdIrQz", "Sdk_4177"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                i.lc.createSript(t.foss_4177_jssdk_url, function () {
                    t.foss_4177_userinfo.open_id = i.lc.getQueryString("open_id"), t.foss_4177_userinfo.channel = i.lc.getQueryString("channel"), t.foss_4177_userinfo.access_token = i.lc.getQueryString("access_token");
                    var n = {
                        app_id: t.foss_4177_appid,
                        open_id: t.foss_4177_userinfo.open_id,
                        channel: t.foss_4177_userinfo.channel
                    };
                    aiaiusdk.init(n), o.LoginData.saveUserId(t.foss_4177_userinfo.open_id + "@7144"), e && e()
                })
            }, t.foss_4177_jssdk_url = "http://passport.4177.com/game/h5sdk", t.foss_4177_appid = "10469", t.foss_4177_appkey = "5c7d860b681be3e73b1999b0235c4000", t.foss_4177_userinfo = {}, t
        }(a.BaseSdk);
        n.Sdk_4177 = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_4399: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "70e01FDVB1IdoVi1j99rgFv", "Sdk_4399"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                o.LoginData.saveUserId(i.lc.getQueryString("userId") + "@4399"), e && e()
            }, t
        }(a.BaseSdk);
        n.Sdk_4399 = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_5Wan: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2c7433RUzpNj78/jKgePMOQ", "Sdk_5Wan"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    i.lc.createSript(t.five_wan_jssdk_url, function () {
                        SDKUTIL.APPID = t.five_wan_appid, SDKUTIL.Login(function (n) {
                            o.nox.log(n), r.LoginData.saveUserId(n.userid + "@5wan"), t.five_wan_userinfo = n, e && e()
                        })
                    })
                }, t.five_wan_appid = "219", t.five_wan_key = "uIJczYzs3yAIS1kVow3y", t.five_wan_jssdk_url = "http://5wanpk.com/open/5wansdk.js", t.five_wan_userinfo = {}, t
            }(a.BaseSdk);
        n.Sdk_5Wan = _, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_7724: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "298bfzn3XRAxZqni63LjqPz", "Sdk_7724"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                i.lc.createSript(t.sstf_script1, function () {
                    i.lc.createSript(t.sstf_script2, function () {
                        var n = {
                            qqesuid: i.lc.getQueryString("qqesuid"),
                            channelid: i.lc.getQueryString("channelid"),
                            channeluid: i.lc.getQueryString("channeluid"),
                            qqesnickname: i.lc.getQueryString("qqesnickname"),
                            qqesavatar: i.lc.getQueryString("qqesavatar"),
                            cpgameid: i.lc.getQueryString("cpgameid"),
                            ext: i.lc.getQueryString("ext"),
                            qqestimestamp: i.lc.getQueryString("qqestimestamp"),
                            sign: i.lc.getQueryString("sign")
                        };
                        cc.log("7724 loginParams"), cc.log(n), SbPulSdk.init(n, function (a) {
                            cc.log("SbPulSdk.init  callback.param = " + a), o.LoginData.saveUserId(n.qqesuid + "@7724"), t.sstf_loginParams = n, e && e()
                        })
                    })
                })
            }, t.sstf_script1 = "http://103.20.249.171:80/js/jquery-3.2.1.min.js", t.sstf_script2 = "http://pulsdk.7724.com/channelsdk/sbpulsdk.js", t.cpguid = "9059ad2b0ea589f", t.cpgameid = "52", t.sstf_key = "9059ad2b0ea58eb9059ad2b0ea5938", t.sstf_loginParams = {}, t
        }(a.BaseSdk);
        n.Sdk_7724 = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_844a: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "625adBd2OVGvJ9utn/tPUe5", "Sdk_844a"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                t.effa_844a_userinfo.uid = i.lc.getQueryString("uid"), t.effa_844a_userinfo.token = i.lc.getQueryString("token"), o.LoginData.saveUserId(t.effa_844a_userinfo.uid + "@844a"), e && e()
            }, t.effa_844a_appid = "273", t.effa_844a_payurl = "http://payh5.844a.com/index.php/h5pay/createpay/", t.effa_844a_appkey = "FvrvkruTORWpj7J2G9YX51rq2s7TKseU", t.effa_844a_userinfo = {}, t
        }(a.BaseSdk);
        n.Sdk_844a = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Ayx: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7b603OohXRMC5Yzy6Mt3xys", "Sdk_Ayx"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                i.lc.createSript(t.aiyouxi_sdk_url, function () {
                    if (egame.init({
                        chargeUse: !0,
                        userUse: !0,
                        toobarUse: !0,
                        share: {summary: "\u7231\u6e38\u620f", pic: "http://a.jpg"}
                    }), i.lc.getQueryString("code")) i.lc.httpPost(t.aiyouxi_post_url, "code=" + i.lc.getQueryString("code"), function (n, a) {
                        0 == a.code && "success" == a.text && (t.aiyouxi_userinfo = a.ext, o.LoginData.saveUserId(t.aiyouxi_userinfo.id + "@ayx"), e && e())
                    }); else {
                        var n = {
                            client_id: t.aiyouxi_clientId,
                            service: t.aiyouxi_service_url,
                            redirect_uri: t.aiyouxi_service_url,
                            app_callback: function (n) {
                                i.lc.httpPost(t.aiyouxi_post_url, "token=" + n + "&redirect_uri=" + t.aiyouxi_service_url, function (n, a) {
                                    0 == a.code && "success" == a.text && (t.aiyouxi_userinfo = a.ext, o.LoginData.saveUserId(t.aiyouxi_userinfo.id + "@ayx"), e && e())
                                })
                            }
                        };
                        egame.userInit(n)
                    }
                })
            }, t.aiyouxi_sdk_url = "http://h5.play.cn/static/js/charge/egame-2.0.js", t.aiyouxi_post_url = "http://103.20.249.171:8181/LOVEL", t.aiyouxi_clientId = "51110676", t.aiyouxi_service_url = "http://103.20.249.171:80/?sdk_type=ayx", t.aiyouxi_AppKey = "d3a3e602fcbd90f5bfc9fcb3ba2e9a37", t.aiyouxi_userinfo = {}, t
        }(a.BaseSdk);
        n.Sdk_Ayx = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Cdjyw: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dc74fnrl65OKYT6SLIP5Ha/", "Sdk_Cdjyw"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                o.LoginData.saveUserId(i.lc.getQueryString("user_id") + "@cdjyw"), e && e()
            }, t.cdjyw_domain_url = "www.jywgame.com", t.cdjyw_payurl = "http://www.jywgame.com/media.php/Game/game_pay/", t.cdjyw_appkey = "20170921143101", t.cdjyw_appid = "4311AA2EE45BBA20F", t
        }(a.BaseSdk);
        n.Sdk_Cdjyw = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Djs: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a788fu/MahKJ7R+UUtEUmGY", "Sdk_Djs"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                o.LoginData.saveUserId(i.lc.getQueryString("user_id") + "@djs"), e && e()
            }, t.djs_domain_url = "www.jywh5.com", t.djs_payurl = "http://www.jywh5.com/media.php/Game/game_pay/", t.djs_appkey = "djs20170921143201", t.djs_appid = "62809EBE740D0D443", t
        }(a.BaseSdk);
        n.Sdk_Djs = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Foss4177: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4887bH378RPc7/loFPoFwaw", "Sdk_Foss4177"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.createRole = function () {
                aiaiusdk.createRole({
                    open_id: "" + i.lc.getQueryString("open_id"),
                    server_id: "" + o.LoginData._userRegion._id,
                    server_name: "" + o.LoginData._userRegion._name,
                    role_id: P._id + "",
                    role_name: P._name.replace("'", "")
                })
            }, t.prototype.selectServer = function () {
                aiaiusdk.selectServer({
                    open_id: i.lc.getQueryString("open_id"),
                    server_id: "" + o.LoginData._userRegion._id,
                    server_name: "" + o.LoginData._userRegion._name
                })
            }, t
        }(a.BaseSdk);
        n.Sdk_Foss4177 = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Fw: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c7e61Z3k6BGya+qT0heitYj", "Sdk_Fw"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../utils/LoginData"), o = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.createRole = function () {
                SDKUTIL.CreateRole({
                    serverid: "" + i.LoginData._userRegion._id,
                    servername: "" + i.LoginData._userRegion._name,
                    roleid: P._id + "",
                    nickname: P._name.replace("'", "")
                }, function () {
                })
            }, t
        }(a.BaseSdk);
        n.Sdk_Fw = o, cc._RF.pop()
    }, {"../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_G7k7k: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9f6e6vEb2lIWbspDtePKpyJ", "Sdk_G7k7k"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    window.sdkInit = {
                        account: i.lc.getQueryString("userid"),
                        appkey: t.g7k7k_appkey,
                        k7_vaildCode: i.lc.getQueryString("vaildCode")
                    }, i.lc.createSript(t.g7k7k_sdk_url, function () {
                        t.g7k7k_userinfo.userid = i.lc.getQueryString("userid"), t.g7k7k_userinfo.username = i.lc.getQueryString("username"), t.g7k7k_userinfo.isAdult = i.lc.getQueryString("isAdult"), t.g7k7k_userinfo.avatar = i.lc.getQueryString("avatar"), t.g7k7k_userinfo.sex = i.lc.getQueryString("sex"), t.g7k7k_userinfo.vaildCode = i.lc.getQueryString("vaildCode"), t.g7k7k_userinfo.time = i.lc.getQueryString("time"), t.g7k7k_userinfo.sign = i.lc.getQueryString("sign"), o.nox.log(t.g7k7k_userinfo.userid + "  " + t.g7k7k_userinfo.username + "  " + t.g7k7k_userinfo.isAdult + "   " + t.g7k7k_userinfo.avatar + "   " + t.g7k7k_userinfo.sex + "   " + t.g7k7k_userinfo.vaildCode + "   " + t.g7k7k_userinfo.time + "   " + t.g7k7k_userinfo.sign), r.LoginData.saveUserId(t.g7k7k_userinfo.userid + "@7k7k"), e && e()
                    })
                }, t.prototype.setRoleData = function () {
                    K7_SDK.RoleInfo({
                        serverid: "" + r.LoginData._userRegion._id,
                        servername: "" + r.LoginData._userRegion._name,
                        roleid: "" + parseInt(P._id),
                        rolename: P._name.replace("'", ""),
                        rolelevel: P._level + "",
                        appkey: t.g7k7k_appkey,
                        account: i.lc.getQueryString("userid")
                    })
                }, t.g7k7k_sdk_url = "http://h5.7k7k.com/assets/v0.1.0/k7sdk.js", t.g7k7k_userinfo = {}, t.g7k7k_appkey = "169b140b304f77e407f0831fe2cd21e7", t.g7k7k_app_secret = "3748efeb96015246f294f5510f028b5d", t.g7k7k_pay_url = "http://103.20.249.171:8181/7K7KL", t
            }(a.BaseSdk);
        n.Sdk_G7k7k = _, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Gs: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6d70eJ+KXFI/7LsqYnxl0hT", "Sdk_Gs"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./Sdk_Vng"), i = e("../const/SDK_TYPE"), o = function (e) {
            function t() {
                return e.call(this, i.SDK_TYPE.gs) || this
            }

            return __extends(t, e), t.prototype.share = function () {
                FB.init({
                    appId: "248962368965577",
                    autoLogAppEvents: !0,
                    status: !0,
                    xfbml: !0,
                    version: "v2.10"
                }), FB.ui({method: "share", href: "https://id.yugih5.com/?my_code=" + P._inviteCode}, function (e) {
                    cc.log("-----------share------------"), cc.log(e), e && e.error_message
                })
            }, t
        }(a.Sdk_Vng);
        n.Sdk_Gs = o, cc._RF.pop()
    }, {"../const/SDK_TYPE": "SDK_TYPE", "./Sdk_Vng": "Sdk_Vng"}],
    Sdk_HengShi: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "8b6fbT7wtNGWr/AEaTIpSTr", "Sdk_HengShi"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    i.lc.createSript(t.hengshi_sdk_url, function () {
                        t.hengshi_userinfo.openid = i.lc.getQueryString("openid"), t.hengshi_userinfo.platform = i.lc.getQueryString("platform"), t.hengshi_userinfo.gameid = i.lc.getQueryString("gameid"), t.hengshi_userinfo.timestamp = i.lc.getQueryString("timestamp"), t.hengshi_userinfo.params = i.lc.getQueryString("params"), o.nox.log(t.hengshi_userinfo.openid + "  " + t.hengshi_userinfo.platform + "  " + t.hengshi_userinfo.gameid + "   " + t.hengshi_userinfo.timestamp + "   " + t.hengshi_userinfo.params), r.LoginData.saveUserId(t.hengshi_userinfo.openid + "@hengshi"), e && e()
                    })
                }, t.hengshi_sdk_url = "http://sharesdk.shishagame.com/api/sharesdk.js", t.hengshi_userinfo = {}, t
            }(a.BaseSdk);
        n.Sdk_HengShi = _, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Hscm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0293cpSdJ9OUo7DZiCI56k+", "Sdk_Hscm"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    i.lc.createSript(t.hscm_sdk_url, function () {
                        var n = getWebviewProperty("token");
                        n && "" !== n ? i.lc.httpPost(t.hscm_userinfo_url, "access_token=" + n, function (a, i) {
                            o.nox.log("------getWebviewProperty-----"), o.nox.log(i), t.hscm_access_token = n, r.LoginData.saveUserId(i.data.id + "@hscm"), e && e()
                        }) : popupLoginView(function (n, a) {
                            t.hscm_access_token = n, cc.log("------popupLoginView------\naccess_token=" + n), cc.log(a), r.LoginData.saveUserId(JSON.parse(a).id + "@hscm"), e && e()
                        })
                    })
                }, t.hscm_userinfo_url = "http://103.20.249.171:8181/HSCML", t.hscm_pay_url = "http://103.20.249.171:8181/HSCMP", t.hscm_sdk_url = "http://points.1kxun.mobi/js/sdk/1kxun_test_min.js", t.hscm_app_key = "ec20c7720a0540c6401552fed972559f", t.hscm_access_token = "", t.hscm_return_url = o.nox.isJsb ? "" : window.location.href, t.hscm_callback_url = "http://103.20.249.171:8282/HSCM", t
            }(a.BaseSdk);
        n.Sdk_Hscm = _, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_JsbGeneral: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ca121ThGytOcJHCmjpn2iOr", "Sdk_JsbGeneral"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.NATIVE_SDK_INIT = !1, t.__loginCallback = null, t
            }

            return __extends(t, e), t.prototype.login = function (e) {
                this.__loginCallback = e, this.NATIVE_SDK_INIT ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "login", "()V") : jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "initSDK", "()V")
            }, t
        }(e("./BaseSdk").BaseSdk);
        n.Sdk_JsbGeneral = a, cc._RF.pop()
    }, {"./BaseSdk": "BaseSdk"}],
    Sdk_Mht: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "78b911mVdBCJJ92j9DSTxba", "Sdk_Mht"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../nox"), o = e("../../leocool/lc"), r = e("./NativeSdk"),
            _ = e("../utils/LoginData");
        i.nox.isH5MC && o.lc.getQueryString("mctype");
        var s = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.createRole = function () {
                r.NativeSdk.invokeNative("setRoleData", JSON.stringify({
                    roleId: "" + parseInt(P._id),
                    roleName: P._name.replace("'", ""),
                    roleLevel: "1",
                    zoneId: _.LoginData._userRegion._id + "",
                    zoneName: "" + _.LoginData._userRegion._name
                }))
            }, t.prototype.setRoleData = function () {
                r.NativeSdk.invokeNative("setRoleData", JSON.stringify({
                    roleId: "" + parseInt(P._id),
                    roleName: P._name.replace("'", ""),
                    roleLevel: P._level + "",
                    zoneId: _.LoginData._userRegion._id + "",
                    zoneName: "" + _.LoginData._userRegion._name
                }))
            }, t
        }(a.BaseSdk);
        n.Sdk_Mht = s, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../nox": "nox",
        "../utils/LoginData": "LoginData",
        "./BaseSdk": "BaseSdk",
        "./NativeSdk": "NativeSdk"
    }],
    Sdk_Qunhei: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "00a16Lo6lZLEoX9AzznVBxq", "Sdk_Qunhei"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                var t = i.lc.getQueryString("username");
                o.LoginData.saveUserId(t + "@qunhei"), e && e()
            }, t.qh_key = "1315b3d396a7dd604a40e75b7d6a67be", t.qh_gid = "3672", t
        }(a.BaseSdk);
        n.Sdk_Qunhei = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Sina: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "30e60FuWfFJEbeebty25gNR", "Sdk_Sina"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                i.lc.createSript(t.sina_sdk_url, function () {
                    var n = i.lc.getQueryString("uid");
                    t.sina_access_token = i.lc.getQueryString("access_token"), o.LoginData.saveUserId(n + "@sina"), e && e()
                })
            }, t.sina_access_token = "", t.sina_sdk_url = "http://mg.games.sina.com.cn/kjava/sng/js/share_game.js", t.sina_pay_url = "http://sng.sina.com.cn/payment/order/order_cashier", t.sina_appkey = "2682085441", t.sina_show_url = "http://m.game.weibo.com/api/redirect/nh5pass_game/appkey/2682085441", t.sina_page_id = "231307b4f47c0a5d71e384df35b674296d1c85", t
        }(a.BaseSdk);
        n.Sdk_Sina = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Vng: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5c4d8BxsUhBppo9dU+TlAH9", "Sdk_Vng"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = e("../../leocool/lcAppCfg"), s = function (e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return n._sdkType = t, n
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    i.lc.createSript(t.gs_sdk_url, function () {
                        var n = function () {
                            var e = '<li class="zl__button"> <a id="gsZMLogin" class="zl__link zl__link--zing" href="#"> <i class="zl__icon zl__icon--zing"></i>  </a></li><li class="zl__button"> <a id="gsFBLogin" class="zl__link zl__link--zing" href="#"> <i class="zl__icon zl__icon--fb"></i>  </a></li>';
                            "zl" === this.getSdkType() && (e = '<li class="zl__button"> <a id="gsZLLogin" class="zl__link zl__link--zalo" href="#"> <i class="zl__icon zl__icon--zalo"></i>  </a></li>');
                            var t = '    <meta name="viewport" content="width=device-width">    <meta charset="UTF-8">    <div id="zl_login" class="zl__login clearfix">        <ul class="zl__buttons clearfix">' + e + "        </ul>    </div>";
                            $("#container").append(t)
                        };
                        n();
                        var a = "zm,fb";
                        _.lcAppCfg.isShowDevServerList() && (a = "zm"), "zl" === this._sdkType && (a = "zl");
                        var s = "zl" === this._sdkType ? t.zl_appid : window.location.host.indexOf("dev.yugih5.com") >= 0 ? t.dev_gs_appid : t.gs_appid;
                        window.location.host.indexOf("version.yugih5.com") >= 0 && (s = "477011145118272"), GS.init({
                            appId: s,
                            version: "v1",
                            isShowLogin: "false",
                            platform: a
                        }), GS.getLoginStatus(function (n) {
                            console.log("=============get-login-status==========="), "connected" == n.status ? GS.api("get-user-info", {}, function (n) {
                                console.log("=============get-user-info===========");
                                var a = n.data;
                                a && (SdkManager._sginData = a.sig);
                                var o = a.uid;
                                if (1 != n.status) console.log("==========token is expired========="), GS.logout(function (e) {
                                    window.location.host.indexOf("dev.yugih5.com") >= 0 ? window.location.replace("https://dev.yugih5.com") : "gs" === this._sdkType ? window.location.replace("https://id.yugih5.com") : "zl" === this._sdkType && window.location.replace("https://zalo.yugih5.com")
                                }); else if (window.location.host.indexOf("dev.yugih5.com") >= 0) r.LoginData.saveUserId(o + "@gs"), e && e(), $(".zl__login").remove(); else if ("gs" === this._sdkType) {
                                    var _ = "";
                                    _ = "gs" === this._sdkType ? window.location.host.indexOf("version.yugih5.com") >= 0 ? t.version_login_url : t.gs_login_url : t.zl_login_url, i.lc.httpPost(_, "uid=" + a.uid + "&sign=" + a.sig, function (t, n) {
                                        1 == n.code || window.location.host.indexOf("version.yugih5.com") >= 0 ? (r.LoginData.saveUserId(o + "@gs"), e && e(), $(".zl__login").remove()) : alert("sign error. sdk resp: uid=" + o + "&sign=" + a.sig + "&sdktype=" + this._sdkType + "  server data: uid=" + n.uid + "&sign=" + n.sign)
                                    })
                                } else r.LoginData.saveUserId(o + "@zl"), e && e(), $(".zl__login").remove()
                            }) : (console.log("login status not-connected and will show loginButtons"), c())
                        });
                        var c = function () {
                            if (document.getElementById("zl__login") || (console.log("addHTMLButtons"), n()), "zl" === this._sdkType) {
                                var e = ClientView.createShaderButton(res.login_zalo_png, function () {
                                    console.log("gsZLLogin"), document.getElementById("gsZLLogin").click()
                                });
                                i.lc.addChildToPos(o.nox.loaderScene, e, new cc.Vec2(ClientView.SCR_CW, i.lc.ch(e) + 10))
                            } else {
                                var t = [], a = ClientView.createShaderButton(res.login_zing_id_png, function () {
                                    console.log("gsZMLogin"), document.getElementById("gsZMLogin").click()
                                });
                                if (t.push(a), !(_.lcAppCfg.isShowDevServerList() || window.location.host.indexOf("version.yugih5.com") >= 0)) {
                                    var r = ClientView.createShaderButton(res.login_fb_png, function () {
                                        console.log("gsFBLogin"), document.getElementById("gsFBLogin").click()
                                    });
                                    t.push(r)
                                }
                                i.lc.addNodesToCenter(o.nox.loaderScene, t, 100, i.lc.ch(a) + 10)
                            }
                        }.bind(this)
                    })
                }, t.prototype.logout = function (e) {
                    GS.logout(function (e) {
                        1 == e.status ? window.location.reload() : (console.log("Logout\xa0failed."), window.location.reload())
                    })
                }, t.prototype.addShortcutToDesktop = function () {
                    window.sngH5Game.addShortcut("callbackFunction"), window.callbackFunction = function (e) {
                    }
                }, t.native_user_info = {}, t.gs_sdk_url = "https://h5.vcdn.vn/jssdk/sdk/gs.js", t.gs_appid = "412668888645744", t.zl_appid = "478408918174279", t.dev_gs_appid = "477011145118267", t.gs_login_url = "https://id.yugih5.com/login_gsl", t.zl_login_url = "https://zalo.yugih5.com/login_zll", t.version_login_url = "https://version.yugih5.com/login_gsl", t
            }(a.BaseSdk);
        n.Sdk_Vng = s, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../nox": "nox",
        "../utils/LoginData": "LoginData",
        "./BaseSdk": "BaseSdk"
    }],
    Sdk_White: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ea068BELGtGLrHkmym9ukZg", "Sdk_White");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("./BaseSdk"), o = e("../../nox"), r = e("../utils/LoginData"), _ = e("../ui/form/LoginForm"),
            s = e("../../leocool/lc"), c = function (e) {
                function t(t, n, a, i) {
                    var o = e.call(this) || this;
                    return o.mRegionUrl = t, o.mLoginUrl = n, o.mRegisterUrl = a, o.mPayUrl = i, o
                }

                return a(t, e), t.prototype.canLogin = function () {
                    return !0
                }, t.prototype.login = function (e) {
                    _.LoginForm.mLoginCallback = e, _.LoginForm.create().show()
                }, t.prototype.canLogout = function () {
                    return !0
                }, t.prototype.logout = function (e) {
                    o.nox.isJsb ? (jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "logout", "()V"), e && e()) : (window.location.reload(), e && e())
                }, t.prototype.pay = function (e, t) {
                    o.nox.isDev && "pokemon(localhost)" != r.LoginData._userRegion._name ? s.lc.httpPost("http://192.168.0.21:18282/LOCAL", s.lc.sortObjectByKey(e)) : s.lc.httpPost(this.mPayUrl, s.lc.sortObjectByKey(e))
                }, t.prototype.getRegionUrl = function () {
                    return this.mRegionUrl
                }, t.prototype.getLoginUrl = function () {
                    return this.mLoginUrl
                }, t.prototype.getRegisterUrl = function () {
                    return this.mRegisterUrl
                }, t
            }(i.BaseSdk);
        n.Sdk_White = c, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../nox": "nox",
        "../ui/form/LoginForm": "LoginForm",
        "../utils/LoginData": "LoginData",
        "./BaseSdk": "BaseSdk"
    }],
    Sdk_XiaoQi: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d30600g1TdGFLWTNRbxmeek", "Sdk_XiaoQi"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../../nox"), r = e("../utils/LoginData"),
            _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.login = function (e) {
                    i.lc.createSript(t.xiao_qi_jssdk_url, function () {
                        o.nox.log("showXiaoQiLogin");
                        var n = "login_stime=" + i.lc.getQueryString("stime") + "&game_key=" + i.lc.getQueryString("game_key") + "&login_ticket=" + i.lc.getQueryString("ticket");
                        i.lc.httpPost(t.xiaoqi_post_url, n, function (n, a) {
                            o.nox.log(a), t.xiaoqi_userinfo = a.userData, r.LoginData.saveUserId(t.xiaoqi_userinfo.user_id + "@xiaoqi"), e && e()
                        })
                    })
                }, t.xiao_qi_jssdk_url = "https://www.x7sy.com/loadx7sdk/x7js_sdk_v20170607.js", t.xiao_qi_game_key = "32da707d2ff6ebb9f20756efc1dc13d5", t.xiaoqi_game_secret = "6C5F41C3833B414870E17AD9FC7E9091", t.xiaoqi_post_url = "http://103.20.249.171:8181/X7L", t.xiaoqi_userinfo = {}, t
            }(a.BaseSdk);
        n.Sdk_XiaoQi = _, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Xmw: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fc497fZVuRCzarAVxlMbi1W", "Sdk_Xmw"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../nox"), o = e("../../leocool/lc"), r = e("../../leocool/lcSys"),
            _ = e("./NativeSdk"), s = e("../utils/LoginData"), c = o.lc.getQueryString("mcver"),
            l = "c9e23dc0748da75828da02871796cd51", d = "http://103.20.249.171:8181/XMWL";
        i.nox.isH5MC && "ios" === o.lc.getQueryString("mctype") && (d = "http://103.20.249.172:8181/XMWIOSL", "http://103.20.249.172:8181/XMWIOSP", "http://103.20.249.172:8282/xmwios", r.lcSys.versionCompare("0.0.0", c));
        var p = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                o.lc.createSript("https://www.xmwan.com/sdk_Xmw/sdk_js/jquery.min.js", function () {
                    o.lc.createSript("https://www.xmwan.com/sdk_Xmw/sdk_js/sdk_Xmw.js", function () {
                        sdk_Xmw.init(l, sdk_Xmw.getUrlParam("agent_id")), sdk_Xmw.dologin(1), sdk_Xmw.logincallback(function (n) {
                            t.firstLogin && (t.firstLogin = !1, cc.log("login \u56de\u8c03   \u53d1\u9001httpPost  \u83b7\u53d6access_token"), cc.log(d + "\nclient_id=" + l + "&client_secret=d7ab8e0e22f6b27c7cb0b9c3bf09e36f&grant_type=authorization_code&code=" + n.authorization_code), o.lc.httpPost(d, "client_id=" + l + "&client_secret=d7ab8e0e22f6b27c7cb0b9c3bf09e36f&grant_type=authorization_code&code=" + n.authorization_code, function (t, n) {
                                n, s.LoginData.saveUserId(n.xmw_open_id + "@xmw"), e && e()
                            }))
                        }), sdk_Xmw.tongjicallback(function (e) {
                        })
                    })
                })
            }, t.prototype.upgradeLevel = function (e) {
                if (e < P._level) {
                    var t = {
                        client_id: l + "",
                        accountid: "" + parseInt(P._id),
                        servername: "" + s.LoginData._userRegion._name,
                        rolename: "" + P._name.replace("'", ""),
                        rolelv: P._level + "",
                        rolevip: P._vip + "",
                        gold: "" + P._gold,
                        diamond: "" + P._ingot,
                        profession: ""
                    };
                    i.nox.isH5MC ? _.NativeSdk.invokeNative("upgrade", JSON.stringify(t)) : sdk_Xmw.gametongji("upgrade", t)
                }
            }, t.prototype.setRoleData = function () {
                var e = {
                    client_id: l + "",
                    accountid: "" + parseInt(P._id),
                    platform: "" + cc.sys.os,
                    serverid: s.LoginData._userRegion._id + "",
                    servername: "" + s.LoginData._userRegion._name,
                    rolename: "" + P._name.replace("'", ""),
                    rolelv: P._level + "",
                    rolevip: P._vip + "",
                    gold: "" + P._gold,
                    diamond: "" + P._ingot,
                    profession: ""
                };
                i.nox.isH5MC ? (delete e.platform, _.NativeSdk.invokeNative("login_role", JSON.stringify(e))) : sdk_Xmw.gametongji("login_role", e)
            }, t.firstLogin = !0, t
        }(a.BaseSdk);
        n.XmlSdk = p, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcSys": "lcSys",
        "../../nox": "nox",
        "../utils/LoginData": "LoginData",
        "./BaseSdk": "BaseSdk",
        "./NativeSdk": "NativeSdk"
    }],
    Sdk_Yxtz: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "95801J+EmxEyJ4eiWjjp2mn", "Sdk_Yxtz"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./BaseSdk"), i = e("../../leocool/lc"), o = e("../utils/LoginData"), r = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.login = function (e) {
                o.LoginData.saveUserId(i.lc.getQueryString("user_id") + "@yxtz"), e && e()
            }, t.yxtz_appid = "28068958F72EF7D5A", t.yxtz_appkey = "2V2TTxla0lJqOXICrZZPB0BFjGKmPWew", t.yxtz_domain_url = "h5.gametanzi.com", t.yxtz_payurl = "http://h5.gametanzi.com/media.php/Game/game_pay/", t
        }(a.BaseSdk);
        n.Sdk_Yxtz = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../utils/LoginData": "LoginData", "./BaseSdk": "BaseSdk"}],
    Sdk_Zalo: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "822a3OX6z5AH4O3rlPmrDe/", "Sdk_Zalo"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../const/SDK_TYPE"), i = function (e) {
            function t() {
                return e.call(this, a.SDK_TYPE.zl) || this
            }

            return __extends(t, e), t.prototype.share = function () {
                ZaloShareForm.create().show()
            }, t
        }(e("./Sdk_Vng").Sdk_Vng);
        n.Sdk_Zalo = i, cc._RF.pop()
    }, {"../const/SDK_TYPE": "SDK_TYPE", "./Sdk_Vng": "Sdk_Vng"}],
    SeasonPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a832aJNZ9BKLpj54H1lfQIJ", "SeasonPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendSeasonApply = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SEASON_ENROLL, a.NetUtil.sendProtoMsg(e)
            }, e.sendSeasonPrepare = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SEASON_READY, t.setExtensions_World_pb_SglWorldMsg_world_season_ready_strong_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSeasonInfo = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SEASON_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendSeasonBet = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SEASON_BETTING;
                var o = i.addExtensions_World_pb_SglWorldMsg_world_season_betting_req();
                o.battle_user_id = e, o.num = n, o.group_id = t, o.season_id = 1, a.NetUtil.sendProtoMsg(i)
            }, e.sendSeasonBetHistory = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SEASON_BET_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendCombatServerConnectionReq = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_GET_BATTLE_ID, a.NetUtil.sendProtoMsg(e)
            }, e.sendSeasonHistoryRank = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SEASON_RANK_PRE, a.NetUtil.sendProtoMsg(e)
            }, e.sendPeekBet = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_BETTING;
                var i = n.addExtensions_World_pb_SglWorldMsg_world_user_betting_req();
                i.battle_user_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendSelfBet = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_BET_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendBetPre = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_BET_PRE, a.NetUtil.sendProtoMsg(e)
            }
        })(n.SeasonPart || (n.SeasonPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    SelectAvatarFrameForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fd505p13GpA27Fr5fslyZ6Z", "SelectAvatarFrameForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../StringEnums"),
            s = e("../../../leocool/lcStr"), c = e("../../data/data"), l = e("../../ClientData"),
            d = e("../../part/UserPart"), p = e("../../utils/SpriteUtil"), u = e("../../../nox"), g = e("./DescForm"),
            h = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SelectAvatarFrameForm) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), this.mMask = r.noxcc.findButton("mask", this.getRootNode()), r.noxcc.addClick(this.mCloseBtn, this, this.oncloseBtn), r.noxcc.addClick(this.mMask, this, this.oncloseBtn), this._LayoutNode = r.noxcc.find("content_bg/mask/content/Layout", this.getRootNode()), this._itemNode = r.noxcc.find("item", this._LayoutNode), this._itemNode.active = !1, r.noxcc.setParent(this._itemNode, this.getRootNode());
                    var e = r.noxcc.findLabel("title", this.mRoot);
                    for (var t in r.noxcc.setLabelString(e, s.lcStr(_.STR.CHANGE_RECT)), this._frames = [], c.Data._propsInfo) {
                        var n = u.nox.toNumber(t), a = c.Data._propsInfo[n];
                        if (75 == Math.floor(n / 100) && n != c.Data.PropsId.avatar_frame_level_rank1 && n != c.Data.PropsId.avatar_frame_level_rank2 && n != c.Data.PropsId.avatar_frame_level_rank3 && n != c.Data.PropsId.avatar_frame_xmas_1 && n != c.Data.PropsId.avatar_frame_xmas_2) {
                            var i = P._propBag.validPropId(n, !0)[1];
                            (i == c.Data.PropsId.avatar_frame || P.getItemCount(i) > 0) && this._frames.push(a)
                        }
                    }
                    this._frames.sort(function (e, t) {
                        return e._id - t._id
                    }), this.updateFrameList()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.updateFrameList = function () {
                    var e = this;
                    this._avatarBtn = [], this._avatarVals = [], this._avatarIcons = [];
                    for (var t = function (t) {
                        var a = n._frames[t - 1], i = r.noxcc.instantiate(n._itemNode);
                        i.active = !0, r.noxcc.setParent(i, e._LayoutNode), n._avatarIcons[t] = r.noxcc.findSprite("AvatarFrame_button", i), n._avatarBtn[t] = r.noxcc.findButton("AvatarFrame_button", i), n._avatarVals[t] = r.noxcc.findLabel("AvatarFrame_text", i);
                        var o = r.noxcc.findButton("SelectAvatarFrame_button", i),
                            c = o.getComponentInChildren(cc.Label);
                        p.SpriteUtil.setSprite(n._avatarIcons[t], l.ClientData.getAvatarFrameName(a._id)), r.noxcc.addClick(n._avatarBtn[t], function () {
                            g.DescForm.create({_infoId: a._id}).show()
                        });
                        var u = P._propBag.validPropId(a._id, !0), h = (u[0], u[1]);
                        r.noxcc.setLabelString(n._avatarVals[t], a._nameSid ? s.lcStr(a._nameSid) : s.lcStr(_.STR.AVATAR_FRAME_DEF)), r.noxcc.setLabelString(c, s.lcStr(_.STR.SELECT)), r.noxcc.addClick(o, function () {
                            P.changeAvatarFrame(h) && d.UserPart.sendSetAvatarFrame(h), e.hide()
                        })
                    }, n = this, a = 1; a <= this._frames.length; a++) t(a)
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.SelectAvatarFrameForm = h, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "./DescForm": "DescForm"
    }],
    SelectCardBackForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e5226x25nxOaJMqv/yrM3ir", "SelectCardBackForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lc"),
            s = e("../../data/data"), c = e("../../ToastManager"), l = e("../../../leocool/lcStr"),
            d = e("../../StringEnums"), p = e("../../utils/UIUtil"), u = e("../../utils/SpriteUtil"),
            g = e("../../part/UserPart"), h = e("./DescForm"), f = e("../../../nox"), m = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SelectCardBackForm) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), this.mMask = r.noxcc.findButton("mask", this.getRootNode()), r.noxcc.addClick(this.mCloseBtn, this, this.oncloseBtn), r.noxcc.addClick(this.mMask, this, this.oncloseBtn);
                    var e = r.noxcc.findLabel("title", this.getRootNode());
                    for (var t in e.string = l.lcStr(d.STR.CHANGE_CARD_BACK), this._contentNode = r.noxcc.find("content_bg/mask/content/Layout", this.getRootNode()), this._item = r.noxcc.find("item", this._contentNode), this._item.active = !1, r.noxcc.setParent(this._item, this.getRootNode()), this._cardBacks = [], s.Data._propsInfo) {
                        var n = f.nox.toNumber(t), a = s.Data._propsInfo[n];
                        76 == Math.floor(n / 100) && (n == s.Data.PropsId.card_back || P.getItemCount(n) > 0) && this._cardBacks.push(a)
                    }
                    this._cardBacks.sort(function (e, t) {
                        return e._id - t._id
                    }), this.updateCardBackList()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.updateCardBackList = function () {
                    var e = this;
                    this._cardBackVal = [], this._infoBtn = [], this._cardBackImg = [], this._activeImg = [];
                    for (var t = function (t) {
                        var a = r.noxcc.instantiate(n._item);
                        a.active = !0, r.noxcc.setParent(a, n._contentNode), n._cardBackVal[t] = r.noxcc.findLabel("CardBack_text", a), n._infoBtn[t] = r.noxcc.findButton("info_button", a), n._cardBackImg[t] = r.noxcc.findSprite("info_button/CardBack_Sprite", a), n._activeImg[t] = r.noxcc.findSprite("info_button/NowCardBack_Sprite", a);
                        var i = r.noxcc.findButton("SelectCardBack_button", a), o = i.getComponentInChildren(cc.Label);
                        r.noxcc.setLabelString(o, l.lcStr(d.STR.SELECT)), r.noxcc.setLabelString(n._cardBackVal[t], _.lc.V(e._cardBacks[t]._nameSid) ? l.lcStr(e._cardBacks[t]._nameSid) : l.lcStr(d.STR.DEFAULT) + l.lcStr(d.STR.CARD_BACK)), r.noxcc.addClick(i, function () {
                            P.getItemCount(e._cardBacks[t]._id) <= 0 ? c.ToastManager.push(l.lcStr(d.STR.CARD_BACK_LOCKED)) : P._cardBackId == e._cardBacks[t]._id ? e.hide() : (g.UserPart.sendSetCardBack(e._cardBacks[t]._id), P._cardBackId = e._cardBacks[t]._id, c.ToastManager.push(l.lcStr(d.STR.SELECT_CARD_BACK_SUCCESS)), e.hide())
                        }), P._cardBackId == n._cardBacks[t]._id ? u.SpriteUtil.setSprite(n._activeImg[t], "img_cur") : P.getItemCount(n._cardBacks[t]._id) <= 0 && u.SpriteUtil.setSprite(n._activeImg[t], "img_chain"), u.SpriteUtil.getSpriteFrame(p.UIUtil.getCardBackName(n._cardBacks[t]._id)) ? u.SpriteUtil.setSprite(n._cardBackImg[t], p.UIUtil.getCardBackName(n._cardBacks[t]._id)) : cc.assert(!1, "\u56fe\u7247\u6ca1\u627e\u5230:" + n._cardBacks[t]._id), r.noxcc.addClick(n._infoBtn[t], function () {
                            h.DescForm.create({_infoId: e._cardBacks[t]._id}).show()
                        })
                    }, n = this, a = 0; a < this._cardBacks.length; a++) t(a)
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.SelectCardBackForm = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "./DescForm": "DescForm"
    }],
    SelectCountWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0568cM+rWRA6o8oBDiQeYBE", "SelectCountWidget"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../../leocool/lc"),
            o = (e("../node/NodeWithLabel"), e("../../config/UICfg")), r = e("../../utils/RichTextUtil"),
            _ = e("../../../nox"), s = e("../node/NodeWithShaderButton"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, n, _, c) {
                    var l = this;
                    _ = i.lc.D(_, 100);
                    var d = cc.size(344 + _, t.HEIGHT);
                    this.node.setContentSize(d), l._max = n, l._min = i.lc.D(c, 1), l._callback = e;
                    var p = t.HEIGHT / 2;
                    l.countBg = a.SpriteUtil.createSprite({
                        _name: "img_com_bg_58",
                        _crect: o.UICfg.CRECT_COM_BG58,
                        _size: cc.size(_, t.HEIGHT)
                    }), i.lc.addChildToPosAR(l.getRoot(), l.countBg.node, cc.v2(i.lc.w(l.node) / 50, p)), l.countVal = r.RichTextUtil.createTTF(o.UICfg.BMFont.huali_32, 1, o.UICfg.COLOR_TEXT_DARK), i.lc.addChildToPosAR(l.countBg.node, l.countVal.node, cc.v2(i.lc.w(l.countBg.node) / 150, p));
                    var u = s.NodeWithShaderButton.createShaderButton("img_decompose_-10", function () {
                        l.changeCount(-10)
                    });
                    i.lc.addChildToPosAR(l.node, u, cc.v2(i.lc.w(u) + -195, p)), l._btnReduceTen = u;
                    var g = s.NodeWithShaderButton.createShaderButton("img_btn_reduce", function () {
                        l.changeCount(-1)
                    });
                    i.lc.addChildToPosAR(l.node, g, cc.v2(i.lc.right(u) + 80 + i.lc.w(g) / 2, p)), l._btnReduceOne = g;
                    var h = s.NodeWithShaderButton.createShaderButton("img_icon_add", function () {
                        l.changeCount(1)
                    });
                    i.lc.addChildToPosAR(l.node, h, cc.v2(i.lc.right(l.countBg.node) + 40 + i.lc.w(h) / 2, p)), l._btnAddOne = h;
                    var f = s.NodeWithShaderButton.createShaderButton("img_decompose_+10", function () {
                        l.changeCount(10)
                    });
                    i.lc.addChildToPosAR(l.node, f, cc.v2(i.lc.right(h) + 80 + i.lc.w(f) / 2, p)), this._btnAddTen = f
                }, t.prototype.changeCount = function (e) {
                    var t = _.nox.toNumber(this.countVal.getString());
                    (t += e) < this._min ? t = this._min : this._max >= 0 && t > this._max && (t = this._max), this.countVal.setString(_.nox.toString(t)), this._callback && this._callback(t)
                }, t.prototype.getCount = function () {
                    return _.nox.toNumber(this.countVal.getString())
                }, t.HEIGHT = 56, t.create = function (e, n, a, o) {
                    var r = i.lc.createNode().addComponent(t);
                    return r.init(e, n, a, o), r
                }, t
            }(e("../../BaseComponent").BaseComponent);
        n.SelectCountWidget = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../BaseComponent": "BaseComponent",
        "../../config/UICfg": "UICfg",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../node/NodeWithShaderButton": "NodeWithShaderButton"
    }],
    SelectHeadForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "14e5cGEvntMFJlVzoNP+Fw9", "SelectHeadForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("../../StringEnums"), c = e("../../../leocool/lcStr"), l = e("../../utils/SpriteUtil"),
            d = e("../../part/UserPart"), p = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SelectHeadForm) || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), r.noxcc.addClick(this.mCloseBtn, this, this.oncloseBtn), this._contentNode = r.noxcc.find("content_bg/mask/content/Head_Layout", this.getRootNode()), this._headTip = r.noxcc.findLabel("content_bg/mask/content/HaveHead_text", this.getRootNode()), this._list = r.noxcc.find("item", this._contentNode), this._list.active = !1, r.noxcc.setParent(this._list, this.getRootNode());
                    var t = P.getCharacterId(), n = 100 * t;
                    this._avatarIds = [];
                    for (var a = 1; a <= 3; a++) {
                        var i = n + a;
                        if (null == l.SpriteUtil.getSpriteFrame(string.format("avatar_%04d", i))) break;
                        this._avatarIds.push(i)
                    }
                    for (a = 0; a < P._shop.buy_head.length; a++) {
                        var o = _.Data._skinInfo[P._shop.buy_head[a]];
                        null != o && Math.floor(o._infoId / 100) == t && this._avatarIds.push(o._infoId)
                    }
                    this.setHead()
                }, t.prototype.setHead = function () {
                    var e = this;
                    r.noxcc.setLabelString(this._headTip, c.lcStr(s.STR.AVATAR_CARD_TIP)), this._avatar = [], this._avatarBtn = [];
                    for (var t = function (t) {
                        var a = r.noxcc.instantiate(n._list);
                        a.active = !0, r.noxcc.setParent(a, n._contentNode), n._avatar[t] = r.noxcc.findSprite("HeadIcon", a), l.SpriteUtil.setSprite(n._avatar[t], string.format("avatar_%04d", n._avatarIds[t])), n._avatarBtn[t] = r.noxcc.findButton("HeadIcon", a), r.noxcc.addClick(n._avatarBtn[t], function () {
                            P.changeIcon(e._avatarIds[t]) && (d.UserPart.sendSetAvatar(e._avatarIds[t]), e.hide())
                        })
                    }, n = this, a = 0; a < this._avatarIds.length; a++) t(a)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.SelectHeadForm = p, cc._RF.pop()
    }, {
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    SelectMedalForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d6a69zJULxH3p2WttrNvvyq", "SelectMedalForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../data/data"),
            s = e("../../StringEnums"), c = e("../../../leocool/lcStr"), l = e("../../part/UserPart"),
            d = e("../../../nox"), p = e("../widget/IconWidget"), u = e("../../../leocool/lc"),
            g = e("../../ToastManager"), h = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SelectMedalForm) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    for (var n in this.mCloseBtn = r.noxcc.findButton("close_btn", this.getRootNode()), r.noxcc.addClick(this.mCloseBtn, this, this.oncloseBtn), this._contentNode = r.noxcc.find("content_bg/mask/content/Head_Layout", this.getRootNode()), this._defaultBtn = r.noxcc.findButton("content_bg/mask/content/Head_Layout/default/badgeIcon", this.getRootNode()), this._headTip = r.noxcc.findLabel("content_bg/mask/content/HaveHead_text", this.getRootNode()), this._list = r.noxcc.find("item", this._contentNode), this._list.active = !1, r.noxcc.setParent(this._list, this.getRootNode()), r.noxcc.addClick(this._defaultBtn, function () {
                        if (0 != P._badge) return l.UserPart.sendSetMedal(0), P._badge = 0, _.Data.Event.icon_dirty.dispatchEvent(), g.ToastManager.push(c.lcStr(11601) + c.lcStr(s.STR.SUCCESS)), void t.hide();
                        t.hide()
                    }), this._badges = [], _.Data._propsInfo) {
                        var a = d.nox.toNumber(n), i = _.Data._propsInfo[a];
                        72 == Math.floor(a / 100) && (a == _.Data.PropsId.user_badge || P.getItemCount(a) > 0) && this._badges.push(i)
                    }
                    this._badges.sort(function (e, t) {
                        return e._id - t._id
                    }), this.setBadge()
                }, t.prototype.setBadge = function () {
                    var e = this;
                    r.noxcc.setLabelString(this._headTip, c.lcStr(11602)), this._icon = [], this._iconBtn = [];
                    for (var t = function (t) {
                        var a = r.noxcc.instantiate(n._list);
                        a.active = !0, r.noxcc.setParent(a, n._contentNode);
                        var i = u.lc.V(P._propBag._props[n._badges[t]._id]) ? P._propBag._props[n._badges[t]._id]._num : 0;
                        n._icon[t] = r.noxcc.find("badgeIcon", a), n._iconBtn[t] = r.noxcc.findButton("badgeIcon", a);
                        var o = p.IconWidget.create({_infoId: n._badges[t]._id, _count: i}, p.IconWidget.DisplayFlag.ITEM);
                        o.registCallback(function () {
                        }), n._icon[t].addChild(o.node), r.noxcc.addClick(n._iconBtn[t], function () {
                            P._badge == e._badges[t]._id ? e.hide() : (l.UserPart.sendSetMedal(e._badges[t]._id), P._badge = e._badges[t]._id, _.Data.Event.icon_dirty.dispatchEvent(), g.ToastManager.push(c.lcStr(11601) + c.lcStr(s.STR.SUCCESS)), e.hide())
                        })
                    }, n = this, a = 0; a < this._badges.length; a++) t(a)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.SelectMedalForm = h, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/IconWidget": "IconWidget"
    }],
    SelectTargetLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d3bbcmfaeFL0L2q7862DPdb", "SelectTargetLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../data/data"), i = e("./BattleEventDialog"), o = e("../../const/ViewConst"), r = e("./PlayerUi"),
            _ = e("../data/BattleData"), s = function () {
                function e() {
                    this._layer = null, this._ui = null, this._pCard = null, this._arrow = null
                }

                return e.create = function (t, n, a, i, r) {
                    var _ = new e;
                    _._ui = t, _._pCard = n, _._layer = new cc.Node, _._layer.setContentSize(new cc.Size(o.ViewConst.SCR_W, o.ViewConst.SCR_H)), _._layer.setAnchorPoint(new cc.Vec2(0, 0));
                    var s = _._layer.addComponent(cc.Widget);
                    return s.isAlignLeft = !0, s.isAlignRight = !0, s.isAlignTop = !0, s.isAlignBottom = !0, s.left = 0, s.right = 0, s.top = 0, s.bottom = 0, _
                }, e.prototype.onTouchBegan = function () {
                }, e.prototype.onTouchMoved = function (e) {
                    var t = this._ui.getTouchedBoardCard(e, this._ui._playerUi);
                    null == t && this._ui.isSelectOppoBoardCard(this._pCard) && (t = this._ui.getTouchedBoardCard(e, this._ui._opponentUi)), this._pCard._card.isMonster() ? null == t || this._pCard._card._owner.canEvolveCard(this._pCard._card, t._card) || (t = null) : this._pCard._card._type == a.Data.CardType.magic && null != t && (this._pCard._card._owner.canEquipCard(this._pCard._card, t._card) || (t = null));
                    var n = this._ui.getEventDragTo(), o = n[0], r = n[1];
                    r != i.BattleEventDialog.Type.guide_drag_to_card && r != i.BattleEventDialog.Type.guide_drag_to_pos && r != i.BattleEventDialog.Type.guide_drag_to_attack && r != i.BattleEventDialog.Type.guide_drag_to_defend || null == t || t == o || (t = null), this._pCard._targetCard = t, this._arrow && this._arrow.directTo(e.getLocation(), t)
                }, e.prototype.onTouchEnded = function (e) {
                    this.hide(), this._pCard.removeUseTips();
                    this._pCard;
                    var t = this._arrow._targetCard;
                    this._pCard._card.isMonster() ? null != t && this._pCard._card._owner.canEvolveCard(this._pCard._card, t._card) ? this._pCard._ownerUi.sendEvent(r.PlayerUi.EventType.send_use_card, {
                        _val: _.default.UseCardType.h2b,
                        _ids: [this._pCard._card._id, t._card._id]
                    }) : this._ui._playerUi.sendEvent(r.PlayerUi.EventType.dialog_card_need_target, {_val: 0}) : this._pCard._card._type == a.Data.CardType.magic && (null != t && this._pCard._card._owner.canEquipCard(this._pCard._card, t._card) ? (t.stopActionByTag(255), t.setScale(1), this._pCard._ownerUi.sendEvent(r.PlayerUi.EventType.send_use_card, {
                        _val: _.default.UseCardType.spell,
                        _ids: [this._pCard._card._id, this._pCard._card._skills[0]._id, t._card._id]
                    })) : this._ui._playerUi.sendEvent(r.PlayerUi.EventType.dialog_card_need_target, {_val: 39999 == this._pCard._card._infoId ? 1 : 2}))
                }, e.prototype.onTouchCanceled = function () {
                    this.hide()
                }, e.prototype.hide = function () {
                    this._layer.removeFromParent(!0), this._ui._selectTargetLayer = null
                }, e
            }();
        n.SelectTargetLayer = s, cc._RF.pop()
    }, {
        "../../const/ViewConst": "ViewConst",
        "../../data/data": "data",
        "../data/BattleData": "BattleData",
        "./BattleEventDialog": "BattleEventDialog",
        "./PlayerUi": "PlayerUi"
    }],
    SendMailForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "57f72Eggv5IIrf82/Uxf/iQ", "SendMailForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lcStr"),
            s = e("../../StringEnums"), c = e("../../utils/MsgCenter"), l = e("../../ToastManager"),
            d = e("../widget/UserWidget"), p = e("../../config/UICfg"), u = e("../../data/data"),
            g = e("../../../leocool/lc"), h = e("../../part/MailPart"), f = e("../../utils/RichTextUtil"),
            m = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.SendMailForm) || this;
                    return t.MAX_INPUT_LEN = 50, t
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._user = e
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    var e = this;
                    e.mTitle = r.noxcc.findLabel("title", e.mRoot), e.mCloseBtn = r.noxcc.findButton("close_btn", e.mRoot), e.mTips = r.noxcc.findLabel("bg/tips", e.mRoot), e.mCodeEditBox = r.noxcc.findEditBox("bg/editBox", e.mRoot), e.mUser = r.noxcc.find("bg/user", e.mRoot);
                    var t = r.noxcc.findButton("bg/button", e.mRoot);
                    r.noxcc.addClick(e.mCloseBtn, e, e.oncloseBtn), r.noxcc.addClick(t, function () {
                        e.sendMail(e.mCodeEditBox.string)
                    })
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.updateView()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), c.MsgCenter.removeMsgListener(this)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.updateView = function () {
                    if (this.mTitle.string = this._user ? _.lcStr(s.STR.LEAVE_MESSAGE) : _.lcStr(s.STR.SEND_GROUP) + _.lcStr(s.STR.MAIL), this._user) {
                        if (this._user) {
                            var e = d.UserWidget.create(this._user, d.UserWidget.Flag.NAME_UNION);
                            if (e.getUnionNameArea().color = p.UICfg.COLOR_TEXT_ORANGE, e.setLevel(this._user._level), this.mUser.addChild(e.node), !P.hasPrivilege(u.Data.Privilege.mail_free)) {
                                var t = u.Data._globalInfo._dailySendMailCount,
                                    n = f.RichTextUtil.createBoldRichText(string.format(_.lcStr(s.STR.DAILY_SEND_MAILS), t - P._dailySendMail, t), p.UICfg.RICHTEXT_PARAM_LIGHT_S1);
                                n.node.setAnchorPoint(0, .5), this.mTips.node.addChild(n.node)
                            }
                        }
                    } else this.mUser.active = !1, this.mTips.node.active = !1
                }, t.prototype.sendMail = function (e) {
                    "" == e ? l.ToastManager.push(_.lcStr(s.STR.INPUT_MESSAGE)) : g.lc.utf8len(e) > this.MAX_INPUT_LEN ? l.ToastManager.push(_.lcStr(s.STR.MAIL) + string.format(_.lcStr(s.STR.CANNOT_MORE_THAN), this.MAX_INPUT_LEN)) : (this._user ? (P._dailySendMail = P._dailySendMail + 1, h.MailPart.sendMailSend(e, this._user._id)) : h.MailPart.sendMailSend(e), this.hide())
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.SendMailForm = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../part/MailPart": "MailPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/UserWidget": "UserWidget"
    }],
    ServerBonus: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "36d3e14REtJyoQ5rQo+OxMs", "ServerBonus"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = function (e) {
            function t(t) {
                var n = e.call(this, t.info_id) || this;
                if (n._id = t.id, n._timestamp = t.timestamp / 1e3, n._isClaimed = t.claimed, n._value = 0, t.send_info && (n._send_info = t.send_info), n._infoId = t.info_id, null != t.extra) {
                    n._title = t.title, n._extraBonus = [];
                    for (var i = 0; i < t.extra.resources.length; ++i) {
                        var o = t.extra.resources[i];
                        n._extraBonus.push({_infoId: o.info_id, _count: o.num, _level: null, _isFragment: null})
                    }
                } else n._info = a.Data._bonusInfo[n._infoId];
                return n
            }

            return __extends(t, e), t.prototype.sendBonusDirty = function () {
                a.Data.Event.bonus_dirty.dispatchEvent({_bonus: this})
            }, t.prototype.canClaim = function () {
                return !0
            }, t
        }(e("./Bonus").Bonus);
        n.ServerBonus = i, cc._RF.pop()
    }, {"../data": "data", "./Bonus": "Bonus"}],
    SetPlayerNameForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "da68cjA2ipLdKJJweesSmk4", "SetPlayerNameForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../NameSample"),
            s = e("../../../nox"), c = e("../../part/GuidePart"), l = e("../../part/UserPart"),
            d = e("../../utils/MsgCenter"), p = e("../../data/data"), u = e("../../../leocool/lcStr"),
            g = e("../../StringEnums"), h = e("../../ToastManager"), f = e("../../ClientView"),
            m = e("../../../leocool/lcAppCfg"), y = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.SetPlayerNameForm) || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mNameEditBox = r.noxcc.findEditBox("Bg/nickname", this.mRoot), this.mRandomButton = r.noxcc.findButton("Bg/dice", this.mRoot), this.mConfirmButton = r.noxcc.findButton("Bg/buttons/confirm_button", this.mRoot), this.mCloseButton = r.noxcc.findButton("Bg/buttons/cancel_button", this.mRoot), this.mMask = r.noxcc.findButton("mask", this.mRoot), this.mNameEditBox.placeholder = u.lcStr(1238), r.noxcc.addClick(this.mRandomButton, this, this.onRandomButton), r.noxcc.addClick(this.mConfirmButton, this, this.onConfirmButton), r.noxcc.addClick(this.mCloseButton, this, this.onCloseButton), r.noxcc.find("Bg/ingot", this.mRoot).active = this.isUnFirstChangeName(), r.noxcc.find("Bg/free_tip", this.mRoot).active = !this.isGuide() && !this.isUnFirstChangeName(), this.mCloseButton.node.active = !this.isGuide(), this.isGuide() || r.noxcc.addClick(this.mMask, this, this.onCloseButton)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), d.MsgCenter.addMsgListener(this, this.onMsg.bind(this))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), d.MsgCenter.removeMsgListener(this)
                }, t.prototype.onCloseButton = function () {
                    this.hide()
                }, t.prototype.onMsg = function (e) {
                    var t = this.getInputName();
                    return (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_NAME || e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_NAME_GUIDE) && (e.status != SglMsg_pb.ProtoMsgStatus.PB_STATUS_OK ? cc.assert(!1, "error status: " + e.status) : (this.isUnFirstChangeName() && P.changeResource(p.Data.ResType.ingot, -p.Data._globalInfo._editNameIngot), this.isGuide() || (P._changeNameCount = P._changeNameCount + 1), P.changeName(t), this.hide(), p.Data.Event.change_name_dirty.dispatchEvent()), !0)
                }, t.prototype.onRandomButton = function () {
                    var e, t;
                    m.lcAppCfg.isChinese() ? (e = s.nox.getRandomItem(_.FAMILY_NAMES2), t = s.nox.getRandomItem(_.JueSe_NAMES2)) : (e = s.nox.getRandomItem(_.FAMILY_NAMES1), t = s.nox.getRandomItem(_.JueSe_NAMES1));
                    var n = e + t;
                    r.noxcc.setInputString(this.mNameEditBox, n)
                }, t.prototype.onConfirmButton = function () {
                    var e = this.getInputName();
                    if (e.length > 0 && e.length < 20) if (this.isGuide()) c.GuidePart.sendChangeNameGuide(e); else {
                        if (this.isUnFirstChangeName() && !f.ClientView.checkIngot(p.Data._globalInfo._editNameIngot)) return;
                        l.UserPart.sendChangeName(e)
                    } else h.ToastManager.push(u.lcStr(g.STR.INPUT_NAME_INVALID))
                }, t.prototype.isGuide = function () {
                    return null == P._name || "" == P._name
                }, t.prototype.isUnFirstChangeName = function () {
                    return P._changeNameCount > 0
                }, t.prototype.getInputName = function () {
                    return string.trim(r.noxcc.getInputString(this.mNameEditBox))
                }, t.show = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.SetPlayerNameForm = y, cc._RF.pop()
    }, {
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../NameSample": "NameSample",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../data/data": "data",
        "../../part/GuidePart": "GuidePart",
        "../../part/UserPart": "UserPart",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    ShareForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1556app4+5EeoobFrKS1h+a", "ShareForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../ClientView"),
            s = e("../../../leocool/lcStr"), c = e("../../StringEnums"), l = e("../../data/data"),
            d = e("../../data/Log/PlayerLog"), p = e("../../utils/TimeUtil"), u = e("../../utils/RichTextUtil"),
            g = e("../../config/UICfg"), h = e("../../ToastManager"), f = e("../../../leocool/lc"),
            m = e("../../part/BattlePart"), y = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.ShareForm) || this;
                    return t.MAX_INPUT_LEN = 50, t
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._logId = e
                }, t.prototype.onInitWidget = function () {
                    this.mBackBtn = r.noxcc.findButton("close_btn", this.getRootNode()), this._editor = r.noxcc.findEditBox("bg/editBox", this.getRootNode()), this._btnShare = r.noxcc.findButton("bg/button", this.getRootNode()), this._tipNode = r.noxcc.find("bg/tips", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), r.noxcc.addClick(this._btnShare, this, this.share)
                }, t.prototype.onUpdate = function (t) {
                    e.prototype.onUpdate.call(this, t);
                    var n = P._nextShareBattle - p.TimeUtil.getCurrentTime();
                    n < 0 ? this.updateTip("") : this.updateTip(string.format(s.lcStr(c.STR.SHARE_TIME), p.TimeUtil.formatPeriod(n)))
                }, t.prototype.onEnter = function () {
                    var t = this;
                    e.prototype.onEnter.call(this), this._listeners = [], this._listeners.push(l.Data.Event.log_dirty.addListener(t, function (e) {
                        t.onLogEvent(e)
                    })), this._listeners.push(l.Data.Event.log_shared.addListener(t, function (e) {
                        t.onLogEvent(e)
                    }))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    e.prototype.onExit.call(this)
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.updateTip = function (e) {
                    this._tipNode.destroyAllChildren();
                    var t = u.RichTextUtil.createBoldRichText(e, g.UICfg.RICHTEXT_PARAM_DARK_S1).node;
                    t.setAnchorPoint(0, .5), this._tipNode.addChild(t)
                }, t.prototype.share = function () {
                    var e = this._logId, t = this._editor.string, n = P._nextShareBattle - p.TimeUtil.getCurrentTime();
                    n > 0 ? h.ToastManager.push(string.format(s.lcStr(c.STR.SHARE_TIME), p.TimeUtil.formatPeriod(n))) : f.lc.utf8len(t) > this.MAX_INPUT_LEN ? h.ToastManager.push(s.lcStr(c.STR.MESSAGE) + string.format(s.lcStr(c.STR.CANNOT_MORE_THAN), this.MAX_INPUT_LEN)) : (_.ClientView.getActiveIndicator().show(s.lcStr(c.STR.WAITING), null, this), this._isWaitingShare = !0, m.BattlePart.sendBattleShare(e, t))
                }, t.prototype.onLogEvent = function (e) {
                    _.ClientView.getActiveIndicator().hide(), this._isWaitingShare && e._logId == this._logId && (e._event == d.PlayerLog.Event.log_item_dirty ? (P._nextShareBattle = p.TimeUtil.getCurrentTime() + 60 * l.Data._globalInfo._battleShareCD, h.ToastManager.push(s.lcStr(c.STR.SHARE_SUCCESS))) : e._event == d.PlayerLog.Event.log_already_shared && h.ToastManager.push(s.lcStr(c.STR.BATTLE_SHARED)), this.hide())
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.ShareForm = y, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../ToastManager": "ToastManager",
        "../../config/UICfg": "UICfg",
        "../../data/Log/PlayerLog": "PlayerLog",
        "../../data/data": "data",
        "../../part/BattlePart": "BattlePart",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/TimeUtil": "TimeUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm"
    }],
    ShopAreaPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e7a16Y75V1Lzr1U6iqbZuRJ", "ShopAreaPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../widget/CardThumbnail"),
            _ = e("../CardInfoPanel"), s = e("../../../../leocool/lc"), c = e("../../form/DescForm"),
            l = e("../../../utils/SpriteUtil"), d = e("../../../data/data"), p = e("../../../../leocool/lcStr"),
            u = e("../../../StringEnums"), g = e("../../common/Dialog"), h = e("../../../ClientData"),
            f = e("../RewardPanel"), m = e("../../widget/IconWidget"), y = e("../../../config/UICfg"),
            T = e("../../../part/ShopPart"), S = e("../../../scene/ShopScene"), C = e("../../../../leocool/lcAppCfg"),
            v = e("../../form/PromptForm"), b = function (e) {
                function t() {
                    var t = e.call(this, "panel/shop/ShopAreaPage") || this;
                    return t._items = [], t
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._data = e, this._isPropsItem = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    if (!0 !== this._isPropsItem) this._contentNode = o.noxcc.find("page/view/layout", this.getRoot()), this._tmplNode = o.noxcc.find("grid", this._contentNode), this._tmplNode.active = !1, o.noxcc.setParent(this._tmplNode, this.getRoot()), this._contentNode.destroyAllChildren(), this._cardInfoBtn = [], this._ProgressBar = [], this.createPvpItems(); else {
                        this._contentNode = o.noxcc.find("page/view/layout", this.getRoot()), this._propsNode = o.noxcc.find("propsGrid", this._contentNode), this._propsNode.active = !1, o.noxcc.setParent(this._propsNode, this.getRoot()), this._contentNode.destroyAllChildren(), this._coin = [];
                        for (var n = function (e) {
                            var n = o.noxcc.instantiate(a._propsNode);
                            n.active = !0, o.noxcc.setParent(n, a._contentNode);
                            var i = o.noxcc.find("bg/icon", n),
                                r = m.IconWidget.create({_level: 0, _infoId: a._data[e]._infoId, _count: a._data[e]._num});
                            r.setNameColor(y.UICfg.COLOR_BMFONT), s.lc.addChildToCenter(i, r.node), a._coin[e] = o.noxcc.find("bg/coin", n), C.lcAppCfg.isEnableBindingIngot() && P._binding_ingot > 0 ? l.SpriteUtil.setSprite(a._coin[e], h.ClientData.getResIconName(t._data[e]._resType, !1)) : l.SpriteUtil.setSprite(a._coin[e], h.ClientData.getResIconName(d.Data.ResType.ingot, !1));
                            var _ = o.noxcc.findLabel("num", a._coin[e]);
                            o.noxcc.setLabelString(_, t._data[e]._cost);
                            var c = o.noxcc.findButton("button", n);
                            o.noxcc.addClick(c, t, function () {
                                t.onBuyProduct(t._data[e])
                            })
                        }, a = this, i = 0; i < this._data.length; i++) n(i)
                    }
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    this.releaseCardThumbnail(), e.prototype.onExit.call(this)
                }, t.prototype.createPvpItems = function () {
                    for (var e = this, t = function (t) {
                        var a = o.noxcc.instantiate(n._tmplNode);
                        a.active = !0, o.noxcc.setParent(a, n._contentNode), n._cardInfoBtn[t] = o.noxcc.findButton("card", a), n.updateCardInfo(n._cardInfoBtn[t].node, n._data[t]), n._ProgressBar[t] = o.noxcc.findProgressBar("ProgressBar", a), n.updateProgressBar(n._ProgressBar[t], n._data[t]);
                        var i = o.noxcc.findButton("ProgressBar", a);
                        o.noxcc.addClick(i, e, function () {
                            c.DescForm.create({_infoId: e._data[t]._resType}).show()
                        });
                        var r = o.noxcc.findButton("button", a);
                        o.noxcc.addClick(r, e, function () {
                            e.onBuyProduct(e._data[t])
                        })
                    }, n = this, a = 0; a < this._data.length; a++) t(a)
                }, t.prototype.updateCardInfo = function (e, t) {
                    var n = r.CardThumbnail.createFromPool(t._infoId, .4, P._playerCard.getSkinId(t._infoId));
                    n._thumbnail.node.off(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), s.lc.addChildToCenter(e, n), this._items.push(n)
                }, t.prototype.onTouchThumbnail = function (e) {
                    var t = e.target;
                    t.stopAllActions();
                    var n = t.parent._thumbnail._infoId;
                    switch (e.type) {
                        case cc.Node.EventType.TOUCH_START:
                            t.runAction(cc.scaleTo(.1, .95));
                            break;
                        case cc.Node.EventType.TOUCH_END:
                            t.runAction(cc.scaleTo(.08, 1)), _.CardInfoPanel.create(n).show();
                            break;
                        case cc.Node.EventType.TOUCH_MOVE:
                            break;
                        case cc.Node.EventType.TOUCH_CANCEL:
                            t.runAction(cc.scaleTo(.08, 1))
                    }
                }, t.prototype.releaseCardThumbnail = function () {
                    if (this._items) for (var e = 0; e < this._items.length; e++) r.CardThumbnail.releaseToPool(this._items[e])
                }, t.prototype.updateProgressBar = function (e, t) {
                    e.progress = P.getItemCount(t._resType) / t._cost;
                    var n = o.noxcc.findLabel("text", e.node), a = o.noxcc.findSprite("icon", e.node);
                    l.SpriteUtil.setSprite(a, h.ClientData.getPropIconName(t._resType)), o.noxcc.setLabelString(n, P.getItemCount(t._resType) + "/" + t._cost)
                }, t.prototype.onBuyProduct = function (e) {
                    var t = this;
                    e._resType == d.Data.ResType.binding_ingot && (!C.lcAppCfg.isEnableBindingIngot() || P._binding_ingot <= 0) && (e._resType = d.Data.ResType.ingot);
                    var n = e._id, a = P.getItemCount(e._resType), i = d.Data.getInfo(e._resType),
                        o = string.format(p.lcStr(u.STR.NEED_MORE_EXCHANGE_RES), p.lcStr(i._nameSid)) + "\n\n" + string.format(p.lcStr(u.STR.NEED_MORE_EXCHANGE_GET), p.lcStr(i._pathSid));
                    g.Dialog.showDialog(string.format(p.lcStr(u.STR.SHOP_CONFIRM), e._cost, p.lcStr(i._nameSid), p.lcStr(d.Data.getInfo(e._infoId)._nameSid)), function () {
                        var i = function () {
                            if (e._cost <= a) e._type == S.ShopType.rare_product_shop ? (T.ShopPart.sendBuyRareProduct(n), e._buyCount += 1) : T.ShopPart.sendBuyPvpProduct(n), f.RewardPanel.create([{
                                info_id: e._infoId,
                                num: e._num
                            }], f.RewardPanel.MODE_BUY).show(), d.Data.getType(e._resType) == d.Data.CardType.res ? P.changeResource(e._resType, -e._cost) : P._propBag.changeProps(e._resType, -e._cost), 0 == t._isPropsItem && (t.releaseCardThumbnail(), t._contentNode.destroyAllChildren(), t.createPvpItems()); else {
                                if (e._resType == d.Data.ResType.binding_ingot || e._resType == d.Data.ResType.ingot) return void v.PromptForm.ConfirmBuyIngot.create().show();
                                g.Dialog.showDialog(o, function () {
                                }, !0)
                            }
                        };
                        e._resType == d.Data.ResType.binding_ingot && e._cost > a ? g.Dialog.showDialog(p.lcStr(11599), function () {
                            a = P.getItemCount(d.Data.ResType.binding_ingot) + P.getItemCount(d.Data.ResType.ingot), i();
                            for (var e = 0; e < t._data.length; e++) l.SpriteUtil.setSprite(t._coin[e], h.ClientData.getResIconName(d.Data.ResType.ingot, !1))
                        }) : i()
                    }, !1)
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(i.BasePage);
        n.ShopAreaPage = b, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/ShopPart": "ShopPart",
        "../../../scene/ShopScene": "ShopScene",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/DescForm": "DescForm",
        "../../form/PromptForm": "PromptForm",
        "../../widget/CardThumbnail": "CardThumbnail",
        "../../widget/IconWidget": "IconWidget",
        "../CardInfoPanel": "CardInfoPanel",
        "../RewardPanel": "RewardPanel"
    }],
    ShopCardFragmentPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "00d4a9yDlBJWoMNitwN7ljW", "ShopCardFragmentPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../data/data"),
            _ = e("../../widget/CardThumbnail"), s = e("../CardInfoPanel"), c = e("../../../../leocool/lc"),
            l = e("../../../utils/SpriteUtil"), d = e("../../../../leocool/lcStr"), p = e("../../../StringEnums"),
            u = e("../../common/Dialog"), g = e("../../../part/ShopPart"), h = e("../RewardPanel"),
            f = e("../../widget/IconWidget"), m = e("../../../config/UICfg"), y = e("../../widget/FilterWidget"),
            T = function (e) {
                function t() {
                    var t = e.call(this, "panel/shop/ShopCardFragmentPage") || this;
                    return t._tabArea = null, t._items = [], t
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    this._BuyMode = 1;
                    var n = o.noxcc.findToggleGroup("page/tab/layout", this.getRoot()).node,
                        a = o.noxcc.findToggle("fragmentBtn", n), i = o.noxcc.findToggle("materialBtn", n);
                    this._tabArea = o.noxcc.find("page/filter", this.getRoot()), o.noxcc.setNodeColor(o.noxcc.find("text", a.node), c.lc.Color3B.yellow), o.noxcc.addToggleClick(a, t, function () {
                        o.noxcc.setNodeColor(o.noxcc.find("text", a.node), c.lc.Color3B.yellow), o.noxcc.setNodeColor(o.noxcc.find("text", i.node), c.lc.Color3B.white), t._BuyMode = 1, t.updateCountVal()
                    }), o.noxcc.addToggleClick(i, t, function () {
                        o.noxcc.setNodeColor(o.noxcc.find("text", a.node), c.lc.Color3B.white), o.noxcc.setNodeColor(o.noxcc.find("text", i.node), c.lc.Color3B.yellow), t._BuyMode = 2, t.updateCountVal()
                    }), this._contentNode = o.noxcc.find("page/view/layout", this.getRoot()), this._tmplNode = o.noxcc.find("grid", this._contentNode), this._tmplNode.active = !1, o.noxcc.setParent(this._tmplNode, this.getRoot()), this._cardInfoBtn = [], this._ProgressBar = [], this._ProgressBarEx = [], this.initProductList(), this.createFilters()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    this.releaseCardThumbnail(), e.prototype.onExit.call(this)
                }, t.prototype.initProductList = function () {
                    var e = [];
                    for (var t in r.Data._cardAdvanceInfo) {
                        var n = r.Data._cardAdvanceInfo[t];
                        e.push(n)
                    }
                    e.sort(function (e, t) {
                        var n = e._fragment <= P._playerCard.getFragmentCount(e._infoId);
                        return n != t._fragment <= P._playerCard.getFragmentCount(t._infoId) ? n ? -1 : 1 : e._fragment != t._fragment ? e._fragment - t._fragment : e._id - t._id
                    }), this._data = e, this.createCardFragmentItems()
                }, t.prototype.createFilters = function () {
                    var e = this, t = this._tabArea, n = y.FilterWidget.create2(y.FilterWidget.ModeType.monster, 433);
                    n.resetAllFilter(), n.getSearchArea().setVisible(!1), n.registerSortFilterHandler(function () {
                        e.updateProductListFilter()
                    }), c.lc.addChildToPosAR(t, n.node, cc.v2(0, 0)), this._filterWidget = n
                }, t.prototype.updateProductListFilter = function () {
                    for (var e = [], t = 0; t < this._data.length; t++) e.push(this._data[t]);
                    var n = this._filterWidget.getFilterNatureFunc(), a = n[0], i = n[1];
                    a && (e = a(e, i));
                    var o = this._filterWidget.getFilterLevelFunc(), r = o[0], _ = o[1];
                    r && (e = r(e, _));
                    var s = this._filterWidget.getFilterQualityFunc(), c = s[0], l = s[1];
                    c && (e = c(e, l));
                    var d = this._filterWidget.getSortFunc(), p = d[0], u = d[1];
                    p && (e = p(e, u)), this._filterData = e, this.createCardFragmentItems()
                }, t.prototype.createCardFragmentItems = function () {
                    var e = this;
                    this.releaseCardThumbnail(), this._contentNode.destroyAllChildren();
                    var t = this._data;
                    this._filterData && (t = this._filterData), this._lastData = t;
                    for (var n = function (n) {
                        var i = o.noxcc.instantiate(a._tmplNode);
                        i.active = !0, o.noxcc.setParent(i, a._contentNode), a._cardInfoBtn[n] = o.noxcc.findButton("card", i), a.updateCardInfo(a._cardInfoBtn[n].node, t[n]), a._ProgressBar[n] = o.noxcc.findProgressBar("ProgressBar", i), a._ProgressBarEx[n] = o.noxcc.find("ProgressBarEx", i), 1 == a._BuyMode ? (a._ProgressBar[n].node.active = !0, a._ProgressBarEx[n].active = !1) : (a._ProgressBar[n].node.active = !1, a._ProgressBarEx[n].active = !0), a.updateProgressBar(e._ProgressBar[n], t[n]);
                        var r = o.noxcc.findButton("ProgressBar", i);
                        o.noxcc.addClick(r, e, function () {
                            u.Dialog.showDialog(d.lcStr(p.STR.FRAGMENT_OBTAIN_PATH), null, !0)
                        });
                        for (var _ = 0; _ < t[n]._resType.length; _++) {
                            if (0 == _) {
                                var s = o.noxcc.find("ProgressBarEx/icon", i);
                                (h = f.IconWidget.create({_infoId: t[n]._resType[0]}, f.IconWidget.DisplayFlag.ITEM_NO_NAME)).node.setScale(.45), c.lc.addChildToCenter(s, h.node);
                                var l = o.noxcc.findLabel("ProgressBarEx/iconText", i),
                                    g = P._playerCard.getCardCount(t[n]._resType[0]);
                                o.noxcc.setLabelString(l, g + "/" + t[n]._cost[0]), g < t[n]._cost[0] ? o.noxcc.setNodeColor(l.node, m.UICfg.COLOR_TEXT_RED) : o.noxcc.setNodeColor(l.node, m.UICfg.COLOR_TEXT_WHITE)
                            }
                            if (1 == _) {
                                var h;
                                s = o.noxcc.find("ProgressBarEx/res", i);
                                (h = f.IconWidget.create({_infoId: t[n]._resType[1]}, f.IconWidget.DisplayFlag.ITEM_NO_NAME)).node.setScale(.45), c.lc.addChildToCenter(s, h.node);
                                l = o.noxcc.findLabel("ProgressBarEx/resText", i), g = P.getItemCount(t[n]._resType[1]);
                                o.noxcc.setLabelString(l, g + "/" + t[n]._cost[1]), g < t[n]._cost[1] ? o.noxcc.setNodeColor(l.node, m.UICfg.COLOR_TEXT_RED) : o.noxcc.setNodeColor(l.node, m.UICfg.COLOR_TEXT_WHITE)
                            }
                        }
                        var y = o.noxcc.findButton("button", i);
                        o.noxcc.addClick(y, e, function () {
                            e.onBuyProduct(t[n])
                        })
                    }, a = this, i = 0; i < t.length; i++) n(i)
                }, t.prototype.updateCardInfo = function (e, t) {
                    var n = _.CardThumbnail.createFromPool(t._infoId, .4, P._playerCard.getSkinId(t._infoId));
                    n._thumbnail.node.off(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), c.lc.addChildToCenter(e, n), this._items.push(n)
                }, t.prototype.onTouchThumbnail = function (e) {
                    var t = e.target;
                    t.stopAllActions();
                    var n = t.parent._thumbnail._infoId;
                    switch (e.type) {
                        case cc.Node.EventType.TOUCH_START:
                            t.runAction(cc.scaleTo(.1, .95));
                            break;
                        case cc.Node.EventType.TOUCH_END:
                            t.runAction(cc.scaleTo(.08, 1)), s.CardInfoPanel.create(n).show();
                            break;
                        case cc.Node.EventType.TOUCH_MOVE:
                            break;
                        case cc.Node.EventType.TOUCH_CANCEL:
                            t.runAction(cc.scaleTo(.08, 1))
                    }
                }, t.prototype.releaseCardThumbnail = function () {
                    if (this._items) for (var e = 0; e < this._items.length; e++) _.CardThumbnail.releaseToPool(this._items[e])
                }, t.prototype.updateProgressBar = function (e, t) {
                    e.progress = P._playerCard.getFragmentCount(t._infoId) / t._fragment;
                    var n = o.noxcc.findLabel("text", e.node), a = o.noxcc.findSprite("icon", e.node);
                    l.SpriteUtil.setSprite(a, "img_icon_fragment"), o.noxcc.setLabelString(n, P._playerCard.getFragmentCount(t._infoId) + "/" + t._fragment)
                }, t.prototype.updateCountVal = function () {
                    for (var e = 0; e < this._lastData.length; e++) 1 == this._BuyMode ? (this._ProgressBar[e].node.active = !0, this._ProgressBarEx[e].active = !1) : 2 == this._BuyMode && (this._ProgressBar[e].node.active = !1, this._ProgressBarEx[e].active = !0)
                }, t.prototype.onBuyProduct = function (e) {
                    var t = this, n = e._id, a = r.Data.getInfo(e._infoId);
                    if (1 != this._BuyMode) {
                        for (var i = !0, o = 0; o < e._resType.length; o++) {
                            var _ = o[0] ? P._playerCard.getCardCount(e._resType[0]) : P.getItemCount(e._resType[1]);
                            !(e._resType[o] <= 1e4) && P._playerCard.getCardCount(e._resType[o]) || P._propBag._props[e._resType[o]] && P._propBag._props[e._resType[o]]._num || (_ = 0), _ < e._cost[o] && (i = !1)
                        }
                        u.Dialog.showDialog(string.format(d.lcStr(p.STR.IS_USE_FRAGMENT2), d.lcStr(a._nameSid)), function () {
                            if (i) {
                                g.ShopPart.sendCardAdvance(n, !1), h.RewardPanel.create([{
                                    info_id: e._infoId,
                                    num: e._num
                                }], h.RewardPanel.MODE_BUY).show();
                                for (var a = 0; a < e._resType.length; a++) e._resType[a] > 1e4 ? P._playerCard.removeCard(e._resType[a], e._cost[a]) : P._propBag.changeProps(e._resType[a], -e._cost[a]);
                                t.createCardFragmentItems(), r.Data.Event.shop_after_buy.dispatchEvent()
                            } else u.Dialog.showDialog(d.lcStr(p.STR.NEED_MORE_FRAGMENT_RES2), function () {
                            }, !0)
                        }, !1)
                    } else {
                        var s = P._playerCard.getFragmentCount(e._infoId);
                        u.Dialog.showDialog(string.format(d.lcStr(p.STR.IS_USE_FRAGMENT), d.lcStr(a._nameSid)), function () {
                            e._fragment <= s ? (g.ShopPart.sendCardAdvance(n, !0), h.RewardPanel.create([{
                                info_id: e._infoId,
                                num: e._num
                            }], h.RewardPanel.MODE_BUY).show(), P._playerCard.changeFragmentCount(e._infoId, -e._fragment), t.createCardFragmentItems(), r.Data.Event.shop_after_buy.dispatchEvent()) : u.Dialog.showDialog(d.lcStr(p.STR.NEED_MORE_FRAGMENT_RES), function () {
                            }, !0)
                        }, !1)
                    }
                }, t
            }(i.BasePage);
        n.ShopCardFragmentPage = T, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/ShopPart": "ShopPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../widget/CardThumbnail": "CardThumbnail",
        "../../widget/FilterWidget": "FilterWidget",
        "../../widget/IconWidget": "IconWidget",
        "../CardInfoPanel": "CardInfoPanel",
        "../RewardPanel": "RewardPanel"
    }],
    ShopLadderExPage: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ab57caVWbRAnoVy0OotCAC+", "ShopLadderExPage");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../form/DescForm"),
            _ = e("../../widget/CardThumbnail"), s = e("../CardInfoPanel"), c = e("../../../../leocool/lc"),
            l = e("../../../utils/SpriteUtil"), d = e("../../../ClientData"), p = e("../../../data/data"),
            u = e("../../../../leocool/lcStr"), g = e("../../../StringEnums"), h = e("../../common/Dialog"),
            f = e("../../../part/ShopPart"), m = e("../RewardPanel"), y = function (e) {
                function t() {
                    var t = e.call(this, "panel/shop/ShopLadderExPage") || this;
                    return t._items = [], t
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    this._resType = 0;
                    var n = o.noxcc.findToggleGroup("page/view/tab/layout", this.getRoot()).node,
                        a = o.noxcc.findToggle("all", n), i = o.noxcc.findToggle("7123", n),
                        r = o.noxcc.findToggle("7124", n), _ = o.noxcc.findToggle("7125", n),
                        s = o.noxcc.findToggle("7126", n);
                    o.noxcc.addToggleClick(a, t, function () {
                        t._resType = 0, t.createLadderExItems()
                    }), o.noxcc.addToggleClick(i, t, function () {
                        t._resType = 7123, t.createLadderExItems()
                    }), o.noxcc.addToggleClick(r, t, function () {
                        t._resType = 7124, t.createLadderExItems()
                    }), o.noxcc.addToggleClick(_, t, function () {
                        t._resType = 7125, t.createLadderExItems()
                    }), o.noxcc.addToggleClick(s, t, function () {
                        t._resType = 7126, t.createLadderExItems()
                    }), this._contentNode = o.noxcc.find("page/view/mask/layout", this.getRoot()), this._tmplNode = o.noxcc.find("grid", this._contentNode), this._tmplNode.active = !1, o.noxcc.setParent(this._tmplNode, this.getRoot()), this._cardInfoBtn = [], this._ProgressBar = [], this.createLadderExItems()
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    this.releaseCardThumbnail(), e.prototype.onExit.call(this)
                }, t.prototype.createLadderExItems = function () {
                    var e = this;
                    this.releaseCardThumbnail(), this._contentNode.destroyAllChildren();
                    var t = [];
                    if (0 == this._resType) for (var n in p.Data._ladderExProductsInfo) {
                        var a = p.Data._ladderExProductsInfo[n];
                        t.push(a)
                    } else for (var n in p.Data._ladderExProductsInfo) {
                        (a = p.Data._ladderExProductsInfo[n])._resType == e._resType && t.push(a)
                    }
                    this._data = t, this._data.sort(function (e, t) {
                        return e._id - t._id
                    });
                    for (var i = function (t) {
                        var n = o.noxcc.instantiate(_._tmplNode);
                        n.active = !0, o.noxcc.setParent(n, _._contentNode), _._cardInfoBtn[t] = o.noxcc.findButton("card", n), _.updateCardInfo(_._cardInfoBtn[t].node, _._data[t]), _._ProgressBar[t] = o.noxcc.findProgressBar("ProgressBar", n), _.updateProgressBar(_._ProgressBar[t], _._data[t]);
                        var a = o.noxcc.findButton("ProgressBar", n);
                        o.noxcc.addClick(a, e, function () {
                            r.DescForm.create({_infoId: e._data[t]._resType}).show()
                        });
                        var i = o.noxcc.findButton("button", n);
                        o.noxcc.addClick(i, e, function () {
                            e.onBuyProduct(e._data[t])
                        })
                    }, _ = this, s = 0; s < this._data.length; s++) i(s)
                }, t.prototype.updateCardInfo = function (e, t) {
                    var n = _.CardThumbnail.createFromPool(t._infoId, .4, P._playerCard.getSkinId(t._infoId));
                    n._thumbnail.node.off(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_START, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_END, this.onTouchThumbnail, this, !0), n._thumbnail.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchThumbnail, this, !0), c.lc.addChildToCenter(e, n), this._items.push(n)
                }, t.prototype.onTouchThumbnail = function (e) {
                    var t = e.target;
                    t.stopAllActions();
                    var n = t.parent._thumbnail._infoId;
                    switch (e.type) {
                        case cc.Node.EventType.TOUCH_START:
                            t.runAction(cc.scaleTo(.1, .95));
                            break;
                        case cc.Node.EventType.TOUCH_END:
                            t.runAction(cc.scaleTo(.08, 1)), s.CardInfoPanel.create(n).show();
                            break;
                        case cc.Node.EventType.TOUCH_MOVE:
                            break;
                        case cc.Node.EventType.TOUCH_CANCEL:
                            t.runAction(cc.scaleTo(.08, 1))
                    }
                }, t.prototype.releaseCardThumbnail = function () {
                    if (this._items) for (var e = 0; e < this._items.length; e++) _.CardThumbnail.releaseToPool(this._items[e])
                }, t.prototype.updateProgressBar = function (e, t) {
                    e.progress = P.getItemCount(t._resType) / t._cost;
                    var n = o.noxcc.findLabel("text", e.node), a = o.noxcc.findSprite("icon", e.node);
                    l.SpriteUtil.setSprite(a, d.ClientData.getPropIconName(t._resType)), o.noxcc.setLabelString(n, P.getItemCount(t._resType) + "/" + t._cost)
                }, t.prototype.onBuyProduct = function (e) {
                    var t = this, n = e._id, a = P.getItemCount(e._resType), i = p.Data.getInfo(e._resType);
                    P._propBag._props[e._resType] && P._propBag._props[e._resType]._num || (a = 0);
                    var o = string.format(u.lcStr(g.STR.NEED_MORE_EXCHANGE_RES), u.lcStr(i._nameSid)) + "\n\n" + string.format(u.lcStr(g.STR.NEED_MORE_EXCHANGE_GET), u.lcStr(i._pathSid));
                    h.Dialog.showDialog(string.format(u.lcStr(g.STR.SHOP_CONFIRM), e._cost, u.lcStr(i._nameSid), u.lcStr(p.Data.getInfo(e._infoId)._nameSid)), function () {
                        e._cost <= a ? (f.ShopPart.sendBuyArenaProduct(n), m.RewardPanel.create([{
                            info_id: e._infoId,
                            num: e._num
                        }], m.RewardPanel.MODE_BUY).show(), P._propBag.changeProps(e._resType, -e._cost), t._contentNode.destroyAllChildren(), t.createLadderExItems()) : h.Dialog.showDialog(o, function () {
                        }, !0)
                    }, !1)
                }, t
            }(i.BasePage);
        n.ShopLadderExPage = y, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../StringEnums": "StringEnums",
        "../../../data/data": "data",
        "../../../part/ShopPart": "ShopPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/DescForm": "DescForm",
        "../../widget/CardThumbnail": "CardThumbnail",
        "../CardInfoPanel": "CardInfoPanel",
        "../RewardPanel": "RewardPanel"
    }],
    ShopPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6cf4eDLi4hCa6S8FU/fcL6P", "ShopPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data/data"), i = e("../utils/NetUtil");
        (function (e) {
            e.sendBuyLimitPorps = function (e, t, n) {
                var a = SglMsg_pb.SglReqMsg.create();
                a.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_TIME_LIMIT_PROP;
                var o = a.addExtensions_Shop_pb_SglShopMsg_shop_time_limit_prop_req();
                o.info_id = e, o.period = t, o.buy_type = n, i.NetUtil.sendProtoMsg(a)
            }, e.sendProductsRefresh = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create(), o = t == a.Data.ResType.ingot;
                e == a.Data.MarketBuyType.random ? n.type = o ? SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH : SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_EX : e == a.Data.MarketBuyType.union ? n.type = o ? SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_REFRESH : SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_REFRESH_EX : e == a.Data.MarketBuyType.dragon_flag && (n.type = o ? SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_LADDER : SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_LADDER_EX), i.NetUtil.sendProtoMsg(n)
            }, e.sendProductsRefreshAll = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_REFRESH_ALL, i.NetUtil.sendProtoMsg(e)
            }, e.sendBuyDepot = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_MAGICBOX, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyGloryGold = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_SEASON, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyRelicSynthesis = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_COMPOUND, t.setExtensions_Card_pb_SglCardMsg_card_id_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendRelicseniority1 = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_NOTLOTTERY, i.NetUtil.sendProtoMsg(e)
            }, e.sendRelicseniority2 = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_SENIORITY, i.NetUtil.sendProtoMsg(e)
            }, e.sendBuyRelicLottery = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_RELIC;
                var a = n.addExtensions_Shop_pb_SglShopMsg_shop_buy_relic_req();
                a.shop_type = e, a.shop_count = t, i.NetUtil.sendProtoMsg(n)
            }, e.sendBuySealCapsuleCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_SEAL, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyDeadCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_DEAD, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyUnion = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_UNION, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyRare = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_RARE, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t), P._playerMarket._rareGoodsMap[e] = 1
            }, e.sendBuyDiamond = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_DIAMOND, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyResolve = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_EXCHANG_CARD, t.setExtensions_Card_pb_SglCardMsg_prop_exchang_card(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendChangeCardInRechaegeShop = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_ACCUMULATIVE_RECHARGE, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendTrainStart = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BOSS_SHOP_INFO, i.NetUtil.sendProtoMsg(e)
            }, e.sendTrainShopHistory = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BOSS_SHOP_DATA, i.NetUtil.sendProtoMsg(e)
            }, e.sendExchangeMedal = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_MEDAL_SHOP, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendEnterMagicShop = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MAGIC_SHOP_INFO, i.NetUtil.sendProtoMsg(e)
            }, e.sendRefreshMagicShop = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MAGIC_SHOP_REFRESH, i.NetUtil.sendProtoMsg(e)
            }, e.sendBuyInMagicShop = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MAGIC_SHOP_EXCHANGE;
                var a = n.addExtensions_Shop_pb_SglShopMsg_magic_shop_exchange_req();
                a.order_id = e, a.cost_type = t, i.NetUtil.sendProtoMsg(n)
            }, e.sendBuyRareProduct = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_RARE, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t), P._playerMarket._rareGoodsMap[e] = 1
            }, e.sendBuyPvpProduct = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_PVP, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendBuyArenaProduct = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_SPORTS, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(t)
            }, e.sendCardAdvance = function (e, t) {
                var n;
                1 == t ? ((n = SglMsg_pb.SglReqMsg.create()).type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_SYNTHETIC_FRAGMENT, n.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(n)) : ((n = SglMsg_pb.SglReqMsg.create()).type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_SYNTHETIC, n.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), i.NetUtil.sendProtoMsg(n))
            }
        })(n.ShopPart || (n.ShopPart = {})), cc._RF.pop()
    }, {"../data/data": "data", "../utils/NetUtil": "NetUtil"}],
    ShopScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2b17ag7VgtDfpVW0qmGgJuh", "ShopScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i, o = e("../ui/AllViewTypes"), r = e("../../noxcc"), _ = e("../../nox"), s = e("../ClientView"),
            c = e("../data/data"), l = e("../ui/panel/shop/ShopLadderExPage"),
            d = e("../ui/panel/shop/ShopCardFragmentPage"), p = e("../utils/TimeUtil"),
            u = e("../ui/panel/shop/ShopAreaPage"), g = e("./BaseUIScene"), h = e("../const/SceneId"),
            f = e("./SceneManager"), m = e("../ClientData"), y = e("../../leocool/lcStr"), T = e("../StringEnums"),
            S = e("../../leocool/lc");
        (function (e) {
            e[e.best_shop = 5] = "best_shop", e[e.pvp_fragment = 1] = "pvp_fragment", e[e.props_shop = 6] = "props_shop", e[e.card_fragment = 3] = "card_fragment", e[e.rare_product_shop = 7] = "rare_product_shop", e[e.union_shop = 4] = "union_shop", e[e.arena_fragment = 2] = "arena_fragment"
        })(i = n.ShopType || (n.ShopType = {}));
        var C = function (e) {
            function t() {
                var t = e.call(this, h.SceneId.shop, o.AllViewTypes.ShopScene) || this;
                return t.mAllToggles = {}, t.mPageParent = null, t.mAllPages = {}, t.mMode = null, t
            }

            return a(t, e), t.prototype.init = function (e, t) {
                this._tabIndex = e, this._cardInfoId = t
            }, t.prototype.onRelease = function () {
                e.prototype.onRelease.call(this)
            }, t.prototype.onInitWidget = function () {
                this.mBackBtn = r.noxcc.findButton("topBar/topInfo/closeBtn", this.getRootNode()), this.mHelpBtn = r.noxcc.findButton("topBar/topInfo/help_btn", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), r.noxcc.addClick(this.mHelpBtn, this, this.onHelpBtn), this.mPageParent = r.noxcc.find("PageManage_Node", this.getRootNode());
                var e = this.getTabInfos();
                for (var t in this.mAllToggles = {}, e) {
                    var n = e[t], a = r.noxcc.findButton(n[0], this.getRootNode());
                    this.mAllToggles[t] = a, r.noxcc.addClick(a, this, this.onToggleClick, t), this.mAllPages[t] = n[1]()
                }
                this.mActiveTab = null, this._tabIndex ? this.setActiveTab(this._tabIndex) : this.setActiveTab(i.best_shop)
            }, t.prototype.onToggleClick = function (e, t) {
                this.setActiveTab(e)
            }, t.prototype.setActiveTab = function (e) {
                var t = this.getTabInfos();
                if (this.mActiveTab != e) for (var n in this.mActiveTab = e, this.mAllToggles) {
                    var a = this.mAllToggles[n], i = this.mAllPages[n];
                    if (_.nox.toNumber(n) == e) {
                        r.noxcc.find("icon", a.node).active = !0, r.noxcc.setNodeColor(r.noxcc.find("text", a.node), S.lc.Color3B.yellow), i.show(this.mPageParent);
                        var o = t[e][2];
                        this.mMode = o, cc.assert(null != o, "need mode"), s.ClientView.getResourceUI().setMode(o)
                    } else r.noxcc.setNodeColor(r.noxcc.find("text", a.node), S.lc.Color3B.white), r.noxcc.find("icon", a.node).active = !1, i.hide(), i.destroy(), i = null
                }
            }, t.prototype.onReleaseWidget = function () {
                for (var e in this.mAllPages) {
                    this.mAllPages[e].destroy()
                }
                this.mAllPages = {}, this.mAllToggles = {}, this.mActiveTab = null
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var t = this;
                this.mMode ? s.ClientView.getResourceUI().setMode(this.mMode) : s.ClientView.getResourceUI().setMode(c.Data.PropsId.comet_fragment), this._listeners = [], this._listeners.push(c.Data.Event.shop_after_buy.addListener(t, function () {
                    t.showTabFlag()
                })), this.showTabFlag()
            }, t.prototype.onExit = function () {
                for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                e.prototype.onExit.call(this)
            }, t.prototype.showTabFlag = function () {
                var e = P._playerMarket.getFragmentShopFlagNum();
                s.ClientView.checkNewFlag(this.mAllToggles[3].node, e, 24, 0)
            }, t.prototype.onUpdate = function (e) {
            }, t.prototype.getTabInfos = function () {
                var e, t = this;
                return (e = {})[i.best_shop] = ["tabArea/view/content/Best_Button", function () {
                    return t.createBestShopPage()
                }, c.Data.PropsId.comet_fragment], e[i.pvp_fragment] = ["tabArea/view/content/PVP_Button", function () {
                    return t.createPvpShopPage()
                }, c.Data.PropsId.pvp_fragment], e[i.arena_fragment] = ["tabArea/view/content/Ladder_Button", function () {
                    return t.createShopLadderExPage()
                }, c.Data.ResType.gold], e[i.card_fragment] = ["tabArea/view/content/CardFragment_Button", function () {
                    return t.createCardFragmentPage()
                }, c.Data.PropsId.tied_feed], e[i.union_shop] = ["tabArea/view/content/Union_Button", function () {
                    return t.createUnionShopPage()
                }, c.Data.PropsId.yubi], e[i.props_shop] = ["tabArea/view/content/Props_Button", function () {
                    return t.createPropsShopPage()
                }, c.Data.ResType.binding_ingot], e[i.rare_product_shop] = ["tabArea/view/content/EX_Button", function () {
                    return t.createRareProductShopPage()
                }, c.Data.PropsId.evolve_stone], e
            }, t.prototype.createBestShopPage = function () {
                return this.createShopArea4CommPvp(4)
            }, t.prototype.createPvpShopPage = function () {
                return this.createShopArea4CommPvp(1)
            }, t.prototype.createShopLadderExPage = function () {
                return new l.ShopLadderExPage
            }, t.prototype.createCardFragmentPage = function () {
                return new d.ShopCardFragmentPage
            }, t.prototype.createUnionShopPage = function () {
                return this.createShopArea4CommPvp(2)
            }, t.prototype.createPropsShopPage = function () {
                return this.createShopArea4CommPvp(3)
            }, t.prototype.createRareProductShopPage = function () {
                var e = p.TimeUtil.getServerDate(), t = (e[0], e[1]), n = e[2], a = 1e4 * e[3] + 100 * n + t, i = [];
                for (var o in c.Data._rareProductsInfo) {
                    var r = c.Data._rareProductsInfo[o];
                    _.nox.toNumber(r._date) <= a && i.push({
                        _num: 1,
                        _buyLimit: 1,
                        _id: r._id,
                        _infoId: r._cardId,
                        _resType: r._resType,
                        _cost: r._cost,
                        _buyCount: _.nox.D(P._playerMarket._rareGoodsMap[r._id], 0),
                        _type: 7
                    })
                }
                return i.sort(function (e, t) {
                    return e._id - t._id
                }), u.ShopAreaPage.create(i, !1)
            }, t.prototype.createShopArea4CommPvp = function (e) {
                var t = [];
                for (var n in c.Data._pvpProductsInfo) {
                    var a = c.Data._pvpProductsInfo[n];
                    a._shop == e && t.push(a)
                }
                return t.sort(function (e, t) {
                    return e._id - t._id
                }), u.ShopAreaPage.create(t, 3 == e)
            }, t.prototype.onHelpBtn = function () {
                m.ClientData.showHelpForm(y.lcStr(T.STR.HELP), c.Data.HelpType.shop)
            }, t.prototype.onBackBtn = function () {
                f.SceneManager.popScene()
            }, t.create = function (e, n) {
                var a = new t;
                return a.init(e, n), a
            }, t
        }(g.BaseUIScene);
        n.ShopScene = C, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/shop/ShopAreaPage": "ShopAreaPage",
        "../ui/panel/shop/ShopCardFragmentPage": "ShopCardFragmentPage",
        "../ui/panel/shop/ShopLadderExPage": "ShopLadderExPage",
        "../utils/TimeUtil": "TimeUtil",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    SkinShopScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "def95bmGoxDF7WfT4RU6EOo", "SkinShopScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/AllViewTypes"), o = e("./BaseScene"), r = e("../const/SceneId"), _ = function (e) {
            function t() {
                return e.call(this, r.SceneId.skin_shop, i.AllViewTypes.SkinShopScene) || this
            }

            return a(t, e), t.prototype.init = function () {
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
            }, t.prototype.onReleaseWidget = function () {
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this)
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this)
            }, t.prototype.onUpdate = function (e) {
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t
        }(o.BaseScene);
        n.SkinShopScene = _, cc._RF.pop()
    }, {"../const/SceneId": "SceneId", "../ui/AllViewTypes": "AllViewTypes", "./BaseScene": "BaseScene"}],
    Socket_pb: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "92c89Ie1txJQKf1XyBy6BxT", "Socket_pb"), Object.defineProperty(n, "__esModule", {value: !0});
        var a, i = e("../../nox"), o = e("../../noxEvent");
        (function (e) {
            e[e.NotConnected = 0] = "NotConnected", e[e.Connecting = 1] = "Connecting", e[e.Connected = 2] = "Connected"
        })(a = n.SocketState || (n.SocketState = {}));
        var r = 1, _ = function () {
            function e() {
                this._url = "", this._socket = null, this._socketUid = 0, this._socketState = a.NotConnected
            }

            return e.prototype.connect = function (e) {
                var t = this;
                if (cc.assert(t._socketState == a.NotConnected, "_socketState must be 0 before connect"), t._url = e, t._socket = new WebSocket(t._url), t._socketUid = r++, null != t._socket) {
                    t._socketState = a.Connecting, t._socket.binaryType = "arraybuffer", t._socket.onopen = t.onConnected.bind(t, t._socketUid), t._socket.onerror = t.onError.bind(t, t._socketUid), t._socket.onclose = t.onDisconnect.bind(t, t._socketUid), t._socket.onmessage = t.onRecvMessage.bind(t, t._socketUid);
                    t._connectTimeOutScheduler = i.nox.scheduleTimeout(function () {
                        delete t._connectTimeOutScheduler, t.onConnectFail()
                    }, 10)
                } else t.onConnectFail()
            }, e.prototype.close = function () {
                this._socketState != a.NotConnected && (this._socketState = a.NotConnected, this._connectTimeOutScheduler && (i.nox.unscheduleTimeout(this._connectTimeOutScheduler), delete this._connectTimeOutScheduler), this._socket && (this._socketUid = 0, this._socket.close(), this._socket = null))
            }, e.prototype.sendProtoMsg = function (e) {
                if (this._socketState == a.Connected) {
                    var t = this.generateSendBuffer(e);
                    this._socket.send(t)
                } else cc.assert(!1, "Socket_pb is not connected, cannot sendProtoMsg")
            }, e.prototype.onConnected = function (t) {
                this._socketUid == t && (this._socketState = a.Connected, this._remainBuffer = null, this._connectTimeOutScheduler && (i.nox.unscheduleTimeout(this._connectTimeOutScheduler), delete this._connectTimeOutScheduler), e.Event.connect.dispatchEvent())
            }, e.prototype.onConnectFail = function () {
                this.close(), e.Event.connect_fail.dispatchEvent()
            }, e.prototype.onError = function (t) {
                this._socketUid == t && (this.close(), e.Event.disconnect.dispatchEvent())
            }, e.prototype.onDisconnect = function (t) {
                this._socketUid == t && (this.close(), e.Event.disconnect.dispatchEvent())
            }, e.prototype.onRecvMessage = function (e, t) {
                if (this._socketUid == e) return this.onRecvMessageEx(e, t)
            }, e.prototype.generateSendBuffer = function (e) {
                var t = SglMsg_pb.SglReqMsg.encode(e).finish(),
                    n = new dcodeIO.ByteBuffer(dcodeIO.ByteBuffer.DEFAULT_CAPACITY, !1);
                return n.writeUint32(t.byteLength), n.append(t), n.flip(), n.toArrayBuffer()
            }, e.prototype.onRecvMessageEx = function (t, n) {
                var a = [];
                try {
                    var o = new dcodeIO.ByteBuffer(dcodeIO.ByteBuffer.DEFAULT_CAPACITY, !1);
                    for (this._remainBuffer && (o.append(this._remainBuffer), this._remainBuffer = null), o.append(n.data), o.flip(); o.remaining() >= 4;) {
                        var r = o.readInt32();
                        if (o.remaining() < r) {
                            o.offset -= 4;
                            break
                        }
                        var _ = SglMsg_pb.SglRespMsg.decode(new Uint8Array(o.readBytes(r).toArrayBuffer())),
                            s = {_socket: this, _hasError: !1, _msg: {code: 0, msg: "no error"}};
                        if (!_) {
                            s._hasError = !0, s._msg = {code: -100, msg: "decode msg error"}, a.push(s);
                            break
                        }
                        if (!_) {
                            s._hasError = !0, s._msg = {code: -101, msg: "convert msg error"}, a.push(s);
                            break
                        }
                        s._msg = _, s._hasError = !1, a.push(s)
                    }
                    o.remaining() > 0 && (this._remainBuffer = o.readBytes(o.remaining()))
                } catch (e) {
                    i.nox.sendErrorReport("proto error} detail: " + e.message, e.stack, "Socket_pb", 1, 1), s._hasError = !0, s._msg = {
                        code: -102,
                        msg: "parse msg error"
                    }, a.push(s)
                }
                for (var c = 0; c < a.length; ++c) {
                    var l = a[c];
                    l._hasError && i.nox.sendErrorReport("proto error: " + JSON.stringify(l._msg), "", "Socket_pb", 1, 1), e.Event.data.dispatchEvent(l)
                }
            }, e
        }();
        n.Socket_pb = _, function (e) {
            e.Status = {
                closed: "closed",
                not_connected: "Socket is not connected",
                already_connected: "already connected",
                already_in_progress: "Operation already in progress",
                timeout: "timeout",
                data_error: "Data format error"
            }, e.Event = {
                connect: new o.noxEvent0,
                connect_fail: new o.noxEvent0,
                data: new o.noxEvent1,
                disconnect: new o.noxEvent0
            }
        }(_ = n.Socket_pb || (n.Socket_pb = {})), n.Socket_pb = _, cc._RF.pop()
    }, {"../../nox": "nox", "../../noxEvent": "noxEvent"}],
    SpineUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7f26bUuuQ9Lp7uj6f2B0mXT", "SpineUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../noxcc"), i = e("../../framework/NoxResMgr");
        (function (e) {
            e.createSpineAnim = function (e, t, n, o) {
                var r = a.noxcc.newNode(), _ = a.noxcc.getOrAddComponent(r, sp.Skeleton);
                return i.NoxResMgr.setSkeletonAnimAsync(_, e, t, n, o), r
            }, e.setSpineAnim = function (e, t, n, a, o) {
                i.NoxResMgr.setSkeletonAnimAsync(e, t, n, a, o)
            }
        })(n.SpineUtil || (n.SpineUtil = {})), cc._RF.pop()
    }, {"../../framework/NoxResMgr": "NoxResMgr", "../../noxcc": "noxcc"}],
    SpriteLabel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b986cK6WXlBzIIjoG8fErqg", "SpriteLabel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseComponent"), o = e("../../../leocool/lc"), r = e("../../../nox"),
            _ = e("../../utils/SpriteUtil"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.create = function (e, n, a, i) {
                    var r = o.lc.createNode().addComponent(t);
                    return r.init(e, n, a, i), r
                }, t.prototype.init = function (e, t, n, a) {
                    this._formatStr = e, this._keepCount = t, this._sprites = [], a && (this.node.color = a), this.setString(n)
                }, t.prototype.setString = function (e) {
                    this._str = r.nox.toString(r.nox.D(e, "")), this.updateSprites()
                }, t.prototype.updateSprites = function () {
                    for (var e = this._sprites, t = 0; t < this._str.length; ++t) {
                        var n = r.nox.toInt(this._str[t]);
                        (a = e[t]) ? (_.SpriteUtil.setSprite(a, this.getNameByChar(n)), a.setVisible(!0)) : (a = this.createSprite(n), this.node.addChild(a), e[t] = a)
                    }
                    for (; t < Math.min(this._keepCount, e.length); ++t) e[t].setVisible(!1);
                    for (; e.length > Math.max(this._str.length, this._keepCount);) {
                        var a;
                        (a = e.pop()).parent = null, a.destroy()
                    }
                    this.updateSizePos()
                }, t.prototype.updateSizePos = function () {
                    for (var e = 0, t = 0, n = 0; n < this._sprites.length; ++n) {
                        if (!(r = this._sprites[n]).isVisible()) break;
                        e += o.lc.w(r), t = Math.max(o.lc.h(r), t)
                    }
                    this.node.setContentSize(e, t);
                    var a = o.lc.aleft(this.node), i = o.lc.abottom(this.node);
                    for (n = 0; n < this._sprites.length; ++n) {
                        var r;
                        if (!(r = this._sprites[n]).isVisible()) break;
                        r.setPosition(a + o.lc.asw(r), i + o.lc.ash(r)), a += o.lc.w(r)
                    }
                }, t.prototype.createSprite = function (e) {
                    var t = _.SpriteUtil.createSprite(this.getNameByChar(e)).node;
                    return this._color && (t.color = this._color), t
                }, t.prototype.getNameByChar = function (e) {
                    return string.format(this._formatStr, e)
                }, t.prototype.onCleanup = function () {
                    for (e.prototype.onCleanup.call(this); this._sprites.length > 0;) {
                        this._sprites.pop().destroy()
                    }
                }, t
            }(i.BaseComponent);
        n.SpriteLabel = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../BaseComponent": "BaseComponent",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    SpriteUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a3020uxyIdBQYycAFP4qvbM", "SpriteUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../noxcc"), i = e("../StaticPrefabMgr"), o = e("../AllImageSize"), r = e("../AllSpriteFrames"),
            _ = e("../ui/node/NodeWithShaderSprite");
        (function (e) {
            function t(e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? cc.size(t[0], t[1]) : cc.size(100, 100)
            }

            function n(e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? cc.size(t[2], t[3]) : cc.size(100, 100)
            }

            function s(e, t, n, a) {
                var o = "";
                if ("object" == typeof t) {
                    var r = t._crect, _ = t._size;
                    o = t._name, _ && e.setContentSize(_)
                } else o = t;
                var s = e.addComponent(cc.Sprite);
                return i.StaticPrefabMgr.loadAndSetSpriteFrame(s, o), r && (s.type = cc.Sprite.Type.SLICED, s.sizeMode = cc.Sprite.SizeMode.CUSTOM), n && e.setPosition(n), a && e.setAnchorPoint(a), s
            }

            function c(e, t) {
                var n = e instanceof cc.Node ? e.getComponent(cc.Sprite) : e;
                i.StaticPrefabMgr.loadAndSetSpriteFrame(n, t)
            }

            function l(e, a, o, r) {
                var _ = e.addComponent(cc.Sprite);
                return _.type = cc.Sprite.Type.SIMPLE, o ? (_.sizeMode = cc.Sprite.SizeMode.TRIMMED, _.trim = !0, r && ("boolean" == typeof r ? e.setContentSize(t(a)) : e.setContentSize(r))) : (_.sizeMode = cc.Sprite.SizeMode.RAW, _.trim = !1, r && ("boolean" == typeof r ? e.setContentSize(n(a)) : e.setContentSize(r))), i.StaticPrefabMgr.loadAndSetSpriteFrame(_, a), _
            }

            function d(e, t, n) {
                var o = a.noxcc.getOrAddComponent(e, cc.Sprite);
                return i.StaticPrefabMgr.loadAndSetSpriteFrame(o, t), o.type = cc.Sprite.Type.SLICED, o.sizeMode = cc.Sprite.SizeMode.CUSTOM, o
            }

            function p(e, t, i) {
                var o = "string" == typeof e ? e : e._name, r = s(a.noxcc.newNode(), e, t, i),
                    _ = "string" == typeof e ? null : e._size;
                if (_) r.node.setContentSize(_); else {
                    var c = n(o);
                    c && r.node.setContentSize(c)
                }
                return r
            }

            function u(e, t) {
                return l(a.noxcc.newNode(), e, t, !0)
            }

            function g(e, t) {
                return d(a.noxcc.newNode(), e)
            }

            function h(e, t) {
            }

            e.getSpriteFramePath = function (e) {
                return r.AllSpriteFrames[e]
            }, e.hasSpriteFrame = function (e) {
                return e = r.AllSpriteFrames[e] || e, !!o.AllImageSize[e]
            }, e.getSpriteFrame = function (e) {
                return e = r.AllSpriteFrames[e] || e, o.AllImageSize[e]
            }, e.frameTrimmedSize = t, e.frameTrimmedWidth = function (e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? t[0] : 100
            }, e.frameTrimmedHeight = function (e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? t[1] : 100
            }, e.frameFullSize = n, e.frameFullWidth = function (e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? t[2] : 100
            }, e.frameFullHeight = function (e) {
                e = r.AllSpriteFrames[e] || e;
                var t = o.AllImageSize[e];
                return t ? t[3] : 100
            }, e.addSprite = s, e.setSprite = c, e.addSimpleSprite = l, e.addTrimmedSprite = function (e, t, n) {
                return l(e, t, !0, n)
            }, e.addRawSprite = function (e, t, n) {
                return l(e, t, !1, n)
            }, e.addScale9Sprite = d, e.createSprite = p, e.createSimpleSprite = u, e.createTrimmedSprite = function (e) {
                return u(e, !0)
            }, e.createRawSprite = function (e) {
                return u(e, !1)
            }, e.createScale9Sprite = g, e.createWithSpriteFrameName = function (e, t) {
                return null == t ? p(e) : g(e)
            }, e.createSpriteWithMask = function (e, t, n) {
                return p(e = e.replace(/\.jpg$/i, ".png"), t, n)
            }, e.setScale9Enabled = function (e, t) {
                t ? (e.type = cc.Sprite.Type.SLICED, e.sizeMode = cc.Sprite.SizeMode.CUSTOM) : e.type = cc.Sprite.Type.SIMPLE
            }, e.setCapInsets = h, e.createLayerColor = function (e, t, n) {
                var o = a.noxcc.instantiate(i.StaticPrefabMgr.getColorSprite());
                return o.color = cc.color(e.getR(), e.getG(), e.getB()), o.opacity = e.getA(), o.position = cc.v2(0, 0), o.setContentSize(t, n), o
            }, e.createImageView = function (e, t, n) {
                return p(e, t, n).node
            }, e.createShaderSprite = function (e) {
                var t = _.NodeWithShaderSprite.create();
                return c(t, e), t.setContentSize(n(e)), t
            }
        })(n.SpriteUtil || (n.SpriteUtil = {})), cc._RF.pop()
    }, {
        "../../noxcc": "noxcc",
        "../AllImageSize": "AllImageSize",
        "../AllSpriteFrames": "AllSpriteFrames",
        "../StaticPrefabMgr": "StaticPrefabMgr",
        "../ui/node/NodeWithShaderSprite": "NodeWithShaderSprite"
    }],
    StaticPrefabMgr: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "08af6CMpNVDmaeqV4LFizlv", "StaticPrefabMgr"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../noxcc"), i = e("../framework/NoxResPath"), o = e("../nox"), r = e("../framework/NoxResMgr");
        (function (e) {
            var t;
            (function (e) {
                e[e.NotLoaded = 0] = "NotLoaded", e[e.Loading = 1] = "Loading", e[e.Loaded = 2] = "Loaded"
            })(t || (t = {}));
            var n, _, s, c, l, d, p, u, g, h = t.NotLoaded, f = null, m = null, y = null, T = null, S = null, C = null,
                v = null, b = null, E = null, I = null, P = null, A = null, R = null, B = {}, N = {}, D = {};

            function U() {
                B = {};
                for (var e = a.noxcc.find("Sprites", f).children, t = 0; t < e.length; ++t) {
                    var i = (g = e[t]).name, o = a.noxcc.getSprite(g);
                    B[i] = o
                }
                for (e = a.noxcc.find("Particles", f).children, t = 0; t < e.length; ++t) {
                    i = (g = e[t]).name;
                    var r = a.noxcc.getParticleSystem(g);
                    N[i] = r
                }
                D = {};
                for (e = a.noxcc.find("BMFonts", f).children, t = 0; t < e.length; ++t) {
                    i = (g = e[t]).name;
                    var g, h = a.noxcc.getLabel(g);
                    D[i] = h
                }
                n = B.singleColor, cc.assert(n, "mSingleColorSprite not found"), (_ = a.noxcc.find("ListView/ListViewH", f)).setPosition(0, 0), (s = a.noxcc.find("ListView/ListViewV", f)).setPosition(0, 0), (c = a.noxcc.find("EditBox/EditBoxS", f)).setPosition(0, 0), (l = a.noxcc.find("EditBox/EditBoxM", f)).setPosition(0, 0), (d = a.noxcc.find("ProgressBar/BoxProgressBar", f)).setPosition(0, 0), (u = a.noxcc.find("SingleSprite", f)).setPosition(0, 0), (p = a.noxcc.find("RewardsList/RewardsTip", f)).setPosition(0, 0)
            }

            function M(e) {
                return B[e]
            }

            function k(e) {
                return e = e.replace(/\.fnt$/, "").replace(/.*[\\\/]/g, ""), D[e]
            }

            e.init = function (e) {
                if (h == t.NotLoaded) {
                    h = t.Loading;
                    var n = 0, r = {
                        "common/StaticPrefab": function (e) {
                            f = a.noxcc.instantiate(e)
                        }, "common/Toast": function (e) {
                            m = e
                        }, "common/Marquee": function (e) {
                            y = e
                        }, "common/Notice": function (e) {
                            T = e
                        }, "widget/BonusWidget": function (e) {
                            S = e
                        }, "widget/IconWidget": function (e) {
                            C = e
                        }, "widget/UserWidget": function (e) {
                            v = e
                        }, "widget/ResourceWidget": function (e) {
                            b = e
                        }, "widget/DepotWidget": function (e) {
                            E = e
                        }, "widget/FundTaskWidget": function (e) {
                            I = e
                        }, "widget/CardInfoWidget": function (e) {
                            P = e
                        }, "widget/FilterWidgetH": function (e) {
                            A = e
                        }, "widget/FilterWidgetV": function (e) {
                            R = e
                        }
                    }, _ = o.nox.keys(r).length, s = (n = 0, function (s) {
                        a.noxcc.loadPrefab(o.nox.pathJoin(i.NoxResPath.viewPath, s), function (i) {
                            h == t.Loading && (cc.assert(i, "prefab load failed"), r[s](i), ++n == _ && a.noxcc.loadTtfFont("fonts/cafeta", function (n) {
                                cc.assert(n, "ttfFont load failed"), g = n, h = t.Loaded, U(), e && e()
                            }))
                        })
                    });
                    for (var c in r) s(c)
                }
            }, e.shut = function () {
            }, e.getToastPrefab = function () {
                return m
            }, e.getMarqueePrefab = function () {
                return y
            }, e.getNoticePrefab = function () {
                return T
            }, e.getBonusWidgetPrefab = function () {
                return S
            }, e.getIconWidgetPrefab = function () {
                return C
            }, e.getUserWidgetPrefab = function () {
                return v
            }, e.getResourceWidgetPrefab = function () {
                return b
            }, e.getDepotWidgetPrefab = function () {
                return E
            }, e.getFundTaskWidgetPrefab = function () {
                return I
            }, e.getCardInfoWidgetPrefab = function () {
                return P
            }, e.getFilterWidgetHPrefab = function () {
                return A
            }, e.getFilterWidgetVPrefab = function () {
                return R
            }, e.getSprite = M, e.getSpriteFrame = function (e) {
                var t = B[name];
                return t && t.spriteFrame
            }, e.getParticleSystem = function (e) {
                return N[e]
            }, e.getLabelWithBMFont = k, e.getBMFont = function (e) {
                var t = k(e);
                return t && t.font
            }, e.loadAndSetSpriteFrame = function (e, t) {
                var n = M(t);
                n ? (e.__spriteFrameVersion = (e.__spriteFrameVersion || 0) + 1, e.spriteFrame = n.spriteFrame, e.type = n.type) : r.NoxResMgr.setSpriteFrameAsync(e, t)
            }, e.getColorSprite = function () {
                return n.node
            }, e.getListHPrefab = function () {
                return _
            }, e.getListVPrefab = function () {
                return s
            }, e.getEditBoxS = function () {
                return c
            }, e.getEditBoxM = function () {
                return l
            }, e.getBoxProgressBar = function () {
                return d
            }, e.getRewardsTip = function () {
                return p
            }, e.getSingleSprite = function () {
                return u
            }, e.getDefaultTTFFont = function () {
                return g
            }, e.configDefaultTTFFont = function (e) {
                e.font = g, e.useSystemFont = !1
            }
        })(n.StaticPrefabMgr || (n.StaticPrefabMgr = {})), cc._RF.pop()
    }, {
        "../framework/NoxResMgr": "NoxResMgr",
        "../framework/NoxResPath": "NoxResPath",
        "../nox": "nox",
        "../noxcc": "noxcc"
    }],
    StringEnums: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9e5a94JjNFMTI5ZIE/ZtkN/", "StringEnums"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e[e.DAILY_PACKAGE = 93] = "DAILY_PACKAGE", e[e.OPPONENT_TROOP = 1137] = "OPPONENT_TROOP", e[e.BATTLE_GEM = 1581] = "BATTLE_GEM", e[e.IAP_TIP_1 = 1897] = "IAP_TIP_1", e[e.WIN_CONTINOUS_TODAY_MAX = 1940] = "WIN_CONTINOUS_TODAY_MAX", e[e.REMAIN_DAY = 76] = "REMAIN_DAY", e[e.BATTLE_NAME_06 = 1592] = "BATTLE_NAME_06", e[e.UNION_SELF = 1420] = "UNION_SELF", e[e.SMALL_IAP_COUNT_EXCEED = 1917] = "SMALL_IAP_COUNT_EXCEED", e[e.PALACE_REVIEW_SELECT_HERO = 227] = "PALACE_REVIEW_SELECT_HERO", e[e.MULTI_LOTTERY = 1907] = "MULTI_LOTTERY", e[e.SKIN_SHOP = 1929] = "SKIN_SHOP", e[e.NEWS_COPY_PVP_ATTACK_WIN = 1113] = "NEWS_COPY_PVP_ATTACK_WIN", e[e.NUM_8 = 1735] = "NUM_8", e[e.UNION_IMPEACH = 1347] = "UNION_IMPEACH", e[e.NEED_UNION_HELP_TIP = 1012] = "NEED_UNION_HELP_TIP", e[e.SELECT_TARGET_TITLE_03 = 1863] = "SELECT_TARGET_TITLE_03", e[e.LADDER_RESET_LOSE_CONFIRM = 1890] = "LADDER_RESET_LOSE_CONFIRM", e[e.ACTIVITY_DSECRIPTION_4 = 323] = "ACTIVITY_DSECRIPTION_4", e[e.CARD_KEYWORD_JHC = 1847] = "CARD_KEYWORD_JHC", e[e.FRAGMENT_SHOP2 = 1470] = "FRAGMENT_SHOP2", e[e.CARD_KEYWORD_RL = 1839] = "CARD_KEYWORD_RL", e[e.TODAY_HIGHEST_SCORE = 181] = "TODAY_HIGHEST_SCORE", e[e.HP_VALUE = 494] = "HP_VALUE", e[e.LEGEND_BOX_OPEN_TIP = 640] = "LEGEND_BOX_OPEN_TIP", e[e.ROOM_ROOKIE = 1400] = "ROOM_ROOKIE", e[e.GUIDE_SCENE_SELECT_CHARACTER_FIRST = 2116] = "GUIDE_SCENE_SELECT_CHARACTER_FIRST", e[e.CARD_CATEGORY_FIRE = 1817] = "CARD_CATEGORY_FIRE", e[e.HUAWEI = 1916] = "HUAWEI", e[e.CARD_CATEGORY_MAGICIAN = 1799] = "CARD_CATEGORY_MAGICIAN", e[e.UNION_UNIMPEACH_NEWS = 1368] = "UNION_UNIMPEACH_NEWS", e[e.CARD_BODYHEIGHT = 1794] = "CARD_BODYHEIGHT", e[e.PREPARE_ENTER_ROOM = 416] = "PREPARE_ENTER_ROOM", e[e.DEPOT_SHOP = 1768] = "DEPOT_SHOP", e[e.CONFIRM_UNLOCK_UNION_BOSS = 839] = "CONFIRM_UNLOCK_UNION_BOSS", e[e.CREATOR = 1396] = "CREATOR", e[e.ATK_PT_VALUE = 498] = "ATK_PT_VALUE", e[e.PASS_CHAPTER_BONUS_CLAIM_TIP = 449] = "PASS_CHAPTER_BONUS_CLAIM_TIP", e[e.TIMES_SHOP = 1778] = "TIMES_SHOP", e[e.REGION_TITLE = 1537] = "REGION_TITLE", e[e.SEARCH_UNION = 1246] = "SEARCH_UNION", e[e.QUALITY = 441] = "QUALITY", e[e.BATTLE_OPPO_ROUND = 1659] = "BATTLE_OPPO_ROUND", e[e.DEPOT_SPACE = 1764] = "DEPOT_SPACE", e[e.NOT_ENOUGH_GOLD = 802] = "NOT_ENOUGH_GOLD", e[e.VIP_CONTENT_10 = 1558] = "VIP_CONTENT_10", e[e.MINUTE = 175] = "MINUTE", e[e.SKILL_STATUS12 = 887] = "SKILL_STATUS12", e[e.UNTROOP_ALL = 673] = "UNTROOP_ALL", e[e.BIND_GCID_FAILED = 1745] = "BIND_GCID_FAILED", e[e.PER_HOUR = 1128] = "PER_HOUR", e[e.STATUS = 443] = "STATUS", e[e.NEED_UNLOCK = 1881] = "NEED_UNLOCK", e[e.BATTLE_FAIL_TITLE_1 = 1720] = "BATTLE_FAIL_TITLE_1", e[e.SKILL_STATUS20 = 895] = "SKILL_STATUS20", e[e.GREEN_COLOR = 596] = "GREEN_COLOR", e[e.SURE_TO_RELIVE_FREE = 796] = "SURE_TO_RELIVE_FREE", e[e.BATTLE_BOSS_DAMAGE = 1714] = "BATTLE_BOSS_DAMAGE", e[e.BATTLE_CHAT_CD = 1709] = "BATTLE_CHAT_CD", e[e.BATTLE_CHAT_RETREAT = 1704] = "BATTLE_CHAT_RETREAT", e[e.BATTLE_CARD_MAX_HP = 1703] = "BATTLE_CARD_MAX_HP", e[e.UNION_BOSS_CHAPTER_REQUIRED = 1081] = "UNION_BOSS_CHAPTER_REQUIRED", e[e.PROMPT_SUB_REPLACE = 529] = "PROMPT_SUB_REPLACE", e[e.BATTLE_CARD_PARTNER = 1697] = "BATTLE_CARD_PARTNER", e[e.SHARE_BATTLE = 1498] = "SHARE_BATTLE", e[e.BATTLE_CARD_EXTRA_BASE_DAMAGE = 1694] = "BATTLE_CARD_EXTRA_BASE_DAMAGE", e[e.REFRESH_COUNTDOWN = 1057] = "REFRESH_COUNTDOWN", e[e.BATTLE_DIALOG_PVP_SOLDIER = 1689] = "BATTLE_DIALOG_PVP_SOLDIER", e[e.SELECT_SALE_CARDS = 843] = "SELECT_SALE_CARDS", e[e.CARD_USEGUIDE = 1796] = "CARD_USEGUIDE", e[e.BATTLE_DIALOG_ROUND = 1682] = "BATTLE_DIALOG_ROUND", e[e.BATTLE_DIALOG_NEED_MAIN_CARD_EX = 1677] = "BATTLE_DIALOG_NEED_MAIN_CARD_EX", e[e.DEFENCE = 922] = "DEFENCE", e[e.SUMMARY = 500] = "SUMMARY", e[e.RESCUED = 1006] = "RESCUED", e[e.MAX_LEVEL = 456] = "MAX_LEVEL", e[e.BATTLE_DIALOG_CARD_NEED_TARGET2 = 1673] = "BATTLE_DIALOG_CARD_NEED_TARGET2", e[e.EXCHANGE_CODE_CLAIMED = 1178] = "EXCHANGE_CODE_CLAIMED", e[e.USER_TITLE2 = 1063] = "USER_TITLE2", e[e.CLAIM_CITY_REWARD_CONTENT = 1532] = "CLAIM_CITY_REWARD_CONTENT", e[e.DAILY_WORSHIP_TIMES = 664] = "DAILY_WORSHIP_TIMES", e[e.BATTLE_REMAIN_ROUND = 1657] = "BATTLE_REMAIN_ROUND", e[e.GAME_ANNOUNCE = 11] = "GAME_ANNOUNCE", e[e.LEVEL_UP_TROOP = 515] = "LEVEL_UP_TROOP", e[e.BATTLE_ACTIVITY_QUN = 1652] = "BATTLE_ACTIVITY_QUN", e[e.BATTLE_ACTIVITY_WU = 1651] = "BATTLE_ACTIVITY_WU", e[e.STRENGTHENSUCCESS = 688] = "STRENGTHENSUCCESS", e[e.SHOP_CLOSED = 1781] = "SHOP_CLOSED", e[e.COPYRIGHT_OWNER_CN = 9] = "COPYRIGHT_OWNER_CN", e[e.JOIN_UNION_LOSE = 1638] = "JOIN_UNION_LOSE", e[e.JOIN_UNION_WIN = 1637] = "JOIN_UNION_WIN", e[e.UNION_BE_KICKED_OUT = 1274] = "UNION_BE_KICKED_OUT", e[e.NOT_ENOUGH_PURPLE_HORSE_F_BOX = 809] = "NOT_ENOUGH_PURPLE_HORSE_F_BOX", e[e.RATE_GO = 32] = "RATE_GO", e[e.QUN = 1031] = "QUN", e[e.FIRST_WAR_OPPO_ROUND2_2 = 1618] = "FIRST_WAR_OPPO_ROUND2_2", e[e.WEEK_CHECKIN_TITLE = 45] = "WEEK_CHECKIN_TITLE", e[e.CHANNEL_APPLE = 2] = "CHANNEL_APPLE", e[e.AUTO = 1613] = "AUTO", e[e.BATTLE_CHAT_BALL_EMPTY = 1711] = "BATTLE_CHAT_BALL_EMPTY", e[e.BATTLE_AUTO = 1609] = "BATTLE_AUTO",e[e.BATTLE_BOARD_MAIN = 1639] = "BATTLE_BOARD_MAIN",e[e.UNION_APPLY_MSG = 1360] = "UNION_APPLY_MSG",e[e.PUSH_GUARD_FRAGMENT = 1479] = "PUSH_GUARD_FRAGMENT",e[e.BATTLE_DESC_07 = 1603] = "BATTLE_DESC_07",e[e.TOTAL_DEFENSE_TIMES = 1039] = "TOTAL_DEFENSE_TIMES",e[e.UNION_GIVE_FUND_CONFIRM = 1354] = "UNION_GIVE_FUND_CONFIRM",e[e.PUSH_TIP_GRAIN_FULL = 1485] = "PUSH_TIP_GRAIN_FULL",e[e.FREE_AFTER = 632] = "FREE_AFTER",e[e.WORLD_DISPLAY_NO_CITY = 210] = "WORLD_DISPLAY_NO_CITY",e[e.AT_LEAST_ONE_BASIC_IN_TROOP = 766] = "AT_LEAST_ONE_BASIC_IN_TROOP",e[e.FIND_CLASH_FIELDS_CHEST_TIP = 942] = "FIND_CLASH_FIELDS_CHEST_TIP",e[e.ACTIVITY_TOTAL_CONSUME = 263] = "ACTIVITY_TOTAL_CONSUME",e[e.CHECKIN_NOVICE = 374] = "CHECKIN_NOVICE",e[e.DIFFICULTY_NOT_UNLOCKED = 1579] = "DIFFICULTY_NOT_UNLOCKED",e[e.UNLOCK_FUNCTION = 1576] = "UNLOCK_FUNCTION",e[e.EXISTED = 1176] = "EXISTED",e[e.VIP_GIFT_DETAIL = 1575] = "VIP_GIFT_DETAIL",e[e.BILLBOARD = 1050] = "BILLBOARD",e[e.UNION_GIVE_LEADER_TO = 1381] = "UNION_GIVE_LEADER_TO",e[e.VIP_CONTENT_17 = 1565] = "VIP_CONTENT_17",e[e.ACTIVITY_DSECRIPTION_1 = 320] = "ACTIVITY_DSECRIPTION_1",e[e.VIP_CONTENT_12 = 1560] = "VIP_CONTENT_12",e[e.BATTLE_DIALOG_ADD_HP = 1686] = "BATTLE_DIALOG_ADD_HP",e[e.CHANGE_JOB_SUCCESS = 1371] = "CHANGE_JOB_SUCCESS",e[e.DAILY_TARGET = 1934] = "DAILY_TARGET",e[e.VIP_CONTENT_5 = 1553] = "VIP_CONTENT_5",e[e.FRIEND_BATTLE_WIN = 1546] = "FRIEND_BATTLE_WIN",e[e.TOTAL_ATTACK_TIMES = 1038] = "TOTAL_ATTACK_TIMES",e[e.CONFIRM_RESET_PACKAGES = 679] = "CONFIRM_RESET_PACKAGES",e[e.FIND_CLASH_SEASON_CD = 945] = "FIND_CLASH_SEASON_CD",e[e.NO_SWEEP_CITY = 234] = "NO_SWEEP_CITY",e[e.MY = 302] = "MY",e[e.PLEASE_SELECT = 1527] = "PLEASE_SELECT",e[e.TOTAL_ATTACK = 1148] = "TOTAL_ATTACK",e[e.MONSTOR_COMMUNICATOR = 1018] = "MONSTOR_COMMUNICATOR",e[e.GROUP = 1502] = "GROUP",e[e.CARD_KEYWORD_HXJH = 1845] = "CARD_KEYWORD_HXJH",e[e.GET_ENOUGH = 1521] = "GET_ENOUGH",e[e.LORD_UNLOCK_ALL_SLOT = 1518] = "LORD_UNLOCK_ALL_SLOT",e[e.LEVEL_UP_GRAIN = 517] = "LEVEL_UP_GRAIN",e[e.IN_ADVENTURE = 475] = "IN_ADVENTURE",e[e.RECOMMEND_SKILL = 1510] = "RECOMMEND_SKILL",e[e.CHAPTER_BONUS = 1920] = "CHAPTER_BONUS",e[e.COMPETITION = 925] = "COMPETITION",e[e.CARD_BODYWEIGHT = 1795] = "CARD_BODYWEIGHT",e[e.UNION_ELDER_OPERATE = 1357] = "UNION_ELDER_OPERATE",e[e.CARD = 576] = "CARD",e[e.GET_FAILED_TRY_LATER = 141] = "GET_FAILED_TRY_LATER",e[e.CAREER = 2013] = "CAREER",e[e.CAPTURE_BALL_NOT_ENOUGH = 2084] = "CAPTURE_BALL_NOT_ENOUGH",e[e.TIME = 451] = "TIME",e[e.PUSH_GOLD_FULL = 1478] = "PUSH_GOLD_FULL",e[e.BATTLE_DESC_05 = 1601] = "BATTLE_DESC_05",e[e.FRAGMENT_SHOP = 1468] = "FRAGMENT_SHOP",e[e.SEASON_BEST_RANK = 975] = "SEASON_BEST_RANK",e[e.FIND_CLASH_TITLE = 938] = "FIND_CLASH_TITLE",e[e.TAVERN_RESET_SUCCESS = 1951] = "TAVERN_RESET_SUCCESS",e[e.ILLUSTRATION = 1463] = "ILLUSTRATION",e[e.UNION_MARKET = 1461] = "UNION_MARKET",e[e.FLAG_MARKET = 1460] = "FLAG_MARKET",e[e.BOUGHT_NUM = 334] = "BOUGHT_NUM",e[e.CONSUME = 601] = "CONSUME",e[e.MORE = 1452] = "MORE",e[e.CUMULATIVE_RECHARGE = 1994] = "CUMULATIVE_RECHARGE",e[e.NOTICE = 478] = "NOTICE",e[e.PACKAGE = 1446] = "PACKAGE",e[e.DAY_AGO = 1440] = "DAY_AGO",e[e.BAG = 409] = "BAG",e[e.UNION_KICKOUT_NEWS = 1369] = "UNION_KICKOUT_NEWS",e[e.SKILL_SKIP_ROUND_TIP = 1437] = "SKILL_SKIP_ROUND_TIP",e[e.FIND_MATCH_NO_OPPONENT = 953] = "FIND_MATCH_NO_OPPONENT",e[e.UNION_WAR_BATTLE_NOT_ENDED = 1433] = "UNION_WAR_BATTLE_NOT_ENDED",e[e.UNION_WAR_DATA_NOT_PREPARED = 1432] = "UNION_WAR_DATA_NOT_PREPARED",e[e.UNION_CUR_WAR_WILL_END = 1428] = "UNION_CUR_WAR_WILL_END",e[e.UNION_EMPTY_CITY = 1422] = "UNION_EMPTY_CITY",e[e.TROOP_CARD_NUM = 657] = "TROOP_CARD_NUM",e[e.CANNOT_CLAIM = 482] = "CANNOT_CLAIM",e[e.SWEEP_RESULT = 203] = "SWEEP_RESULT",e[e.CHOICE_TITLE_SKILL = 1851] = "CHOICE_TITLE_SKILL",e[e.BASIC_TRAINING = 120] = "BASIC_TRAINING",e[e.ATTACK_TIMES = 800] = "ATTACK_TIMES",e[e.SPECIFIC_BONUS = 77] = "SPECIFIC_BONUS",e[e.FRIEND_BATTLE_LOSE = 1547] = "FRIEND_BATTLE_LOSE",e[e.WORSHIP_TITLE1 = 1407] = "WORSHIP_TITLE1",e[e.NEWS_UNION_CREATE = 1108] = "NEWS_UNION_CREATE",e[e.NOT_ENOUGH_SOLDIERTOKEN = 810] = "NOT_ENOUGH_SOLDIERTOKEN",e[e.CHANNEL_ANDROID = 3] = "CHANNEL_ANDROID",e[e.TAB_QULITY_1 = 2100] = "TAB_QULITY_1",e[e.WIN_CONTINOUS_TODAY = 1938] = "WIN_CONTINOUS_TODAY",e[e.LOGIN_ELSEWHERE = 252] = "LOGIN_ELSEWHERE",e[e.COPY_COMMANDER = 906] = "COPY_COMMANDER",e[e.BATTLE_DIALOG_CARD_NEED_TARGET1 = 1672] = "BATTLE_DIALOG_CARD_NEED_TARGET1",e[e.VIP_CONTENT_8 = 1556] = "VIP_CONTENT_8",e[e.CHAPTER_MODE_LOCK1 = 1077] = "CHAPTER_MODE_LOCK1",e[e.BATTLE_DESC_10 = 1606] = "BATTLE_DESC_10",e[e.INPUT_REMARK_HOLD = 1239] = "INPUT_REMARK_HOLD",e[e.TRAIN = 2026] = "TRAIN",e[e.ROOKIE = 1397] = "ROOKIE",e[e.UNION_ROOKIE_OPERATE = 1358] = "UNION_ROOKIE_OPERATE",e[e.SHANGCI = 1221] = "SHANGCI",e[e.UNION_GIVE_FUND_TO = 1352] = "UNION_GIVE_FUND_TO",e[e.UNION_IMPEACH_TIP = 1348] = "UNION_IMPEACH_TIP",e[e.REFRESH_SUCCESS = 1524] = "REFRESH_SUCCESS",e[e.COOL = 153] = "COOL",e[e.OWN_FRAGMENT = 610] = "OWN_FRAGMENT",e[e.REFRESH = 699] = "REFRESH",e[e.DAY7 = 1330] = "DAY7",e[e.RECRUIT_LEVEL_3 = 613] = "RECRUIT_LEVEL_3",e[e.DAY5 = 1328] = "DAY5",e[e.GET_PATH_LOTTERY_BOOK = 732] = "GET_PATH_LOTTERY_BOOK",e[e.SKILL_TYPE_10 = 870] = "SKILL_TYPE_10",e[e.LAST_LOGIN_TIME = 1323] = "LAST_LOGIN_TIME",e[e.NOT_ENOUGH_UNION_GOLD = 823] = "NOT_ENOUGH_UNION_GOLD",e[e.APPLY = 1320] = "APPLY",e[e.BUY_FUND_SUCCESS = 82] = "BUY_FUND_SUCCESS",e[e.EXIT = 1319] = "EXIT",e[e.VIP_CONTENT_7 = 1555] = "VIP_CONTENT_7",e[e.ZHANDOULI = 1624] = "ZHANDOULI",e[e.NOT_ENOUGH_FLAG = 815] = "NOT_ENOUGH_FLAG",e[e.HIRE_REWARD_TIP = 1311] = "HIRE_REWARD_TIP",e[e.UNION_KICK_OUT_TIP = 1386] = "UNION_KICK_OUT_TIP",e[e.HIRE_NORMAL_MONSTER = 1307] = "HIRE_NORMAL_MONSTER",e[e.TROOPS_IN = 674] = "TROOPS_IN",e[e.GET_PATH = 724] = "GET_PATH",e[e.CARD_SEP_WEI = 1021] = "CARD_SEP_WEI",e[e.RAIDS_TIMES_NOT_ENOUGH = 833] = "RAIDS_TIMES_NOT_ENOUGH",e[e.DECOMPOSE_SUCCESS = 571] = "DECOMPOSE_SUCCESS",e[e.NOTSPLIT = 749] = "NOTSPLIT",e[e.CREATE_UNION_TIP = 1292] = "CREATE_UNION_TIP",e[e.CONNECTING = 22] = "CONNECTING",e[e.UNION_BADGE = 1289] = "UNION_BADGE",e[e.NO_REQUIREMENT = 1288] = "NO_REQUIREMENT",e[e.ACTIVITY_FREE_MONTH_CARD = 319] = "ACTIVITY_FREE_MONTH_CARD",e[e.INPUT_UNION_WORD = 1236] = "INPUT_UNION_WORD",e[e.DECOMPOSE_ALL_INVALID = 570] = "DECOMPOSE_ALL_INVALID",e[e.MAGICTYPE_EQUIP = 1760] = "MAGICTYPE_EQUIP",e[e.SELECT_HIRE_HERO = 1530] = "SELECT_HIRE_HERO",e[e.UNION_TECH_SELF_UPGRADE_TIP = 1279] = "UNION_TECH_SELF_UPGRADE_TIP",e[e.DEFEND_POSTURE = 1868] = "DEFEND_POSTURE",e[e.CHOOSE_MONSTER_ADD_ENERGY = 2037] = "CHOOSE_MONSTER_ADD_ENERGY",e[e.ALL = 438] = "ALL",e[e.LIST_EMPTY_UNION_TECH_EQUIP = 717] = "LIST_EMPTY_UNION_TECH_EQUIP",e[e.SHOW = 2041] = "SHOW",e[e.GO = 652] = "GO",e[e.CITY_STRATEGY = 211] = "CITY_STRATEGY",e[e.OPPONENT_OFFLINE = 1173] = "OPPONENT_OFFLINE",e[e.ACTIVITY_CHARGE_TIP = 362] = "ACTIVITY_CHARGE_TIP",e[e.PLEASE_EXIT_ROOM = 417] = "PLEASE_EXIT_ROOM",e[e.DEFENSE_LOG = 997] = "DEFENSE_LOG",e[e.FIGHT_VALUE = 444] = "FIGHT_VALUE",e[e.UNION_HIRE_ALL = 1258] = "UNION_HIRE_ALL",e[e.OBSERVE = 1943] = "OBSERVE",e[e.CLAIM_SOON = 915] = "CLAIM_SOON",e[e.NUMBER2 = 308] = "NUMBER2",e[e.CARD_KEYWORD_LZQ = 1828] = "CARD_KEYWORD_LZQ",e[e.TASK = 336] = "TASK",e[e.BUY = 589] = "BUY",e[e.UNION_SUMMARY = 1251] = "UNION_SUMMARY",e[e.CARD_CATEGORY_DINOSAUR = 1810] = "CARD_CATEGORY_DINOSAUR",e[e.COPY_BOSS = 907] = "COPY_BOSS",e[e.AND = 157] = "AND",e[e.INPUT_UNION_NAME = 1234] = "INPUT_UNION_NAME",e[e.HERO_LEAVE_COUNTDOWN = 1232] = "HERO_LEAVE_COUNTDOWN",e[e.GET = 505] = "GET",e[e.NEWS_MIX = 1101] = "NEWS_MIX",e[e.BUY_NOW = 38] = "BUY_NOW",e[e.UNION_BATTLE_COUNTDOWN = 1053] = "UNION_BATTLE_COUNTDOWN",e[e.VISIT = 1208] = "VISIT",e[e.UNION_WAR = 1415] = "UNION_WAR",e[e.GET_PATH_ROBHORSE = 730] = "GET_PATH_ROBHORSE",e[e.REFUSED = 1205] = "REFUSED",e[e.ACCEPTED = 1204] = "ACCEPTED",e[e.SEARCH = 1201] = "SEARCH",e[e.FIND_CLASH_CHEST_RESET_TIP = 962] = "FIND_CLASH_CHEST_RESET_TIP",e[e.CANCLE_DARK_TIP = 2029] = "CANCLE_DARK_TIP",e[e.RETURN_PACKAGE = 94] = "RETURN_PACKAGE",e[e.SKILL_STATUS15 = 890] = "SKILL_STATUS15",e[e.INFO = 1445] = "INFO",e[e.CHANGE = 1186] = "CHANGE",e[e.BATTLE_DIALOG_CARD_NEED_JCTQ_TARGET = 1670] = "BATTLE_DIALOG_CARD_NEED_JCTQ_TARGET",e[e.ACHIEVEMENT_POINT = 142] = "ACHIEVEMENT_POINT",e[e.UNION_NEW_ADVENTURE_TASK = 1775] = "UNION_NEW_ADVENTURE_TASK",e[e.COMPOSE_LIST_EMPTY_NO_CARD = 574] = "COMPOSE_LIST_EMPTY_NO_CARD",e[e.OPPOSITE_OFFLINE = 1168] = "OPPOSITE_OFFLINE",e[e.INVITE_RULE = 1166] = "INVITE_RULE",e[e.EXPAND = 587] = "EXPAND",e[e.UNLOCK_RANK_LADDER_EX_TIP = 403] = "UNLOCK_RANK_LADDER_EX_TIP",e[e.COMMIT = 653] = "COMMIT",e[e.UNION_NEXT_WAR_WILL_START = 1426] = "UNION_NEXT_WAR_WILL_START",e[e.ADDITION_BONUS = 642] = "ADDITION_BONUS",e[e.INVITE = 1152] = "INVITE",e[e.OFFER_EXP = 1151] = "OFFER_EXP",e[e.REPUTATION = 1150] = "REPUTATION",e[e.NAME = 1144] = "NAME",e[e.BATTLE_REWARD = 1582] = "BATTLE_REWARD",e[e.DE = 1139] = "DE",e[e.LIST_EMPTY_NO_LOG = 709] = "LIST_EMPTY_NO_LOG",e[e.BATTLE_DIALOG_CANNOT_CHANGE_POSTURE = 1679] = "BATTLE_DIALOG_CANNOT_CHANGE_POSTURE",e[e.COUNT_NOT_ENOUGH = 1993] = "COUNT_NOT_ENOUGH",e[e.UPGRADE = 510] = "UPGRADE",e[e.COPY_INVALID_TIME = 909] = "COPY_INVALID_TIME",e[e.NOT_ENOUGH_SAME_CARD = 814] = "NOT_ENOUGH_SAME_CARD",e[e.MONTH_CARD_CHECKIN_TIP = 65] = "MONTH_CARD_CHECKIN_TIP",e[e.SELECT_COUNT_RECOVERY = 1858] = "SELECT_COUNT_RECOVERY",e[e.OPPONENT_LORD = 1136] = "OPPONENT_LORD",e[e.SKILL_TYPE_8 = 868] = "SKILL_TYPE_8",e[e.AT_LEAST_ONE_IN_DEF_TROOP = 769] = "AT_LEAST_ONE_IN_DEF_TROOP",e[e.SURE_TO_EXTEND = 783] = "SURE_TO_EXTEND",e[e.FEEDBACK = 1119] = "FEEDBACK",e[e.HIGHEST = 607] = "HIGHEST",e[e.RP_GOOD = 1118] = "RP_GOOD",e[e.CARD_CAPACITY_MAX = 756] = "CARD_CAPACITY_MAX",e[e.NEWS_RANK_CHANGE = 1115] = "NEWS_RANK_CHANGE",e[e.NEWS_MEMBER_CONTRIBUTE = 1110] = "NEWS_MEMBER_CONTRIBUTE",e[e.NEED_UNION_HELP_CD = 1014] = "NEED_UNION_HELP_CD",e[e.NEWS_RECRUIT = 1104] = "NEWS_RECRUIT",e[e.PUSH_GRAIN_FULL = 1477] = "PUSH_GRAIN_FULL",e[e.INVITE_LEVEL_OVER = 1167] = "INVITE_LEVEL_OVER",e[e.PUSH_COPY_PVP_UNLOCK = 1475] = "PUSH_COPY_PVP_UNLOCK",e[e.BATTLE_FAIL_TITLE_4 = 1723] = "BATTLE_FAIL_TITLE_4",e[e.SURE_TO_REMOVE_GUARD = 789] = "SURE_TO_REMOVE_GUARD",e[e.WORLD_CHAT_WAIT_TIP = 1087] = "WORLD_CHAT_WAIT_TIP",e[e.BATTLE_CUR_RANK = 1583] = "BATTLE_CUR_RANK",e[e.LEVEL_NOT_UNLOCK = 1080] = "LEVEL_NOT_UNLOCK",e[e.USER_TITLE1 = 1062] = "USER_TITLE1",e[e.SKILL_STATUS4 = 879] = "SKILL_STATUS4",e[e.UNION_UPGRADE_NEWS = 1362] = "UNION_UPGRADE_NEWS",e[e.DISMISS = 1321] = "DISMISS",e[e.USER_TITLE6 = 1067] = "USER_TITLE6",e[e.NUM_9 = 1736] = "NUM_9",e[e.AT_LEAST_ONE_IN_RARE_TROOP = 770] = "AT_LEAST_ONE_IN_RARE_TROOP",e[e.NOT_ENOUGH_ORANGE_HORSE_F_BOX = 808] = "NOT_ENOUGH_ORANGE_HORSE_F_BOX",e[e.MANAGING_CARDS = 1976] = "MANAGING_CARDS",e[e.USER_TITLE4 = 1065] = "USER_TITLE4",e[e.SURE_TO_EXIT_UNION_LEADER = 793] = "SURE_TO_EXIT_UNION_LEADER",e[e.PROPS_TYPE_BOX = 268] = "PROPS_TYPE_BOX",e[e.LOAD = 1902] = "LOAD",e[e.UNSELECT_ALL = 311] = "UNSELECT_ALL",e[e.INVITE_CODE_INVALID = 1164] = "INVITE_CODE_INVALID",e[e.UNION_IMPEACHED_NEWS = 1366] = "UNION_IMPEACHED_NEWS",e[e.FIRST_WAR_SELF_ROUND3_2 = 1620] = "FIRST_WAR_SELF_ROUND3_2",e[e.CHANGE_RECT = 1192] = "CHANGE_RECT",e[e.NEWS_MEMBER_RESCUE = 1112] = "NEWS_MEMBER_RESCUE",e[e.EXCHANGE_TIP2 = 556] = "EXCHANGE_TIP2",e[e.NEWS_MEMBER_ALL_CONTRIBUTE = 1111] = "NEWS_MEMBER_ALL_CONTRIBUTE",e[e.WIN_CONTINOUS = 1937] = "WIN_CONTINOUS",e[e.INVITED_BONUS = 1160] = "INVITED_BONUS",e[e.SKILL_STATUS23 = 898] = "SKILL_STATUS23",e[e.BONUS_CHALLENGE = 432] = "BONUS_CHALLENGE",e[e.INPUT_UNION_SUMMARY = 1235] = "INPUT_UNION_SUMMARY",e[e.DOT = 161] = "DOT",e[e.EXPLORE_PVP_TIMES_REMAIN = 2070] = "EXPLORE_PVP_TIMES_REMAIN",e[e.MID_TRANING_DRAGON = 125] = "MID_TRANING_DRAGON",e[e.DETAIL = 213] = "DETAIL",e[e.FILTER = 437] = "FILTER",e[e.COPY_ELITE_GET = 910] = "COPY_ELITE_GET",e[e.NEW_VERSION_AVAILABLE = 24] = "NEW_VERSION_AVAILABLE",e[e.SEASON_TARGET = 1935] = "SEASON_TARGET",e[e.UNION_OWN = 606] = "UNION_OWN",e[e.RARE = 649] = "RARE",e[e.MONTHCARD_TIP1 = 2002] = "MONTHCARD_TIP1",e[e.WU = 1030] = "WU",e[e.TOTAL_FIGHT_VALUE = 1035] = "TOTAL_FIGHT_VALUE",e[e.COMPOSE_WARN = 573] = "COMPOSE_WARN",e[e.GIFT_SUPER = 70] = "GIFT_SUPER",e[e.EXPEDITION_NO_SWEEP = 205] = "EXPEDITION_NO_SWEEP",e[e.RATE = 30] = "RATE",e[e.COUNTDOWN = 1052] = "COUNTDOWN",e[e.ERROR_CREATE_MATCH = 979] = "ERROR_CREATE_MATCH",e[e.MAGIC = 647] = "MAGIC",e[e.ADD_PILE_CARD_FIRST = 116] = "ADD_PILE_CARD_FIRST",e[e.UNION_ELDER_MAX = 1377] = "UNION_ELDER_MAX",e[e.LEVEL_ABOVE = 455] = "LEVEL_ABOVE",e[e.NEW_ROOM_WILL_COMEON = 136] = "NEW_ROOM_WILL_COMEON",e[e.REBIRTH_LEVEL_NEED = 522] = "REBIRTH_LEVEL_NEED",e[e.AVATAR_FRAME_LOCKED = 156] = "AVATAR_FRAME_LOCKED",e[e.BUFF_IGNORE_OPPO_MONSTER_SKILL_DAMAGE = 2053] = "BUFF_IGNORE_OPPO_MONSTER_SKILL_DAMAGE",e[e.GUIDE_CITY_NAME_3 = 196] = "GUIDE_CITY_NAME_3",e[e.UNION_SQUARE = 1089] = "UNION_SQUARE",e[e.BATTLE_WIN_REWARD = 407] = "BATTLE_WIN_REWARD",e[e.SPECIFIC_PRIVILEGE = 78] = "SPECIFIC_PRIVILEGE",e[e.START_END_TIME = 988] = "START_END_TIME",e[e.PASS_CHAPTER_FIGHT_VALUE = 447] = "PASS_CHAPTER_FIGHT_VALUE",e[e.UNION_HALL = 1090] = "UNION_HALL",e[e.UNION_HELP_TIP = 1094] = "UNION_HELP_TIP",e[e.QQ_VIP = 1908] = "QQ_VIP",e[e.BATTLE_SPEED_3X = 1608] = "BATTLE_SPEED_3X",e[e.MONTH_CARD2 = 62] = "MONTH_CARD2",e[e.WORLD_CHAT_TIP = 1095] = "WORLD_CHAT_TIP",e[e.COMMAND = 645] = "COMMAND",e[e.ACTIVITY_MARKET_TIP = 361] = "ACTIVITY_MARKET_TIP",e[e.NEWS_RANK_LADDER_CHANGE = 1116] = "NEWS_RANK_LADDER_CHANGE",e[e.GET_PATH_EXPEDITION = 735] = "GET_PATH_EXPEDITION",e[e.NOT_ENOUGH_ORANGE_HERO_F_BOX = 806] = "NOT_ENOUGH_ORANGE_HERO_F_BOX",e[e.NATURE_GRASS = 1747] = "NATURE_GRASS",e[e.GIFT_SUPER_COUNTDOWN = 71] = "GIFT_SUPER_COUNTDOWN",e[e.DECOMPOSE_ALL = 567] = "DECOMPOSE_ALL",e[e.SWEEP_COND_SCORE = 1132] = "SWEEP_COND_SCORE",e[e.LADDER_TIP = 629] = "LADDER_TIP",e[e.CLAIM_THEN_SWEEP = 917] = "CLAIM_THEN_SWEEP",e[e.CHECKIN_CONTINUE = 371] = "CHECKIN_CONTINUE",e[e.BATTLE_HAND = 1641] = "BATTLE_HAND",e[e.LIST_EMPTY_NO_CARD = 708] = "LIST_EMPTY_NO_CARD",e[e.DEFAULT = 150] = "DEFAULT",e[e.MY_BAG = 1138] = "MY_BAG",e[e.TODAY = 666] = "TODAY",e[e.OWN_CARD = 609] = "OWN_CARD",e[e.RECRUIT_LEVEL_2 = 612] = "RECRUIT_LEVEL_2",e[e.BUY_GOLD = 295] = "BUY_GOLD",e[e.CARD_BACK = 149] = "CARD_BACK",e[e.DAY = 172] = "DAY",e[e.DARK_BATTLE_NOT_STARTED = 2017] = "DARK_BATTLE_NOT_STARTED",e[e.INVALID_PRODUCT = 698] = "INVALID_PRODUCT",e[e.FIND_MATCH_NPC_TROPHY = 931] = "FIND_MATCH_NPC_TROPHY",e[e.BATTLE_LOSE_TITLE = 1644] = "BATTLE_LOSE_TITLE",e[e.UNION_GOLD = 1340] = "UNION_GOLD",e[e.CAN_GET_X = 40] = "CAN_GET_X",e[e.CANNOT_CONTAIN_SPECIAL_SYMBOL = 101] = "CANNOT_CONTAIN_SPECIAL_SYMBOL",e[e.EXIT_GROUP_CONFIRM = 2001] = "EXIT_GROUP_CONFIRM",e[e.CHANGE_IMAGE = 1193] = "CHANGE_IMAGE",e[e.FIND_CLASH_FIELD = 940] = "FIND_CLASH_FIELD",e[e.EXCHANGE_CODE = 1177] = "EXCHANGE_CODE",e[e.CHANGE_USER_IN_GAMECENTER = 258] = "CHANGE_USER_IN_GAMECENTER",e[e.FLAG_MARKET_TIP = 847] = "FLAG_MARKET_TIP",e[e.CARD_ADVENCE1 = 2075] = "CARD_ADVENCE1",e[e.MAX_HORSE_IN_TROOP = 539] = "MAX_HORSE_IN_TROOP",e[e.CARD_KEYWORD_HMFS = 1824] = "CARD_KEYWORD_HMFS",e[e.ROOM = 303] = "ROOM",e[e.BATTLE_NAME_02 = 1588] = "BATTLE_NAME_02",e[e.GET_PATH_REBIRTH = 725] = "GET_PATH_REBIRTH",e[e.PASS_CHAPTER_BONUS = 448] = "PASS_CHAPTER_BONUS",e[e.BATTLE = 1086] = "BATTLE",e[e.COMPARE = 1207] = "COMPARE",e[e.DISABLE_AFTER = 425] = "DISABLE_AFTER",e[e.LIST_EMPTY_NO_HIRE = 710] = "LIST_EMPTY_NO_HIRE",e[e.SKILL_STATUS22 = 897] = "SKILL_STATUS22",e[e.COMMIT_PROP2HERO = 1231] = "COMMIT_PROP2HERO",e[e.WAITING = 198] = "WAITING",e[e.PREPARE_LIVE_BATTLE = 415] = "PREPARE_LIVE_BATTLE",e[e.NOT_ENOUGH_YUBI = 816] = "NOT_ENOUGH_YUBI",e[e.FIND_TROPHY_TITLE = 934] = "FIND_TROPHY_TITLE",e[e.NEXT_LEVEL = 2105] = "NEXT_LEVEL",e[e.USED_OUT = 292] = "USED_OUT",e[e.LIST_EMPTY_RANK_GROUP = 721] = "LIST_EMPTY_RANK_GROUP",e[e.WEEK = 171] = "WEEK",e[e.PAYMENT_GIFT = 73] = "PAYMENT_GIFT",e[e.FIND_CLASH_NEXT_TARGET = 949] = "FIND_CLASH_NEXT_TARGET",e[e.EXCHANGE_SUCCESS = 553] = "EXCHANGE_SUCCESS",e[e.FRIEND_BATTLE_SEARCHING = 1543] = "FRIEND_BATTLE_SEARCHING",e[e.FUND_TASK_RESET = 1953] = "FUND_TASK_RESET",e[e.SURE_TO_REPLACE_GUARD = 790] = "SURE_TO_REPLACE_GUARD",e[e.SWEEP_COND_NO_HIRE = 1133] = "SWEEP_COND_NO_HIRE",e[e.UNION_TECH = 1259] = "UNION_TECH",e[e.UNION_INVITE_SEND = 1269] = "UNION_INVITE_SEND",e[e.NOVICE_TASK = 338] = "NOVICE_TASK",e[e.CHAPTER_MODE_LOCK2 = 1078] = "CHAPTER_MODE_LOCK2",e[e.GET_PATH_TAVERN = 731] = "GET_PATH_TAVERN",e[e.NEWS_BUY = 1107] = "NEWS_BUY",e[e.HUNT = 754] = "HUNT",e[e.BATTLE_CARD_MAX_TITLE = 1701] = "BATTLE_CARD_MAX_TITLE",e[e.POKEMON_INFO = 143] = "POKEMON_INFO",e[e.SKILL_TYPE_9 = 869] = "SKILL_TYPE_9",e[e.CARD_KEYWORD_SK = 1833] = "CARD_KEYWORD_SK",e[e.ROOM_SHARE = 1403] = "ROOM_SHARE",e[e.COPY_NEED_PASS_LEVEL = 913] = "COPY_NEED_PASS_LEVEL",e[e.SWITCH_ATK = 1895] = "SWITCH_ATK",e[e.LEGEND_CARD_SOLD = 762] = "LEGEND_CARD_SOLD",e[e.CLAIM_AFTER2 = 635] = "CLAIM_AFTER2",e[e.DAILY_MARKET = 1457] = "DAILY_MARKET",e[e.POTENTIAL = 496] = "POTENTIAL",e[e.SERVER_TIMEZONE = 15] = "SERVER_TIMEZONE",e[e.REMAIN_CHALLENGE_TIMES = 832] = "REMAIN_CHALLENGE_TIMES",e[e.NO_TITLE = 378] = "NO_TITLE",e[e.CONFIRM_TO_SWITCH_VIEW = 137] = "CONFIRM_TO_SWITCH_VIEW",e[e.UNION_TOTAL_POINTS = 1338] = "UNION_TOTAL_POINTS",e[e.RATE_ADVICE = 31] = "RATE_ADVICE",e[e.INVALID_UNION = 1283] = "INVALID_UNION",e[e.REFUSE_INVITE = 1286] = "REFUSE_INVITE",e[e.DAY2 = 1325] = "DAY2",e[e.RANK_BONUS_BOSS_DESC1 = 387] = "RANK_BONUS_BOSS_DESC1",e[e.BUY_GRAIN = 296] = "BUY_GRAIN",e[e.SELECT_UNION_BADGE = 1291] = "SELECT_UNION_BADGE",e[e.HIRING_TIP = 1297] = "HIRING_TIP",e[e.CLAIM_THEN_EXPEDITION = 916] = "CLAIM_THEN_EXPEDITION",e[e.BATTLE_TEST_SELECT_CARD = 131] = "BATTLE_TEST_SELECT_CARD",e[e.ACTIVITY_TOTAL_PAY_DAY = 264] = "ACTIVITY_TOTAL_PAY_DAY",e[e.MIX_COST = 773] = "MIX_COST",e[e.LADDER_RESET_LOSE_TIP1 = 1888] = "LADDER_RESET_LOSE_TIP1",e[e.SKILL_STATUS14 = 889] = "SKILL_STATUS14",e[e.CARD_CATEGORY_WARRIOR = 1804] = "CARD_CATEGORY_WARRIOR",e[e.CHANNEL_YYB = 4] = "CHANNEL_YYB",e[e.SERVER_MAINTENANCE = 253] = "SERVER_MAINTENANCE",e[e.HIRE_SEND = 1310] = "HIRE_SEND",e[e.LIST_EMPTY_NO_NOTICE = 704] = "LIST_EMPTY_NO_NOTICE",e[e.MATE = 300] = "MATE",e[e.CHAPTER_RANK_TIP = 379] = "CHAPTER_RANK_TIP",e[e.FIRST = 1316] = "FIRST",e[e.GOODS = 563] = "GOODS",e[e.EXCHANGE_TIP1 = 555] = "EXCHANGE_TIP1",e[e.TROPHY_RANK_REGION = 398] = "TROPHY_RANK_REGION",e[e.TASK_DOING = 1228] = "TASK_DOING",e[e.HIDE_HAND_CARDS = 1526] = "HIDE_HAND_CARDS",e[e.VIP_DAILY_BONUS_TIP = 90] = "VIP_DAILY_BONUS_TIP",e[e.UNION_ATTACKING_BY = 1010] = "UNION_ATTACKING_BY",e[e.RANK_BONUS_DESC3 = 384] = "RANK_BONUS_DESC3",e[e.SOMEONE_INFO = 294] = "SOMEONE_INFO",e[e.NEW_SYS_MAIL = 1491] = "NEW_SYS_MAIL",e[e.MAY_PACKAGE = 87] = "MAY_PACKAGE",e[e.FALL = 435] = "FALL",e[e.MONTH_CARD_NO_DAYS = 66] = "MONTH_CARD_NO_DAYS",e[e.DIAMOND_SHOP = 1771] = "DIAMOND_SHOP",e[e.UNION_GIVE_FUND_SUCCESS = 1355] = "UNION_GIVE_FUND_SUCCESS",e[e.NUM_6 = 1733] = "NUM_6",e[e.BATTLE_NAME_07 = 1593] = "BATTLE_NAME_07",e[e.UNION_INVITE = 1346] = "UNION_INVITE",e[e.ONLINE_TASK = 349] = "ONLINE_TASK",e[e.RECRUIT_LEGEND_LUCKY = 623] = "RECRUIT_LEGEND_LUCKY",e[e.SHARE_SUCCESS = 1494] = "SHARE_SUCCESS",e[e.ONLY_BUY_ONCE = 42] = "ONLY_BUY_ONCE",e[e.NEED_MORE_EXCHANGE_GET = 184] = "NEED_MORE_EXCHANGE_GET",e[e.COPY_ROB_GOLD_SWEEP_TIP = 912] = "COPY_ROB_GOLD_SWEEP_TIP",e[e.CHAT = 217] = "CHAT",e[e.UNION_TYPE_APPLY = 1266] = "UNION_TYPE_APPLY",e[e.CHAPTER_UNLOCKED = 1079] = "CHAPTER_UNLOCKED",e[e.PLAYER = 427] = "PLAYER",e[e.DELETE_HAND_CARDS_WHEN_MAX = 98] = "DELETE_HAND_CARDS_WHEN_MAX",e[e.CHANGE_HERO = 686] = "CHANGE_HERO",e[e.DARK_TROOP = 464] = "DARK_TROOP",e[e.GET_PATH_UNIONMARKET = 727] = "GET_PATH_UNIONMARKET",e[e.KILL_DURATION = 1390] = "KILL_DURATION",e[e.ROBABLE = 921] = "ROBABLE",e[e.CARD_KEYWORD_YMS = 1829] = "CARD_KEYWORD_YMS",e[e.EXCHANGE_TIMES = 552] = "EXCHANGE_TIMES",e[e.BATTLE_AGAIN = 1004] = "BATTLE_AGAIN",e[e.UNION_TYPE_ANY = 1265] = "UNION_TYPE_ANY",e[e.TAP_CARD_TIP = 282] = "TAP_CARD_TIP",e[e.UNION_PRIVILEGE_ERROR = 1376] = "UNION_PRIVILEGE_ERROR",e[e.MOST_USE_BOX = 1141] = "MOST_USE_BOX",e[e.NEED_UNION_HELP_AT_LEAST = 1013] = "NEED_UNION_HELP_AT_LEAST",e[e.FRI = 857] = "FRI",e[e.SEND_GROUP = 1489] = "SEND_GROUP",e[e.UNION_OWNER = 1411] = "UNION_OWNER",e[e.CITY_LOCK = 1513] = "CITY_LOCK",e[e.UNION_UNLOCK_LEVEL = 1277] = "UNION_UNLOCK_LEVEL",e[e.INVITE_SUCCESS = 1156] = "INVITE_SUCCESS",e[e.ADDITION = 1523] = "ADDITION",e[e.UNION_DEFENDER = 1412] = "UNION_DEFENDER",e[e.COM_FRAG_EQUIP = 27] = "COM_FRAG_EQUIP",e[e.CAN_S = 682] = "CAN_S",e[e.SELF = 299] = "SELF",e[e.CARD_INTRO = 1793] = "CARD_INTRO",e[e.UNION_WAR_ATTACK = 1416] = "UNION_WAR_ATTACK",e[e.BATTLE_CARD_ADD_ATK_PERCENT = 1699] = "BATTLE_CARD_ADD_ATK_PERCENT",e[e.ACTIVI_POINT = 324] = "ACTIVI_POINT",e[e.LEVEL_S = 454] = "LEVEL_S",e[e.APP_NAME_KDDJ = 1] = "APP_NAME_KDDJ",e[e.AVATAR_OTHER = 221] = "AVATAR_OTHER",e[e.ACTIVITY_TIME = 356] = "ACTIVITY_TIME",e[e.CHOICE_TITLE_MERGE = 1849] = "CHOICE_TITLE_MERGE",e[e.WEEK_CHECKIN_TIP = 46] = "WEEK_CHECKIN_TIP",e[e.NOVICE_TRAINING = 119] = "NOVICE_TRAINING",e[e.CARD_CATEGORY_IMAGERY_GOD = 1818] = "CARD_CATEGORY_IMAGERY_GOD",e[e.OFF = 1451] = "OFF",e[e.CANNOT_UNION_WORSHIP = 1392] = "CANNOT_UNION_WORSHIP",e[e.INPUT_NAME_HOLD = 1238] = "INPUT_NAME_HOLD",e[e.NATURE_MIGHT = 1752] = "NATURE_MIGHT",e[e.ABOUT = 1464] = "ABOUT",e[e.MONTH_CARD3 = 63] = "MONTH_CARD3",e[e.EVOLUTE_RESULT = 560] = "EVOLUTE_RESULT",e[e.GIFT = 69] = "GIFT",e[e.PUSH_TIP_REWARD_SEND = 1483] = "PUSH_TIP_REWARD_SEND",e[e.NEW_WORLD_MSG = 1492] = "NEW_WORLD_MSG",e[e.EXCHANGE_CODE_DUPLICATE = 1179] = "EXCHANGE_CODE_DUPLICATE",e[e.CHANGE_ICON = 1189] = "CHANGE_ICON",e[e.COMMA = 163] = "COMMA",e[e.RATE_TIP = 34] = "RATE_TIP",e[e.SKILL_ADDITION = 1508] = "SKILL_ADDITION",e[e.DISCARD_HAND_TIP_1 = 1864] = "DISCARD_HAND_TIP_1",e[e.FUND_BOUGHT = 335] = "FUND_BOUGHT",e[e.CONFIRM_REFRESH_PRODUCTS_TIMES = 836] = "CONFIRM_REFRESH_PRODUCTS_TIMES",e[e.VIP_CHECKIN_TITLE = 51] = "VIP_CHECKIN_TITLE",e[e.CHAT_BAN = 218] = "CHAT_BAN",e[e.GUIDE_BG_5 = 193] = "GUIDE_BG_5",e[e.VIDEO = 14] = "VIDEO",e[e.CONTRIBUTE_TIP = 628] = "CONTRIBUTE_TIP",e[e.DAY_RI = 173] = "DAY_RI",e[e.LAYOUT = 1901] = "LAYOUT",e[e.ISBN = 1915] = "ISBN",e[e.SETTING = 1453] = "SETTING",e[e.FRIEND_BATTLE = 1541] = "FRIEND_BATTLE",e[e.CANT_RESCUE = 1008] = "CANT_RESCUE",e[e.GRASS_TROOP = 278] = "GRASS_TROOP",e[e.RECRUIT_ONCE = 617] = "RECRUIT_ONCE",e[e.DATE_NUM = 41] = "DATE_NUM",e[e.FIND_CLASH_CHEST_LEGEND_80_TIP = 960] = "FIND_CLASH_CHEST_LEGEND_80_TIP",e[e.FIND_UNION_BATTLE_TITLE = 970] = "FIND_UNION_BATTLE_TITLE",e[e.STAY_ONE_DAY = 276] = "STAY_ONE_DAY",e[e.UNION_IMPEACH_MEMBERS = 1350] = "UNION_IMPEACH_MEMBERS",e[e.INPUT_NUMBER = 103] = "INPUT_NUMBER",e[e.SKILL_START_ROUND_TIP = 1436] = "SKILL_START_ROUND_TIP",e[e.FIND_CLASH_FIRST_TIP2 = 944] = "FIND_CLASH_FIRST_TIP2",e[e.CANNOT_UNION_CONTRIBUTE = 1391] = "CANNOT_UNION_CONTRIBUTE",e[e.FUND_TASK_PRO = 1954] = "FUND_TASK_PRO",e[e.UNION_BOSS_LOCKED = 1383] = "UNION_BOSS_LOCKED",e[e.PAGE_PREFIX = 655] = "PAGE_PREFIX",e[e.UNION_CHAT_TIP = 1092] = "UNION_CHAT_TIP",e[e.MORE_CARD_IN_RARE_TROOP = 546] = "MORE_CARD_IN_RARE_TROOP",e[e.BATTLE_DIALOG_ADD_ATK = 1685] = "BATTLE_DIALOG_ADD_ATK",e[e.INPUT_CARDID_SKILLID_ATTACK_DEFEND_PINYIN = 100] = "INPUT_CARDID_SKILLID_ATTACK_DEFEND_PINYIN",e[e.BONUS = 431] = "BONUS",e[e.BATTLE_NAME_08 = 1594] = "BATTLE_NAME_08",e[e.WEEK_BATTLE_ACHIEVEMENT = 1037] = "WEEK_BATTLE_ACHIEVEMENT",e[e.BATTLE_SPEED_2X = 1607] = "BATTLE_SPEED_2X",e[e.NOSWALLOWCARD = 739] = "NOSWALLOWCARD",e[e.BATTLE_RETREAT = 1654] = "BATTLE_RETREAT",e[e.REMARK = 284] = "REMARK",e[e.CANNOT_SELECT_CHARACTR = 1876] = "CANNOT_SELECT_CHARACTR",e[e.REFRESH_TROOP = 700] = "REFRESH_TROOP",e[e.UNION_BLACKSMITH = 1261] = "UNION_BLACKSMITH",e[e.FIND_MATCH_NONE = 928] = "FIND_MATCH_NONE",e[e.JOIN_REVENGE_BEGIN = 1635] = "JOIN_REVENGE_BEGIN",e[e.UNTROOP = 672] = "UNTROOP",e[e.LIST_EMPTY_NO_SKIN = 719] = "LIST_EMPTY_NO_SKIN",e[e.LIST_EMPTY_NO_RECOMMEND = 723] = "LIST_EMPTY_NO_RECOMMEND",e[e.CHANNEL_FIX = 6] = "CHANNEL_FIX",e[e.INPUT_ROOM_ID = 104] = "INPUT_ROOM_ID",e[e.CONSUME_MIN = 604] = "CONSUME_MIN",e[e.BATTLE_FAIL_CONTENT_1 = 1724] = "BATTLE_FAIL_CONTENT_1",e[e.RECRUIT_MORE_TIP_2 = 621] = "RECRUIT_MORE_TIP_2",e[e.GET_PATH_FLAGMARKET = 728] = "GET_PATH_FLAGMARKET",e[e.BASE_HEAD = 1188] = "BASE_HEAD",e[e.RELATIONSHIP = 582] = "RELATIONSHIP",e[e.TRANSFERING_DATA = 43] = "TRANSFERING_DATA",e[e.BATTLE_DIALOG_NOT_YOUR_ROUND = 1665] = "BATTLE_DIALOG_NOT_YOUR_ROUND",e[e.ARRIVE_EVOLUTIONLEVEL = 744] = "ARRIVE_EVOLUTIONLEVEL",e[e.LOTTERY_TIP = 752] = "LOTTERY_TIP",e[e.BATTLE_DIALOG_TARGET_UNATTACKABLE = 1674] = "BATTLE_DIALOG_TARGET_UNATTACKABLE",e[e.GENDER_MALE = 2108] = "GENDER_MALE",e[e.WORLD_DISPLAY_MAP = 207] = "WORLD_DISPLAY_MAP",e[e.HEARTBEAT_LOST = 260] = "HEARTBEAT_LOST",e[e.CLASH_MARKET = 1462] = "CLASH_MARKET",e[e.LEGEND_BOX_OPEN_TIP_NOW = 641] = "LEGEND_BOX_OPEN_TIP_NOW",e[e.SPLIT_RESULT = 774] = "SPLIT_RESULT",e[e.ELECTRIC_TROOP = 279] = "ELECTRIC_TROOP",e[e.FIND_CLASH_CHEST_LEGEND_TIP = 958] = "FIND_CLASH_CHEST_LEGEND_TIP",e[e.STRENGTHEN = 564] = "STRENGTHEN",e[e.LEGEND_RECRUITE_END = 1786] = "LEGEND_RECRUITE_END",e[e.TOTAL_PRICE = 658] = "TOTAL_PRICE",e[e.USER_TITLE7 = 1068] = "USER_TITLE7",e[e.SURE_TO_EXIT_UNION_ONLY_LEADER = 794] = "SURE_TO_EXIT_UNION_ONLY_LEADER",e[e.SURE_TO_RELIVE = 795] = "SURE_TO_RELIVE",e[e.UPGRADE_CARD_TIP = 283] = "UPGRADE_CARD_TIP",e[e.BATTLE_DESC_03 = 1599] = "BATTLE_DESC_03",e[e.CARD_EVOLVE = 1791] = "CARD_EVOLVE",e[e.STORY = 414] = "STORY",e[e.GET_RANDOM_SKILL_ADDITION = 1512] = "GET_RANDOM_SKILL_ADDITION",e[e.GROW_TRACE = 314] = "GROW_TRACE",e[e.VIP_CONTENT_14 = 1562] = "VIP_CONTENT_14",e[e.RECRUIT_FAST_OPEN_TIP = 624] = "RECRUIT_FAST_OPEN_TIP",e[e.ACTIVITY_LONG_TERM = 360] = "ACTIVITY_LONG_TERM",e[e.LEVEL_UP_REPUTATION = 513] = "LEVEL_UP_REPUTATION",e[e.ACTIVITY_INFO = 357] = "ACTIVITY_INFO",e[e.INPUT_ROOM_PASSWORD = 105] = "INPUT_ROOM_PASSWORD",e[e.NOT_ENOUGH_POLISH = 813] = "NOT_ENOUGH_POLISH",e[e.UNION_UNION_OPERATE = 1359] = "UNION_UNION_OPERATE",e[e.BIND_GCID_FAILED_ID_EMPTY = 1744] = "BIND_GCID_FAILED_ID_EMPTY",e[e.RECRUIT_NEXT_ONE = 615] = "RECRUIT_NEXT_ONE",e[e.LORD_LEVEL = 1047] = "LORD_LEVEL",e[e.MUST = 1317] = "MUST",e[e.NATURE_WATER = 1749] = "NATURE_WATER",e[e.SKILL_STATUS5 = 880] = "SKILL_STATUS5",e[e.SKILL_STATUS18 = 893] = "SKILL_STATUS18",e[e.TROOP_ACTIVATE_TIME = 467] = "TROOP_ACTIVATE_TIME",e[e.DARK_TROOP_CHECK_FAIL = 2032] = "DARK_TROOP_CHECK_FAIL",e[e.UNION_X_LEVEL = 1276] = "UNION_X_LEVEL",e[e.VOID = 151] = "VOID",e[e.SURE_TO_BUY_CHALLENGE = 851] = "SURE_TO_BUY_CHALLENGE",e[e.GIFT_INVALID = 75] = "GIFT_INVALID",e[e.RESUME = 1001] = "RESUME",e[e.UNION_SHOP = 1773] = "UNION_SHOP",e[e.RANDOM_MARKET_TIP = 846] = "RANDOM_MARKET_TIP",e[e.CARD_LEVEL = 1790] = "CARD_LEVEL",e[e.ACTIVITY_BONUS_CLAIM_TIP = 365] = "ACTIVITY_BONUS_CLAIM_TIP",e[e.DAILY_BUY_TIMES = 661] = "DAILY_BUY_TIMES",e[e.EVOLUTE_HERO_SWALLOWED = 763] = "EVOLUTE_HERO_SWALLOWED",e[e.SURE_TO_BUY = 781] = "SURE_TO_BUY",e[e.LEVEL_UP_GRAIN_MAX = 516] = "LEVEL_UP_GRAIN_MAX",e[e.EMPTY_IN_TROOP = 543] = "EMPTY_IN_TROOP",e[e.BATTLE_DESC_02 = 1598] = "BATTLE_DESC_02",e[e.BATTLE_DIALOG_CARD_NEED_AIM = 1669] = "BATTLE_DIALOG_CARD_NEED_AIM",e[e.SAT = 858] = "SAT",e[e.DONE = 215] = "DONE",e[e.CARD_CAPACITY_PATH = 758] = "CARD_CAPACITY_PATH",e[e.NOT_COMPLETED = 474] = "NOT_COMPLETED",e[e.LIST_EMPTY_TASK_DONE = 706] = "LIST_EMPTY_TASK_DONE",e[e.SPECIAL_THANKS = 17] = "SPECIAL_THANKS",e[e.REMIAN_CARD_PACKAGE = 680] = "REMIAN_CARD_PACKAGE",e[e.SWEEP_TIMES = 201] = "SWEEP_TIMES",e[e.UNION_TYPE_CLOSE = 1267] = "UNION_TYPE_CLOSE",e[e.RECHARGE_NOW = 36] = "RECHARGE_NOW",e[e.CONFIRM_TO_GIVEUP = 971] = "CONFIRM_TO_GIVEUP",e[e.INTROOP = 670] = "INTROOP",e[e.NOTUPGRADE = 745] = "NOTUPGRADE",e[e.PALACE_REVIEW_REWARD = 225] = "PALACE_REVIEW_REWARD",e[e.ATK_TROOP = 288] = "ATK_TROOP",e[e.CHARACTER_UNLOCKED = 1880] = "CHARACTER_UNLOCKED",e[e.VIP_CONTENT_23 = 1571] = "VIP_CONTENT_23",e[e.START_AFTER = 423] = "START_AFTER",e[e.REMARK_NOT_ALLOWED = 287] = "REMARK_NOT_ALLOWED",e[e.QUICK_EQUIP = 508] = "QUICK_EQUIP",e[e.CURRENT_POINT = 485] = "CURRENT_POINT",e[e.MULTIPY = 452] = "MULTIPY",e[e.FIND_CLASH_CHEST_GOOD_TIP = 955] = "FIND_CLASH_CHEST_GOOD_TIP",e[e.LOOK_OVER = 1061] = "LOOK_OVER",e[e.PALACE_REVIEW_DURATION = 229] = "PALACE_REVIEW_DURATION",e[e.TOTAL_BATTLE_ACHIEVEMENT = 1036] = "TOTAL_BATTLE_ACHIEVEMENT",e[e.CARD_SEP_BOOK = 1027] = "CARD_SEP_BOOK",e[e.REACHABILITY_CHANGED = 256] = "REACHABILITY_CHANGED",e[e.CARD_DEAD = 541] = "CARD_DEAD",e[e.UNION_TO_LEADER = 1382] = "UNION_TO_LEADER",e[e.FIND_TITLE = 933] = "FIND_TITLE",e[e.PUSH_GRAIN_NIGHT = 1473] = "PUSH_GRAIN_NIGHT",e[e.DESC_LOCK = 2052] = "DESC_LOCK",e[e.DAY1 = 1324] = "DAY1",e[e.REMAIN_TIMES = 831] = "REMAIN_TIMES",e[e.TROOP_TYPE_COUNT = 1960] = "TROOP_TYPE_COUNT",e[e.BUFF_IGNORE_OPPO_MONSTER_SKILL = 2054] = "BUFF_IGNORE_OPPO_MONSTER_SKILL",e[e.BUFF_EXTRA_SKILL = 2055] = "BUFF_EXTRA_SKILL",e[e.BUFF_SKILL_ENHANCE = 2056] = "BUFF_SKILL_ENHANCE",e[e.EXPLORE = 2059] = "EXPLORE",e[e.EXPLORE_AGAIN = 2060] = "EXPLORE_AGAIN",e[e.MATCH_BATTLE_POS = 986] = "MATCH_BATTLE_POS",e[e.EXPLORE_LOCKED_2 = 2064] = "EXPLORE_LOCKED_2",e[e.FUND_BONUS = 330] = "FUND_BONUS",e[e.EXPLORE_TIMES_REMAIN = 2068] = "EXPLORE_TIMES_REMAIN",e[e.EXPLORE_NO_TIMES = 2069] = "EXPLORE_NO_TIMES",e[e.HORSE_SPECIAL = 502] = "HORSE_SPECIAL",e[e.GUIDE_BG_2 = 190] = "GUIDE_BG_2",e[e.EXPLORE_ADVENCE_OPEN = 2072] = "EXPLORE_ADVENCE_OPEN",e[e.CARD_ADVENCE0 = 2074] = "CARD_ADVENCE0",e[e.CLAIMED_TIMES = 481] = "CLAIMED_TIMES",e[e.VERSION = 23] = "VERSION",e[e.FIND_CLASH_SEASON_REVIEWING_1 = 946] = "FIND_CLASH_SEASON_REVIEWING_1",e[e.REGION_CHANGE = 1535] = "REGION_CHANGE",e[e.LIST_EMPTY_NO_ANNOUNCE = 702] = "LIST_EMPTY_NO_ANNOUNCE",e[e.EVOLUTION_LEVEL_ARRIVE = 521] = "EVOLUTION_LEVEL_ARRIVE",e[e.UNION_MAIL_TIP = 1093] = "UNION_MAIL_TIP",e[e.FUND_DESC = 332] = "FUND_DESC",e[e.UNION_KICKOUT_FAILED = 1273] = "UNION_KICKOUT_FAILED",e[e.SHOP_CONFIRM = 2076] = "SHOP_CONFIRM",e[e.CAPTURE_REMAIN_TIMES = 2080] = "CAPTURE_REMAIN_TIMES",e[e.CANNOT_START_UNION_BATTLE = 1975] = "CANNOT_START_UNION_BATTLE",e[e.CARD_KEYWORD_EM = 1826] = "CARD_KEYWORD_EM",e[e.CAPTURE_BALL_REMAIN = 2083] = "CAPTURE_BALL_REMAIN",e[e.PUSH_TIP_COPY_PVP_UNLOCK = 1484] = "PUSH_TIP_COPY_PVP_UNLOCK",e[e.GACHA = 2087] = "GACHA",e[e.SELECT_CHARACTER = 900] = "SELECT_CHARACTER",e[e.GACHA_NATURE = 2089] = "GACHA_NATURE",e[e.NUM_7 = 1734] = "NUM_7",e[e.GACHA_SUPER = 2091] = "GACHA_SUPER",e[e.GACHA_AETHER_FULL = 2094] = "GACHA_AETHER_FULL",e[e.TIP_NATURE = 2095] = "TIP_NATURE",e[e.TAB_PROP_3 = 2098] = "TAB_PROP_3",e[e.VIP_CONTENT_22 = 1570] = "VIP_CONTENT_22",e[e.PALACE_VISIT_ORANGE = 1211] = "PALACE_VISIT_ORANGE",e[e.TAB_QULITY_2 = 2101] = "TAB_QULITY_2",e[e.SKILL_TYPE_12 = 872] = "SKILL_TYPE_12",e[e.TAB_QULITY_4 = 2103] = "TAB_QULITY_4",e[e.CARD_SEP_HIRED = 1020] = "CARD_SEP_HIRED",e[e.RELATION2HERO = 1229] = "RELATION2HERO",e[e.HIRE_CONFIRM = 1295] = "HIRE_CONFIRM",e[e.MAIN_TASK_LEVEL = 344] = "MAIN_TASK_LEVEL",e[e.ACTIVITY_DAILY_CHARGE_RANDOM_TIP = 363] = "ACTIVITY_DAILY_CHARGE_RANDOM_TIP",e[e.GENDER_FEMALE = 2109] = "GENDER_FEMALE",e[e.GUIDE_SCENE_03 = 2113] = "GUIDE_SCENE_03",e[e.EXCLUSIVE_DESC = 583] = "EXCLUSIVE_DESC",e[e.VIP_MARKET = 1456] = "VIP_MARKET",e[e.REWARD_CARD_AUTO_TROOP = 2117] = "REWARD_CARD_AUTO_TROOP",e[e.GUIDE_NOVICE_TEACH_03 = 2119] = "GUIDE_NOVICE_TEACH_03",e[e.MONTH_CARD_BUY_MONEY = 2121] = "MONTH_CARD_BUY_MONEY",e[e.ENHANCE = 2023] = "ENHANCE",e[e.PERSONAL_FUND = 2122] = "PERSONAL_FUND",e[e.PERSONAL_FUND_2 = 2124] = "PERSONAL_FUND_2",e[e.TAB_QULITY_3 = 2102] = "TAB_QULITY_3",e[e.PERSONAL_FUND_5 = 2127] = "PERSONAL_FUND_5",e[e.PERSONAL_FUND_6 = 2128] = "PERSONAL_FUND_6",e[e.SIGNIN_FUND = 2129] = "SIGNIN_FUND",e[e.BUY_PACKAGE_REMAIN_COUNT = 2131] = "BUY_PACKAGE_REMAIN_COUNT",e[e.CHAPTER_MONSTER_TIP2 = 2134] = "CHAPTER_MONSTER_TIP2",e[e.UNION_UPGRADE_TECH_NEWS = 1363] = "UNION_UPGRADE_TECH_NEWS",e[e.ACITIVITY_TIP2 = 2136] = "ACITIVITY_TIP2",e[e.FIND_MATCH_NPC_MELEE = 932] = "FIND_MATCH_NPC_MELEE",e[e.NOVICE_TEACH_TIP_02 = 2140] = "NOVICE_TEACH_TIP_02",e[e.BATTLE_ACTIVITY_WEI = 1649] = "BATTLE_ACTIVITY_WEI",e[e.DAILY_TASK = 341] = "DAILY_TASK",e[e.FIND_REMATCH = 929] = "FIND_REMATCH",e[e.FEEDBACK_THANKS = 35] = "FEEDBACK_THANKS",e[e.UNION_JOIN_NEWS = 1364] = "UNION_JOIN_NEWS",e[e.NOVICE_TEACH_TIP_03 = 2141] = "NOVICE_TEACH_TIP_03";
            e[e.BENEFITS = 2142] = "BENEFITS", e[e.CREATE = 1318] = "CREATE", e[e.OPERATE = 1206] = "OPERATE", e[e.GUIDANCE = 118] = "GUIDANCE", e[e.NEW_PVP_WILL_COMEON = 135] = "NEW_PVP_WILL_COMEON", e[e.ATTACK_POSTURE = 1867] = "ATTACK_POSTURE", e[e.BATTLE_DIALOG_NEED_MAIN_CARD = 1676] = "BATTLE_DIALOG_NEED_MAIN_CARD", e[e.REMAIN_ITEMS = 58] = "REMAIN_ITEMS", e[e.LIST_EMPTY_NO_TRAINING = 707] = "LIST_EMPTY_NO_TRAINING", e[e.RED_COLOR = 600] = "RED_COLOR", e[e.WEI = 1028] = "WEI", e[e.PROPS_TYPE_UNION = 275] = "PROPS_TYPE_UNION", e[e.AT_LEAST_ONE_IN_TROOP_2 = 768] = "AT_LEAST_ONE_IN_TROOP_2", e[e.UNION_DAILY_CONTRIBUTE = 1393] = "UNION_DAILY_CONTRIBUTE", e[e.PALACE_VISIT = 1210] = "PALACE_VISIT", e[e.MIXABLE = 476] = "MIXABLE", e[e.GUIDE_BG_4 = 192] = "GUIDE_BG_4", e[e.UNION_EXP_MAX = 1264] = "UNION_EXP_MAX", e[e.INVITE_CODE = 1163] = "INVITE_CODE", e[e.DAILY_EXCHANGE_TIMES = 662] = "DAILY_EXCHANGE_TIMES", e[e.CARD_CATEGORY_BIRD_BEAST = 1811] = "CARD_CATEGORY_BIRD_BEAST", e[e.CLAIM_DAQIAO = 636] = "CLAIM_DAQIAO", e[e.GET_PATH_BOX = 726] = "GET_PATH_BOX", e[e.NOVICE_CHECKIN_TITLE = 47] = "NOVICE_CHECKIN_TITLE", e[e.SKILL_STATUS9 = 884] = "SKILL_STATUS9", e[e.CAPTURE_TIMES_NOT_ENOUGH = 2085] = "CAPTURE_TIMES_NOT_ENOUGH", e[e.MEMOIR = 499] = "MEMOIR", e[e.CAN_MIX_EVERY_CARD = 1522] = "CAN_MIX_EVERY_CARD", e[e.BATTLE_FAIL_TITLE_3 = 1722] = "BATTLE_FAIL_TITLE_3", e[e.LIVE = 1912] = "LIVE", e[e.HORSE_TRAIN_SKILL = 528] = "HORSE_TRAIN_SKILL", e[e.BEGGINNER_TASKS = 1331] = "BEGGINNER_TASKS", e[e.UNION_BATTLE_CHAMPION = 1982] = "UNION_BATTLE_CHAMPION", e[e.PROMPT_SUB_CACHE = 530] = "PROMPT_SUB_CACHE", e[e.BATTLE_DESC_06 = 1602] = "BATTLE_DESC_06", e[e.BATTLE_FAIL_CONTENT_2 = 1725] = "BATTLE_FAIL_CONTENT_2", e[e.NATURE_DRAGON = 1756] = "NATURE_DRAGON", e[e.SHOP = 1767] = "SHOP", e[e.ADD_HAND_CARD_FIRST = 115] = "ADD_HAND_CARD_FIRST", e[e.NOT_ENOUGH_STONE_LEGEND = 819] = "NOT_ENOUGH_STONE_LEGEND", e[e.COMPOSE = 565] = "COMPOSE", e[e.PLAYER_ONLINE = 1174] = "PLAYER_ONLINE", e[e.PUSH_TIP_GOLD_FULL = 1486] = "PUSH_TIP_GOLD_FULL", e[e.QQ_BBS = 1910] = "QQ_BBS", e[e.SERVER_ERROR = 249] = "SERVER_ERROR", e[e.BATTLE_CARD_EXTRA_DAMAGE = 1695] = "BATTLE_CARD_EXTRA_DAMAGE", e[e.DISPLAY_CARDS_WITH_SKILL = 1241] = "DISPLAY_CARDS_WITH_SKILL", e[e.VIP_CONTENT_15 = 1563] = "VIP_CONTENT_15", e[e.MID_TRANING_WARRIOR = 126] = "MID_TRANING_WARRIOR", e[e.FIND_CLASH_SEASON_REVIEWING_2 = 947] = "FIND_CLASH_SEASON_REVIEWING_2", e[e.STATIONED = 488] = "STATIONED", e[e.EXPEDITION_DROP_CHANCE = 1515] = "EXPEDITION_DROP_CHANCE", e[e.COMMA_DUN = 162] = "COMMA_DUN", e[e.SURE_TO_SPLIT = 787] = "SURE_TO_SPLIT", e[e.INPUT_NAME_INVALID = 1237] = "INPUT_NAME_INVALID", e[e.UNION_WAR_ENDED = 1425] = "UNION_WAR_ENDED", e[e.LIMIT_PACKAGE = 92] = "LIMIT_PACKAGE", e[e.BATTLE_DIALOG_NO_BASE_MONSTER = 1678] = "BATTLE_DIALOG_NO_BASE_MONSTER", e[e.PUSH_TIP_GRAIN_NIGHT = 1482] = "PUSH_TIP_GRAIN_NIGHT", e[e.PLAYER_TROOP = 2025] = "PLAYER_TROOP", e[e.GIVEUP = 214] = "GIVEUP", e[e.RECRUITING = 738] = "RECRUITING", e[e.HORSE_TRAIN_PROMPT = 526] = "HORSE_TRAIN_PROMPT", e[e.DAY4 = 1327] = "DAY4", e[e.RELATIONS = 580] = "RELATIONS", e[e.RECHARGE7_TITLE = 1942] = "RECHARGE7_TITLE", e[e.BATTLE_CHAT_MAIN_EMPTY = 1712] = "BATTLE_CHAT_MAIN_EMPTY", e[e.WORLD_STARS = 1049] = "WORLD_STARS", e[e.FIND_CLASH_CHEST_LEGEND_TIP_CARD = 959] = "FIND_CLASH_CHEST_LEGEND_TIP_CARD", e[e.GET_PATH_ELITE = 736] = "GET_PATH_ELITE", e[e.BATTLE_DIALOG_NOTICE = 1660] = "BATTLE_DIALOG_NOTICE", e[e.SKIN_EXPIRE_IN = 1933] = "SKIN_EXPIRE_IN", e[e.BATTLE_NOT_UNLOCKED = 1580] = "BATTLE_NOT_UNLOCKED", e[e.CHOICE = 2040] = "CHOICE", e[e.NEWS_REBIRTH = 1102] = "NEWS_REBIRTH", e[e.CARD_CATEGORY_WATER = 1806] = "CARD_CATEGORY_WATER", e[e.CARD_KEYWORD_YSNL = 1838] = "CARD_KEYWORD_YSNL", e[e.TROOP_IMMUNITY_PHY = 1041] = "TROOP_IMMUNITY_PHY", e[e.NICKNAME_EXISTED = 1143] = "NICKNAME_EXISTED", e[e.INITIAL_CHOOSE_BACKUP = 2034] = "INITIAL_CHOOSE_BACKUP", e[e.ACTIVE_BONUS = 1919] = "ACTIVE_BONUS", e[e.DEC_DAMAGE = 1315] = "DEC_DAMAGE", e[e.POLISH = 535] = "POLISH", e[e.INVITED = 1154] = "INVITED", e[e.ROUND_ONLY = 1856] = "ROUND_ONLY", e[e.EXPLORE_LOCKED = 2063] = "EXPLORE_LOCKED", e[e.ACTIVITY_NONE = 355] = "ACTIVITY_NONE", e[e.CHANGE_USER = 1196] = "CHANGE_USER", e[e.ARENA_SHOP = 1467] = "ARENA_SHOP", e[e.CHANGE_REGION = 1195] = "CHANGE_REGION", e[e.INVITED_CONFIRM = 1162] = "INVITED_CONFIRM", e[e.CAPTURE_FAILED = 2082] = "CAPTURE_FAILED", e[e.LOTTERY_UNOPENED = 2006] = "LOTTERY_UNOPENED", e[e.SHOW_CHAT = 1963] = "SHOW_CHAT", e[e.POKEMON_LVL_1 = 1966] = "POKEMON_LVL_1", e[e.FIND_ARENA_TIME2 = 968] = "FIND_ARENA_TIME2", e[e.NEED_ATTACK_BEFORE_SWEEP = 206] = "NEED_ATTACK_BEFORE_SWEEP", e[e.CLAIM_CITY_REWARD_TIP = 1533] = "CLAIM_CITY_REWARD_TIP", e[e.LIST_EMPTY_UNION_TECH_HERO = 718] = "LIST_EMPTY_UNION_TECH_HERO", e[e.MERGE_RESULT = 1866] = "MERGE_RESULT", e[e.NOT_ENOUGH_HORSE_TRAIN_MAT = 822] = "NOT_ENOUGH_HORSE_TRAIN_MAT",e[e.RECOVERY = 575] = "RECOVERY",e[e.BATTLE_BOSS_PERCENT = 1715] = "BATTLE_BOSS_PERCENT",e[e.DEF_TROOP = 289] = "DEF_TROOP",e[e.BATTLE_CARD_MAX_ATK = 1702] = "BATTLE_CARD_MAX_ATK",e[e.TROOP_CARDS = 470] = "TROOP_CARDS",e[e.ALL_CARDS_OWNED = 701] = "ALL_CARDS_OWNED",e[e.BUY_SHIELD = 298] = "BUY_SHIELD",e[e.CAPTURE_LEAVE = 2079] = "CAPTURE_LEAVE",e[e.GAMECENTER_ID_CHANGED = 257] = "GAMECENTER_ID_CHANGED",e[e.CARD_DETAILS = 1792] = "CARD_DETAILS",e[e.DEFEAT_CHALLENGER = 1918] = "DEFEAT_CHALLENGER",e[e.BATTLE_CARD_ADD_HP_PERCENT = 1700] = "BATTLE_CARD_ADD_HP_PERCENT",e[e.BATTLE_COUNT = 1945] = "BATTLE_COUNT",e[e.NUM_4 = 1731] = "NUM_4",e[e.UNION_HIRE_MY = 1257] = "UNION_HIRE_MY",e[e.NOT_ENOUGH_GRAIN = 803] = "NOT_ENOUGH_GRAIN",e[e.MONTH_CARD_BONES_TIP = 67] = "MONTH_CARD_BONES_TIP",e[e.SYSTEM = 1082] = "SYSTEM",e[e.FRAGMENT = 646] = "FRAGMENT",e[e.GET_RECHARGE_BONUS = 85] = "GET_RECHARGE_BONUS",e[e.UNION_IMPEACH_NEWS = 1367] = "UNION_IMPEACH_NEWS",e[e.SURE_TO_SUPPLY = 791] = "SURE_TO_SUPPLY",e[e.EXCHANGE_ITEM_NOT_ENOUGH = 554] = "EXCHANGE_ITEM_NOT_ENOUGH",e[e.FIND_ARENA_TIPS = 966] = "FIND_ARENA_TIPS",e[e.NEWS_LOTTERY = 1100] = "NEWS_LOTTERY",e[e.CONTAIN_ILLEGAL_NAME = 842] = "CONTAIN_ILLEGAL_NAME",e[e.BATTLE_LOSE_COUNT = 406] = "BATTLE_LOSE_COUNT",e[e.FIRST_WAR_SELF_ROUND3_1 = 1619] = "FIRST_WAR_SELF_ROUND3_1",e[e.ISSUE_NO = 2007] = "ISSUE_NO",e[e.DULE_NOT_OPEN = 2120] = "DULE_NOT_OPEN",e[e.LOG = 995] = "LOG",e[e.COPYRIGHT_OWNER_EN = 10] = "COPYRIGHT_OWNER_EN",e[e.INPUT_PLAYER_NAME = 1233] = "INPUT_PLAYER_NAME",e[e.NUM_5 = 1732] = "NUM_5",e[e.GUIDE_CITY_NAME_4 = 197] = "GUIDE_CITY_NAME_4",e[e.UNION_BATTLE_ENDED = 1056] = "UNION_BATTLE_ENDED",e[e.EX_SHOP = 1780] = "EX_SHOP",e[e.BATTLE_FAIL_TITLE_2 = 1721] = "BATTLE_FAIL_TITLE_2",e[e.OPENING = 1455] = "OPENING",e[e.UNION_WAR_NOT_STARTED = 1429] = "UNION_WAR_NOT_STARTED",e[e.RECRUIT_HISTORY = 622] = "RECRUIT_HISTORY",e[e.LEADER = 1399] = "LEADER",e[e.SKILL_STATUS8 = 883] = "SKILL_STATUS8",e[e.EQUIP_POLISH_RANDOM = 525] = "EQUIP_POLISH_RANDOM",e[e.REPEAT = 312] = "REPEAT",e[e.FINISH_LIVE_BATTLE = 418] = "FINISH_LIVE_BATTLE",e[e.SOLD_OUT = 695] = "SOLD_OUT",e[e.SELECT_WORSHIP = 1405] = "SELECT_WORSHIP",e[e.FEW_AFTER_RECOVERY = 1860] = "FEW_AFTER_RECOVERY",e[e.SURE_TO_GIVEUP = 1225] = "SURE_TO_GIVEUP",e[e.FIGHT = 471] = "FIGHT",e[e.CARD_CATEGORY = 1797] = "CARD_CATEGORY",e[e.HUNT_TIMES = 753] = "HUNT_TIMES",e[e.UNION_CHALLENGE = 1260] = "UNION_CHALLENGE",e[e.GUARD = 683] = "GUARD",e[e.TIP = 458] = "TIP",e[e.HIRE_MATE_NO_MONSTER = 1308] = "HIRE_MATE_NO_MONSTER",e[e.PRODUCTS_GET = 696] = "PRODUCTS_GET",e[e.SELECT_PERSON = 586] = "SELECT_PERSON",e[e.TROOP_TOGETHER = 584] = "TROOP_TOGETHER",e[e.GUIDE_SCENE_05 = 2115] = "GUIDE_SCENE_05",e[e.SELECT_CARD_FIRST = 112] = "SELECT_CARD_FIRST",e[e.PROGRESS = 429] = "PROGRESS",e[e.POLISH_RESULT = 562] = "POLISH_RESULT",e[e.BASE_HP = 490] = "BASE_HP",e[e.ACTIVITY_TOTAL_PAYNENT = 265] = "ACTIVITY_TOTAL_PAYNENT",e[e.THIS_CARD = 737] = "THIS_CARD",e[e.ACHIEVE_COST = 1200] = "ACHIEVE_COST",e[e.BATTLE_BOSS_TOTAL = 1718] = "BATTLE_BOSS_TOTAL",e[e.BATTLE_ACTIVITY_HORSE = 1653] = "BATTLE_ACTIVITY_HORSE",e[e.WAIT_FOR_NEXT_BATTLE = 2012] = "WAIT_FOR_NEXT_BATTLE",e[e.UNION_LOG = 998] = "UNION_LOG",e[e.UNION_CANT_APPLY = 1270] = "UNION_CANT_APPLY",e[e.CARD_CATEGORY_ROCK = 1805] = "CARD_CATEGORY_ROCK",e[e.TROPHY_RANK_ZONE = 399] = "TROPHY_RANK_ZONE",e[e.COMFIRM_COMPOSE_ERROR = 2011] = "COMFIRM_COMPOSE_ERROR",e[e.BATTLE_EXCARD_LIST = 1643] = "BATTLE_EXCARD_LIST",e[e.UNION_CUR_WAR_WILL_START = 1427] = "UNION_CUR_WAR_WILL_START",e[e.CARD_CATEGORY_EFFECT = 1821] = "CARD_CATEGORY_EFFECT",e[e.SURE_TO_SHARE = 1501] = "SURE_TO_SHARE",e[e.UNION_JOIN_CD = 1282] = "UNION_JOIN_CD",e[e.TRAP = 648] = "TRAP",e[e.EXPORT = 1904] = "EXPORT",e[e.BATTLE_DIALOG_ADDING_CARD = 1666] = "BATTLE_DIALOG_ADDING_CARD",e[e.HUNT_YELLOW = 755] = "HUNT_YELLOW",e[e.CHOICE_TITLE_4117_2 = 1855] = "CHOICE_TITLE_4117_2",e[e.SHU = 1029] = "SHU",e[e.BUG = 1123] = "BUG",e[e.RECHARGE = 37] = "RECHARGE",e[e.NATURE_STEEL = 1754] = "NATURE_STEEL",e[e.ASSISTANT_HERO = 1389] = "ASSISTANT_HERO",e[e.SKILL_TYPE_5 = 865] = "SKILL_TYPE_5",e[e.LEVEL_UP_HP = 512] = "LEVEL_UP_HP",e[e.EXIT_GROUP = 1972] = "EXIT_GROUP",e[e.UNION_KICKOUT_SUCCESS = 1372] = "UNION_KICKOUT_SUCCESS",e[e.MONTH_CARD = 55] = "MONTH_CARD",e[e.END_AFTER = 633] = "END_AFTER",e[e.CARD_KEYWORD = 1822] = "CARD_KEYWORD",e[e.SWAP_CHOOSE = 2035] = "SWAP_CHOOSE",e[e.CARD_CATEGORY_INSECT = 1813] = "CARD_CATEGORY_INSECT",e[e.UNION_CAMP = 1419] = "UNION_CAMP",e[e.UNION_MARKET_TIP = 1247] = "UNION_MARKET_TIP",e[e.NEED_MORE_CARD_FRAGMENT = 1042] = "NEED_MORE_CARD_FRAGMENT",e[e.BRACKETS_S = 1197] = "BRACKETS_S",e[e.UNION_TROOP = 463] = "UNION_TROOP",e[e.NEW_TRAINING = 123] = "NEW_TRAINING",e[e.DIFFICULTY = 1449] = "DIFFICULTY",e[e.DEPOT_MAGIC = 1766] = "DEPOT_MAGIC",e[e.BATTLE_ATTACK_WIN = 1645] = "BATTLE_ATTACK_WIN",e[e.CARD_KEYWORD_PHJS = 1844] = "CARD_KEYWORD_PHJS",e[e.BATTLE_DESC_04 = 1600] = "BATTLE_DESC_04",e[e.COPY = 994] = "COPY",e[e.BATTLE_DIALOG_ENERGY_NOT_USE = 1692] = "BATTLE_DIALOG_ENERGY_NOT_USE",e[e.USER_TITLE5 = 1066] = "USER_TITLE5",e[e.SURE_TO_BUY_UNION_FUND = 798] = "SURE_TO_BUY_UNION_FUND",e[e.FIND_CLASH_RECORD = 950] = "FIND_CLASH_RECORD",e[e.CAN_ARRIVE = 592] = "CAN_ARRIVE",e[e.AUTHENTICATION_FAIL = 245] = "AUTHENTICATION_FAIL",e[e.PALACE_VISIT_RECRUIT = 1213] = "PALACE_VISIT_RECRUIT",e[e.NOT_JOIN_ANY_UNION = 1285] = "NOT_JOIN_ANY_UNION",e[e.UNION_CHAT = 1088] = "UNION_CHAT",e[e.GUIDE = 1610] = "GUIDE",e[e.BASE_ATK = 491] = "BASE_ATK",e[e.OR = 158] = "OR",e[e.CARD_DEAD_STATUS = 540] = "CARD_DEAD_STATUS",e[e.QQ_VPLUS = 1911] = "QQ_VPLUS",e[e.BUBBLE_DEFEND = 1870] = "BUBBLE_DEFEND",e[e.TECH = 1242] = "TECH",e[e.CARD_KEYWORD_QYBL = 1825] = "CARD_KEYWORD_QYBL",e[e.FUND_TASKS = 1955] = "FUND_TASKS",e[e.SURE_TO_UNTROOP = 797] = "SURE_TO_UNTROOP",e[e.LIST_EMPTY_NO_X = 711] = "LIST_EMPTY_NO_X",e[e.BATTLE_NAME_03 = 1589] = "BATTLE_NAME_03",e[e.NUM_10 = 1737] = "NUM_10",e[e.PROBABILITY = 2008] = "PROBABILITY",e[e.SKILL_STATUS11 = 886] = "SKILL_STATUS11",e[e.CLASSIC = 1957] = "CLASSIC",e[e.UNION_WOOD = 1341] = "UNION_WOOD",e[e.SKILL_TAP_TIP = 504] = "SKILL_TAP_TIP",e[e.COPY_PVP_UNLOCK = 901] = "COPY_PVP_UNLOCK",e[e.LIST_EMPTY_UNION = 714] = "LIST_EMPTY_UNION",e[e.NEED_UNION_HELP_SENT = 1016] = "NEED_UNION_HELP_SENT",e[e.YELLOW_COLOR = 599] = "YELLOW_COLOR",e[e.COMMON_PACKAGE = 2038] = "COMMON_PACKAGE",e[e.MONTHLY_HERO = 625] = "MONTHLY_HERO",e[e.LORD_UNLOCK_LEVEL = 1516] = "LORD_UNLOCK_LEVEL",e[e.ALL_FULL = 439] = "ALL_FULL",e[e.DECOMPOSE = 566] = "DECOMPOSE",e[e.CARD_CATEGORY_UNDEAD = 1815] = "CARD_CATEGORY_UNDEAD",e[e.CITY_OWNER = 486] = "CITY_OWNER",e[e.CHANNEL_YH = 7] = "CHANNEL_YH",e[e.NOT_ENOUGH_RECRUITTOKEN = 811] = "NOT_ENOUGH_RECRUITTOKEN",e[e.ATTRIBUTE = 1507] = "ATTRIBUTE",e[e.TROPHY_SEASON_MAX = 1941] = "TROPHY_SEASON_MAX",e[e.UNTROOPED = 669] = "UNTROOPED",e[e.VIP_CONTENT_9 = 1557] = "VIP_CONTENT_9",e[e.CONFIRM_CHAT_BAN = 840] = "CONFIRM_CHAT_BAN",e[e.COLLECT = 590] = "COLLECT",e[e.SWEEP_CONDITION = 1131] = "SWEEP_CONDITION",e[e.LORD = 428] = "LORD",e[e.BATTLE_BOARD = 1640] = "BATTLE_BOARD",e[e.AUDIO_DEVELOP = 20] = "AUDIO_DEVELOP",e[e.GRADE = 509] = "GRADE",e[e.UNION_LEADER_OPERATE = 1356] = "UNION_LEADER_OPERATE",e[e.CHALLENGE = 919] = "CHALLENGE",e[e.SUGGESTION = 1125] = "SUGGESTION",e[e.CARD_LIST = 1896] = "CARD_LIST",e[e.REACH_MAX_LEVEL = 742] = "REACH_MAX_LEVEL",e[e.COMFIRM_COMPOSE_FRAGMENT = 2009] = "COMFIRM_COMPOSE_FRAGMENT",e[e.NEED_UNLOCK_CHARACTER_COUNT = 1882] = "NEED_UNLOCK_CHARACTER_COUNT",e[e.IS_USE_FRAGMENT = 185] = "IS_USE_FRAGMENT",e[e.NOT_ENOUGH_FLOWER_RARE = 820] = "NOT_ENOUGH_FLOWER_RARE",e[e.SPLIT_TO_FRAGMENT_HERO = 775] = "SPLIT_TO_FRAGMENT_HERO",e[e.RECOVER_BATTLE = 239] = "RECOVER_BATTLE",e[e.SKILL_TYPE_4 = 864] = "SKILL_TYPE_4",e[e.MONTH_CARD_CHECKIN_TITLE = 64] = "MONTH_CARD_CHECKIN_TITLE",e[e.UNLOCK_RANK_CLASH_TROPHY_TIP = 402] = "UNLOCK_RANK_CLASH_TROPHY_TIP",e[e.NEW_DAY_BEGIN = 337] = "NEW_DAY_BEGIN",e[e.PROP_AMOUNT = 1147] = "PROP_AMOUNT",e[e.RESTART = 147] = "RESTART",e[e.SKIN_DAY = 1930] = "SKIN_DAY",e[e.RECOMMEND_TROOP_TIP = 2028] = "RECOMMEND_TROOP_TIP",e[e.FEW_AFTER_DECOMPOSE = 1859] = "FEW_AFTER_DECOMPOSE",e[e.CONFIRM_AT_LEAST_ONE_IN_TROOP = 771] = "CONFIRM_AT_LEAST_ONE_IN_TROOP",e[e.MAGICTYPE_ITEM = 1759] = "MAGICTYPE_ITEM",e[e.RULE = 1990] = "RULE",e[e.SET_SKIN_SUCCEED = 1924] = "SET_SKIN_SUCCEED",e[e.FULL_IN_TROOP = 764] = "FULL_IN_TROOP",e[e.NOT_ENOUGH_INGOT = 804] = "NOT_ENOUGH_INGOT",e[e.VIP_CONTENT_4 = 1552] = "VIP_CONTENT_4",e[e.HISTORY_HIGHEST_FIGHT_VALUE = 446] = "HISTORY_HIGHEST_FIGHT_VALUE",e[e.NOT_ENOUGH_UNION_WOOD = 824] = "NOT_ENOUGH_UNION_WOOD",e[e.HIRE_ADD_TIP = 1293] = "HIRE_ADD_TIP",e[e.INITIAL_CHOOSE_MAIN = 2033] = "INITIAL_CHOOSE_MAIN",e[e.NEWS_RP1 = 1097] = "NEWS_RP1",e[e.TRAINER = 1611] = "TRAINER",e[e.PRIVILEGE = 1034] = "PRIVILEGE",e[e.WAIT_BATTLE_RESULT_RETRY = 241] = "WAIT_BATTLE_RESULT_RETRY",e[e.CHECKIN_MONTH_CARD = 373] = "CHECKIN_MONTH_CARD",e[e.WHETHER_USE_TOKEN = 127] = "WHETHER_USE_TOKEN",e[e.SHOW_CITY_BONUS = 208] = "SHOW_CITY_BONUS",e[e.SKIP_STORY = 412] = "SKIP_STORY",e[e.AT_LEAST_ONE_IN_TROOP = 767] = "AT_LEAST_ONE_IN_TROOP",e[e.BUY_INGOT_SUCCESS = 80] = "BUY_INGOT_SUCCESS",e[e.RANK_HISTORY = 1887] = "RANK_HISTORY",e[e.UNION_GIVE_FUND_DESC = 1353] = "UNION_GIVE_FUND_DESC",e[e.LORD_UNLOCK_LEVEL_SLOT = 1517] = "LORD_UNLOCK_LEVEL_SLOT",e[e.SKILL_STATUS_REF = 874] = "SKILL_STATUS_REF",e[e.DEVELOPING = 21] = "DEVELOPING",e[e.INVALID_ARG = 246] = "INVALID_ARG",e[e.UNION_RES_REACH_MAX_TIP = 1290] = "UNION_RES_REACH_MAX_TIP",e[e.CRUSADE = 1531] = "CRUSADE",e[e.CHECKIN_MONTH = 370] = "CHECKIN_MONTH",e[e.NUM_2 = 1729] = "NUM_2",e[e.NEWS_RP2 = 1098] = "NEWS_RP2",e[e.COMPLAINTS = 1124] = "COMPLAINTS",e[e.SHOP_CARD_MAX = 778] = "SHOP_CARD_MAX",e[e.BUY_SKIN_FAILED = 1927] = "BUY_SKIN_FAILED",e[e.CHAT_BAN_TIP = 219] = "CHAT_BAN_TIP",e[e.PASSED = 130] = "PASSED",e[e.SAME_CARD_IN_TROOP = 538] = "SAME_CARD_IN_TROOP",e[e.SERVER_RANK = 390] = "SERVER_RANK",e[e.PROPS_TYPE_HONOR = 271] = "PROPS_TYPE_HONOR",e[e.CHOICE_TITLE_SPECIAL_SUMMON = 1848] = "CHOICE_TITLE_SPECIAL_SUMMON",e[e.PERSONAL = 1322] = "PERSONAL",e[e.IMAGE_DESIGN = 19] = "IMAGE_DESIGN",e[e.MANAGE = 410] = "MANAGE",e[e.DARK_BATTLE = 2014] = "DARK_BATTLE",e[e.NEWS_COPY_PVP_DEFEND_WIN = 1114] = "NEWS_COPY_PVP_DEFEND_WIN",e[e.AUTO_ADD = 579] = "AUTO_ADD",e[e.UNION_NOT_IN = 1374] = "UNION_NOT_IN",e[e.SELECT_STATIONED_HERO = 1529] = "SELECT_STATIONED_HERO",e[e.RANK_BONUS_BOSS_DESC2 = 388] = "RANK_BONUS_BOSS_DESC2",e[e.RECHARGE_AGAIN = 591] = "RECHARGE_AGAIN",e[e.INIT_TROOP = 277] = "INIT_TROOP",e[e.COLON = 1074] = "COLON",e[e.DESC_POWER = 2046] = "DESC_POWER",e[e.TROOP_NOT_FULL = 1979] = "TROOP_NOT_FULL",e[e.NEWS_UNION_UPGRADE = 1109] = "NEWS_UNION_UPGRADE",e[e.ACCEPT = 1202] = "ACCEPT",e[e.NOT_ENOUGH_PURPLE_HERO_F_BOX = 807] = "NOT_ENOUGH_PURPLE_HERO_F_BOX",e[e.BATTLE_CARD_EXTRA_SKILL = 1693] = "BATTLE_CARD_EXTRA_SKILL",e[e.BATTLE_DESC_09 = 1605] = "BATTLE_DESC_09",e[e.GACHA_ENTER = 2092] = "GACHA_ENTER",e[e.SINGLE_MATCH = 1968] = "SINGLE_MATCH",e[e.GUIDE_VIDEO = 1612] = "GUIDE_VIDEO",e[e.CARD_KEYWORD_YS = 1830] = "CARD_KEYWORD_YS",e[e.REBEL = 1075] = "REBEL",e[e.BATCH_END = 96] = "BATCH_END",e[e.UNION_GIVE_FUND = 1351] = "UNION_GIVE_FUND",e[e.PASS_BONUS = 1130] = "PASS_BONUS",e[e.CONFIRM_SWEEP_INGOT = 837] = "CONFIRM_SWEEP_INGOT",e[e.CAN_REBIRTH_TO = 523] = "CAN_REBIRTH_TO",e[e.MAX = 167] = "MAX",e[e.GUARD_REMAIN_TIME = 687] = "GUARD_REMAIN_TIME",e[e.SPLIT_TO_FRAGMENT_EQUIP = 776] = "SPLIT_TO_FRAGMENT_EQUIP",e[e.HERO_LEAVE = 1227] = "HERO_LEAVE",e[e.BATTLE_SCORE_RANK = 1584] = "BATTLE_SCORE_RANK",e[e.FIRST_RECHARGE_BONUS_TIP = 89] = "FIRST_RECHARGE_BONUS_TIP",e[e.UNION_MY = 1255] = "UNION_MY",e[e.UNION_WAR_ACTIVE = 1434] = "UNION_WAR_ACTIVE",e[e.ALREADY_IN_TEAM = 1977] = "ALREADY_IN_TEAM",e[e.BATTLE_ACTIVITY_SHU = 1650] = "BATTLE_ACTIVITY_SHU",e[e.ROOM_KICK_OUT_TIP = 1387] = "ROOM_KICK_OUT_TIP",e[e.CHAPTER = 1072] = "CHAPTER",e[e.CAPTURE_SUCCESS = 2081] = "CAPTURE_SUCCESS",e[e.REGION_A_TO_B = 1540] = "REGION_A_TO_B",e[e.SHEN = 1032] = "SHEN",e[e.UNION_TECH_SELF_LIMIT = 1280] = "UNION_TECH_SELF_LIMIT",e[e.COM_FRAG_HORSE = 28] = "COM_FRAG_HORSE",e[e.DESC_SLEEP = 2047] = "DESC_SLEEP",e[e.LIST_EMPTY_NO_BONUS = 703] = "LIST_EMPTY_NO_BONUS",e[e.DARK_DUEL_NOT_STARTED = 2030] = "DARK_DUEL_NOT_STARTED",e[e.SEEK_OPPONENT = 860] = "SEEK_OPPONENT",e[e.BULLETIN = 1085] = "BULLETIN",e[e.VIP_CONTENT_11 = 1559] = "VIP_CONTENT_11",e[e.SKILL_TYPE_7 = 867] = "SKILL_TYPE_7",e[e.INVITED_WITH_PLAYER = 1161] = "INVITED_WITH_PLAYER",e[e.POKEMON_LVL_0 = 1965] = "POKEMON_LVL_0",e[e.OPPOSITE_SHIELD = 1170] = "OPPOSITE_SHIELD",e[e.GOD_SHOP = 1770] = "GOD_SHOP",e[e.MAIN_TASK_CARD = 345] = "MAIN_TASK_CARD",e[e.CONFIRM_AGREEMENT = 12] = "CONFIRM_AGREEMENT",e[e.CLAIM = 479] = "CLAIM",e[e.RECHARGE_PACKAGE = 86] = "RECHARGE_PACKAGE",e[e.DAY3 = 1326] = "DAY3",e[e.PALACE_REVIEW_RECOMMEND_HERO = 226] = "PALACE_REVIEW_RECOMMEND_HERO",e[e.FRAGMENT_OBTAIN_PATH = 1471] = "FRAGMENT_OBTAIN_PATH",e[e.ROB_GOLD_RECOMMEND_TIP = 1511] = "ROB_GOLD_RECOMMEND_TIP",e[e.NOTSELL = 748] = "NOTSELL",e[e.TOTAL_RANK_TIP = 972] = "TOTAL_RANK_TIP",e[e.GET_LOSE = 2021] = "GET_LOSE",e[e.BATTLE_SHARED = 1500] = "BATTLE_SHARED",e[e.CAN_CLAIM = 593] = "CAN_CLAIM",e[e.EXCHANGE_RESOURCE = 2104] = "EXCHANGE_RESOURCE",e[e.PUSH_UNION_HELP = 1476] = "PUSH_UNION_HELP",e[e.MAX_S = 166] = "MAX_S",e[e.INPUT_MESSAGE = 1240] = "INPUT_MESSAGE",e[e.SURE_TO_EXCHANGE_FRAGMENT = 782] = "SURE_TO_EXCHANGE_FRAGMENT",e[e.FUND = 327] = "FUND",e[e.REGION_LOADING = 1539] = "REGION_LOADING",e[e.REGION_LIST = 1538] = "REGION_LIST",e[e.HORSE_TRAIN_ADV = 536] = "HORSE_TRAIN_ADV",e[e.SWEEP = 200] = "SWEEP",e[e.MINUTE_AGO = 1442] = "MINUTE_AGO",e[e.GET_GOLD = 102] = "GET_GOLD",e[e.TYPE = 650] = "TYPE",e[e.SELECTED = 559] = "SELECTED",e[e.FRAGMENT_SHOP1 = 1469] = "FRAGMENT_SHOP1",e[e.FIND_CLASH_LEGEND_RECORD = 951] = "FIND_CLASH_LEGEND_RECORD",e[e.POWER = 493] = "POWER",e[e.FINISHED = 472] = "FINISHED",e[e.MANAGE_CARDS = 1973] = "MANAGE_CARDS",e[e.SWEEP_EXPEDITION = 202] = "SWEEP_EXPEDITION",e[e.EXCHANGE_CODE_EXPIRED = 1180] = "EXCHANGE_CODE_EXPIRED",e[e.SELECT_MULTI_NEED = 1784] = "SELECT_MULTI_NEED",e[e.NUM_3 = 1730] = "NUM_3",e[e.CANNOT_REC_HP = 97] = "CANNOT_REC_HP",e[e.DESC_BURN = 2049] = "DESC_BURN",e[e.IGNORE_CHAOS = 179] = "IGNORE_CHAOS",e[e.ARTIFACT = 1996] = "ARTIFACT",e[e.CONTINUE = 411] = "CONTINUE",e[e.NEWS_VISIT = 1105] = "NEWS_VISIT",e[e.SELECT_NATURE = 236] = "SELECT_NATURE",e[e.PROPS_TYPE_DECORATION = 274] = "PROPS_TYPE_DECORATION",e[e.PROPS_TYPE_PALACE = 272] = "PROPS_TYPE_PALACE",e[e.BUYSUCCESS = 691] = "BUYSUCCESS",e[e.MATCH_START_NOT_ALLOWED = 982] = "MATCH_START_NOT_ALLOWED",e[e.TOTAL_RANK = 397] = "TOTAL_RANK",e[e.CARD_CATEGORY_MACHINERY = 1801] = "CARD_CATEGORY_MACHINERY",e[e.DAILY_TIME_TIP = 368] = "DAILY_TIME_TIP",e[e.UNION_WORD = 1252] = "UNION_WORD",e[e.USE_TIMES = 216] = "USE_TIMES",e[e.BATTLE_NAME_09 = 1595] = "BATTLE_NAME_09",e[e.MONTH = 170] = "MONTH",e[e.GOT_VOID_DIAMOND = 1967] = "GOT_VOID_DIAMOND",e[e.ACTIVE_POINT = 484] = "ACTIVE_POINT",e[e.BATTLE_NAME_01 = 1587] = "BATTLE_NAME_01",e[e.HORSE_TRAIN_RANDOM = 527] = "HORSE_TRAIN_RANDOM",e[e.UNION_ADVENTURE = 1774] = "UNION_ADVENTURE",e[e.FIRST_WAR_SELF_ROUND2_2 = 1616] = "FIRST_WAR_SELF_ROUND2_2",e[e.INPUT_GROUP_NAME = 106] = "INPUT_GROUP_NAME",e[e.EVOLUTION_LEVEL = 520] = "EVOLUTION_LEVEL",e[e.UNION_BATTLE_STARTED = 1055] = "UNION_BATTLE_STARTED",e[e.BRACKETS_D = 1198] = "BRACKETS_D",e[e.EXPLORE_CAPTURE_LOCKED = 2065] = "EXPLORE_CAPTURE_LOCKED",e[e.NOW = 1444] = "NOW",e[e.RP_HIGH = 1117] = "RP_HIGH",e[e.CANCEL = 165] = "CANCEL",e[e.CITY_IS_FOCUSED = 1134] = "CITY_IS_FOCUSED",e[e.UPDATE = 377] = "UPDATE",e[e.UNION_HELPING_BY = 1009] = "UNION_HELPING_BY",e[e.LOSE_S = 1046] = "LOSE_S",e[e.PASS_TRAINING = 129] = "PASS_TRAINING",e[e.FIND_MATCH_NPC = 930] = "FIND_MATCH_NPC",e[e.CAN = 681] = "CAN",e[e.RECOVER_DARK = 242] = "RECOVER_DARK",e[e.MATCH_OBSERVE_POS = 985] = "MATCH_OBSERVE_POS",e[e.SKILL_STATUS21 = 896] = "SKILL_STATUS21",e[e.UNION_WAR_NOT_IN_TIME = 1431] = "UNION_WAR_NOT_IN_TIME",e[e.ANDROID_TEST_TIP_1 = 1900] = "ANDROID_TEST_TIP_1",e[e.AFTER_FINISH_LEGEND = 430] = "AFTER_FINISH_LEGEND",e[e.SELECT_TROOP = 466] = "SELECT_TROOP",e[e.CHANGE_NAME = 1191] = "CHANGE_NAME",e[e.GROUP_INFO = 1984] = "GROUP_INFO",e[e.DISCONNECT = 254] = "DISCONNECT",e[e.UNION_FIRE_MEMBER = 1343] = "UNION_FIRE_MEMBER",e[e.VIP_CHECKIN_TIP = 52] = "VIP_CHECKIN_TIP",e[e.HIRE_TIME = 1301] = "HIRE_TIME",e[e.GROUP_KICK_OUT_TIP = 110] = "GROUP_KICK_OUT_TIP",e[e.BAN_LOGIN_FOREVER = 139] = "BAN_LOGIN_FOREVER",e[e.NOT_ENOUGH = 827] = "NOT_ENOUGH",e[e.LEVEL_UP_SLOT = 514] = "LEVEL_UP_SLOT",e[e.LIST_EMPTY_BOSS = 715] = "LIST_EMPTY_BOSS",e[e.ROOM_LEADER = 1402] = "ROOM_LEADER",e[e.UNION_INVITE_MSG = 1361] = "UNION_INVITE_MSG",e[e.FAILED = 460] = "FAILED",e[e.USE = 1060] = "USE",e[e.FIND_TROPHY_REMAIN = 935] = "FIND_TROPHY_REMAIN",e[e.UNLOCK_LEVEL = 1520] = "UNLOCK_LEVEL",e[e.UNION_NAME = 1250] = "UNION_NAME",e[e.PLAYER_OFFLINE = 1175] = "PLAYER_OFFLINE",e[e.BATTLE_NAME_04 = 1590] = "BATTLE_NAME_04",e[e.BUYFAIL = 692] = "BUYFAIL",e[e.FIRE_TROOP = 281] = "FIRE_TROOP",e[e.BATTLE_WIN_PROGRESS = 408] = "BATTLE_WIN_PROGRESS",e[e.SKILL_TYPE_6 = 866] = "SKILL_TYPE_6",e[e.DEFENCE_S = 923] = "DEFENCE_S",e[e.CARD_INFO = 1503] = "CARD_INFO",e[e.NOVICE_CHECKIN_TIP = 48] = "NOVICE_CHECKIN_TIP",e[e.RANK_RANGE = 389] = "RANK_RANGE",e[e.MONTH_CARD1 = 61] = "MONTH_CARD1",e[e.TRANSFER_NEED_MORE_CARDS = 1763] = "TRANSFER_NEED_MORE_CARDS",e[e.NEED_MORE_FRAGMENT_RES2 = 188] = "NEED_MORE_FRAGMENT_RES2",e[e.HIRE_NOT_FOUND = 1294] = "HIRE_NOT_FOUND",e[e.BATTLE_WIN = 2018] = "BATTLE_WIN",e[e.STORY_LINE = 1073] = "STORY_LINE",e[e.ACTIVITY_PAYMENT_3 = 318] = "ACTIVITY_PAYMENT_3",e[e.CARD_CATEGORY_THUND = 1819] = "CARD_CATEGORY_THUND",e[e.FRAGMENT_EXCHANGE = 548] = "FRAGMENT_EXCHANGE",e[e.CURRENT_ROOM_MEMBER = 1944] = "CURRENT_ROOM_MEMBER",e[e.UNION_IMPEACH_LAST = 1349] = "UNION_IMPEACH_LAST",e[e.TROOP_RARE_COUNT = 1961] = "TROOP_RARE_COUNT",e[e.CONFIRM_REFRESH_PRODUCTS = 835] = "CONFIRM_REFRESH_PRODUCTS",e[e.CARD_KEYWORD_XXG = 1842] = "CARD_KEYWORD_XXG",e[e.BATTLE_NOT_ALLOWED = 978] = "BATTLE_NOT_ALLOWED",e[e.BATCH = 1906] = "BATCH",e[e.CHECKIN = 369] = "CHECKIN",e[e.OPPONENT_ONLINE = 1172] = "OPPONENT_ONLINE",e[e.CARD_CAPACITY_EXPAND_TO = 759] = "CARD_CAPACITY_EXPAND_TO",e[e.DARK_BATTLE_CHAMPION = 2016] = "DARK_BATTLE_CHAMPION",e[e.ENTER_GROUP_BATTLE = 1970] = "ENTER_GROUP_BATTLE",e[e.FIND_CLASH_CHEST_NORMAL_TIP = 954] = "FIND_CLASH_CHEST_NORMAL_TIP",e[e.SKILL_ADDITION_DESC = 1509] = "SKILL_ADDITION_DESC",e[e.VIP_CONTENT_16 = 1564] = "VIP_CONTENT_16",e[e.CLAIM_ALL = 483] = "CLAIM_ALL",e[e.GAME_MANAGER = 1245] = "GAME_MANAGER",e[e.WINNING_PERCENTAGE = 1040] = "WINNING_PERCENTAGE",e[e.LORD_UNLOCK_VIP = 1519] = "LORD_UNLOCK_VIP",e[e.ATTACK_LOG = 996] = "ATTACK_LOG",e[e.UNION_ALREADY_IN = 1375] = "UNION_ALREADY_IN",e[e.BATTLE_RETURN = 1655] = "BATTLE_RETURN",e[e.KILL_AUTO_ACTIVE = 434] = "KILL_AUTO_ACTIVE",e[e.CHOOSE_BASE_MONSTER = 2036] = "CHOOSE_BASE_MONSTER",e[e.PVP_SHOP = 1466] = "PVP_SHOP",e[e.ROUND_N = 1738] = "ROUND_N",e[e.GUIDE_BG_3 = 191] = "GUIDE_BG_3",e[e.AUDIO_EFFECT = 1448] = "AUDIO_EFFECT",e[e.BATTLE_FAIL_CONTENT_3 = 1726] = "BATTLE_FAIL_CONTENT_3",e[e.UNION_DEFEATED = 1424] = "UNION_DEFEATED",e[e.TAB_PROP_4 = 2099] = "TAB_PROP_4",e[e.MEMBER_CONTRIBUTE = 1335] = "MEMBER_CONTRIBUTE",e[e.BONUS_RULE = 380] = "BONUS_RULE",e[e.COLLECT_GOLD_COUNT = 1788] = "COLLECT_GOLD_COUNT",e[e.ACITIVITY_TIP3 = 2137] = "ACITIVITY_TIP3",e[e.UNION_UPGRADE_UNLOCK_TECH = 1578] = "UNION_UPGRADE_UNLOCK_TECH",e[e.INVITED_TIP = 1159] = "INVITED_TIP",e[e.CHOICE_TITLE_EXCHANGE = 1853] = "CHOICE_TITLE_EXCHANGE",e[e.SETTING_OPEN = 1454] = "SETTING_OPEN",e[e.CARD_CAPACITY_NEED_MORE = 757] = "CARD_CAPACITY_NEED_MORE",e[e.TOTAL_REWARD_TIP = 1275] = "TOTAL_REWARD_TIP",e[e.ACTIVITY_NAME_25_S = 1997] = "ACTIVITY_NAME_25_S",e[e.BATTLE_DIALOG_GRAVE = 1684] = "BATTLE_DIALOG_GRAVE",e[e.LADDER_RESET_LOSE_DONE = 1891] = "LADDER_RESET_LOSE_DONE",e[e.LIST_EMPTY_SEARCH = 712] = "LIST_EMPTY_SEARCH",e[e.DARK_START_TIP = 2e3] = "DARK_START_TIP",e[e.CARD_CATEGORY_BEGIN = 1798] = "CARD_CATEGORY_BEGIN",e[e.HIRE_NEED_MONSTER = 1304] = "HIRE_NEED_MONSTER",e[e.OPPOSITE_NOT_FOUND = 1171] = "OPPOSITE_NOT_FOUND",e[e.NOT_IN_TEAM = 1978] = "NOT_IN_TEAM",e[e.VIP = 1909] = "VIP",e[e.SKILL = 501] = "SKILL",e[e.SECOND = 176] = "SECOND",e[e.BATTLE_DIALOG_SPECIAL_SUMMON_INVALID = 1668] = "BATTLE_DIALOG_SPECIAL_SUMMON_INVALID",e[e.FIND_CLASH_LEGEND_AVATARS = 961] = "FIND_CLASH_LEGEND_AVATARS",e[e.VIP_CONTENT_24 = 1572] = "VIP_CONTENT_24",e[e.USER_TITLE9 = 1070] = "USER_TITLE9",e[e.FIRST_WAR_OPPO_ROUND2_1 = 1617] = "FIRST_WAR_OPPO_ROUND2_1",e[e.SELECT_TARGET_TITLE_02 = 1862] = "SELECT_TARGET_TITLE_02",e[e.WIN_CONTINOUS_ALL = 1939] = "WIN_CONTINOUS_ALL",e[e.NEXT_STORY = 2058] = "NEXT_STORY",e[e.CURRENT_OWN = 605] = "CURRENT_OWN",e[e.DOUBLE = 39] = "DOUBLE",e[e.WAIT_MEMBER = 1980] = "WAIT_MEMBER",e[e.CHANGE_OUTLOOK = 1190] = "CHANGE_OUTLOOK",e[e.ADD_GRAVE_CARD_FIRST = 113] = "ADD_GRAVE_CARD_FIRST",e[e.BATTLE_ATK_UI_WEAKNESS = 132] = "BATTLE_ATK_UI_WEAKNESS",e[e.SNOWBALL_TIMES = 1629] = "SNOWBALL_TIMES",e[e.MESSAGE = 1243] = "MESSAGE",e[e.PAGE_SUFFIX = 656] = "PAGE_SUFFIX",e[e.HIRE_NO_MONSTER = 1305] = "HIRE_NO_MONSTER",e[e.CARD_KEYWORD_SQS = 1836] = "CARD_KEYWORD_SQS",e[e.START_END_TIME_MORE = 989] = "START_END_TIME_MORE",e[e.NOT_ACTIVATE_TROOP = 469] = "NOT_ACTIVATE_TROOP",e[e.DATA_ERROR = 251] = "DATA_ERROR",e[e.CARD_NUM = 1623] = "CARD_NUM",e[e.SAME_HERO = 558] = "SAME_HERO",e[e.ACTIVITY_LEFT_TIME = 262] = "ACTIVITY_LEFT_TIME",e[e.FIND_TROPHY_LEVEL_LIMIT = 937] = "FIND_TROPHY_LEVEL_LIMIT",e[e.RESET = 678] = "RESET",e[e.NEED_MORE_EXCHANGE_RES = 183] = "NEED_MORE_EXCHANGE_RES",e[e.REBIRTH_RESULT = 561] = "REBIRTH_RESULT",e[e.HOUR_AGO = 1441] = "HOUR_AGO",e[e.EXPLORE_TOKEN = 2062] = "EXPLORE_TOKEN",e[e.PROPS_TYPE_CONSUMABLE = 269] = "PROPS_TYPE_CONSUMABLE",e[e.BATTLE_CHAT_ROUND_EXCEED = 1708] = "BATTLE_CHAT_ROUND_EXCEED",e[e.SHARE_TIME = 1499] = "SHARE_TIME",e[e.BATTLE_DEFENCE_WIN = 1647] = "BATTLE_DEFENCE_WIN",e[e.CONTRIBUTE = 1334] = "CONTRIBUTE",e[e.CHECK_SELECT_HERO = 557] = "CHECK_SELECT_HERO",e[e.CURRENT_CHARACTER = 1873] = "CURRENT_CHARACTER",e[e.BATTLE_DIALOG_CANNOT_EFFECT = 1687] = "BATTLE_DIALOG_CANNOT_EFFECT",e[e.RUN_FREE = 1903] = "RUN_FREE",e[e.SURE_TO_RECHARGE = 788] = "SURE_TO_RECHARGE",e[e.LADDER_SELECT_NATURE_TIP = 2132] = "LADDER_SELECT_NATURE_TIP",e[e.REFUSE_APPLY = 1287] = "REFUSE_APPLY",e[e.INVALID_RESCUE = 1007] = "INVALID_RESCUE",e[e.ACTIVITY_PAYMENT_2 = 317] = "ACTIVITY_PAYMENT_2",e[e.RECRUIT_LEVEL_4 = 614] = "RECRUIT_LEVEL_4",e[e.PASSWORD = 304] = "PASSWORD",e[e.GUIDE_SCENE_01 = 2111] = "GUIDE_SCENE_01",e[e.NUM_1 = 1728] = "NUM_1",e[e.LOGIN_FAIL = 248] = "LOGIN_FAIL",e[e.MAX_EVOLUTION_LEVEL = 760] = "MAX_EVOLUTION_LEVEL",e[e.SELECT_COUNT_FIRST = 1857] = "SELECT_COUNT_FIRST",e[e.SUCCESS = 459] = "SUCCESS",e[e.JOIN_ATTACK_WIN = 1632] = "JOIN_ATTACK_WIN",e[e.MAGICTYPE_SPECIAL = 1761] = "MAGICTYPE_SPECIAL",e[e.HOUR = 174] = "HOUR",e[e.LIFE = 492] = "LIFE",e[e.SET = 1127] = "SET",e[e.CHAPTER_MONSTER_TIP1 = 2133] = "CHAPTER_MONSTER_TIP1",e[e.FUND_TIP = 331] = "FUND_TIP",e[e.IGNORE_CHAT = 1964] = "IGNORE_CHAT",e[e.ANNOUNCEMENT = 477] = "ANNOUNCEMENT",e[e.NO_GREEN_BLUE = 740] = "NO_GREEN_BLUE",e[e.EXPLORED_CHEST = 2067] = "EXPLORED_CHEST",e[e.EVOLUTIONLEVEL = 743] = "EVOLUTIONLEVEL",e[e.RANDOM_MARKET = 1458] = "RANDOM_MARKET",e[e.ROOM_SHARE_SUCCESS = 1404] = "ROOM_SHARE_SUCCESS",e[e.HIRE_RECALL_TIP = 1312] = "HIRE_RECALL_TIP",e[e.NOVICE_CHECKIN_TIP_TEST = 49] = "NOVICE_CHECKIN_TIP_TEST",e[e.SET_SKIN_FAILED = 1925] = "SET_SKIN_FAILED",e[e.LOTTERY_FRAGMENT_TIP = 1096] = "LOTTERY_FRAGMENT_TIP",e[e.UNION_BATTLE_ARENA = 1983] = "UNION_BATTLE_ARENA",e[e.BATTLE_DIALOG_NOT_ENOUGH_GEM = 1664] = "BATTLE_DIALOG_NOT_ENOUGH_GEM",e[e.NOTSWALLOW = 750] = "NOTSWALLOW",e[e.EXTRA_BONUS = 626] = "EXTRA_BONUS",e[e.CARD_AMOUNT = 1146] = "CARD_AMOUNT",e[e.FIND_ARENA_TIME = 967] = "FIND_ARENA_TIME",e[e.WIN_S = 1045] = "WIN_S",e[e.BATTLE_SHARE_COST = 1713] = "BATTLE_SHARE_COST",e[e.MYSTERY_MARKET = 1459] = "MYSTERY_MARKET",e[e.UNION_CHANGE_JOB_NEWS = 1370] = "UNION_CHANGE_JOB_NEWS",e[e.ACTIVITY_CONSUME_TIP = 364] = "ACTIVITY_CONSUME_TIP",e[e.CANCEL_INVITE_1 = 1893] = "CANCEL_INVITE_1",e[e.TOP = 306] = "TOP",e[e.ADD_RARE_CARD_FIRST = 114] = "ADD_RARE_CARD_FIRST",e[e.SURE_TO_UNLOCK_CHARACTER_PROP = 1878] = "SURE_TO_UNLOCK_CHARACTER_PROP",e[e.UNLOCKED = 1506] = "UNLOCKED",e[e.DISCOUNT = 419] = "DISCOUNT",e[e.ACTIVITY_DSECRIPTION_2 = 321] = "ACTIVITY_DSECRIPTION_2",e[e.COUNTRY = 440] = "COUNTRY",e[e.BATTLE_FAIL_CONTENT_4 = 1727] = "BATTLE_FAIL_CONTENT_4",e[e.NOT_SOPPURT_YET = 199] = "NOT_SOPPURT_YET",e[e.CARD_SEP_SHU = 1022] = "CARD_SEP_SHU",e[e.POKEMON = 644] = "POKEMON",e[e.RANK_BONUS_DESC1 = 382] = "RANK_BONUS_DESC1",e[e.CRC_ERROR = 244] = "CRC_ERROR",e[e.ZAN = 1002] = "ZAN",e[e.SKILL_STATUS3 = 878] = "SKILL_STATUS3",e[e.LEAVE_AFTER = 424] = "LEAVE_AFTER",e[e.PERSONAL_FUND_1 = 2123] = "PERSONAL_FUND_1",e[e.WORLD_RANK = 391] = "WORLD_RANK",e[e.SKILL_TYPE_1 = 861] = "SKILL_TYPE_1",e[e.NEWS_OPEN_CHEST = 1106] = "NEWS_OPEN_CHEST",e[e.NORMAL = 148] = "NORMAL",e[e.ACHIEVE_COLLECT = 1199] = "ACHIEVE_COLLECT",e[e.USER_TITLE8 = 1069] = "USER_TITLE8",e[e.SURE_TO_RECRUIT = 1224] = "SURE_TO_RECRUIT",e[e.BATTLE_DIALOG_CANNOT_ATTACK = 1675] = "BATTLE_DIALOG_CANNOT_ATTACK",e[e.GACHA_AETHER = 2093] = "GACHA_AETHER",e[e.LEAVE_COUNTDOWN = 1058] = "LEAVE_COUNTDOWN",e[e.VIP_CONTENT_25 = 1573] = "VIP_CONTENT_25",e[e.PRODUCTS_REFRESH = 697] = "PRODUCTS_REFRESH",e[e.PROPS = 266] = "PROPS",e[e.SELECT = 1525] = "SELECT",e[e.CARD_KEYWORD_YSYX = 1837] = "CARD_KEYWORD_YSYX",e[e.PALACE_REVIEW = 1209] = "PALACE_REVIEW",e[e.CONSULTING = 1122] = "CONSULTING",e[e.UNION_FLAG_EXISTS = 1272] = "UNION_FLAG_EXISTS",e[e.UNION_JOIN_SUCCESS = 1332] = "UNION_JOIN_SUCCESS",e[e.TIME_LIMIT_PACKAGE = 1782] = "TIME_LIMIT_PACKAGE",e[e.LIMIT_PACKAGE_LARGE_1 = 1898] = "LIMIT_PACKAGE_LARGE_1",e[e.LOCK = 1504] = "LOCK",e[e.NOVICE_TASK_CANT_CLAIM = 340] = "NOVICE_TASK_CANT_CLAIM",e[e.TAVERN_TIP = 1949] = "TAVERN_TIP",e[e.BATTLE_DIALOG_CARD_NEED_TARGET0 = 1671] = "BATTLE_DIALOG_CARD_NEED_TARGET0",e[e.GET_PATH_LOTTERY_STONE = 733] = "GET_PATH_LOTTERY_STONE",e[e.TRAVEL = 924] = "TRAVEL",e[e.WATER_TROOP = 280] = "WATER_TROOP",e[e.MANUAL = 1614] = "MANUAL",e[e.PAUSE = 1e3] = "PAUSE",e[e.BATTLE_LOSE = 2019] = "BATTLE_LOSE",e[e.CARD_KEYWORD_SHZ = 1835] = "CARD_KEYWORD_SHZ",e[e.UNION_WAR_NO_ALIVE_CARD = 1430] = "UNION_WAR_NO_ALIVE_CARD",e[e.HIRE_INVALID = 1298] = "HIRE_INVALID",e[e.FREE = 631] = "FREE",e[e.UPGRADESUCCESS = 689] = "UPGRADESUCCESS",e[e.WORSHIP_TITLE2 = 1408] = "WORSHIP_TITLE2",e[e.UNEQUIPED = 677] = "UNEQUIPED",e[e.WORLD = 1083] = "WORLD",e[e.UNION_WAR_LAUNCH = 1435] = "UNION_WAR_LAUNCH",e[e.NICKNAME = 1142] = "NICKNAME",e[e.ONLINE_CHECKIN_TIP = 50] = "ONLINE_CHECKIN_TIP",e[e.RESOURCE = 273] = "RESOURCE",e[e.RECEIVER = 1438] = "RECEIVER",e[e.CONFIRM_LOTTERY_INGOT = 834] = "CONFIRM_LOTTERY_INGOT",e[e.COM_FRAG_USE_LIMIT = 29] = "COM_FRAG_USE_LIMIT",e[e.BUY_MONTH_CARD = 56] = "BUY_MONTH_CARD",e[e.ONLINE = 350] = "ONLINE",e[e.FORTRESS = 511] = "FORTRESS",e[e.CARD_KEYWORD_AHJ = 1843] = "CARD_KEYWORD_AHJ",e[e.OUT_OF_SYNC = 243] = "OUT_OF_SYNC",e[e.PUSH_GRAIN_NOON = 1472] = "PUSH_GRAIN_NOON",e[e.MORE_THAN_GRAIN_CAPACITY = 829] = "MORE_THAN_GRAIN_CAPACITY",e[e.ATK_VALUE = 495] = "ATK_VALUE",e[e.WATCH_STUDY = 2027] = "WATCH_STUDY",e[e.TECHNOLOGY_ENGINE = 18] = "TECHNOLOGY_ENGINE",e[e.ROUND = 1514] = "ROUND",e[e.TROOP_ALL_COUNT = 1962] = "TROOP_ALL_COUNT",e[e.BONUS_KILLED = 433] = "BONUS_KILLED",e[e.DISCARD_HAND_TIP_2 = 1865] = "DISCARD_HAND_TIP_2",e[e.ACTIVITY_FINISH = 359] = "ACTIVITY_FINISH",e[e.UNION_NAME_EXISTS = 1271] = "UNION_NAME_EXISTS",e[e.ROOM_ID = 305] = "ROOM_ID",e[e.PASS_CONDITION = 1129] = "PASS_CONDITION",e[e.SHARE_BATTLE_BY_SYS = 1496] = "SHARE_BATTLE_BY_SYS",e[e.CARD_KEYWORD_DTS = 1834] = "CARD_KEYWORD_DTS",e[e.CLEAR = 578] = "CLEAR",e[e.NPC_NAME = 1621] = "NPC_NAME",e[e.CARD_CATEGORY_PLANT = 1816] = "CARD_CATEGORY_PLANT",e[e.N_LEVEL = 993] = "N_LEVEL",e[e.HP_PT_VALUE = 497] = "HP_PT_VALUE",e[e.CARD_SEP_HORSE = 1025] = "CARD_SEP_HORSE",e[e.NEED_FRAGMENTS_MIX = 841] = "NEED_FRAGMENTS_MIX",e[e.UNION_HELP = 1005] = "UNION_HELP",e[e.UNION_SHOP_OWN = 1777] = "UNION_SHOP_OWN",e[e.INVALID_REPLAY = 1003] = "INVALID_REPLAY",e[e.NATURE_GOD = 1755] = "NATURE_GOD",e[e.ELDER = 1398] = "ELDER",e[e.HIRE_PERFECT_MONSTER = 1306] = "HIRE_PERFECT_MONSTER",e[e.SHORT_CLICK_TO_ADD_CARD = 99] = "SHORT_CLICK_TO_ADD_CARD",e[e.DESC_CHAOS = 2051] = "DESC_CHAOS",e[e.PUSH_TIP_PALACE_TASK = 1488] = "PUSH_TIP_PALACE_TASK",e[e.NEWS_EXPEDITION = 1103] = "NEWS_EXPEDITION",e[e.LOTTERY_OPENED = 2005] = "LOTTERY_OPENED",e[e.EXIT_GROUP_FIRST = 1988] = "EXIT_GROUP_FIRST",e[e.OPPONENT = 301] = "OPPONENT",e[e.SEASON_LAST_RANK = 976] = "SEASON_LAST_RANK",e[e.BIND_GCID_BOUND = 1741] = "BIND_GCID_BOUND",e[e.LIST_EMPTY_GROUP = 720] = "LIST_EMPTY_GROUP",e[e.BAN_LOGIN = 140] = "BAN_LOGIN",e[e.GUIDE_CITY_NAME_2 = 195] = "GUIDE_CITY_NAME_2",e[e.MAGICTYPE_NONE = 1758] = "MAGICTYPE_NONE",e[e.GUIDE_SCENE_02 = 2112] = "GUIDE_SCENE_02",e[e.PERSONAL_FUND_3 = 2125] = "PERSONAL_FUND_3",e[e.FIRST_WAR_SELF_ROUND2_1 = 1615] = "FIRST_WAR_SELF_ROUND2_1",e[e.SELECT_ALL = 310] = "SELECT_ALL",e[e.BATTLE_DIALOG_RETRY = 1662] = "BATTLE_DIALOG_RETRY",e[e.SNOWBALL_WIN = 1630] = "SNOWBALL_WIN",e[e.NOVICE_TASK_LOGIN_DAYS_TO_CLAIM = 339] = "NOVICE_TASK_LOGIN_DAYS_TO_CLAIM",e[e.PALACE_REVIEW_AT_LEAST_ONE_HERO = 230] = "PALACE_REVIEW_AT_LEAST_ONE_HERO",e[e.BATTLE_NAME_10 = 1596] = "BATTLE_NAME_10",e[e.FEEDBACK_PACKAGE = 1120] = "FEEDBACK_PACKAGE",e[e.TAB_PROP_2 = 2097] = "TAB_PROP_2",e[e.SELECT_RECOMMEND_HERO = 1528] = "SELECT_RECOMMEND_HERO",e[e.IGNORE = 1215] = "IGNORE",e[e.SELECT_MULTI_CURRENT = 1785] = "SELECT_MULTI_CURRENT",e[e.REBIRTH = 519] = "REBIRTH",e[e.BATTLE_ATK_UI_RESIST = 133] = "BATTLE_ATK_UI_RESIST",e[e.BIND_GCID_BOUND_LONG = 1742] = "BIND_GCID_BOUND_LONG",e[e.NATURE_FIRE = 1748] = "NATURE_FIRE",e[e.LEVEL = 453] = "LEVEL",e[e.NOTICE_FRAG_MARKET_OPEN = 1219] = "NOTICE_FRAG_MARKET_OPEN",e[e.FORGING = 532] = "FORGING",e[e.FIRST_CHARGE_TIP = 44] = "FIRST_CHARGE_TIP",e[e.ACITIVITY_TIP1 = 2135] = "ACITIVITY_TIP1",e[e.HIRE_LET_TIPS = 1303] = "HIRE_LET_TIPS",e[e.NOT_JOIN = 1284] = "NOT_JOIN",e[e.SUPER_PACKAGE = 91] = "SUPER_PACKAGE",e[e.REMAIN_DAYS = 57] = "REMAIN_DAYS",e[e.NOVICE_TEACH_TIP_01 = 2139] = "NOVICE_TEACH_TIP_01",e[e.SHOP_CARD_MAX_CONFIRM = 780] = "SHOP_CARD_MAX_CONFIRM",e[e.BATTLE_EXTRA_GOLD = 1719] = "BATTLE_EXTRA_GOLD",e[e.PROPS_SHOP = 1779] = "PROPS_SHOP",e[e.PURCHASED = 694] = "PURCHASED",e[e.ACTIVE = 353] = "ACTIVE",e[e.LIMIT_PACKAGE_LARGE_2 = 1899] = "LIMIT_PACKAGE_LARGE_2",e[e.INVITE_TIP = 1158] = "INVITE_TIP",e[e.BATTLE_CARD_EXTRA_FACE_COUNT = 1696] = "BATTLE_CARD_EXTRA_FACE_COUNT",e[e.SEASON_NUM = 974] = "SEASON_NUM",e[e.CONSUME_AVERAGE = 603] = "CONSUME_AVERAGE",e[e.BATTLE_NAME_05 = 1591] = "BATTLE_NAME_05",e[e.GROUP_JOIN_NOT_ALLOWED = 108] = "GROUP_JOIN_NOT_ALLOWED",e[e.NEWBIE_PACKAGE_TIP = 1989] = "NEWBIE_PACKAGE_TIP",e[e.CONSUME_MAX = 602] = "CONSUME_MAX",e[e.HIDE = 2042] = "HIDE",e[e.RECRUIT_LEVEL_1 = 611] = "RECRUIT_LEVEL_1",e[e.VIP_CONTENT_1 = 1549] = "VIP_CONTENT_1",e[e.LADDER_RESET_LOSE_TIP2 = 1889] = "LADDER_RESET_LOSE_TIP2",e[e.MONSTER = 643] = "MONSTER",e[e.UNION_UPGRADE_UNLOCK_MARKET = 1577] = "UNION_UPGRADE_UNLOCK_MARKET",e[e.SKILL_TYPE_3 = 863] = "SKILL_TYPE_3",e[e.AVATAR_MONSTER = 220] = "AVATAR_MONSTER",e[e.THU = 856] = "THU",e[e.CAMPAIGN = 920] = "CAMPAIGN",e[e.RETURN = 261] = "RETURN",e[e.BLUE_COLOR = 597] = "BLUE_COLOR";
            e[e.BATTLE_DIALOG_CARD_PILE = 1681] = "BATTLE_DIALOG_CARD_PILE", e[e.REPLAY = 999] = "REPLAY", e[e.LOTTERY = 751] = "LOTTERY", e[e.ARRIVE = 594] = "ARRIVE", e[e.PROPS_TYPE_ALL = 267] = "PROPS_TYPE_ALL", e[e.CHANGE_CARD_BACK = 1194] = "CHANGE_CARD_BACK", e[e.WORSHIP_TITLE3 = 1409] = "WORSHIP_TITLE3", e[e.REMAIN_BUY_TIMES = 59] = "REMAIN_BUY_TIMES", e[e.LIST_EMPTY_BOSS_UNION = 716] = "LIST_EMPTY_BOSS_UNION", e[e.MONTH_CARD_BONES_EXTAR = 68] = "MONTH_CARD_BONES_EXTAR", e[e.COMPOSE_TIP = 572] = "COMPOSE_TIP", e[e.BATTLE_CHAT_REMAIN_UNUSABLE = 1707] = "BATTLE_CHAT_REMAIN_UNUSABLE", e[e.FIND_CLASH_CHEST_RARE_TIP_CARD = 957] = "FIND_CLASH_CHEST_RARE_TIP_CARD", e[e.BATTLE_DIALOG_HAND_CARDS = 1663] = "BATTLE_DIALOG_HAND_CARDS", e[e.OK = 159] = "OK", e[e.BALL = 2043] = "BALL", e[e.CARD_KEYWORD_ZHY = 1831] = "CARD_KEYWORD_ZHY", e[e.CARD_KEYWORD_BEGIN = 1823] = "CARD_KEYWORD_BEGIN", e[e.EXPLORE_CAPTURE_LOCKED2 = 2066] = "EXPLORE_CAPTURE_LOCKED2", e[e.THIS_WEEK = 667] = "THIS_WEEK", e[e.BUFF_GET_EXTRA_DEC_HP = 2057] = "BUFF_GET_EXTRA_DEC_HP", e[e.PROMPT_DIG_COUNT = 531] = "PROMPT_DIG_COUNT", e[e.RECRUIT_LEGEND_BONUS_TIP = 627] = "RECRUIT_LEGEND_BONUS_TIP", e[e.ALL_CLAIMED = 1995] = "ALL_CLAIMED", e[e.CARD_ADVENCE = 2073] = "CARD_ADVENCE", e[e.GRACE = 1230] = "GRACE", e[e.RANK_BONUS_DESC4 = 385] = "RANK_BONUS_DESC4", e[e.SELL = 588] = "SELL", e[e.NOT_ENOUGH_UPGRADE_RES = 826] = "NOT_ENOUGH_UPGRADE_RES", e[e.LOST_ABILITY = 1314] = "LOST_ABILITY", e[e.BATTLE_SETTING_BUTTON = 1585] = "BATTLE_SETTING_BUTTON", e[e.CHANNEL_OFFICIAL = 5] = "CHANNEL_OFFICIAL", e[e.MAIN_TASK_CHAPTER = 343] = "MAIN_TASK_CHAPTER", e[e.CARD_SEP_SOLDIER = 1026] = "CARD_SEP_SOLDIER", e[e.SURE_TO_EXPEDITION = 784] = "SURE_TO_EXPEDITION", e[e.BE_INVITED_TO = 1157] = "BE_INVITED_TO", e[e.EQUIP_POLISH_PROMPT = 524] = "EQUIP_POLISH_PROMPT", e[e.FACEBOOK_TASK_FINISHED = 1739] = "FACEBOOK_TASK_FINISHED", e[e.PROPS_TYPE_POKEMONBALL = 270] = "PROPS_TYPE_POKEMONBALL", e[e.RMB = 654] = "RMB", e[e.BATTLE_DIALOG_TRAP_EXISTED = 1688] = "BATTLE_DIALOG_TRAP_EXISTED", e[e.CARD_CATEGORY_DEVEL = 1802] = "CARD_CATEGORY_DEVEL", e[e.UNION_EXCEEDED = 1373] = "UNION_EXCEEDED", e[e.DAILY_RESTART_TIMES = 663] = "DAILY_RESTART_TIMES", e[e.MATCH_START_NOT_ALLOWED2 = 983] = "MATCH_START_NOT_ALLOWED2", e[e.GENDER_CONFIRM = 2110] = "GENDER_CONFIRM", e[e.UNLOCK_RANK_TROPHY_TIP1 = 400] = "UNLOCK_RANK_TROPHY_TIP1", e[e.UNION_OPPONENT = 1421] = "UNION_OPPONENT", e[e.SELECT_CARD = 235] = "SELECT_CARD", e[e.OWN = 608] = "OWN", e[e.ROOM_INVITE = 1948] = "ROOM_INVITE", e[e.AVATAR_CARD_TIP = 222] = "AVATAR_CARD_TIP", e[e.BATTLE_DIALOG_RESUME_BATTLE = 1690] = "BATTLE_DIALOG_RESUME_BATTLE", e[e.SERIAL_ID = 450] = "SERIAL_ID", e[e.INCREASE = 489] = "INCREASE", e[e.MATCH_TIPS0 = 984] = "MATCH_TIPS0", e[e.NOT_IN_RANK = 1987] = "NOT_IN_RANK", e[e.GEN_N_CARDS = 95] = "GEN_N_CARDS", e[e.GRAIN_TASK_TIP = 348] = "GRAIN_TASK_TIP", e[e.COPY_ELITE = 903] = "COPY_ELITE", e[e.MVP_RANK = 1986] = "MVP_RANK", e[e.BATTLE_DESC_08 = 1604] = "BATTLE_DESC_08", e[e.SYSTEM_RECOMMEND = 2024] = "SYSTEM_RECOMMEND", e[e.COPY_PVP = 902] = "COPY_PVP", e[e.LEGEND_BOX_HEROES = 639] = "LEGEND_BOX_HEROES", e[e.COM_FRAG_HERO = 26] = "COM_FRAG_HERO", e[e.GOT = 506] = "GOT", e[e.FRAG_MARKET_CLOSE_TIP = 850] = "FRAG_MARKET_CLOSE_TIP", e[e.NEED_UNION_HELP_INVALID = 1015] = "NEED_UNION_HELP_INVALID", e[e.UNION_BOSS_UNLOCKED = 1384] = "UNION_BOSS_UNLOCKED", e[e.NEED_MORE_FRAGMENT_RES = 186] = "NEED_MORE_FRAGMENT_RES", e[e.MONTH_REGISTER = 53] = "MONTH_REGISTER", e[e.EXPLORE_NORMAL = 2061] = "EXPLORE_NORMAL", e[e.EXCHANGE_CODE_INVALID = 1181] = "EXCHANGE_CODE_INVALID", e[e.FIND_CLASH_SEASON_TARGET = 948] = "FIND_CLASH_SEASON_TARGET", e[e.USE_COM_FRAG_FIRST = 25] = "USE_COM_FRAG_FIRST", e[e.MONSTER_STAR = 1883] = "MONSTER_STAR", e[e.REQUIREMENT = 537] = "REQUIREMENT", e[e.BATTLE_INITIAL_DEAL = 1656] = "BATTLE_INITIAL_DEAL", e[e.BATTLE_COME_ON = 1586] = "BATTLE_COME_ON", e[e.NOTEVOLUTION = 746] = "NOTEVOLUTION", e[e.REWARD = 507] = "REWARD", e[e.GRAIN_TASK = 347] = "GRAIN_TASK", e[e.CHECKIN_VIP = 372] = "CHECKIN_VIP", e[e.FUND_TASK_TIP = 1958] = "FUND_TASK_TIP", e[e.SELECT_YOUR_CHARACTER = 1875] = "SELECT_YOUR_CHARACTER", e[e.UNION_JOIN_WAR = 1414] = "UNION_JOIN_WAR", e[e.WAIT_FOR_TASK = 1959] = "WAIT_FOR_TASK", e[e.MID_TRAINING = 121] = "MID_TRAINING", e[e.LESS_CARD_IN_RARE_TROOP = 547] = "LESS_CARD_IN_RARE_TROOP", e[e.FIRST_RECHARGE_BONUS = 83] = "FIRST_RECHARGE_BONUS", e[e.UNION_WAR_DEFEND = 1417] = "UNION_WAR_DEFEND", e[e.NEWS_VIP = 1099] = "NEWS_VIP", e[e.WAIT_BATTLE_RESULT = 240] = "WAIT_BATTLE_RESULT", e[e.VIP_CONTENT_2 = 1550] = "VIP_CONTENT_2", e[e.VIP_CONTENT_20 = 1568] = "VIP_CONTENT_20", e[e.TASK_NO = 1952] = "TASK_NO", e[e.FORGING_LEVEL_ARRIVE = 534] = "FORGING_LEVEL_ARRIVE", e[e.NOT_ENOUGH_STONE_RARE = 818] = "NOT_ENOUGH_STONE_RARE", e[e.DAMAGE_RANK = 393] = "DAMAGE_RANK", e[e.WIN = 1044] = "WIN",e[e.GROUP_KICKOUT_NOT_ALLOWED = 109] = "GROUP_KICKOUT_NOT_ALLOWED",e[e.UNLOCK_CHALLENGE = 852] = "UNLOCK_CHALLENGE",e[e.CHOICE_TITLE_4117_1 = 1854] = "CHOICE_TITLE_4117_1",e[e.NATURE_PSYCHO = 1751] = "NATURE_PSYCHO",e[e.BATTLE_CHAT_PILE_EMPTY = 1710] = "BATTLE_CHAT_PILE_EMPTY",e[e.OPPOSITE_ONLINE = 1169] = "OPPOSITE_ONLINE",e[e.POWER_COST = 2044] = "POWER_COST",e[e.SKILL_CARD_REF = 875] = "SKILL_CARD_REF",e[e.SURE_TO_EXIT_UNION = 792] = "SURE_TO_EXIT_UNION",e[e.SKILL_TYPE_2 = 862] = "SKILL_TYPE_2",e[e.COPY_EXPEDITION_TROOP_TIP = 911] = "COPY_EXPEDITION_TROOP_TIP",e[e.UNION_DEMOTE = 1345] = "UNION_DEMOTE",e[e.BATTLE_ATTACK_LOSE = 1646] = "BATTLE_ATTACK_LOSE",e[e.HIRED_TIP = 1296] = "HIRED_TIP",e[e.FRAGMENT_NOT_ENOUGH = 549] = "FRAGMENT_NOT_ENOUGH",e[e.COMPLETED = 473] = "COMPLETED",e[e.NATURE_THUNDER = 1750] = "NATURE_THUNDER",e[e.CARD_BACK_LOCKED = 155] = "CARD_BACK_LOCKED",e[e.CARD_KEYWORD_BFY = 1840] = "CARD_KEYWORD_BFY",e[e.DESC_POISON = 2048] = "DESC_POISON",e[e.TAB_PROP_1 = 2096] = "TAB_PROP_1",e[e.CONFIRM_LOTTERY_BY_INGOT = 1922] = "CONFIRM_LOTTERY_BY_INGOT",e[e.TROOP_INVALID = 465] = "TROOP_INVALID",e[e.GUIDE_SCENE_04 = 2114] = "GUIDE_SCENE_04",e[e.SURE_TO_STAY = 1223] = "SURE_TO_STAY",e[e.HELP = 457] = "HELP",e[e.DARK_BATTLE_WARNING = 2031] = "DARK_BATTLE_WARNING",e[e.UNLOCK_JOIN_UNION = 1091] = "UNLOCK_JOIN_UNION",e[e.SKIN_IN_TRIAL = 1932] = "SKIN_IN_TRIAL",e[e.BEST_SHOP = 326] = "BEST_SHOP",e[e.EACH_ONE = 1998] = "EACH_ONE",e[e.UNION_MEMBER_RANK = 392] = "UNION_MEMBER_RANK",e[e.MAIN_TASK = 342] = "MAIN_TASK",e[e.SHARE_BATTLE_BY_USER = 1497] = "SHARE_BATTLE_BY_USER",e[e.FIND_MATCH_COUNTDOWN = 927] = "FIND_MATCH_COUNTDOWN",e[e.RANK = 381] = "RANK",e[e.REMAIN_ROOM_TIME = 1947] = "REMAIN_ROOM_TIME",e[e.NOT_OPENED = 367] = "NOT_OPENED",e[e.FIND_TROPHY_COOLDOWN = 936] = "FIND_TROPHY_COOLDOWN",e[e.USE_LIMIT_DESC = 1789] = "USE_LIMIT_DESC",e[e.ACTIVITY_REWARD = 358] = "ACTIVITY_REWARD",e[e.SKILL_STATUS17 = 892] = "SKILL_STATUS17",e[e.CARD_KEYWORD_JHL = 1846] = "CARD_KEYWORD_JHL",e[e.AGREEMENT = 13] = "AGREEMENT",e[e.LOCKED = 675] = "LOCKED",e[e.PALACE_REVIEW_REWARD_TIP = 228] = "PALACE_REVIEW_REWARD_TIP",e[e.SELECT_CARD_BACK_SUCCESS = 154] = "SELECT_CARD_BACK_SUCCESS",e[e.CANNOT_LEAVE_TEAM = 1981] = "CANNOT_LEAVE_TEAM",e[e.UNION_BATTLE_START_TIP = 1999] = "UNION_BATTLE_START_TIP",e[e.FIND_CLASH_FIELDS_TITLE = 941] = "FIND_CLASH_FIELDS_TITLE",e[e.GET_PATH_GUARD = 734] = "GET_PATH_GUARD",e[e.OPEN_PACKAGE_COUNT = 2107] = "OPEN_PACKAGE_COUNT",e[e.CARD_CATEGORY_DRAGON = 1800] = "CARD_CATEGORY_DRAGON",e[e.UNION_APPLY_SEND = 1268] = "UNION_APPLY_SEND",e[e.EXPLORE_CUR_AREA = 2071] = "EXPLORE_CUR_AREA",e[e.PURPLE_COLOR = 598] = "PURPLE_COLOR",e[e.UNION_NEED_MAT = 1378] = "UNION_NEED_MAT",e[e.PALACE_VISIT_TIP = 1212] = "PALACE_VISIT_TIP",e[e.HIRE = 1309] = "HIRE",e[e.RUN_TEST = 1905] = "RUN_TEST",e[e.SKILL_STATUS2 = 877] = "SKILL_STATUS2",e[e.CAPTURE = 2077] = "CAPTURE",e[e.MEMBER_ACTIVITY = 1336] = "MEMBER_ACTIVITY",e[e.SWEEPING = 204] = "SWEEPING",e[e.SUN = 859] = "SUN",e[e.AVATAR_OTHER_TIP = 223] = "AVATAR_OTHER_TIP",e[e.UNION_BOSS_FOCUSED = 1385] = "UNION_BOSS_FOCUSED",e[e.BATTLE_DIALOG_RETREAT = 1661] = "BATTLE_DIALOG_RETREAT",e[e.USE_LIMITED = 293] = "USE_LIMITED",e[e.RECHARGE_PACKAGE_LOECKED = 88] = "RECHARGE_PACKAGE_LOECKED",e[e.JOIN_UNION_BEGIN = 1636] = "JOIN_UNION_BEGIN",e[e.SEASON_LAST = 977] = "SEASON_LAST",e[e.SEASON = 973] = "SEASON",e[e.BATTLE_DESC_01 = 1597] = "BATTLE_DESC_01",e[e.SHOP_CARD_ONCE = 779] = "SHOP_CARD_ONCE",e[e.CONTINUE_DO = 212] = "CONTINUE_DO",e[e.TODAY_GET = 352] = "TODAY_GET",e[e.CARD_CATEGORY_WORM = 1808] = "CARD_CATEGORY_WORM",e[e.LEGEND_CARD_SWALLOWED = 761] = "LEGEND_CARD_SWALLOWED",e[e.SKIN_FOREVER = 1931] = "SKIN_FOREVER",e[e.CHARACTER = 1872] = "CHARACTER",e[e.FIND_DARK_RECORD = 2015] = "FIND_DARK_RECORD",e[e.FIND_CLASH_LEGEND_TROPHY_DESC = 952] = "FIND_CLASH_LEGEND_TROPHY_DESC",e[e.SKILL_STATUS16 = 891] = "SKILL_STATUS16",e[e.SET_DEF = 291] = "SET_DEF",e[e.CARD_CATEGORY_SEA_DRAGON = 1807] = "CARD_CATEGORY_SEA_DRAGON",e[e.MY_RANK = 1059] = "MY_RANK",e[e.SKILL_STATUS24 = 899] = "SKILL_STATUS24",e[e.UNION_UNDER_ATTACK = 1423] = "UNION_UNDER_ATTACK",e[e.VOID_SHORT = 152] = "VOID_SHORT",e[e.FRIEND_BATTLE_INVITE = 1548] = "FRIEND_BATTLE_INVITE",e[e.HIRE_ING = 1302] = "HIRE_ING",e[e.FUND_SUPER = 328] = "FUND_SUPER",e[e.ROOM_PASS_INVALID = 111] = "ROOM_PASS_INVALID",e[e.WIN_EXPEDITION_CAN_OPEN = 991] = "WIN_EXPEDITION_CAN_OPEN",e[e.REMARK_INVALID = 286] = "REMARK_INVALID",e[e.FUND_LEVEL = 329] = "FUND_LEVEL",e[e.RECRUIT_MORE_TIP = 620] = "RECRUIT_MORE_TIP",e[e.VIP_CONTENT_13 = 1561] = "VIP_CONTENT_13",e[e.BATTLE_BOSS_NOT_KILL = 1716] = "BATTLE_BOSS_NOT_KILL",e[e.INTROOP_CARD_ADD = 671] = "INTROOP_CARD_ADD",e[e.UNION = 1084] = "UNION",e[e.PUSH_TIP_GRAIN_NOON = 1481] = "PUSH_TIP_GRAIN_NOON",e[e.EVOLUTION = 518] = "EVOLUTION",e[e.VIP_CONTENT_3 = 1551] = "VIP_CONTENT_3",e[e.NOT_ENOUGH_BUY_TIMES = 801] = "NOT_ENOUGH_BUY_TIMES",e[e.UNION_LEAVE_NEWS = 1365] = "UNION_LEAVE_NEWS",e[e.TUE = 854] = "TUE",e[e.IN_GROUP_LIMIT_TIP = 568] = "IN_GROUP_LIMIT_TIP",e[e.SWITCH = 134] = "SWITCH",e[e.GET_PATH_CITY = 729] = "GET_PATH_CITY",e[e.LAST_SEASON = 926] = "LAST_SEASON",e[e.VIP_CONTENT_21 = 1569] = "VIP_CONTENT_21",e[e.ADD_MAGIC_TRAP_CARD_FIRST = 117] = "ADD_MAGIC_TRAP_CARD_FIRST",e[e.BACK = 630] = "BACK",e[e.SELECT_TARGET_TITLE_01 = 1861] = "SELECT_TARGET_TITLE_01",e[e.EMPTY_POS = 987] = "EMPTY_POS",e[e.MON = 853] = "MON",e[e.FIND_CLASH_CHEST_RARE_TIP = 956] = "FIND_CLASH_CHEST_RARE_TIP",e[e.PACKAGE_DETAIL = 74] = "PACKAGE_DETAIL",e[e.COPY_EXPEDITION = 905] = "COPY_EXPEDITION",e[e.ROOM_TIME = 1946] = "ROOM_TIME",e[e.BATTLE_CARD_ADD_SKILL_LEVEL = 1698] = "BATTLE_CARD_ADD_SKILL_LEVEL",e[e.BUBBLE_ATTACK = 1869] = "BUBBLE_ATTACK",e[e.CARD_DEAD_IN_TROOP = 542] = "CARD_DEAD_IN_TROOP",e[e.CANNOT_MANAGE_CARDS = 1974] = "CANNOT_MANAGE_CARDS",e[e.GUIDE_NOVICE_TEACH_02 = 2118] = "GUIDE_NOVICE_TEACH_02",e[e.CARD_CATEGORY_ANGLE = 1812] = "CARD_CATEGORY_ANGLE",e[e.CHANGE2 = 1187] = "CHANGE2",e[e.CLAIM_AFTER1 = 634] = "CLAIM_AFTER1",e[e.DECOMPOSE_ALL_CONFIRM = 569] = "DECOMPOSE_ALL_CONFIRM",e[e.NOT_BUYABLE = 60] = "NOT_BUYABLE",e[e.HEARTBEAT_GAP = 259] = "HEARTBEAT_GAP",e[e.SONGKE = 1220] = "SONGKE",e[e.TAVERN_NATURE_TIP = 1950] = "TAVERN_NATURE_TIP",e[e.DRAGON_FLAG_MARKET_TIP = 848] = "DRAGON_FLAG_MARKET_TIP",e[e.NPC_DESC = 1622] = "NPC_DESC",e[e.FIRST_CHANGE_FREE = 1185] = "FIRST_CHANGE_FREE",e[e.SURE_TO_SELL = 786] = "SURE_TO_SELL",e[e.UNION_PROMOTE = 1344] = "UNION_PROMOTE",e[e.RECRUIT_LEGEND_TIP = 638] = "RECRUIT_LEGEND_TIP",e[e.BATTLE_DIALOG_BOARD_FULL = 1667] = "BATTLE_DIALOG_BOARD_FULL",e[e.UNION_UPGRADE = 1394] = "UNION_UPGRADE",e[e.GEWHRT = 1214] = "GEWHRT",e[e.DESC_NUMB = 2050] = "DESC_NUMB",e[e.GOD_PUMP = 2004] = "GOD_PUMP",e[e.SELECT_GROUP_HEAD = 107] = "SELECT_GROUP_HEAD",e[e.PALACE_REVIEW_DONE = 232] = "PALACE_REVIEW_DONE",e[e.GET_WIN = 2020] = "GET_WIN",e[e.EXPLORE_UNFOUNDED = 2106] = "EXPLORE_UNFOUNDED",e[e.ISBN_1 = 1914] = "ISBN_1",e[e.CHECKIN_CENTER = 422] = "CHECKIN_CENTER",e[e.FIND_TIME_OUT = 969] = "FIND_TIME_OUT",e[e.SNOWBALL_FIND_MATCH = 1628] = "SNOWBALL_FIND_MATCH",e[e.EXCEED = 1439] = "EXCEED",e[e.UNION_TYPE = 1254] = "UNION_TYPE",e[e.NOTICE_HERO_VISIT = 1218] = "NOTICE_HERO_VISIT",e[e.ACTIVITY = 354] = "ACTIVITY",e[e.BUY_GOLD_SUCCESS = 81] = "BUY_GOLD_SUCCESS",e[e.NOT_ENOUGH_FLOWER_LEGEND = 821] = "NOT_ENOUGH_FLOWER_LEGEND",e[e.UNION_ATTACKER = 1413] = "UNION_ATTACKER",e[e.FUND_TASK = 1956] = "FUND_TASK",e[e.IDLE = 255] = "IDLE",e[e.CITY_REWARD = 487] = "CITY_REWARD",e[e.NOT_ENOUGH_UNION_ACT = 825] = "NOT_ENOUGH_UNION_ACT",e[e.SKILL_STATUS1 = 876] = "SKILL_STATUS1",e[e.REWARD_INTRO = 1936] = "REWARD_INTRO",e[e.REMAIN_TIME = 233] = "REMAIN_TIME",e[e.UNION_UNKNOWN = 1418] = "UNION_UNKNOWN",e[e.SNOWBALL_FIGHT = 1627] = "SNOWBALL_FIGHT",e[e.ACITIVITY_TIP4 = 2138] = "ACITIVITY_TIP4",e[e.CHECKIN_ONLINE = 375] = "CHECKIN_ONLINE",e[e.UNION_WORD_TIP = 1253] = "UNION_WORD_TIP",e[e.CARD_CATEGORY_BEAST_WARRIOR = 1809] = "CARD_CATEGORY_BEAST_WARRIOR",e[e.INTROOPED = 668] = "INTROOPED",e[e.PERSONAL_FUND_4 = 2126] = "PERSONAL_FUND_4",e[e.PUSH_TIP_GURAD_FRAGMENT = 1487] = "PUSH_TIP_GURAD_FRAGMENT",e[e.MIE_SHI_BAO_DAN = 180] = "MIE_SHI_BAO_DAN",e[e.RANK_BONUS_DESC5 = 386] = "RANK_BONUS_DESC5",e[e.UNION_CONTRIBUTION = 1342] = "UNION_CONTRIBUTION",e[e.HIDE_CITY_BONUS = 209] = "HIDE_CITY_BONUS",e[e.CARD_KEYWORD_CSZS = 1827] = "CARD_KEYWORD_CSZS",e[e.CLAIMED = 480] = "CLAIMED",e[e.RARE_SHOP = 1769] = "RARE_SHOP",e[e.CURRENT = 1126] = "CURRENT",e[e.VIP_MAX = 595] = "VIP_MAX",e[e.SKILL_STATUS19 = 894] = "SKILL_STATUS19",e[e.GROUP_MATCH = 1969] = "GROUP_MATCH",e[e.AUDIO_MUSIC = 1447] = "AUDIO_MUSIC",e[e.SELECT_COMPOSE_CARD = 844] = "SELECT_COMPOSE_CARD",e[e.MONTH_REGISTER_NUM = 54] = "MONTH_REGISTER_NUM",e[e.FIND_CLASH_FIRST_TIP1 = 943] = "FIND_CLASH_FIRST_TIP1",e[e.INPUT_YOUR_NAME = 1183] = "INPUT_YOUR_NAME",e[e.SURE_TO_SONGKE = 1222] = "SURE_TO_SONGKE",e[e.FINDSCENE_LOCKED = 1884] = "FINDSCENE_LOCKED",e[e.SELECT_SPLIT_CARDS = 845] = "SELECT_SPLIT_CARDS",e[e.ACTIVATE = 468] = "ACTIVATE",e[e.NATURE_DARK = 1753] = "NATURE_DARK",e[e.WEN = 855] = "WEN",e[e.FRIEND_BATTLE_CANCEL = 1544] = "FRIEND_BATTLE_CANCEL",e[e.NATURE_COMMON = 1757] = "NATURE_COMMON",e[e.YEAR = 169] = "YEAR",e[e.SKILL_REF = 873] = "SKILL_REF",e[e.FRIEND_BATTLE_UNDER = 1545] = "FRIEND_BATTLE_UNDER",e[e.NATURE_NONE = 1746] = "NATURE_NONE",e[e.EXCHANGE_LIMIT = 144] = "EXCHANGE_LIMIT",e[e.BATTLE_DEFENCE_LOSE = 1648] = "BATTLE_DEFENCE_LOSE",e[e.REGION_HISTORY = 1536] = "REGION_HISTORY",e[e.TROOP = 461] = "TROOP",e[e.COMFIRM_COMPOSE_WITH_COMMON_FRAGMENT = 2010] = "COMFIRM_COMPOSE_WITH_COMMON_FRAGMENT",e[e.ACTIVITY_CENTER = 421] = "ACTIVITY_CENTER",e[e.UNION_RANK = 395] = "UNION_RANK",e[e.UNION_BONUS_SET = 1410] = "UNION_BONUS_SET",e[e.SURE_TO_CLEAR_TROOP = 799] = "SURE_TO_CLEAR_TROOP",e[e.NO_CHALLENGE = 918] = "NO_CHALLENGE",e[e.CARD_PACKAGE_CONTAIN = 1787] = "CARD_PACKAGE_CONTAIN",e[e.BUY_SKIN_SUCCEED = 1926] = "BUY_SKIN_SUCCEED",e[e.BOTTOM_EFFECT = 1892] = "BOTTOM_EFFECT",e[e.GUARDED = 684] = "GUARDED",e[e.UNIONSCENE_LOCKED = 1885] = "UNIONSCENE_LOCKED",e[e.RANKING_NUM = 1051] = "RANKING_NUM",e[e.LORD_RANK = 394] = "LORD_RANK",e[e.BATTLE_DIALOG_GEM = 1683] = "BATTLE_DIALOG_GEM",e[e.DAILY_SEND_MAILS = 660] = "DAILY_SEND_MAILS",e[e.UNION_MEMBER = 1339] = "UNION_MEMBER",e[e.UNION_LEVEL_REQUIRE = 1262] = "UNION_LEVEL_REQUIRE",e[e.BATTLE_GRAVE = 1642] = "BATTLE_GRAVE",e[e.Group_card = 11606] = "Group_card",e[e.HIRE_OWNER = 1313] = "HIRE_OWNER",e[e.JOIN_GROUP = 1971] = "JOIN_GROUP",e[e.CAPACITY = 651] = "CAPACITY",e[e.CARD_KEYWORD_GZ = 1841] = "CARD_KEYWORD_GZ",e[e.CANNOT_MORE_THAN = 1145] = "CANNOT_MORE_THAN",e[e.ROOM_ELDER = 1401] = "ROOM_ELDER",e[e.BIND_GCID = 1740] = "BIND_GCID",e[e.FRAG_MARKET_OPEN_TIP = 849] = "FRAG_MARKET_OPEN_TIP",e[e.COPY_WEEK_TIME = 908] = "COPY_WEEK_TIME",e[e.DEPOT_GOLD = 1765] = "DEPOT_GOLD",e[e.SORT = 436] = "SORT",e[e.FIRST_RECHARGE_BONUS_2 = 84] = "FIRST_RECHARGE_BONUS_2",e[e.RECRUIT_TEN_TIP = 637] = "RECRUIT_TEN_TIP",e[e.MY_UNION = 1333] = "MY_UNION",e[e.END_COUNTDOWN = 1054] = "END_COUNTDOWN",e[e.COPYRIGHT = 8] = "COPYRIGHT",e[e.GACHA_RARE = 2090] = "GACHA_RARE",e[e.ME = 1043] = "ME",e[e.SEND = 1121] = "SEND",e[e.MORE_CARD_IN_TROOP = 545] = "MORE_CARD_IN_TROOP",e[e.UNION_UPGRADE_SUCCESS = 1395] = "UNION_UPGRADE_SUCCESS",e[e.CONFIRM_UNLOCK_COPY_PVP = 838] = "CONFIRM_UNLOCK_COPY_PVP",e[e.LEAVE_MESSAGE = 1216] = "LEAVE_MESSAGE",e[e.FUND_OWNED = 333] = "FUND_OWNED",e[e.UNION_MEMBER_SELECT_MAX = 1337] = "UNION_MEMBER_SELECT_MAX",e[e.SKILL_STATUS10 = 885] = "SKILL_STATUS10",e[e.FIND_MATCH_NONE_TITLE = 963] = "FIND_MATCH_NONE_TITLE",e[e.FRIEND_BATTLE_SEARCH = 1542] = "FRIEND_BATTLE_SEARCH",e[e.CARD_CATEGORY_NORMAL = 1820] = "CARD_CATEGORY_NORMAL",e[e.CHECKIN_RETRY = 376] = "CHECKIN_RETRY",e[e.DAILY_UNION_BOSS_TIMES = 665] = "DAILY_UNION_BOSS_TIMES",e[e.MAYBE = 145] = "MAYBE",e[e.CHARACTER_LEVEL = 1048] = "CHARACTER_LEVEL",e[e.ISBN_2 = 1913] = "ISBN_2",e[e.BACK_HOME = 420] = "BACK_HOME",e[e.SELECT_SERVER = 16] = "SELECT_SERVER",e[e.JOIN_ATTACK_LOSE = 1633] = "JOIN_ATTACK_LOSE",e[e.CARD_KEYWORD_JLJS = 1832] = "CARD_KEYWORD_JLJS",e[e.SKIN_NEED_CARD = 1928] = "SKIN_NEED_CARD",e[e.QUESTION_MARK = 164] = "QUESTION_MARK",e[e.JOIN = 1625] = "JOIN",e[e.DATE_FORMAT = 168] = "DATE_FORMAT",e[e.SHARE_BATTLE_MSG = 1495] = "SHARE_BATTLE_MSG",e[e.VIP_CONTENT_26 = 1574] = "VIP_CONTENT_26",e[e.SECOND_AGO = 1443] = "SECOND_AGO",e[e.ACTIVITY_PAYMENT_1 = 316] = "ACTIVITY_PAYMENT_1",e[e.BATTLE_YOUR_ROUND = 1658] = "BATTLE_YOUR_ROUND",e[e.DEPOT_VIP_SHOP = 1772] = "DEPOT_VIP_SHOP",e[e.GUIDE_BG_1 = 189] = "GUIDE_BG_1",e[e.EQUIPED = 676] = "EQUIPED",e[e.UNLOCK_RANK_TROPHY_TIP2 = 401] = "UNLOCK_RANK_TROPHY_TIP2",e[e.MATCH_JOIN_ROOM = 981] = "MATCH_JOIN_ROOM",e[e.REFUSE = 1203] = "REFUSE",e[e.PUSH_PALACE_TASK = 1480] = "PUSH_PALACE_TASK",e[e.WORSHIP = 1406] = "WORSHIP",e[e.SURE_TO_IGNORE = 1226] = "SURE_TO_IGNORE",e[e.MERRY_XMAS = 182] = "MERRY_XMAS",e[e.RANK_BONUS_DESC2 = 383] = "RANK_BONUS_DESC2",e[e.SEND_SUCCESS = 1244] = "SEND_SUCCESS",e[e.JOIN_ATTACK_LOSE_CITY = 1634] = "JOIN_ATTACK_LOSE_CITY",e[e.REGION_RANK = 396] = "REGION_RANK",e[e.VIP_CONTENT_18 = 1566] = "VIP_CONTENT_18",e[e.ACTIVITY_DSECRIPTION_3 = 322] = "ACTIVITY_DSECRIPTION_3",e[e.MONTHCARD_TIP2 = 2003] = "MONTHCARD_TIP2",e[e.AMOUNT = 1140] = "AMOUNT",e[e.CHOICE_TITLE_MERGE_COMPONENT = 1850] = "CHOICE_TITLE_MERGE_COMPONENT",e[e.DRAWBACK_COST = 2045] = "DRAWBACK_COST",e[e.LIST_EMPTY_RANK_MVP = 722] = "LIST_EMPTY_RANK_MVP",e[e.ADD = 577] = "ADD",e[e.LIST_EMPTY_NO_MAIL = 705] = "LIST_EMPTY_NO_MAIL",e[e.LIST_EMPTY_RANK = 713] = "LIST_EMPTY_RANK",e[e.INVITE_PACKAGE = 1153] = "INVITE_PACKAGE",e[e.BUY_SESSION_EXPIRE = 693] = "BUY_SESSION_EXPIRE",e[e.NOTREBIRTH = 747] = "NOTREBIRTH",e[e.PUSH_REWARD_SEND = 1474] = "PUSH_REWARD_SEND",e[e.JOIN_ATTACK_BEGIN = 1631] = "JOIN_ATTACK_BEGIN",e[e.BATTLE_BOSS_KILL = 1717] = "BATTLE_BOSS_KILL",e[e.CHAOS = 1076] = "CHAOS",e[e.SELLSUCCESS = 690] = "SELLSUCCESS",e[e.ACTIVITY_PAY_NUMBER = 325] = "ACTIVITY_PAY_NUMBER",e[e.UNLOCK = 1505] = "UNLOCK",e[e.FORGING_LEVEL = 533] = "FORGING_LEVEL",e[e.REPLACE = 160] = "REPLACE",e[e.IAP_DELEGATING = 138] = "IAP_DELEGATING",e[e.SURE_TO_UPGRADE = 785] = "SURE_TO_UPGRADE",e[e.CHARGE_BONUS_INGOT = 297] = "CHARGE_BONUS_INGOT",e[e.MID_TRANING_MAGICIAN = 124] = "MID_TRANING_MAGICIAN",e[e.RECRUIT_TEN_AGAIN = 619] = "RECRUIT_TEN_AGAIN",e[e.USER_TITLE10 = 1071] = "USER_TITLE10",e[e.HIRE_LET = 1300] = "HIRE_LET",e[e.HORSE_SPECIAL_SKILL_TIP = 503] = "HORSE_SPECIAL_SKILL_TIP",e[e.BATTLE_DIALOG_EXCHANGE_TIP = 1691] = "BATTLE_DIALOG_EXCHANGE_TIP",e[e.MORE_THAN_REPUTATION = 765] = "MORE_THAN_REPUTATION",e[e.RECOMMEND_TROOP = 2022] = "RECOMMEND_TROOP",e[e.MAGICTYPE_CHARACTOR = 1762] = "MAGICTYPE_CHARACTOR",e[e.SEND_GIFT = 1991] = "SEND_GIFT",e[e.UNION_GIVE_LEADER_TIP = 1380] = "UNION_GIVE_LEADER_TIP",e[e.CONFIRM_SEND = 1992] = "CONFIRM_SEND",e[e.TITLE = 1033] = "TITLE",e[e.BATTLE_ACTION_TIMEOUT = 250] = "BATTLE_ACTION_TIMEOUT",e[e.ACHIEVEMENT = 313] = "ACHIEVEMENT",e[e.LORD_NICKNAME = 1135] = "LORD_NICKNAME",e[e.BATTLE_JOIN_NOT_ALLOWED = 777] = "BATTLE_JOIN_NOT_ALLOWED",e[e.RATE_REFUSE = 33] = "RATE_REFUSE",e[e.REGION = 1534] = "REGION",e[e.SURE_TO_UNLOCK_CHARACTER_INGOT = 1879] = "SURE_TO_UNLOCK_CHARACTER_INGOT",e[e.TIMES_NOT_ENOUGH = 1783] = "TIMES_NOT_ENOUGH",e[e.PUSH_NOTICE = 1465] = "PUSH_NOTICE",e[e.PVP_SELECT_YOUR_CHARACTER = 1877] = "PVP_SELECT_YOUR_CHARACTER",e[e.START = 146] = "START",e[e.IS_USE_FRAGMENT2 = 187] = "IS_USE_FRAGMENT2",e[e.INVALID_SEARCH = 247] = "INVALID_SEARCH",e[e.MAIL = 1490] = "MAIL",e[e.CAN_AUTO_ADD = 741] = "CAN_AUTO_ADD",e[e.INPUT_SHARE_TEXT = 1184] = "INPUT_SHARE_TEXT",e[e.FIND_CLASH_LAST_CHAMPION = 939] = "FIND_CLASH_LAST_CHAMPION",e[e.SO_ON = 178] = "SO_ON",e[e.BATTLE_CHAT_THINKING = 1705] = "BATTLE_CHAT_THINKING",e[e.CARD_CATEGORY_FISH = 1814] = "CARD_CATEGORY_FISH",e[e.TOTAL_DEFENSE = 1149] = "TOTAL_DEFENSE",e[e.HIRE_BACK = 1299] = "HIRE_BACK",e[e.SACRIFICE_TITLE = 1871] = "SACRIFICE_TITLE",e[e.INVITE_INGOT = 1165] = "INVITE_INGOT",e[e.LEVEL_TASK = 351] = "LEVEL_TASK",e[e.MAIN_TASK_GUIDE = 346] = "MAIN_TASK_GUIDE",e[e.DAILY_TASK_REFRESH = 1776] = "DAILY_TASK_REFRESH",e[e.SKILL_STATUS6 = 881] = "SKILL_STATUS6",e[e.CANCEL_INVITE_2 = 1894] = "CANCEL_INVITE_2",e[e.CREATE_UNION = 1249] = "CREATE_UNION",e[e.CONFIRM_CLOSE_ROOM = 1388] = "CONFIRM_CLOSE_ROOM",e[e.BIND_GCID_SUCCEED = 1743] = "BIND_GCID_SUCCEED",e[e.EQUIP_TO = 585] = "EQUIP_TO",e[e.CUR_TROOP = 290] = "CUR_TROOP",e[e.SKILL_STATUS13 = 888] = "SKILL_STATUS13",e[e.SKIP = 413] = "SKIP",e[e.SKIN = 1923] = "SKIN",e[e.COPY_IMMUNITY_PHY = 904] = "COPY_IMMUNITY_PHY",e[e.UNION_LEVEL_MAX = 1263] = "UNION_LEVEL_MAX",e[e.CARD_CATEGORY_BEAST = 1803] = "CARD_CATEGORY_BEAST",e[e.CARD_SEP_WU = 1023] = "CARD_SEP_WU",e[e.USER_TITLE3 = 1064] = "USER_TITLE3",e[e.SKILL_STATUS7 = 882] = "SKILL_STATUS7",e[e.EXCHANGE = 550] = "EXCHANGE",e[e.CAPTURE_CONFIRM_GIVEUP = 2086] = "CAPTURE_CONFIRM_GIVEUP",e[e.AVATAR_FRAME_DEF = 224] = "AVATAR_FRAME_DEF",e[e.ACTIVITY_PAYMENT_0 = 315] = "ACTIVITY_PAYMENT_0",e[e.CAN_NOT_COLLECTABLE = 830] = "CAN_NOT_COLLECTABLE",e[e.GUARD_HERO = 685] = "GUARD_HERO",e[e.FIND_ARENA_TITLE = 964] = "FIND_ARENA_TITLE",e[e.CITY_CAPTURED = 914] = "CITY_CAPTURED",e[e.EXPEDITION_LEVEL = 992] = "EXPEDITION_LEVEL",e[e.EXCHANGED = 551] = "EXCHANGED",e[e.MASTER_TRAINING = 122] = "MASTER_TRAINING",e[e.RECRUIT_FAST_OPEN = 616] = "RECRUIT_FAST_OPEN",e[e.DOUBLECLICK_SKIP_VIDEO = 1886] = "DOUBLECLICK_SKIP_VIDEO",e[e.ON = 1450] = "ON",e[e.PALACE_REVIEW_CONFIRM_DO = 231] = "PALACE_REVIEW_CONFIRM_DO",e[e.RARE_PACKAGE = 2039] = "RARE_PACKAGE",e[e.WAN = 177] = "WAN",e[e.UNION_HIRE = 1256] = "UNION_HIRE",e[e.UNDER_ATTACK = 1626] = "UNDER_ATTACK",e[e.CARD_SEP_QUN = 1024] = "CARD_SEP_QUN",e[e.VIP_CONTENT_19 = 1567] = "VIP_CONTENT_19",e[e.ALL_REGION_BATTLE = 404] = "ALL_REGION_BATTLE",e[e.DISABLED = 426] = "DISABLED",e[e.UNION_MANAGE = 1248] = "UNION_MANAGE",e[e.CONFIRM_AT_LEAST_ONE_IN_DEF_TROOP = 772] = "CONFIRM_AT_LEAST_ONE_IN_DEF_TROOP",e[e.BUY_MONTH_CARD_SUCCESS = 79] = "BUY_MONTH_CARD_SUCCESS",e[e.GACHA_TIME_LIMIT = 2088] = "GACHA_TIME_LIMIT",e[e.BUY_PERSONAL_FUND_SUCCESS = 2130] = "BUY_PERSONAL_FUND_SUCCESS",e[e.ONSALE_NEXT_MONTH = 1921] = "ONSALE_NEXT_MONTH",e[e.NOT_ENOUGH_MONEY = 817] = "NOT_ENOUGH_MONEY",e[e.NEED_UNION_HELP = 1011] = "NEED_UNION_HELP",e[e.TOTAL_INCOME = 1019] = "TOTAL_INCOME",e[e.CHOICE_TITLE_CHOICE = 1852] = "CHOICE_TITLE_CHOICE",e[e.BATTLE_WIN_COUNT = 405] = "BATTLE_WIN_COUNT",e[e.UNION_GIVE_LEADER = 1379] = "UNION_GIVE_LEADER",e[e.MORE_THAN_UNION_LEVEL = 828] = "MORE_THAN_UNION_LEVEL",e[e.INPUT_EXCHANGE_CODE = 1182] = "INPUT_EXCHANGE_CODE",e[e.GROUP_RANK = 1985] = "GROUP_RANK",e[e.MORE_REPURATION_IN_TROOP = 544] = "MORE_REPURATION_IN_TROOP",e[e.NOT_ENOUGH_EVOLUTION_DRUG = 812] = "NOT_ENOUGH_EVOLUTION_DRUG",e[e.SHARE = 1493] = "SHARE",e[e.BOX_OPENED = 990] = "BOX_OPENED",e[e.BATTLE_DIALOG_ALREADY_IN_DEFEND_POSTURE = 1680] = "BATTLE_DIALOG_ALREADY_IN_DEFEND_POSTURE",e[e.CAPTURE_RATE = 2078] = "CAPTURE_RATE",e[e.DAILY_TASK_LIMIT = 1017] = "DAILY_TASK_LIMIT",e[e.NOT_ENOUGH_SWEEP_CARD = 805] = "NOT_ENOUGH_SWEEP_CARD",e[e.DAY6 = 1329] = "DAY6",e[e.DELETE = 1217] = "DELETE",e[e.HIGHEST_FIGHT_VALUE = 445] = "HIGHEST_FIGHT_VALUE",e[e.RARITY = 442] = "RARITY",e[e.INVITED_COUNT = 1155] = "INVITED_COUNT",e[e.UNDER_ATTACKING = 238] = "UNDER_ATTACKING",e[e.UNION_TECH_REACH_MAX = 1278] = "UNION_TECH_REACH_MAX",e[e.SKILL_TYPE_11 = 871] = "SKILL_TYPE_11",e[e.VIP_CONTENT_6 = 1554] = "VIP_CONTENT_6",e[e.REMARK_NONE = 285] = "REMARK_NONE",e[e.ACTIVITY_CHARGE_DAYS_TIP = 366] = "ACTIVITY_CHARGE_DAYS_TIP",e[e.EXCLUSIVE = 581] = "EXCLUSIVE",e[e.RECRUIT_MULTIPLE = 618] = "RECRUIT_MULTIPLE",e[e.GUIDE_CITY_NAME_1 = 194] = "GUIDE_CITY_NAME_1",e[e.MATCH_JOIN_NOT_ALLOWED = 980] = "MATCH_JOIN_NOT_ALLOWED",e[e.UNION_TECH_UPGRADE_SUCCESS = 1281] = "UNION_TECH_UPGRADE_SUCCESS",e[e.FIND_ARENA_TICKET = 965] = "FIND_ARENA_TICKET",e[e.BATTLE_CHAT_LOSE = 1706] = "BATTLE_CHAT_LOSE",e[e.HALL = 307] = "HALL",e[e.DAILY_CANNOT_SEND_MAIL = 659] = "DAILY_CANNOT_SEND_MAIL",e[e.CHANGE_CHARACTER = 1874] = "CHANGE_CHARACTER",e[e.TOKEN_NOT_ENOUGH = 128] = "TOKEN_NOT_ENOUGH",e[e.GIFT_DETAIL = 72] = "GIFT_DETAIL",e[e.LOADING_DATA = 237] = "LOADING_DATA",e[e.CONTINUE_USE_BINDING_INGOT = 11599] = "CONTINUE_USE_BINDING_INGOT",e[e.COMPOSE_EXCHANGE = 11600] = "COMPOSE_EXCHANGE",e[e.TEXTMAXLENGTH = 1145] = "TEXTMAXLENGTH"
        }(n.STR || (n.STR = {})), cc._RF.pop()
    }, {}],
    SwordNode: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "726d7pzV4dMQ5Aitqa4bzu+", "SwordNode");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../utils/SpriteUtil"), o = e("../../../nox"), r = e("../../../leocool/lc"),
            _ = e("../../StaticPrefabMgr"), s = e("../../../noxcc"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.setAnchorPoint(cc.v2(.5, .5)), this.setCascadeOpacityEnabled(!0);
                    var t = "img_sword";
                    null != e && e > 0 && (t += e);
                    var n = i.SpriteUtil.createWithSpriteFrameName(t), a = i.SpriteUtil.createWithSpriteFrameName(t),
                        c = o.nox.h(n.node);
                    this.setContentSize(cc.size(200, c)), n.node.scaleX = -1, n.node.setAnchorPoint(.5, 0), a.node.setAnchorPoint(.5, 0), n.node.setPosition(-o.nox.aw(this), -o.nox.ah(this)), a.node.setPosition(200 - o.nox.aw(this), -o.nox.ah(this)), this.addChild(n.node, 1), this.addChild(a.node, 1), this._sprite1 = n, this._sprite2 = a;
                    var l = function (e, t, n, a, i) {
                        var o = cc.spawn(cc.moveTo(.3, t), cc.rotateTo(.3, a)),
                            r = cc.spawn(cc.moveTo(.3, e), cc.rotateTo(.3, n)), l = cc.callFunc(function () {
                                if (255 == this.getOpacity()) {
                                    var e = _.StaticPrefabMgr.getParticleSystem("par_city_chapter"), t = s.noxcc.instantiate(e);
                                    t.setPosition(100, c / 2), this.addChild(t)
                                }
                            });
                        return i ? cc.sequence(o, l, cc.delayTime(.1), r) : cc.sequence(o, cc.delayTime(.1), r)
                    };
                    n.node.runAction(cc.repeatForever(l(cc.v2(r.lc.x(n.node), r.lc.y(n.node)), cc.v2(r.lc.x(n.node) + 50, r.lc.y(n.node)), n.node.angle, n.node.angle + 45, !0))), a.node.runAction(cc.repeatForever(l(cc.v2(r.lc.x(a.node), r.lc.y(a.node)), cc.v2(r.lc.x(a.node) - 50, r.lc.y(a.node)), a.node.angle, a.node.angle - 45, !1)))
                }, t.createSword = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(cc.Node);
        n.SwordNode = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../utils/SpriteUtil": "SpriteUtil"
    }],
    SystemMailWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e9088ZNmYpPXKRZZebKlrNj", "SystemMailWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../../noxcc"), o = e("../../../utils/TimeUtil"), r = e("../../BasePage"),
            _ = e("./MailDetailForm"), s = e("../../../StringEnums"), c = e("../../../../leocool/lcStr"),
            l = function (e) {
                function t() {
                    var t = e.call(this, "form/MailForm/SystemMailItem") || this;
                    return t._time = null, t.mtime = !1, t
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    this._titleBg = i.noxcc.find("title_bg", this.mRoot), this._title = i.noxcc.findLabel("title_text", this._titleBg), this._content = i.noxcc.findLabel("desc_text", this.mRoot), this._time = i.noxcc.findLabel("time_text", this.mRoot), this._button = i.noxcc.findButton("button", this.mRoot), i.noxcc.addClick(this._button, this, this.onBackClick), this.setMail(this._mail)
                }, t.prototype.init = function (e, t) {
                    t && (this.mtime = !0), this._mail = e
                }, t.prototype.onBackClick = function () {
                    this.showDetail()
                }, t.prototype.showDetail = function () {
                    _.MailDetailForm.show(this._mail._title, this._mail._content)
                }, t.prototype.setMail = function (e) {
                    i.noxcc.setString(this._title, e._title || c.lcStr(s.STR.NO_TITLE)), this._time && i.noxcc.setString(this._time, o.TimeUtil.getTimeAgo(e._timestamp));
                    var t = e._content.replace(/[|]/, "");
                    i.noxcc.setString(this._content, t)
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(r.BasePage);
        n.SystemMailItem = l, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../StringEnums": "StringEnums",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../BasePage": "BasePage",
        "./MailDetailForm": "MailDetailForm"
    }],
    TavernScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ed378OBdnJNMYiq/Q5JsYs4", "TavernScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../ui/panel/CardPackagePanel"), o = e("../ui/widget/CardList"), r = e("../ui/widget/AetherCardList"),
            _ = e("../ui/AllViewTypes"), s = e("../data/data"), c = e("../ui/panel/RewardPanel"),
            l = e("../ClientView"), d = e("../part/CardPart"), p = e("../../leocool/lcStr"), u = e("../StringEnums"),
            g = e("../ToastManager"), h = e("../../leocool/lc"), f = e("../../noxcc"), m = e("../GuideManager"),
            y = e("../../nox"), T = e("../../leocool/lcAppCfg"), S = e("../utils/ActivityUtil"),
            C = e("../../framework/NoxResMgr"), v = e("../ui/node/NodeWithLabel"), b = e("../config/UICfg"),
            E = e("../utils/UIUtil"), I = e("../ui/panel/CharacterPanel"), A = e("../ClientData"),
            R = e("../utils/SpriteUtil"), B = e("../ui/form/ExchangeResForm"), N = e("../../leocool/lcAudio"),
            D = e("../AudioEnums"), U = e("../utils/TimeUtil"), M = e("../ui/common/Dialog"),
            k = e("../ui/panel/CardInfoPanel"), L = e("../const/SceneId"), O = e("./SceneManager"),
            x = {nature: 1, time_limit: 0, rare: 2, super: 3},
            w = ["gacha_time_limit_", "gacha_nature_", "gacha_rare_", "gacha_super_"],
            F = [["kuanghuan", "kuanghuan", "kuanghuan", "kuanghuan", "kuanghuan", "kuanghuan", "kuanghuan"], ["", "caoxi", "huoxi", "shuixi", "dianxi"], ["caoxi", "huoxi", "shuixi", "dianxi", "gedouxi", "nianlixi", "gangxi", "tanxian", "tanxian", "tanxian", "tanxian"], ["shenchou", "shenchou", "shenchou", "shenchou", "shenchou", "shenchou", "shenchou"]],
            V = function (e) {
                function t() {
                    var t = e.call(this, L.SceneId.tavern, _.AllViewTypes.TavernScene) || this;
                    return t._btnBack = null, t._tabArea = null, t._barBtn = null, t._barAd = null, t._listBg = null, t._list = null, t._initTabIndex = 0, t._typeIndex = {}, t._isBusy = !1, t._packages = [], t._gachaFocus = null, t._barSpine = null, t._container = null, t._gachaCards = null, t._gachaCards2 = null, t._highQualityNeedCount = 0, t._gachaDetailPanel = null, t._gachaStat = null, t._gachaButtons = null, t._remainTimeBg = null, t._cardPackagePanel = null, t._helpId = 0, t
                }

                return a(t, e), t.prototype.init = function (e) {
                    return this._initTabIndex = e || 0, this._curType = null, this._typeIndex = {}, this._depth = 0, this._isBusy = !1, this._isDataReady = !1, this._packageCards = [], !0
                }, t.prototype.onMsg = function (t) {
                    if (e.prototype.onMsg.call(this, t)) return !0;
                    var n = t.type;
                    t.status;
                    return n == SglMsgType_pb.ProtoMsgType.PB_TYPE_CARD_LOTTERY ? (this.onCardLottery(t), this._curType != x.super && this.onCardBoxInfo(t), !0) : (n == SglMsgType_pb.ProtoMsgType.PB_TYPE_CARDBOX_INFO || n == SglMsgType_pb.ProtoMsgType.PB_TYPE_RESET_CARDBOX) && (this.onCardBoxInfo(t), !0)
                }, t.prototype.onCardLottery = function (e) {
                    for (var t = this, n = [], a = [], o = {}, r = !1, _ = e.getExtensions_Card_pb_SglCardMsg_card_lottery_resp(), y = 0; y < _.length; y++) {
                        var T = _[y], S = s.Data.getType(T.info_id);
                        T.info_id < 1e4 || s.Data.PropsId.card_advance_start < T.info_id && T.info_id <= s.Data.PropsId.card_advance_end ? n.push({
                            _infoId: T.info_id,
                            _num: T.num
                        }) : (P._playerCard.addCard(T.info_id, T.num) && (o[S] = !0), a.push({
                            _infoId: T.info_id,
                            _num: T.num
                        }), t._curType == x.nature ? this.removeCardFromPackage(T.info_id, T.num) : t._curType == x.rare && s.Data.CardQuality.RR <= s.Data.getInfo(T.info_id)._quality && (r = !0))
                    }
                    for (var C in o) {
                        var v = o[C];
                        P._playerCard.sendCardListDirty(v)
                    }
                    if (t._curType == x.nature) {
                        t.getPackageInfo()[2] <= 0 && (r = !0);
                        for (C = 0; C < n.length; C++) {
                            var b = n[C];
                            P.addResource(b._infoId, null, b._num)
                        }
                    } else {
                        if (t._curType == x.super) {
                            var E = [], I = [];
                            for (y = 0; y < a.length; ++y) {
                                for (var A = a[y], R = I.length + 1, B = 0; B < I.length; ++B) if (I[B]._infoId == A._infoId) {
                                    R = B + 1;
                                    break
                                }
                                I[R - 1] ? I[R - 1]._num = I[R - 1]._num + 1 : I[R - 1] = {_infoId: A._infoId, _num: 1}
                            }
                            for (B = 0; B < I.length; B++) {
                                var N = I[B];
                                E.push(N)
                            }
                            for (B = 0; B < n.length; B++) {
                                b = n[B];
                                E.push({_infoId: b._infoId, _num: b._num})
                            }
                            return null != E && E.length > 0 ? (c.RewardPanel.create(E, c.RewardPanel.MODE_BUY).show(), l.ClientView.getActiveIndicator().hide(), void t._gachaCards2.refresh(t._packageCards)) : void 0
                        }
                        for (B = 0; B < n.length; B++) {
                            b = n[B];
                            P.addResource(b._infoId, null, b._num)
                        }
                    }
                    if ((r || t._highQualityNeedCount <= 0) && d.CardPart.sendCardBoxInfo(t._curPackage._once._value), l.ClientView.getActiveIndicator().hide(), n.length > 0) {
                        var D = "";
                        for (y = 0; y < n.length; y++) D = D + p.lcStr(u.STR.GET) + " |" + p.lcStr(s.Data._propsInfo[n[y]._infoId]._nameSid), y != n.length - 1 && (D += "\n\n");
                        g.ToastManager.pushMultiline(D)
                    }
                    t._barSpine.getComponent(sp.Skeleton).setAnimation(1, "animation2", !1), t._barSpine.runAction(h.lc.sequence(4, function () {
                        t._barSpine.getComponent(sp.Skeleton).setAnimation(1, "animation3", !0)
                    })), t.getRootNode().runAction(h.lc.sequence(1.6, function () {
                        var e = i.CardPackagePanel.Mode.open_one;
                        t._curRecruitInfo._value % 100 == 1 && i.CardPackagePanel.Mode.open_one || (e = i.CardPackagePanel.Mode.show_all), t._cardPackagePanel = i.CardPackagePanel.create(e, a, t._curRecruitInfo, t._detailInfoOnce), t._cardPackagePanel.show(), f.noxcc.setActive(t._btnBack.node, !0), t._btnBack.interactable = !0
                    }, function () {
                    })), string.find(m.GuideManager.getCurStepName(), "buy once") >= 0 && (m.GuideManager._finger.setVisible(!1), m.GuideManager.closeNpcTipLayer(), m.GuideManager.finishStep())
                }, t.prototype.onCardBoxInfo = function (e) {
                    var t, n = e.getExtensions_Card_pb_SglCardMsg_card_box_info_resp();
                    if (this._packageCards = [], this._curType == x.rare) for (var a = 0; a < n.length; a++) {
                        var i = n[a];
                        s.Data.getInfo(i.info_id) && (this._packageCards[a] = {
                            _infoId: i.info_id,
                            _getNum: i.get_num,
                            _remainNum: i.remain_num
                        })
                    } else for (a = 0; a < n.length; a++) {
                        i = n[a];
                        s.Data.getInfo(i.info_id) && (this._packageCards[a] = {
                            _infoId: i.info_id,
                            _getNum: i.get_num,
                            _remainNum: i.remain_num
                        })
                    }
                    this._highQualityNeedCount = null, e.hasExtensions_Card_pb_SglCardMsg_remain_pkg_ur_resp() && (this._highQualityNeedCount = e.getExtensions_Card_pb_SglCardMsg_remain_pkg_ur_resp()), l.ClientView.getActiveIndicator().hide(), e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_RESET_CARDBOX && g.ToastManager.push(p.lcStr(u.STR.TAVERN_RESET_SUCCESS)), t = !this._isDataReady, this._isDataReady = !0, this.updateGachaDetail(t)
                }, t.prototype.generateCardPackageData = function () {
                    var e = this, t = [];
                    for (var n in s.Data._recruitInfo) {
                        var a = s.Data._recruitInfo[n];
                        t.push(a)
                    }
                    y.nox.sort(t, function (t, n) {
                        var a = Math.floor(t._value) % 100, i = Math.floor(n._value) % 100, o = e.isLocked(t)[0],
                            r = e.isLocked(t)[0];
                        Math.floor(t._value / 100), Math.floor(n._value / 100);
                        return t._value > 2e5 && !(n._value > 2e5) ? -1 : !(t._value > 2e5) && n._value > 2e5 ? 1 : !o && r ? -1 : o && !r ? 1 : t._value > 1e5 && !(n._value > 1e5) ? -1 : !(t._value > 1e5) && n._value > 1e5 ? 1 : t._value - n._value
                    }), e._packages[x.super] = [], e._packages[x.nature] = [], e._packages[x.rare] = [], e._packages[x.time_limit] = [];
                    for (var i = function (e, t, n, a) {
                        return {_once: e, _ten: t, _fifty: n, _fiftyEx: a}
                    }, o = 0; o < t.length;) {
                        s.Data.getIsTimeLimitGacha(t[o]) && (!m.GuideManager.isGuideEnabled() && !T.lcAppCfg.isHideActivityPackage() && S.ActivityUtil.isActivityValidByParam(t[o]._value)), s.Data.getIsRareGacha(t[o]) && !S.ActivityUtil.isActivityValidByParam(t[o]._value) || !S.ActivityUtil.isActivityValidByParam(t[o]._value) || (s.Data.getIsSuperGacha(t[o]) ? e._packages[x.super].push(i(t[o], t[o + 1])) : s.Data.getIsTimeLimitGacha(t[o]) ? e._packages[x.time_limit].push(i(t[o + 1], t[o + 2])) : s.Data.getIsRareGacha(t[o]) ? e._packages[x.rare].push(i(t[o], t[o + 1], t[o + 2], t[o + 3])) : s.Data.getIsNatureGacha(t[o]) && e._packages[x.nature].push(i(t[o + 1], t[o + 2], t[o + 3]))), o += 1
                    }
                }, t.prototype.getPackageInfo = function () {
                    for (var e = [0, 0, 0, 0, 0, 0, 0], t = [0, 0, 0, 0, 0, 0, 0], n = 0; n < this._packageCards.length; ++n) {
                        var a = this._packageCards[n], i = s.Data.getInfo(a._infoId)._quality;
                        e[i - 1] = e[i - 1] + a._remainNum, t[i - 1] = t[i - 1] + a._getNum
                    }
                    var o = 0;
                    for (n = 0; n < e.length; ++n) o += e[n];
                    return [e, t, Math.floor(o / 3)]
                }, t.prototype.removeCardFromPackage = function (e, t) {
                    for (var n = 0; n < this._packageCards.length; n++) {
                        var a = this._packageCards[n];
                        a._infoId == e && (a._getNum = a._getNum + t, a._remainNum = a._remainNum - t)
                    }
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), t.gCurrenton = this;
                    var n = this;
                    this.generateCardPackageData();
                    var a = f.noxcc.find("center/contentPanel", n.mRoot);
                    n._container = f.noxcc.findButton("container", a), n._containerPos = cc.v2(n._container.node.x, n._container.node.y), n._barSpine = f.noxcc.find("barSpine", n._container.node), n._btnBack = f.noxcc.findButton("topBar/topInfo/closeBtn", n.mRoot), n._gachaDetailPanel = f.noxcc.find("GachaDetailPanel", n.mRoot), n._gachaStat = n._gachaDetailPanel.getChildByName("qualityLevels"), f.noxcc.setActive(n._gachaDetailPanel, !1), f.noxcc.addClick(n._btnBack, n, function () {
                        0 != n._depth ? n.onLeaveGacha() : O.SceneManager.popScene()
                    });
                    var i = f.noxcc.findButton("topBar/topInfo/help_btn", n.mRoot);
                    f.noxcc.addClick(i, n, function () {
                        var e = 601;
                        switch (n._curType) {
                            case x.time_limit:
                                e = 601;
                                break;
                            case x.nature:
                                e = 602;
                                break;
                            case x.rare:
                                e = 603;
                                break;
                            case x.super:
                                e = 604;
                                break;
                            default:
                                e = 601
                        }
                        A.ClientData.showHelpForm(null, e)
                    }), f.noxcc.addClick(n._container, n, function () {
                        n.onEnterGacha()
                    }), n._barBtn = f.noxcc.findButton("inGachaBtn", a), f.noxcc.addClick(n._barBtn, n, function () {
                        n.onEnterGacha()
                    }), n._barBtn.zoomScale = .95, n._barAd = f.noxcc.find("gacha", a), n._barAd.runAction(h.lc.sequence(h.lc.moveTo(.8, cc.v2(n._barAd.x, n._barAd.y - 15 - 10)), h.lc.moveTo(.8, cc.v2(n._barAd.x, n._barAd.y - 15))).repeatForever()), n._listBg = f.noxcc.find("center/rightList", n.mRoot), n._gachaListPos = cc.v2(n._listBg.x, n._listBg.y), n._list = f.noxcc.find("scrollView/content", n._listBg), n._gachaButtons = n._gachaDetailPanel.getChildByName("buyButtons"), n._gachaButtonsPos = cc.v2(n._gachaButtons.x, n._gachaButtons.y), n._tabArea = f.noxcc.find("center/tabArea", n.mRoot), n._tabAreaPos = cc.v2(n._tabArea.x, n._tabArea.y);
                    var o = [];
                    n._packages[x.time_limit].length > 0 && o.push({
                        _str: p.lcStr(u.STR.GACHA_TIME_LIMIT),
                        _index: x.time_limit
                    }), n._packages[x.nature].length > 0 && o.push({
                        _str: p.lcStr(u.STR.GACHA_NATURE),
                        _index: x.nature
                    }), n._packages[x.rare].length > 0 && o.push({
                        _str: p.lcStr(u.STR.GACHA_RARE),
                        _index: x.rare
                    }), n._packages[x.super].length > 0 && o.push({_str: p.lcStr(u.STR.GACHA_AETHER), _index: x.super});
                    var r = f.noxcc.find("templateBtn", n._tabArea);
                    n._tabArea.removeAllChildren();
                    for (var _ = function (e) {
                        var t = void 0;
                        t = f.noxcc.instantiate(r), f.noxcc.addChild(n._tabArea, t), f.noxcc.setLabelString(t.getChildByName("text"), o[e]._str), f.noxcc.setLabelString(f.noxcc.find(t, "icon/select_label"), o[e]._str), f.noxcc.setActive(t, !0), f.noxcc.addClick(t, n, function () {
                            n.showTab(o[e]._index)
                        })
                    }, s = 0; s < o.length; s++) _(s);
                    n._initTabIndex && 0 != n._initTabIndex && 0 != n._packages[n._initTabIndex].length || (n._initTabIndex = o[0]._index), n.showTab(n._initTabIndex)
                }, t.prototype.onReleaseWidget = function () {
                    cc.assert(t.gCurrenton == this, "TavernScene.gCurrenton error"), t.gCurrenton = null;
                    null != this._gachaCards && this._gachaCards.onRecycleCard(), this._barSpine.destroy(), f.noxcc.destroyAllChildren(this._tabArea), this._tabArea.destroy(), this._tabArea = null, f.noxcc.destroyAllChildren(this._list), this._list.destroy(), this._packages = null, e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.unlockListener = s.Data.Event.unlock_character_dirty.addListener(null, function () {
                        t.updateGachaDetail(!1)
                    }), t.exchangeResource()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.showTab = function (e, t) {
                    var n = this;
                    (function () {
                        for (var e = 0; e < n._tabArea.childrenCount; e++) n._tabArea.children[e].getChildByName("icon").setVisible(!1)
                    })(), n._tabArea.children[e - 1].getChildByName("icon").setVisible(!0), n._curType = e, n.updateGachaList(), n.updateGachaBar(), n.exchangeResource()
                }, t.prototype.exchangeResource = function () {
                    var e = s.Data.ResType.gold;
                    this._curType == x.nature ? e = s.Data.PropsId.character_package_ticket : this._curType == x.rare ? e = s.Data.PropsId.rare_package_ticket : this._curType == x.super && (e = s.Data.PropsId.common_fragment), l.ClientView.getResourceUI().setMode(e)
                }, t.prototype.onEnterGacha = function () {
                    var e = this;
                    e._isBusy || 0 != e._depth || (e._curPackage = e._packages[e._curType][e._typeIndex[e._curType]], e._isDataReady = !1, d.CardPart.sendCardBoxInfo(e._curPackage._once._value), e._depth = 1, e._isBusy = !0, e._tabArea.runAction(h.lc.moveBy(.2, cc.v2(h.lc.x(e._tabArea) - h.lc.w(e._tabArea) / 2, 0))), e._listBg.runAction(h.lc.moveBy(.2, cc.v2(h.lc.x(e._listBg) + h.lc.w(e._listBg) / 2, 0))), e._container.node.runAction(h.lc.sequence(h.lc.moveBy(.4, cc.v2(-h.lc.w(e.mRoot) / 2 + h.lc.w(e._container.node) / 2 - 90, 0)), function () {
                        e.createGachaDetail(), e._isBusy = !1, e.updateGachaDetail(!0)
                    })), f.noxcc.setActive(e._gachaDetailPanel, !0), e._barAd.runAction(h.lc.fadeOut(.2)), f.noxcc.setActive(e._barBtn, !1), "select buy type" == m.GuideManager.getCurStepName() && (m.GuideManager._finger.node.setVisible(!1), m.GuideManager.closeNpcTipLayer()))
                }, t.prototype.onLeaveGacha = function () {
                    var e = this;
                    e._isBusy || (e._depth = 0, e._isBusy = !0, e._tabArea.runAction(h.lc.moveTo(.3, e._tabAreaPos)), e._listBg.runAction(h.lc.moveTo(.3, e._gachaListPos)), e._container.node.runAction(h.lc.sequence(h.lc.moveTo(.5, e._containerPos), function () {
                        e._isBusy = !1, e._barAd.runAction(h.lc.fadeIn(.2)), f.noxcc.setActive(e._barBtn, !0)
                    })), e._gachaButtons.runAction(h.lc.moveTo(.2, cc.v2(h.lc.x(e._gachaButtons), h.lc.bottom(e.mRoot) - h.lc.ch(e._gachaButtons))).easing(cc.easeSineInOut())), e.hideGachaDetail())
                }, t.prototype.updateGachaDetail = function (e) {
                    !this._isBusy && this._isDataReady && (e && this.showGachaDetail(), this.updateGachaStat(), this.updateGachaCards(), this.updateGachaButtons(), "select buy type" == m.GuideManager.getCurStepName() && m.GuideManager.finishStepLater(.3))
                }, t.prototype.showGachaDetail = function () {
                    f.noxcc.setActive(this._gachaStat, !0), this._gachaStat.runAction(h.lc.moveTo(.2, cc.v2(h.lc.left(this.getRootNode()) + 50, h.lc.y(this._gachaStat))).easing(cc.easeSineIn())), this._curType == x.super ? (this._gachaCards2.node.setPosition(h.lc.right(this.mRoot) + h.lc.cw(this._gachaCards2.node) + 120, 0), this._gachaCards2.node.setVisible(!0), this._gachaCards2.node.runAction(h.lc.moveTo(.2, cc.v2(208, 5)).easing(cc.easeSineIn())), this._gachaCards.node.setVisible(!1), f.noxcc.setActive(this._gachaCards._pageLeft, !1), f.noxcc.setActive(this._gachaCards._pageRight, !1)) : (this._gachaCards.node.setVisible(!0), this._gachaCards.node.setPosition(h.lc.right(this.mRoot) + h.lc.cw(this._gachaCards.node) + 120, 0), this._gachaCards.node.runAction(h.lc.moveTo(.2, cc.v2(212, 48)).easing(cc.easeSineIn())), this._gachaCards2.node.setVisible(!1)), this._gachaButtons.setVisible(!0), this._gachaButtons.setPosition(h.lc.x(this._gachaButtons), h.lc.bottom(this.mRoot) - h.lc.ch(this._gachaButtons)), this._gachaButtons.runAction(h.lc.moveTo(.2, this._gachaButtonsPos).easing(cc.easeSineIn()))
                }, t.prototype.hideGachaDetail = function () {
                    this._gachaCards.node.runAction(h.lc.moveTo(.2, cc.v2(h.lc.right(this.mRoot) + h.lc.cw(this._gachaCards.node) + 120, 0))), this._gachaCards2.node.runAction(h.lc.moveTo(.2, cc.v2(h.lc.right(this.mRoot) + h.lc.cw(this._gachaCards2.node) + 120, 0))), this._gachaButtons.runAction(h.lc.moveTo(.2, cc.v2(h.lc.x(this._gachaButtons), h.lc.bottom(this.mRoot) - h.lc.ch(this._gachaButtons)))), this._gachaCards2.node.setVisible(!1), f.noxcc.setActive(f.noxcc.find("remainBg", this._gachaDetailPanel), !1), f.noxcc.setActive(f.noxcc.find("tipBg", this._gachaDetailPanel), !1), f.noxcc.setActive(this._gachaStat._btnReset.node, !1), f.noxcc.setActive(this._gachaStat, !1), f.noxcc.setActive(this._gachaCards._pageLeft, !1), f.noxcc.setActive(this._gachaCards._pageRight, !1)
                }, t.prototype.updateGachaStat = function () {
                    for (var e = this.getPackageInfo(), t = e[0], n = e[1], a = e[2], i = [], o = 0; o < s.Data.CardQuality.count; o++) this._curType == x.nature ? (n[o] > 0 || t[o] > 0) && i.push({
                        _quality: o,
                        _str: t[o] + "/" + (t[o] + n[o])
                    }) : t[o] > 0 && i.push({_quality: o, _str: y.nox.toString(t[o])});
                    for (var r = 0; r < this._gachaStat._remainQualityLabels.length; r++) this._gachaStat._remainQualityLabels[r].destroy();
                    this._gachaStat._remainQualityLabels = [], this._gachaStat.removeAllChildren();
                    for (r = 0; r < i.length; r++) {
                        var _ = R.SpriteUtil.createSprite(string.format("card_quality_s_%02d", i[r]._quality + 1)).node;
                        f.noxcc.setParent(_, this._gachaStat);
                        var c = v.NodeWithLabel.createTTF(i[r]._str, b.UICfg.FontSize.S2);
                        h.lc.addChildToPosAR(_, c, cc.v2(_.x, h.lc.y(_) - 30)), this._gachaStat._remainQualityLabels.push(_), this._gachaStat._remainQualityLabels[this._gachaStat._remainQualityLabels.length] = c
                    }
                    var l = f.noxcc.find("remainBg", this._gachaDetailPanel),
                        d = f.noxcc.find("tipBg", this._gachaDetailPanel);
                    this._curType == x.nature ? (l.setVisible(!0), f.noxcc.setLabelString(f.noxcc.findLabel("text", l), a), this._gachaStat._btnReset.node.setVisible(!0)) : (l.setVisible(!1), this._gachaStat._btnReset.node.setVisible(!1)), this._curType == x.nature ? (d.setVisible(!0), f.noxcc.setLabelString(f.noxcc.findLabel("text", d), p.lcStr(u.STR.TAVERN_TIP))) : this._curType != x.rare && this._curType != x.time_limit || !this._highQualityNeedCount ? d.setVisible(!1) : (d.setVisible(!0), f.noxcc.setLabelString(f.noxcc.findLabel("text", d), string.format(p.lcStr(u.STR.RECRUIT_MORE_TIP), this._highQualityNeedCount)))
                }, t.prototype.updateGachaCards = function () {
                    this._curType == x.super ? this._gachaCards2.refresh(this._packageCards) : (this._gachaCards._recruiteInfo = this._packageCards, this._gachaCards.setMode((this._curType == x.nature || this._curType == x.rare) && o.CardList.ModeType.recruite || o.CardList.ModeType.recruite_rare), this._gachaCards.setIsRare(this._curType == x.rare), this._gachaCards.init(null, []), this._gachaCards.refresh(!0))
                }, t.prototype.updateGachaButtons = function () {
                    var e = this, t = [1, 10, 50, 50], n = 3,
                        a = [e._curPackage._once, e._curPackage._ten, e._curPackage._fifty, e._curPackage._fiftyEx];
                    e._gachaButtons._info = a[0], e._curType == x.rare && P._vip > 0 ? n = 4 : e._curType == x.super ? n = 2 : e._curType == x.nature && 0 == P._vip && (n = 2), e._gachaButtons.destroyAllChildren();
                    var i = e.isLocked(a[0]), o = i[0], r = i[1];
                    if (o) {
                        var _ = E.UIUtil.createScale9ShaderButton("img_btn_blue_s", function () {
                            I.CharacterPanel.show(!1, Math.floor(e._gachaButtons._info._value / 1e3) % 10)
                        }, b.UICfg.CRECT_BUTTON_S, 256);
                        _.addLabel(r), h.lc.addChildToCenter(e._gachaButtons, _)
                    } else {
                        if (e._curType == x.rare && P.getMaxCharacterLevel() < 5) return h.lc.addChildToCenter(e._gachaButtons, E.UIUtil.createBMFont(b.UICfg.BMFont.huali_32, string.format(p.lcStr(u.STR.LORD_UNLOCK_LEVEL), 5))), !1;
                        e._gachaButtons._buyBtns = [], e._gachaButtons.getComponent(cc.Layout).spacingX = n > 3 ? 15 : 40;
                        for (var s = 0; s < n; s++) if (t[s]) {
                            var c = e._curType == x.rare && P._vip > 0, l = a[s], d = t[s],
                                g = e.createBuyBtn(l, d, e._gachaButtons._info, c, e._cardPackagePanel);
                            e._gachaButtons.addChild(g), e._gachaButtons._buyBtns.push(g), c = !(P._vip <= 0)
                        }
                    }
                }, t.prototype.createBuyBtn = function (e, t, n, a, i) {
                    var o = this;
                    o._detailInfoOnce = n;
                    var r = null, _ = e._param[1];
                    s.Data.getIsRareGacha(e) && e._param[0] == s.Data.ResType.gold && P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, t) ? (r = A.ClientData.getPropIconName(s.Data.PropsId.rare_package_ticket), _ = t) : s.Data.getIsNatureGacha(e) && P._propBag.hasProps(s.Data.PropsId.character_package_ticket, t) ? (r = A.ClientData.getPropIconName(s.Data.PropsId.character_package_ticket), _ = t) : r = e._param[0] == s.Data.ResType.ingot || e._param[0] == s.Data.ResType.gold || e._param[0] == s.Data.ResType.binding_ingot ? e._param[0] == s.Data.ResType.binding_ingot && o.isNotUseBindingIngot() ? A.ClientData.getResIconName(s.Data.ResType.ingot, !1) : A.ClientData.getResIconName(e._param[0], !1) : A.ClientData.getPropIconName(e._param[0]);
                    var c = E.UIUtil.createResConsumeButton(210, 45, r, "999999", string.format(p.lcStr(u.STR.OPEN_PACKAGE_COUNT), t), "img_btn_green_s");
                    c._resNeed = _, c._info = e, c._infoOnce = n, c._packagePanel = i;
                    var l = c._label, d = 0, m = 0;
                    return a ? (d = -25, m = 1) : (d = -30, m = .9), h.lc.offset(l, d, 0), c._resArea.setScale(m), c.update = function () {
                        var n = null;
                        e._param[1];
                        if (s.Data.getIsRareGacha(e) && e._param[0] == s.Data.ResType.gold && P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, t) ? (n = A.ClientData.getPropIconName(s.Data.PropsId.rare_package_ticket), t) : s.Data.getIsNatureGacha(e) && P._propBag.hasProps(s.Data.PropsId.character_package_ticket, t) ? (n = A.ClientData.getPropIconName(s.Data.PropsId.character_package_ticket), t) : n = e._param[0] == s.Data.ResType.ingot || e._param[0] == s.Data.ResType.gold || e._param[0] == s.Data.ResType.binding_ingot ? e._param[0] == s.Data.ResType.binding_ingot && o.isNotUseBindingIngot() ? A.ClientData.getResIconName(s.Data.ResType.ingot, !1) : A.ClientData.getResIconName(e._param[0], !1) : A.ClientData.getPropIconName(e._param[0]), c.getChildByName("ico") && c.getChildByName("ico").destroy(), c.getChildByName("resNeed")) c._resLabel.setString(string.format("%d", c._resNeed)); else {
                            var a = v.NodeWithLabel.createTTF(string.format("%d", c._resNeed));
                            h.lc.addChildToPosAR(c, a, cc.v2(h.lc.right(c) - 40, 0)), a.name = "resNeed", c._resLabel = a
                        }
                        var i = R.SpriteUtil.createSprite(n);
                        i.node.name = "ico", h.lc.addChildToPosAR(c, i.node, cc.v2(12, 0)), s.Data.getIsRareGacha(e) && e._param[0] == s.Data.ResType.gold && P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, t) ? f.noxcc.setLabelColor(c._resLabel, h.lc.Color3B.white) : s.Data.getIsNatureGacha(e) && P._propBag.hasProps(s.Data.PropsId.character_package_ticket, t) ? f.noxcc.setLabelColor(c._resLabel, h.lc.Color3B.white) : e._param[0] == s.Data.ResType.ingot || e._param[0] == s.Data.ResType.binding_ingot ? e._param[0] != s.Data.ResType.binding_ingot || o.isNotUseBindingIngot() ? f.noxcc.setLabelColor(c._resLabel, P._ingot < c._resNeed ? h.lc.Color3B.red : h.lc.Color3B.white) : f.noxcc.setLabelColor(c._resLabel, P._binding_ingot < c._resNeed ? h.lc.Color3B.red : h.lc.Color3B.white) : e._param[0] == s.Data.ResType.gold ? f.noxcc.setLabelColor(c._resLabel, P._gold < this._resNeed ? h.lc.Color3B.red : h.lc.Color3B.white) : f.noxcc.setLabelColor(c._resLabel, P._propBag._props[e._param[0]]._num < this._resNeed ? h.lc.Color3B.red : h.lc.Color3B.white)
                    }, c.update(), c._callback = function (e) {
                        var t = e, n = o.isLocked(t._infoOnce), a = n[0], i = n[1];
                        if (a) g.ToastManager.push(i); else {
                            if (!o.checkBuyPackage(t._info)) return void (t._info._param[0] != s.Data.ResType.binding_ingot || o.isNotUseBindingIngot() || M.Dialog.showDialog(p.lcStr(u.STR.CONTINUE_USE_BINDING_INGOT), function () {
                                t._packagePanel && (o._barSpine.stopAllActions(), t._packagePanel.hide()), o.buyPackage(t._info)
                            }));
                            t._packagePanel && (o._barSpine.stopAllActions(), t._packagePanel.hide()), o.buyPackage(t._info)
                        }
                    }, c
                }, t.prototype.checkBuyPackage = function (e) {
                    var t = e._param[1];
                    if (s.Data.getIsRareGacha(e) && e._param[0] == s.Data.ResType.gold && P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, e._value % 100)) {
                        if (!P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, e._value % 100)) return g.ToastManager.push(string.format(p.lcStr(u.STR.NOT_ENOUGH), p.lcStr(s.Data._propsInfo[s.Data.PropsId.rare_package_ticket]._nameSid))), !1
                    } else if (s.Data.getIsNatureGacha(e) && P._propBag.hasProps(s.Data.PropsId.character_package_ticket, e._value % 100)) {
                        if (!P._propBag.hasProps(s.Data.PropsId.character_package_ticket, e._value % 100)) return g.ToastManager.push(string.format(p.lcStr(u.STR.NOT_ENOUGH), p.lcStr(s.Data._propsInfo[s.Data.PropsId.character_package_ticket]._nameSid))), !1
                    } else {
                        if (s.Data.getIsSuperGacha(e) && this.isSuperGachaFull(e)) return g.ToastManager.push(p.lcStr(u.STR.GACHA_AETHER_FULL)), !1;
                        if (e._param[0] == s.Data.ResType.ingot || e._param[0] == s.Data.ResType.binding_ingot) return e._param[0] != s.Data.ResType.binding_ingot || this.isNotUseBindingIngot() ? l.ClientView.checkIngot(t) : l.ClientView.checkBindingIngot(t);
                        if (e._param[0] == s.Data.ResType.gold) return l.ClientView.checkGold(t);
                        if (!P._propBag.hasProps(e._param[0], t)) return g.ToastManager.push(string.format(p.lcStr(u.STR.NOT_ENOUGH), p.lcStr(s.Data._propsInfo[e._param[0]]._nameSid))), e._param[0] != s.Data.PropsId.miracle_indicator && B.ExchangeResForm.create(e._param[0]).show(), !1
                    }
                    return !0
                }, t.prototype.isNotUseBindingIngot = function () {
                    return !(T.lcAppCfg.isEnableBindingIngot() && P._binding_ingot > 0)
                }, t.prototype.isSuperGachaFull = function (e) {
                    for (var t = 0; t < e._pid.length; t++) if (0 == P._playerCard.getCardCount(e._pid[t][0]) && P._playerCard.getFragmentCount(e._pid[t]) < s.Data._globalInfo._legendCardMixCount) return !1;
                    return !0
                }, t.prototype.buyPackage = function (e) {
                    this._curRecruitInfo = e;
                    var t = !1, n = e._param[1];
                    s.Data.getIsRareGacha(e) && e._param[0] == s.Data.ResType.gold && P._propBag.hasProps(s.Data.PropsId.rare_package_ticket, e._value % 100) ? (P._propBag.changeProps(s.Data.PropsId.rare_package_ticket, -e._value % 100), t = !0) : s.Data.getIsNatureGacha(e) && P._propBag.hasProps(s.Data.PropsId.character_package_ticket, e._value % 100) ? (P._propBag.changeProps(s.Data.PropsId.character_package_ticket, -e._value % 100), t = !0) : e._param[0] == s.Data.ResType.ingot || e._param[0] == s.Data.ResType.gold || e._param[0] == s.Data.ResType.binding_ingot ? P.changeResource(e._param[0], -n) : P._propBag.changeProps(e._param[0], -n), l.ClientView.getActiveIndicator().show(p.lcStr(u.STR.RECRUITING)), this._curType != x.super && (this.hideGachaDetail(), this._btnBack.interactable = !1, this._container.node.runAction(h.lc.spawn(h.lc.scaleTo(.3, 1.4), h.lc.moveTo(.3, cc.v2(this.getRootNode().x, this.getRootNode().y))))), N.lcAudio.playAudio(D.AUDIO.E_TAVERN_BUY_PACKAGE), string.find(m.GuideManager.getCurStepName(), "buy once") ? d.CardPart.sendCardLottery(e._value, !1, t) : d.CardPart.sendCardLottery(e._value - 1, !0, !1), this.updateBuyBtn()
                }, t.prototype.updateBuyBtn = function () {
                    for (var e = 0; e < this._gachaButtons._buyBtns.length; e++) this._gachaButtons._buyBtns[e].update()
                }, t.prototype.resetPackage = function (e) {
                    l.ClientView.getActiveIndicator().show(p.lcStr(u.STR.RECRUITING)), d.CardPart.sendCardBoxReset(e._value)
                }, t.prototype.updateGachaList = function () {
                    var e = 0;
                    1 == this._curType && (e = P.getCharacterId() - 2), this._typeIndex[this._curType] = y.nox.D(this._typeIndex[this._curType], e), f.noxcc.destroyAllChildren(this._list);
                    for (var t = 0; t < this._packages[this._curType].length; t++) {
                        var n = this._packages[this._curType][t], a = this.createGachaBtn(n && n._once, t);
                        f.noxcc.setParent(a, this._list)
                    }
                }, t.prototype.createGachaBtn = function (e, t) {
                    var n = this, a = f.noxcc.newNode("gachaItem");
                    a.setContentSize(117, 133);
                    var i = f.noxcc.newNode(n._curType + "");
                    if (i.addComponent(cc.Sprite), i.getComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.TRIMMED, C.NoxResMgr.loadSpriteFrameAsync("city/" + string.format(w[n._curType] + "%02d", s.Data.getRecruiteIndex(e._value)), function (e) {
                        e && f.noxcc.isValid(i) && f.noxcc.setSpriteFrame(i, e)
                    }), i.addComponent(cc.Button), f.noxcc.addClick(i, n, function () {
                        n.onSelectInGachaList(t)
                    }), t == n._typeIndex[n._curType]) {
                        var o = f.noxcc.newNode("gachaFocus");
                        o.addComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.TRIMMED, C.NoxResMgr.loadSpriteFrameAsync("city/gacha_list_focus", function (e) {
                            e && f.noxcc.isValid(o) && f.noxcc.setSpriteFrame(o, e)
                        }), n._gachaFocus = o, a.addChild(o, -1, "gachaFocus")
                    }
                    return a.addChild(i, 1), a
                }, t.prototype.onSelectInGachaList = function (e) {
                    if (this._typeIndex[this._curType] != e) {
                        this._typeIndex[this._curType] = e;
                        for (var t = 0; t < f.noxcc.getChildrenCount(this._list); t++) {
                            var n = f.noxcc.getChild(this._list, t);
                            if (f.noxcc.getChildrenCount(n) > 1 && f.noxcc.find(n, "gachaFocus").removeFromParent(), this._typeIndex[this._curType] == t) {
                                var a = f.noxcc.instantiate(this._gachaFocus);
                                n.addChild(a, 0, "gachaFocus")
                            }
                        }
                        this.updateGachaBar()
                    }
                }, t.prototype.updateGachaBar = function () {
                    var e = this, t = e._packages[e._curType][e._typeIndex[e._curType]]._once,
                        n = F[e._curType][s.Data.getRecruiteIndex(t._value) - 1];
                    C.NoxResMgr.loadSkeletonAsync("spine/" + n, function (t) {
                        if (t && f.noxcc.isValid(e._barSpine)) {
                            var n = e._barSpine.getComponent(sp.Skeleton);
                            n.skeletonData = t, n.setAnimation(1, "animation", !0)
                        }
                    });
                    var a = "gacha_ad_" + (e._curType == x.super && Math.floor(t._value / 100) || Math.floor(t._value / 1e3));
                    if (C.NoxResMgr.loadSpriteFrameAsync("img/" + a, function (t) {
                        t && f.noxcc.isValid(e._barAd) && f.noxcc.setSpriteFrame(e._barAd, t)
                    }), e._remainTimeBg = f.noxcc.find("center/contentPanel/activityTime", e.mRoot), f.noxcc.setActive(e._remainTimeBg, !1), e._curType == x.time_limit) {
                        f.noxcc.setActive(e._remainTimeBg, !0);
                        var i = S.ActivityUtil.getActivityDuration(t);
                        i[0], i[1];
                        e._endTime = U.TimeUtil.getCurrentTime(), f.noxcc.setLabelString(f.noxcc.find("text", e._remainTimeBg), p.lcStr(u.STR.ACTIVITY_LEFT_TIME) + "  10001")
                    }
                }, t.prototype.createGachaDetail = function () {
                    this.createGachaStat(), this.createGachaCards(), this._gachaCards2 && (this._gachaCards2.node.destroy(), this._gachaCards2 = null), this._gachaCards2 = r.AetherCardList.create(cc.size(800, 420)), h.lc.addChildToPosAR(this._gachaDetailPanel, this._gachaCards2.node, cc.v2(208, 5))
                }, t.prototype.createGachaStat = function () {
                    var e = this;
                    e._gachaStat._btnReset && (e._gachaStat._btnReset = null), e._gachaStat._btnReset = f.noxcc.findButton("gacha_reset", e._gachaDetailPanel), e._gachaStat._remainQualityLabels = [], f.noxcc.addClick(e._gachaStat._btnReset, e, function () {
                        var t = e.isLocked(e._curPackage._once), n = t[0], a = t[1];
                        n ? g.ToastManager.push(a) : M.Dialog.showDialog(p.lcStr(u.STR.CONFIRM_RESET_PACKAGES), function () {
                            e.resetPackage(e._curPackage._once)
                        }, !1)
                    });
                    var t = f.noxcc.findLabel("remainBg/textTip", e._gachaDetailPanel),
                        n = f.noxcc.findLabel("remainBg/text", e._gachaDetailPanel);
                    f.noxcc.setLabelString(t, p.lcStr(u.STR.REMIAN_CARD_PACKAGE)), f.noxcc.setLabelString(n, 0);
                    var a = f.noxcc.findLabel("tipBg/text", e._gachaDetailPanel);
                    f.noxcc.setLabelString(a, p.lcStr(u.STR.TAVERN_TIP))
                }, t.prototype.createGachaCards = function () {
                    null == this._gachaCards && (this._gachaCards = o.CardList.create(cc.size(880, 520), .4, !1), h.lc.addChildToPosAR(this._gachaDetailPanel, this._gachaCards.node, cc.v2(212, 48)), this._gachaCards._pageFormat = "%s%d\n%d\n%s", this._gachaCards._pageLabel && f.noxcc.setActive(this._gachaCards._pageLabel, !1), this._gachaCards.registerCardSelectedHandler(function (e) {
                        var t = e.target.parent._thumbnail._infoId;
                        k.CardInfoPanel.create(t, 1, k.CardInfoPanel.OperateType.view).show()
                    }))
                }, t.prototype.isLocked = function (e) {
                    var t = !1, n = "", a = 100 * Math.floor(e._value / 100) + 1;
                    if (s.Data.getIsTimeLimitGacha(e)) ; else if (s.Data.getIsRareGacha(e)) 102001 == a || 103001 == a && P.getCharacterUnlockCount() < 2 || 104001 == a && P.getCharacterUnlockCount(); else if (s.Data.getIsNatureGacha(e)) {
                        var i = null;
                        for (var o in s.Data._characterInfo) {
                            var r = s.Data._characterInfo[o];
                            if (r._packageIds[0] == a) {
                                i = r;
                                break
                            }
                        }
                        i && !P.isCharacterUnlocked(i._id) && (t = !0, n = string.format("%s:%s", p.lcStr(u.STR.NEED_UNLOCK) + p.lcStr(u.STR.CHARACTER), p.lcStr(i._nameSid)))
                    }
                    return [t, n]
                }, t.prototype.afterOpenPackage = function (e) {
                    this._barSpine.stopAllActions(), this._barSpine.getComponent(sp.Skeleton).setAnimation(1, "animation", !0), this._container.node.runAction(h.lc.spawn(h.lc.scaleTo(.3, 1), h.lc.moveTo(.3, cc.v2(-555, 0)))), this.updateGachaDetail(!0), m.GuideManager.finishStep()
                }, t.prototype.onGuide = function (e) {
                    var t = m.GuideManager.getCurStepName();
                    if ("select buy type" == m.GuideManager.getCurStepName()) m.GuideManager.setOperateLayer(this._barBtn.node); else if ("select buy nature" == t) m.GuideManager.finishStep(); else if ("buy once" == t) m.GuideManager.setOperateLayer(this._gachaButtons._buyBtns[0]); else {
                        if ("leave tavern" != t) return;
                        m.GuideManager.setOperateLayer(this._btnBack.node)
                    }
                }, t.prototype.onUpdate = function (e) {
                }, t.currenton = function () {
                    return t.gCurrenton
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t.Type = x, t
            }(e("./BaseUIScene").BaseUIScene);
        n.TavernScene = V, cc._RF.pop()
    }, {
        "../../framework/NoxResMgr": "NoxResMgr",
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcAudio": "lcAudio",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../AudioEnums": "AudioEnums",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../config/UICfg": "UICfg",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../part/CardPart": "CardPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/common/Dialog": "Dialog",
        "../ui/form/ExchangeResForm": "ExchangeResForm",
        "../ui/node/NodeWithLabel": "NodeWithLabel",
        "../ui/panel/CardInfoPanel": "CardInfoPanel",
        "../ui/panel/CardPackagePanel": "CardPackagePanel",
        "../ui/panel/CharacterPanel": "CharacterPanel",
        "../ui/panel/RewardPanel": "RewardPanel",
        "../ui/widget/AetherCardList": "AetherCardList",
        "../ui/widget/CardList": "CardList",
        "../utils/ActivityUtil": "ActivityUtil",
        "../utils/SpriteUtil": "SpriteUtil",
        "../utils/TimeUtil": "TimeUtil",
        "../utils/UIUtil": "UIUtil",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    TeachingScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1eb4aAIp+5Ne63uex5dEfGX", "TeachingScene");
        var a, i = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var o, r = e("../ui/panel/assistant/DailyTaskPage"), _ = e("../ui/panel/assistant/NewbieTaskPage"),
            s = e("../ui/panel/assistant/CharacterGrowingUpPage"), c = e("../ui/panel/assistant/GrowStrongPage"),
            l = e("../ui/panel/assistant/RecommendTroopPage"), d = e("../ui/panel/assistant/GrowthProcessPage"),
            p = e("../ui/AllViewTypes"), u = e("../../noxcc"), g = e("./BaseUIScene"), h = e("../const/SceneId"),
            f = e("./SceneManager"), m = e("../data/data"), y = e("../ClientView"), T = e("../GuideManager"),
            S = e("../../leocool/lc");
        (function (e) {
            e.DailyTask = "DailyTask", e.NewbieTask = "NewbieTask", e.CharacterGrowingUp = "CharacterGrowingUp", e.GrowStrong = "GrowStrong", e.RecommendTroop = "RecommendTroop", e.GrowthProcess = "GrowthProcess"
        })(o || (o = {}));
        var C = ((a = {})[o.DailyTask] = ["Left_ScrollView/view/content/DailyTaskPage_Button", function () {
            return new r.DailyTaskPage
        }], a[o.NewbieTask] = ["Left_ScrollView/view/content/NewbieTaskPage_Button", function () {
            return new _.NewbieTaskPage
        }], a[o.CharacterGrowingUp] = ["Left_ScrollView/view/content/CharacterGrowingUpPage_Button", function () {
            return new s.CharacterGrowingUpPage
        }], a[o.GrowStrong] = ["Left_ScrollView/view/content/GrowStrongPage_Button", function () {
            return new c.GrowStrongPage
        }], a[o.RecommendTroop] = ["Left_ScrollView/view/content/RecommendTroopPage_Button", function () {
            return new l.RecommendTroopPage
        }], a[o.GrowthProcess] = ["Left_ScrollView/view/content/GrowthProcessPage_Button", function () {
            return new d.GrowthProcessPage
        }], a), v = function (e) {
            function t() {
                var t = e.call(this, h.SceneId.helper, p.AllViewTypes.TeachingScene) || this;
                return t.mBackBtn = null, t.mAllToggles = {}, t.mActiveTab = null, t.mPageParent = null, t.mAllPages = {}, t
            }

            return i(t, e), t.prototype.init = function (e, t) {
                this._initTab = e, this._guideTab = t
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
                for (var t in e.prototype.onInitWidget.call(this), this.mBackBtn = u.noxcc.findButton("btn_Back", this.mRoot), u.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.mPageParent = u.noxcc.find("PageManage_Node", this.mRoot), o) {
                    var n = C[t], a = u.noxcc.findButton(n[0], this.mRoot);
                    this.mAllToggles[t] = a, u.noxcc.addToggleClick(a, this, this.onToggleClick, t);
                    var i = n[1]();
                    this.mAllPages[t] = i
                }
                this.mActiveTab = "", this.setActiveTab(this._initTab || o.DailyTask)
            }, t.prototype.onReleaseWidget = function () {
                for (var t in this.mAllPages) {
                    this.mAllPages[t].destroy()
                }
                this.mAllPages = {}, this.mAllToggles = {}, this.mActiveTab = "", e.prototype.onReleaseWidget.call(this)
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var t = this;
                this._listeners = [], this._listeners.push(m.Data.Event.daily_bonus_dirty.addListener(this, function () {
                    t.showTabFlag()
                })), this._listeners.push(m.Data.Event.daily_active_dirty.addListener(this, function () {
                    t.showTabFlag()
                })), this._listeners.push(m.Data.Event.bonus_dirty.addListener(this, function (e) {
                    e._bonus._type != m.Data.BonusType.lord && e._bonus._type != m.Data.BonusType.level && e._bonus._type != m.Data.BonusType.clash && e._bonus._type != m.Data.BonusType.clash_conti && e._bonus._type != m.Data.BonusType.clash_legacy && e._bonus._type != m.Data.BonusType.clash_local && e._bonus._type != m.Data.BonusType.clash_zone && e._bonus._type != m.Data.BonusType.arena_once && e._bonus._type != m.Data.BonusType.arena_all && e._bonus._type != m.Data.BonusType.arena_12 && e._bonus._type != m.Data.BonusType.gold_gain && e._bonus._type != m.Data.BonusType.card_sr && e._bonus._type != m.Data.BonusType.card_ur && e._bonus._type != m.Data.BonusType.login_day && e._bonus._type != m.Data.BonusType.any_level && e._bonus._type != m.Data.BonusType.gold_cost && e._bonus._type != m.Data.BonusType.gem_cost && e._bonus._type != m.Data.BonusType.card_package && e._bonus._type != m.Data.BonusType.bottle && e._bonus._type != m.Data.BonusType.fund_task && e._bonus._type != m.Data.BonusType.novice || t.showTabFlag()
                })), this.showTabFlag()
            }, t.prototype.onExit = function () {
                for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                e.prototype.onExit.call(this)
            }, t.prototype.onBackBtn = function () {
                f.SceneManager.popScene()
            }, t.prototype.showTabFlag = function () {
                var e = 0;
                for (var t in o) {
                    var n = o[t], a = C[t], i = u.noxcc.findButton(a[0], this.mRoot);
                    this.mAllToggles[t] = i, n == o.DailyTask ? (e = P._playerBonus.getDailyActiveBonusFlag() + P._playerBonus.getFundTasksFlag(), y.ClientView.checkNewFlag(i.node, e, 30, 0)) : n == o.GrowthProcess ? (e = P._playerBonus.getAchieveBonusFlag(), y.ClientView.checkNewFlag(i.node, e, 30, 0)) : n == o.CharacterGrowingUp ? (e = P._playerBonus.getLevelTaskBonusFlag(), y.ClientView.checkNewFlag(i.node, e, 30, 0)) : n == o.NewbieTask && (e = P._playerBonus.getNoviceTaskBonusFlag(), y.ClientView.checkNewFlag(i.node, e, 30, 0))
                }
            }, t.prototype.onToggleClick = function (e, t) {
                this.setActiveTab(e)
            }, t.prototype.setActiveTab = function (e) {
                if (this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles) {
                    var n = this.mAllToggles[t], a = this.mAllPages[t];
                    t == e ? (u.noxcc.setActive(u.noxcc.find("icon", n.node), !0), u.noxcc.setNodeColor(u.noxcc.find("Label", n.node), S.lc.Color3B.yellow), a.show(this.mPageParent)) : (u.noxcc.setActive(u.noxcc.find("icon", n.node), !1), u.noxcc.setNodeColor(u.noxcc.find("Label", n.node), S.lc.Color3B.white), a.hide(), a.destroy(), a = null)
                }
            }, t.create = function (e, n) {
                var a = new t;
                return a.init(e, n), a
            }, t.prototype.onGuide = function () {
                "claim task" == T.GuideManager.getCurStepName() ? this.setActiveTab("CharacterGrowingUp") : "close task" == T.GuideManager.getCurStepName() ? T.GuideManager.setOperateLayer(this.mBackBtn.node) : "show tab maintask" == T.GuideManager.getCurStepName() ? T.GuideManager.setOperateLayer(this.mBackBtn.node) : "show tab dailytask" == T.GuideManager.getCurStepName() ? T.GuideManager.setOperateLayer(this.mAllToggles.DailyTask.node) : "novice battle" == T.GuideManager.getCurStepName() || "novice claim" == T.GuideManager.getCurStepName() || "leave teach" == T.GuideManager.getCurStepName() && T.GuideManager.setOperateLayer(this.mBackBtn.node)
            }, t.Tab = o, t
        }(g.BaseUIScene);
        n.TeachingScene = v, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../noxcc": "noxcc",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/assistant/CharacterGrowingUpPage": "CharacterGrowingUpPage",
        "../ui/panel/assistant/DailyTaskPage": "DailyTaskPage",
        "../ui/panel/assistant/GrowStrongPage": "GrowStrongPage",
        "../ui/panel/assistant/GrowthProcessPage": "GrowthProcessPage",
        "../ui/panel/assistant/NewbieTaskPage": "NewbieTaskPage",
        "../ui/panel/assistant/RecommendTroopPage": "RecommendTroopPage",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    TimeUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "9aafbwAIMpNoINU6vwRXHWH", "TimeUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../leocool/lc"), i = e("../StringEnums"), o = e("../data/data"), r = e("../../nox"),
            _ = e("../../leocool/lcStr"), s = e("../../leocool/lcAppCfg");
        (function (e) {
            var t = s.lcAppCfg.Language;
            e._baseTime = null;
            var n = 0;

            function c(e) {
                var t = r.nox.getDateTableFromTimeSeconds(e);
                return t.hours = 0, t.minutes = 0, t.seconds = 0, t.millSeconds = 0, r.nox.getTimeSecondsFromDateTable(t)
            }

            function l(t, n) {
                var a = c(t), i = c(r.nox.D(n, e.getCurrentTime()));
                return Math.round((i - a) / 24 / 3600)
            }

            e.init = function () {
            }, e.getRunningTime = function () {
                var t = r.nox.getTickCount() / 1e3;
                return null != e._baseTime ? t - e._baseTime : 0
            }, e.getCurrentTime = function () {
                return null == P._loginTime || null == e._baseTime ? a.lc.getNow() : P._loginTime + e.getRunningTime()
            }, e.formatNum = function (e, n, o) {
                if (!((e = a.lc.D(e, 0)) > (n = a.lc.D(n, 999999)))) return string.format("%d", Math.floor(e));
                if (s.lcAppCfg.languageVersion() == t.vn) return e % (r = 1e3) == 0 || o ? string.format("%dK", Math.floor(e / r)) : string.format("%.2fK", e / r);
                if (s.lcAppCfg.languageVersion() == t.chs || s.lcAppCfg.languageVersion() == t.cht) {
                    var r = 1e4;
                    return string.format("%d" + _.lcStr(i.STR.WAN), Math.floor(e / r))
                }
                cc.assert(!1, "fatal error")
            }, e.formatPeriod = function (e, n) {
                var r = e, c = Math.floor(r / o.Data.DAY_SECONDS);
                r %= o.Data.DAY_SECONDS;
                var l = Math.floor(r / 3600);
                r %= 3600;
                var d = Math.floor(r / 60), p = r %= 60, u = 0;
                n = a.lc.D(n, 2);
                var g = "";
                do {
                    if (c > 0 && (u += 1, g = string.format("%d %s", c, _.lcStr(i.STR.DAY))), u == n) break;
                    if (l > 0 && (u += 1, g = string.format("%s %d %s", g, l, _.lcStr(i.STR.HOUR))), u == n) break;
                    if (d > 0 && (u += 1, g = string.format("%s %d %s", g, d, _.lcStr(i.STR.MINUTE))), u == n) break;
                    (p > 0 || 0 == u && 0 == p) && (g = string.format("%s %d %s", g, p, _.lcStr(i.STR.SECOND)))
                } while (0);
                return g = s.lcAppCfg.languageVersion() == t.vn ? g.replace(/\s+/g, " ") : g.replace(/\s+/g, "")
            }, e.formatTime = function (e) {
                e < 0 && (e = 0);
                var t = Math.floor(e / 3600), n = Math.floor(e % 3600 / 60), a = Math.floor(e % 3600 % 60);
                return string.format("%02d:%02d:%02d", t, n, a)
            }, e.formatTimestamp = function (e) {
                e < 0 && (e = 0);
                var t = new Date;
                return t.setTime(e), string.format("%02d/%02d/%02d  %02d:%02d", t.getFullYear(), t.getMonth() + 1, t.getDate(), t.getHours(), t.getMinutes())
            }, e.parseTimeStr = function (e, t) {
                if (void 0 === t && (t = null), null == e || "" == e) return 0;
                var n = string.split(e, "."),
                    a = n[0] + "-" + n[1] + "-" + n[2] + " " + (null != n[3] ? n[3] : "4") + ":" + (null != n[4] ? n[4] : "0") + ":" + (null != n[5] ? n[5] : "0");
                return Date.parse(a) / 1e3
            }, e.getTimeAgo = function (t, n) {
                var a = e.getCurrentTime() - t, o = Math.floor(a / 24 / 3600);
                if (o > 0) return null != n && o > n ? string.format("%s%d%s", _.lcStr(i.STR.EXCEED), n, _.lcStr(i.STR.DAY_AGO)) : string.format("%d%s", o, _.lcStr(i.STR.DAY_AGO));
                var r = Math.floor(a / 3600);
                if (r > 0) return string.format("%d%s", r, _.lcStr(i.STR.HOUR_AGO));
                var s = Math.floor(a / 60);
                return s > 0 ? string.format("%d%s", s, _.lcStr(i.STR.MINUTE_AGO)) : a <= 1 ? _.lcStr(i.STR.NOW) : string.format("%d%s", a, _.lcStr(i.STR.SECOND_AGO))
            }, e.getServerDate = function (t) {
                if (null == P || null == P._loginTime) return [null, null, null, null, null, null];
                var n = new Date, a = 60 * -n.getTimezoneOffset();
                return null != t ? n.setTime(1e3 * t + 1e3 * P._timeOffset - 1e3 * a) : n.setTime(1e3 * e.getCurrentTime() + 1e3 * P._timeOffset - 1e3 * a), [n.getHours(), n.getDate(), n.getMonth() + 1, n.getFullYear(), n.getMinutes(), n.getSeconds()]
            }, e.getServerTick = function (t) {
                var n = e.getServerDate(t), a = n[0], i = n[1], o = n[2];
                return 1e6 * n[3] + 1e4 * o + 100 * i + a
            }, e.getServerTickEX = function (t) {
                var n = e.getServerDate(t), a = n.shift(), i = n.shift(), o = n.shift();
                return 1e8 * n.shift() + 1e6 * o + 1e4 * i + 100 * a + n.shift()
            }, e.getExpireTimestamp = function (t) {
                var n = e.getCurrentTime() + P._timeOffset;
                return n = (n -= n % 86400) + 3600 * t * 24 - P._timeOffset
            }, e.getExpireDay = function (t) {
                var n = e.getExpireTimestamp(0);
                return Math.floor((t - n) / 3600 / 24)
            }, e.getMonthDay = function (e, t) {
                cc.assert(t >= 1 && t <= 12, "the month is wrong");
                var n = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][t - 1];
                return 2 == t && (e % 4 == 0 && e % 100 != 0 || e % 400 == 0) && (n += 1), n
            }, e.getDaysAfterServerOpen = function () {
                var t = e.getCurrentTime();
                return Math.floor((t - P._serverOpenTimestamp) / 86400)
            }, e.getDaysOfMonth = function (e) {
                return 2 == e ? this._year % 400 == 0 || this._year % 4 == 0 && this._year % 100 != 0 ? 29 : 28 : e <= 7 ? e % 2 == 0 ? 30 : 31 : e % 2 == 0 ? 31 : 30
            }, e.getServerWeek = function () {
                return new Date(1e3 * e.getCurrentTime()).getDay()
            }, e.getServerDay = function () {
                var t = new Date(1e3 * e.getCurrentTime()).getDay();
                return t = 0 == t ? 7 : t
            }, e.limitCardIsShow = function (t) {
                var n = t.split(".");
                return new Date(n[0] + "/" + n[1] + "/" + n[2]).getTime() / 1e3 < e.getCurrentTime()
            }, e.numOfSecondsPassedToday = function () {
                var t = e.getServerDate();
                return 3600 * t[0] + 60 * t[4] + t[5]
            }, e.calcSecondsBasedOnString = function (e) {
                if (!e) return 0;
                for (var t = e.toString(), n = [3600, 60, 1], a = 0, i = 0, o = 0; i <= t.length - 2; i += 2, o++) {
                    var _ = t.slice(i, i + 2);
                    a += (_ ? r.nox.toNumber(_) : 0) * n[o]
                }
                return a
            }, e.getDurationMinutes = function (t) {
                return (t / 1e3 - e.getCurrentTime()) / 60 + ""
            }, e.getDayOfWeek = function () {
                var t = e.getCurrentTime(), n = new Date, a = 60 * -n.getTimezoneOffset();
                n.setTime(1e3 * t + 1e3 * P._timeOffset - 1e3 * a);
                var i = n.getDay() - 1;
                return cc.assert(i >= 0 && i <= 6, "day must between 0 and 6"), i
            }, e.getDayBeginTime = c, e.getDiffDay = l, e.isSameDay = function (e, t) {
                return 0 == l(e, t)
            }, e.checkBtnClick = function () {
                var t = e.getCurrentTime();
                return !(t - n < 1 || (n = t, 0))
            }, e.monitors = ["getDaysAfterServerOpen", "getServerDate", "getServerWeek", "getServerDay", "getServerTick", "getDaysOfMonth", "getCurrentTime"]
        })(n.TimeUtil || (n.TimeUtil = {})), cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../StringEnums": "StringEnums",
        "../data/data": "data"
    }],
    TitleArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0c1faVMEt1HF6KBY0auxS8o", "TitleArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../config/UICfg"), o = e("./NodeWithShaderButton"),
            r = e("../../../leocool/lc"), _ = e("../../../nox"), s = e("./NodeWithLabel"), c = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n) {
                    this.setContentSize(i.UICfg.SCR_W, i.UICfg.CRECT_TITLE_AREA_BG.height), this.setPosition(0, i.UICfg.SCR_CH - r.lc.h(this) / 2);
                    a.SpriteUtil.addSprite(this, {
                        _name: "img_ui_scene_title_bg",
                        _crect: i.UICfg.CRECT_TITLE_AREA_BG,
                        _size: this.getContentSize()
                    });
                    var c = a.SpriteUtil.createSprite("img_ui_scene_name_bg");
                    c.node.setScale(8, 1), r.lc.addChildToPosLB(this, c.node, cc.p(90, r.lc.h(this) / 2));
                    var l = s.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_32, e);
                    if (l.setAnchorPoint(0, .5), r.lc.addChildToPosAR(this, l, cc.p(50 - _.nox.aw(this), 0)), r.lc.offset(l, -10, 0), this._title = l, n) {
                        var d = o.NodeWithShaderButton.createShaderButton("img_btn_help", n);
                        r.lc.addChildToPosAR(this, d, cc.p(r.lc.right(l) + r.lc.ch(d) + 4, 0))
                    }
                    var p = o.NodeWithShaderButton.createShaderButton("img_ui_scene_back_bg", t);
                    p.rotationY = 180, p.setZoomScale(.05);
                    var u = a.SpriteUtil.createSprite("img_ui_scene_back");
                    u.node.setPosition(80 - _.nox.aw(p), 2), u.node.rotationY = 180, p.addChild(u.node), r.lc.addChildToPosAR(this, p, cc.p(r.lc.w(this) - _.nox.aw(this) - r.lc.cw(p), 0)), this._btnBack = p
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(cc.Node);
        n.TitleArea = c, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    ToastManager: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "1eb6drKEH5OkrxbjwYI/P0E", "ToastManager"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./const/ZOrder"), o = e("../leocool/lc"), r = e("../noxcc"),
            _ = e("../framework/NoxViewMgr"), s = e("./utils/RichTextUtil"), c = e("./StaticPrefabMgr"),
            l = e("./config/UICfg");
        (function (e) {
            var t = {}, n = [], d = null, p = 4;

            function u(e, n, i) {
                var o;
                void 0 === n && (n = 0), void 0 === i && (i = !1), t[e] && (t[e].destroy(), delete t[e]), i ? o = s.RichTextUtil.createBoldRichTextMultiLine(e, l.UICfg.RICHTEXT_PARAM_LIGHT_S1, null).node : (e = e.replace(/[|]+/g, ""), o = s.RichTextUtil.createLabel(e, l.UICfg.TTF_FONT, l.UICfg.FontSize.M1).node);
                var _ = r.noxcc.instantiate(d);
                _.setContentSize(cc.size(a.nox.w(o) + 80, a.nox.h(o) + 80)), _.addChild(o), t[e] = _, h(e, n)
            }

            function g(e, t, n) {
                u(e.join("<br/>"), t, !0)
            }

            function h(e, n) {
                var r = t[e], s = _.NoxViewMgr.getRoot();
                r.setPosition(0, 150), s.addChild(r, i.ZOrder.toast);
                var c = (a.nox.h(s) - a.nox.y(r)) / 2,
                    l = o.lc.sequence(o.lc.ease(o.lc.scaleTo(o.lc.absTime(.2), 1), "BackO"), o.lc.absTime(.3), o.lc.moveBy(o.lc.absTime(2), 0, c), [o.lc.moveBy(o.lc.absTime(2), 0, c), o.lc.fadeOut(o.lc.absTime(1.5))]),
                    d = o.lc.sequence(o.lc.absTime(n || p - 1), o.lc.callFunc(function () {
                        r.destroy(), delete t[e]
                    }));
                r.runAction(l), r.runAction(d)
            }

            e.init = function () {
                d = c.StaticPrefabMgr.getToastPrefab();
                for (var e = 0; e < n.length; ++e) {
                    var t = n[e];
                    1 == t.texts.length ? u(t.texts[0], t.duration, t.isRichText) : g(t.texts, t.duration, t.delay)
                }
                n = []
            }, e.shut = function () {
                for (var e in t) {
                    var a = t[e];
                    r.noxcc.destroy(a), delete t[e]
                }
                n = []
            }, e.push = u, e.pushArray = g, e.pushMultiline = function (e, t) {
                u(e = e.replace(/\n/, "<br/>"), t, !0)
            }, e.runBgAction = h
        })(n.ToastManager || (n.ToastManager = {})), cc._RF.pop()
    }, {
        "../framework/NoxViewMgr": "NoxViewMgr",
        "../leocool/lc": "lc",
        "../nox": "nox",
        "../noxcc": "noxcc",
        "./StaticPrefabMgr": "StaticPrefabMgr",
        "./config/UICfg": "UICfg",
        "./const/ZOrder": "ZOrder",
        "./utils/RichTextUtil": "RichTextUtil"
    }],
    TopMostPanel: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ff1dd9nKRNES5ZIt3gRIlTh", "TopMostPanel");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i, o = e("../../../nox"), r = e("../../../framework/NoxTipWidget"), _ = e("../../utils/UIUtil"),
            s = e("../../../leocool/lc"), c = e("../../utils/SpriteUtil"), l = e("../../config/UICfg"),
            d = e("./BasePanel"), p = e("../../../leocool/lcStr"), u = e("../node/NodeWithLabel"),
            g = e("../node/NodeWithListView"), h = e("../../StringEnums"), f = e("../../utils/RichTextUtil"),
            m = e("../../data/data"), y = e("../../ClientData"), T = e("../../../framework/NoxViewMgr");
        (function (e) {
            var t, n = null, a = !1;

            function i(e) {
                if (n) for (var t = 0; t < n.length; t++) if (s.lc.contain(n[t], e)) return !0;
                return !1
            }

            e.lazyInit = function () {
                if (null == t) {
                    var e = t = new cc.Node;
                    s.lc.addFullSizeWidget(e), e.on(cc.Node.EventType.TOUCH_START, function (e) {
                        var t = r.NoxTipWidget.gCurrentTipWidget;
                        if (t) {
                            var n = e.getLocation();
                            s.lc.contain(t.node, n) || (i(n) && (a = !0), t.hide())
                        } else a = !1
                    }, e, !0), e.getTouchListener().setSwallowTouches(!1), T.NoxViewMgr.getRoot().addChild(t, 100)
                }
            }, e.linkNode = function (e) {
                (n = n || []).push(e)
            }, e.clearLinkNodes = function () {
                n = null
            }, e.canCreate = function () {
                return !t || !a
            }
        })(i || (i = {}));
        var S = function (e) {
            function t() {
                var t = e.call(this) || this;
                return i.lazyInit(), t
            }

            return a(t, e), t.prototype.initTopMostPanel = function (e) {
                this.node.setContentSize(e)
            }, t.prototype.show = function (t, n) {
                e.prototype.show.call(this, t, n)
            }, t.prototype.hide = function () {
                i.clearLinkNodes(), e.prototype.hide.call(this)
            }, t.prototype.linkNode = function (e) {
                i.linkNode(e)
            }, t.canCreate = function () {
                return i.canCreate()
            }, t
        }(r.NoxTipWidget);
        n.TopMostPanel = S, function (e) {
            e.FRAME_THICK = 8, e.FRAME_THICK_BOTH = e.FRAME_THICK + e.FRAME_THICK, e.SHADOW_L = 10, e.SHADOW_R = 10, e.SHADOW_H = e.SHADOW_L + e.SHADOW_R, e.SHADOW_T = 8, e.SHADOW_B = 12, e.SHADOW_V = e.SHADOW_T + e.SHADOW_B;
            var t = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    var t = e.width, n = e.height, a = _.UIUtil.createFramedShadowColorBg(e, o.nox.c3b(40, 50, 60)),
                        i = a.addComponent(cc.Widget);
                    i.isAlignLeft = i.isAlignRight = i.isAlignBottom = i.isAlignTop = !0, i.left = i.right = i.bottom = i.top = 0, this.node.setContentSize(a.getContentSize()), this._bg = a, this.node.addChild(a), this._bg.setContentSize(t, n), this._bg.setPosition(0, 0), this.initTopMostPanel(e)
                }, t
            }(e);
            e.TopMostPanelWithBg = t;
            var n = function (t) {
                function n() {
                    return null !== t && t.apply(this, arguments) || this
                }

                return a(n, t), n.create = function (t, a) {
                    if (!e.canCreate()) return null;
                    var i = s.lc.createNode().addComponent(n);
                    return i._titleStr = a, i.init(t), i
                }, n.prototype.setButtonDefs = function (t) {
                    var a = this, i = s.lc.w(a.node) - 40;
                    a._buttons = [];
                    for (var o = 0, r = function (e) {
                        var r = t[e], u = s.lc.D(r._w, i);
                        if (r._isSeparator) {
                            var g = c.SpriteUtil.createSprite({
                                _name: "filter_split",
                                _size: cc.size(u, 3),
                                _crect: cc.rect(5, 0, 6, 3)
                            }).node;
                            g.opacity = 127, o = o + s.lc.h(g) + n.GAP, a._buttons.push(g)
                        } else {
                            var h = s.lc.D(r._h, .8 * l.UICfg.CRECT_BUTTON_S.height),
                                f = _.UIUtil.createShaderButton(null, function () {
                                    r._handler && r._handler(), d.BasePanel.hideTopMost()
                                });
                            if (f.setContentSize(cc.size(u, h)), f.setDisabledShader(l.UICfg.SHADER_DISABLE), f.setEnabled(null != r._handler), r._onButtonCreate && r._onButtonCreate(f), r._area) f._labelArea = r._area, s.lc.addChildToPosAR(f, r._area, cc.v2(0, 1)); else {
                                var m = s.lc.D(r._str, r._sid && p.lcStr(r._sid));
                                f.addLabel(m, l.UICfg.COLOR_TEXT_MENU_WHITE, l.UICfg.FontSize.S2)
                            }
                            o = o + h + n.GAP, a._buttons.push(f)
                        }
                    }, u = 0; u < t.length; u++) r(u);
                    var h = o - n.GAP + n.MARGIN + n.MARGIN + e.FRAME_THICK_BOTH, f = 0, m = 0;
                    if (a._titleStr) {
                        var y = _.UIUtil.createTTF(a._titleStr);
                        f = s.lc.w(y), h += m = s.lc.h(y) + 8, a.node.addChild(y), a._title = y
                    }
                    var T = s.lc.w(a.node);
                    T < f + 30 && (T = f + 30), a.node.setContentSize(T, h), a._bg.setContentSize(T, h), a._title && (a._title.y = s.lc.atop(a.node) - s.lc.astop(a._title) - e.FRAME_THICK - n.MARGIN);
                    var S = g.NodeWithListView.createV(cc.size(s.lc.w(a.node), s.lc.h(a.node) - e.FRAME_THICK_BOTH - m), n.MARGIN, n.GAP);
                    S.setBounceEnabled(!1);
                    for (u = 0; u < a._buttons.length; u++) S.pushBackCustomItem(a._buttons[u]);
                    s.lc.addChildToPosAR(a.node, S, cc.v2(0, s.lc.atop(a.node) - s.lc.astop(S) - e.FRAME_THICK - n.MARGIN - m))
                }, n.MARGIN = 4, n.GAP = 2, n
            }(t);
            e.ButtonList = n;
            var i = function (t) {
                function i() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._items = [], e
                }

                return a(i, t), i.create = function () {
                    if (!e.canCreate()) return null;
                    var t = s.lc.createNode().addComponent(i);
                    return t.init(cc.size(i.WIDTH, 0)), t
                }, i.prototype.setButtonDefs = function (t) {
                    var a = this, r = i.WIDTH - n.MARGIN - n.MARGIN - e.FRAME_THICK_BOTH;
                    a._items = [];
                    for (var c = n.MARGIN + n.MARGIN + e.FRAME_THICK_BOTH - i.GAP, u = function (e) {
                        var u = t[e], g = null != u._handler, m = l.UICfg.CRECT_BUTTON_S.height,
                            y = s.lc.createNode(cc.size(r, m)),
                            T = _.UIUtil.createScale9ShaderButton("img_btn_blue_s", function () {
                                u._handler(1), d.BasePanel.hideTopMost()
                            }, l.UICfg.CRECT_BUTTON_S, g ? 204 : r - n.MARGIN);
                        if (g && !u._hideRemark) null != u._remark && u._remark.length > 0 && (u._str = u._remark), T.addLabel(u._str, null, l.UICfg.BMFontSize.S1); else {
                            var S = f.RichTextUtil.createBoldRichTextMultiLine(u._str, l.UICfg.RICHTEXT_PARAM_LIGHT_S2).node;
                            s.lc.addChildToCenter(T, S)
                        }
                        if (T.setDisabledShader(l.UICfg.SHADER_DISABLE), T.setEnabled(null != u._handler), o.nox.addChildAndAlign(y, T, [0, 0, 0], [0, 1, 1]), g && !u._hideRemark) {
                            var C = _.UIUtil.createScale9ShaderButton("img_btn_green_s", function () {
                                u._handler(3)
                            }, l.UICfg.CRECT_BUTTON_S, 82);
                            C.setDisabledShader(l.UICfg.SHADER_DISABLE), C.setEnabled(T.isEnabled()), s.lc.addChildToPosAR(y, C, cc.v2(s.lc.right(T) + s.lc.asw(C), s.lc.y(T))), C.addLabel(p.lcStr(h.STR.REMARK))
                        }
                        c = c + m + i.GAP, a._items.push(y)
                    }, m = 0; m < t.length; m++) u(m);
                    a.node.setContentSize(i.WIDTH, c);
                    var y = g.NodeWithListView.createV(cc.size(s.lc.w(a.node) - e.FRAME_THICK_BOTH, c - e.FRAME_THICK_BOTH), n.MARGIN, i.GAP);
                    y.setBounceEnabled(!1);
                    for (m = 0; m < a._items.length; m++) y.pushBackCustomItem(a._items[m]);
                    s.lc.addChildToCenter(a.node, y)
                }, i.WIDTH = 310, i.GAP = 6, i
            }(t);
            e.TroopList = i;
            var r = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.create = function (e) {
                    var n = s.lc.createNode().addComponent(t);
                    return n.init(e), n
                }, t.createByInfoId = function (e, n) {
                    var a;
                    if (0 == e) a = p.lcStr(h.STR.NPC_DESC); else {
                        var i = m.Data.getInfo(e);
                        if (null == i || null == i._descSid) return null;
                        var o = y.ClientData.getItemTypeNameByInfoId(e, n);
                        a = o.length > 0 ? string.format("|%s|%s: %s", string.format(p.lcStr(h.STR.BRACKETS_S), o), p.lcStr(i._nameSid), p.lcStr(i._descSid)) : string.format("%s: %s", p.lcStr(i._nameSid), p.lcStr(i._descSid))
                    }
                    return t.create(a)
                }, t.prototype.init = function (e) {
                    var n = f.RichTextUtil.createBoldRichText(e, {_width: t.WIDTH - 2 * t.MARGIN}).node,
                        a = cc.size(t.WIDTH, s.lc.h(n) + 2 * t.MARGIN),
                        i = _.UIUtil.createFramedShadowColorBg(a, o.nox.c3b(40, 50, 60));
                    i.opacity = 240, s.lc.addChildToCenter(i, n), this.initTopMostPanel(a), s.lc.addChildToCenter(this.node, i)
                }, t.WIDTH = 400, t.MARGIN = 30, t
            }(e);
            e.DescPanel = r;
            var T = function (t) {
                function n() {
                    return t.call(this) || this
                }

                return a(n, t), n.create = function (t, a) {
                    if (!e.canCreate()) return null;
                    var i = s.lc.createNode().addComponent(n);
                    return i._titleStr = a, i.init(t), i
                }, n.prototype.setButtonDefs = function (e) {
                    for (var t = s.lc.w(this.node) - 40, n = s.lc.createNode(), a = 0, i = function (e, t) {
                        for (var n = 1, a = 1; a <= t.length; a++) {
                            e == t[a - 1]._index ? (t[a - 1].setIsSelected(!0), n = a) : t[a - 1].setIsSelected(!1)
                        }
                        return n
                    }, o = function (o) {
                        var r = e[o], d = 0, p = [];
                        if (o > 0) {
                            var g = c.SpriteUtil.createSprite({
                                _name: "filter_split",
                                _size: cc.size(t, 3),
                                _crect: cc.rect(5, 0, 6, 3)
                            }).node;
                            g.opacity = 127, s.lc.addChildToPosLB(n, g, cc.v2(t / 2, a - 15)), a -= 30
                        }
                        var h = u.NodeWithLabel.createBMFont(l.UICfg.BMFont.huali_26, r._titleStr);
                        h.color = s.lc.Color3B.yellow, s.lc.addChildToPosLB(n, h, cc.v2(s.lc.cw(h), a - s.lc.ch(h))), a = a - 50 + s.lc.ch(h);
                        for (var f = function (e) {
                            var o = r[e - 1], c = _.UIUtil.createFilterButton(o._str, function () {
                                var t = i(e, p);
                                o._handler(t)
                            }, 130, 50);
                            d + s.lc.w(c) - 10 > t && (d = 0, a -= 50), s.lc.addChildToPosLB(n, c, cc.v2(d + s.lc.cw(c), a - s.lc.ch(c))), c._index = e, p.push(c), d += 130
                        }, m = 1; m <= r.length; m++) f(m);
                        a = a - 50 + 10, i(r._curFilter, p)
                    }, r = 0; r < e.length; r++) o(r);
                    this.node.setContentSize(s.lc.w(this.node), 40 - a), s.lc.addChildToPosLB(this.node, n, cc.v2(20, s.lc.h(this.node) - 20))
                }, n.MARGIN = 12, n.GAP = 8, n
            }(t);
            e.FilterList = T
        }(S = n.TopMostPanel || (n.TopMostPanel = {})), n.TopMostPanel = S, cc._RF.pop()
    }, {
        "../../../framework/NoxTipWidget": "NoxTipWidget",
        "../../../framework/NoxViewMgr": "NoxViewMgr",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../ClientData": "ClientData",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../node/NodeWithLabel": "NodeWithLabel",
        "../node/NodeWithListView": "NodeWithListView",
        "./BasePanel": "BasePanel"
    }],
    TouchLayer: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "69734kkpWdLhai0CY8oCgDJ", "TouchLayer"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function (e) {
            function t() {
                var t = e.call(this) || this;
                return t._touchEnabled = !1, t.enableFullScreen(), t.setTouchEnabled(!0), t
            }

            return __extends(t, e), t.prototype.enableFullScreen = function () {
                var e = this.getComponent(cc.Widget) || this.addComponent(cc.Widget);
                e.isAlignLeft = !0, e.isAlignRight = !0, e.isAlignBottom = !0, e.isAlignTop = !0, e.left = 0, e.right = 0, e.bottom = 0, e.top = 0
            }, t.prototype.setTouchHandler = function (e) {
                this._touchHandler = e
            }, t.prototype.onTouchStartEx = function (e) {
                e.currentTarget == this && this.onTouchStart(e) && (e.stopPropagation(), e.stopPropagationImmediate())
            }, t.prototype.onTouchMoveEx = function (e) {
                e.currentTarget == this && this.onTouchMove(e)
            }, t.prototype.onTouchEndEx = function (e) {
                e.currentTarget == this && this.onTouchEnd(e)
            }, t.prototype.onTouchCancelEx = function (e) {
                e.currentTarget == this && this.onTouchCancel(e)
            }, t.prototype.onTouchStart = function (e) {
                return !this._touchHandler || this._touchHandler(e)
            }, t.prototype.onTouchMove = function (e) {
            }, t.prototype.onTouchEnd = function (e) {
            }, t.prototype.onTouchCancel = function (e) {
            }, t.prototype.setTouchEnabled = function (e) {
                e = !!e, this._touchEnabled != e && (this._touchEnabled = e, this._touchEnabled ? (this.on(cc.Node.EventType.TOUCH_START, this.onTouchStartEx, this, !0), this.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMoveEx, this, !0), this.on(cc.Node.EventType.TOUCH_END, this.onTouchEndEx, this, !0), this.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancelEx, this, !0), this.getTouchListener().setSwallowTouches(!1)) : (this.off(cc.Node.EventType.TOUCH_START, this.onTouchStartEx, this, !0), this.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMoveEx, this, !0), this.off(cc.Node.EventType.TOUCH_END, this.onTouchEndEx, this, !0), this.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchCancelEx, this, !0)))
            }, t
        }(cc.Node);
        n.TouchLayer = a;
        var i = function (e) {
            function t() {
                return e.call(this) || this
            }

            return __extends(t, e), t.prototype.enableBlock = function (e) {
                this.setTouchEnabled(e)
            }, t.blockTouch = function (e) {
                var n = t._blockTouchLayer;
                null == n && (n = new t, t._blockTouchLayer = n), n.enableBlock(!0), n.parent = e
            }, t
        }(a);
        n.BlockTouchLayer = i, cc._RF.pop()
    }, {}],
    TouchSprite: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "86e6ehuDzNCHqd/dKcaENjw", "TouchSprite"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.init = function (e, t, n) {
                this._sprite = a.SpriteUtil.addSprite(this, e), this.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this, !0), this.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this, !0)
            }, t.prototype.onTouchBegan = function (e) {
            }, t.prototype.onTouchEnd = function (e) {
                this._tapFunc(this)
            }, t.prototype.setTouchEndCancelRange = function (e) {
            }, t.createTouchSpriteWithMask = function (e, n) {
                var a = new t;
                return a.init(e, n, !1), a
            }, t.createTouchSpriteWithShader = function (e, n) {
                var a = new t;
                return a.init(e, n, !0), a
            }, t
        }(cc.Node);
        n.TouchSprite = i, cc._RF.pop()
    }, {"../../utils/SpriteUtil": "SpriteUtil"}],
    TouchWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4490eEgTJVN9ZPplk9F1j1g", "TouchWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseComponent"), o = e("../../../leocool/lc"), r = e("../panel/BasePanel"),
            _ = e("../panel/TopMostPanel"), s = e("../../../leocool/lcMath"), c = e("../../../nox"), l = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.create = function (e, n, a) {
                    var i = o.lc.createNode().addComponent(t);
                    return i.init(e, n, a), i
                }, t.prototype.init = function (e, t, n) {
                    this._image = e, this._descFunc = t, this._descParam = n, this.node.setAnchorPoint(cc.v2(.5, .5)), this.node.setContentSize(this._image.getContentSize()), o.lc.addChildToCenter(this.node, this._image), this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMoved, this), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnded, this)
                }, t.prototype.onTouchBegan = function () {
                    this.showDescPanel()
                }, t.prototype.onTouchMoved = function () {
                }, t.prototype.onTouchEnded = function () {
                    this.hideDescPanel()
                }, t.prototype.startLongPressScheduler = function () {
                    var e = this;
                    this._longPressTime = 0, this._isLongPressing = null, this._longPressID = c.nox.scheduleInterval(function (t) {
                        e._isLongPressing || (e._longPressTime = e._longPressTime + t)
                    }, o.lc.absTime(.1))
                }, t.prototype.stopLongPressScheduler = function () {
                    this._longPressID && (c.nox.unscheduleInterval(this._longPressID), this._longPressID = null)
                }, t.prototype.onLongPressing = function () {
                    this.showDescPanel()
                }, t.prototype.showDescPanel = function () {
                    _.TopMostPanel.DescPanel.create(this.getDesc()) && (s.lcMath.pAdd(o.lc.convertPosAR(cc.v2(o.lc.x(this.node) / 2, o.lc.h(this.node)), this.node), cc.v2(0, o.lc.h(this._image) / 2 + 6)).x, o.lc.w(this._image))
                }, t.prototype.hideDescPanel = function () {
                    r.BasePanel.hideTopMost()
                }, t.prototype.getDesc = function () {
                    return this._descFunc(this._descParam)
                }, t
            }(i.BaseComponent);
        n.TouchWidget = l, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcMath": "lcMath",
        "../../../nox": "nox",
        "../../BaseComponent": "BaseComponent",
        "../panel/BasePanel": "BasePanel",
        "../panel/TopMostPanel": "TopMostPanel"
    }],
    TroopPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f467dg/CJVIuLfN5XSLZzT4", "TroopPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendTroopReloadSingle = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TROOP_RELOAD;
                var i = n.addExtensions_Troop_pb_SglTroopMsg_troop_reload_req(), o = Troop_pb.TroopReloadReq.create();
                i.push(o), o.troop_id = t, o.is_check = !1;
                for (var r = 0; r < e.length; ++r) {
                    var _ = Data_pb.Resource.create();
                    _.info_id = e[r]._infoId, _.num = e[r]._num, o.troop_info.push(_)
                }
                a.NetUtil.sendProtoMsg(n)
            }, e.sendTroopReload = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TROOP_RELOAD;
                for (var i = n.addExtensions_Troop_pb_SglTroopMsg_troop_reload_req(), o = 0; o < e.length; ++o) {
                    var r = Troop_pb.TroopReloadReq.create();
                    r.troop_id = e[o]._troopIndex, r.is_check = e[o]._isCheck, i.push(r);
                    for (var _ = 0; _ < e[o]._cards.length; ++_) {
                        var s = Data_pb.Resource.create();
                        r.troop_info.push(s), s.info_id = e[o]._cards[_]._infoId, s.num = e[o]._cards[_]._num
                    }
                }
                t && a.NetUtil.appendGuideIdIfNeed(n), a.NetUtil.sendProtoMsg(n)
            }, e.sendDefTroopIndex = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_DEF_TROOP, t.setExtensions_User_pb_SglUserMsg_user_set_troop_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendTroopRemark = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_TROOP_MARK;
                var i = n.addExtensions_Troop_pb_SglTroopMsg_troop_mark_req();
                i.troop_id = e, i.name = t, a.NetUtil.sendProtoMsg(n)
            }
        })(n.TroopPart || (n.TroopPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    TutorialScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "2e68dmeycRMRJlIELL9GSUS", "TutorialScene");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../data/data"), o = e("../ui/widget/BonusWidget"), r = e("../ui/AllViewTypes"), _ = e("../../noxcc"),
            s = e("../../nox"), c = e("../../leocool/lcStr"), l = e("../../leocool/lc"), d = e("../StringEnums"),
            p = e("../ClientData"), u = e("../ClientView"), g = e("../utils/BattleInputUtil"), h = e("./BaseUIScene"),
            f = e("../const/SceneId"), m = e("./SceneManager"), y = e("./ResSwitchScene"), T = e("../GuideManager"),
            S = e("../../leocool/lcRes"), C = e("../ToastManager"), v = function (e) {
                function t() {
                    var t = e.call(this, f.SceneId.tutorial, r.AllViewTypes.TutorialScene) || this;
                    return t.mAllToggles = {}, t.mTeachInfos = {}, t.mTeachNodes = [], t
                }

                return a(t, e), t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t.prototype.init = function (t) {
                    e.prototype.init.call(this), this._resNames = S.lcRes.loadLCRes("res/activity.lcres"), null != t ? this._index = t : P.isNoviceTeachPassed(1) ? i.Data._globalInfo._unlockMidTeach <= P.getMaxCharacterLevel() ? this._index = 30001 : this._index = 20001 : this._index = 10001, P._guideID < 111 ? this._tabIndex = i.Data.TeachType.novice_teach : this._tabIndex = Math.floor(this._index / 1e4), this.initData()
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this), this.mBackBtn = _.noxcc.findButton("TopBar/TopLeftBar/returnButton", this.mRoot), _.noxcc.addClick(this.mBackBtn, this, this.onBackBtn);
                    var t = this.getTabInfos();
                    for (var n in this.mAllToggles = {}, t) {
                        var a = t[n], i = _.noxcc.findButton(a[0], this.mRoot);
                        this.mAllToggles[n] = i, _.noxcc.addClick(i, this, this.onToggleClick, n)
                    }
                    this.mTeachListBox = _.noxcc.find("Center/RightPanel/view/content", this.mRoot), this.mActiveTab = null, this.setActiveTab(this._tabIndex)
                }, t.prototype.onReleaseWidget = function () {
                    this.mAllToggles = {}, this.mActiveTab = null;
                    for (var t = 0; t < this.mTeachNodes.length; ++t) this.mTeachNodes[t].destroy();
                    this.mTeachNodes = [], e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    if (e.prototype.onEnter.call(this), T.GuideManager.isGuideEnabled() && 102 == P._guideID) for (var t = 1; t <= 1; t++) if (P.isNoviceTeachPassed(t) && !P.isNoviceTeachClaimed(t)) {
                        P._guideID = P._guideID + 2;
                        break
                    }
                    if (T.GuideManager.isGuideEnabled() && 104 == P._guideID) {
                        var n = !1;
                        for (t = 1; t <= 1; t++) if (P.isNoviceTeachPassed(t) && !P.isNoviceTeachClaimed(t)) {
                            n = !0;
                            break
                        }
                        n || (P._guideID = P._guideID - 2)
                    }
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.onBackBtn = function () {
                    m.SceneManager.popScene()
                }, t.prototype.onToggleClick = function (e, t) {
                    1 == e ? this.setActiveTab(e) : 2 == e ? P.isNoviceTeachPassed(1) ? this.setActiveTab(e) : C.ToastManager.push("\u901a\u5173\u65b0\u624b\u8bad\u7ec31-1\u5373\u53ef\u89e3\u9501\u57fa\u7840\u8bad\u7ec3\u54df\uff01") : 3 == e ? P.isNoviceTeachPassed(1) && P.getMaxCharacterLevel() >= 10 ? this.setActiveTab(e) : C.ToastManager.push(string.format(c.lcStr(d.STR.LORD_UNLOCK_LEVEL), 10)) : 4 == e && (P.isNoviceTeachPassed(1) && P.getMaxCharacterLevel() >= 20 ? this.setActiveTab(e) : C.ToastManager.push(string.format(c.lcStr(d.STR.LORD_UNLOCK_LEVEL), 20)))
                }, t.prototype.setActiveTab = function (e) {
                    if (this.mActiveTab != e) {
                        for (var t in this.mActiveTab = e, this.mAllToggles) {
                            var n = this.mAllToggles[t];
                            s.nox.toNumber(t) == e ? _.noxcc.setActive(_.noxcc.find("icon", n.node), !0) : _.noxcc.setActive(_.noxcc.find("icon", n.node), !1)
                        }
                        this.updateTeachListBox()
                    }
                }, t.prototype.initData = function () {
                    var e = this.getTabInfos();
                    for (var t in this.mTeachInfos = {}, e) this.mTeachInfos[t] = [];
                    for (var n in i.Data._teachInfo) {
                        var a = i.Data._teachInfo[n], o = Math.floor(a._id / i.Data.INFO_ID_GROUP_SIZE_LARGE);
                        Math.floor(a._id / i.Data.INFO_ID_GROUP_SIZE_LARGE) == i.Data.TeachType.novice_teach ? Math.floor(a._id / 100) % 100 == P._initialCharacter && this.mTeachInfos[o].push(a) : this.mTeachInfos[o].push(a)
                    }
                }, t.prototype.updateTeachListBox = function () {
                    for (var e = null != this.mActiveTab ? this.mTeachInfos[this.mActiveTab] : [], t = this.mTeachNodes.length - 1; t >= e.length; --t) {
                        var n = this.mTeachNodes[t];
                        _.noxcc.setActive(n.node, !1)
                    }
                    for (t = 0; t < e.length; ++t) {
                        var a = e[t];
                        n = this.mTeachNodes[t];
                        (n = this.updateTeachListItem(n, a)).node.name = "item" + t, _.noxcc.setActive(n.node, !0)
                    }
                }, t.prototype.updateTeachListItem = function (e, t) {
                    var n = this, a = i.Data.INFO_ID_GROUP_SIZE_LARGE, r = P._playerBonus._bonusTeach[t._bonusId],
                        s = string.format("%d-%d ", Math.floor(t._id / a), t._id % 100) + c.lcStr(t._titleSid),
                        p = c.lcStr(t._briefSid);
                    return null == e ? ((e = o.BonusWidget.create(l.lc.w(this.mTeachListBox), r, s, p)).node.parent = this.mTeachListBox, this.mTeachNodes.push(e)) : (e.clear(), e.setBonus(r, s, p)), e.registerCallback(function (e) {
                        n.dealTeachTask(t, e)
                    }), P._playerBonus._bonusTeach[t._bonusId]._info._val <= P._playerBonus._bonusTeach[t._bonusId]._value ? r._isClaimed && (_.noxcc.setActive(e.getButton(), !0), e.getButton().setLabelString(c.lcStr(d.STR.BATTLE_AGAIN))) : r._value < r._info._val && e.getButton().setLabelString(c.lcStr(d.STR.BATTLE)), _.noxcc.setButtonInteractable(e.getButton(), this.isLastTeachPass(t)), _.noxcc.setActive(e.getButton(), !0), e
                }, t.prototype.getTabInfos = function () {
                    var e;
                    return (e = {})[i.Data.TeachType.novice_teach] = ["Center/LeftPanel/content/first_button", null], e[i.Data.TeachType.basic_teach] = ["Center/LeftPanel/content/second_button", null], e[i.Data.TeachType.mid_teach] = ["Center/LeftPanel/content/third_button", null], e[i.Data.TeachType.master_teach] = ["Center/LeftPanel/content/fourth_button", null], e
                }, t.prototype.dealTeachTask = function (e, t) {
                    if (t._value >= t._info._val && !t._isClaimed) {
                        var n = p.ClientData.claimBonus(t);
                        return this.updateTeachListBox(), void u.ClientView.showClaimBonusResult(t, n)
                    }
                    var a = g.BattleInputUtil.genInputFromTeach(e._id);
                    a._battleType = i.Data.BattleType.teach, a._conditionIds = e._condition, a._conditionValues = e._value, a._teachingId = e._id, p.ClientData._teachingIndex = e._id, m.SceneManager.popScene(!0), m.SceneManager.replaceScene(y.ResSwitchScene.create(this._sceneId, f.SceneId.battle, a))
                }, t.prototype.getTeachInfos = function (e, t) {
                    if (null == t) return this.mTeachInfos[e];
                    for (var n = [], a = 0; a < this.mTeachInfos[e].length; ++a) {
                        var o = this.mTeachInfos[e][a];
                        Math.floor(o._id % i.Data.INFO_ID_GROUP_SIZE_LARGE / 100) == t && (n[n.length] = o)
                    }
                    return n
                }, t.prototype.getTeachPassed = function (e, t) {
                    var n = 0, a = e * i.Data.INFO_ID_GROUP_SIZE_LARGE, o = 0, r = 0;
                    null != t && (o = (r = a + 100 * t) + 100 - 1);
                    for (var _ = 0; _ < this.mTeachInfos[e].length; ++_) {
                        var s = this.mTeachInfos[e][_], c = P._playerBonus._bonusTeach[s._bonusId];
                        (null == t || r <= s._id && s._id <= o) && null != c && this.isTeachComplete(c) && (n += 1)
                    }
                    return n
                }, t.prototype.isTeachComplete = function (e) {
                    return e._isClaimed || !e._isClaimed && e.canClaim()
                }, t.prototype.isLastTeachPass = function (e) {
                    var t = e._passId[0];
                    if (0 == t) return !0;
                    var n = i.Data._teachInfo[t], a = P._playerBonus._bonusTeach[n._bonusId];
                    return a._info._val <= a._value
                }, t.prototype.updateButtonFlags = function () {
                }, t.prototype.onGuide = function () {
                    if ("novice battle" == T.GuideManager.getCurStepName()) T.GuideManager.setOperateLayer(this.mTeachNodes[0].getButton(), null, [this.mTeachNodes[0].getRoot()]); else if ("novice claim" == T.GuideManager.getCurStepName()) T.GuideManager.setOperateLayer(this.mTeachNodes[0].getButton(), null, [this.mTeachNodes[0].getRoot()]); else {
                        if ("leave teach" != T.GuideManager.getCurStepName()) return;
                        T.GuideManager.setOperateLayer(this.mBackBtn.node)
                    }
                }, t
            }(h.BaseUIScene);
        n.TutorialScene = v, cc._RF.pop()
    }, {
        "../../leocool/lc": "lc",
        "../../leocool/lcRes": "lcRes",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../GuideManager": "GuideManager",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/widget/BonusWidget": "BonusWidget",
        "../utils/BattleInputUtil": "BattleInputUtil",
        "./BaseUIScene": "BaseUIScene",
        "./ResSwitchScene": "ResSwitchScene",
        "./SceneManager": "SceneManager"
    }],
    UICfg: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dfe16jPRONO357YlIqyB2h/", "UICfg"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("../../leocool/lc"), o = e("../data/data"), r = function () {
            function e() {
            }

            return Object.defineProperty(e, "SCR_DESIZE_SIZE", {
                get: function () {
                    return cc.size(1366, 768)
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_SIZE", {
                get: function () {
                    return cc.view.getVisibleSize()
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_W", {
                get: function () {
                    return cc.view.getVisibleSize().width
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_CW", {
                get: function () {
                    return cc.view.getVisibleSize().width / 2
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_H", {
                get: function () {
                    return cc.view.getVisibleSize().height
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_CH", {
                get: function () {
                    return cc.view.getVisibleSize().height / 2
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_EDGE", {
                get: function () {
                    return Math.max(0, e.SCR_CW - 768)
                }, enumerable: !0, configurable: !0
            }), e
        }();
        n.UICfg = r, function (e) {
            var t;
            e.UI_SCENE_TITLE_HEIGHT = 51, e.VERTICAL_TAB_WIDTH = 250, e.AREA_MAX_WIDTH = 1300, e.PANEL_BTN_WIDTH = 150, e.PANEL_BOTTOM_HEIGHT = 80, e.CRECT_PROGRESS_BG = cc.rect(14, 0, 1, 27), e.CRECT_PROGRESS_FG = cc.rect(13, 0, 1, 23), e.CRECT_COM_BG58 = cc.rect(1, 1, 1, 1), e.CRECT_CARD_INFO_WIDGET = cc.rect(15, 0, 24, 97), e.CRECT_BUTTON_B_XS = cc.rect(10, 16, 2, 16), e.FRAME_INNER_TOP = 28, e.FRAME_INNER_LEFT = 28, e.FRAME_INNER_RIGHT = 28, e.FRAME_INNER_BOTTOM = 28, e.FRAME_TAB_WIDTH = 120, e.MASK_OPACITY_LIGHT = 128, e.MASK_OPACITY_DARK = 200, e.COLOR_BMFONT = a.nox.c3b(255, 250, 240), e.COLOR_TEXT_TITLE = a.nox.c3b(255, 200, 0), e.COLOR_TEXT_TITLE_DESC = a.nox.c3b(230, 200, 160), e.COLOR_BUTTON_TITLE = a.nox.c3b(252, 234, 170), e.COLOR_LABEL_LIGHT = a.nox.c3b(240, 150, 70), e.COLOR_LABEL_DARK = a.nox.c3b(96, 64, 32), e.COLOR_TEXT_LIGHT = e.COLOR_BMFONT, e.COLOR_TEXT_DARK = a.nox.c3b(40, 20, 0), e.COLOR_TEXT_WHITE = e.COLOR_BMFONT, e.COLOR_TEXT_GREEN = a.nox.c3b(200, 250, 150), e.COLOR_TEXT_GREEN_2 = a.nox.c3b(40, 210, 40), e.COLOR_TEXT_BLUE = a.nox.c3b(150, 220, 250), e.COLOR_TEXT_BLUE_2 = a.nox.c3b(0, 120, 230), e.COLOR_TEXT_PURPLE = a.nox.c3b(220, 130, 255), e.COLOR_TEXT_ORANGE = a.nox.c3b(255, 200, 60), e.COLOR_TEXT_RED = a.nox.c3b(255, 100, 100), e.COLOR_TEXT_GREEN_DARK = a.nox.c3b(60, 255, 80), e.COLOR_TEXT_BLUE_DARK = a.nox.c3b(0, 0, 128), e.COLOR_TEXT_PURPLE_DARK = a.nox.c3b(160, 0, 160), e.COLOR_TEXT_ORANGE_DARK = a.nox.c3b(150, 120, 20), e.COLOR_TEXT_RED_DARK = a.nox.c3b(180, 10, 10), e.COLOR_TEXT_GRAY = a.nox.c3b(96, 96, 96), e.COLOR_TEXT_LIGHT_BLUE = a.nox.c3b(75, 255, 250), e.COLOR_TEXT_VIP = a.nox.c3b(255, 100, 50), e.COLOR_TEXT_INGOT = a.nox.c3b(255, 255, 128), e.COLOR_GLOW = a.nox.c3b(250, 250, 120), e.COLOR_GLOW_BLUE = a.nox.c3b(180, 250, 250), e.COLOR_DARK_BG = a.nox.c3b(64, 64, 64), e.COLOR_UNION_TITLE = a.nox.c3b(254, 211, 117), e.COLOR_LEGEND_NUM = a.nox.c3b(255, 255, 120), e.COLOR_RES_LABEL_BG_LIGHT = a.nox.c3b(120, 60, 0), e.COLOR_RES_LABEL_BG_DARK = a.nox.c3b(60, 30, 0), e.COLOR_SHADOW_BG_BLUE = a.nox.c4b(5, 85, 100, 255), e.COLOR_SHADOW_BG_BROWN = a.nox.c4b(60, 30, 0, 255), e.COLOR_DIVIDING_LINE_DARK = a.nox.c3b(70, 45, 10), e.COLOR_DIVIDING_LINE_LIGHT = a.nox.c3b(180, 210, 240), e.COLOR_TEXT_MENU_WHITE = a.nox.c3b(255, 255, 255), e.COLORS_TEXT_CLASH_GRADE = [null, e.COLOR_TEXT_WHITE, e.COLOR_TEXT_WHITE, e.COLOR_TEXT_WHITE, e.COLOR_TEXT_WHITE, e.COLOR_TEXT_WHITE, e.COLOR_TEXT_WHITE], a.nox.isJsb ? (cc.appPublisher && cc.appPublisher.match(/yugi/), e.defaultTTFFont = "ARIALUNI.TTF", e.defaultUIFont = "ARIALUNI.TTF") : (e.defaultTTFFont = "cafeta", e.defaultUIFont = "cafeta"), e.TTF_FONT = e.defaultTTFFont, a.nox.isJsb && cc.appPublisher && cc.appPublisher.match(/yugi/) ? (e.BMFontSize = {
                B1: 48,
                B2: 36,
                M1: 32,
                M2: 28,
                S1: 26,
                S2: 22,
                S3: 20,
                S4: 18
            }, e.UIFontSize = {B1: 23, B2: 23, M1: 23, M2: 23, S1: 23, S2: 23, S3: 23, S4: 18}, e.TTFFontSize = {
                B1: 23,
                B2: 23,
                M1: 23,
                M2: 23,
                S1: 23,
                S2: 23,
                S3: 23,
                S4: 18
            }, e.FontSize = e.TTFFontSize) : (e.BMFontSize = {
                B1: 48,
                B2: 36,
                M1: 32,
                M2: 28,
                S1: 26,
                S2: 22,
                S3: 20,
                S4: 18
            }, e.UIFontSize = {B1: 48, B2: 36, M1: 32, M2: 28, S1: 26, S2: 22, S3: 20, S4: 18}, e.TTFFontSize = {
                B1: 48,
                B2: 36,
                M1: 32,
                M2: 28,
                S1: 26,
                S2: 22,
                S3: 20,
                S4: 18
            }, e.FontSize = e.TTFFontSize), e.BMFont = {
                huali_20: "fonts/huali_26.fnt",
                huali_26: "fonts/huali_26.fnt",
                huali_32: "fonts/huali_32.fnt",
                num_48: "fonts/num_48.fnt",
                num_43: "fonts/number_43.fnt",
                num_24: "fonts/yxw_number_csrd_24.fnt",
                number: "fonts/number.fnt",
                number_legend: "fonts/legend_num.fnt",
                skill: "fonts/skills_name.fnt"
            };
            e.trophyGradeBones = ["qingtong", "baiying", "huangjin", "bojin", "chuanshuo"], e.gradeSpines = ["animation1", "animation2", "animation3", "animation4", "animation5"], e.BMFONTS_COMMON = [e.BMFont.huali_26, e.BMFont.huali_32, e.BMFont.num_48, e.BMFont.num_43];
            e.BMFont.number_legend, e.BMFont.skill;
            e.RICHTEXT_PARAM_DARK_S1 = {
                _normalClr: e.COLOR_TEXT_DARK,
                _boldClr: e.COLOR_TEXT_GREEN_DARK,
                _fontSize: e.FontSize.S1
            }, e.RICHTEXT_PARAM_DARK_S2 = {
                _normalClr: e.COLOR_TEXT_DARK,
                _boldClr: e.COLOR_TEXT_GREEN_DARK,
                _fontSize: e.FontSize.S2
            }, e.RICHTEXT_PARAM_LIGHT_S1 = {
                _normalClr: e.COLOR_TEXT_LIGHT,
                _boldClr: e.COLOR_TEXT_GREEN,
                _fontSize: e.FontSize.S1
            }, e.RICHTEXT_PARAM_LIGHT_S2 = {
                _normalClr: e.COLOR_TEXT_LIGHT,
                _boldClr: e.COLOR_TEXT_GREEN,
                _fontSize: e.FontSize.S2
            }, e.RICHTEXT_PARAM_DARK_GEEN_S2 = {
                _normalClr: i.lc.Color3B.black,
                _boldClr: e.COLOR_TEXT_GREEN_2,
                _fontSize: e.FontSize.S2
            }, e.CRECT_COM_BG1 = cc.rect(56, 0, 3, 48), e.CRECT_COM_BG2 = cc.rect(8, 0, 122, 30), e.CRECT_COM_BG3 = cc.rect(17, 22, 1, 1), e.CRECT_COM_BG4 = cc.rect(22, 50, 1, 1), e.CRECT_COM_BG5 = cc.rect(17, 22, 1, 1), e.CRECT_COM_BG7 = cc.rect(17, 30, 1, 2), e.CRECT_COM_BG9 = cc.rect(28, 48, 2, 2), e.CRECT_COM_BG10 = cc.rect(18, 20, 2, 1), e.CRECT_COM_BG11 = cc.rect(20, 32, 2, 2), e.CRECT_COM_BG12 = cc.rect(28, 0, 2, 38), e.CRECT_COM_BG13 = cc.rect(0, 35, 256, 1), e.CRECT_COM_BG14 = cc.rect(28, 28, 4, 4), e.CRECT_COM_BG15 = cc.rect(24, 26, 1, 1), e.CRECT_COM_BG16 = cc.rect(70, 75, 1, 1), e.CRECT_COM_BG17 = cc.rect(51, 65, 1, 1), e.CRECT_COM_BG18 = cc.rect(257, 0, 1, 1), e.CRECT_COM_BG20 = cc.rect(6, 6, 1, 1), e.CRECT_COM_BG21 = cc.rect(88, 78, 1, 1), e.CRECT_COM_BG22 = cc.rect(30, 32, 2, 2), e.CRECT_COM_BG23 = cc.rect(4, 4, 2, 2), e.CRECT_COM_BG24 = cc.rect(63, 63, 1, 1), e.CRECT_COM_BG25 = cc.rect(24, 26, 2, 2), e.CRECT_COM_BG26 = cc.rect(11, 0, 2, 28), e.CRECT_COM_BG27 = cc.rect(8, 8, 2, 2), e.CRECT_COM_BG29 = cc.rect(18, 0, 1, 230), e.CRECT_COM_BG30 = cc.rect(16, 16, 2, 1), e.CRECT_COM_BG31 = cc.rect(42, 52, 2, 2), e.CRECT_COM_BG32 = cc.rect(33, 0, 1, 45), e.CRECT_COM_BG33 = cc.rect(20, 0, 2, 152), e.CRECT_COM_BG34 = cc.rect(19, 0, 2, 32), e.CRECT_COM_BG35 = cc.rect(20, 30, 2, 48), e.CRECT_COM_BG36 = cc.rect(7, 55, 1, 1), e.CRECT_COM_BG37 = cc.rect(25, 27, 1, 2), e.CRECT_COM_BG42 = cc.rect(8, 14, 1, 1), e.CRECT_COM_BG43 = cc.rect(88, 0, 2, 97), e.CRECT_COM_BG44 = cc.rect(88, 0, 2, 97), e.CRECT_COM_BG45 = cc.rect(51, 35, 113, 1), e.CRECT_COM_BG46 = cc.rect(35, 58, 1, 1), e.CRECT_COM_BG55 = cc.rect(24, 0, 1, 81), e.CRECT_COM_BG57 = cc.rect(7, 7, 1, 1), e.CRECT_FRAME1 = cc.rect(14, 18, 1, 1), e.CRECT_FRAME2 = cc.rect(32, 50, 1, 1), e.CRECT_FORM_FRAME = cc.rect(74, 64, 1, 1), e.CRECT_FORM_TITLE_BG2 = cc.rect(240, 0, 3, 54), e.CRECT_RECT_INTERNAL = cc.rect(44, 93, 1, 1), e.CRECT_TIP_BG = cc.rect(40, 40, 1, 1), e.CRECT_TOAST_BG = cc.rect(45, 43, 2, 1), e.CRECT_UI_FRAME = cc.rect(25, 25, 1, 1), e.CRECT_TITLE_AREA_BG = cc.rect(1, 0, 1, 60), e.CRECT_TITLE_BG = cc.rect(115, 0, 1, 51), e.CRECT_BUTTON = cc.rect(20, 0, 1, 78), e.CRECT_BUTTON_S = cc.rect(14, 0, 2, 60), e.CRECT_BUTTON_SQUARE = cc.rect(30, 0, 3, 61), e.CRECT_BUTTON_CHECK = cc.rect(22, 0, 2, 46), e.CRECT_BUTTON_TAB_2 = cc.rect(25, 0, 1, 54), e.CRECT_ARROW_3 = cc.rect(0, 32, 40, 1), e.CRECT_ARROW_4 = cc.rect(0, 32, 40, 1), e.CRECT_LABEL_DECORATION = cc.rect(349, 0, 2, 55), e.CRECT_FORM_TITLE_BG1_CRECT = cc.rect(188, 0, 1, 63), e.CRECT_FORM_TITLE_LIGHT1_CRECT = cc.rect(47, 0, 2, 40), e.CARD_SIZE = cc.size(487, 675), e.BATTLE_ROTATION_X = 20, e.MAX_STAR_COUNT = 15, e.SUPPORT_TOUCH_COUNT = 2, e.BUDGE_LIMIT = 32, e.TAP_TIME_LIMIT = .5, e.LONG_PRESS_TIME_LIMIT = 2;
            var n = function () {
                function e() {
                }

                return e.create = function (t) {
                    return new e
                }, e
            }();
            e.ShaderEffect = n, e.SHADER_PRESS = n.create("res/shader/highlight.fsh"), e.SHADER_DISABLE = n.create("res/shader/gray.fsh"), e.SHADER_GRAY_FRAME = n.create("res/shader/gray_light.fsh"), e.SHADER_G2B = n.create("res/shader/colorG2B.fsh"), e.SHADER_G2Y = n.create("res/shader/colorG2Y.fsh"), e.SHADER_COLORS = [null, n.create("res/shader/colorGreen.fsh"), n.create("res/shader/colorBlue.fsh"), n.create("res/shader/colorPurple.fsh"), n.create("res/shader/colorYellow.fsh"), n.create("res/shader/colorRed.fsh")], e.SHADER_TYPES = ((t = {})[o.Data.CardType.monster] = n.create("res/shader/colorYellow.fsh"), t[o.Data.CardType.magic] = n.create("res/shader/colorGreen.fsh"), t[o.Data.CardType.trap] = n.create("res/shader/colorPurple.fsh"), t[o.Data.CardType.rare] = n.create("res/shader/colorDarkPurple.fsh"), t[o.Data.CardType.monster + 100] = n.create("res/shader/colorOrange.fsh"), t[o.Data.CardType.monster + 101] = n.create("res/shader/colorLightBlue.fsh"), t[o.Data.CardType.rare + 100] = n.create("res/shader/colorLightWhite.fsh"), t), e.SHADER_COLOR_STAGE_SILVER = n.create("res/shader/colorStageSilver.fsh"), e.SHADER_COLOR_STAGE_BRONZE = n.create("res/shader/colorStageBronze.fsh"), e.init = function () {
            }
        }(r = n.UICfg || (n.UICfg = {})), n.UICfg = r, cc._RF.pop()
    }, {"../../leocool/lc": "lc", "../../nox": "nox", "../data/data": "data"}],
    UIUtil: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "6ac84cWwJRGzosURxIxkNkR", "UIUtil"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../noxcc"), i = e("../../nox"), o = e("../ClientView"), r = e("../config/UICfg"),
            _ = e("../StaticPrefabMgr"), s = e("../../leocool/lc"), c = e("./SpriteUtil"), l = e("../ClientData"),
            d = e("./TimeUtil"), p = e("../../framework/NoxResMgr"), u = e("../ui/node/NodeWithProgressBar"),
            g = e("../ui/node/LevelAreaNew"), h = e("../ui/node/LevelExpBar"), f = e("../ui/node/NodeWithImageFont"),
            m = e("../ui/node/NodeWithShaderButton"), y = e("../ui/node/CheckLabelArea"),
            T = e("../ui/node/NodeWithLabel"), S = e("../ui/node/UnionInfoArea"), C = e("../../leocool/lcAppCfg"),
            v = e("../data/data"), b = e("../ui/node/VerticalTabListArea"), E = e("../ui/node/TouchLayer"),
            I = e("../ui/node/TouchSprite"), A = e("../ui/node/ResConsumeButtonArea"),
            R = e("../ui/node/ResConsumeButton"), B = e("../../leocool/lcStr"), N = e("../StringEnums"),
            D = e("../ui/node/KeyValueLabel"), U = e("../ui/node/LevelArea"), M = e("../ui/node/LevelNameArea"),
            k = e("../ui/node/IconLabelArea"), L = e("../ui/node/ResIconLabel"), O = e("../ui/node/VerticalTitle"),
            x = e("../ui/node/TitleArea"), w = e("../ui/node/EditBoxNode"), F = e("../ui/node/SwordNode"),
            V = e("../ui/node/LabelButton"), H = e("../ui/node/HorizontalContentTab"),
            G = e("../ui/node/HorizontalContentTabCustom"), W = e("./RichTextUtil"), Y = e("../../leocool/lcBBCode"),
            K = e("../ui/widget/UserWidget"), z = e("./SpineUtil"), j = e("../part/ClashPart"), q = e("./CardUtil"),
            X = e("../ui/form/DescForm"), Z = e("../ui/node/VerticalTabButtons2"), J = e("../ToastManager"),
            Q = e("../part/UnionPart"), $ = e("../ui/panel/union/UnionDetailForm"), ee = e("./ActivityUtil"),
            te = e("../ui/form/VisitForm"), ne = e("./BattleInputUtil"), ae = e("../ui/panel/RewardPanel"),
            ie = e("../ui/form/SendMailForm"), oe = e("../ui/form/GivePropForm"), re = e("../ui/common/Dialog"),
            _e = e("../ui/form/ImpeachForm");
        (function (e) {
            var t = c.SpriteUtil.createSprite;

            function n(e, t, n, a) {
                return T.NodeWithLabel.createBMFont(e, t, n, a)
            }

            function se(e, t) {
                return u.NodeWithProgressBar.createProgressBar(e, t)
            }

            function ce(e) {
                return z.SpineUtil.createSpineAnim("duanwei", "default", r.UICfg.gradeSpines[e - 1], !0)
            }

            function le(e, t, n, a, i) {
                return k.IconLabelArea.create(e, t, n, a, i)
            }

            function de(e, t, n, a, i) {
                var o = i ? i._fontSize : r.UICfg.FontSize.S2, _ = i ? i._curColor : r.UICfg.COLOR_TEXT_LIGHT,
                    c = B.lcStr(e._descSid);
                c = c.replace("#", "");
                var l = W.RichTextUtil.newRichText();
                if (l.maxWidth = a, W.RichTextUtil.setLineBreakOnSpace(l, C.lcAppCfg.isNeedSpaceBreak()), e._val[0] > 0) {
                    var d = i ? i._nextColor : r.UICfg.COLOR_TEXT_GREEN;
                    c = c.replace(/\[\d+\]/g, "|");
                    var p = string.splitByChar(c, "|"), u = 2;
                    "|" == c[0] ? p.unshift("") : c[c.length - 1];
                    for (var g = W.RichTextUtil.createBBCode(p[0], _, o, r.UICfg.TTF_FONT); u <= p.length;) s.lc.V(n) && n > t ? (g += W.RichTextUtil.createBBCode(string.format("%d ", e._val[t - 1]), _, o, r.UICfg.TTF_FONT), g += Y.lcBBCode.color(Y.lcBBCode.image("img_arrow_right"), d).toString(), g += W.RichTextUtil.createBBCode(string.format(" %d", e._val[n - 1]), d, o, r.UICfg.TTF_FONT)) : g += W.RichTextUtil.createBBCode(e._val[t - 1] + "", d, o, r.UICfg.TTF_FONT), g += W.RichTextUtil.createBBCode(p[u - 1], _, o, r.UICfg.TTF_FONT), u += 1;
                    return l.string = g, l.node
                }
                g = W.RichTextUtil.createBBCode(c, _, o, r.UICfg.TTF_FONT);
                return l.string = g, l.node
            }

            function pe(e, t, n) {
                var a = c.SpriteUtil.createSprite({
                    _name: "img_blank",
                    _crect: cc.rect(1, 1, 1, 1),
                    _size: cc.size(s.lc.w(e) - 2 * n, 36)
                }).node, i = T.NodeWithLabel.createWithTTF(t, r.UICfg.TTF_FONT, r.UICfg.FontSize.M1);
                i.color = r.UICfg.COLOR_TEXT_ORANGE;
                i.getContentSize();
                return s.lc.addChildToPosAR(a, i, cc.p(12, 4)), a._label = i, a
            }

            e.createCardFrame = function (e, t, n) {
                return q.CardUtil.CardFrame.create(e, t, n)
            }, e.getCardFrameName = function (e, t) {
                return void 0 === t && (t = null), e == v.Data.CardType.monster ? string.format("card_frame_nature_%02d", t || 0) : e == v.Data.CardType.magic ? "card_frame_nature_magic" : void 0
            }, e.createCardShadow = function (e, t, n, a) {
                return null
            }, e.createCardListBg = function (e) {
                var t = s.lc.createNode(e),
                    n = c.SpriteUtil.createScale9Sprite("img_divide_line_4", cc.rect(1, 0, 1, 24)).node;
                n.setContentSize(e.width, 24), s.lc.addChildToPosLB(t, n, cc.p(s.lc.w(t) / 2, s.lc.h(t) - s.lc.h(n) / 2));
                var a = c.SpriteUtil.createScale9Sprite("img_divide_line_4", cc.rect(1, 0, 1, 24)).node;
                return a.setContentSize(e.width, 24), s.lc.addChildToPosLB(t, a, cc.p(s.lc.w(t) / 2, s.lc.h(a) / 2)), t
            }, e.getCardIconFrameName = function (e) {
                return e == v.Data.CardQuality.R && (e = v.Data.CardQuality.U), "card_icon_quality_0" + e
            }, e.getCardBackName = function (e, t) {
                var n = t ? "card_back_square" : "card_back",
                    a = (n = n + "_" + (null != e ? e - 7600 : 0)) + "_" + C.lcAppCfg.getSubChannelName();
                return c.SpriteUtil.hasSpriteFrame(a) && (n = a), n
            }, e.getCardBottomName = function (e) {
                return e == v.Data.CardType.monster || e == v.Data.CardType.rare ? "card_frame_bottom_monster" : e == v.Data.CardType.magic ? "card_frame_bottom_magic" : e == v.Data.CardType.trap ? "card_frame_bottom_trap" : void cc.assert(!1, "unknown type: " + e)
            }, e.getCardLevelName = function (e) {
                return "card_frame_level_0" + e
            }, e.getCardImageName = function (e, t) {
                var n = s.lc.V(t) && t > 0 ? t : l.ClientData.getPicIdByInfoId(e), a = "", i = v.Data.getType(n);
                i == v.Data.CardType.monster || i == v.Data.CardType.monster_skin ? a = "res/thumb_monster/" + n + ".lcres" : i == v.Data.CardType.magic ? a = "res/thumb_magic/" + n + ".lcres" : i == v.Data.CardType.trap ? a = "res/thumb_trap/" + n + ".lcres" : i != v.Data.CardType.rare && i != v.Data.CardType.rare_skin || (a = "res/thumb_rare/" + n + ".lcres");
                var o = n + (i == v.Data.CardType.magic || i == v.Data.CardType.trap ? ".jpg" : ".png");
                return o = a.replace(".lcres", "/") + o
            }, e.getCardIconName = function (e, t) {
                var n = (t ? "ico_s_" : "ico_") + l.ClientData.getPicIdByInfoId(e);
                if (C.lcAppCfg.isAppStoreReviewing() && c.SpriteUtil.hasSpriteFrame(n + "_r")) return n + "_r";
                if (0 == c.SpriteUtil.hasSpriteFrame(n)) {
                    var a = v.Data.getType(e);
                    a == v.Data.CardType.monster ? n = "ico_monster_default" : a == v.Data.CardType.magic ? n = "ico_magic_default" : a == v.Data.CardType.trap ? n = "ico_trap_default" : a == v.Data.CardType.props && (n = "ico_prop_default")
                }
                return n
            }, e.getCardShadowFrameName = function (e) {
                return "card_shadow"
            }, e.getCardShader = function (e) {
                return null
            }, e.createWithBMFont = function (e, t, n, a) {
                return T.NodeWithLabel.createWithBMFont(e, t, n, a)
            }, e.createWithTTF = function (e, t, n, a, i, o) {
                return T.NodeWithLabel.createWithTTF(e, t, n, a, i, o)
            }, e.createBMFont = n, e.createTTF = function (e, t, n, a, i, o) {
                return T.NodeWithLabel.createTTF(e, t, n, a, i, o)
            }, e.createTTFBold = function (e, t, n, a, i, o) {
                return T.NodeWithLabel.createTTF(e, t, n, a, i, o)
            }, e.createImageFont = function (e, t, n) {
                return f.NodeWithImageFont.createImageFont(e, t, n)
            }, e.createEditBox = function (e, t, n, a, i, o) {
                return w.EditBoxNode.create(e, t, n, a, i, o)
            }, e.createProgressBar = se, e.createLabelProgressBar = function (e, t, n, a) {
                return u.NodeWithProgressBar.createLabelProgressBar(e, t, n, a)
            }, e.createTrophyProgressBar = function (e) {
                var a = se(e - 100), o = t(l.ClientData.getResIconName(v.Data.ResType.clash_trophy, !1));
                o.node.scale = .8, s.lc.addChildToPosAR(a, o.node, cc.v2(s.lc.aleft(a) + 70, 0));
                var _ = n(r.UICfg.BMFont.huali_20, "0/0");
                return s.lc.addChildToPosAR(a, _, cc.v2(s.lc.aleft(a) + 150), 0), a._label = _, function () {
                    a._curSpine && a._curSpine.removeFromParent(), a._nextSpine && a._nextSpine.removeFromParent();
                    var e, t = P._playerFindClash.getGrade(P._playerFindClash._trophy);
                    v.Data._ladderInfo[t]._trophy, e = t >= v.Data.FindClashGrade.legend ? v.Data._ladderInfo[v.Data.FindClashGrade.legend]._trophy : v.Data._ladderInfo[t + 1]._trophy;
                    var n = P._playerFindClash._trophy / e * 100;
                    n = Math.min(n, 100), a.setPercent(n), a.setLabel(i.nox.toString(P._playerFindClash._trophy) + "/" + i.nox.toString(e));
                    var o = ce(t);
                    if (o.scale = .3, s.lc.addChildToPosAR(a, o, cc.v2(s.lc.aleft(a) - 25, 0)), a._curSpine = o, t < v.Data.FindClashGrade.legend) {
                        var r = ce(t + 1);
                        r.setScale(.3), s.lc.addChildToPosAR(a, r, cc.v2(s.lc.aright(a) + 25, 0)), a._nextSpine = r
                    }
                }(), a
            }, e.createTrophyGradeDB = ce, e.createShaderButton = function (e, t, n, a) {
                return m.NodeWithShaderButton.createShaderButton(e, t, n, a)
            }, e.createScale9ShaderButton = function (e, t, n, a, i) {
                return m.NodeWithShaderButton.createScale9ShaderButton(e, t, n, a, i)
            }, e.createChargeButton = function (e, t) {
                return m.NodeWithShaderButton.createChargeButton(e, t)
            }, e.createResConsumeButtonArea = function (e, t, n, a, i, o) {
                return A.ResConsumeButtonArea.create(e, t, n, a, i, o)
            }, e.createResConsumeButton = function (e, t, n, a, i, o) {
                return R.ResConsumeButton.createResConsumeButton(e, t, n, a, i, o)
            }, e.createVerticalTabListArea = function (e, t, n, a, i) {
                return b.VerticalTabListArea.createVerticalTabListArea(e, t, n, a, i)
            }, e.createVerticalIconTabListArea = function (e, t, n, a) {
                return b.VerticalTabListArea.createVerticalIconTabListArea(e, t, n, a)
            }, e.blockTouch = function (e) {
                E.BlockTouchLayer.blockTouch(e)
            }, e.createTouchLayer = function () {
                return new E.TouchLayer
            }, e.createMaskLayer = function (e, t, n) {
                var a = new E.TouchLayer;
                return a.opacity = e, a.color = t, a.setContentSize(n), a.setTouchEnabled(!0), a.addComponent(cc.Sprite).spriteFrame = _.StaticPrefabMgr.getSpriteFrame("singleColor"), a
            }, e.createTouchSpriteWithMask = function (e, t) {
                return I.TouchSprite.createTouchSpriteWithMask(e, t)
            }, e.createTouchSpriteWithShader = function (e, t) {
                return I.TouchSprite.createTouchSpriteWithShader(e, t)
            }, e.createUnionInfoArea = function (e, t) {
                return S.UnionInfoArea.createUnionInfoArea(e, t)
            }, e.createKeyValueLabel = function (e, t, n, a, i) {
                return D.KeyValueLabel.createKeyValueLabel(e, t, n, a, i)
            }, e.createLevelArea = function (e) {
                return U.LevelArea.create(e)
            }, e.createLevelExpBar = function (e, t, n, a) {
                return h.LevelExpBar.createLevelExpBar(e, t, n, a)
            }, e.createLevelAreaNew = function (e) {
                return g.LevelAreaNew.createLevelAreaNew(e)
            }, e.createLevelNameArea = function (e, t, n, a, i) {
                return M.LevelNameArea.create(e, t, n, a, i)
            }, e.createCheckLabelArea = function (e, t, n) {
                return y.CheckLabelArea.createCheckLabelArea(e, t, n)
            }, e.createIconLabelArea = le, e.createItemCountArea = function (e, t, n, a) {
                return a = s.lc.D(a, P.getItemCount(e)), le(t, i.nox.toString(a), n, function () {
                    X.DescForm.create({_infoId: e, _showOwnCount: !0}).show()
                })
            }, e.createResIconLabel = function (e, t, n) {
                return L.ResIconLabel.create(e, t, n)
            }, e.addFixityName = function (e, t, n, a, i) {
                var o = (t = t.replace(/\s+/g, "")).length / 3, _ = o > 3 ? 32 : 38,
                    l = c.SpriteUtil.createWithSpriteFrameName("img_com_bg_2", r.UICfg.CRECT_COM_BG2);
                l.node.setContentSize(o * _ + 50, 48), l.node.setRotation(90), l.node.color = a || s.lc.Color3B.black, l.node.opacity = 120, s.lc.addChildToPosLB(e, l.node, i || cc.p(0, s.lc.h(e) / 2), 1);
                var d = T.NodeWithLabel.createBMFont(r.UICfg.BMFont.huali_32, t, cc.Label.HorizontalAlign.CENTER, 30);
                return d.color = n || r.UICfg.COLOR_BMFONT, d._label.lineHeight = _, s.lc.addChildToPosAR(e, d, cc.p(s.lc.x(l.node), s.lc.y(l.node) + 6), 1), d
            }, e.createFrameBox = function (e) {
                var t = c.SpriteUtil.createImageView({
                    _name: "img_com_bg_21",
                    _crect: r.UICfg.CRECT_COM_BG21,
                    _size: e
                }), n = c.SpriteUtil.createImageView({
                    _name: "img_com_bg_23",
                    _crect: r.UICfg.CRECT_COM_BG23,
                    _size: cc.size(s.lc.w(t) - 40, s.lc.h(t) - 40)
                });
                return s.lc.addChildToCenter(t, n, -2), t
            }, e.createVerticalTitle = function (e, t) {
                return O.VerticalTitle.create(e, t)
            }, e.createTitleArea = function (e, t, n) {
                return x.TitleArea.create(e, t, n)
            }, e.createSword = F.SwordNode.createSword, e.createLabelButton = V.LabelButton.createLabelButton, e.createPaperBg = function (e, t) {
                var n = c.SpriteUtil.createImageView({_name: "img_com_bg_21", _crect: r.UICfg.CRECT_COM_BG22});
                return n.setContentSize(e), n
            }, e.createShadowColorBg = function (e, t) {
                var n = c.SpriteUtil.createLayerColor(t || r.UICfg.COLOR_SHADOW_BG_BLUE, e.width, e.height),
                    a = c.SpriteUtil.createSprite({_name: "img_com_bg_14", _crect: r.UICfg.CRECT_COM_BG14, _size: e}),
                    i = a.addComponent(cc.Widget);
                return i.isAlignLeft = !0, i.isAlignTop = !0, i.isAlignRight = !0, i.isAlignBottom = !0, i.left = 0, i.top = 0, i.right = 0, i.bottom = 0, s.lc.addChildToCenter(n, a.node, 1), n
            }, e.createFramedShadowColorBg = function (e, t) {
                var n = c.SpriteUtil.createSprite({_name: "img_box_info_bg", _crect: cc.rect(16, 14, 15, 23)});
                return n.node.setContentSize(e.width, e.height), n.node
            }, e.createHorizontalContentTab = H.HorizontalContentTab.create, e.createHorizontalContentTabCustom = G.HorizontalContentTabCustom.create, e.createMaterialArea = function (t, n, o) {
                var _ = a.noxcc.newNode();
                _.setAnchorPoint(.5, .5), _.setContentSize(r.UICfg.SCR_W, 200);
                var l = [];
                _._slots = l;
                var d = Math.max(1, t.length), p = (s.lc.w(_) - 100 * d - 14 * (d - 1)) / 2 + 50,
                    u = e.createBMFont(r.UICfg.BMFont.huali_26, n);
                s.lc.addChildToPosLB(_, u, cc.p(s.lc.w(_) / 2, 264));
                for (var g = 0; g < d; ++g) {
                    f = c.SpriteUtil.createSprite("img_slot").node, s.lc.addChildToPosLB(_, f, cc.p(p, 196)), l.push(f), p = p + 100 + 14;
                    var h = c.SpriteUtil.createSprite("img_com_bg_19").node;
                    h.scaleX = .6, s.lc.addChildToPosLB(f, h, cc.p(s.lc.w(f) / 2, -s.lc.h(h) / 2 + 12), -1), f._bg = h
                }
                for (g = 0; g < t.length; ++g) {
                    var f = l[g], m = t[g];
                    if (i.nox.isString(m._need) || m._need > 0) {
                        var y = e.createBMFont(r.UICfg.BMFont.huali_20, string.format("%s", m._need));
                        y.setScale(.8 / f._bg.scaleX, .8), s.lc.addChildToCenter(f._bg, y), o && m._icon._data._count < m._need && (y.color = s.lc.Color3B.red), s.lc.addChildToCenter(f, m._icon.node)
                    }
                }
                return _
            }, e.createLineSprite = function (e, t) {
                var n = c.SpriteUtil.frameFullSize(e).height, a = cc.rect(1, 0, 1, n),
                    i = c.SpriteUtil.createScale9Sprite(e, a).node;
                return i.setContentSize(t, n), i
            }, e.createDividingLine = function (e, t) {
                var n = c.SpriteUtil.createSprite("img_divide_line_8").node;
                return null != e && (n.scaleX = e / s.lc.w(n)), null != t && (n.color = t), n
            }, e.createEvolutionArea = function (e, t) {
                var n = c.SpriteUtil.frameFullSize("card_quality"),
                    a = cc.size(s.lc.makeEven(n.width * t + -7 * (t - 1)), n.height), i = s.lc.createNode(a);
                i.setCascadeOpacityEnabled(!0);
                for (var o = n.width / 2, r = 0; r < t; ++r) {
                    var _ = c.SpriteUtil.createWithSpriteFrameName("card_quality").node;
                    s.lc.addChildToPosLB(i, _, cc.p(o, n.height / 2)), o = o + n.width + -7
                }
                return i
            }, e.createStarArea = function (e, t) {
                var n = cc.size(240, 26), a = s.lc.createNode(n);
                a.setCascadeOpacityEnabled(!0);
                for (var i = [], o = [], _ = 0; _ < r.UICfg.MAX_STAR_COUNT; ++_) {
                    var l = c.SpriteUtil.createShaderSprite("card_quality"),
                        d = c.SpriteUtil.createSprite("card_quality_sliver").node;
                    s.lc.addChildToCenter(a, l), s.lc.addChildToCenter(a, d), i.push(l), o.push(d)
                }
                return a._icons = i, a._iconsSliver = o, a.update = function (e, t) {
                    var a = cc.size(25, 26), i = -1;
                    a.width * e + i * (e - 1) > n.width && (i = (n.width - a.width * e) / (e - 1));
                    for (var o = n.width - a.width / 2, _ = 0; _ < r.UICfg.MAX_STAR_COUNT; ++_) {
                        var s = this._icons[_], c = this._iconsSliver[_];
                        t ? (s.setVisible(!1), c.setVisible(_ < e), c.setPosition(cc.p(o, n.height / 2))) : (s.setVisible(_ < e), c.setVisible(!1), s.setPosition(cc.p(o, n.height / 2))), o = o - a.width - i
                    }
                }, a.setEffect = function (e) {
                    for (var t = a, n = r.UICfg.MAX_STAR_COUNT - 1; n >= 0; --n) t._icons[n].setEffect(e)
                }, a.update(e, t), a
            }, e.createArrowButton = function (e, t, n, a) {
                a = a || "img_arrow_2";
                var i = c.SpriteUtil.createSprite(a).node, o = t.width, r = t.height,
                    _ = m.NodeWithShaderButton.createShaderButton(null, n);
                _.setContentSize(o, r), i.setFlippedX(!e);
                var l = e ? -6 : 6, d = s.lc.absTime(.8);
                return i.runAction(s.lc.repeatForever(s.lc.sequence(s.lc.moveBy(d, l, 0), s.lc.moveBy(d, -l, 0)))), s.lc.addChildToPosLB(_, i, cc.v2(o / 2 - l / 2, r / 2)), _._arrow = i, _
            }, e.createVerticalTabButtons2 = Z.VerticalTabButtons2.create, e.addVerticalTabButtons2 = function (t, n, a, i, o, r) {
                var _ = e.createVerticalTabButtons2(n, a, o, r);
                return s.lc.addChildToPosLB(t, _, cc.v2(i, a - s.lc.h(this))), _
            }, e.createUpgradableDesc = de, e.createSkillDesc = function (e, t, n, a, i) {
                return de("object" == typeof e ? e : v.Data._skillInfo[e], t, n, a, i)
            }, e.createUnionTechDesc = function (e, t, n, a, i) {
                return de("object" == typeof e ? e : v.Data._unionTechInfo[e], t, n, a, i)
            }, e.createBattleSkillItem = function (e, t, n) {
                var o = cc.size(350, 180), _ = a.noxcc.newNode();
                _.setContentSize(o), _.setAnchorPoint(.5, .5), _.setPosition(n), _.setCascadeOpacityEnabled(!0);
                var l = c.SpriteUtil.createSprite({
                    _name: "card_dialog_1",
                    _crect: cc.rect(14, 0, 1, 180),
                    _size: o
                }).node;
                _._bg = l, s.lc.addChildToCenter(_, l), cc.p(_.getContentSize().width / 2, _.getContentSize().height / 2);
                var d = v.Data.getSkillType(t._id),
                    p = c.SpriteUtil.createWithSpriteFrameName("img_icon_skill_" + d).node;
                p.setPosition(128, 46), _.addChild(p);
                var u = v.Data._skillInfo[t._id]._val[Math.min(t._level, v.Data._skillInfo[t._id]._val.length) - 1],
                    g = i.nox.c3b(255, 0, 0), h = B.lcStr(v.Data._skillInfo[t._id]._nameSid);
                if ((y = W.RichTextUtil.createLabel(h, r.UICfg.TTF_FONT, 26).node).color = g, y.setAnchorPoint(0, 0), y.setPosition(-94, 36), _.addChild(y), g = t._isLocked ? i.nox.c3b(80, 49, 49) : r.UICfg.COLOR_TEXT_DARK, h = B.lcStr(v.Data._skillInfo[t._id]._descSid), t._level > 0) {
                    var f = /\[(.*?)\]/.exec(h);
                    if (null != f) {
                        var m = f[1];
                        h = h.replace("[" + m + "]", i.nox.toString(u))
                    }
                }
                var y, T = /\#(.*?)\#/.exec(h);
                if (null != T) {
                    m = T[1];
                    var S = e.getChangeRandomValue(), C = e._opponent.getChangeRandomValue(),
                        b = Math.min(100 - i.nox.toNumber(m), Math.max(-i.nox.toNumber(m), S - C));
                    h = b > 0 ? h.replace("#" + m + "#", m + "(+" + b + ")") : b < 0 ? h.replace("#" + m + "#", m + "(" + b + ")") : h.replace("#" + m + "#", m)
                }
                return (y = W.RichTextUtil.createLabel(h, r.UICfg.TTF_FONT, 26, cc.size(312, 0), cc.Label.HorizontalAlign.LEFT).node).setAnchorPoint(0, 1), y.setScale(.8), y.color = g, y.setPosition(18, s.lc.bottom(p) - 2), _.addChild(y), _
            }, e.createLegendNumArea = function (t) {
                var n = c.SpriteUtil.createSprite("img_legend_num_bg").node,
                    a = e.createBMFont(r.UICfg.BMFont.number_legend, B.lcStr(N.STR[string.format("NUM_%d", t)]));
                return a.color = r.UICfg.COLOR_LEGEND_NUM, s.lc.addChildToCenter(n, a), n._num = a, n
            }, e.createNameLabel = function (e, t, n, a) {
                if (null != a) {
                    var i = m.NodeWithShaderButton.createShaderButton(null, a);
                    return (o = W.RichTextUtil.createLabel(e, r.UICfg.TTF_FONT, r.UICfg.FontSize.S2).node).color = t, i.setContentSize(o.getContentSize()), s.lc.addChildToCenter(i, o), i.setZoomScale(0), null == n || n == cc.Label.HorizontalAlign.LEFT ? i.setAnchorPoint(0, .5) : n == cc.Label.HorizontalAlign.CENTER ? i.setAnchorPoint(.5, .5) : i.setAnchorPoint(1, .5), i
                }
                var o;
                return (o = W.RichTextUtil.createLabel(e, r.UICfg.TTF_FONT, r.UICfg.FontSize.S2, cc.size(220, 30), s.lc.D(n, cc.Label.HorizontalAlign.LEFT), cc.Label.VerticalAlign.CENTER).node).color = t, o
            }, e.createStatusLabel = function (e, t, n) {
                var a = c.SpriteUtil.createSprite("img_status_rect").node;
                a.color = t, null != n && a.setRotation(n);
                var i = W.RichTextUtil.createTTF(e, r.UICfg.FontSize.S1, t);
                return s.lc.addChildToCenter(a, i.node), a._label = i, a
            }, e.createCheckinTitle = function (t, n) {
                return e.createBMFont(r.UICfg.BMFont.huali_32, t)
            }, e.operateUser = function (e, t) {
                var n = this;
                if (e._id != P._id && 0 != e._id) {
                    var a = [];
                    a.push({_isSeparator: !0}), a.push({
                        _str: B.lcStr(N.STR.INFO), _handler: function () {
                            n.visitUser(e)
                        }
                    }), a.push({
                        _str: "" == B.lcStr(N.STR.LEAVE_MESSAGE) ? "\u7559\u8a00" : B.lcStr(N.STR.LEAVE_MESSAGE),
                        _handler: function () {
                            n.mailUser(e)
                        }
                    }), null == e._unionId || 0 == e._unionId ? P._playerUnion.canOperate(206) == v.Data.ErrorType.ok && P._playerUnion.getMyUnion()._reqLevel <= e._level && a.push({
                        _str: B.lcStr(N.STR.UNION_INVITE),
                        _handler: function () {
                            J.ToastManager.push(B.lcStr(N.STR.UNION_INVITE_SEND)), Q.UnionPart.sendUnionInvite(e._id, string.format(B.lcStr(N.STR.UNION_INVITE_MSG), P._unionName))
                        }
                    }) : e._unionId != P._unionId && a.push({
                        _str: B.lcStr(N.STR.UNION) + B.lcStr(N.STR.DETAIL),
                        _handler: function () {
                            $.UnionDetailForm.create(e._unionId).show()
                        }
                    }), ee.ActivityUtil.isActivityValid(ee.ActivityUtil.getActivityByType(803)) && a.push({
                        _str: B.lcStr(N.STR.SEND_GIFT),
                        _handler: function () {
                            oe.GivePropForm.create(e, 803).show()
                        }
                    }), P.hasPrivilege(v.Data.Privilege.chat_ban) && a.push({
                        _str: B.lcStr(N.STR.CHAT_BAN),
                        _handler: function () {
                            this.doPrivilege(v.Data.Privilege.chat_ban, e)
                        },
                        _onButtonCreate: function () {
                            P._chatBanList[e._id] && this.setEnabled(!1)
                        }
                    }), o.ClientView.showOperateTopMostPanel(e._name, a, t, null)
                }
            }, e.operateMember = function (e, t) {
                var n = this;
                if (0 != e._unionId && parseInt(e._id) != parseInt(P._id)) {
                    var a = P._playerUnion, i = [];
                    i.push({
                        _str: B.lcStr(N.STR.INFO), _handler: function () {
                            n.visitUser(e, 1)
                        }
                    }), i.push({
                        _str: B.lcStr(N.STR.LEAVE_MESSAGE), _handler: function () {
                            n.mailUser(e)
                        }
                    }), parseInt(e._unionId) == parseInt(P._unionId) && (a.canOperate(302) == v.Data.ErrorType.ok && i.push({
                        _str: B.lcStr(N.STR.UNION_GIVE_LEADER),
                        _handler: function () {
                            re.Dialog.showDialog(B.lcStr(N.STR.UNION_GIVE_LEADER_TIP), function () {
                                Q.UnionPart.sendUnionGiveLeader(e._id)
                            })
                        }
                    }), a.canOperate(301) == v.Data.ErrorType.ok && (e._unionJob == v.Data.UnionJob.rookie && i.push({
                        _str: B.lcStr(N.STR.UNION_PROMOTE),
                        _handler: function () {
                            Q.UnionPart.sendUnionPromote(e._id)
                        }
                    }), e._unionJob == v.Data.UnionJob.elder && i.push({
                        _str: B.lcStr(N.STR.UNION_DEMOTE),
                        _handler: function () {
                            Q.UnionPart.sendUnionDemote(e._id)
                        }
                    })), a.canOperate(301) == v.Data.ErrorType.ok && P._unionJob > e._unionJob && i.push({
                        _str: B.lcStr(N.STR.UNION_FIRE_MEMBER),
                        _handler: function () {
                            re.Dialog.showDialog(B.lcStr(N.STR.UNION_KICK_OUT_TIP), function () {
                                Q.UnionPart.sendUnionKickout(e._id)
                            })
                        }
                    }), i.length > 3 && i.splice(4, 0, {_isSeparator: !0}), e._unionJob == v.Data.UnionJob.leader && a.canOperate(108) == v.Data.ErrorType.ok && (d.TimeUtil.getCurrentTime() - e._lastLogin) / v.Data.DAY_SECONDS > 6 && i.push({
                        _str: B.lcStr(N.STR.UNION_IMPEACH),
                        _handler: function () {
                            n.impeachLeader(e)
                        },
                        _onButtonCreate: function (e) {
                            e.setDisplayFrame("img_btn_3")
                        }
                    })), o.ClientView.showOperateTopMostPanel(e._name, i, t, null)
                }
            }, e.impeachLeader = function (e) {
                _e.ImpeachForm.create(e).show()
            }, e.visitUser = function (e) {
                e._id != P._id && te.VisitForm.create(e._id, v.Data.RecommendTroop.player).show()
            }, e.compareUser = function (e) {
                e._id != P._id && (o.ClientView.getActiveIndicator().show(B.lcStr(N.STR.WAITING)), ne.BattleInputUtil.startFriendBattle(e._id))
            }, e.mailUser = function (e) {
                if (e._id != P._id) {
                    if (!P.hasPrivilege(v.Data.Privilege.mail_free)) {
                        if (P.getMaxCharacterLevel() < v.Data._globalInfo._unlockSendMail) return void J.ToastManager.push(string.format(B.lcStr(N.STR.LORD_UNLOCK_LEVEL), v.Data._globalInfo._unlockSendMail));
                        if (v.Data._globalInfo._dailySendMailCount - P._dailySendMail <= 0) return void J.ToastManager.push(B.lcStr(N.STR.DAILY_CANNOT_SEND_MAIL))
                    }
                    ie.SendMailForm.create(e).show()
                }
            }, e.openUserProtocol = function (e) {
            }, e.createUnionMemberItem = function (t, n, o) {
                var _ = a.noxcc.newNode();
                _.setContentSize(n, 120);
                var l = _.addComponent(cc.Button);
                l.transition = cc.Button.Transition.NONE, l.target = _, a.noxcc.addClick(l, function () {
                    t._id != P._id && (o ? e.operateMember(t, _) : e.operateUser(t, _))
                });
                var p = c.SpriteUtil.createSprite({
                    _name: "img_bonus_bg",
                    _crect: r.UICfg.CRECT_COM_BG35,
                    _size: _.getContentSize()
                }).node;
                s.lc.addChildToCenter(_, p, -1), _._bg = p;
                var u = K.UserWidget.create(t, K.UserWidget.Flag.LEVEL_NAME);
                u.getRoot().setScale(.9), s.lc.addChildToPosLB(_, u.getRoot(), cc.p(s.lc.w(u.getRoot()) / 2 + 10, s.lc.h(_) / 2 + 4)), _._userArea = u;
                var g = c.SpriteUtil.createSprite("img_union_leader").node;
                g.setAnchorPoint(0, .5), s.lc.addChildToPosLB(u.getRoot(), g, cc.p(s.lc.right(u._nameArea) + s.lc.cw(u.getRoot()) + +s.lc.cw(g), s.lc.y(u.getRoot()) + s.lc.h(u.getRoot()) - s.lc.ch(g) - 10)), _._job = g;
                var h = e.createKeyValueLabel(B.lcStr(N.STR.LAST_LOGIN_TIME), "", r.UICfg.FontSize.S2, !1);
                h.color = r.UICfg.COLOR_TEXT_DARK, h._value.color = r.UICfg.COLOR_TEXT_DARK, s.lc.addChildToPosLB(_, h, cc.v2(s.lc.w(u.getRoot()) - 130, s.lc.y(u.getRoot()) + 30)), h.addChild(h._value), _._lastLogin = h;
                var f = e.createIconLabelArea("img_icon_res6_s", i.nox.toString(t._trophy), 140);
                return s.lc.addChildToPosLB(_, f, cc.v2(s.lc.w(_) - 24 - s.lc.w(f) / 2, s.lc.ch(_))), _._starArea = f, _.update = function (e) {
                    _._member = e, _._bg.color = e._id == P._id ? r.UICfg.COLOR_TEXT_LIGHT_BLUE : s.lc.Color3B.white, _._userArea.setUser(e), e._unionJob == v.Data.UnionJob.leader || e._unionJob == v.Data.UnionJob.elder ? (_._job.setVisible(!0), c.SpriteUtil.setSprite(_._job.getComponent(cc.Sprite), e._unionJob == v.Data.UnionJob.leader ? "img_union_leader" : "img_union_elder")) : _._job.setVisible(!1), _._lastLogin._value.setString(d.TimeUtil.getTimeAgo(e._lastLogin, 7)), _._starArea._label.setString(i.nox.toString(e._trophy))
                }, _.update(t), _
            }, e.createUnionGroupMemItem = function (t, n, o, _) {
                null == o && (o = !0), null == _ && (_ = !0);
                var l = a.noxcc.newNode();
                l.setContentSize(100, s.lc.V(_) ? 160 : 120);
                var d = l.addComponent(cc.Button);
                d.transition = cc.Button.Transition.NONE, d.target = l, a.noxcc.addClick(d, function () {
                    s.lc.V(l._member) && l._member._id != P._id && e.operateGroupMember(l)
                });
                var p = c.SpriteUtil.createSprite("group_mem_bg").node;
                s.lc.addChildToPosLB(l, p, cc.p(s.lc.cw(l), s.lc.h(l) - s.lc.ch(p)));
                var u = K.UserWidget.create(n, .5);
                p.addChild(u.node);
                var g = m.NodeWithShaderButton.createShaderButton(null, function () {
                    s.lc.V(l._addFunc) && l._addFunc(l)
                }), h = c.SpriteUtil.createSprite("img_icon_add_big").node;
                h.setScale(.4), g.setContentSize(p.getContentSize()), s.lc.addChildToCenter(g, h), s.lc.addChildToCenter(p, g);
                var f = e.createTTF("", r.UICfg.FontSize.S3);
                s.lc.addChildToPosLB(l, f, cc.p(s.lc.cw(l), s.lc.bottom(p) - 20)), l._nameLabel = f;
                var y = e.createIconLabelArea("img_icon_res15_s", "", 150);
                return y.setScale(.6), y.setAnchorPoint(.5, .5), s.lc.addChildToPosLB(l, y, cc.p(s.lc.cw(l), s.lc.bottom(p) - 50)), l.update = function (e, t, n, a) {
                    this._member = t, this._groupId = e, f.setVisible(!0), s.lc.V(t) ? (u.node.active = !0, u.setUser(t), g.setVisible(!1), f.setString(t._name), y._label.setString(i.nox.toString(s.lc.D(t._massWarScore, 0))), y.setVisible(1 == a)) : (f.setString(B.lcStr(N.STR.CAN_S) + C.lcAppCfg.breakCharacter() + B.lcStr(N.STR.JOIN)), n || f.setVisible(!1), u.node.active = !1, g.setVisible(!0), y.setVisible(!1)), n || g.setVisible(!1)
                }, l.update(t, n, o, _), l
            }, e.createClashFieldArea = function (t, n, i, o) {
                var _ = c.SpriteUtil.createImageView({
                        _name: "img_com_bg_21",
                        _crect: r.UICfg.CRECT_COM_BG21,
                        _size: cc.size(500, 320)
                    }), l = string.format("res/bat_scene/bat_scene_%d_bg.jpg", 10 + t),
                    d = c.SpriteUtil.createSprite(l).node;
                d.setScale(.34);
                var p = s.lc.w(_) - 30, u = s.lc.h(_), g = new cc.Rect(-p / 2 + 1, -u / 2, p, u),
                    h = e.createClipNode(null, g);
                if (h.setContentSize(_.getContentSize()), s.lc.addChildToCenter(h, d), s.lc.addChildToCenter(_, h, -1), _._bg = d, !o) {
                    var f = z.SpineUtil.createSpineAnim(r.UICfg.trophyGradeBones[t - 1], "effect", "effect", !0);
                    s.lc.addChildToCenter(_, f), _._bones = f
                }
                var m = c.SpriteUtil.createSprite("img_title_bg_1").node;
                m.setScale(.8), s.lc.addChildToPosLB(_, m, cc.p(s.lc.w(_) / 2, s.lc.h(_) - s.lc.h(m) / 2 - r.UICfg.FRAME_INNER_TOP + 8));
                var y = B.lcStr(v.Data._ladderInfo[t]._nameSid), S = r.UICfg.COLORS_TEXT_CLASH_GRADE[t],
                    b = T.NodeWithLabel.createTTF(o ? B.lcStr(41325) : y + C.lcAppCfg.breakCharacter() + B.lcStr(N.STR.FIND_CLASH_FIELD), r.UICfg.FontSize.S2, S);
                if (s.lc.addChildToPosLB(_, b, cc.p(s.lc.w(_) / 2, s.lc.h(_) - 46)), i) {
                    var E = e.createResIconLabel(180, o ? "img_icon_res26_s" : "img_icon_res6_s");
                    if (s.lc.addChildToPosLB(_, E, cc.p(s.lc.w(_) / 2 + 12, Math.floor(s.lc.h(E) / 2 + 40))), t == v.Data.FindClashGrade.legend) E._label.setString(string.format("%d +", v.Data._ladderInfo[t]._trophy)); else {
                        var I = t == v.Data.FindClashGrade.bronze ? 0 : v.Data._ladderInfo[t]._trophy;
                        E._label.setString(string.format("%d - %d", I, v.Data._ladderInfo[t + 1]._trophy - 1))
                    }
                    _._trophy = E
                }
                if (n) {
                    var P = _.addComponent(cc.Button);
                    P.transition = cc.Button.Transition.NONE, P.target = _, a.noxcc.addClick(P, function () {
                        n()
                    })
                }
                return _
            }, e.createClashFieldChest = function (t, n, a, i) {
                var r = ["mubaoxiang", "mubaoxiang", "tongbaoxiang", "tongbaoxiang", "yinbaoxiang", "yinbaoxiang", "jinbaoxiang", "jinbaoxiang", "heizuanbaoxiang"],
                    _ = e.createShaderButton(null, function (e) {
                        var r = P._propBag._props[e._infoId];
                        r._num > 0 && !r._isOpened && !i ? (o.ClientView.getActiveIndicator().show(B.lcStr(N.STR.OPENING), null, e), j.ClashPart.sendOpenBox(e._infoId, 1)) : ClashChestForm.create(t, n, a).show()
                    });
                _.setContentSize(cc.size(100, 100)), n > r.length && (n = r.length);
                var c = r[n - 1], l = z.SpineUtil.createSpineAnim(c, "effect4", "effect4", !0);
                return l.setScale(.4), s.lc.addChildToCenter(_, l), _._bones = l, _.update = function (e) {
                    _._infoId = v.Data.PropsId.clash_chest + 10 * (e - 1) + n;
                    var t = P._propBag._props[_._infoId];
                    0 == t._num || i ? p.NoxResMgr.setSkeletonAnimAsync(l, c, "effect4", "effect4", !0) : t._isOpened ? p.NoxResMgr.setSkeletonAnimAsync(l, c, "effect5", "effect5", !0) : p.NoxResMgr.setSkeletonAnimAsync(l, c, "effect2", "effect2", !0)
                }, _.update(t), _
            }, e.createClashTargetChest = function (t, n, a) {
                var i = e.createShaderButton(null, function () {
                    var e = a ? P.getNewClashTargetStep() : P.getClashTargetStep(),
                        t = a ? P._playerBonus._bonusNewClashTarget[e - 1] : P._playerBonus._bonusClashTarget[e - 1];
                    s.lc.V(t) && t.canClaim() ? l.ClientData.claimBonus(t) == v.Data.ErrorType.ok && (ae.RewardPanel.create(t, ae.RewardPanel.MODE_CLAIM).show(), this._openCallback && this._openCallback()) : ClashTargetChestForm.create(e, a).show()
                });
                i._openCallback = n, i.setContentSize(100, 100);
                var o = a ? P._playerBonus._bonusNewClashTarget[t - 1] : P._playerBonus._bonusClashTarget[t - 1],
                    r = o._isClaimed ? "effect5" : "effect4",
                    _ = ["mubaoxiang", "mubaoxiang2", "tongbaoxiang", "yinbaoxiang", "jinbaoxiang", "heizuanbaoxiang"][t - 1],
                    c = z.SpineUtil.createSpineAnim(_, r, r, !0);
                return c.setScale(.4), s.lc.addChildToCenter(i, c), i._bones = c, i.update = function () {
                    var e = o.canClaim() ? "effect2" : o._isClaimed ? "effect5" : "effect4";
                    p.NoxResMgr.setSkeletonAnimAsync(c, _, e, e, !0)
                }, i
            }, e.createBadge = function (t, n) {
                var a = c.SpriteUtil.createWithSpriteFrameName(string.format("img_badge_%d", t)).node,
                    i = c.SpriteUtil.createWithSpriteFrameName("img_badge_x3").node,
                    o = c.SpriteUtil.createWithSpriteFrameName("img_badge_x3").node;
                if (o.setFlippedX(!0), s.lc.addChildToPosLB(a, i, cc.p(4 - s.lc.w(i) / 2, s.lc.h(a) - s.lc.h(i) / 2), -1), s.lc.addChildToPosLB(a, o, cc.p(s.lc.w(a) + s.lc.w(o) / 2 - 6, s.lc.h(a) - s.lc.h(o) / 2), -1), null != n) {
                    var _ = c.SpriteUtil.createWithSpriteFrameName("img_badge_word_bg").node;
                    s.lc.addChildToPosLB(a, _, cc.p(s.lc.w(a) / 2, s.lc.h(a) / 2 + 26));
                    var l = e.createWithTTF(n, r.UICfg.TTF_FONT, r.UICfg.FontSize.B1);
                    l.color = s.lc.Color3B.yellow, s.lc.addChildToCenter(_, l), a._bg = _, a._label = l
                }
                return a.update = function (e, t) {
                    this.setSpriteFrame(string.format("img_badge_%d", e)), this._label && this._label.setString(t)
                }, a
            }, e.createGroupAvatar = function (e) {
                e = s.lc.D(e, 1);
                var t = c.SpriteUtil.createWithSpriteFrameName(string.format("img_group_avatar_%d", e)).node;
                return t.updateAvatar = function (e) {
                    c.SpriteUtil.setSprite(t.getComponent(cc.Sprite), string.format("img_group_avatar_%d", e))
                }, t
            }, e.createDecoratedLabel = pe, e.addDecoratedLabel = function (e, t, n, a, i) {
                var o = pe(e, t, a);
                return s.lc.addChildToPosLB(e, o, n, i), o._label
            }, e.addIconValue = function (t, n, a, o, _, l, d) {
                var p = c.SpriteUtil.createSprite(n).node;
                s.lc.addChildToPosLB(t, p, cc.p(o, _));
                var u = e.createTTF(i.nox.toString(a), r.UICfg.FontSize.S1);
                return u.setAnchorPoint(l ? 1 : 0, .5), d && (u.color = d), l ? s.lc.addChildToPosLB(t, u, cc.p(s.lc.x(p) - 30, _)) : s.lc.addChildToPosLB(t, u, cc.p(s.lc.x(p) + 30, _)), {
                    icon: p,
                    value: u
                }
            }, e.createClipNode = function (e, t, n) {
                var i = a.noxcc.newNode(), o = a.noxcc.addRectMask(i);
                return i.setContentSize(e ? e.getContentSize() : cc.size(t.width, t.height)), n && (o.inverted = n), e && i.addChild(e), i
            }, e.getPropExtra = function (e, t, n) {
                var i, o, r, _;
                if (o = (i = P._propBag.validPropId(e, n))[0], r = i[1], o == v.Data.PropsId.avatar_frame_level_rank) {
                    var l = r - o;
                    l > 0 && (_ = c.SpriteUtil.createSprite(string.format("avatar_frame_7502_%d", l))).setPosition(s.lc.w(t) / 2 || 0, 46)
                } else if (o == v.Data.PropsId.avatar_frame_xmas_1 && ((_ = s.lc.createNode(t.getContentSize())).setPosition(s.lc.w(t) / 2, s.lc.h(t) / 2), r == v.Data.PropsId.avatar_frame_xmas_2)) {
                    var d = c.SpriteUtil.createSprite("avatar_frame_7507_1").node;
                    d.setAnchorPoint(.52, .77), d.setRotation(-10), d.runAction(s.lc.repeatForever(s.lc.sequence(s.lc.rotateTo(1, 10), s.lc.rotateTo(1, -10)))), s.lc.addChildToPosAR(_, d, cc.p(0, 12 - s.lc.h(t) / 2));
                    var p = c.SpriteUtil.createSprite("avatar_frame_7507_2").node;
                    a.noxcc.setSpriteColor(p, s.lc.Color3B.orange), _.addChild(p), p.runAction(s.lc.repeatForever(s.lc.sequence(function () {
                        p.setPosition(12, 15)
                    }, 1, function () {
                        p.setPosition(22, 7), a.noxcc.setSpriteColor(p, s.lc.Color3B.yellow)
                    }, 1, function () {
                        p.setPosition(84, 7)
                    }, 1, function () {
                        p.setPosition(94, 15), a.noxcc.setSpriteColor(p, s.lc.Color3B.orange)
                    }, 1)))
                }
                return [o, _]
            }, e.getAvatarVipOffset = function (e) {
                return P._propBag.validPropId(e), v.Data.PropsId.avatar_frame, [0, 0]
            }, e.containPos = function (e, t) {
                return s.lc.contain(e, t)
            }, e.createDynamicGraph = function (e, t) {
                var n = null;
                c.SpriteUtil.getSpriteFrame(e) ? n = c.SpriteUtil.createSprite(e) : (n = a.noxcc.newNode().addComponent(cc.Sprite), c.SpriteUtil.getSpriteFrame(string.format("%s_%d", e, 1)) && n.node.setContentSize(c.SpriteUtil.frameFullSize(string.format("%s_%d", e, 1))), p.NoxResMgr.playAnimClipAsync(n.node, e));
                return n.node
            }, e.createFilterButton = function (t, a, o, _) {
                var l = n(r.UICfg.BMFont.huali_26, t), d = c.SpriteUtil.createSprite("img_filter_item").node;
                o = s.lc.D(o, s.lc.w(l) + s.lc.w(d) + 6), _ = s.lc.D(_, s.lc.h(d));
                var p = e.createScale9ShaderButton(null, a, cc.rect(1, 1, 1, 1), o, _);
                i.nox.addChildToPosAR(p, d, cc.p(s.lc.aleft(p) + s.lc.asw(d), 0)), i.nox.addChildToPosAR(p, l, cc.p(s.lc.right(d) + s.lc.asw(l) + 6, 0));
                var u = c.SpriteUtil.createSprite("img_filter").node;
                return s.lc.addChildToPosAR(d, u, cc.p(0, 0)), p._selectSpr = u, p.setIsSelected = function (e) {
                    p._selectSpr.setVisible(e)
                }, p
            }, e.createTitleContentPanel = function (e, t, n, i) {
                var o = v.Data._skillInfo[n], r = a.noxcc.find("topBar/card_power", e);
                e._icon = r;
                var _ = B.lcStr(o._descSid), s = B.lcStr(o._nameSid), l = v.Data.getSkillType(n);
                if (l == v.Data.SkillType.monster_ability ? c.SpriteUtil.addSprite(r, "card_skill_ability") : l == v.Data.SkillType.monster_attack ? c.SpriteUtil.addSprite(r, "card_nature_11_s") : l == v.Data.SkillType.monster_body ? c.SpriteUtil.addSprite(r, "card_skill_passive") : l == v.Data.SkillType.monster_strength ? c.SpriteUtil.addSprite(r, "card_skill_passive_atk") : c.SpriteUtil.addSprite(r, "card_nature_11_s"), o._power > 0) {
                    var d = a.noxcc.find("topBar/power", e);
                    e._powerLabel = d, c.SpriteUtil.addSprite(d, "card_number_s_x" + o._power)
                }
                if (o._damageDisplay > 0) {
                    var p = a.noxcc.find("topBar/damage", e);
                    c.SpriteUtil.addSprite(p, "card_number_" + o._val[0])
                }
                var u = a.noxcc.find("topBar/skillName", e);
                a.noxcc.setLabelString(u, s);
                var g = e.getChildByName("content");
                return _ = null == _ ? "" : string.format(_, o._val), a.noxcc.setLabelString(g, _), e
            }
        })(n.UIUtil || (n.UIUtil = {})), cc._RF.pop()
    }, {
        "../../framework/NoxResMgr": "NoxResMgr",
        "../../leocool/lc": "lc",
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../leocool/lcBBCode": "lcBBCode",
        "../../leocool/lcStr": "lcStr",
        "../../nox": "nox",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../StaticPrefabMgr": "StaticPrefabMgr",
        "../StringEnums": "StringEnums",
        "../ToastManager": "ToastManager",
        "../config/UICfg": "UICfg",
        "../data/data": "data",
        "../part/ClashPart": "ClashPart",
        "../part/UnionPart": "UnionPart",
        "../ui/common/Dialog": "Dialog",
        "../ui/form/DescForm": "DescForm",
        "../ui/form/GivePropForm": "GivePropForm",
        "../ui/form/ImpeachForm": "ImpeachForm",
        "../ui/form/SendMailForm": "SendMailForm",
        "../ui/form/VisitForm": "VisitForm",
        "../ui/node/CheckLabelArea": "CheckLabelArea",
        "../ui/node/EditBoxNode": "EditBoxNode",
        "../ui/node/HorizontalContentTab": "HorizontalContentTab",
        "../ui/node/HorizontalContentTabCustom": "HorizontalContentTabCustom",
        "../ui/node/IconLabelArea": "IconLabelArea",
        "../ui/node/KeyValueLabel": "KeyValueLabel",
        "../ui/node/LabelButton": "LabelButton",
        "../ui/node/LevelArea": "LevelArea",
        "../ui/node/LevelAreaNew": "LevelAreaNew",
        "../ui/node/LevelExpBar": "LevelExpBar",
        "../ui/node/LevelNameArea": "LevelNameArea",
        "../ui/node/NodeWithImageFont": "NodeWithImageFont",
        "../ui/node/NodeWithLabel": "NodeWithLabel",
        "../ui/node/NodeWithProgressBar": "NodeWithProgressBar",
        "../ui/node/NodeWithShaderButton": "NodeWithShaderButton",
        "../ui/node/ResConsumeButton": "ResConsumeButton",
        "../ui/node/ResConsumeButtonArea": "ResConsumeButtonArea",
        "../ui/node/ResIconLabel": "ResIconLabel",
        "../ui/node/SwordNode": "SwordNode",
        "../ui/node/TitleArea": "TitleArea",
        "../ui/node/TouchLayer": "TouchLayer",
        "../ui/node/TouchSprite": "TouchSprite",
        "../ui/node/UnionInfoArea": "UnionInfoArea",
        "../ui/node/VerticalTabButtons2": "VerticalTabButtons2",
        "../ui/node/VerticalTabListArea": "VerticalTabListArea",
        "../ui/node/VerticalTitle": "VerticalTitle",
        "../ui/panel/RewardPanel": "RewardPanel",
        "../ui/panel/union/UnionDetailForm": "UnionDetailForm",
        "../ui/widget/UserWidget": "UserWidget",
        "./ActivityUtil": "ActivityUtil",
        "./BattleInputUtil": "BattleInputUtil",
        "./CardUtil": "CardUtil",
        "./RichTextUtil": "RichTextUtil",
        "./SpineUtil": "SpineUtil",
        "./SpriteUtil": "SpriteUtil",
        "./TimeUtil": "TimeUtil"
    }],
    UnionAdventureArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c3e03hLiQJGk5clvIQgywQP", "UnionAdventureArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("./UnionBorrowForm"),
            _ = e("../../../part/UnionPart"), s = e("../../../data/data"), c = e("../../../../leocool/lcStr"),
            l = e("../../widget/IconWidget"), d = e("./UnionTaskForm"), p = e("../../../StringEnums"),
            u = e("../../../utils/SpriteUtil"), g = e("../../../ToastManager"), h = e("../../../utils/TimeUtil"),
            f = e("../../../../nox"), m = e("../../../ClientView"), y = e("../../../utils/UIUtil"), T = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionAdventureArea") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBorrowBtn = o.noxcc.findButton("bottom/borrowbtn", this.mRoot), o.noxcc.addClick(this.mBorrowBtn, this, this.onBorrowBtn), this.mContent = o.noxcc.find("top", this.mRoot), this.mUnionAdventure = o.noxcc.find("UnionAdventure", this.mContent), this.mContent.removeAllChildren(), this.mCountLabel = o.noxcc.findLabel("bottom/mission", this.mRoot), m.ClientView.checkNewFlag(this.mBorrowBtn.node, P._playerUnion.getCompleteUnionLetNum(), 30, 3)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    _.UnionPart.sendUnionOnHook(), t.mListeners = [], t.mListeners.push(s.Data.Event.union_hook_dirty.addListener(null, function () {
                        t.updateTaskList(P._playerUnion._taskList)
                    })), t.mListeners.push(s.Data.Event.union_lend_dirty.addListener(null, function () {
                        t.updateTaskList(P._playerUnion._taskList)
                    })), t.mListeners.push(s.Data.Event.union_task_dirty.addListener(null, function () {
                    })), t.mListeners.push(s.Data.Event.union_recall_dirty.addListener(null, function () {
                        m.ClientView.checkNewFlag(t.mBorrowBtn.node, P._playerUnion.getCompleteUnionLetNum(), 30, 3)
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = [], o.noxcc.destroyAllChildren(this.mContent)
                }, t.prototype.updateTaskList = function (e) {
                    if (o.noxcc.isValid(this.mRoot)) {
                        o.noxcc.setString(this.mCountLabel, string.format("%d/%d", e.task_limit, e.union_task_info.length));
                        for (var t = 0; t < e.union_task_info.length; t++) {
                            var n = void 0;
                            o.noxcc.isValid(this.mContent.children[t]) ? (n = this.mContent.children[t], this.updateunionadventure(n, e.union_task_info[t])) : (n = o.noxcc.instantiate(this.mUnionAdventure), this.updateunionadventure(n, e.union_task_info[t]), o.noxcc.addChild(this.mContent, n))
                        }
                    }
                }, t.prototype.onUpdatePage = function () {
                    this.updateTaskList(P._playerUnion._taskList)
                }, t.prototype.onBorrowBtn = function () {
                    r.UnionBorrowForm.create().show()
                }, t.prototype.updateunionadventure = function (e, t) {
                    var n = t.union_task, a = 0, i = 0, r = 0, m = s.Data._unionTaskInfo[t.id],
                        T = o.noxcc.findLabel("title", e), S = o.noxcc.find("bonus", e),
                        C = o.noxcc.findButton("getbtn", e), v = o.noxcc.findButton("bonusbg/selfbtn", e);
                    S.removeAllChildren(), o.noxcc.addClick(v, this, function () {
                        d.UnionTaskForm.create(m._id, d.UnionTaskForm.FromType.palyer, function (e, t) {
                            if (e) {
                                var n = u.SpriteUtil.createSprite(y.UIUtil.getCardIconName(e));
                                n.sizeMode = cc.Sprite.SizeMode.CUSTOM, n.node.setContentSize(55, 55), v.node.addChild(n.node), i = e
                            }
                        }).show()
                    });
                    var b = o.noxcc.findButton("bonusbg/unionbtn", e);
                    o.noxcc.addClick(b, this, function () {
                        d.UnionTaskForm.create(m._id, d.UnionTaskForm.FromType.union, function (e, t) {
                            var n = u.SpriteUtil.createSprite(y.UIUtil.getCardIconName(e));
                            n.sizeMode = cc.Sprite.SizeMode.CUSTOM, n.node.setContentSize(55, 55), b.node.addChild(n.node), r = e, a = t
                        }).show()
                    });
                    var E = o.noxcc.findButton("gobtn", e);
                    o.noxcc.addClick(E, this, function () {
                        r && i ? _.UnionPart.sendUnionDoTask(m._id, i, r, a) : g.ToastManager.push(c.lcStr(p.STR.HIRE_NEED_MONSTER))
                    });
                    var I = o.noxcc.findLabel("bonusbg/selfmonster/selfname", e),
                        P = o.noxcc.findLabel("bonusbg/unionmonster/unionname", e), A = o.noxcc.findLabel("time", e);
                    o.noxcc.setString(A, string.format(m._timing.toString() + c.lcStr(p.STR.HOUR)));
                    var R = o.noxcc.findLabel("gobtn/Label", e);
                    o.noxcc.setString(R, c.lcStr(p.STR.GO));
                    for (var B = s.Data._monsterInfo[m._monsterId], N = s.Data._monsterInfo[m._exMonsterId], D = s.Data._bonusInfo[m._bonusId], U = s.Data._bonusInfo[m._exBonusId], M = s.Data._bonusInfo[m._medalBounsID[0]], k = s.Data._bonusInfo[m._medalBounsID[1]], L = [], O = 0; O < D._count.length; O++) L.push({
                        _count: D._count[O],
                        _rid: D._rid[O]
                    });
                    var x = !1;
                    if (n.my_card_id == m._monsterId && n.share_card_id == m._exMonsterId) {
                        for (O = 0; O < U._count.length; O++) {
                            x = !1;
                            for (var w = 0; w < L.length; w++) L[w]._rid == U._rid[O] && (L[w]._count = L[w]._count + U._count[O], x = !0);
                            0 == x && L.push({_count: U._count[O], _rid: U._rid[O]})
                        }
                        L.push({_count: k._count, _rid: k._rid})
                    } else n.my_card_id != m._monsterId && n.share_card_id != m._exMonsterId || L.push({
                        _count: M._count,
                        _rid: M._rid
                    });
                    if (o.noxcc.setString(T, c.lcStr(m._nameSid)), 6 == m._timing ? T.node.color = cc.color(88, 190, 245, 255) : 8 == m._timing && (T.node.color = cc.color(190, 66, 255, 255)), o.noxcc.setString(I, c.lcStr(B._nameSid)), o.noxcc.setString(P, c.lcStr(N._nameSid)), 0 == n.my_card_id && 0 == n.share_card_id) {
                        var F = l.IconWidget.create({_infoId: s.Data.ResType.gold, _count: 0}, 4);
                        F.node.setScale(.6, .6), S.addChild(F.node), (F = l.IconWidget.create({_infoId: s.Data.PropsId.skin_crystal}, 4)).setHide(!0), F.node.setScale(.6, .6), S.addChild(F.node), (F = l.IconWidget.create({_infoId: s.Data.PropsId.skin_crystal}, 4)).setHide(!0), F.node.setScale(.6, .6), S.addChild(F.node)
                    } else {
                        S.removeAllChildren();
                        for (O = 0; O < L.length; O++) {
                            var V = l.IconWidget.create({_infoId: L[O]._rid, _count: L[O]._count}, 4);
                            V.node.setScale(.6, .6), S.addChild(V.node)
                        }
                    }
                    if (n.start_time) {
                        E.node.active = !1, C.node.active = !0;
                        var H = u.SpriteUtil.createSprite(y.UIUtil.getCardIconName(n.my_card_id));
                        H.sizeMode = cc.Sprite.SizeMode.CUSTOM, H.node.setContentSize(55, 55), v.node.addChild(H.node), o.noxcc.setButtonInteractable(v, !1), (H = u.SpriteUtil.createSprite(y.UIUtil.getCardIconName(n.share_card_id))).sizeMode = cc.Sprite.SizeMode.CUSTOM, H.node.setContentSize(55, 55), b.node.addChild(H.node), o.noxcc.setButtonInteractable(b, !1);
                        var G = n.start_time / 1e3, W = h.TimeUtil.getCurrentTime(), Y = 3600 * m._timing - (W - G),
                            K = h.TimeUtil.formatPeriod(f.nox.ceil(Y), 2);
                        o.noxcc.setString(A, K), o.noxcc.setString(C.node.children[0], c.lcStr(11362)), n.is_taken && (o.noxcc.setButtonInteractable(C, !0), o.noxcc.setString(C.node.children[0], c.lcStr(p.STR.CLAIM)), o.noxcc.addClick(C, this, function () {
                            n.task_limit <= 0 || (_.UnionPart.sendUnionSubmitTak(n.id), o.noxcc.setString(C.node.children[0], c.lcStr(p.STR.FINISHED)), o.noxcc.setButtonInteractable(C, !1))
                        }), n.is_finish && (o.noxcc.setString(C.node.children[0], c.lcStr(p.STR.FINISHED)), o.noxcc.setButtonInteractable(C, !1)))
                    }
                }, t
            }(i.BasePage);
        n.UnionAdventureArea = T, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget",
        "./UnionBorrowForm": "UnionBorrowForm",
        "./UnionTaskForm": "UnionTaskForm"
    }],
    UnionAdventure: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "184bdJW9qlHvL1y27QT8svG", "UnionAdventure");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../../noxcc"), o = e("../../../utils/SpriteUtil"), r = e("../../../data/data"),
            _ = e("../../../../leocool/lcStr"), s = e("../../widget/IconWidget"), c = e("../../../part/UnionPart"),
            l = e("./UnionTaskForm"), d = function (e) {
                function t() {
                    return e.call(this) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.mUniondtask = r.Data._unionTaskInfo[e.id]
                }, t.prototype.onInitWidget = function () {
                    this.mTitle = i.noxcc.findLabel("title", this.node), this.mBonusContent = i.noxcc.find("bonus", this.node), this.mMySpriteBtn = i.noxcc.findButton("bonusbg/selfbtn", this.node), i.noxcc.addClick(this.mMySpriteBtn, this, this.onMySpriteBtn), this.mUnionSpriteBtn = i.noxcc.findButton("bonusbg/unionbtn", this.node), i.noxcc.addClick(this.mUnionSpriteBtn, this, this.onUnionSpriteBtn), this.mSureBtn = i.noxcc.findButton("gobtn", this.node), i.noxcc.addClick(this.mSureBtn, this, this.starttask), this.mMySpriteName = i.noxcc.findLabel("bonusbg/selfmonster/selfname", this.node), this.mUnionSpriteName = i.noxcc.findLabel("bonusbg/unionmonster/unionname", this.node), this.mTimeLabel = i.noxcc.findLabel("time", this.node), this.mSureBtnLabel = i.noxcc.findLabel("gobtn/Label", this.node), this.updatesprite()
                }, t.prototype.onExit = function () {
                }, t.prototype.updatesprite = function () {
                    console.log(this.mUniondtask);
                    var e = r.Data._monsterInfo[this.mUniondtask._monsterId],
                        t = r.Data._monsterInfo[this.mUniondtask._exMonsterId],
                        n = r.Data._bonusInfo[this.mUniondtask._bonusId];
                    i.noxcc.setString(this.mTitle, _.lcStr(this.mUniondtask._nameSid)), i.noxcc.setString(this.mMySpriteName, _.lcStr(e._nameSid)), i.noxcc.setString(this.mUnionSpriteName, _.lcStr(t._nameSid));
                    for (var a = 0; a < n._count.length; a++) {
                        var o = s.IconWidget.create({_infoId: n._rid[a], _count: n._count[a]});
                        o.node.setScale(.6, .6), this.mBonusContent.addChild(o.node)
                    }
                }, t.prototype.updatebtn = function (e, t, n) {
                    o.SpriteUtil.setSprite(e, t), n && i.noxcc.setString(e.children[0], n)
                }, t.prototype.onMySpriteBtn = function () {
                    l.UnionTaskForm.create(this.mUniondtask._id, l.UnionTaskForm.FromType.palyer).show()
                }, t.changebtn = function () {
                }, t.prototype.onUnionSpriteBtn = function () {
                    l.UnionTaskForm.create(this.mUniondtask._id, l.UnionTaskForm.FromType.union).show()
                }, t.prototype.starttask = function () {
                    c.UnionPart.sendUnionDoTask(8, 14012, 10031, 133)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(e("../../../BaseComponent").BaseComponent);
        n.UnionAdventure = d, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../BaseComponent": "BaseComponent",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../widget/IconWidget": "IconWidget",
        "./UnionTaskForm": "UnionTaskForm"
    }],
    UnionBorrowForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "702bc5nEHZMaalQVqHjtR3L", "UnionBorrowForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../../noxcc"), _ = e("../../../../nox"),
            s = e("../../../data/data"), c = e("../../../part/UnionPart"), l = e("../../../utils/SpriteUtil"),
            d = e("../../../../leocool/lcStr"), p = e("../../../StringEnums"), u = e("../../../utils/TimeUtil"),
            g = e("./UnionTaskForm"), h = e("../../../ToastManager"), f = e("./UnionLetForm"),
            m = e("../../../utils/UIUtil"), y = e("../../../../leocool/lc"), T = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.UnionBorrowForm) || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onbackbtn), this.mCenter = r.noxcc.find("Center", this.mRoot), this.mBorrowInfo = r.noxcc.find("borrowinfo", this.mCenter), this.mCenter.removeAllChildren(), this.mItemList = []
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    c.UnionPart.sendUnionLendCardInfo(), t.mListeners = [], t.mListeners.push(s.Data.Event.union_lendinfo_dirty.addListener(null, function () {
                        t.mCenter.removeAllChildren(), t.updateview()
                    })), t.mListeners.push(s.Data.Event.union_recall_dirty.addListener(null, function () {
                        t.mCenter.removeAllChildren(), t.updateview()
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = [], r.noxcc.destroyAllChildren(this.mCenter)
                }, t.prototype.updateview = function () {
                    var e = P._playerUnion._lendCardList;
                    if (0 == this.mCenter.childrenCount) for (var t = 0; t < 2; t++) {
                        var n = r.noxcc.instantiate(this.mBorrowInfo);
                        this.newview(n, t), r.noxcc.addChild(this.mCenter, n)
                    }
                    if (0 != e.length) for (t = 0; t < 2; t++) {
                        if (e[t]) (n = this.mCenter.children[e[t].position - 1]) && this.updataview(n, e[t]); else if (!this.mItemList[t + 1]) {
                            n = this.mCenter.children[t];
                            this.newview(n, t)
                        }
                    }
                }, t.prototype.newview = function (e, t) {
                    var n, a = this, i = r.noxcc.findButton("spritebtn", e);
                    r.noxcc.find("ProgressBar", i.node).setVisible(!1), r.noxcc.addClick(i, a, function () {
                        for (var e = 0; e < P._playerUnion._lendCardList.length; e++) if (P._playerUnion._lendCardList[e].position - 1 == t) return;
                        f.UnionLetForm.create(function (e) {
                            if (e) {
                                var o = l.SpriteUtil.createSprite(m.UIUtil.getCardIconName(e));
                                o.sizeMode = cc.Sprite.SizeMode.CUSTOM, o.node.setContentSize(72, 70), i.node.addChild(o.node), n = e, a.mItemList[t + 1] = n
                            }
                        })
                    });
                    var o = r.noxcc.findButton("borrowbtn", e);
                    r.noxcc.addClick(o, a, function () {
                        n ? (c.UnionPart.sendUnionLendCard(n, t + 1), r.noxcc.setButtonInteractable(o, !1), r.noxcc.setString(o.node.children[0], d.lcStr(p.STR.HIRE_ING))) : h.ToastManager.push(d.lcStr(p.STR.HIRE_NEED_MONSTER))
                    });
                    r.noxcc.findLabel("borrowtime", e), r.noxcc.findLabel("box/goldnum", e), r.noxcc.findButton("getbtn", e)
                }, t.prototype.updataview = function (e, t) {
                    var n = r.noxcc.findButton("spritebtn", e), a = r.noxcc.findButton("getbtn", e),
                        i = r.noxcc.find("ProgressBar", n.node);
                    i.setVisible(!0), r.noxcc.addClick(a, this, function () {
                        c.UnionPart.sendUnionRecallCard(t.card_id)
                    }), n.node.setScale(.9);
                    var o = l.SpriteUtil.createSprite(m.UIUtil.getCardIconName(t.card_id));
                    o.sizeMode = cc.Sprite.SizeMode.CUSTOM, o.node.setContentSize(72, 70), n.node.addChild(o.node);
                    var s = r.noxcc.findLabel("borrowtime", e), g = r.noxcc.findButton("borrowbtn", e),
                        h = t.lend_time / 1e3, f = u.TimeUtil.getCurrentTime(), y = this.TimeStr(_.nox.ceil(f - h), 3);
                    r.noxcc.setProgressBarValue(i, (f - h) / 28800), (f - h) / 3600 > 1 ? (g.node.active = !1, a.node.active = !0) : (r.noxcc.setButtonInteractable(g, !1), r.noxcc.setString(g.node.children[0], d.lcStr(p.STR.HIRE_ING))), r.noxcc.setString(s, y);
                    var T = r.noxcc.findLabel("box/goldnum", e);
                    r.noxcc.setString(T, t.ingot)
                }, t.prototype.TimeStr = function (e, t) {
                    var n = e, a = Math.floor(n / s.Data.DAY_SECONDS);
                    n %= s.Data.DAY_SECONDS;
                    var i = Math.floor(n / 3600);
                    n %= 3600;
                    var o = Math.floor(n / 60), r = (n %= 60, 0);
                    t = y.lc.D(t, 2);
                    var _ = "";
                    return a > 0 && (r += 1, _ = string.format("%d%s", a, d.lcStr(p.STR.DAY))), r == t ? _ : (i >= 0 && (r += 1, _ = string.format("%s%d%s", _, i, d.lcStr(p.STR.HOUR))), r == t ? _ : (o >= 0 && (r += 1, _ = string.format("%s%d%s", _, o, d.lcStr(p.STR.MINUTE))), _))
                }, t.prototype.onbackbtn = function () {
                    this.hide()
                }, t.prototype.recall = function () {
                    c.UnionPart.sendUnionRecallCard(this.mCardID)
                }, t.prototype.onchangespritebtn = function () {
                    var e = this;
                    g.UnionTaskForm.create(10, g.UnionTaskForm.FromType.palyer, function (t, n) {
                        t && (l.SpriteUtil.setSprite(e.mSpriteBtn.node, t.toString()), e.mCardID = t)
                    }).show()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BaseForm);
        n.UnionBorrowForm = T, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "./UnionLetForm": "UnionLetForm",
        "./UnionTaskForm": "UnionTaskForm"
    }],
    UnionBoss: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "82251vA3SdELLP1t1xI2ny8", "UnionBoss"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.UnionBoss = a, cc._RF.pop()
    }, {}],
    UnionChangeInfo: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7d175LrMhpOXazN/12c9NMa", "UnionChangeInfo");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../../noxcc"),
            _ = e("./UnionCreateArea"), s = e("../../../../leocool/lcStr"), c = e("../../../StringEnums"),
            l = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.UnionDetailForm) || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mtitle = r.noxcc.findLabel("TopBar/title", this.mRoot), this.mContent = r.noxcc.find("Center/Panel", this.mRoot), this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onbackbtn), this.updatepage()
                }, t.prototype.updatepage = function () {
                    r.noxcc.setString(this.mtitle, string.format(s.lcStr(c.STR.UNION), s.lcStr(c.STR.INFO)));
                    var e = _.UnionCreateArea.create(_.UnionCreateArea.Mode.edit, null);
                    e.show(this.mContent), console.log(e)
                }, t.prototype.onbackbtn = function () {
                    this.hide()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.UnionChangeInfo = l, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../StringEnums": "StringEnums",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "./UnionCreateArea": "UnionCreateArea"
    }],
    UnionChatArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3aba4J+BFpPoop87zLeuZ47", "UnionChatArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../leocool/lc"), r = e("../../../data/data"),
            _ = e("../../../data/Union/Union"), s = e("../../../StringEnums"), c = e("../../../ToastManager"),
            l = e("../../../part/FriendPart"), d = e("../../../../leocool/lcStr"), p = e("../../../../noxcc"),
            u = e("../../../data/Social/PlayerMessage"), g = e("../../../utils/UIUtil"),
            h = e("../../node/NodeWithListView"), f = e("../../../utils/SpriteUtil"), m = e("../../../config/UICfg"),
            y = e("../../../ClientView"), T = e("../../../../nox"), S = e("../../widget/UserWidget"),
            C = e("../../../utils/TimeUtil"), v = e("../../../part/BattlePart"), b = e("../../../part/ChatPart"),
            E = e("../../../ClientData"), I = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionChatArea") || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this._unionId = e, this.mIsBattleWaiting = !1
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mUnionName = p.noxcc.findLabel("top/UnionName", this.mRoot), this.mUnionID = p.noxcc.findLabel("top/id/Label", this.mRoot), this.mUnionPlNumber = p.noxcc.findLabel("top/troop/Label", this.mRoot), this.mUnionExe = p.noxcc.findLabel("top/exe/ProgressBar/Label", this.mRoot), this.mUnionExeBar = p.noxcc.find("top/exe/ProgressBar", this.mRoot), this.mUnionSummary = p.noxcc.findEditBox("top/manifesto/EditBox", this.mRoot), this.mPvpButton = p.noxcc.findButton("down/input/pvp", this.mRoot), p.noxcc.addClick(this.mPvpButton, this, this.onBattleCreate), this.mSendButton = p.noxcc.findButton("down/input/send", this.mRoot), p.noxcc.addClick(this.mSendButton, this, this.onSend), this.mChat = p.noxcc.findEditBox("down/input/EditBox", this.mRoot), this.mUnionBadge = p.noxcc.find("top/UnionBadge", this.mRoot), this.mContent = p.noxcc.find("down/view/content", this.mRoot);
                    var t = g.UIUtil.createBadge(1, "");
                    t.setContentSize(80, 80), o.lc.addChildToPosLB(this.mUnionBadge, t, cc.v2(0, 0), 1), this.mBadge = t, this.initChatList()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this._listeners = [], this._listeners.push(r.Data.Event.message.addListener(this, function (e) {
                        this.onEvent(e)
                    }.bind(this))), this.updateTop(), this.updateList(), P._playerMessage.clearNew(r.Data.MsgType.union)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                    this._listeners = [], p.noxcc.destroyAllChildren(this.mContent)
                }, t.prototype.onEvent = function (e) {
                    p.noxcc.isValid(this.mRoot) && (e._event == u.PlayerMessage.Event.msg_new ? e._param > 0 && this.updateList() : e._event == u.PlayerMessage.Event.msg_update && this.updateList())
                }, t.prototype.updateTop = function () {
                    var e = P._playerUnion.getMyUnion();
                    f.SpriteUtil.setSprite(this.mBadge, string.format("img_badge_%d", e._badge)), this.mBadge.setScale(.8), p.noxcc.setString(this.mUnionName, e._name), p.noxcc.setString(this.mUnionID, _.Union.convertId(e._id)), p.noxcc.setString(this.mUnionPlNumber, string.format("%d/%d", e.getMembersNum(), e._memberCapacity)), p.noxcc.setString(this.mUnionExe, string.format("%d/%d", T.nox.toString(e._act ? e._act : 0), T.nox.toString(r.Data._globalInfo._unionLevelupExp[e._level]))), p.noxcc.getProgressBar(this.mUnionExeBar).progress = (e._act ? e._act : 0) / r.Data._globalInfo._unionLevelupExp[e._level], p.noxcc.setString(this.mUnionSummary, e._announce)
                }, t.prototype.initChatList = function () {
                    var e = h.NodeWithListView.createV(cc.size(o.lc.w(this.mRoot) - 12, 150), 6, 0);
                    this.mChatList = e
                }, t.prototype.updateList = function () {
                    var e = P._playerMessage._msgAll[r.Data.MsgType.union - 1], t = 1;
                    this.mContent.removeAllChildren();
                    for (var n = e.length - 1; n >= 0; n--) {
                        var a = e[n];
                        this.getIsInvalidBattle(a) ? 1 : (this.addNewMessage(a, t - 1), t += 1, 1)
                    }
                    this.mChatList.stopAllActions()
                }, t.prototype.getIsInvalidBattle = function (e) {
                    return !(e._type != r.Data.MsgType.union || !o.lc.V(e._battleId) || e._isValid || o.lc.V(e._opponent))
                }, t.prototype.addNewMessage = function (e, t) {
                    var n = null;
                    e._type == r.Data.MsgType.union && (n = null == e._battleId ? this.addChatItem(e) : this.addBattleItem(e)), o.lc.V(n) && p.noxcc.addChild(this.mContent, n)
                }, t.prototype.addChatItem = function (e) {
                    var t = parseInt(e._user._id) == parseInt(P._id), n = p.noxcc.newNode(), a = null;
                    a = (new RegExp(/\|(.+)\|/g).test(e._content), g.UIUtil.createTTF(e._content, m.UICfg.FontSize.S1, o.lc.Color3B.black, cc.size(o.lc.w(this.mChatList) - 150, 0)));
                    var i = Math.max(o.lc.h(a) + 50, 84), r = 130 + i - 84;
                    n.setContentSize(cc.size(o.lc.w(this.mChatList), r)), n.setAnchorPoint(cc.v2(.5, .5));
                    var _ = t ? f.SpriteUtil.createImageView({
                        _name: "img_union_chat_self",
                        _size: cc.size(o.lc.w(this.mChatList) - 200, i),
                        _crect: cc.rect(30, 60, 1, 1)
                    }) : f.SpriteUtil.createImageView({
                        _name: "img_union_chat_oppo",
                        _size: cc.size(o.lc.w(this.mChatList) - 200, i),
                        _crect: cc.rect(40, 60, 1, 1)
                    });
                    f.SpriteUtil.setScale9Enabled(p.noxcc.getSprite(_), !0);
                    var c = t ? o.lc.cw(_) : o.lc.cw(_) + 150;
                    o.lc.addChildToPosLB(n, _, cc.v2(c + 30, o.lc.h(n) - o.lc.ch(_) - 60));
                    var l = t ? o.lc.cw(a) - 430 : o.lc.cw(a) - 400;
                    a.setAnchorPoint(cc.v2(0, .5)), o.lc.addChildToPosLB(_, a, cc.v2(l, o.lc.ch(_) + 20));
                    var u = S.UserWidget.create(e._user, 3, .8, t),
                        h = t ? o.lc.w(n) - o.lc.cw(u.node) : o.lc.cw(u.node) + 60;
                    o.lc.addChildToPosLB(n, u.node, cc.v2(h - 50, o.lc.h(n) - o.lc.ch(u.node) - 20));
                    var y = string.format("%d%s", "0", d.lcStr(s.STR.SECOND_AGO)),
                        T = g.UIUtil.createTTF(y, m.UICfg.FontSize.S2), v = t ? o.lc.w(n) - 250 : o.lc.w(n) - 100;
                    return T.setAnchorPoint(cc.v2(1, .5)), o.lc.addChildToPosLB(n, T, cc.v2(v + 50, o.lc.h(n) - o.lc.ch(T) - 120)), p.noxcc.setString(T, C.TimeUtil.getTimeAgo(e._timestamp)), n
                }, t.prototype.addBattleItem = function (e) {
                    var t = this, n = parseInt(e._user._id) == parseInt(P._id), a = p.noxcc.newNode();
                    a.setContentSize(cc.size(o.lc.w(this.mChatList), 350)), a.setAnchorPoint(cc.v2(.5, .5));
                    var i = f.SpriteUtil.createImageView({
                        _name: "img_com_bg_30",
                        _crect: cc.rect(20, 70, 1, 1),
                        _size: cc.size(o.lc.w(this.mChatList), 180)
                    });
                    o.lc.addChildToCenter(a, i), i.setPosition(cc.v2(0, 50));
                    var r = S.UserWidget.create(e._user, S.UserWidget.Flag.LEVEL_NAME, .8, !1);
                    o.lc.addChildToPosLB(a, r.node, cc.v2(o.lc.cw(r.node) + 20, o.lc.h(a) - o.lc.ch(r.node) - 25));
                    var _ = S.UserWidget.create(e._user, S.UserWidget.Flag.LEVEL_NAME, .8, !0);
                    o.lc.addChildToPosLB(a, _.node, cc.v2(o.lc.w(a) - o.lc.cw(_.node) - 20, o.lc.y(r.node)));
                    var c = f.SpriteUtil.createSprite("img_vs_s");
                    o.lc.addChildToPosLB(a, c.node, cc.v2(o.lc.cw(a), o.lc.y(r.node) + 20));
                    var l = g.UIUtil.createTTF("", m.UICfg.FontSize.S3);
                    if (o.lc.addChildToPosLB(c.node, l, cc.v2(o.lc.cw(c.node), o.lc.ch(c.node) + 50)), p.noxcc.setLabelColor(l, o.lc.Color3B.black), n) {
                        var u = g.UIUtil.createScale9ShaderButton("img_btn_blue_s", function (e) {
                            a.removeFromParent(!0), t.onBattleCancel()
                        }.bind(this), m.UICfg.CRECT_BUTTON_S, 140);
                        o.lc.addChildToPosLB(a, u, cc.v2(o.lc.cw(a), o.lc.ch(u) + 150)), u.addLabel(d.lcStr(s.STR.CANCEL));
                        var h = u
                    } else {
                        u = g.UIUtil.createScale9ShaderButton("img_btn_green_s", function (n) {
                            t.onBattleJoin(e), y.ClientView.showPanelActiveIndicator(this)
                        }.bind(this), m.UICfg.CRECT_BUTTON_S, 140);
                        o.lc.addChildToPosLB(a, u, cc.v2(o.lc.cw(a), o.lc.ch(u) + 150)), u.addLabel(d.lcStr(s.STR.JOIN));
                        var T = u
                    }
                    u = g.UIUtil.createScale9ShaderButton("img_btn_green_s", function (n) {
                        t.onBattleReplay(e), y.ClientView.showPanelActiveIndicator(this)
                    }.bind(this), m.UICfg.CRECT_BUTTON_S, 140);
                    o.lc.addChildToPosLB(a, u, cc.v2(o.lc.cw(a), o.lc.ch(u) + 150)), u.addLabel(d.lcStr(s.STR.REPLAY));
                    var v = u, b = g.UIUtil.createTTF(d.lcStr(s.STR.FRIEND_BATTLE_SEARCH), m.UICfg.FontSize.M2);
                    o.lc.addChildToPosLB(a, b, cc.v2(o.lc.cw(a) + o.lc.cw(b) + 30, o.lc.y(r.node) + 150)), p.noxcc.setLabelColor(b, o.lc.Color3B.black);
                    var E = g.UIUtil.createTTF(d.lcStr(s.STR.DISABLED), m.UICfg.FontSize.M1);
                    o.lc.addChildToPosLB(a, E, cc.v2(o.lc.cw(a), o.lc.y(u))), p.noxcc.setLabelColor(E, o.lc.Color3B.black);
                    return e._isValid ? (o.lc.V(h) ? h.setVisible(!0) : o.lc.V(T) && T.setVisible(!0), v.setVisible(!1), E.setVisible(!1), b.setVisible(!0), _.node.setVisible(!1), c.node.setVisible(!1)) : o.lc.V(e._opponent) ? o.lc.V(e._resultType) ? (o.lc.V(h) ? h.setVisible(!1) : o.lc.V(T) && T.setVisible(!1), v.setVisible(null != e._replayId), E.setVisible(!1), b.setVisible(!1), _.node.setVisible(!0), _.setUser(e._opponent), c.node.setVisible(!0), l.setString(C.TimeUtil.getTimeAgo(e._timestamp))) : (o.lc.V(h) ? h.setVisible(!1) : o.lc.V(T) && T.setVisible(!1), v.setVisible(!1), E.setVisible(!0), E.setString(d.lcStr(s.STR.FRIEND_BATTLE_UNDER)), b.setVisible(!1), _.node.setVisible(!0), _.setUser(e._opponent), c.node.setVisible(!0), l.setString(C.TimeUtil.getTimeAgo(e._timestamp))) : (o.lc.V(h) ? h.setVisible(!1) : o.lc.V(T) && T.setVisible(!1), v.setVisible(!1), E.setVisible(!0), E.setString(d.lcStr(s.STR.DISABLED)), b.setVisible(!0), _.node.setVisible(!1), c.node.setVisible(!1)), a
                }, t.prototype.onBattleCreate = function () {
                    1 == this.mIsBattleWaiting ? c.ToastManager.push(d.lcStr(s.STR.FRIEND_BATTLE_SEARCHING)) : (this.mIsBattleWaiting = !0, l.FriendPart.sendUnionFriendBattle(P._curTroopIndex))
                }, t.prototype.onSend = function () {
                    var e = p.noxcc.getString(this.mChat);
                    if ("" !== e && d.lcStr(s.STR.INPUT_SHARE_TEXT) !== e) {
                        P._playerUnion;
                        var t = P._playerUnion.canOperate(105);
                        t == r.Data.ErrorType.ok ? (p.noxcc.setString(this.mChat, ""), p.noxcc.destroyAllChildren(this.mContent), b.ChatPart.sendChat(Chat_pb.ChatType.PB_CHAT_UNION, P._unionId, e)) : c.ToastManager.push(E.ClientData.getUnionErrorStr(t))
                    } else c.ToastManager.push(d.lcStr(s.STR.INPUT_MESSAGE))
                }, t.prototype.onBattleCancel = function (e) {
                    this.mIsBattleWaiting && (this.mIsBattleWaiting = !1, e || c.ToastManager.push(d.lcStr(s.STR.FRIEND_BATTLE_CANCEL)), l.FriendPart.sendUnionFriendBattleCancel())
                }, t.prototype.onBattleJoin = function (e) {
                    l.FriendPart.sendUnionFriendBattleJoin(e.troop_id, e._battleId, e.user_id)
                }, t.prototype.onBattleReplay = function (e) {
                    this.mIsBattleWaiting && this.onBattleCancel(), v.BattlePart.sendBattleReplay(e._replayId, !0)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePage);
        n.UnionChatArea = I, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/Social/PlayerMessage": "PlayerMessage",
        "../../../data/Union/Union": "Union",
        "../../../data/data": "data",
        "../../../part/BattlePart": "BattlePart",
        "../../../part/ChatPart": "ChatPart",
        "../../../part/FriendPart": "FriendPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView",
        "../../widget/UserWidget": "UserWidget"
    }],
    UnionContributeArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "50355Jwhd9EdbMh31w5DixR", "UnionContributeArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../leocool/lc"), r = e("../../../data/data"),
            _ = e("../../../ClientView"), s = e("../../node/NodeWithListView"), c = e("../../../../noxcc"),
            l = e("../../../utils/UIUtil"), d = e("./UnionContributeForm"), p = e("../../../scene/ShopScene"),
            u = e("../../../scene/SceneManager"), g = e("../../../utils/TimeUtil"), h = e("../../../../leocool/lcStr"),
            f = e("../../../StringEnums"), m = e("../../../config/UICfg").UICfg.FontSize, y = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionContributeArea") || this
                }

                return a(t, e), t.prototype.init = function () {
                }, t.prototype.onRelease = function () {
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mContemt = c.noxcc.find("down/view/content", this.mRoot), this.mContemt.removeAllChildren(), this.mShopBtn = c.noxcc.findButton("top/ShopBtn", this.mRoot), c.noxcc.addClick(this.mShopBtn, this, this.onShopBtn), this.mContributeBtn = c.noxcc.findButton("top/ContributeBtn", this.mRoot), c.noxcc.addClick(this.mContributeBtn, this, this.onContributeBtn), this.mUnionAct = c.noxcc.findLabel("top/input/Label", this.mRoot), this.mUnionList = s.NodeWithListView.createV(cc.size(o.lc.w(this.mRoot) - 12, o.lc.h(this.mRoot) - 2), 10, 10)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.mListeners = [], t.mListeners.push(r.Data.Event.union_member_dirty.addListener(null, function () {
                    })), t.mListeners.push(r.Data.Event.union_dirty.addListener(null, function () {
                    })), t.mListeners.push(r.Data.Event.gold_dirty.addListener(null, function () {
                    })), t.mListeners.push(r.Data.Event.ingot_dirty.addListener(null, function () {
                    })), t.mListeners.push(r.Data.Event.union_donate_done.addListener(null, function () {
                        t.updateList()
                    })), t.updateList()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.updateList = function () {
                    var e = this;
                    if (c.noxcc.isValid(e.mRoot)) if (e.mContemt.removeAllChildren(), e.mMembers = null, P._playerUnion._hasDetailInfo) {
                        var t = P._playerUnion.getMyUnion().getMembers();
                        t.sort(function (e, t) {
                            return P._playerUnion.getMyUnion().getContribution(e.id)[r.Data.ResType.union_act] == P._playerUnion.getMyUnion().getContribution(t._id)[r.Data.ResType.union_act] ? e._level == t._level ? t._lastLogin < e._lastLogin : t._level < e._level : t < e
                        });
                        var n = e.mUnionList;
                        n.bindData(t, function (t, n) {
                            e.setOrCreateItem(t, n)
                        }.bind(e), Math.min(7, t.length), 0);
                        for (var a = 0; a < n._cacheCount; ++a) e.setOrCreateItem(null, t[a]);
                        e.mMembers = t, P._playerUnion.canDailyDonate() ? _.ClientView.checkNewFlag(e.mContributeBtn.node, 1, 30, 3) : _.ClientView.checkNewFlag(e.mContributeBtn.node, 0, 30, 3)
                    } else e.mActiveIndicator = _.ClientView.showPanelActiveIndicator(e.mRoot)
                }, t.prototype.setOrCreateItem = function (e, t) {
                    var n = P._playerUnion.getMyUnion();
                    if (null == e) {
                        var a = l.UIUtil.createUnionMemberItem(t, 1e3, !0);
                        a._todayGold = this.addUnionContribution(a, h.lcStr(f.STR.TODAY) + h.lcStr(f.STR.CONTRIBUTE), m.S2), c.noxcc.setPosition(a._todayGold, cc.v2(150, 25)), a._weekGold = this.addUnionContribution(a, h.lcStr(f.STR.THIS_WEEK) + h.lcStr(f.STR.CONTRIBUTE), m.S2), c.noxcc.setPosition(a._weekGold, cc.v2(150, -25));
                        var i = n.getContribution(t._id), o = i[0], _ = i[1];
                        a._todayGold.setString(g.TimeUtil.formatNum(o[r.Data.ResType.union_act], 9999)), a._weekGold.setString(g.TimeUtil.formatNum(_[r.Data.ResType.union_act], 9999)), a.setParent(this.mContemt)
                    }
                }, t.prototype.addUnionContribution = function (e, t, n) {
                    var a = c.noxcc.instantiate(c.noxcc.find(this.mRoot, "item"));
                    a.active = !0;
                    var i = c.noxcc.find(a, "StrLabel");
                    c.noxcc.setLabelString(i, t);
                    var o = c.noxcc.find(a, "NumLabel");
                    return a.setString = function (e) {
                        c.noxcc.setLabelString(o, e)
                    }, e.addChild(a), a
                }, t.prototype.onContributeBtn = function () {
                    d.UnionContributeForm.create().show()
                }, t.prototype.onShopBtn = function () {
                    var e = p.ShopScene.create(p.ShopType.union_shop);
                    u.SceneManager.pushScene(e)
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BasePage);
        n.UnionContributeArea = y, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../scene/SceneManager": "SceneManager",
        "../../../scene/ShopScene": "ShopScene",
        "../../../utils/TimeUtil": "TimeUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView",
        "./UnionContributeForm": "UnionContributeForm"
    }],
    UnionContributeForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "cb15fkFTo9L8rLPqfkVa8a4", "UnionContributeForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../utils/SpriteUtil"),
            _ = e("../../../config/UICfg"), s = e("../../../data/data"), c = e("../../../../leocool/lc"),
            l = e("../../widget/IconWidget"), d = e("../../../ClientData"), p = e("../../node/ResConsumeButton"),
            u = e("../../../StringEnums"), g = e("../../../../leocool/lcStr"), h = e("../../../../noxcc"),
            f = e("../../common/Dialog"), m = e("../../../ToastManager"), y = e("../../../ClientView"),
            T = e("../../../part/UnionPart"), S = e("../RewardPanel"), C = e("../../../../leocool/lcAudio"),
            v = e("../../../AudioEnums"), b = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.UnionContributeForm) || this;
                    return t.ITEM_SIZE = cc.size(650, 150), t.RES_TYPES = [-1, s.Data.ResType.gold, s.Data.ResType.ingot], t
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mAct = h.noxcc.findLabel("TopBar/input/Label", this.mRoot), this.mContent = h.noxcc.find("Center/Panel/view/content", this.mRoot), this.mContent.removeAllChildren(), this.mBackBtn = h.noxcc.findButton("TopBar/closeBtn", this.mRoot), h.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.mListeners = [], t.mContent.removeAllChildren(), t.mListeners.push(s.Data.Event.gold_dirty.addListener(null, function () {
                        t.updateContribution()
                    })), t.mListeners.push(s.Data.Event.ingot_dirty.addListener(null, function () {
                        t.updateContribution()
                    })), t.mListeners.push(s.Data.Event.union_donate_done.addListener(null, function () {
                        t.updateContribution()
                    })), t.mListeners.push(s.Data.Event.union_member_dirty.addListener(null, function () {
                        t.updateContribution()
                    })), t.updateContribution(), t.mActs = [], t.mWoods = [];
                    for (var n = c.lc.bottom(t.mContent) - t.ITEM_SIZE.height / 2 - 6, a = 1; a <= 6; a++) {
                        var i = t.createItem(a), o = cc.v2(0, n);
                        a % 2 == 1 && (o.x = c.lc.w(t.mRoot) / 2 - t.ITEM_SIZE.width / 2 - 10, t.mActs.push(i)), c.lc.V(i) && (o.x = c.lc.cw(t.mRoot), n -= t.ITEM_SIZE.height, c.lc.addChildToPosLB(t.mContent, i, o))
                    }
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.createItem = function (e) {
                    if (e % 2 != 0) {
                        var t = h.noxcc.newNode();
                        t.setContentSize(700, 150);
                        var n, a, i, o, m, y, T = r.SpriteUtil.createSprite({
                            _name: "img_bonus_bg",
                            _crect: _.UICfg.CRECT_COM_BG4,
                            _size: cc.size(700, 150)
                        });
                        h.noxcc.addChild(t, T.node), e % 2 == 1 ? (y = (e + 1) / 2, n = s.Data.ResType.union_act, a = s.Data._globalInfo._unionDonateExp[y - 1], o = s.Data._globalInfo._donateCost[y - 1], m = s.Data._globalInfo._donateGetUnionCrystal[y - 1], s.Data._globalInfo._unionContribution[y - 1], 3 == y && (o += P._dailyIngotDonate * s.Data._globalInfo._donateIngotCostIncremental)) : (y = e / 2, n = s.Data.ResType.union_wood), i = this.RES_TYPES[y - 1];
                        var S = l.IconWidget.create({_infoId: n, _count: a}, l.IconWidget.DisplayFlag.ITEM);
                        c.lc.addChildToPosLB(t, S.node, cc.v2(300, t.height / 2 + 2));
                        var C, v = l.IconWidget.create({
                            _infoId: s.Data.PropsId.yubi,
                            _count: m
                        }, l.IconWidget.DisplayFlag.ITEM);
                        c.lc.addChildToPosLB(t, v.node, cc.v2(50 + c.lc.cw(v.node) + 30, t.height / 2 + 2)), i >= 0 && (C = d.ClientData.getResIconName(i, !1));
                        var b = p.ResConsumeButton.createResConsumeButton(170, 80, C, o, g.lcStr(u.STR.CONTRIBUTE), "img_btn_green_s");
                        return b._resArea._bg.enabled = !1, b._resArea.opacity = 255, c.lc.addChildToPosLB(t, b, cc.v2(t.width - 100 - c.lc.w(b) / 2, 90)), b.setDisabledShader(_.UICfg.SHADER_DISABLE), 5 != e ? b.setEnabled(P._dailyDonate < s.Data._globalInfo._dailyDonateCount) : b.setEnabled(P._dailyIngotDonate < s.Data._globalInfo._ingotDonateUpLimit), c.lc.offset(b._resArea, 7, 42), c.lc.offset(b._label, 0, 5), h.noxcc.setLabelColor(b._resLabel, -1 == i || P.hasResource(i, o) ? _.UICfg.COLOR_TEXT_WHITE : _.UICfg.COLOR_TEXT_RED), b._callback = 3 == i ? function () {
                            f.Dialog.showDialog(g.lcStr(u.STR.CONTRIBUTE_TIP), function () {
                                this.contribute(y, n, !0)
                            }.bind(this))
                        }.bind(this) : function () {
                            this.contribute(y, n, !0)
                        }.bind(this), null == C && h.noxcc.setString(b._resLabel, g.lcStr(u.STR.FREE)), t._btn = b, t._unionResType = n, t._unionResNum = a, t._resType = i, t._resNum = o, t._rewardNum = m, t
                    }
                }, t.prototype.contribute = function (e, t, n) {
                    var a = this;
                    if (P._dailyDonate >= s.Data._globalInfo._dailyDonateCount && 3 != e || P._dailyIngotDonate >= s.Data._globalInfo._ingotDonateUpLimit && 3 == e) m.ToastManager.push(g.lcStr(u.STR.CANNOT_UNION_CONTRIBUTE)); else {
                        var i = t == s.Data.ResType.union_act ? this.mActs[e - 1] : this.mWoods[e - 1];
                        if (i._resType == s.Data.ResType.ingot) {
                            if (!y.ClientView.checkIngot(i._resNum)) return
                        } else if (i._resType == s.Data.ResType.gold && !y.ClientView.checkGold(i._resNum)) return;
                        if (n && P._playerUnion.isReachMaxResource(t, i._unionResNum)) {
                            var o = t == s.Data.ResType.union_act ? g.lcStr(u.STR.UNION_EXP_MAX) : g.lcStr(u.STR.UNION_WOOD);
                            f.Dialog.showDialog(string.format(g.lcStr(u.STR.UNION_RES_REACH_MAX_TIP), o), function () {
                                a.contribute(e, t)
                            }.bind(this))
                        } else {
                            P._playerUnion.getMyUnion().contribute(P._id, t, i._unionResNum), P._playerUnion.changeResource(t, i._unionResNum), 3 == e ? P._dailyIngotDonate = P._dailyIngotDonate + 1 : P._dailyDonate = P._dailyDonate + 1, P.changeResource(i._resType, -i._resNum), P._propBag.changeProps(s.Data.PropsId.yubi, i._rewardNum), P.changeResource(s.Data.ResType.union_devote, i._rewardNum2), T.UnionPart.sendUnionContribute(e, t), this.updateContribution();
                            var r = [];
                            r.push({
                                _infoId: i._unionResType,
                                _count: i._unionResNum,
                                _isFragment: !1,
                                _level: 1
                            }), r.push({
                                _infoId: s.Data.PropsId.yubi,
                                _count: i._rewardNum,
                                _isFragment: !1,
                                _level: 1
                            }), S.RewardPanel.create(r, S.RewardPanel.MODE_UNION_CONTRIBUTE).show(), C.lcAudio.playAudio(v.AUDIO.E_CLAIM)
                        }
                    }
                }, t.prototype.updateContribution = function () {
                    var e = P._playerUnion.getMyUnion().getContribution(P._id)[0];
                    if (h.noxcc.setString(this.mAct, e[s.Data.ResType.union_act]), c.lc.V(this.mActs) && 3 == this.mActs.length) {
                        var t = this.mActs[2], n = t._btn._resLabel,
                            a = s.Data._globalInfo._donateCost[2] + P._dailyIngotDonate * s.Data._globalInfo._donateIngotCostIncremental;
                        t._resNum = a, n.setString(a);
                        for (var i = 0; i < 3; ++i) {
                            var o = this.mActs[i]._btn;
                            o._resLabel;
                            2 != i ? o.setEnabled(P._dailyDonate < s.Data._globalInfo._dailyDonateCount) : o.setEnabled(P._dailyIngotDonate < s.Data._globalInfo._ingotDonateUpLimit)
                        }
                    }
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e
                }, t
            }(i.BaseForm);
        n.UnionContributeForm = b, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcAudio": "lcAudio",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../AudioEnums": "AudioEnums",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "../../common/Dialog": "Dialog",
        "../../node/ResConsumeButton": "ResConsumeButton",
        "../../widget/IconWidget": "IconWidget",
        "../RewardPanel": "RewardPanel"
    }],
    UnionCreateArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4fad2gsdjVOWZ1OGQn6EYZC", "UnionCreateArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../TopMostPanel"), r = e("../../../../leocool/lc"),
            _ = e("../../../../noxcc"), s = e("../../../utils/UIUtil"), c = e("../../../config/UICfg"),
            l = e("../../../StringEnums"), d = e("../../../../leocool/lcStr"), p = e("../../../data/data"),
            u = e("../../../ToastManager"), g = e("../../../ClientView"), h = e("../../../part/UnionPart"),
            f = e("../../../utils/SpriteUtil"), m = function (e) {
                function t() {
                    var t = e.call(this, "panel/unionpanel/UnionCreateArea") || this;
                    return t.POP_PANEL_SIZE = cc.size(320, 260), t
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.mMode = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var n = this;
                    this.mUnionName = _.noxcc.findEditBox("top/Union_name/EditBox", this.mRoot), this.mUnionSummary = _.noxcc.findEditBox("top/EditBox", this.mRoot), this.mUnionlevel = _.noxcc.find("top/Union_level", this.mRoot), this.mUnionJoin = _.noxcc.find("top/Union_join", this.mRoot), this.mCreateUnion = _.noxcc.findButton("choose/create_btn", this.mRoot), _.noxcc.addClick(this.mCreateUnion, this, this.createUnion);
                    var a = _.noxcc.find("choose/create_btn/Sprite", this.mRoot),
                        i = _.noxcc.find("choose/create_btn/num", this.mRoot);
                    this.mContent = _.noxcc.find("choose/content", this.mRoot), P._propBag.hasProps(p.Data.PropsId.union_create, 1) ? (f.SpriteUtil.setSprite(a, "props_ico_7038"), _.noxcc.setLabelString(i, "1")) : _.noxcc.setLabelString(i, p.Data._globalInfo._createUnionIngot);
                    var o = function (e, t, a) {
                        var i = s.UIUtil.createTTF(e + ":", c.UICfg.FontSize.S1, c.UICfg.COLOR_LABEL_LIGHT);
                        i.setAnchorPoint(1, .5);
                        var o = s.UIUtil.createScale9ShaderButton("input_box_bg", null, c.UICfg.CRECT_COM_BG5, 230, 45),
                            _ = s.UIUtil.createTTF("", c.UICfg.FontSize.S1);
                        return r.lc.addChildToPosLB(o, _, cc.v2(r.lc.w(o) / 2, r.lc.h(o) / 2 + 1)), o._label = _, 1 == a ? (r.lc.addChildToPosLB(n.mUnionlevel, i, cc.v2(0, 20)), r.lc.addChildToPosLB(n.mUnionlevel, o, cc.v2(r.lc.right(i) + r.lc.w(o) / 2 + 30, 20))) : 2 == a && (r.lc.addChildToPosLB(n.mUnionJoin, i, cc.v2(0, 20)), r.lc.addChildToPosLB(n.mUnionJoin, o, cc.v2(r.lc.right(i) + r.lc.w(o) / 2 + 30, 20))), [o, t - r.lc.h(o) - 16]
                    }.bind(this), u = (h = o(d.lcStr(l.STR.UNION_LEVEL_REQUIRE), g, 1)).shift(), g = h.shift();
                    u._label.setString(d.lcStr(l.STR.NO_REQUIREMENT)), u._callback = function () {
                        for (var e = function (e, t, a) {
                            return {
                                _str: t, _handler: function () {
                                    e._level = a, e._label.setString(t)
                                }.bind(n)
                            }
                        }, t = [e(u, d.lcStr(l.STR.NO_REQUIREMENT), 10)], a = 20; a <= 100; a += 10) {
                            var i = string.format("%s %d", d.lcStr(l.STR.LORD_LEVEL), a);
                            t.push(e(u, i, a))
                        }
                        n.popSelectPanel(u, t)
                    }.bind(this), this.mBtnLevelRequire = u;
                    var h, m = (h = o(d.lcStr(l.STR.UNION_TYPE), g, 2)).shift();
                    g = h.shift();
                    m._type = p.Data.UnionJoinType.any, m._label.setString(d.lcStr(l.STR.UNION_TYPE_ANY)), m._callback = function () {
                        for (var e = function (e, t, a) {
                            return {
                                _str: t, _handler: function () {
                                    e._type = a, e._label.setString(t)
                                }.bind(n)
                            }
                        }.bind(n), t = [], a = 0; a <= 2; ++a) t.push(e(m, d.lcStr(l.STR.UNION_TYPE_ANY + a), p.Data.UnionJoinType.any + a));
                        n.popSelectPanel(m, t)
                    }.bind(this), this.mBtnJoinType = m;
                    var y = s.UIUtil.createBadge(1, "");
                    y.setContentSize(50, 50), y.setScale(.9), this.mMode == t.Mode.edit ? r.lc.addChildToPosLB(this.mRoot, y, cc.v2(190, 550)) : r.lc.addChildToPosLB(this.mRoot, y, cc.v2(190, 600)), this.mFlagIcon = y;
                    for (var T = 1; T <= 5; ++T) {
                        var S = s.UIUtil.createShaderButton(null, function (e) {
                            n.mFlag = e, n.updateFlagPreview()
                        }.bind(this, T)), C = s.UIUtil.createBadge(T, null);
                        C.setContentSize(150, 150), S.setContentSize(150, 150), r.lc.addChildToCenter(S, C), this.mContent.addChild(S)
                    }
                    this.mFlag = 1, this.mMode == t.Mode.edit && (_.noxcc.setString(this.mCreateUnion.node.children[0], d.lcStr(l.STR.CHANGE) + d.lcStr(l.STR.INFO)), _.noxcc.addClick(this.mCreateUnion, this, this.changeInfo))
                }, t.prototype.updateFlagPreview = function () {
                    f.SpriteUtil.setSprite(this.mFlagIcon, string.format("img_badge_%d", this.mFlag))
                }, t.prototype.popSelectPanel = function (e, t) {
                    var n = o.TopMostPanel.ButtonList.create(this.POP_PANEL_SIZE, "");
                    r.lc.V(n) && (n.setButtonDefs(t), n.linkNode(e), n.show())
                }, t.prototype.createUnion = function () {
                    if (_.noxcc.getString(this.mUnionName).length <= 0) u.ToastManager.push(d.lcStr(l.STR.INPUT_NAME_INVALID)); else {
                        var e = string.trim(_.noxcc.getString(this.mUnionName)), t = _.noxcc.getString(this.mUnionSummary);
                        r.lc.utf8len(t) > 50 ? u.ToastManager.push(d.lcStr(l.STR.UNION_SUMMARY) + string.format(d.lcStr(l.STR.CANNOT_MORE_THAN), 50)) : r.lc.V(g.ClientView.checkIngot(p.Data._globalInfo._createUnionIngot)) && (g.ClientView.getActiveIndicator().show(d.lcStr(l.STR.WAITING)), P._propBag.hasProps(p.Data.PropsId.union_create, 1) && P._propBag.changeProps(p.Data.PropsId.union_create, -1), h.UnionPart.sendCreateUnion(e, t, this.mBtnLevelRequire._level, this.mBtnJoinType._type, this.mFlag, ""))
                    }
                }, t.prototype.changeInfo = function () {
                    if (_.noxcc.getString(this.mUnionName).length <= 0) u.ToastManager.push(d.lcStr(l.STR.INPUT_NAME_INVALID)); else {
                        var e = string.trim(_.noxcc.getString(this.mUnionName)), t = _.noxcc.getString(this.mUnionSummary);
                        r.lc.utf8len(t) > 50 ? u.ToastManager.push(d.lcStr(l.STR.UNION_SUMMARY) + string.format(d.lcStr(l.STR.CANNOT_MORE_THAN), 50)) : r.lc.V(g.ClientView.checkIngot(p.Data._globalInfo._createUnionIngot)) && (P._playerUnion._hasDetailInfo = !1, g.ClientView.getActiveIndicator().show(d.lcStr(l.STR.WAITING)), h.UnionPart.sendChangeUnion(e, t, this.mBtnLevelRequire._level, this.mBtnLevelRequire._type, this.mFlag, ""))
                    }
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e), a
                }, t.Mode = {create: 1, edit: 2}, t
            }(i.BasePage);
        n.UnionCreateArea = m, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../TopMostPanel": "TopMostPanel"
    }],
    UnionDetailForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dae741DD5dJXaBRkS9zoIIj", "UnionDetailForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../../noxcc"), _ = e("./UnionUnionArea"),
            s = e("../../../../leocool/lcStr"), c = e("../../../StringEnums"), l = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.UnionLogForm) || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.mUnionId = e
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), this.mContent = r.noxcc.find("Center/Panel/view/content", this.mRoot), this.mContentArea = _.UnionUnionArea.create(this.mUnionId), this.mContentArea.show(this.mContent), this.mTitle = r.noxcc.findLabel("TopBar/title", this.mRoot), r.noxcc.setString(this.mTitle, string.format(s.lcStr(c.STR.UNION) + s.lcStr(c.STR.DETAIL)))
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.onExit = function () {
                    this.mContentArea.destroy(), this.mContentArea = null, e.prototype.onExit.call(this)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.UnionDetailForm = l, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../StringEnums": "StringEnums",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "./UnionUnionArea": "UnionUnionArea"
    }],
    UnionHallArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "15a37j4vxRCI4dANIks0kUF", "UnionHallArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../../../leocool/lc"),
            _ = e("../../../ToastManager"), s = e("../../../../leocool/lcStr"), c = e("../../../StringEnums"),
            l = e("../../../data/data"), d = e("../../common/Dialog"), p = e("../../../ClientView"),
            u = e("../../../part/UnionPart"), g = e("./UnionLogForm"), h = e("./UnionChangeInfo"),
            f = e("../TopMostPanel"), m = e("../../../utils/UIUtil"), y = e("../../form/SendMailForm"),
            T = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionHallArea") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t.mQuitBtn = o.noxcc.findButton("top/QuitBtn", t.mRoot), o.noxcc.addClick(t.mQuitBtn, t, t.quitUnion), t.mJournalBtn = o.noxcc.findButton("top/JournalBtn", t.mRoot), o.noxcc.addClick(t.mJournalBtn, t, t.showUnionLog), t.mBossBtn = o.noxcc.findButton("top/BossBtn", t.mRoot), o.noxcc.addClick(t.mBossBtn, t, function (e) {
                        t.changeInfo(e)
                    }), 3 == P._unionJob && (t.mBossBtn.node.active = !0), t.mContent = o.noxcc.find("down/view/content", t.mRoot), t.mListeners = [], t.mMembers = [], t.mListeners.push(l.Data.Event.union_dirty.addListener(null, function () {
                    })), t.mListeners.push(l.Data.Event.union_edit_dirty.addListener(null, function () {
                    })), t.mListeners.push(l.Data.Event.union_member_dirty.addListener(null, function () {
                    })), t.mListeners.push(l.Data.Event.union_level_upgrade.addListener(null, function () {
                    })), t.mListeners.push(l.Data.Event.union_res_dirty.addListener(null, function () {
                        t.updateList()
                    })), t.updateList()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.onMsg = function (e) {
                    e.type
                }, t.prototype.quitUnion = function (e) {
                    if (r.lc.V(P._playerUnion._groupId)) return _.ToastManager.push(s.lcStr(c.STR.EXIT_GROUP_FIRST));
                    if (e) p.ClientView.getActiveIndicator().show(s.lcStr(c.STR.WAITING)), P._playerUnion._myUnion._members = {}, u.UnionPart.sendUnionLeave(); else {
                        var t;
                        if (P._unionJob == l.Data.UnionJob.leader) {
                            if (1 != P._playerUnion.getMyUnion().getMembersNum()) return t = s.lcStr(c.STR.SURE_TO_EXIT_UNION_LEADER), void d.Dialog.showDialog(t, null, !0);
                            t = s.lcStr(c.STR.SURE_TO_EXIT_UNION_ONLY_LEADER)
                        } else t = s.lcStr(c.STR.SURE_TO_EXIT_UNION);
                        d.Dialog.showDialog(t, function () {
                            this.quitUnion(!0)
                        }.bind(this))
                    }
                }, t.prototype.updateList = function () {
                    if (o.noxcc.isValid(this.mRoot)) {
                        var e = P._playerUnion.getMyUnion().getMembers();
                        e.sort(function (e, t) {
                            return P._playerUnion.getMyUnion().getContribution(e.id)[l.Data.ResType.union_act] == P._playerUnion.getMyUnion().getContribution(t._id)[l.Data.ResType.union_act] ? e._level == t._level ? t._lastLogin < e._lastLogin : t._level < e._level : t < e
                        }), this.mContent.removeAllChildren(), this.mMembers = [];
                        for (var t = 0; t < e.length; t++) {
                            var n = this.setOrCreateMemberItem(e[t]);
                            this.mMembers.push(n)
                        }
                    }
                }, t.prototype.setOrCreateMemberItem = function (e) {
                    var t = m.UIUtil.createUnionMemberItem(e, 1e3, !0);
                    return t.setParent(this.mContent), t
                }, t.prototype.showUnionLog = function () {
                    g.UnionLogForm.create()
                }, t.prototype.changeInfo = function (e) {
                    console.log(e);
                    var t = [], n = cc.size(200, 190);
                    P._playerUnion.getMyUnion();
                    t.push({
                        _str: string.format(s.lcStr(c.STR.SEND_GROUP) + s.lcStr(c.STR.MAIL)),
                        _handler: function () {
                            y.SendMailForm.create().show()
                        }.bind(this)
                    }), t.push({_isSeparator: !0}), t.push({
                        _str: s.lcStr(c.STR.UNION_MANAGE), _handler: function () {
                            h.UnionChangeInfo.create().show()
                        }.bind(this)
                    });
                    var a = f.TopMostPanel.ButtonList.create(n, "");
                    r.lc.V(a) && (a.node.setAnchorPoint(.5, .5), a.setButtonDefs(t), a.node.setPosition(r.lc.w(a.node) / 2 - 400, 100 + r.lc.h(a.node) / 2 + 6), a.linkNode(e), a.show())
                }, t.create = function () {
                    return new t
                }, t
            }(i.BasePage);
        n.UnionHallArea = T, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../common/Dialog": "Dialog",
        "../../form/SendMailForm": "SendMailForm",
        "../TopMostPanel": "TopMostPanel",
        "./UnionChangeInfo": "UnionChangeInfo",
        "./UnionLogForm": "UnionLogForm"
    }],
    UnionInfoArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "65eefMVjbNEfJPnmpCqyIlu", "UnionInfoArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithLabel"), i = e("../../utils/SpriteUtil"), o = e("../../../leocool/lc"),
            r = e("../../config/UICfg"), _ = e("../../../noxcc"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.initUnionInfoArea = function (e, t) {
                    var n = i.SpriteUtil.createSprite("avatar_badge_s_1");
                    this._badge = n;
                    var s = a.NodeWithLabel.createWithTTF(e ? e._unionName : "", r.UICfg.TTF_FONT, r.UICfg.FontSize.S2);
                    s.setAnchorPoint(t ? 1 : 0, .5), _.noxcc.setLabelColor(s, r.UICfg.COLOR_TEXT_DARK), this._unionName = s;
                    var c = o.lc.w(n.node) + 6 + o.lc.w(s), l = o.lc.h(n.node);
                    this.setContentSize(c, l), t ? (o.lc.addChildToPosLB(this, s, cc.p(o.lc.w(s), l / 2)), o.lc.addChildToPosLB(this, n.node, cc.p(o.lc.right(s) + 6 + o.lc.w(n.node) / 2, o.lc.y(s)))) : (o.lc.addChildToPosLB(this, n.node, cc.p(o.lc.w(n.node) / 2, l / 2)), o.lc.addChildToPosLB(this, s, cc.p(o.lc.right(n.node) + 6, o.lc.y(n.node))));
                    var d = a.NodeWithLabel.createWithTTF(e ? e._unionWord : "", r.UICfg.TTF_FONT, 18);
                    _.noxcc.setLabelColor(d._label, o.lc.Color3B.yellow), o.lc.addChildToPosLB(this, d, cc.p(o.lc.x(n.node), o.lc.y(n.node) + 2)), this._word = d
                }, t.prototype.setUnionName = function (e) {
                    this._unionName.setString(e)
                }, t.createUnionInfoArea = function (e, n) {
                    var a = new t;
                    return a.initUnionInfoArea(e, n), a
                }, t
            }(cc.Node);
        n.UnionInfoArea = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    UnionLetForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "ebb6cfumCpFqrRXR+AUqbMV", "UnionLetForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../../noxcc"), _ = e("../../../../nox"),
            s = e("../../../utils/SpriteUtil"), c = e("../../../data/data"), l = e("../../widget/IconWidget"),
            d = e("../../../../leocool/lcStr"), p = function (e) {
                function t(t) {
                    var n = e.call(this, o.AllViewTypes.UnionLetForm) || this;
                    return n.mBackBtn = null, n.filtrate = null, n.mseek = null, n.titleList = [], n.mLevelTab = null, n.mOrderTab = null, n.mTypeTab = null, n.mseekstring = "", n.mCallBack = t, n
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t.mAcquired = P._playerCard._levels, t.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", t.mRoot), r.noxcc.addClick(t.mBackBtn, t, t.onBackBtn), t.filtrate = r.noxcc.findButton("filter_btn", t.mRoot), r.noxcc.addClick(t.filtrate, t, t.ontilter_btn), t.mseek = r.noxcc.findButton("EditBox/seek_button", t.mRoot), r.noxcc.addClick(t.mseek, t, t.onseek_btn), this.mtitle = r.noxcc.find("Center/RightPanel/view/content/illustration_title", this.mRoot), this.mIconContainer = r.noxcc.find("Center/RightPanel/view/content", this.mRoot), this.mEditBox = r.noxcc.findEditBox("EditBox", this.mRoot), this.mscreen_1 = r.noxcc.find("screen_1", this.mRoot), this.mscreen_1.active = !1, this.mtitle.active = !1, t.mLevelTab = "full", t.mOrderTab = "full", t.mTypeTab = "full";
                    var n = "screen_1/bg/";
                    [r.noxcc.find(n + "allproperty", t.mRoot), r.noxcc.find(n + "grass", t.mRoot), r.noxcc.find(n + "fire", t.mRoot), r.noxcc.find(n + "water", t.mRoot), r.noxcc.find(n + "electricity", t.mRoot), r.noxcc.find(n + "psychokinesis", t.mRoot), r.noxcc.find(n + "wrestle", t.mRoot), r.noxcc.find(n + "evil", t.mRoot), r.noxcc.find(n + "steel", t.mRoot), r.noxcc.find(n + "immortal", t.mRoot), r.noxcc.find(n + "dragon", t.mRoot), r.noxcc.find(n + "usual", t.mRoot)].forEach(function (e, n, a) {
                        r.noxcc.addClick(e, t, function () {
                            0 == n && t.onlorderToggleClick("full"), 0 != n && t.onlorderToggleClick(_.nox.toString(n))
                        })
                    });
                    [r.noxcc.find(n + "allorder", t.mRoot), r.noxcc.find(n + "basics", t.mRoot), r.noxcc.find(n + "1", t.mRoot), r.noxcc.find(n + "2", t.mRoot)].forEach(function (e, n, a) {
                        r.noxcc.addClick(e, t, function () {
                            0 == n && t.onlevelToggleClick("full"), 0 != n && t.onlevelToggleClick(_.nox.toString(n - 1))
                        })
                    })
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), this.initData();
                    for (var t = 0; t < 3; t++) {
                        var n = r.noxcc.instantiate(this.mtitle);
                        0 == t && (s.SpriteUtil.setSprite(n.children[0], "illustration_title_UR"), r.noxcc.setString(n.children[0].children[0], "UR")), 1 == t && (s.SpriteUtil.setSprite(n.children[0], "illustration_title_SR"), r.noxcc.setString(n.children[0].children[0], "SR")), 2 == t && (s.SpriteUtil.setSprite(n.children[0], "illustration_title_RR"), r.noxcc.setString(n.children[0].children[0], "RR")), this.titleList.push(n), this.mIconContainer.addChild(n)
                    }
                    this.reloadIconWidgets()
                }, t.prototype.initData = function () {
                    for (var e in this.mMonsterInfos = {}, P._playerCard._monsters) {
                        var t = c.Data._monsterInfo[e], n = t._id;
                        this.mMonsterInfos[n] = t
                    }
                }, t.prototype.onlorderToggleClick = function (e, t) {
                    this.mOrderTab = e, this.reloadIconWidgets()
                }, t.prototype.onlevelToggleClick = function (e, t) {
                    this.mLevelTab = e, this.reloadIconWidgets()
                }, t.prototype.cleanGroup = function () {
                    for (var e in t.group) t.group[e] = [];
                    for (var n = 0; n < this.titleList.length; n++) this.titleList[n].children.splice(1), this.titleList[n].active = !1
                }, t.prototype.reloadIconWidgets = function () {
                    var e = this;
                    this.cleanGroup();
                    var n = this.mMonsterInfos;
                    this.Addgroup(n);
                    var a = 2;
                    for (var i in t.group) {
                        for (var o = function (n) {
                            var o = t.group[i][n]._id, _ = l.IconWidget.create({_infoId: o}, 0);
                            _.registCallback(function () {
                                e.mCallBack && e.mCallBack(o), e.hide()
                            }), r.noxcc.addChild(e.titleList[a], _.node), e.titleList[a].active = !0
                        }, _ = 0; _ < t.group[i].length; _++) o(_);
                        a -= 1
                    }
                }, t.prototype.Addgroup = function (e) {
                    for (var n in e) {
                        if (-1 != d.lcStr(e[n]._nameSid).indexOf(this.mseekstring)) if ("full" == this.mLevelTab && "full" != this.mOrderTab) {
                            if (this.mOrderTab == e[n]._nature) (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        } else if ("full" == this.mOrderTab && "full" != this.mLevelTab) {
                            if (this.mLevelTab == e[n]._level) (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        } else if ("full" != this.mOrderTab && "full" != this.mLevelTab) {
                            if (this.mLevelTab == e[n]._level) if (this.mOrderTab == e[n]._nature) (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        } else if ("full" != this.mTypeTab) {
                            if (this.mTypeTab == e[n]._type) (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        } else if ("full" == this.mTypeTab) {
                            (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        } else {
                            var a;
                            (a = e[n]._quality) > 3 && t.group[a].push(e[n])
                        }
                    }
                }, t.prototype.onShowActionFinished = function () {
                }, t.prototype.onBackBtn = function () {
                    this.acticeclose(), this.hide()
                }, t.prototype.ontilter_btn = function () {
                    1 != this.mscreen_1.active ? this.mscreen_1.active = !0 : this.acticeclose()
                }, t.prototype.onseek_btn = function () {
                    this.mseekstring = r.noxcc.getInputString(this.mEditBox), this.reloadIconWidgets()
                }, t.prototype.acticeclose = function () {
                    this.mscreen_1.active = !1
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.create = function (e) {
                    var n = new t(e);
                    return n.init(), n.show(), n
                }, t.group = {4: [], 5: [], 7: []}, t
            }(i.BaseForm);
        n.UnionLetForm = p, cc._RF.pop()
    }, {
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../data/data": "data",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "../../widget/IconWidget": "IconWidget"
    }],
    UnionLogForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3edf6dN+oVL3bLgNH3QINyQ", "UnionLogForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../utils/MsgCenter"),
            _ = e("../../../part/UnionPart"), s = e("../../../StringEnums"), c = e("../../../../leocool/lcStr"),
            l = e("../../../../nox"), d = e("../../../data/data"), p = e("../../../../noxcc"),
            u = e("../../node/NodeWithLabel"), g = e("../../../../leocool/lc"), h = e("../../../utils/RichTextUtil"),
            f = e("../../../config/UICfg"), m = e("../../../utils/SpriteUtil"), y = e("../../node/NodeWithListView"),
            T = e("../../../ClientView"), S = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.UnionLogForm) || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mBackBtn = p.noxcc.findButton("TopBar/closeBtn", this.mRoot), p.noxcc.addClick(this.mBackBtn, this, this.oncloseBtn), this.mContent = p.noxcc.find("Center/Panel/view/content", this.mRoot);
                    var t = y.NodeWithListView.createV(cc.size(g.lc.w(this.mRoot) - f.UICfg.FRAME_INNER_LEFT - f.UICfg.FRAME_INNER_RIGHT, g.lc.h(this.mRoot) - f.UICfg.FRAME_INNER_TOP - f.UICfg.FRAME_INNER_BOTTOM), 30, 0);
                    this.mList = t, P._playerUnion.getMyUnion()._unionLogs ? this.updateLogs() : (this.onShowActionFinished(), this.mActiveIndicator = T.ClientView.showPanelActiveIndicator(this.mRoot)), this.mTitle = p.noxcc.findLabel("TopBar/title", this.mRoot), p.noxcc.setString(this.mTitle, string.format(c.lcStr(s.STR.UNION) + c.lcStr(s.STR.UNION_LOG)))
                }, t.prototype.onShowActionFinished = function () {
                    null == P._playerUnion.getMyUnion()._unionLogs && _.UnionPart.sendGetUnionLog()
                }, t.prototype.parseLog = function (e) {
                    var t, n = e.user1.name;
                    e.hasOwnProperty("user2") && (t = e.user2.name);
                    var a = e.type,
                        i = {_timestamp: parseInt((e.timestamp / 1e3).toString()), _content: "", _date: {}, _msg: ""},
                        o = new Date(1e3 * i._timestamp);
                    if (i._date = {
                        year: o.getFullYear(),
                        month: o.getMonth() + 1,
                        day: o.getDate(),
                        hour: o.getHours(),
                        min: o.getMinutes()
                    }, a == Union_pb.UnionMessageType.PB_UNION_CREATE) i._content = string.format("|%s|%s|%s|", n, c.lcStr(s.STR.CREATE_UNION), e.user1.union_name); else if (a == Union_pb.UnionMessageType.PB_UNION_JOIN) i._content = t ? string.format("|%s|" + c.lcStr(s.STR.BE_INVITED_TO) + "%s", n, t, c.lcStr(s.STR.UNION_JOIN_NEWS)) : string.format("|%s|%s", n, c.lcStr(s.STR.UNION_JOIN_NEWS)); else if (a == Union_pb.UnionMessageType.PB_UNION_KICKOUT) i._content = string.format("|%s|" + c.lcStr(s.STR.UNION_KICKOUT_NEWS), n, t); else if (a == Union_pb.UnionMessageType.PB_UNION_LEAVE) i._content = string.format("|%s|%s", n, c.lcStr(s.STR.UNION_LEAVE_NEWS)); else if (a == Union_pb.UnionMessageType.PB_UNION_TO_CO_LEADER || a == Union_pb.UnionMessageType.PB_UNION_TO_MEMBER) i._content = string.format("|%s|" + c.lcStr(s.STR.UNION_CHANGE_JOB_NEWS), n, t, c.lcStr(s.STR.ROOKIE + e.user2.union_title - 1)); else if (a == Union_pb.UnionMessageType.PB_UNION_TO_LEADER) i._content = string.format("|%s|%s", n, c.lcStr(s.STR.UNION_TO_LEADER)); else if (a == Union_pb.UnionMessageType.PB_UNION_RESIGN) i._content = string.format("|%s|" + c.lcStr(s.STR.UNION_GIVE_LEADER_TO), n, t); else if (a == Union_pb.UnionMessageType.PB_UNION_UPGRADE) i._content = string.format("|%s|" + c.lcStr(s.STR.UNION_UPGRADE_NEWS), n, e.param1); else if (a == Union_pb.UnionMessageType.PB_UNION_TECH_UPGRADE) {
                        var r = P._playerUnion.getMyUnion();
                        i._content = r ? string.format("|%s|" + c.lcStr(s.STR.UNION_UPGRADE_TECH_NEWS), n, c.lcStr(r._techs[e.param2]._info._nameSid), e.param1) : ""
                    } else a == Union_pb.UnionMessageType.PB_UNION_DONATE ? i._msg = e : a == Union_pb.UnionMessageType.PB_UNION_IMPEACHED && (i._content = string.format("|%s|" + c.lcStr(s.STR.UNION_IMPEACHED_NEWS), n));
                    return i
                }, t.prototype.mergeLog = function (e, t) {
                    t.sort(function (e, t) {
                        return t._timestamp - e._timestamp
                    }), cc.assert(l.nox.isArray(t));
                    var n = 0, a = 0, i = 0, o = 0;
                    if (t[0]._msg.type == Union_pb.UnionMessageType.PB_UNION_DONATE) {
                        for (var r = function (t, n) {
                            n > 0 && (t._content = string.format(c.lcStr(s.STR.NEWS_MEMBER_ALL_CONTRIBUTE), n), e.push(t))
                        }.bind(this), _ = 0, p = 0; p < t.length; p++) {
                            var u = t[p], g = u._date;
                            g.year == a && g.month == i && g.day == o || (r(n, _), n = u, a = g.year, i = g.month, o = g.day, _ = 0);
                            for (var h = 0; h < u._msg.resource.length; h++) {
                                var f = u._msg.resource[h];
                                f.info_id == d.Data.ResType.union_act && (_ += f.num)
                            }
                        }
                        r(n, _)
                    }
                    return u
                }, t.prototype.updateLogs = function () {
                    var e = this.mList, t = P._playerUnion.getMyUnion()._unionLogs;
                    e.bindData(t, function (e, t) {
                        this.setOrCreateLogItem(e, t)
                    }.bind(this), Math.min(25, t.length), 0);
                    for (var n = 1; n <= e._cacheCount; n++) {
                        var a = this.setOrCreateLogItem(null, t[n - 1]);
                        this.mContent.addChild(a)
                    }
                }, t.prototype.setOrCreateLogItem = function (e, t) {
                    if (null == e) {
                        (e = p.noxcc.newNode()).setContentSize(830, 32);
                        var n = u.NodeWithLabel.createTTF("");
                        n.setAnchorPoint(0, .5), g.lc.addChildToPosLB(e, n, cc.v2(70, g.lc.h(e) / 2)), e._label = n
                    }
                    if (e._log = t, e._removeElement && e._removeElement.removeFromParent(), g.lc.V(t._date)) {
                        e._label.setString(string.format("%02d:%02d", t._date.hour, t._date.min)), p.noxcc.setLabelColor(e._label, f.UICfg.COLOR_LABEL_LIGHT);
                        var a = h.RichTextUtil.createBoldRichText(t._content.replace(/\|/g, "| "), null);
                        a.node.setAnchorPoint(cc.v2(0, .5)), g.lc.addChildToPosLB(e, a.node, cc.v2(70 + g.lc.w(e._label), g.lc.h(e) / 2)), e._removeElement = a
                    } else {
                        e._label.setString(t._content);
                        var i = m.SpriteUtil.createSprite({
                            _name: "img_com_bg_2",
                            _crect: f.UICfg.CRECT_COM_BG2,
                            _size: cc.size(300, 30)
                        });
                        p.noxcc.setSpriteColor(i.node, g.lc.Color3B.black), p.noxcc.setNodeOpacity(i.node, 100), g.lc.addChildToPosLB(e, i.node, cc.v2(g.lc.w(i.node) / 2 + 50, g.lc.h(e) / 2), -1), e._removeElement = i
                    }
                    return e
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LOG) {
                        T.ClientView.getActiveIndicator().hide();
                        for (var t = e.getExtensions_Union_pb_SglUnionMsg_union_message_resp(), n = [], a = [], i = 0; i < t.length; i++) {
                            var o = t[i], r = this.parseLog(o);
                            r._msg ? (a[o.type] = a[o.type] || [], a[o.type].push(r)) : n.push(r)
                        }
                        for (var _ in a) this.mergeLog(n, a[_]);
                        n.sort(function (e, t) {
                            return t._timestamp - e._timestamp
                        });
                        i = 0;
                        for (var l = 0, d = 0, p = 0; i < n.length;) {
                            var u = n[i]._date;
                            u.year == l && u.month == d && u.day == p || (l = u.year, d = u.month, p = u.day, n.splice(i, 0, {_content: string.format("%s%s%s%s%s%s", l, c.lcStr(s.STR.YEAR), d, c.lcStr(s.STR.MONTH), p, c.lcStr(s.STR.DAY_RI))}), i += 1), i += 1
                        }
                        return P._playerUnion.getMyUnion()._unionLogs = n, this.updateLogs(), !0
                    }
                    return !1
                }, t.prototype.removeIndicator = function () {
                    this.mActiveIndicator && (this.mActiveIndicator.removeFromParent(), this.mActiveIndicator = null)
                }, t.prototype.oncloseBtn = function () {
                    this.hide()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this), r.MsgCenter.addMsgListener(this, function (e) {
                        return this.onMsg(e)
                    }.bind(this), 0)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this), r.MsgCenter.removeMsgListener(this)
                }, t.create = function () {
                    var e = new t;
                    return e.init(), e.show(), e
                }, t
            }(i.BaseForm);
        n.UnionLogForm = S, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../../utils/RichTextUtil": "RichTextUtil",
        "../../../utils/SpriteUtil": "SpriteUtil",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "../../node/NodeWithLabel": "NodeWithLabel",
        "../../node/NodeWithListView": "NodeWithListView"
    }],
    UnionMemberForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "12daeaowTtPqY62vLEYGrrO", "UnionMemberForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return a(t, e), t.createSelect = function () {
                return t.create(t.Mode.select)
            }, t.createContribute = function () {
                return t.create(t.Mode.contribute)
            }, t.activity = function () {
                return t.create(t.Mode.activity)
            }, t.create = function (e) {
                return new t
            }, t.Mode = {contribute: 2, select: 1, activity: 3}, t
        }(e("../../BasePage").BasePage);
        n.UnionMemberForm = i, cc._RF.pop()
    }, {"../../BasePage": "BasePage"}],
    UnionPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "56e90hwdclOXb9IpYS9vdc/", "UnionPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil"), i = e("../StringEnums"), o = e("../../leocool/lcStr");
        (function (e) {
            e.sendGetMyUnionDetail = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_MINE, a.NetUtil.sendProtoMsg(e)
            }, e.sendGetUnionDetail = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DETAIL, t.setExtensions_Union_pb_SglUnionMsg_union_detail_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetSearchUnions = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SEARCH, n.addExtensions_Union_pb_SglUnionMsg_union_search_req()[e] = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendGetRecommandUnions = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RECOMMEND, a.NetUtil.sendProtoMsg(e)
            }, e.sendChangeUnion = function (e, t, n, i, o, r) {
                var _ = SglMsg_pb.SglReqMsg.create();
                _.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_EDIT;
                var s = _.addExtensions_Union_pb_SglUnionMsg_union_edit_req();
                s.name = e, s.announcement = t, s.required_level = n, s.type = i, s.avatar = o, s.tag = r, a.NetUtil.sendProtoMsg(_)
            }, e.sendCreateUnion = function (e, t, n, i, o, r) {
                var _ = SglMsg_pb.SglReqMsg.create();
                _.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_CREATE;
                var s = _.addExtensions_Union_pb_SglUnionMsg_union_create_req();
                s.name = e, s.announcement = t, s.required_level = n, s.type = i, s.avatar = o, s.tag = r, a.NetUtil.sendProtoMsg(_)
            }, e.sendUnionApply = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_APPLY;
                var i = n.addExtensions_Union_pb_SglUnionMsg_union_apply_req();
                i.id = e, i.message = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionInvite = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_INVITE;
                var i = n.addExtensions_Union_pb_SglUnionMsg_union_invite_req();
                i.id = e, i.message = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionAcceptApply = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ACCEPT_APPLY;
                var r = n.addExtensions_Union_pb_SglUnionMsg_union_accept_req();
                r.id = e, r.is_accept = t, t || (r.content = o.lcStr(i.STR.REFUSE_APPLY)), a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionAcceptInvite = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ACCEPT_INVITE;
                var r = n.addExtensions_Union_pb_SglUnionMsg_union_accept_req();
                r.id = e, r.is_accept = t, t || (r.content = o.lcStr(i.STR.REFUSE_INVITE)), a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionKickout = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_KICKOUT, t.setExtensions_Union_pb_SglUnionMsg_union_kickout_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionLeave = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEAVE, a.NetUtil.sendProtoMsg(e)
            }, e.sendUnionPromote = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_PROMOTE, t.setExtensions_Union_pb_SglUnionMsg_union_promote_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionDemote = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DEMOTE, t.setExtensions_Union_pb_SglUnionMsg_union_demote_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionGiveLeader = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RESIGN, t.setExtensions_Union_pb_SglUnionMsg_union_resign_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionUpgrade = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_UPGRADE, a.NetUtil.sendProtoMsg(e)
            }, e.sendUnionContribute = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DONATE;
                var i = n.addExtensions_Union_pb_SglUnionMsg_union_donate_req();
                i.grade = e, i.donate_type = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionAddHire = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LET, t.setExtensions_Union_pb_SglUnionMsg_union_let_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionHire = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RENT, t.setExtensions_Union_pb_SglUnionMsg_union_rent_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionHireClaim = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_CLAIM_LET, t.setExtensions_Union_pb_SglUnionMsg_union_claim_let_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionHireRecall = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_UNLET, t.setExtensions_Union_pb_SglUnionMsg_union_unlet_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetUnionLog = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LOG, a.NetUtil.sendProtoMsg(e)
            }, e.sendUnionBossUnlock = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_UNLOCK, t.setExtensions_Union_pb_SglUnionMsg_union_boss_unlock_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionBossChallenge = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_BOSS_ATTACK, t.setExtensions_Union_pb_SglUnionMsg_union_boss_attack_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionUpgradeTech = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_TECH_UPGRADE, t.setExtensions_Union_pb_SglUnionMsg_union_tech_upgrade_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionImpeach = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = t ? SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_UNIMPEACH : SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_IMPEACH, t || n.setExtensions_Union_pb_SglUnionMsg_union_impeach_req(e), a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionOnHook = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_ON_HOOK, a.NetUtil.sendProtoMsg(e)
            }, e.sendUnionShareCardInfo = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SHARE_CARD_INFO, t.setExtensions_Union_pb_SglUnionMsg_union_share_card_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionDoTask = function (e, t, n, i) {
                var o = SglMsg_pb.SglReqMsg.create();
                o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DO_TASK;
                var r = o.addExtensions_Union_pb_SglUnionMsg_union_do_task_req();
                r.task_id = e, r.my_card_id = t, r.share_card_id = n, r.owner_id = i, a.NetUtil.sendProtoMsg(o)
            }, e.sendUnionSubmitTak = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_SUBMIT_TASK, t.setExtensions_Union_pb_SglUnionMsg_union_submit_task_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnionLendCardInfo = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEND_CARD_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendUnionLendCard = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create(), i = n.addExtensions_Union_pb_SglUnionMsg_union_lend_card_req();
                i.card_id = e, i.position = t, n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_LEND_CARD, n.setExtensions_Union_pb_SglUnionMsg_union_lend_card_req(i), a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionRecallCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_RECALL_CARD, t.setExtensions_Union_pb_SglUnionMsg_union_recall_card_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.monitors = ["sendUnionHireClaim"]
        })(n.UnionPart || (n.UnionPart = {})), cc._RF.pop()
    }, {"../../leocool/lcStr": "lcStr", "../StringEnums": "StringEnums", "../utils/NetUtil": "NetUtil"}],
    UnionScene: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "5848b/S5ZpCq4ilscOAND3j", "UnionScene");
        var a, i = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var o, r = e("../ui/panel/union/UnionCreateArea"), _ = e("../ui/panel/union/UnionSearchArea"),
            s = e("../ui/panel/union/UnionChatArea"), c = e("../ui/panel/union/UnionHallArea"),
            l = e("../ui/panel/union/UnionContributeArea"), d = e("../ui/panel/union/UnionAdventureArea"),
            p = e("../ui/AllViewTypes"), u = e("../../noxcc"), g = e("../data/data"), h = e("../ClientView"),
            f = e("../../leocool/lcStr"), m = e("../StringEnums"), y = e("../part/UnionPart"),
            T = e("../ui/panel/RankPanel"), S = e("../const/SceneId"), C = e("./SceneManager"), v = e("../ClientData"),
            b = e("./BaseUIScene");
        (function (e) {
            e.create = "create", e.search_0 = "search_0", e.chat = "chat", e.my_union = "my_union", e.contribute = "contribute", e.Adventure = "Adventure", e.search = "search"
        })(o || (o = {}));
        var E = ((a = {})[o.create] = ["Center/LeftPanel/view/noUuion_content/first_button", function () {
            return new r.UnionCreateArea
        }], a[o.search_0] = ["Center/LeftPanel/view/noUuion_content/fifth_button", function () {
            return new _.UnionSearchArea
        }], a[o.chat] = ["Center/LeftPanel/view/content/first_button", function () {
            return new s.UnionChatArea
        }], a[o.my_union] = ["Center/LeftPanel/view/content/second_button", function () {
            return new c.UnionHallArea
        }], a[o.contribute] = ["Center/LeftPanel/view/content/third_button", function () {
            return new l.UnionContributeArea
        }], a[o.Adventure] = ["Center/LeftPanel/view/content/fourth_button", function () {
            return new d.UnionAdventureArea
        }], a[o.search] = ["Center/LeftPanel/view/content/fifth_button", function () {
            return new _.UnionSearchArea
        }], a), I = function (e) {
            function t() {
                var t = e.call(this, S.SceneId.union, p.AllViewTypes.UnionScene) || this;
                return t.mAllToggles = {}, t.mAllPages = {}, t.mActiveTab = null, t
            }

            return i(t, e), t.prototype.init = function () {
            }, t.prototype.onRelease = function () {
            }, t.prototype.onInitWidget = function () {
                for (var t in e.prototype.onInitWidget.call(this), this.mBackBtn = u.noxcc.findButton("TopBar/TopLeftBar/returnButton", this.mRoot), u.noxcc.addClick(this.mBackBtn, this, function () {
                    C.SceneManager.popScene()
                }), this.mRankBtn = u.noxcc.findButton("Center/LeftPanel/view/noUuion_content/sixth_button", this.mRoot), u.noxcc.addClick(this.mRankBtn, this, function () {
                    T.RankPanel.create(g.Data.RankRange.union)
                }), this.mRankBtn_1 = u.noxcc.findButton("Center/LeftPanel/view/content/sixth_button", this.mRoot), u.noxcc.addClick(this.mRankBtn_1, this, function () {
                    T.RankPanel.create(g.Data.RankRange.union)
                }), this.mHelpBtn = u.noxcc.findButton("TopBar/TopLeftBar/helpbtn", this.mRoot), u.noxcc.addClick(this.mHelpBtn, this, function () {
                    v.ClientData.showHelpForm(f.lcStr(m.STR.HELP), g.Data.HelpType.union)
                }), this.mNoUnion_content = u.noxcc.find("Center/LeftPanel/view/noUuion_content", this.mRoot), this.mContent = u.noxcc.find("Center/LeftPanel/view/content", this.mRoot), this.mRightPanel = u.noxcc.find("Center/RightPanel", this.mRoot), o) {
                    var n = E[t];
                    console.log(n);
                    var a = u.noxcc.findButton(n[0], this.mRoot);
                    this.mAllToggles[t] = a, u.noxcc.addToggleClick(a, this, this.onToggleClick, t), this.mAllPages[t] = n[1]()
                }
                this.mActiveTab = ""
            }, t.prototype.onReleaseWidget = function () {
            }, t.prototype.onEnter = function () {
                e.prototype.onEnter.call(this);
                var t = this;
                h.ClientView.getResourceUI().setMode(g.Data.PropsId.yubi), h.ClientView.getResourceUI().node.setVisible(!0), this.mListeners = [], this.mListeners.push(g.Data.Event.union_dirty.addListener(null, function () {
                    h.ClientView.getActiveIndicator().hide(), t.updateTabs(), t.showTabFlag()
                })), this.mListeners.push(g.Data.Event.union_donate_done.addListener(null, function () {
                    h.ClientView.getActiveIndicator().hide(), t.updateTabs(), t.showTabFlag()
                })), this.mListeners.push(g.Data.Event.union_enter_dirty.addListener(null, function () {
                    h.ClientView.getActiveIndicator().hide(), t.syncData(), t.showTabFlag()
                })), t.mListeners.push(g.Data.Event.union_recall_dirty.addListener(null, function () {
                    t.showTabFlag()
                })), t.mListeners.push(g.Data.Event.union_task_dirty.addListener(null, function () {
                    t.showTabFlag()
                })), this.mListeners.push(g.Data.Event.union_exit_dirty.addListener(null, function () {
                    h.ClientView.getActiveIndicator().hide(), t.syncData(), t.showTabFlag()
                })), this.mListeners.push(g.Data.Event.union_edit_dirty.addListener(null, function () {
                    h.ClientView.getActiveIndicator().hide(), t.syncData(), t.showTabFlag()
                })), this.syncData()
            }, t.prototype.onExit = function () {
                e.prototype.onExit.call(this);
                for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                this.mListeners = []
            }, t.prototype.onToggleClick = function (e, t) {
                this.syncData(), this.showTab(e)
            }, t.prototype.syncData = function () {
                P.hasUnion() ? P._playerUnion._hasDetailInfo ? this.updateTabs() : (h.ClientView.getActiveIndicator().show(f.lcStr(m.STR.WAITING)), y.UnionPart.sendGetMyUnionDetail()) : this.updateTabs()
            }, t.prototype.updateTabs = function () {
                var e = P.hasUnion();
                this.mHasUnion != e && (e ? (u.noxcc.setActive(this.mNoUnion_content, !1), u.noxcc.setActive(this.mContent, !0), this.showTab("chat")) : (u.noxcc.setActive(this.mNoUnion_content, !0), u.noxcc.setActive(this.mContent, !1), this.showTab("create")), null != this.mHasUnion && null, this.mHasUnion = e), this.showTabFlag()
            }, t.prototype.showTab = function (e) {
                if (this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles) {
                    var n = this.mAllToggles[t], a = this.mAllPages[t];
                    t == e ? (u.noxcc.setActive(u.noxcc.find("icon", n.node), !0), a.show(this.mRightPanel)) : (u.noxcc.setActive(u.noxcc.find("icon", n.node), !1), a.hide())
                }
                this.showTabFlag()
            }, t.prototype.showTabFlag = function () {
                for (var e in this.mAllToggles) {
                    var t = this.mAllToggles[e];
                    e == o.contribute ? P._playerUnion.canDailyDonate() ? h.ClientView.checkNewFlag(t.node, 1, 30, 3) : h.ClientView.checkNewFlag(t.node, 0, 30, 3) : e == o.Adventure && h.ClientView.checkNewFlag(t.node, P._playerUnion.getCompleteUnionTaskNum() + P._playerUnion.getCompleteUnionLetNum(), 30, 3)
                }
            }, t.prototype.onUpdate = function (e) {
            }, t.create = function () {
                var e = new t;
                return e.init(), e
            }, t
        }(b.BaseUIScene);
        n.UnionScene = I, cc._RF.pop()
    }, {
        "../../leocool/lcStr": "lcStr",
        "../../noxcc": "noxcc",
        "../ClientData": "ClientData",
        "../ClientView": "ClientView",
        "../StringEnums": "StringEnums",
        "../const/SceneId": "SceneId",
        "../data/data": "data",
        "../part/UnionPart": "UnionPart",
        "../ui/AllViewTypes": "AllViewTypes",
        "../ui/panel/RankPanel": "RankPanel",
        "../ui/panel/union/UnionAdventureArea": "UnionAdventureArea",
        "../ui/panel/union/UnionChatArea": "UnionChatArea",
        "../ui/panel/union/UnionContributeArea": "UnionContributeArea",
        "../ui/panel/union/UnionCreateArea": "UnionCreateArea",
        "../ui/panel/union/UnionHallArea": "UnionHallArea",
        "../ui/panel/union/UnionSearchArea": "UnionSearchArea",
        "./BaseUIScene": "BaseUIScene",
        "./SceneManager": "SceneManager"
    }],
    UnionSearchArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "262d2VRl5RHnKsiABvYrF9N", "UnionSearchArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../utils/UIUtil"), r = e("../../../config/UICfg"),
            _ = e("../../../../leocool/lc"), s = e("../../../StringEnums"), c = e("../../../../leocool/lcStr"),
            l = e("../../../../noxcc"), d = e("../TopMostPanel"), p = e("../../../data/data"),
            u = e("../../../ClientView"), g = e("../../../part/UnionPart"), h = e("../../node/NodeWithListView"),
            f = e("../../widget/UnionWidget"), m = e("../../../ToastManager"), y = e("./UnionDetailForm"),
            T = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionSearchArea") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mSearch_btn = l.noxcc.findButton("top/SearchArea/search", this.mRoot), l.noxcc.addClick(this.mSearch_btn, this, this.onsearch), this.mContemt = l.noxcc.find("down/view/content", this.mRoot), this.mTop = l.noxcc.find("top", this.mRoot), this.mIptSearch = l.noxcc.findEditBox("top/SearchArea/EditBox", this.mRoot)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var n = this;
                    n.text = 1;
                    var a = o.UIUtil.createScale9ShaderButton("img_btn_green", null, r.UICfg.CRECT_COM_BG5, 180, 80),
                        i = o.UIUtil.createTTF("", r.UICfg.FontSize.S1);
                    _.lc.addChildToPosLB(a, i, cc.p(_.lc.w(a) / 2, _.lc.h(a) / 2 + 1)), _.lc.addChildToPosLB(n.mTop, a, cc.p(_.lc.w(a) / 2 + 30, _.lc.y(n.mSearch_btn.node) + 45));
                    var l = h.NodeWithListView.createV(cc.size(_.lc.w(n.mRoot) - 12, _.lc.bottom(n.mTop) + 8), 6, 0);
                    n.mUnionList = l, i.setString(c.lcStr(s.STR.UNION_NAME)), a._label = i, n._filter = t.FILTER.name, a._callback = function () {
                        var e = function (e, t) {
                                return {
                                    _str: e, _handler: function () {
                                        n._filter = t, a._label.setString(e)
                                    }.bind(n)
                                }
                            }.bind(n),
                            i = [e(c.lcStr(s.STR.UNION_NAME), t.FILTER.name), e(c.lcStr(s.STR.UNION) + " ID", t.FILTER.id)];
                        n.popSelectPanel(a, i)
                    }.bind(n), n.mBtnFilter = a, g.UnionPart.sendGetRecommandUnions(), n.addListeners()
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = [], this.mContemt.destroyAllChildren()
                }, t.prototype.addListeners = function () {
                    var e = this;
                    e.mListeners = [], e.mListeners.push(p.Data.Event.union_search_dirty.addListener(null, function () {
                        u.ClientView.getActiveIndicator().hide(), console.log("union_search_dirty"), e.updateUnionList(P._playerUnion.getSearchUnions())
                    })), e.mListeners.push(p.Data.Event.union_recommand_dirty.addListener(null, function () {
                        u.ClientView.getActiveIndicator().hide(), console.log("union_recommand_dirty"), e.updateUnionList(P._playerUnion.getRecommandUnions())
                    }))
                }, t.prototype.updateUnionList = function (e) {
                    var t = this;
                    l.noxcc.destroyAllChildren(t.mContemt), t.text = 2, _.lc.V(t.mIndicator) && (t.mIndicator.removeFromParent(), t.mIndicator = null);
                    var n = t.mUnionList;
                    n.bindData(e, function (e, n) {
                        t.setOrCreateUnionItem(e, n)
                    }.bind(t), Math.min(6, e.length), 0);
                    for (var a = 0; a < n._cacheCount; ++a) {
                        var i = t.setOrCreateUnionItem(null, e[a]);
                        t.mContemt.addChild(i)
                    }
                    n.checkEmpty(c.lcStr(s.STR.LIST_EMPTY_SEARCH)), 0 != e.length && n.gotoTop()
                }, t.prototype.setOrCreateUnionItem = function (e, t) {
                    if (null == e) {
                        (e = o.UIUtil.createScale9ShaderButton("img_com_bg_2", null, r.UICfg.CRECT_COM_BG5, _.lc.w(this.mContemt) - 30, 80)).setContentSize(_.lc.w(this.mContemt), 140), e.setTouchEndCancelRange(r.UICfg.BUDGE_LIMIT);
                        var n = f.UnionWidget.create(t, !0);
                        _.lc.addChildToPosLB(e, n.node, cc.p(70, _.lc.h(e) / 2)), e._unionWidget = n;
                        var a = o.UIUtil.createTTF("", r.UICfg.FontSize.S2, r.UICfg.COLOR_TEXT_WHITE);
                        a.setAnchorPoint(1, .5), _.lc.addChildToPosLB(e, a, cc.p(_.lc.w(e) - 50, _.lc.h(e) / 2 + 20)), e._joinType = a;
                        var i = o.UIUtil.createTTF(t._announce, r.UICfg.FontSize.S2, r.UICfg.COLOR_TEXT_WHITE);
                        i.setAnchorPoint(1, .5), _.lc.addChildToPosLB(e, i, cc.p(_.lc.x(a), _.lc.h(e) / 2 - 20)), e._level = i
                    }
                    if (e._joinType.setString(c.lcStr(s.STR.UNION_TYPE_ANY + t._joinType - 1)), t._reqLevel > 0 ? e._level.setString(string.format("Lv%d", t._reqLevel)) : e._level.setString(""), e._callback = function (n, a) {
                        P.hasUnion() ? parseInt(t._id) != parseInt(P._unionId) && y.UnionDetailForm.create(e._union._id).show() : u.ClientView.operateUnion(e._union, e)
                    }.bind(this), !P.hasUnion() && t._joinType != p.Data.UnionJoinType.close) {
                        _.lc.offset(e._joinType, -120);
                        var d = o.UIUtil.createScale9ShaderButton("img_btn_green_s", function () {
                            m.ToastManager.push(c.lcStr(s.STR.UNION_APPLY_SEND)), g.UnionPart.sendUnionApply(t._id, c.lcStr(s.STR.UNION_APPLY_MSG))
                        }, r.UICfg.CRECT_BUTTON_S, 220);
                        console.log(t._joinType), d.addLabel(string.format(l.noxcc.getString(e._level) + c.lcStr(s.STR.UNION_TYPE_ANY + t._joinType - 1))), (P.getMaxCharacterLevel() < p.Data.UNION_UNLOCK_LEVEL || P.getMaxCharacterLevel() < t._reqLevel) && (d.setDisabledShader(r.UICfg.SHADER_DISABLE), d.setEnabled(!1)), _.lc.addChildToPosLB(e, d, cc.p(_.lc.w(e) - _.lc.w(d) / 2 - 20, _.lc.ch(e))), _.lc.offset(e._joinType, -_.lc.w(d) / 2), e._level.setString("")
                    }
                    return e._union = t, e
                }, t.prototype.popSelectPanel = function (e, t) {
                    var n = d.TopMostPanel.ButtonList.create(cc.size(200, _.lc.h(this.mRoot)), "");
                    _.lc.V(n) && (n.setButtonDefs(t), n.node.setPosition(-300, 150), n.linkNode(e), n.show())
                }, t.prototype.onsearch = function () {
                    var e = l.noxcc.getString(this.mIptSearch);
                    if (l.noxcc.setString(this.mIptSearch, ""), "" == e) this.mIndicator = u.ClientView.showPanelActiveIndicator(this.mRoot), g.UnionPart.sendGetRecommandUnions(); else {
                        var n = this._filter;
                        if (n != t.FILTER.id && n != t.FILTER.level || (e = _.lc.tonumber(e)), null == e) return void m.ToastManager.push(c.lcStr(s.STR.INVALID_SEARCH));
                        this.mIndicator = u.ClientView.showPanelActiveIndicator(this.mRoot), g.UnionPart.sendGetSearchUnions(["name", "id", "level"][n - 1], e)
                    }
                }, t.create = function () {
                    return new t
                }, t.FILTER = {name: 1, id: 2, level: 3}, t
            }(i.BasePage);
        n.UnionSearchArea = T, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../config/UICfg": "UICfg",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView",
        "../../widget/UnionWidget": "UnionWidget",
        "../TopMostPanel": "TopMostPanel",
        "./UnionDetailForm": "UnionDetailForm"
    }],
    UnionTaskForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "edc92F2dTpMy5neV92izKJD", "UnionTaskForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BaseForm"), o = e("../../AllViewTypes"), r = e("../../../../noxcc"),
            _ = e("../../../data/data"), s = e("../../../part/UnionPart"), c = e("../../widget/IconWidget"),
            l = e("../../../ClientView"), d = e("../../../../nox"), p = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.UnionTaskForm) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    this.mTaskId = e, this.mFromType = t, this.mCloseCallback = n
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    this.mFitSprite = r.noxcc.find("Node/unionlet", this.mRoot), this.mUsableSprite = r.noxcc.find("Node/unionlet2", this.mRoot), this.mBackBtn = r.noxcc.findButton("bg", this.mRoot), this.mtitle = r.noxcc.find("Node/union_task_title/title", this.mRoot), this.mtitle2 = r.noxcc.find("Node/union_task_title2/title", this.mRoot), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn)
                }, t.prototype.spriteID = function (e) {
                    return e
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    2 == this.mFromType ? (l.ClientView.getActiveIndicator().show(), s.UnionPart.sendUnionShareCardInfo(this.mTaskId)) : t.updatesprie(), t.mListeners = [], t.mListeners.push(_.Data.Event.union_card_dirty.addListener(null, function () {
                        l.ClientView.getActiveIndicator().hide(), t.unionsprite()
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = []
                }, t.prototype.unionsprite = function () {
                    var e = this, t = P._playerUnion._ShareCardList.share_card_list,
                        n = P._playerUnion._ShareCardList.recommend_card;
                    e.mtitle.setVisible(!0), e.mtitle2.setVisible(!0);
                    _.Data._unionTaskInfo[e.mTaskId];
                    e.mUsableSprite.removeAllChildren();
                    for (var a = function (n) {
                        for (var a = function (a) {
                            var i = c.IconWidget.create({_infoId: t[n].lend_card[a].card_id}, 0);
                            i._spriteID = t[n].lend_card[a].card_id, i.registCallback(function () {
                                e.mCloseCallback && e.mCloseCallback(i._spriteID, t[n].user_id), e.hide()
                            }), r.noxcc.addChild(e.mUsableSprite, i.node), e.mtitle2.setVisible(!1)
                        }, i = 0; i < t[n].lend_card.length; i++) a(i)
                    }, i = 0; i < t.length; i++) a(i);
                    e.mFitSprite.removeAllChildren();
                    var o = function (a) {
                        for (var i = function (i) {
                            var o = c.IconWidget.create({_infoId: n[a].lend_card[i].card_id}, 0);
                            o._spriteID = n[a].lend_card[i].card_id, o.registCallback(function () {
                                e.mCloseCallback && e.mCloseCallback(o._spriteID, t[a].user_id), e.hide()
                            }), r.noxcc.addChild(e.mFitSprite, o.node), e.mtitle.setVisible(!1)
                        }, o = 0; o < n[a].lend_card.length; o++) i(o)
                    };
                    for (i = 0; i < n.length; i++) o(i)
                }, t.prototype.updatesprie = function () {
                    var e = this;
                    e.mtitle.setVisible(!0), e.mtitle2.setVisible(!0);
                    var t = _.Data._unionTaskInfo[e.mTaskId], n = function (n) {
                        var a = _.Data._monsterInfo[n], i = c.IconWidget.create({_infoId: a._id}, 0);
                        i._spriteID = a._id, i.registCallback(function () {
                            e.mCloseCallback && e.mCloseCallback(i._spriteID), e.hide()
                        }), a._quality > 3 && (d.nox.toNumber(n) == t._monsterId ? (e.mtitle.setVisible(!1), e.mFitSprite.addChild(i.node)) : (e.mtitle2.setVisible(!1), r.noxcc.addChild(e.mUsableSprite, i.node)))
                    };
                    for (var a in P._playerCard._monsters) n(a)
                }, t.prototype.onBackBtn = function () {
                    this.hide(), this.mCloseCallback && this.mCloseCallback(0)
                }, t.create = function (e, n, a) {
                    var i = new t;
                    return i.init(e, n, a), i
                }, t
            }(i.BaseForm);
        n.UnionTaskForm = p, function (e) {
            (function (e) {
                e[e.palyer = 1] = "palyer", e[e.union = 2] = "union"
            })(e.FromType || (e.FromType = {}))
        }(p = n.UnionTaskForm || (n.UnionTaskForm = {})), n.UnionTaskForm = p, cc._RF.pop()
    }, {
        "../../../../nox": "nox",
        "../../../../noxcc": "noxcc",
        "../../../ClientView": "ClientView",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../AllViewTypes": "AllViewTypes",
        "../../BaseForm": "BaseForm",
        "../../widget/IconWidget": "IconWidget"
    }],
    UnionTech: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "587ca9dHbNA2KaiDTV51P93", "UnionTech"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = function () {
            return function () {
            }
        }();
        n.UnionTech = a, cc._RF.pop()
    }, {}],
    UnionUnionArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c60a9YNGbJL2aIO9HnhMaFr", "UnionUnionArea");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../leocool/lc"), r = e("../../../utils/UIUtil"),
            _ = e("../../../data/Union/Union"), s = e("../../node/NodeWithListView"), c = e("../../../data/data"),
            l = e("../../../utils/MsgCenter"), d = e("../../../part/UnionPart"), p = function (e) {
                function t() {
                    return e.call(this, "panel/unionpanel/UnionUnionArea") || this
                }

                return a(t, e), t.prototype.init = function (e) {
                    this.mUnionID = e;
                    var t = s.NodeWithListView.createV(cc.size(200, 100), 6, 0);
                    this._memList = t
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this)
                }, t.prototype.updateView = function (e) {
                    if (this.updateMemberList(e.getMembers()), parseInt(this.mUnionID.toString()) == parseInt(P._unionId.toString())) {
                        e._act;
                        var t = P._playerUnion.getUnionUpgradeExp();
                        t.shift(), t.shift()
                    }
                }, t.prototype.updateMemberList = function (e) {
                    var t = this;
                    e.sort(function (e, t) {
                        return e._unionJob == t._unionJob ? e._level == t._level ? t._lastLogin - e._lastLogin : t._level - e._level : t._unionJob - e._unionJob
                    });
                    var n = t._memList;
                    n.bindData(e, function (e, n) {
                        t.setOrCreateMemberItem(e, n)
                    }, Math.min(6, e.length), 0);
                    for (var a = 0; a < n._cacheCount; ++a) {
                        t.setOrCreateMemberItem(null, e[a]).setParent(t.mRoot)
                    }
                }, t.prototype.setOrCreateMemberItem = function (e, t) {
                    var n = parseInt(this.mUnionID.toString()) == parseInt(P._unionId.toString());
                    return null == e && (e = r.UIUtil.createUnionMemberItem(t, 700, !0), n || P.isUserAdmin() || (e._lastLogin.setVisible(!1), e._lastLogin._value.setVisible(!1))), e.update(t), n && o.lc.V(e._btn) && (e._btn.removeFromParent(), e._btn = null), e
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t.mListeners = [], t.mListeners.push(c.Data.Event.user_dirty.addListener(null, function (e) {
                        for (var n = t._memList.getItems(), a = 0; a < n.length; ++a) {
                            var i = n[a];
                            if (i._member == e._data) {
                                t.setOrCreateMemberItem(i, e._data).setParent(t.mRoot);
                                break
                            }
                        }
                    }));
                    (function () {
                        t.updateView(P._playerUnion.getMyUnion())
                    }).bind(this);
                    if (t.mListeners.push(c.Data.Event.union_dirty.addListener(null, function () {
                    })), t.mListeners.push(c.Data.Event.union_edit_dirty.addListener(null, function () {
                    })), t.mListeners.push(c.Data.Event.union_member_dirty.addListener(null, function () {
                    })), t.mListeners.push(c.Data.Event.union_level_upgrade.addListener(null, function () {
                    })), t.mListeners.push(c.Data.Event.union_res_dirty.addListener(null, function () {
                    })), l.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0), parseInt(P._unionId.toString()) == parseInt(t.mUnionID.toString())) {
                        var n = P._playerUnion.getMyUnion();
                        o.lc.V(n) && t.updateView(n)
                    } else d.UnionPart.sendGetUnionDetail(t.mUnionID)
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_DETAIL) {
                        var t = e.getExtensions_Union_pb_SglUnionMsg_union_detail_resp();
                        if (parseInt(t.union_info.id) == parseInt(this.mUnionID.toString())) {
                            var n = _.Union.create(t.union_info, t.member_info);
                            o.lc.V(n) && this.updateView(n)
                        }
                    }
                    return !1
                }, t.prototype.onExit = function () {
                    for (var t = 0; t < this.mListeners.length; t++) this.mListeners[t].remove();
                    this.mListeners = [], e.prototype.onExit.call(this)
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BasePage);
        n.UnionUnionArea = p, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../data/Union/Union": "Union",
        "../../../data/data": "data",
        "../../../part/UnionPart": "UnionPart",
        "../../../utils/MsgCenter": "MsgCenter",
        "../../../utils/UIUtil": "UIUtil",
        "../../BasePage": "BasePage",
        "../../node/NodeWithListView": "NodeWithListView"
    }],
    UnionWarPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "abe3bn8JmRBE7FRtWQ/yqE/", "UnionWarPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendUnionBattleJoin = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_UNION_WAR_BATTLE_JOIN, t.setExtensions_UnionWar_pb_SglUnionWarMsg_union_battle_join_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendCreateGroup = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_CREATE_TEAM;
                var i = n.addExtensions_UnionWar_pb_SglUnionWarMsg_masswar_create_team_req();
                i.team_name = e, i.team_avatar = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendGetGroups = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUERY_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendStopUpdateGroups = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUIT_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendExitGroup = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUIT_TEAM, t.addExtensions_UnionWar_pb_SglUnionWarMsg_masswar_team_user_id().team_id = e, a.NetUtil.sendProtoMsg(t)
            }, e.sendGroupKick = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_KICK_OUT_TEAM;
                var i = n.addExtensions_UnionWar_pb_SglUnionWarMsg_masswar_team_user_id();
                i.team_id = e, i.user_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendGroupJoin = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_JOIN_TEAM, t.addExtensions_UnionWar_pb_SglUnionWarMsg_masswar_team_user_id().team_id = e, a.NetUtil.sendProtoMsg(t)
            }, e.sendGetGroupCards = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_LOAD_CARDS, a.NetUtil.sendProtoMsg(e)
            }, e.sendStartUnionBattle = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_START, a.NetUtil.sendProtoMsg(e)
            }, e.sendQuitUnionBattle = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_MASSWAR_MULTIPLE_QUIT, a.NetUtil.sendProtoMsg(e)
            }, e.sendGetPreRanks = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_RANK_MASSWAR_MULTIPLE_PRE, a.NetUtil.sendProtoMsg(e)
            }
        })(n.UnionWarPart || (n.UnionWarPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    UnionWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7a65aYQqlpNNqQNQpdm1ZBL", "UnionWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../data/Union/Union"), o = e("../../../leocool/lc"), r = e("../../../noxcc"),
            _ = e("../../utils/SpriteUtil"), s = e("../node/NodeWithLabel"), c = e("../../config/UICfg"),
            l = e("../../utils/UIUtil"), d = e("../../../nox"), p = e("../../BaseComponent"), u = e("../form/DescForm"),
            g = e("../../data/data"), h = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return a(t, e), t.prototype.init = function (e, t, n) {
                    e._id, P._unionId;
                    var a = _.SpriteUtil.createSprite(string.format("img_badge_%d", e._badge)).node;
                    if (a.setScale(n ? .9 : .62), o.lc.addChildToPosAR(this.node, a, cc.v2(0, 0)), this._badge = a, t) {
                        var i = _.SpriteUtil.createSprite("img_glow").node;
                        i.setScale(.5), o.lc.addChildToPosAR(this.node, i, a.getPosition(), -1)
                    }
                    var r = _.SpriteUtil.createSprite({
                        _name: "avatar_name_bg",
                        _crect: cc.rect(2, 0, 3, 36),
                        _size: cc.size(230, 36)
                    }), d = o.lc.createNode(r.node.getContentSize(), cc.v2(0, -o.lc.ch(r.node)), cc.v2(0, 0));
                    o.lc.addChildToCenter(d, r.node), this._nameBg = r;
                    var p = n ? l.UIUtil.createTTF("", c.UICfg.FontSize.M2) : l.UIUtil.createTTFBold("", c.UICfg.FontSize.M2);
                    if (p.setAnchorPoint(0, .5), o.lc.addChildToPosAR(d, p, cc.v2(n ? 0 : 16, o.lc.ch(d))), this._nameLabel = p, n ? o.lc.addChildToPosAR(this.node, d, cc.p(o.lc.right(a) + 13, o.lc.top(a) - o.lc.h(d) / 2 + 40), -1) : o.lc.addChildToPosAR(this.node, d, cc.v2(o.lc.right(a) - 1, o.lc.top(a) - o.lc.h(d) / 2 - 30), -1), this._nameArea = d, this._levelLabel = s.NodeWithLabel.createTTF("", c.UICfg.FontSize.M2), this._idLabel = n ? l.UIUtil.addIconValue(this.node, "img_icon_id", 0, o.lc.left(d) + 15, o.lc.bottom(d) - 30) : l.UIUtil.addIconValue(d, "img_icon_id", 0, o.lc.left(d) - 10, o.lc.bottom(d) - 26), this._memberLabel = l.UIUtil.addIconValue(d, "img_icon_troop", 0, o.lc.right(this._idLabel.value) + 100, o.lc.y(this._idLabel.value)), n) {
                        var h = l.UIUtil.createShaderButton(null, function () {
                            u.DescForm.create({_infoId: g.Data.ResType.union_act}).show()
                        });
                        h.setContentSize(cc.size(220, 50)), o.lc.addChildToPosLB(this.node, h, cc.p(o.lc.left(this._nameArea) + 125, o.lc.bottom(this._memberLabel.value) - 50)), this._expBar = l.UIUtil.addUnionPersonalPowerBar(h, g.Data.ResType.union_act, 0, 50, 220)
                    } else e && this.setUnion(e)
                }, t.prototype.setName = function (e) {
                    this._nameLabel.setString(e), this._nameLabel.setScale(Math.min(172 / o.lc.w(this._nameLabel), .8))
                }, t.prototype.setUnion = function (e) {
                    this._union = e, this._levelLabel.setString(d.nox.toString(e._level)), this._nameLabel.setString(e._name), r.noxcc.setString(this._idLabel.value, i.Union.convertId(e._id).toString()), r.noxcc.setString(this._memberLabel.value, string.format("%d/%d", e.getMembersNum(), e._memberCapacity))
                }, t.create = function (e, n) {
                    var a = o.lc.createNode(t.SIZE).addComponent(t);
                    return a.init(e, n), a
                }, t.SIZE = cc.size(400, 96), t
            }(p.BaseComponent);
        n.UnionWidget = h, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../config/UICfg": "UICfg",
        "../../data/Union/Union": "Union",
        "../../data/data": "data",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../form/DescForm": "DescForm",
        "../node/NodeWithLabel": "NodeWithLabel"
    }],
    Union: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0e296Cwf59Nvba77MyoAIKo", "Union"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../Social/User"), o = function () {
            function e(t) {
                this._id = t, e.Unions[t] = this
            }

            return e.convertId = function (e, t) {
                var n = function (e) {
                    return (255 & e) << 8 | e >> 8 & 255
                };
                return t ? e >= 75536 ? 65536 + Math.floor((e - 75536) / 8) : n(e -= 1e4) : e >= 65536 ? 75536 + 8 * (e - 65536) : n(e) + 1e4
            }, e.prototype.clear = function () {
                e.Unions[this._id] = null
            }, e.prototype.updateInfo = function (e, t) {
                void 0 === t && (t = !1), this._id = e.id, this._name = e.name, this._level = e.level, this._reqLevel = e.required_level, this._joinType = e.type, this._badge = e.avatar, this._word = e.tag, this._memberNum = e.member, this._memberCapacity = a.Data._globalInfo._unionMaxMember[this._level - 1], this._announce = e.announcement || "", t && (this._gold = e.gold, this._wood = e.wood, this._act = e.exp)
            }, e.prototype.updateBosses = function (e, t) {
            }, e.prototype.updateTechs = function (e) {
            }, e.prototype.updateImpeach = function (e) {
            }, e.prototype.addHire = function (e) {
            }, e.prototype.setAllHired = function (e) {
            }, e.prototype.genContribution = function (e) {
                void 0 === e && (e = 0);
                var t = {};
                return t[a.Data.ResType.union_act.toString()] = e, t
            }, e.prototype.genActivePoint = function (e) {
                void 0 === e && (e = 0);
                var t = {};
                return t[a.Data.ResType.union_personal_power.toString()] = e, t
            }, e.prototype.contribute = function (e, t, n) {
                var a = this.getContribution(e), i = a.shift(), o = a.shift();
                i[t] = i[t] + n, o[t] = o[t] + n
            }, e.prototype.getActivePoint = function (e) {
                var t = this._dailyActivePoints[e];
                return null == t && (t = this.genActivePoint(), this._dailyActivePoints[e] = t), t
            }, e.prototype.getContribution = function (e) {
                var t = this._dailyContributes[e];
                null == t && (t = this.genContribution(), this._dailyContributes[e] = t);
                var n = this._weeklyContributes[e];
                return null == n && (n = this.genContribution(), this._weeklyContributes[e] = n), [t, n]
            }, e.prototype.getMembersNum = function () {
                return this._memberNum
            }, e.prototype.getMembers = function () {
                var e = [];
                if (null != this._members) for (var t in this._members) e.push(this._members[t]);
                return e
            }, e.prototype.addMember = function (e) {
                null == this._members[e._id] && (this._members[e._id] = e, this._memberNum = this._memberNum + 1, a.Data.Event.union_member_dirty.dispatchEvent())
            }, e.prototype.removeMember = function (e) {
                this._members[e] && (delete this._members[e], this._memberNum = this._memberNum - 1, a.Data.Event.union_member_dirty.dispatchEvent())
            }, e.prototype.findMember = function (e) {
                return null == this._members ? null : this._members[e]
            }, e.prototype.getMaxLevel = function () {
                return a.Data._globalInfo._unionLevelupExp.length
            }, e.prototype.upgrade = function () {
                this._act && (this._act = this._act - this.getLevelupAct(), this.sendUnionResDirty()), this._level = this._level + 1, this._memberCapacity = this._memberCapacity < 140 ? this._memberCapacity + 20 : 160
            }, e.prototype.getLevelupGold = function () {
            }, e.prototype.getLevelupWood = function () {
            }, e.prototype.getLevelupAct = function () {
                return a.Data._globalInfo._unionLevelupExp[this._level]
            }, e.prototype.addBoss = function (e) {
            }, e.prototype.unlockBoss = function (e) {
            }, e.prototype.getMemberBossScore = function (e, t) {
                return 0
            }, e.prototype.getMemberBossCount = function (e, t) {
                return 0
            }, e.prototype.addTech = function (e) {
            }, e.prototype.upgradeTech = function (e, t) {
            }, e.prototype.sendUnionDirty = function () {
                a.Data.Event.union_dirty.dispatchEvent({_data: this})
            }, e.prototype.sendUnionResDirty = function (e) {
                void 0 === e && (e = null), a.Data.Event.union_res_dirty.dispatchEvent({_infoId: e})
            }, e.create = function (t, n, a) {
                if (void 0 === n && (n = null), void 0 === a && (a = null), 0 == t.member) return null;
                var o;
                if (e.Unions[t.id] ? o = e.Unions[t.id] : ((o = new e(t.id))._members = {}, o._dailyContributes = {}, o._weeklyContributes = {}, o._dailyActivePoints = {}, o._hires = {}, o._bosses = {}, o._techs = {}, o._impeach = {}), o.updateInfo(t, null != a), null != n) for (var r = 0; r < n.length; r++) {
                    var _ = n[r], s = i.User.create(_, !0);
                    o._members[s._id] = s
                }
                if (null != a) {
                    var c = a.weekly_donates, l = a.daily_donates;
                    if (null != c && null != l) {
                        var d = o._weeklyContributes;
                        for (r = 0; r < c.length; r++) {
                            d[(u = c[r]).id] = o.genContribution(u.exp)
                        }
                        var p = o._dailyContributes;
                        for (r = 0; r < l.length; r++) {
                            var u;
                            p[(u = l[r]).id] = o.genContribution(u.exp)
                        }
                        var g = o._dailyActivePoints;
                        for (r = 0; r < l.length; ++r) {
                            var h = l[r];
                            g[h.id] = o.genActivePoint(h.power), parseInt(P._id) == parseInt(h.id) && (P._playerUnion._myActivityPoint = h.power)
                        }
                    }
                    var f = a.lets;
                    if (null != f) for (r = 0; r < f.length; r++) o.addHire(f[r]);
                    o.updateBosses(a.data.bosses, a.focuses), o.updateTechs(a.data.techs), o.updateImpeach(a.impeaches);
                    var m = a.data.props;
                    if (null != m) for (r = 0; r < m.length; r++) {
                        var y = m[r];
                        P._propBag.setProps(y.info_id, y.num)
                    }
                }
                return o
            }, e
        }();
        n.Union = o, cc._RF.pop()
    }, {"../Social/User": "User", "../data": "data"}],
    UserPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4d478xJZmtLlrdZ3aSDutfz", "UserPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendUserVisitRegion = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_VISIT_EX, t.addExtensions_User_pb_SglUserMsg_user_visit_req().visit = e, a.NetUtil.sendProtoMsg(t)
            }, e.sendUserVisitRegionEX = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_VISIT_WORLD, t.addExtensions_User_pb_SglUserMsg_user_visit_req().visit = e, a.NetUtil.sendProtoMsg(t)
            }, e.sendSetSkin = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_SKIN;
                var i = n.addExtensions_User_pb_SglUserMsg_user_set_skin_req();
                i.info_id = e, i.skin_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendSetRoleSkin = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_CHARACTER_SKIN;
                var i = n.addExtensions_User_pb_SglUserMsg_user_set_skin_req();
                i.info_id = e, i.skin_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendExchangeProps = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PROP_EXCHANGE, t.setExtensions_User_pb_SglUserMsg_user_exchange_prop_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendPropsToOther = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_SEND_GIFT;
                var i = n.addExtensions_User_pb_SglUserMsg_player_send_gift_req();
                i.target_id = e, i.info_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.useBaoXiangFormSend = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USE_GIFT;
                var i = n.addExtensions_User_pb_SglUserMsg_player_use_gift_box_item_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendPropsOfRose = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_SEND_ROSE;
                var o = i.addExtensions_User_pb_SglUserMsg_player_send_gift_req();
                o.target_id = e, o.info_id = t, o.num = n, a.NetUtil.sendProtoMsg(i)
            }, e.userOpenBoxHalloween = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_HALLOWEEN_OPEN_BOX;
                var i = n.addExtensions_User_pb_SglUserMsg_user_open_box_halloween_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendUseVipCard = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_APPLY_VIP_CARD, t.setExtensions_User_pb_SglUserMsg_user_apply_vip_card_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUseLevelCard = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USE_EXPERIENCE_CARD;
                var i = n.addExtensions_User_pb_SglUserMsg_use_experience_card_req();
                i.info_id = e, i.num = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendNewProps = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_PLAYER_NEW_PROPS, a.NetUtil.sendProtoMsg(e)
            }, e.sendRedeemCode = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CLAIM_GIFT, t.setExtensions_User_pb_SglUserMsg_user_claim_gift_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendChangeName = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_NAME, t.setExtensions_User_pb_SglUserMsg_user_set_name_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSetAvatar = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_AVATAR, t.setExtensions_User_pb_SglUserMsg_user_set_avatar_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSetAvatarFrame = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_AVATAR_FRAME, t.setExtensions_User_pb_SglUserMsg_user_set_avatar_frame_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSetCardBack = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_CARD_BACK, t.setExtensions_User_pb_SglUserMsg_user_set_card_back_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendSetMedal = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_BADGE, t.setExtensions_User_pb_SglUserMsg_user_set_badge_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUserGiftExchange = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CLAIM_GIFT, t.setExtensions_User_pb_SglUserMsg_user_claim_gift_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendChatBan = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_BAN_CHAT, t.setExtensions_User_pb_SglUserMsg_user_ban_chat_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUnlockCharacter = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_UNLOCK_CHARACTER;
                var i = n.addExtensions_User_pb_SglUserMsg_user_unlock_character_req();
                i.char_id = e, i.use_ingot = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendSetCharacter = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_CHARACTER, n.setExtensions_User_pb_SglUserMsg_user_set_character_req(e), t && a.NetUtil.appendGuideIdIfNeed(n), a.NetUtil.sendProtoMsg(n)
            }, e.sendUnionUpgradeTechSelf = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_TECH_UPGRADE, t.setExtensions_User_pb_SglUserMsg_user_tech_upgrade_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGiveFund = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_GIVE_FUND, t.setExtensions_User_pb_SglUserMsg_user_give_fund_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetInviteCode = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_GET_INVITE_CODE, a.NetUtil.sendProtoMsg(e)
            }, e.sendGetInviteInfo = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CHECK_INVITE_CODE, t.setExtensions_User_pb_SglUserMsg_user_check_invite_code_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendBindInvite = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_BIND_INVITE_CODE, t.setExtensions_User_pb_SglUserMsg_user_bind_invite_code_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendQueryGcid = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_QUERY_GCID, "" != e && "UDID" != e && t.setExtensions_User_pb_SglUserMsg_user_gcid_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUserEvent = function (e) {
                if (a.NetUtil.isLogin()) {
                    var t = SglMsg_pb.SglReqMsg.create();
                    t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_SET_EVENT, t.setExtensions_User_pb_SglUserMsg_user_set_event_req(json.encode(e)), a.NetUtil.sendProtoMsg(t)
                }
            }, e.sendGetWorshipRank = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_GET_HALLOFFAME_INFO, a.NetUtil.sendProtoMsg(e)
            }, e.sendClickWorship = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_WORSHIP;
                var i = n.addExtensions_User_pb_SglUserMsg_user_worship_req();
                i.code = e, i.is_free = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendSevenRecharge = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_PAY_SIGN, a.NetUtil.sendProtoMsg(e)
            }, e.sendOnlineCheckIn = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_ONLINE_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendMonthCheckRecharge = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_RE_CHECK_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendNewServerBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_OPEN_SERVER_LOGIN, t.setExtensions_User_pb_SglUserMsg_user_bouns_id_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetNewGuidance = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_OPEN_SERVER_HELP_ROOKIE, t.setExtensions_User_pb_SglUserMsg_open_sever_help_rookie_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendNewnoviceBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_BONUS_CLAIM, t.setExtensions_Bonus_pb_SglBonusMsg_bonus_claim_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetNewGuidanceBonus = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_OPEN_SERVER_HELP_ROOKIE_BONUS, t.setExtensions_User_pb_SglUserMsg_user_bouns_id_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendAnniversarySignExchange = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CUMULATIVE_TIME_EXCHANGE, t.setExtensions_User_pb_SglUserMsg_user_online_time_exchange_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendGetAnniversaryWheel = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_CONSUME_INGOT_INFO, a.NetUtil.sendProtoMsg(t)
            }, e.sendExchangeMedal = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_SHOP_BUY_MEDAL_SHOP, t.setExtensions_Shop_pb_SglShopMsg_shop_buy_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendUserVisit = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_VISIT;
                var i = n.addExtensions_User_pb_SglUserMsg_user_visit_req();
                i.visit = e, i.type = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendRechargeRank = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_TOP_UP_RANK, a.NetUtil.sendProtoMsg(e)
            }, e.monitors = ["sendUserGiftExchange", "sendRedeemCode"]
        })(n.UserPart || (n.UserPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    UserWidget2: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0395e6lmFxMr7oM5Z4xdt0x", "UserWidget2"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../BaseComponent"), i = e("../../../leocool/lc"), o = e("../form/LordForm"),
            r = e("../../utils/SpriteUtil"), _ = e("../../utils/UIUtil"), s = e("../node/NodeWithLabel"),
            c = e("../../config/UICfg"), l = e("../../ClientData"), d = e("../../data/data"),
            p = e("../../../leocool/lcAppCfg"), u = e("../../utils/LoginData"), g = e("../../../nox"),
            h = e("../../utils/SpineUtil"), f = e("../../../noxcc"), m = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, n, a, l) {
                    this._user = e, this._flag = i.lc.D(n, 0), this._isFlipX = i.lc.D(l, !1);
                    var d = i.lc.createNode(cc.size(t.FRAME_SIZE, t.FRAME_SIZE));
                    this._frameBox = r.SpriteUtil.createScale9Sprite("avatar_frame_001");
                    var p = this._frameBox.node;
                    if (p.setContentSize(d.getContentSize()), d.addChild(p, 1), 0 != (this._flag & t.Flag.CLICKABLE)) {
                        var u = d.addComponent(cc.Button);
                        u.zoomScale = .95, u.duration = .1, u.target = d, u.transition = cc.Button.Transition.SCALE, f.noxcc.addClick(u, function () {
                            o.LordForm.show()
                        })
                    }
                    null != a && d.setScale(a), this._frameSize = i.lc.makeEven(t.FRAME_SIZE * d.scale), this._frame = d;
                    var g = this._frameSize, h = this._frameSize;
                    this.node.setContentSize(g, h), i.lc.addChildToPosAR(this.node, d, cc.p(0, 0));
                    var m = r.SpriteUtil.createSprite("card_icon_unknow").node;
                    if (m.setScale(1.18, 1.1), i.lc.addChildToPosAR(d, m, cc.v2(0, 5)), this._avatar = m, 0 != (this._flag & t.Flag.LEVEL_NAME)) {
                        g = g + t.AVATAR_GAP + t.NAME_WIDTH, this.node.setContentSize(g, h);
                        var y = _.UIUtil.createLevelNameArea(0, "", this._isFlipX, t.NAME_WIDTH, h);
                        if (this.node.addChild(y), this._nameArea = y, 0 != (this._flag & t.Flag.REGION)) {
                            var T = s.NodeWithLabel.createBMFont(c.UICfg.BMFont.huali_26, "0");
                            T.setAnchorPoint(0, 0), this.node.addChild(T), this._regionArea = T
                        }
                    }
                    if (0 != (this._flag & t.Flag.UNION)) {
                        0 == g && (g = g + t.AVATAR_GAP + t.NAME_WIDTH, this.node.setContentSize(g, h));
                        var S = _.UIUtil.createUnionInfoArea(e, this._isFlipX);
                        this.node.addChild(S), this._unionArea = S
                    }
                    null != e && this.setUser(e, !0)
                }, t.prototype.setUser = function (e, n) {
                    if (this._user = e, this.setAvatar(e), this.setLevel(e._level), this.setRegion(e._regionId), this.setName(e._name), 0 != (this._flag & t.Flag.VIP) && this.setVip(e._vip), e._unionId && e._unionId > 0 ? null != this._unionArea && (this._unionArea.setVisible(!0), this.setUnion(e._unionBadge, e._unionWord, e._unionName)) : null != this._unionArea && this._unionArea.setVisible(!1), n) {
                        i.lc.atop(this.node);
                        if (this._isFlipX) {
                            this._frame.zIndex = 0, g.nox.alignNodeX(this._frame, [0, 1]);
                            var a = i.lc.left(this._frame) - t.AVATAR_GAP;
                            this._nameArea && (this._nameArea.zIndex = 1, this._nameArea.setPosition(a - g.nox.asright(this._nameArea), g.nox.atop(this.node) - g.nox.astop(this._nameArea)), g.nox.alignNode(this._nameArea, [a, 1], [0, 1]), this._regionArea && this._regionArea.isVisible() && (this._regionArea.zIndex = 1, this._regionArea.setPosition(i.lc.left(this._nameArea) - i.lc.asright(this._regionArea) - 2, i.lc.abottom(this._regionArea) + i.lc.ash(this._regionArea) - 2)), a = i.lc.left(this._nameArea) - t.AVATAR_GAP), this._unionArea && this._unionArea.isVisible() && (this._unionArea.zIndex = 2, g.nox.alignNode(this._unionArea, [a, 1], [0, 1]), a = i.lc.left(this._unionArea) - t.AVATAR_GAP)
                        } else {
                            this._frame.zIndex = 2, g.nox.alignNodeX(this._frame, [0, 0]);
                            var o = i.lc.right(this._frame) + t.AVATAR_GAP;
                            this._nameArea && (this._nameArea.zIndex = 1, this._nameArea.setPosition(o + g.nox.asw(this._nameArea), g.nox.atop(this.node) - g.nox.astop(this._nameArea)), this._regionArea && this._regionArea.isVisible() && (this._regionArea.zIndex = 1, this._regionArea.setPosition(i.lc.right(this._nameArea) + i.lc.asw(this._regionArea) + 2, i.lc.abottom(this._regionArea) + i.lc.ash(this._regionArea) - 2)), o = i.lc.right(this._nameArea) + t.AVATAR_GAP), this._unionArea && this._unionArea.isVisible() && (this._unionArea.zIndex = 0, g.nox.alignNode(this._unionArea, [o, 0], [0, 1]), o = i.lc.right(this._unionArea) + t.AVATAR_GAP)
                        }
                    }
                }, t.prototype.setAvatar = function (e) {
                    var n = this._frame;
                    n.removeChildrenByTagID(t.TAG_FRAME_EXTRA);
                    var a = null != e._id && e._id == P._id,
                        o = P._propBag.validPropId(e._avatarFrameId || d.Data.PropsId.avatar_frame, a)[0],
                        _ = l.ClientData.getAvatarFrameName(i.lc.D(o, d.Data.PropsId.avatar_frame), e._vip);
                    if (r.SpriteUtil.setSprite(this._frameBox, _), null != o && o >= 7513 && o <= 7515) {
                        var s = g.nox.D2(e._avatarFrameCount, P._propBag._props[o]._num, 0);
                        if (s > 0 && s <= 9) {
                            var c = s % 3;
                            0 == c && (c = 3);
                            for (var p = ["avatar_star", "avatar_moon", "avatar_sun"][Math.floor((s - 1) / 3) + 1], u = 1; u <= c; u++) {
                                (h = r.SpriteUtil.createSprite(p).node).setTagID(t.TAG_FRAME_EXTRA), i.lc.addChildToPosLB(n, h, cc.p(i.lc.cw(n) + 6, 16), 0), 1 == u && 2 == c ? i.lc.offset(h, 8) : 2 == u ? i.lc.offset(h, 2 == c ? -8 : -15) : 3 == u && i.lc.offset(h, 15)
                            }
                        } else if (s > 9) {
                            var h;
                            p = "avatar_crown";
                            (h = r.SpriteUtil.createSprite(p).node).setTagID(t.TAG_FRAME_EXTRA), i.lc.addChildToPosLB(n, h, cc.p(i.lc.cw(n) + 6, 20), 0)
                        }
                    }
                    var f, m = e._avatar;
                    null != m ? (f = string.format("avatar_%04d", m), null == r.SpriteUtil.getSpriteFrame(f) && (f = string.format("avatar_%02d", m), null == r.SpriteUtil.getSpriteFrame(f) && (f = "avatar_0101"))) : f = "avatar_0101", r.SpriteUtil.setSprite(this._avatar, f), null != e._crown && null != this._crown && e._crown._infoId == this._crown._infoId && e._crown._num == this._crown._num || this.setCrown(e._crown ? e._crown._infoId : null, e._crown ? e._crown._num : 0), this.setVipMedal(e)
                }, t.prototype.setVip = function (e) {
                    if (e <= 0 && this._vip) this._vip.setVisible(!1); else {
                        if (null == this._vip && !p.lcAppCfg.isAppStoreReviewing()) {
                            var t = r.SpriteUtil.createSprite("avatar_vip_bg").node;
                            this._frame.addChild(t), this._vip = t;
                            var n = s.NodeWithLabel.createBMFont(c.UICfg.BMFont.huali_20, "");
                            n.setScale(.7), n.color = i.lc.Color3B.yellow;
                            var a = _.UIUtil.createTTF("", c.UICfg.FontSize.S2);
                            i.lc.addChildToPosLB(t, a, cc.p(92, 20)), t._value = n
                        }
                        null != this._vip && (this._vip.setVisible(!0), this._vip._value.setString(e > 0 ? string.format("V%d", e) : ""))
                    }
                }, t.prototype.setLevel = function (e) {
                    this._nameArea && this._nameArea.setLevelStr(string.format("%d", e))
                }, t.prototype.setRegion = function (e) {
                    this._regionArea && (null != e && e > 0 ? (this._regionArea.setVisible(!0), this._regionArea.setString(u.LoginData.genChannelRegionName(e))) : this._regionArea.setVisible(!1))
                }, t.prototype.setName = function (e) {
                    this._nameArea && this._nameArea.setNameStr(e)
                }, t.prototype.setUnion = function (e, t, n) {
                    this._unionArea && (null != e && e > 0 && r.SpriteUtil.setSprite(this._unionArea._badge, string.format("avatar_badge_s_%d", e)), null != n && this._unionArea.setUnionName(n))
                }, t.prototype.setCrown = function (e, t) {
                    if (this._crown && (this._crown.destroy(), this._crown = null), null != e) {
                        var n = ["jin", "yin", "tong", "jin", "yin", "tong"][e - 7200 - 1];
                        7204 == e && t > 9 && (n = "zs");
                        var a = h.SpineUtil.createSpineAnim(e - 7200 > 3 ? "jiangbei" : "huanguan", "default", n, !0);
                        if (i.lc.addChildToPosLB(this._frame, a, cc.p(0, 0)), a._infoId = e, a._num = t, 7204 == e && t > 9) {
                            if (t > 10) {
                                var o = s.NodeWithLabel.createBMFont(g.nox.toString(t - 10), c.UICfg.BMFont.num_24);
                                i.lc.addChildToPosLB(a, o, cc.p(i.lc.cw(a) + 1, i.lc.ch(a))), i.lc.offset(o, 16, 13), a._label = o._label
                            }
                        } else {
                            o = s.NodeWithLabel.createBMFont(g.nox.toString(t), c.UICfg.BMFont.num_24);
                            i.lc.addChildToPosLB(a, o, cc.p(i.lc.cw(a) - 1, i.lc.ch(a))), i.lc.offset(o, 16, 13), a._label = o._label
                        }
                        this._crown = a
                    }
                }, t.prototype.setVipMedal = function (e) {
                    if ((this._crown || 0 == e._vip) && this._vipMedal && (this._vipMedal.destroy(), this._vipMedal = null), !this._vipMedal) {
                        var t = h.SpineUtil.createSpineAnim("fengwxunzhang", "default", "animation", !0);
                        t.scale = 1, i.lc.addChildToPosLB(this._frame, t, cc.p(10, 16)), this._vipMedal = t
                    }
                }, t.create = function (e, n, a, o) {
                    var r = i.lc.createNode().addComponent(t);
                    return r.init(e, n, a, o), r
                }, t
            }(a.BaseComponent);
        n.UserWidget2 = m, function (e) {
            e.TAG_FRAME_EXTRA = 1e3, e.FRAME_SIZE = 114, e.NAME_WIDTH = 164, e.TROPHY_WIDTH = 140, e.AVATAR_GAP = -10, e.Flag = {
                TROPHY: 1,
                LEVEL_NAME: 2,
                UNION: 4,
                REGION: 8,
                VIP: 16,
                CLICKABLE: 65536,
                NAME_UNION: 6,
                NAME_UNION_VIP: 22,
                REGION_NAME_UNION: 14,
                ALL: 15
            }
        }(m = n.UserWidget2 || (n.UserWidget2 = {})), n.UserWidget2 = m, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/LoginData": "LoginData",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../form/LordForm": "LordForm",
        "../node/NodeWithLabel": "NodeWithLabel"
    }],
    UserWidget: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c9d6f+0GrxFRKO7maMwa8Ag", "UserWidget");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../../leocool/lc"), o = e("../../../noxcc"), r = e("../../utils/SpriteUtil"),
            _ = e("../../../nox"), s = e("../../data/data"), c = e("../../ClientData"),
            l = e("../../../leocool/lcAppCfg"), d = e("../../utils/LoginData"), p = e("../../utils/SpineUtil"),
            u = e("../form/LordForm"), g = e("../../StaticPrefabMgr"), h = function (e) {
                function t() {
                    var t = e.call(this) || this;
                    return t._listeners = [], t
                }

                return a(t, e), t.prototype.init = function (e, n, a, r) {
                    this._user = e, this._flag = i.lc.D(n, 0), this._isFlipX = i.lc.D(r, !1);
                    var _ = 0, s = this._frame = o.noxcc.find("frame", this.node);
                    _ = i.lc.sw(this._frame), this._frameSprite = o.noxcc.findSprite("frame", s), 0 != i.lc.band(this._flag, t.Flag.CLICKABLE) ? o.noxcc.addClick(s, function () {
                        u.LordForm.show()
                    }) : s.removeComponent(cc.Button), void 0 != a && s.setScale(a), this._avatar = o.noxcc.findSprite("avatar", this._frame).node, cc.assert(this._avatar, "need _avatar"), this._avatarStarArea = o.noxcc.find("star", this._frame), this._crown = o.noxcc.find("crown", this._frame), this._crown._label = o.noxcc.findLabel("num", this._crown), this._vipMedal = o.noxcc.findSkeleton("medal", this._frame), this._vip = o.noxcc.find("vip", this._frame), this._vip._label = o.noxcc.findLabel("value", this._vip);
                    var c = o.noxcc.find("name_area", this.node), l = o.noxcc.findLabel("region", c);
                    0 != i.lc.band(this._flag, t.Flag.LEVEL_NAME) ? (this._nameArea = c, _ += t.AVATAR_GAP + i.lc.sw(this._nameArea), this._userNameBg = o.noxcc.findSprite("bg", this._nameArea), this._userNameLabel = o.noxcc.findLabel("text", this._nameArea), this._userLevelBg = o.noxcc.findSprite("level", this._nameArea), this._userLevelLabel = o.noxcc.findLabel("level/text", this._nameArea), l.destroy()) : (l.destroy(), l = null, c.destroy());
                    var d = o.noxcc.find("name_area/union_area", this.node);
                    0 != i.lc.band(this._flag, t.Flag.UNION) ? (this._unionArea = d, 0 != i.lc.band(this._flag, t.Flag.LEVEL_NAME) || (cc.assert(!1, "need LEVEL_NAME"), _ += t.AVATAR_GAP + i.lc.sw(this._unionArea)), this._unionNameLabel = o.noxcc.findLabel("text", this._unionArea), this._unionBadgeSprite = o.noxcc.findSprite("badge", this._unionArea), this._unionWordLabel = o.noxcc.findLabel("word", this._unionBadgeSprite.node)) : (d.destroy(), d = null), this.node.width = _, this.doLayout(r), null != e && this.setUser(e, !0)
                }, t.prototype.doLayout = function (e) {
                    if (e) {
                        n = i.lc.aright(this.node);
                        if (this._frame.x = n, n -= _.nox.sw(this._frame), this._nameArea) {
                            n -= t.AVATAR_GAP, this._nameArea.x = n - _.nox.asright(this._nameArea), n -= _.nox.sw(this._nameArea), this._userNameBg.node.scaleX = -1, this._userNameLabel.node.anchorX = 1, this._userNameLabel.horizontalAlign = cc.Label.HorizontalAlign.RIGHT, this._userNameLabel.node.x = i.lc.left(this._userNameBg.node) - 20, this._userLevelBg.node.x = i.lc.left(this._userNameBg.node) - 20 - _.nox.asright(this._userLevelBg.node), n = i.lc.left(this._userLevelBg.node) - 10;
                            a = this._userLevelBg.node.y;
                            if (this._regionArea && (this._regionArea.node.anchorX = 1, this._regionArea.horizontalAlign = cc.Label.HorizontalAlign.RIGHT, this._regionArea.node.setPosition(n, a)), this._unionArea) {
                                this._unionArea.setPosition(n - _.nox.asright(this._unionArea), a);
                                o = i.lc.aright(this._unionArea);
                                this._unionBadgeSprite.node.x = o - i.lc.asright(this._unionBadgeSprite.node), o = i.lc.left(this._unionBadgeSprite.node) - 5, this._unionNameLabel.node.anchorX = 1, this._unionNameLabel.horizontalAlign = cc.Label.HorizontalAlign.RIGHT, this._unionNameLabel.node.x = o
                            }
                        }
                    } else {
                        var n = i.lc.aleft(this.node);
                        if (this._frame.x = n + _.nox.asw(this._frame), n += _.nox.sw(this._frame), this._nameArea) {
                            n += t.AVATAR_GAP, this._nameArea.x = n + _.nox.asw(this._nameArea), n += _.nox.sw(this._nameArea), this._userNameBg.node.scaleX = 1, this._userNameLabel.node.anchorX = 0, this._userNameLabel.horizontalAlign = cc.Label.HorizontalAlign.LEFT, this._userNameLabel.node.x = i.lc.left(this._userNameBg.node) + 20, this._userLevelBg.node.x = i.lc.left(this._userNameBg.node) + 20 + _.nox.asw(this._userLevelBg.node), n = i.lc.right(this._userLevelBg.node) + 10;
                            var a = this._userLevelBg.node.y;
                            if (this._regionArea && (this._regionArea.node.anchorX = 0, this._regionArea.horizontalAlign = cc.Label.HorizontalAlign.LEFT, this._regionArea.node.setPosition(n, a)), this._unionArea) {
                                this._unionArea.setPosition(n + _.nox.asw(this._unionArea), a);
                                var o = i.lc.aleft(this._unionArea);
                                this._unionBadgeSprite.node.x = o + _.nox.asw(this._unionBadgeSprite.node), o = i.lc.right(this._unionBadgeSprite.node) + 5, this._unionNameLabel.node.anchorX = 0, this._unionNameLabel.horizontalAlign = cc.Label.HorizontalAlign.LEFT, this._unionNameLabel.node.x = o
                            }
                        }
                    }
                }, t.prototype.setVisible = function (e) {
                    this.node.active = e
                }, t.prototype.setUser = function (e, n) {
                    this._user = e, this.setAvatar(e), P._avatar && this._user == P ? this.setLevel(P._characters[Math.floor(P._avatar / 100)]._level) : this.setLevel(e._level), this.setRegion(e._regionId), this.setUserName(e._name), 0 != i.lc.band(this._flag, t.Flag.VIP) ? this.setVip(e._vip) : o.noxcc.setActive(this._vip, !1), e._unionId && e._unionId > 0 ? null != this._unionArea && (this._unionArea.active = !0, this.setUnion(e._unionBadge, e._unionWord, e._unionName)) : null != this._unionArea && this._unionArea.setVisible(!1)
                }, t.prototype.setAvatar = function (e) {
                    this._frame;
                    this._avatarStarArea.destroyAllChildren();
                    var t = null != e._id && e._id == P._id, n = P._propBag.validPropId(e._avatarFrameId, t).shift(),
                        a = c.ClientData.getAvatarFrameName(i.lc.D(n, s.Data.PropsId.avatar_frame), e._vip);
                    if (r.SpriteUtil.setSprite(this._frameSprite, a), null != n && n >= 7513 && n <= 7515) {
                        var _ = P._propBag._props[n] ? i.lc.D(i.lc.D(e._avatarFrameCount, P._propBag._props[n]._num), 0) : 0;
                        if (_ > 0 && _ <= 9) {
                            var l = _ % 3;
                            0 == l && (l = 3);
                            for (var d = ["avatar_star", "avatar_moon", "avatar_sun"][Math.floor((_ - 1) / 3)], p = 1; p <= l; p++) {
                                var u = r.SpriteUtil.createSprite(d).node;
                                o.noxcc.addChild(this._avatarStarArea, u)
                            }
                        } else _ > 9 && o.noxcc.addChild(this._avatarStarArea, r.SpriteUtil.createSprite("avatar_crown").node)
                    }
                    var g, h = e._avatar;
                    null != h && 0 != h ? (g = string.format("avatar_%04d", h), null == r.SpriteUtil.getSpriteFrame(g) && (g = string.format("avatar_%02d", h), null == r.SpriteUtil.getSpriteFrame(g) && (g = "avatar_0101"))) : g = "avatar_0101", r.SpriteUtil.setSprite(this._avatar, g), e._badge == s.Data.PropsId.the_brave_emblem ? this.setVipMedal(e, !0) : e._badge ? this.setCrown(e._badge, e._crown ? e._crown._num : 0, e) : (o.noxcc.setActive(this._crown, !1), this.setVipMedal(e, !1))
                }, t.prototype.setVip = function (e) {
                    e <= 0 ? o.noxcc.setActive(this._vip, !1) : l.lcAppCfg.isAppStoreReviewing() ? o.noxcc.setActive(this._vip, !1) : (o.noxcc.setActive(this._vip, !0), this._vip._label.string = e > 0 ? string.format("V%d", e) : "")
                }, t.prototype.setLevel = function (e) {
                    this._userLevelLabel && (this._userLevelLabel.string = string.format("%d", e))
                }, t.prototype.setRegion = function (e) {
                    this._regionArea && (void 0 != e && e > 0 ? (o.noxcc.setActive(this._regionArea, !0), this._regionArea.string = d.LoginData.genChannelRegionName(e)) : o.noxcc.setActive(this._regionArea, !1))
                }, t.prototype.getNameArea = function () {
                    return this._nameArea
                }, t.prototype.getUnionNameArea = function () {
                    return this._unionNameLabel.node
                }, t.prototype.getFrame = function () {
                    return this._frame
                }, t.prototype.getUserNameBg = function () {
                    return this._userNameBg
                }, t.prototype.setUserName = function (e) {
                    this._userNameLabel && (this._userNameLabel.string = e)
                }, t.prototype.setUnion = function (e, t, n) {
                    this._unionArea && (null != e && e > 0 && r.SpriteUtil.setSprite(this._unionBadgeSprite, string.format("avatar_badge_s_%d", e)), null != t && (this._unionWordLabel.string = t), null != n && (this._unionNameLabel.string = n))
                }, t.prototype.setCrown = function (e, t, n) {
                    if (null == e) return o.noxcc.setActive(this._crown, !1), void this.setVipMedal(n, !0);
                    this.setVipMedal(n, !1), o.noxcc.setActive(this._crown, !0);
                    var a = ["jin", "yin", "tong", "jin", "yin", "tong"][e - 7200 - 1];
                    7204 == e && t > 9 && (a = "zs");
                    var i = e - 7200 > 3 ? "jiangbei" : "huanguan", r = this._crown;
                    p.SpineUtil.setSpineAnim(r, i, "default", a, !0), r._infoId = e, r._num = t, r._label.string = _.nox.toString(t)
                }, t.prototype.setVipMedal = function (e, t) {
                    this._crown.active || e._vip, this._vipMedal.node.active = !0, o.noxcc.setActive(this._crown, !1), this._vipMedal.node.active = t
                }, t.prototype.onEnable = function () {
                    e.prototype.onEnable.call(this);
                    var t = this;
                    this._user == P && (t.setUserName(this._user._name), t.setVip(this._user._vip), this._listeners.push(s.Data.Event.character_dirty.addListener(t, function () {
                        t.setUser(t._user)
                    })), this._listeners.push(s.Data.Event.name_dirty.addListener(t, function () {
                        t.setUserName(this._user._name)
                    })), this._listeners.push(s.Data.Event.icon_dirty.addListener(t, function () {
                        t.setUser(t._user)
                    })), this._listeners.push(s.Data.Event.avatar_frame_dirty.addListener(t, function () {
                        t.setUser(t._user)
                    })), this._listeners.push(s.Data.Event.crown_dirty.addListener(t, function (e) {
                        t.setUser(t._user)
                    })), this._listeners.push(s.Data.Event.level_dirty.addListener(t, function () {
                        t.setLevel(P._characters[Math.floor(P._avatar / 100)]._level)
                    })), this._listeners.push(s.Data.Event.vip_dirty.addListener(t, function () {
                        t.setAvatar(this._user), t.setVip(this._user._vip)
                    })), this._listeners.push(s.Data.Event.vip_exp_dirty.addListener(t, function () {
                        t.setAvatar(this._user), t.setVip(this._user._vip)
                    })), this._listeners.push(s.Data.Event.login.addListener(t, function () {
                        t.setUser(t._user)
                    })))
                }, t.prototype.onDisable = function () {
                    for (var t = 0; t < this._listeners.length; ++t) this._listeners[t].remove();
                    this._listeners = [], e.prototype.onDisable.call(this)
                }, t.create = function (e, n, a, i) {
                    var r = o.noxcc.instantiate(g.StaticPrefabMgr.getUserWidgetPrefab()).addComponent(t);
                    return r.init(e, n, a, i), r
                }, t
            }(e("../../BaseComponent").BaseComponent);
        n.UserWidget = h, function (e) {
            e.FRAME_SIZE = 114, e.NAME_WIDTH = 164, e.TROPHY_WIDTH = 140, e.AVATAR_GAP = -10, e.Flag = {
                TROPHY: 1,
                LEVEL_NAME: 2,
                UNION: 4,
                REGION: 8,
                VIP: 16,
                CLICKABLE: 65536,
                NAME_UNION: 0,
                NAME_UNION_VIP: 0,
                REGION_NAME_UNION: 0,
                ALL: 0
            }, e.Flag.NAME_UNION = e.Flag.LEVEL_NAME | e.Flag.UNION, e.Flag.NAME_UNION_VIP = e.Flag.LEVEL_NAME | e.Flag.UNION | e.Flag.VIP, e.Flag.REGION_NAME_UNION = e.Flag.LEVEL_NAME | e.Flag.UNION | e.Flag.REGION, e.Flag.ALL = e.Flag.LEVEL_NAME | e.Flag.TROPHY | e.Flag.UNION | e.Flag.REGION
        }(h = n.UserWidget || (n.UserWidget = {})), n.UserWidget = h, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAppCfg": "lcAppCfg",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../BaseComponent": "BaseComponent",
        "../../ClientData": "ClientData",
        "../../StaticPrefabMgr": "StaticPrefabMgr",
        "../../data/data": "data",
        "../../utils/LoginData": "LoginData",
        "../../utils/SpineUtil": "SpineUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../form/LordForm": "LordForm"
    }],
    User: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c1036/6uCtM3LXwWHQOswJV", "User"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../data"), i = e("../../StringEnums"), o = e("../../../leocool/lcStr"), r = e("../../../leocool/lc"),
            _ = function () {
                function e(t) {
                    this._id = t, e.Users[t] = this
                }

                return e.prototype.getTitle = function () {
                    for (var e = 0; e < a.Data._globalInfo._playerTitleTrophy.length; ++e) if (e + 1 < a.Data._globalInfo._playerTitleTrophy.length) {
                        if (this._trophy >= a.Data._globalInfo._playerTitleTrophy[e] && this._trophy < a.Data._globalInfo._playerTitleTrophy[e + 1]) return e + 1
                    } else if (this._trophy >= a.Data._globalInfo._playerTitleTrophy[e]) return e + 1
                }, e.prototype.getGrainCapacity = function () {
                    var e = this._level;
                    return e > a.Data._globalInfo._grainCapacity.length && (e = a.Data._globalInfo._grainCapacity.length), a.Data._globalInfo._grainCapacity[e - 1]
                }, e.prototype.sendUserDirty = function () {
                    (void 0)._data = this, r.lc.Dispatcher.dispatchEvent(void 0)
                }, e.create = function (t, n) {
                    void 0 === n && (n = !1);
                    var i = null;
                    return (i = n && null != e.Users[t.id] ? e.Users[t.id] : new e(t.id))._name = t.name, i._level = t.level, i._avatar = t.avatar, i._badge = t.badge, i._trophy = t.trophy, i._vip = t.vip, i._unionId = t.union_id, i._unionName = t.union_name, i._unionJob = t.union_title, i._unionBadge = t.union_avatar, i._unionWord = t.union_tag, i._lastLogin = t.last_login / 1e3, i._regionId = t.rid, i._trophyEx = t.trophy_ex, null != t.crown && (i._crown = {
                        _infoId: t.crown.info_id,
                        _num: t.crown.num
                    }), null != t.avatar_frame_count && (i._avatarFrameCount = t.avatar_frame_count), null != t.mass_war_score && (i._massWarScore = t.mass_war_score), i._avatarFrameId = t.avatar_frame, 0 == i._avatarFrameId && (i._avatarFrameId = a.Data.PropsId.avatar_frame), i
                }, e.createNpc = function () {
                    var t = new e(0);
                    return t._name = o.lcStr(i.STR.SYSTEM), t._level = 1, t._vip = 0, t._unionId = 0, t._avatar = 0, t._badge = 0, t._avatarFrameId = a.Data.PropsId.avatar_frame, t
                }, e.Users = {}, e
            }();
        n.User = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../StringEnums": "StringEnums",
        "../data": "data"
    }],
    VIPInfoForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d6f4bjalZdDSZNLxCtHvP1D", "VIPInfoForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../StringEnums"), _ = e("../../../nox"),
            s = e("../../../leocool/lcStr"), c = e("../../../noxcc"), l = e("../../../framework/NoxResMgr"),
            d = e("../../data/data"), p = e("../../utils/UIUtil"), u = e("../../config/UICfg"),
            g = e("../../utils/SpriteUtil"), h = e("../../utils/RichTextUtil"), f = e("../../../leocool/lc"),
            m = e("../widget/IconWidget"), y = function (e) {
                function t() {
                    return e.call(this, o.AllViewTypes.VIPInfoForm) || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    var t = this;
                    e.prototype.onInitWidget.call(this), this._vipNumber = c.noxcc.find(this.mRoot, "content_bg/mask/VipSprite"), this._textNode = c.noxcc.find(this.mRoot, "content_bg/mask/vipArea/TextItem"), this._bonusnode = c.noxcc.find(this.mRoot, "content_bg/mask/vipArea/BonusItem"), this._btnArrowLeft = c.noxcc.find(this.mRoot, "arrow_left"), c.noxcc.addClick(this._btnArrowLeft, this, function () {
                        t.onBtnArrow(-1)
                    }), this._btnArrowRight = c.noxcc.find(this.mRoot, "arrow_right"), c.noxcc.addClick(this._btnArrowRight, this, function () {
                        t.onBtnArrow(1)
                    }), this._vipArea = c.noxcc.find(this.mRoot, "content_bg/mask/vipArea"), this.mCloseBtn = c.noxcc.findButton("close_btn", this.mRoot), c.noxcc.addClick(this.mCloseBtn, this, function () {
                        this.hide()
                    });
                    s.lcStr(r.STR.PRIVILEGE);
                    this.scrollToVip(t._index && t._index || 1, !0)
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this)
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this)
                }, t.prototype.init = function (e) {
                    this._index = e
                }, t.prototype.getNum = function () {
                    return P._vip <= 8 ? 9 : 9 == P._vip ? 10 : d.Data._globalInfo._vipIngot.length - 2
                }, t.prototype.onBtnArrow = function (e) {
                    null != this._vipArea && (e > 0 ? this.scrollToVip(this._vip + 1) : this.scrollToVip(this._vip - 1))
                }, t.prototype.scrollToVip = function (e, t) {
                    l.NoxResMgr.setSpriteFrameAsync(this._vipNumber, string.format("vip_%02d", e)), this._btnArrowLeft.setVisible(1 != e), this._btnArrowRight.setVisible(e != this.getNum());
                    var n = null == this._vip || this._vip < e, a = _.nox.w(this.mRoot), i = this._list, o = t ? 0 : .2;
                    i && (i.stopAllActions(), i.runAction(f.lc.sequence(f.lc.moveBy(o, n ? -a : a, 0), f.lc.fadeOut(o))));
                    var r = this.createVipItemsList(e);
                    f.lc.addChildToPosAR(this._vipArea, r, cc.v2(_.nox.w(this.mRoot) / 2 + (n ? a : -a), _.nox.y(this._textNode) + 100)), r.runAction(f.lc.sequence(f.lc.moveTo(o, -_.nox.w(this._textNode) / 2 + 100, _.nox.y(this._textNode) + 100), f.lc.fadeIn(o))), this._list = r, this._vip = e
                }, t.prototype.createVipItemsList = function (e) {
                    var t = c.noxcc.newNode();
                    return t.setContentSize(200, 600), t.setPosition(0, _.nox.y(this._textNode) + 100), t.setAnchorPoint(.5, 1), t.addComponent(cc.Layout), t.getComponent(cc.Layout).resizeMode = cc.Layout.ResizeMode.NONE, t.getComponent(cc.Layout).type = cc.Layout.Type.VERTICAL, t.addChild(this.createVipTextItem(e, _.nox.w(t))), t.addChild(this.createVipBonusItem(e, _.nox.w(t))), t
                }, t.prototype.createVipBonusItem = function (e, t) {
                    for (var n = [], a = [d.Data._bonusInfo[10099], d.Data._bonusInfo[10100], d.Data._bonusInfo[10101], d.Data._bonusInfo[10130], d.Data._bonusInfo[10102], d.Data._bonusInfo[10103], d.Data._bonusInfo[10104], d.Data._bonusInfo[10105], d.Data._bonusInfo[10106], d.Data._bonusInfo[10107], d.Data._bonusInfo[10108], d.Data._bonusInfo[10109], d.Data._bonusInfo[10110], d.Data._bonusInfo[10200], d.Data._bonusInfo[10201], d.Data._bonusInfo[10827]], i = 0; i < a[e - 1]._rid.length; i++) {
                        var o = a[e - 1],
                            l = {_infoId: o._rid[i], _level: o._level[i], _count: o._count[i], _isFragment: null},
                            g = o._isFragment[i] > 0;
                        l._isFragment = g;
                        var h = m.IconWidget.create(l, m.IconWidget.DisplayFlag.ITEM);
                        n.push(h)
                    }
                    P.sortResultItems(n);
                    var y = c.noxcc.newNode("node");
                    y.setContentSize(t, 30 + _.nox.h(n[0].node) + 10), y.setPosition(-250, -50);
                    var T = p.UIUtil.createWithTTF(s.lcStr(r.STR.SPECIFIC_BONUS) + ":", u.UICfg.TTF_FONT, u.UICfg.FontSize.S1);
                    T.setPosition(0, 0 + _.nox.h(T) + 40 - 20), y.addChild(T);
                    for (i = 0; i < n.length; i++) f.lc.addChildToPosAR(y, n[i].node, cc.v2(40 + 138 * i, -50));
                    return y
                }, t.prototype.createVipTextItem = function (e, t) {
                    var n = [],
                        a = [s.lcStr(r.STR.VIP_CONTENT_1), s.lcStr(r.STR.VIP_CONTENT_2), s.lcStr(r.STR.VIP_CONTENT_3), s.lcStr(r.STR.VIP_CONTENT_4), s.lcStr(r.STR.VIP_CONTENT_5), s.lcStr(r.STR.VIP_CONTENT_6), s.lcStr(r.STR.VIP_CONTENT_7), s.lcStr(r.STR.VIP_CONTENT_8), s.lcStr(r.STR.VIP_CONTENT_9), s.lcStr(r.STR.VIP_CONTENT_10), s.lcStr(r.STR.VIP_CONTENT_11), s.lcStr(r.STR.VIP_CONTENT_12), s.lcStr(r.STR.VIP_CONTENT_13), s.lcStr(r.STR.VIP_CONTENT_14), s.lcStr(r.STR.VIP_CONTENT_15), s.lcStr(r.STR.VIP_CONTENT_16), s.lcStr(r.STR.VIP_CONTENT_17), s.lcStr(r.STR.VIP_CONTENT_18), s.lcStr(r.STR.VIP_CONTENT_19), s.lcStr(r.STR.VIP_CONTENT_20), s.lcStr(r.STR.VIP_CONTENT_21), s.lcStr(r.STR.VIP_CONTENT_22), s.lcStr(r.STR.VIP_CONTENT_23), s.lcStr(r.STR.VIP_CONTENT_24), s.lcStr(r.STR.VIP_CONTENT_25)],
                        i = function (t, n) {
                            return null != n ? string.format(a[t], n) : string.format(a[t], d.Data._globalInfo._vipIngot[e])
                        };
                    n.push(i(0)), n.push(string.format(a[1], e)), e != d.Data._globalInfo._2xSpeedVip && e != d.Data._globalInfo._3xSpeedVip || n.push(i(10, e == d.Data._globalInfo._2xSpeedVip ? 2 : 3)), d.Data._globalInfo._vipLadderExp[e] > 0 && n.push(i(23, d.Data._globalInfo._vipLadderExp[e])), d.Data._globalInfo._vipLadderExExp[e] > 0 && n.push(i(24, d.Data._globalInfo._vipLadderExExp[e]));
                    var o = c.noxcc.newNode("label");
                    o.setContentSize(t, 0), o.setAnchorPoint(.5, 1);
                    var l = p.UIUtil.createWithTTF(s.lcStr(r.STR.SPECIFIC_PRIVILEGE) + ":", u.UICfg.TTF_FONT, u.UICfg.FontSize.S1);
                    l.setPosition(-250, 40), o.addChild(l);
                    var h = f.lc.h(l) + 40 - 13;
                    o.setContentSize(t, l.height);
                    for (var m = 0; m < n.length; m++) {
                        var y = g.SpriteUtil.createSprite("vip_dot"), T = this.createRichText(n[m]);
                        f.lc.addChildToPosAR(o, y.node, cc.v2(-250, h - f.lc.h(T.node) / 2)), f.lc.addChildToPosAR(o, T.node, cc.v2(_.nox.right(y.node) + _.nox.cw(T.node) + 10, _.nox.y(y.node) + 15)), o.setContentSize(t, o.height + T.node.height - 53), h = h - _.nox.h(y.node) - 20
                    }
                    return o.setContentSize(t, o.height - 80), o
                }, t.prototype.createRichText = function (e) {
                    var t = h.RichTextUtil.newRichText();
                    return e && h.RichTextUtil.appendBoldRichText(t, e, {
                        _normalClr: u.UICfg.COLOR_TEXT_LIGHT,
                        _boldClr: u.UICfg.COLOR_TEXT_GREEN_DARK
                    }), t
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(e), n
                }, t
            }(i.BaseForm);
        n.VIPInfoForm = y, cc._RF.pop()
    }, {
        "../../../framework/NoxResMgr": "NoxResMgr",
        "../../../leocool/lc": "lc",
        "../../../leocool/lcStr": "lcStr",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../StringEnums": "StringEnums",
        "../../config/UICfg": "UICfg",
        "../../data/data": "data",
        "../../utils/RichTextUtil": "RichTextUtil",
        "../../utils/SpriteUtil": "SpriteUtil",
        "../../utils/UIUtil": "UIUtil",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../widget/IconWidget": "IconWidget"
    }],
    VerticalTabButtons2: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "08d2fS01BxLfYQO7h5meOGk", "VerticalTabButtons2"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./NodeWithListView"), i = e("../../../nox"), o = e("../../../leocool/lc"),
            r = e("../../utils/SpriteUtil"), _ = e("./NodeWithShaderButton"), s = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t, n, r) {
                    var _ = cc.size(80, i.nox.D(n, t));
                    this.setContentSize(_);
                    var s = a.NodeWithListView.createV(_, 0, 0);
                    o.lc.addChildToCenter(this, s), this._listView = s;
                    var c = o.lc.createNode();
                    c.setContentSize(o.lc.w(s), e.length * i.nox.D(r, 162)), s.pushBackCustomItem(c), e.length * i.nox.D(r, 162) < o.lc.h(s) && s.setBounceEnabled(!1), this._tabs = [];
                    for (var l = 0; l < e.length; ++l) this.insertTab(l, e[l]);
                    this.updateTabsPos()
                }, t.prototype.showTab = function (e) {
                    null != this._focusTabIndex && this._focusTabIndex >= 0 && this.unfocusTab(this._focusTabIndex), this._focusTabIndex = e;
                    var t = this._tabs[this._focusTabIndex];
                    r.SpriteUtil.setSprite(t._sprite, "img_btn_tab_bg_focus_7"), t.getComponent(cc.Button).interactable = !1
                }, t.prototype.unfocusTab = function (e) {
                    var t = this._tabs[e];
                    r.SpriteUtil.setSprite(t._sprite, "img_btn_tab_bg_unfocus_7"), t.getComponent(cc.Button).interactable = !0
                }, t.prototype.insertTab = function (e, t) {
                    var n = this, a = _.NodeWithShaderButton.createShaderButton("img_btn_tab_bg_unfocus_7", function () {
                        a.showTab ? a.showTab(a._index) : n.showTab(a._index)
                    }), i = t._img || "icon_poke_info_" + e;
                    o.lc.addChildToCenter(a, r.SpriteUtil.createSprite(i).node), a.setAnchorPoint(0, .5), a.setZoomScale(0), a.addChild(a, -e - 1), this._tabs.push(a);
                    for (var s = 0; s < this._tabs.length; ++s) this._tabs[s]._index = s;
                    return null != this._focusTabIndex && e <= this._focusTabIndex && this._focusTabIndex++, this.updateTabsPos(), a
                }, t.prototype.updateTabsPos = function () {
                }, t.create = function (e, n, a, i) {
                    var o = new t;
                    return o.init(e, n, a, i), o
                }, t
            }(cc.Node);
        n.VerticalTabButtons2 = s, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithListView": "NodeWithListView",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    VerticalTabListArea: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dd1c7URg9hKwqeBH6ecOH+9", "VerticalTabListArea"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../../leocool/lc"), i = e("../../config/UICfg"), o = e("../../utils/SpriteUtil"),
            r = e("./NodeWithListView"), _ = e("../../../nox"), s = e("./NodeWithShaderButton"),
            c = e("../../../noxcc"), l = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.initTabButton = function (e, t, n, o) {
                    var r, s;
                    this.initShaderButton("img_btn_tab_bg_unfocus_3"), o && (this.setContentSize(o), this._scaleSize = o), "string" == typeof t ? (r = t, this._index = n) : (r = t._str, s = t._icon, this._index = a.lc.D(t._index, n), this._userData = t._userData, this._tabs = t._tabs, this._isSub = t._isSub, this.checkValid = t.checkValid), c.noxcc.setName(this, r), this.addLabel(r, (this._isSub, i.UICfg.COLOR_TEXT_LIGHT)), a.lc.offset(this._label, -14, 0), c.noxcc.setSpriteColor(this, this._isSub ? _.nox.c3b(180, 250, 255) : a.lc.Color3B.white), this._callback = function () {
                        e.showTab(this._index, !0)
                    }, s && this.addIcon(s), this._tabs && (this.addIcon("img_arrow_down_2"), c.noxcc.setSpriteColor(this._icon, a.lc.Color3B.yellow), this._icon.node.setRotation(-90), this._label && a.lc.offset(this._label, -16, 0))
                }, t.createTabButton = function (e, n, a, i) {
                    var o = new t;
                    return o.initTabButton(e, n, a, i), o
                }, t
            }(s.NodeWithShaderButton);
        n.TabButton = l;
        var d = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }

            return __extends(t, e), t.prototype.initVerticalTabListArea = function (e, t, n, _, s) {
                var c = cc.size(i.UICfg.VERTICAL_TAB_WIDTH, e);
                this.setContentSize(c);
                var l = cc.size(c.width, e), d = o.SpriteUtil.createSprite("img_com_bg_30");
                d.node.setContentSize(cc.size(c.width + (_ || 0), c.height)), a.lc.addChildToCenter(this, d.node), this._bg = d;
                var p, u = o.SpriteUtil.createSprite("img_divide_line_6");
                u.node.setScale(1, a.lc.h(d.node) / a.lc.h(u.node)), a.lc.addChildToPosLB(this, u.node, cc.p(a.lc.right(d.node) - 4, a.lc.y(d.node))), this._edge = u, (p = s ? r.NodeWithListView.createV(l, 0, -30) : r.NodeWithListView.createV(l, 20, 8)).setAnchorPoint(.5, .5), p.setPosition(cc.p(this.width / 2, this.height / 2 - 15)), this.addChild(p), s || a.lc.offset(p, 12, 0), this._list = p, this._callback = n, t && this.resetTabs(t)
            }, t.prototype.showTab = function (e, t) {
                for (var n, i, o = this._list.getItems(), r = 0; r < o.length; r++) {
                    var s = o[r];
                    if (s._index == e) {
                        n = s, i = r;
                        break
                    }
                }
                if (!n || !n.checkValid || n.checkValid()) {
                    var l;
                    if (n._tabs) {
                        if (i == this._expandedTabIndex) {
                            this._focusedTab && this._focusedTab._expandedIndex == i && (this._focusedTab = null);
                            var d = o[this._expandedTabIndex];
                            for (r = 0; r < d._tabs.length; ++r) this._list.removeItem(this._expandedTabIndex + 1);
                            this._expandedTabIndex = -1, n._icon.runAction(a.lc.rotateTo(.1, -90))
                        } else {
                            if (this._focusedTab && null != this._focusedTab._index && this._focusedTab._isSub && (this._focusedTab = null), -1 != this._expandedTabIndex) {
                                for (d = o[this._expandedTabIndex], r = 0; r < d._tabs.length; ++r) this._list.removeItem(this._expandedTabIndex + 1);
                                d._icon.node.runAction(a.lc.rotateTo(.1, -90)), this._expandedTabIndex = -1
                            }
                            o = this._list.getItems();
                            for (r = 0; r < o.length; ++r) if ((s = o[r])._index == e) {
                                n = s, i = r;
                                break
                            }
                            for (var p = 0; p < n._tabs.length; p++) {
                                var u = n._tabs[p], g = this.createTab(u, u._subIndex, cc.size(180, 70));
                                this._list.insertCustomItem(g, i + 1)
                            }
                            this._expandedTabIndex = i
                        }
                        l = !0, this._subTabExpandCallback && this._subTabExpandCallback(n)
                    } else {
                        var h = this._focusedTab == n;
                        if (!h) (g = this._focusedTab) && (g.setDisplayFrame("img_btn_tab_bg_unfocus_3"), c.noxcc.setSpriteColor(g, g._isSub ? _.nox.c3b(180, 250, 255) : a.lc.Color3B.white), g._isSub && (g._expandedIndex = null), g._scaleSize && g.setContentSize(g._scaleSize)), this._focusedTab = n, n._isSub && (n._expandedIndex = this._expandedTabIndex), n.setDisplayFrame("img_btn_tab_bg_focus_3"), n._scaleSize && n.setContentSize(n._scaleSize);
                        this._callback && this._callback(n, h, t)
                    }
                    if (l && this.checkListBounce(), !t) {
                        var f = this._list.getInnerContainerSize().height,
                            m = Math.max(f - a.lc.bottom(n) - a.lc.h(this._list) + this._list.getItemsMargin(), 0);
                        this._list.gotoPos(m)
                    }
                }
            }, t.prototype.createTab = function (e, t, n) {
                return l.createTabButton(this, e, t, n)
            }, t.prototype.resetTabs = function (e) {
                this._list.removeAllItems(), this._focusedTab = null, this._expandedTabIndex = -1;
                for (var t = 0; t < e.length; t++) {
                    var n = e[t], a = this.createTab(n, t + 1);
                    this._list.pushBackCustomItem(a)
                }
                this.checkListBounce()
            }, t.prototype.checkListBounce = function () {
            }, t.prototype.focusAtPos = function (e) {
                var t = this._list.getItems()[e - 1];
                t && this.showTab(t._index)
            }, t.createVerticalTabListArea = function (e, n, a, i, o) {
                var r = new t;
                return r.initVerticalTabListArea(e, n, a, i, !0), r
            }, t.createVerticalIconTabListArea = function (e, n, a, i) {
                var o = new t;
                return o.initVerticalTabListArea(e, n, a, 0, !0), o
            }, t
        }(cc.Node);
        n.VerticalTabListArea = d, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../nox": "nox",
        "../../../noxcc": "noxcc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithListView": "NodeWithListView",
        "./NodeWithShaderButton": "NodeWithShaderButton"
    }],
    VerticalTitle: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "efd07aaYjZBRYN0qLyC19yR", "VerticalTitle"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../utils/SpriteUtil"), i = e("../../config/UICfg"), o = e("../../../leocool/lc"),
            r = e("./NodeWithLabel"), _ = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }

                return __extends(t, e), t.prototype.init = function (e, t) {
                    var n = e.length / 3, _ = a.SpriteUtil.createSprite({
                        _name: "img_com_bg_2",
                        _crect: i.UICfg.CRECT_COM_BG2,
                        _size: cc.size(28 * n + 20, 40)
                    });
                    _.node.setRotation(90), _.node.color = t || o.lc.Color3B.black, _.node.opacity = 180, this.setContentSize(o.lc.h(_.node), o.lc.w(_.node)), o.lc.addChildToCenter(this, _.node);
                    var s = r.NodeWithLabel.createBMFont(i.UICfg.BMFont.huali_26, e, cc.Label.HorizontalAlign.CENTER, 28);
                    s._label.lineHeight = 28, o.lc.addChildToCenter(this, s), this._title = s
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(cc.Node);
        n.VerticalTitle = _, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../config/UICfg": "UICfg",
        "../../utils/SpriteUtil": "SpriteUtil",
        "./NodeWithLabel": "NodeWithLabel"
    }],
    ViewConst: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d911ef67BVNjL7REbNassa/", "ViewConst"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../config/UICfg"), i = function () {
            function e() {
            }

            return Object.defineProperty(e, "SCR_SIZE", {
                get: function () {
                    return a.UICfg.SCR_SIZE
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_W", {
                get: function () {
                    return a.UICfg.SCR_W
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_CW", {
                get: function () {
                    return a.UICfg.SCR_CW
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_H", {
                get: function () {
                    return a.UICfg.SCR_H
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_CH", {
                get: function () {
                    return a.UICfg.SCR_CH
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "SCR_EDGE", {
                get: function () {
                    return a.UICfg.SCR_EDGE
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "CARD_SIZE", {
                get: function () {
                    return a.UICfg.CARD_SIZE
                }, enumerable: !0, configurable: !0
            }), Object.defineProperty(e, "BATTLE_ROTATION_X", {
                get: function () {
                    return a.UICfg.BATTLE_ROTATION_X
                }, enumerable: !0, configurable: !0
            }), e.initViewConst = function () {
            }, e
        }();
        n.ViewConst = i, cc._RF.pop()
    }, {"../config/UICfg": "UICfg"}],
    VisitForm: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "263eezswtxK+4fbhq1bcHiB", "VisitForm");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../BaseForm"), o = e("../AllViewTypes"), r = e("../../../noxcc"), _ = e("../../../leocool/lc"),
            s = e("../../data/data"), c = e("../../StringEnums"), l = e("../../../leocool/lcStr"),
            d = e("../../part/UserPart"), p = e("../../ClientView"), u = e("../widget/UserWidget"),
            g = e("../widget/CardThumbnail"), h = e("../../utils/BattleInputUtil"), f = e("../../scene/SceneManager"),
            m = e("../../utils/MsgCenter"), y = e("../../part/WorldPart"), T = e("../../../leocool/lcAudio"),
            S = e("../../AudioEnums"), C = e("../panel/CardInfoPanel"), v = _.lc.bor, b = function (e) {
                function t() {
                    var t = e.call(this, o.AllViewTypes.VisitForm) || this;
                    return t._items = [], t
                }

                return a(t, e), t.prototype.init = function (e, t) {
                    this._type = t, this._input = e, p.ClientView.showPanelActiveIndicator(this.mRoot)
                }, t.prototype.onRelease = function () {
                    e.prototype.onRelease.call(this)
                }, t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = r.noxcc.findLabel("TopBar/title", this.getRootNode());
                    r.noxcc.setLabelString(t, this._type == s.Data.RecommendTroop.player && l.lcStr(c.STR.INFO) || l.lcStr(c.STR.RECOMMEND_TROOP))
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    m.MsgCenter.addMsgListener(t, function (e) {
                        return t.onMsg(e)
                    }, 0)
                }, t.prototype.onExit = function () {
                    if (this._items) for (var t = 0; t < this._items.length; t++) g.CardThumbnail.releaseToPool(this._items[t]);
                    e.prototype.onExit.call(this), m.MsgCenter.removeMsgListener(this)
                }, t.prototype.onShowActionFinished = function () {
                    e.prototype.onShowActionFinished.call(this), this._type == s.Data.RecommendTroop.system ? (this._troopId = (this._input._player._avatar[0] - 1) / 100 + 3e3, d.UserPart.sendUserVisit(this._troopId + "", s.Data.RecommendTroop.system)) : d.UserPart.sendUserVisit(this._input, s.Data.RecommendTroop.player)
                }, t.prototype.onBackBtn = function () {
                    this.hide()
                }, t.prototype.updateView = function () {
                    var e = r.noxcc.find("Center/userWidget", this.getRootNode());
                    this.mBackBtn = r.noxcc.findButton("TopBar/closeBtn", this.getRootNode()), r.noxcc.addClick(this.mBackBtn, this, this.onBackBtn);
                    var t = u.UserWidget.Flag.LEVEL_NAME;
                    this._type == s.Data.RecommendTroop.player && (t = v(t, u.UserWidget.Flag.REGION));
                    var n = u.UserWidget.create(this._user, t);
                    n.setLevel(this._user._level), _.lc.addChildToCenter(e, n.node), this._trainBtn = r.noxcc.findButton("Center/button", this.mRoot), r.noxcc.addClick(this._trainBtn, this, this.onTrain), this._trainBtn.node.active = this._type != s.Data.RecommendTroop.player, this._contentNode = r.noxcc.find("Center/main/view/content", this.mRoot), this._tmplNode = r.noxcc.find("item", this._contentNode), this._tmplNode.active = !1, r.noxcc.setParent(this._tmplNode, this.mRoot)
                }, t.prototype.onTrain = function () {
                    h.BattleInputUtil._battleFromVisit = !0, y.WorldPart.sendWorldRecommendTroop(P._curTroopIndex, this._troopId)
                }, t.prototype.onFind = function (e) {
                    T.lcAudio.playAudio(S.AUDIO.E_FIND_MATCH_OVER), f.SceneManager.getRunningScene().onBattleRecover(e)
                }, t.prototype.onMsg = function (e) {
                    if (e.type == SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_VISIT) {
                        p.ClientView.getActiveIndicator().hide();
                        var t = e.getExtensions_User_pb_SglUserMsg_user_visit_resp();
                        return this._type == s.Data.RecommendTroop.player ? this._user = {
                            _name: t.user_info.name,
                            _level: t.user_info.level,
                            _avatar: t.user_info.avatar
                        } : this._user = {
                            _name: t.user_info.name,
                            _level: t.user_info.level,
                            _avatar: 100 * (t.user_info.id - 3e3) + 1
                        }, this._troop = t.troop, this.updateView(), this.updateTroopList(), !0
                    }
                    return !1
                }, t.prototype.updateTroopList = function () {
                    for (var e = r.noxcc.findLabel("Center/text", this.getRootNode()), t = 0, n = 0, a = this._troop, i = 0; i < a.length; i++) {
                        var o = r.noxcc.instantiate(this._tmplNode);
                        o.active = !0, r.noxcc.setParent(o, this._contentNode);
                        var d = g.CardThumbnail.createFromPool(a[i].info_id, .5, P._playerCard.getSkinId(a[i]._infoId));
                        d._countArea.update(!0, a[i].num), d._thumbnail.node.off(cc.Node.EventType.TOUCH_START, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.off(cc.Node.EventType.TOUCH_END, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.on(cc.Node.EventType.TOUCH_START, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.on(cc.Node.EventType.TOUCH_END, this.onTroopTouchThumbnail, this, !0), d._thumbnail.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTroopTouchThumbnail, this, !0), d._thumbnail.setGray(P._playerCard.getCardCount(a[i].info_id) < a[i].num), d._thumbnail._count = a[i].num, _.lc.addChildToCenter(o, d), this._items.push(d), s.Data.getType(a[i].info_id) == s.Data.CardType.monster ? t += a[i].num : n += a[i].num
                    }
                    r.noxcc.setLabelString(e, string.format(l.lcStr(c.STR.TROOP_ALL_COUNT), t, n, 0))
                }, t.prototype.onTroopTouchThumbnail = function (e) {
                    var t = e.target;
                    t.stopAllActions();
                    var n = t.parent._thumbnail._infoId;
                    switch (e.type) {
                        case cc.Node.EventType.TOUCH_START:
                            t.runAction(cc.scaleTo(.1, .95));
                            break;
                        case cc.Node.EventType.TOUCH_END:
                            t.runAction(cc.scaleTo(.08, 1)), C.CardInfoPanel.create(n).show();
                            break;
                        case cc.Node.EventType.TOUCH_MOVE:
                            break;
                        case cc.Node.EventType.TOUCH_CANCEL:
                            t.runAction(cc.scaleTo(.08, 1))
                    }
                }, t.create = function (e, n) {
                    var a = new t;
                    return a.init(e, n), a
                }, t
            }(i.BaseForm);
        n.VisitForm = b, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../leocool/lcAudio": "lcAudio",
        "../../../leocool/lcStr": "lcStr",
        "../../../noxcc": "noxcc",
        "../../AudioEnums": "AudioEnums",
        "../../ClientView": "ClientView",
        "../../StringEnums": "StringEnums",
        "../../data/data": "data",
        "../../part/UserPart": "UserPart",
        "../../part/WorldPart": "WorldPart",
        "../../scene/SceneManager": "SceneManager",
        "../../utils/BattleInputUtil": "BattleInputUtil",
        "../../utils/MsgCenter": "MsgCenter",
        "../AllViewTypes": "AllViewTypes",
        "../BaseForm": "BaseForm",
        "../panel/CardInfoPanel": "CardInfoPanel",
        "../widget/CardThumbnail": "CardThumbnail",
        "../widget/UserWidget": "UserWidget"
    }],
    WelfarePanel: [function (e, t, n) {
        "use strict";
        var a, i;
        cc._RF.push(t, "85d6cMQoT1EUI//totkpnNG", "WelfarePanel"), Object.defineProperty(n, "__esModule", {value: !0});
        var o, r = e("./BasePanel"), _ = e("../AllViewTypes"), s = e("../../../noxcc"),
            c = e("./welfare/InviteGiftPackPage"), l = e("./welfare/FeedbackPage"),
            d = e("./activity/ActivityEventRechargePage"), p = e("../../scene/ActivityScene"),
            u = e("../../utils/ActivityUtil"), g = e("../../ClientView"), h = e("../../data/data"),
            f = e("../../../leocool/lc");
        (function (e) {
            e.ConsumeRebate = "ConsumeRebate", e.InviteGiftPack = "InviteGiftPack", e.Feedback = "Feedback"
        })(o || (o = {}));
        var m, y = ((a = {})[o.ConsumeRebate] = ["tabArea/ConsumeRebate_Button", function () {
            return d.ActivityEventRechargePage.create(p.ActivityScene.Tab.consume_feedback)
        }], a[o.InviteGiftPack] = ["tabArea/InviteGiftPack_Button", function () {
            return new c.InviteGiftPackPage
        }], a[o.Feedback] = ["tabArea/Feedback_Button", function () {
            return new l.FeedbackPage
        }], a);
        (function (e) {
            e.InviteGiftPack = "InviteGiftPack", e.Feedback = "Feedback"
        })(m || (m = {}));
        var T = ((i = {})[o.InviteGiftPack] = ["tabArea/InviteGiftPack_Button", function () {
            return new c.InviteGiftPackPage
        }], i[o.Feedback] = ["tabArea/Feedback_Button", function () {
            return new l.FeedbackPage
        }], i), S = function (e) {
            function t() {
                var t = e.call(this, _.AllViewTypes.WelfarePanel) || this;
                return t.mBackBtn = null, t.mAllToggles = {}, t.mAllPages = {}, t.mActivityDelivery = !1, t.mActiveTab = null, t.mPageParent = null, t._isShowResourceUI = !0, t
            }

            return __extends(t, e), t.prototype.onInitWidget = function () {
                this.mBackBtn = s.noxcc.findButton("topBar/topInfo/closeBtn", this.getRootNode()), this.mPageParent = s.noxcc.find("PageManage_Node", this.getRootNode());
                var e, t, n = s.noxcc.find("tabArea/ConsumeRebate_Button", this.getRootNode());
                for (var a in s.noxcc.addClick(this.mBackBtn, this, this.onBackBtn), u.ActivityUtil.getValidActivityByType(901) ? (n.active = !0, e = o, t = y) : (n.active = !1, e = m, t = T), this.mNewTab = e, this.mNewTabGm = t, e) {
                    var i = t[a], r = s.noxcc.findButton(i[0], this.mRoot);
                    this.mAllToggles[a] = r, s.noxcc.addToggleClick(r, this, this.onToggleClick, a), this.mAllPages[a] = i[1]()
                }
                this.mActiveTab = "", !this.mActivityDelivery && u.ActivityUtil.getValidActivityByType(901) ? this.setActiveTab(e.ConsumeRebate) : (this.setActiveTab(e.InviteGiftPack), this.mActivityDelivery = !1)
            }, t.prototype.onReleaseWidget = function () {
                for (var e in this.mAllPages) {
                    this.mAllPages[e].destroy()
                }
                this.mAllPages = {}, this.mAllToggles = {}, this.mActiveTab = ""
            }, t.prototype.onEnter = function () {
                var t = this;
                e.prototype.onEnter.call(this), this.updateTabFlag(), this._listeners = [], this._listeners.push(h.Data.Event.bonus_dirty.addListener(t, function () {
                    t.updateTabFlag()
                }))
            }, t.prototype.onExit = function () {
                for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                e.prototype.onExit.call(this)
            }, t.prototype.onBackBtn = function () {
                this.hide()
            }, t.prototype.updateTabFlag = function () {
                for (var e in this.mNewTab) {
                    var t = this.mNewTabGm[e], n = s.noxcc.findButton(t[0], this.getRootNode());
                    if ("ConsumeRebate" == e) {
                        var a = P._playerActivity.getConsumeFeedbackActivityFlags();
                        g.ClientView.checkNewFlag(n.node, a, 30, 0)
                    } else if ("InviteGiftPack" == e) {
                        a = P._playerBonus.getInviteBonusFlag();
                        g.ClientView.checkNewFlag(n.node, a, 30, 0)
                    }
                }
            }, t.prototype.onToggleClick = function (e, t) {
                this.setActiveTab(e)
            }, t.prototype.setActiveTab = function (e) {
                if (this.updateTabFlag(), this.mActiveTab != e) for (var t in this.mActiveTab = e, this.mAllToggles) {
                    var n = this.mAllToggles[t], a = this.mAllPages[t];
                    t == e ? (s.noxcc.find("checkmark", n.node).active = !0, s.noxcc.setNodeColor(s.noxcc.find("text", n.node), f.lc.Color3B.yellow), a.show(this.mPageParent)) : (s.noxcc.find("checkmark", n.node).active = !1, s.noxcc.setNodeColor(s.noxcc.find("text", n.node), f.lc.Color3B.white), a.destroy(), a = null)
                }
            }, t.showInvite = function () {
                var e = new t;
                e.mActivityDelivery = !0, e.init(), e.show()
            }, t.show = function () {
                var e = new t;
                return e.init(), e.show(), e
            }, t
        }(r.BasePanel);
        n.WelfarePanel = S, cc._RF.pop()
    }, {
        "../../../leocool/lc": "lc",
        "../../../noxcc": "noxcc",
        "../../ClientView": "ClientView",
        "../../data/data": "data",
        "../../scene/ActivityScene": "ActivityScene",
        "../../utils/ActivityUtil": "ActivityUtil",
        "../AllViewTypes": "AllViewTypes",
        "./BasePanel": "BasePanel",
        "./activity/ActivityEventRechargePage": "ActivityEventRechargePage",
        "./welfare/FeedbackPage": "FeedbackPage",
        "./welfare/InviteGiftPackPage": "InviteGiftPackPage"
    }],
    WorldPart: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "96121KuEUtKoZCuszZPlS65", "WorldPart"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../utils/NetUtil");
        (function (e) {
            e.sendGetExpeditionEx = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_GET_EXPEDITION_EX, a.NetUtil.sendProtoMsg(e)
            }, e.sendWorldExpeditionEx = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = n ? SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPEDITION_EX_BOSS : SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_EXPEDITION_EX;
                var o = i.addExtensions_World_pb_SglWorldMsg_world_expedition_ex_req();
                o.troop_id = e, o.npc_id = t, a.NetUtil.sendProtoMsg(i)
            }, e.sendWorldAttack = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_ATTACK;
                var i = n.addExtensions_World_pb_SglWorldMsg_world_attack_req();
                i.troop_id = e, i.level_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendWorldExplore = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create();
                i.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_ATTACK;
                var o = i.addExtensions_World_pb_SglWorldMsg_world_attack_req();
                o.troop_id = e, o.level_id = t, o.use_token = n || !1, a.NetUtil.sendProtoMsg(i)
            }, e.sendWorldCatch = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CATCH, n.setExtensions_World_pb_SglWorldMsg_world_catch_req(t), n.setExtensions_World_pb_SglWorldMsg_world_catch_level_req(e), a.NetUtil.appendGuideIdIfNeed(n), a.NetUtil.sendProtoMsg(n)
            }, e.sendWorldCatchCancel = function (e) {
                var t = SglMsg_pb.SglReqMsg.create();
                t.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_CATCH_CANCEL, t.setExtensions_World_pb_SglWorldMsg_world_catch_level_req(e), a.NetUtil.sendProtoMsg(t)
            }, e.sendWorldRecommendTroop = function (e, t) {
                var n = SglMsg_pb.SglReqMsg.create();
                n.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORD_DRILL;
                var i = n.addExtensions_World_pb_SglWorldMsg_world_drill_req();
                i.user_troop_id = e, i.troop_id = t, a.NetUtil.sendProtoMsg(n)
            }, e.sendWorldExploreCancel = function () {
                var e = SglMsg_pb.SglReqMsg.create();
                e.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_WORLD_FIND_EX_CANCEL, a.NetUtil.sendProtoMsg(e)
            }, e.sendWorldExploreFinish = function (e, t, n) {
                var i = SglMsg_pb.SglReqMsg.create(), o = i.addExtensions_World_pb_SglWorldMsg_world_attack_req();
                o.troop_id = e, o.level_id = t, o.use_token = n || !1, a.NetUtil.sendProtoMsg(i)
            }
        })(n.WorldPart || (n.WorldPart = {})), cc._RF.pop()
    }, {"../utils/NetUtil": "NetUtil"}],
    ZOrder: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "c6e085OngFNrq7pkd22mSOU", "ZOrder"), Object.defineProperty(n, "__esModule", {value: !0}), n.ZOrder = {
            scene: 0,
            ui: 100,
            side: 200,
            form: 300,
            tip: 400,
            tip_touch: 500,
            effect: 600,
            guide: 700,
            marquee: 800,
            toast: 800,
            indicator: 900,
            dialog: 1e3
        }, cc._RF.pop()
    }, {}],
    allPlists: [function (e, t, n) {
        (function (e) {
            "use strict";
            cc._RF.push(t, "b8eb2ltKuRJmr2xzgs4YojY", "allPlists");
            var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            };
            (function (e) {
                e.gAllPlists = {
                    audioInfo: [{
                        name: "res/audio/e_button_default",
                        duration: .9,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_card_get",
                        duration: 1.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_claim",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_find_match.wav",
                        duration: 3.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_find_match_over",
                        duration: 3.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_flash",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_player_upgrade",
                        duration: 4.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/m_battle",
                        duration: 114.3,
                        group: 2,
                        behavior: 0,
                        loop: !0,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_battle1",
                        duration: 47.3,
                        group: 2,
                        behavior: 0,
                        loop: !0,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_battle_lose",
                        duration: 6.8,
                        group: 2,
                        behavior: 0,
                        loop: !1,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_battle_win",
                        duration: 8.700001,
                        group: 2,
                        behavior: 0,
                        loop: !1,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_city",
                        duration: 76.9,
                        group: 2,
                        behavior: 0,
                        loop: !0,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_guide",
                        duration: 37.6,
                        group: 2,
                        behavior: 0,
                        loop: !0,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/m_loading",
                        duration: 14.4,
                        group: 2,
                        behavior: 0,
                        loop: !1,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/e_tavern_buy_package",
                        duration: 3.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_tavern_flip",
                        duration: 4.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_tavern_open_package",
                        duration: 5.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_travel_chapter",
                        duration: 1.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_tavern_flip_ur",
                        duration: 5.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_ball",
                        duration: 2.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_board",
                        duration: 2.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_buff",
                        duration: 2.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_deal",
                        duration: 1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_die",
                        duration: 1.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_equip",
                        duration: 2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_evolve",
                        duration: 2.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_flip",
                        duration: 1.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_leave",
                        duration: .5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_power",
                        duration: 1.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_using",
                        duration: .8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_coin",
                        duration: 2.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_coin_2",
                        duration: 4.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_dialog",
                        duration: 1.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_round",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_50001",
                        duration: 2.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_50002",
                        duration: 2.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_50003",
                        duration: 1.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_50004",
                        duration: 1.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_50005",
                        duration: 2.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_baozha",
                        duration: 2.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dafeng",
                        duration: 3.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dahuo",
                        duration: 2.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dashui",
                        duration: 3.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dgz",
                        duration: 3.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dikang",
                        duration: 2.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_dj",
                        duration: 1.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_duwu",
                        duration: 2.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_guafeng",
                        duration: 2.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_huoyan",
                        duration: 2.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_jiaxue",
                        duration: 2.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_ptgj",
                        duration: 2.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_rcz",
                        duration: 2.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_rdx",
                        duration: 2.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_rnj",
                        duration: 1.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_shuihua",
                        duration: 2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zhanqie",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zhuazi",
                        duration: 2.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_use_magic",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_use_monster",
                        duration: 1.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_vs",
                        duration: 1.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_guide_click",
                        duration: 1.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_troop_inout",
                        duration: 2.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_fortress_die",
                        duration: 4.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_bwft",
                        duration: 2.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_bwft_2",
                        duration: 3.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_card_shuffle",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_tavern_move",
                        duration: 1.1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_capture_fail",
                        duration: 3.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_capture_success",
                        duration: 8.900001,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_gddj1",
                        duration: 1.4,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_gddj2",
                        duration: 1.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_gddj3",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_guangshu",
                        duration: 1.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_heidong",
                        duration: 2.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_menghuo",
                        duration: 2.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_sfxg",
                        duration: 1.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zhongshui",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_siyao",
                        duration: 1.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_ciji",
                        duration: 1.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_feiyekuaidao",
                        duration: 1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/m_expedition",
                        duration: 40.1,
                        group: 2,
                        behavior: 0,
                        loop: !0,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/e_bat_skill_",
                        duration: 1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_bingdong",
                        duration: 2.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_ddj",
                        duration: 3.6,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zengyi",
                        duration: 2.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zhongdian",
                        duration: 1.3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_zhongshui_new",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_character_panel",
                        duration: .9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_countdown",
                        duration: 13.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_dailytask_flip",
                        duration: 1,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_explore_catch",
                        duration: 1.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_explore_found",
                        duration: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_pokemon_appear",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/m_video",
                        duration: 10.8,
                        group: 2,
                        behavior: 0,
                        loop: !1,
                        condition: 2,
                        switch: 0
                    }, {
                        name: "res/audio/e_caizhong_1",
                        duration: 3.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_caizhong_2",
                        duration: 2.4,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_1",
                        duration: 5.2,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_10",
                        duration: 5.7,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_11",
                        duration: 3.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_12",
                        duration: 7.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_13",
                        duration: 4.6,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_14",
                        duration: 6.5,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_15",
                        duration: 4.7,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_16",
                        duration: 9.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_17",
                        duration: 6.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_18",
                        duration: 5.2,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_19",
                        duration: 5.5,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_2",
                        duration: 4.5,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_20",
                        duration: 3.4,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_21",
                        duration: 7.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_22",
                        duration: 8.6,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_3",
                        duration: 3.9,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_4",
                        duration: 4.1,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_5",
                        duration: 3.6,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_6",
                        duration: 4.6,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_7",
                        duration: 1.9,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_9",
                        duration: 5.2,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaomao_1",
                        duration: 4.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaomao_2",
                        duration: 3.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaoxia_1",
                        duration: 3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaoxia_2",
                        duration: 4.1,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaozhi_1",
                        duration: 3.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_xiaozhi_2",
                        duration: 1.5,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_23",
                        duration: 7.5,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_24",
                        duration: 4.8,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_battle_ko",
                        duration: 2.2,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_25",
                        duration: 3.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_26",
                        duration: 4.3,
                        group: 3,
                        behavior: 1,
                        loop: !1,
                        condition: 1,
                        switch: 1
                    }, {
                        name: "res/audio/e_liliai_3_1",
                        duration: 3.5,
                        group: 0,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_jishengzhongzi",
                        duration: 1.5,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_tengbian",
                        duration: 1.7,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_magic_normal",
                        duration: 2.9,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }, {
                        name: "res/audio/e_bat_skill_duzhen",
                        duration: 1.8,
                        behavior: 1,
                        loop: !1,
                        condition: 0,
                        switch: 1
                    }]
                }
            })("object" === ("undefined" == typeof window ? "undefined" : n(window)) && window || "object" === (void 0 === e ? "undefined" : n(e)) && e || void 0), cc._RF.pop()
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    cu: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "b4a0a7Co7VBe79wgi7p3uPN", "cu"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../nox"), i = e("./NetUtil"), o = e("../const/CheatType"), r = e("../../leocool/lcAppCfg"),
            _ = e("../battle/ui/PlayerUi"), s = e("../battle/data/PlayerBattle"), c = e("../battle/ui/BattleUi"),
            l = e("../battle/data/BattleCard"), d = e("./TimeUtil"), p = e("../const/SDK_TYPE"),
            u = e("./ActivityUtil"), g = e("./PurchaseUtil"), h = e("./RechargeUtil");
        if (!cc.sys.isNative) {
            var f = void 0, m = void 0, y = void 0;
            !function (e, t) {
                "object" == typeof f && "object" == typeof m ? m.exports = t() : "function" == typeof y && y.amd ? y([], t) : "object" == typeof f ? f.noxto = t() : e.noxto = t()
            }("undefined" != typeof self ? self : this, function () {
                return function (e) {
                    var t = {};

                    function n(a) {
                        if (t[a]) return t[a].exports;
                        var i = t[a] = {i: a, l: !1, exports: {}};
                        return e[a].call(i.exports, i, i.exports, n), i.l = !0, i.exports
                    }

                    return n.m = e, n.c = t, n.d = function (e, t, a) {
                        n.o(e, t) || Object.defineProperty(e, t, {configurable: !1, enumerable: !0, get: a})
                    }, n.n = function (e) {
                        var t = e && e.__esModule ? function () {
                            return e.default
                        } : function () {
                            return e
                        };
                        return n.d(t, "a", t), t
                    }, n.o = function (e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }, n.p = "", n(n.s = 3)
                }([function (e, t, n) {
                    n.d(t, "b", function () {
                        return r
                    }), n.d(t, "c", function () {
                        return _
                    }), n.d(t, "a", function () {
                        return s
                    });
                    var a = n(1), i = function (e) {
                        return "function" == typeof e
                    };

                    function o(e) {
                        if (console) {
                            var t = console[e];
                            if (i(t)) return a.b ? function () {
                                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                console[e].apply(console, t)
                            } : console[e]
                        }
                        return function () {
                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
                        }
                    }

                    var r = o("log"), _ = o("table"), s = o("clear")
                }, function (e, t, n) {
                    n.d(t, "a", function () {
                        return a
                    }), n.d(t, "b", function () {
                        return i
                    });
                    var a = navigator.userAgent.indexOf("Firefox") > -1,
                        i = navigator.userAgent.indexOf("Edge") > -1 || navigator.userAgent.indexOf("Trident") > -1 || navigator.userAgent.indexOf("MSIE") > -1
                }, function (e, t, n) {
                    t.a = function (e) {
                        a.push(e)
                    }, t.c = function (e) {
                        a = a.filter(function (t) {
                            return t != e
                        })
                    }, t.b = function (e) {
                        for (var t = 0, n = a; t < n.length; t++) {
                            var i = n[t];
                            try {
                                i(e)
                            } catch (e) {
                            }
                        }
                    };
                    var a = []
                }, function (e, t, n) {
                    Object.defineProperty(t, "__esModule", {value: !0}), t.setDetectDelay = g, t.launch = function () {
                        g(500)
                    };
                    var a = n(1), i = n(4), o = n(5), r = (n(0), n(6)), _ = n(7), s = n(8), c = n(2);
                    n.d(t, "addListener", function () {
                        return c.a
                    }), n.d(t, "removeListener", function () {
                        return c.c
                    });
                    var l = !1, d = !0, p = 500;

                    function u() {
                        var e;
                        e = !!Object(r.a)() || !!Object(_.a)() || (a.a ? Object(s.a)() : !!Object(o.a)() || !!Object(i.a)()), l != e && Object(c.b)(l = e), p > 0 ? setTimeout(u, p) : d = !0
                    }

                    function g(e) {
                        (p = e) > 0 && d && (d = !1, u())
                    }
                }, function (e, t, n) {
                    t.a = function () {
                        return i = !1, Object(a.c)(), i
                    };
                    var a = n(0), i = !1
                }, function (e, t, n) {
                    t.a = function () {
                        return o = !1, Object(a.b)(), o
                    };
                    var a = n(0), i = document.createElement("div"), o = !1;
                    Object.defineProperty ? Object.defineProperty(i, "id", {
                        get: function () {
                            return o = !0, "id"
                        }, configurable: !0
                    }) : i.__defineGetter__ && i.__defineGetter__("id", function () {
                        return o = !0, "id"
                    })
                }, function (e, t, n) {
                    t.a = function () {
                        return window.outerWidth - window.innerWidth > a || window.outerHeight - window.innerHeight > a
                    };
                    var a = 160
                }, function (e, t, n) {
                    t.a = function () {
                        return window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized
                    }
                }, function (e, t, n) {
                    t.a = function () {
                        return o = !1, Object(a.b)(i), o
                    };
                    var a = n(0), i = /  /, o = !1;
                    i.toString = function () {
                        return o = !0, ""
                    }
                }])
            })
        }
        (function (e) {
            function t(e, t) {
                var o = SglMsg_pb.SglReqMsg.create();
                if (!a.nox.isJsb) {
                    o.type = SglMsgType_pb.ProtoMsgType.PB_TYPE_USER_CHECK_CHEAT;
                    var r = o.addExtensions_User_pb_SglUserMsg_user_check_cheat_req();
                    if (null == e) {
                        var _ = n();
                        r.md5 = _[1], r.type = _[0]
                    } else r.md5 = t, r.type = e;
                    i.NetUtil.sendProtoMsg(o)
                }
            }

            function n() {
                var e = o.CheatType.None, t = "";
                if (!a.nox.isJsb) {
                    for (var n = document.getElementsByTagName("script"), i = 0; i < n.length; i++) {
                        var r = n[i];
                        if (!r.src && r.innerHTML.length > 10485760 && (e = o.CheatType.Inject_Script), r.src.length > 0) {
                            0 != r.src.indexOf("https://h5pkmnew.vcdn.vn") && (t = _[1]);
                            var _ = r.src.match(/^https:\/\/h5pkmnew.vcdn.vn\/html5\/game.min_([0-9a-f]*)\.js$/i)
                        }
                    }
                    return a.nox.isDebug ? [o.CheatType.None, "6784628bac678d14e"] : [e, t]
                }
                return [null, null]
            }

            function f(e, n) {
                for (var i = 0; i < e.monitors.length; i++) {
                    var r = e.monitors[i], _ = e[r];
                    e.hasOwnProperty(r) ? function (n, i, r) {
                        Object.defineProperty(e, i, {
                            get: function () {
                                return a.nox.stackTrace().indexOf("at <anonymous>") > 0 && t(o.CheatType.External_Call, r + " . " + i), n
                            }, set: function (e) {
                                n = e, t(o.CheatType.Modify_Function, r + " . " + i)
                            }
                        })
                    }(_, r, n) : cc.assert(!1, "fatal error: " + n + "." + r)
                }
            }

            function m(e, n) {
                for (var i in e) if (e.hasOwnProperty(i)) {
                    var r = e[i];
                    "function" == typeof r && function (n, i, r) {
                        Object.defineProperty(e, i, {
                            get: function () {
                                return a.nox.stackTrace().indexOf("at <anonymous>") > 0 && t(o.CheatType.External_Call, r + " . " + name), n
                            }, set: function (e) {
                                n = e, t(o.CheatType.Modify_Function, r + " . " + i)
                            }
                        })
                    }(r, i, n)
                }
            }

            e.ios = !1, e.it = function () {
                a.nox.isJsb || (e.ios = !1, noxto && !r.lcAppCfg.isAdmin() && r.lcAppCfg.getSdkType() != p.SDK_TYPE.DEV && r.lcAppCfg.getSdkType() != p.SDK_TYPE.MOBY_TEST && (noxto.addListener(function (t) {
                    e.ios = t
                }), noxto.launch())), e.lfa(_.PlayerUi.prototype, "PlayerUi.prototype"), e.lfa(s.PlayerBattle.prototype, "PlayerBattle.prototype"), e.lfa(c.BattleUi.prototype, "BattleUi.prototype"), e.lfa(l.default.prototype, "BattleCard.prototype"), e.lfa(u.ActivityUtil, "ActivityUtil"), e.lfa(i.NetUtil, "NetUtil"), e.lfa(g.PurchaseUtil, "PurchaseUtil"), e.lfa(h.RechargeUtil, "RechargeUtil"), e.lfa(d.TimeUtil, "TimeUtil")
            }, e.sc = t, e.calc = n, e.lf = f, e.lfa = m, Object.defineProperty(e, "sc", {
                get: function () {
                    return t
                }
            }), Object.defineProperty(e, "lf", {
                get: function () {
                    return f
                }
            }), Object.defineProperty(e, "lfa", {
                get: function () {
                    return m
                }
            })
        })(n.cu || (n.cu = {})), cc._RF.pop()
    }, {
        "../../leocool/lcAppCfg": "lcAppCfg",
        "../../nox": "nox",
        "../battle/data/BattleCard": "BattleCard",
        "../battle/data/PlayerBattle": "PlayerBattle",
        "../battle/ui/BattleUi": "BattleUi",
        "../battle/ui/PlayerUi": "PlayerUi",
        "../const/CheatType": "CheatType",
        "../const/SDK_TYPE": "SDK_TYPE",
        "./ActivityUtil": "ActivityUtil",
        "./NetUtil": "NetUtil",
        "./PurchaseUtil": "PurchaseUtil",
        "./RechargeUtil": "RechargeUtil",
        "./TimeUtil": "TimeUtil"
    }],
    data: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "04f61LMu/FFPa51pX83kpXO", "data"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../../noxEvent"), i = e("../../nox"), o = e("../../leocool/lcStr");
        (function (e) {
            function t(t) {
                var n = 0;
                return 0 == t ? e.CardType.fortress : t < 100 ? e.CardType.res : t < 4e3 ? (n = t / e.INFO_ID_GROUP_SIZE, Math.floor(n) + 10) : t < e.INFO_ID_GROUP_SIZE_LARGE ? (n = t / e.INFO_ID_GROUP_SIZE, Math.floor(n)) : t < e.INFO_ID_FRAGMENT_SIZE_LARGE ? ((n = Math.floor(t / e.INFO_ID_GROUP_SIZE_LARGE)) == e.CardType.monster_ex && (n = e.CardType.monster), n) : e.CardType.fragment
            }

            function n(n) {
                t(n) == e.CardType.fragment && (n = P._playerCard.convert2CardId(n));
                var a = e.getType(n);
                return a == e.CardType.res ? e._resInfo[n] : a == e.CardType.monster ? e._monsterInfo[n] : a == e.CardType.magic ? e._magicInfo[n] : a == e.CardType.trap ? e._trapInfo[n] : a == e.CardType.props ? e._propsInfo[n] : null
            }

            e.INFO_ID_GROUP_SIZE = 1e3, e.INFO_ID_GROUP_SIZE_LARGE = 1e4, e.INFO_ID_FRAGMENT_SIZE_LARGE = 1e5, e.CARD_MAX_LEVEL = 5, e.CARD_COUNT_OF_INITIAL_DEAL = 6, e.CARD_COUNT_OF_ROUND_DEAL = 1, e.MAX_CARD_COUNT_ON_BOARD = 6, e.MAX_CARD_COUNT_ON_COVER = 5, e.MAX_CARD_COUNT_IN_HAND = 16, e.MAX_CARD_COUNT_IN_HAND_AFTER_DROP = 10, e.ATTACKING_SKILL_ID = 1e3, e.POWER_DOUBLE_ROUND = 4, e.NEW_REGION_DAYS = 28, e.NEWBIE_DAY_RANGE = 5, e.GreenHand_RANGE = 7, e._monsterInfo = null, e._OriginInfoIdMap = null, e._magicInfo = null, e._trapInfo = null, e._skillInfo = null, e._eventInfo = null, e._conditionInfo = null, e._activityTaskInfo = null, e._bonusInfo = null, e._helpInfo = null, e._ExchangeInfo = null, e._levelInfo = null, e._recruitInfo = null, e.initData = function () {
                e._monsterInfo = gAllInfos.monster;
                var t = {};
                for (var n in e._monsterInfo) {
                    var a = e._monsterInfo[n]._originId;
                    null == t[a] ? t[a] = [i.nox.toNumber(n)] : t[a].push(i.nox.toNumber(n))
                }
                for (var o in e._OriginInfoIdMap = t, e._magicInfo = gAllInfos.magic, e._trapInfo = gAllInfos.trap, e._eventInfo = gAllInfos.event, e._skillInfo = gAllInfos.skill, e._conditionInfo = gAllInfos.condition, e._levelInfo = gAllInfos.level, e._activityTaskInfo = gAllInfos.activity_task, e._bonusInfo = gAllInfos.bonus, e._helpInfo = gAllInfos.help, e._globalInfo = gAllInfos.global, e._propsInfo = gAllInfos.props, e._resInfo = gAllInfos.res, e._productsInfo = gAllInfos.products, e._dropInfo = gAllInfos.drop, e._chapterInfo = gAllInfos.chapter, e._activityInfo = gAllInfos.activity, e._aboutInfo = gAllInfos.about, e._troopInfo = gAllInfos.troop, e._skinInfo = gAllInfos.skin, e._tipInfo = gAllInfos.tip, e._monthCheckinInfo = gAllInfos.month_checkin, e._unionTaskInfo = gAllInfos.union_task, e._ladderInfo = gAllInfos.ladder, e._ladderChestsInfo = gAllInfos.ladder_chests, e._guideInfo = gAllInfos.guide, e._guidanceInfo = gAllInfos.guidance, e._teachInfo = gAllInfos.teach, e._fundInfo = gAllInfos.fund, e._characterInfo = gAllInfos.character, e._skillAudioInfo = gAllInfos.skill_audio, e._pvpProductsInfo = gAllInfos.pvp_products, e._pvpChatInfo = gAllInfos.pvp_chat, e._rareProductsInfo = gAllInfos.rare_products, e._unionTechInfo = gAllInfos.union_tech, e._storyInfo = gAllInfos.story, e._ladderProductsInfo = gAllInfos.ladder_products, e._ladderExProductsInfo = gAllInfos.ladder_ex_products, e._cardAdvanceInfo = gAllInfos.card_advance, e._cardObtainPathInfo = gAllInfos.card_obtain_path, e._iapInfo = gAllInfos.iap, e._catchRateInfo = gAllInfos.catch_rate, e._recruitInfo = {}, e._dropInfo) {
                    var r = e._dropInfo[o];
                    1001 != r._type && 1002 != r._type && 1011 != r._type && 1012 != r._type && 1013 != r._type && 1014 != r._type || 10200 == r._value || 10300 == r._value || 10400 == r._value || 10500 == r._value || (e._recruitInfo[r._value] = r)
                }
            }, e.POWER_CAN_USE_COUNT = function (e) {
                return 10
            }, e.POWER_DEAL_COUNT = function (t) {
                return t < e.POWER_DOUBLE_ROUND ? 1 : 2
            }, e.POWER_MAX_NUM = 6, e.MIN_BASIC_TROOP_CARD_COUNT = 5, e.MAX_TROOP_CARD_COUNT = 40, e.MIN_TROOP_CARD_COUNT = 30, e.TROOP_CARD_COUNT_1 = 40, e.TROOP_CARD_COUNT_2 = 60, e.MIN_TROOP_CARD_COUNT_2 = 40, e.MIN_RARE_TROOP_CARD_COUNT = 1, e.MAX_RARE_TROOP_CARD_COUNT = 15, e.MAX_UNION_TROOP_CARD_COUNT = 60, e.DAY_SECONDS = 86400, e.SERVER_TIME_ZONE = 28800, e.UNION_SHOP_PACKAGE_ID = 1, e.GROUP_NUM = 2, e.DJLX_REGION_ID_BASE = 161, e.RANK_TROPHY_VISIBLE_LEVEL = 30, e.CLASH_UNLOCK_LEVEL = 10102, e.UNION_UNLOCK_LEVEL = 10, e.WILD_UNLOCK_LEVEL = 10106, e.LEVEL_NUM_PER_CHAPTER = 10, e.DAILY_EXPLORE_TIMES = 5, function (e) {
                e[e.female = 0] = "female", e[e.male = 1] = "male"
            }(e.GenderType || (e.GenderType = {})), function (e) {
                e[e.nature = 11] = "nature", e[e.props = 7] = "props", e[e.magic = 3] = "magic", e[e.rare_skin = 6] = "rare_skin", e[e.keyword = 13] = "keyword", e[e.monster_ex = 2] = "monster_ex", e[e.rare = 99] = "rare", e[e.fortress = -1] = "fortress", e[e.monster_skin = 5] = "monster_skin", e[e.res = 0] = "res", e[e.fragment = 14] = "fragment", e[e.category = 12] = "category", e[e.other = 60] = "other", e[e.trap = 4] = "trap", e[e.monster = 1] = "monster", e[e.boss = -2] = "boss"
            }(e.CardType || (e.CardType = {})), e.BaseCardTypes = [e.CardType.monster, e.CardType.magic, e.CardType.trap], function (e) {
                e[e.C = 1] = "C", e[e.U = 2] = "U", e[e.R = 3] = "R", e[e.RR = 4] = "RR", e[e.SR = 5] = "SR", e[e.HR = 6] = "HR", e[e.UR = 7] = "UR", e[e.count = 7] = "count"
            }(e.CardQuality || (e.CardQuality = {})), function (e) {
                e[e.wei = 1] = "wei", e[e.shu = 2] = "shu", e[e.wu = 3] = "wu", e[e.qun = 4] = "qun", e[e.mo = 5] = "mo", e[e.dragon = 6] = "dragon", e[e.count = 6] = "count"
            }(e.CardCountry || (e.CardCountry = {})), function (e) {
                e[e.grass = 1] = "grass", e[e.fire = 2] = "fire", e[e.water = 3] = "water", e[e.thunder = 4] = "thunder", e[e.psycho = 5] = "psycho", e[e.might = 6] = "might", e[e.dark = 7] = "dark", e[e.steel = 8] = "steel", e[e.god = 9] = "god", e[e.dragon = 10] = "dragon", e[e.common = 11] = "common", e[e.count = 11] = "count"
            }(e.CardNature || (e.CardNature = {})), function (e) {
                e[e.ex = 2] = "ex", e[e.gx = 3] = "gx", e[e.normal = 1] = "normal"
            }(e.CardCategory || (e.CardCategory = {})), function (e) {
                e[e.em = 3] = "em", e[e.hmfs = 1] = "hmfs", e[e.cszs = 4] = "cszs", e[e.qybl = 2] = "qybl", e[e.ymx = 6] = "ymx", e[e.lzq = 5] = "lzq", e[e.ys = 7] = "ys", e[e.zhy = 8] = "zhy"
            }(e.CardKeyword || (e.CardKeyword = {})), function (e) {
                e[e.is_token = 4] = "is_token", e[e.hide_def = 2] = "hide_def", e[e.hide_atk = 1] = "hide_atk"
            }(e.CardOption || (e.CardOption = {})), function (e) {
                e[e.score = 7] = "score", e[e.tavern = 12] = "tavern", e[e.forum = 1] = "forum", e[e.weekend = 3] = "weekend", e[e.region_time = 13] = "region_time", e[e.login = 4] = "login", e[e.rank = 10] = "rank", e[e.gift = 15] = "gift", e[e.festival = 11] = "festival", e[e.chapter = 5] = "chapter", e[e.charge = 6] = "charge", e[e.consume = 9] = "consume", e[e.market = 8] = "market", e[e.split = 14] = "split", e[e.level = 2] = "level"
            }(e.ActType || (e.ActType = {})), function (e) {
                e[e.all = 0] = "all", e[e.monster_attack = 1] = "monster_attack", e[e.monster_body = 2] = "monster_body", e[e.monster_strength = 3] = "monster_strength", e[e.monster_ability = 4] = "monster_ability", e[e.magic_item = 5] = "magic_item", e[e.magic_equip = 6] = "magic_equip", e[e.magic_special = 7] = "magic_special", e[e.leader_magic = 8] = "leader_magic", e[e.fortress = 9] = "fortress", e[e.shield = 11] = "shield", e[e.shieldEx = 12] = "shieldEx"
            }(e.SkillType || (e.SkillType = {})), function (e) {
                e[e.once = 0] = "once", e[e.halo = 1] = "halo", e[e.using = 2] = "using", e[e.bcs2gl = 3] = "bcs2gl", e[e.bcs2_ = 4] = "bcs2_", e[e.p2b = 5] = "p2b", e[e.choice = 6] = "choice", e[e.sacrifice = 7] = "sacrifice", e[e.cost = 8] = "cost", e[e.g2b = 9] = "g2b", e[e.defeat_b2g = 10] = "defeat_b2g", e[e.spelling = 21] = "spelling", e[e.under_spell = 22] = "under_spell", e[e.under_defend_spell = 23] = "under_defend_spell", e[e.under_spell_damage = 24] = "under_spell_damage", e[e.under_counter_spell = 25] = "under_counter_spell", e[e.after_spell = 26] = "after_spell", e[e.under_ruse_casted = 27] = "under_ruse_casted", e[e.under_ruse_using_casted = 28] = "under_ruse_using_casted", e[e.spell_damage = 29] = "spell_damage", e[e.initiative = 31] = "initiative", e[e.round_begin = 41] = "round_begin", e[e.round_end = 42] = "round_end", e[e.oppo_round_begin = 43] = "oppo_round_begin", e[e.oppo_round_end = 44] = "oppo_round_end", e[e.h2g_by_self = 51] = "h2g_by_self", e[e.h2g_by_oppo = 52] = "h2g_by_oppo", e[e.p2g_by_self = 53] = "p2g_by_self", e[e.p2g_by_oppo = 54] = "p2g_by_oppo", e[e.magic = 61] = "magic", e[e.trap = 71] = "trap", e[e.use_disable = 81] = "use_disable", e[e.use_normal_disable = 82] = "use_normal_disable", e[e.use_special_disable = 83] = "use_special_disable", e[e.use_special_disable_except = 84] = "use_special_disable_except", e[e.use_specific_by_another_card = 86] = "use_specific_by_another_card", e[e.use_specific_by_condition = 85] = "use_specific_by_condition", e[e.in_grave = 91] = "in_grave", e[e.in_hand = 92] = "in_hand", e[e.fortress_damaged = 101] = "fortress_damaged", e[e.oppo_fortress_damaged = 102] = "oppo_fortress_damaged", e[e.magic_casted = 111] = "magic_casted", e[e.oppo_magic_casted = 112] = "oppo_magic_casted", e[e.trap_casted = 113] = "trap_casted", e[e.oppo_trap_casted = 114] = "oppo_trap_casted", e[e.monster_initiative = 115] = "monster_initiative", e[e.card_destroyed_from_bcs = 121] = "card_destroyed_from_bcs", e[e.oppo_card_destroyed_from_bcs = 122] = "oppo_card_destroyed_from_bcs", e[e.card_destroyed_from_hand = 123] = "card_destroyed_from_hand", e[e.oppo_card_destroyed_from_hand = 124] = "oppo_card_destroyed_from_hand", e[e.card_destroyed_from_pile = 125] = "card_destroyed_from_pile", e[e.oppo_card_destroyed_from_pile = 126] = "oppo_card_destroyed_from_pile", e[e.pos_changed = 131] = "pos_changed", e[e.monster_to_board = 132] = "monster_to_board", e[e.oppo_monster_to_board = 133] = "oppo_monster_to_board"
            }(e.SkillMode || (e.SkillMode = {})), function (e) {
                e[e.none = 0] = "none", e[e.self_board_card = 1] = "self_board_card", e[e.oppo_board_card = 2] = "oppo_board_card", e[e.board_card = 3] = "board_card"
            }(e.SkillTargetType || (e.SkillTargetType = {})), function (e) {
                e[e.item = 11] = "item", e[e.equip = 12] = "equip", e[e.special = 13] = "special", e[e.power = 14] = "power", e[e.character = 15] = "character"
            }(e.MagicTrapType || (e.MagicTrapType = {})), function (e) {
                e[e.unknown = 0] = "unknown", e[e.gold = 1] = "gold", e[e.ingot = 3] = "ingot", e[e.binding_ingot = 26] = "binding_ingot", e[e.exp = 4] = "exp", e[e.ladder_trophy = 5] = "ladder_trophy", e[e.clash_trophy = 6] = "clash_trophy", e[e.character_exp = 7] = "character_exp", e[e.achieve_point = 8] = "achieve_point", e[e.explore_token = 9] = "explore_token", e[e.union_gold = 11] = "union_gold", e[e.union_wood = 12] = "union_wood", e[e.union_act = 13] = "union_act", e[e.union_personal_power = 14] = "union_personal_power", e[e.union_battle_trophy = 15] = "union_battle_trophy", e[e.dark_trophy = 16] = "dark_trophy", e[e.ghost = 20] = "ghost", e[e.blood_jade = 21] = "blood_jade", e[e.sun_spirit = 8022] = "sun_spirit", e[e.victory_star = 8023] = "victory_star", e[e.dead_ticket = 8024] = "dead_ticket", e[e.new_clash_trophy = -100] = "new_clash_trophy", e[e.union_devote = 28] = "union_devote"
            }(e.ResType || (e.ResType = {})), function (e) {
                e[e.box = 1] = "box", e[e.consumable = 2] = "consumable", e[e.token = 3] = "token", e[e.artifact = 6] = "artifact", e[e.ball = 13] = "ball", e[e.all = 1e3] = "all"
            }(e.PropsType || (e.PropsType = {})), function (e) {
                e[e.horse_shoes = 7031] = "horse_shoes", e[e.dust_monster = 7015] = "dust_monster", e[e.void_diamond = 7114] = "void_diamond", e[e.skin_crystal = 7109] = "skin_crystal", e[e.monster_stone_sr = 7203] = "monster_stone_sr", e[e.avatar_frame_xmas_2 = 7508] = "avatar_frame_xmas_2", e[e.miracle_indicator = 7101] = "miracle_indicator", e[e.union_create = 7038] = "union_create", e[e.bling_metal = 7120] = "bling_metal", e[e.vip_card = 7098] = "vip_card", e[e.evolve_stone = 7004] = "evolve_stone", e[e.stone_rare = 7020] = "stone_rare", e[e.union_fund = 7130] = "union_fund", e[e.obelisk_badge = 7006] = "obelisk_badge", e[e.the_brave_emblem = 7207] = "the_brave_emblem", e[e.avatar_frame = 7500] = "avatar_frame", e[e.flower_rare = 7022] = "flower_rare", e[e.armor_box_rare = 7027] = "armor_box_rare", e[e.pumpkin_pie = 7093] = "pumpkin_pie", e[e.dust_magic = 7016] = "dust_magic", e[e.stone_legend = 7021] = "stone_legend", e[e.card_advance_end = 199999] = "card_advance_end", e[e.armor_box_legend = 7029] = "armor_box_legend", e[e.rare_package_ticket = 7105] = "rare_package_ticket", e[e.dragon_flag = 7131] = "dragon_flag", e[e.trap_stone_sr = 7223] = "trap_stone_sr", e[e.rare_stone_r = 7232] = "rare_stone_r", e[e.magic_stone_r = 7212] = "magic_stone_r", e[e.avatar_frame_level_rank = 7502] = "avatar_frame_level_rank", e[e.magic_stone_ur = 7214] = "magic_stone_ur", e[e.flower_legend = 7023] = "flower_legend", e[e.polish = 7025] = "polish", e[e.avatar_frame_clash_1 = 7509] = "avatar_frame_clash_1", e[e.magic_stone_n = 7211] = "magic_stone_n", e[e.dimension_bottle = 7103] = "dimension_bottle", e[e.ladder_chest = 7900] = "ladder_chest", e[e.exp_bottle = 7117] = "exp_bottle", e[e.special = 7500] = "special", e[e.recruit_token = 7010] = "recruit_token", e[e.dust_trap = 7017] = "dust_trap", e[e.magic_stone_sr = 7213] = "magic_stone_sr", e[e.avatar_frame_xmas = 7506] = "avatar_frame_xmas", e[e.avatar_frame_xmas_1 = 7507] = "avatar_frame_xmas_1", e[e.lottery_token = 7104] = "lottery_token", e[e.purple_horse_f_box = 7014] = "purple_horse_f_box", e[e.trap_stone_ur = 7224] = "trap_stone_ur", e[e.avatar_frame_clash_2 = 7510] = "avatar_frame_clash_2", e[e.avatar_frame_clash_3 = 7511] = "avatar_frame_clash_3", e[e.weapon_box_rare = 7026] = "weapon_box_rare", e[e.card_back = 7600] = "card_back", e[e.user_badge = 7200] = "user_badge", e[e.orange_hero_f_box = 7001] = "orange_hero_f_box", e[e.rare_stone_ = 7231] = "rare_stone_", e[e.monster_stone_n = 7201] = "monster_stone_n", e[e.card_back_moon_day = 7601] = "card_back_moon_day", e[e.officer_seal = 7097] = "officer_seal", e[e.refresh_token = 7012] = "refresh_token", e[e.card_back_xmas = 7602] = "card_back_xmas", e[e.millennium_block = 7102] = "millennium_block", e[e.weapon_box_legend = 7028] = "weapon_box_legend", e[e.clash_chest_end = 7856] = "clash_chest_end", e[e.trap_stone_r = 7222] = "trap_stone_r", e[e.sweep_card = 7030] = "sweep_card", e[e.iron_book = 7096] = "iron_book", e[e.avatar_frame_clash_4 = 7512] = "avatar_frame_clash_4", e[e.rare_stone_sr = 7233] = "rare_stone_sr", e[e.ladder_chest_end = 7914] = "ladder_chest_end", e[e.evolute_material = 7011] = "evolute_material", e[e.card_advance_start = 1e5] = "card_advance_start", e[e.tied_feed = 7122] = "tied_feed", e[e.trap_stone_n = 7221] = "trap_stone_n", e[e.monster_stone_r = 7202] = "monster_stone_r", e[e.explore_token = 7119] = "explore_token", e[e.avatar_frame_national_day = 7501] = "avatar_frame_national_day", e[e.card_package_box = 7002] = "card_package_box", e[e.clash_chest = 7800] = "clash_chest", e[e.ball_begin = 7050] = "ball_begin", e[e.pumpkin_box = 7094] = "pumpkin_box", e[e.ball_end = 7060] = "ball_end", e[e.rare_coin = 7110] = "rare_coin", e[e.yubi = 7024] = "yubi", e[e.exp_bottle_s = 7116] = "exp_bottle_s", e[e.dust_rare = 7018] = "dust_rare", e[e.avatar_frame_level_rank1 = 7503] = "avatar_frame_level_rank1", e[e.character_package_ticket = 7111] = "character_package_ticket", e[e.orange_horse_f_box = 7013] = "orange_horse_f_box", e[e.legend_chest = 7107] = "legend_chest", e[e.common_fragment = 7115] = "common_fragment", e[e.magic_dust = 7108] = "magic_dust", e[e.rare_silver_coin = 7112] = "rare_silver_coin", e[e.rare_stone_ur = 7234] = "rare_stone_ur", e[e.purple_hero_f_box = 7003] = "purple_hero_f_box", e[e.ladder_ticket = 7106] = "ladder_ticket", e[e.flag = 7019] = "flag", e[e.monster_stone_ur = 7204] = "monster_stone_ur", e[e.comet_fragment = 7128] = "comet_fragment", e[e.pvp_fragment = 7121] = "pvp_fragment", e[e.avatar_frame_level_rank2 = 7504] = "avatar_frame_level_rank2", e[e.avatar_frame_level_rank3 = 7505] = "avatar_frame_level_rank3", e[e.times_package_ticket = 7113] = "times_package_ticket", e[e.horse_armor = 7032] = "horse_armor",e[e.toffees = 7095] = "toffees",e[e.clash_total_chest = 7850] = "clash_total_chest",e[e.clash_total_chest_end = 7899] = "clash_total_chest_end",e[e.new_clash_chest = 8051] = "new_clash_chest",e[e.new_clash_chest_end = 8054] = "new_clash_chest_end",e[e.new_clash_total_chest = 8041] = "new_clash_total_chest",e[e.new_clash_total_chest_end = 8043] = "new_clash_total_chest_end",e[e.winning_streak_clash_chest = 8100] = "winning_streak_clash_chest",e[e.winning_streak_clash_chest_end = 8156] = "winning_streak_clash_chest_end"
            }(e.PropsId || (e.PropsId = {})), function (e) {
                e[e.lord = 1] = "lord", e[e.character = 2] = "character", e[e.equip = 3] = "equip", e[e.horse = 4] = "horse", e[e.book = 5] = "book", e[e.daily_task = 6] = "daily_task", e[e.week_checkin = 7] = "week_checkin", e[e.online = 8] = "online", e[e.login = 9] = "login", e[e.month_checkin = 10] = "month_checkin", e[e.vip_daily = 11] = "vip_daily", e[e.grain = 12] = "grain", e[e.month_card = 13] = "month_card", e[e.guide = 14] = "guide", e[e.level = 15] = "level", e[e.union = 16] = "union", e[e.novice = 17] = "novice", e[e.pass_chapter = 18] = "pass_chapter", e[e.clash_target = 19] = "clash_target", e[e.activity = 20] = "activity", e[e.fund_level = 21] = "fund_level", e[e.fund_all = 22] = "fund_all", e[e.invite = 23] = "invite", e[e.facebook = 24] = "facebook", e[e.fund_7days = 25] = "fund_7days", e[e.return_to_game = 30] = "return_to_game", e[e.clash = 31] = "clash", e[e.clash_conti = 32] = "clash_conti", e[e.clash_legacy = 33] = "clash_legacy", e[e.clash_local = 34] = "clash_local", e[e.clash_zone = 35] = "clash_zone", e[e.arena_once = 36] = "arena_once", e[e.arena_all = 37] = "arena_all", e[e.arena_12 = 38] = "arena_12", e[e.gold_gain = 41] = "gold_gain", e[e.card_sr = 42] = "card_sr", e[e.card_ur = 43] = "card_ur", e[e.login_day = 44] = "login_day", e[e.any_level = 45] = "any_level", e[e.gold_cost = 51] = "gold_cost", e[e.gem_cost = 52] = "gem_cost", e[e.card_package = 53] = "card_package", e[e.bottle = 54] = "bottle", e[e.clash_chests1 = 55] = "clash_chests1", e[e.clash_chests2 = 56] = "clash_chests2", e[e.clash_chests3 = 57] = "clash_chests3", e[e.clash_chests4 = 58] = "clash_chests4", e[e.clash_chests5 = 59] = "clash_chests5", e[e.teach = 60] = "teach", e[e.daily_active = 61] = "daily_active", e[e.fund_task = 70] = "fund_task", e[e.union_adventure_with_mates = 71] = "union_adventure_with_mates", e[e.send = 75] = "send", e[e.clash_new_chests1 = 90] = "clash_new_chests1", e[e.clash_new_chests2 = 91] = "clash_new_chests2", e[e.clash_new_chests3 = 92] = "clash_new_chests3", e[e.clash_new_chests4 = 93] = "clash_new_chests4", e[e.clash_new_chests5 = 94] = "clash_new_chests5", e[e.tired_count1 = 100] = "tired_count1", e[e.tired_count2 = 101] = "tired_count2", e[e.tired_count3 = 102] = "tired_count3", e[e.tired_count4 = 103] = "tired_count4", e[e.week_package1 = 106] = "week_package1", e[e.week_package2 = 107] = "week_package2", e[e.week_package3 = 108] = "week_package3", e[e.holiday_super_card_package1 = 250] = "holiday_super_card_package1", e[e.holiday_super_card_package2 = 299] = "holiday_super_card_package2", e[e.open_server = 140] = "open_server", e[e.open_server_tired_count = 141] = "open_server_tired_count", e[e.open_server_limit_gift1 = 142] = "open_server_limit_gift1", e[e.open_server_limit_gift2 = 143] = "open_server_limit_gift2", e[e.open_server_limit_gift3 = 144] = "open_server_limit_gift3", e[e.new_server_recharge_discounts = 146] = "new_server_recharge_discounts", e[e.worship = 231] = "worship", e[e.primeTime1 = 505] = "primeTime1", e[e.primeTime2 = 503] = "primeTime2", e[e.primeTime3 = 504] = "primeTime3", e[e.daily_card = 603] = "daily_card", e[e.preferential = 499] = "preferential", e[e.newGuidance = 604] = "newGuidance", e[e.newSuitBags = 605] = "newSuitBags", e[e.rodReward = 607] = "rodReward", e[e.sevenRecharge = 621] = "sevenRecharge", e[e.sevenRecharge2 = 200] = "sevenRecharge2", e[e.sevenRecharge_end = 699] = "sevenRecharge_end", e[e.new_server_tired = 854] = "new_server_tired", e[e.super_growth_fund = 861] = "super_growth_fund", e[e.anniversary_sign = 557] = "anniversary_sign", e[e.anniversary_wheel = 567] = "anniversary_wheel", e[e.birthday_cake_rank = 566] = "birthday_cake_rank", e[e.birthday_cake_submit = 565] = "birthday_cake_submit", e[e.anniversary_exchange = 559] = "anniversary_exchange", e[e.anniversary_exchange_conditions = 558] = "anniversary_exchange_conditions"
            }(e.BonusType || (e.BonusType = {})), function (e) {
                e[e.birthday_cake = 737] = "birthday_cake", e[e.anniversary_wheel = 744] = "anniversary_wheel", e[e.anniversary_discount = 743] = "anniversary_discount", e[e.anniversary_redPacket = 27] = "anniversary_redPacket", e[e.newyearecharge = 745] = "newyearecharge", e[e.valentine_rose = 746] = "valentine_rose", e[e.daily_card_open = 742] = "daily_card_open", e[e.jizi_1 = 430] = "jizi_1", e[e.jizi_2 = 431] = "jizi_2", e[e.wheel = 828] = "wheel"
            }(e.ActivityId || (e.ActivityId = {})), function (e) {
                e[e.novice = 5] = "novice", e[e.month_checkin = 1] = "month_checkin", e[e.vip = 3] = "vip", e[e.online = 6] = "online", e[e.month_card = 4] = "month_card", e[e.number = 6] = "number", e[e.week_checkin = 2] = "week_checkin"
            }(e.CheckinType || (e.CheckinType = {})), function (e) {
                e[e.upgrade_equip = 6] = "upgrade_equip", e[e.collect_in_farmland = 4] = "collect_in_farmland", e[e.upgrade_hero = 1] = "upgrade_hero", e[e.collect_fragment = 9] = "collect_fragment", e[e.expedition = 14] = "expedition", e[e.rob_horse = 10] = "rob_horse", e[e.lottery_hero = 2] = "lottery_hero", e[e.collect_in_residence = 3] = "collect_in_residence", e[e.open_box = 17] = "open_box", e[e.challenge_elite = 7] = "challenge_elite", e[e.copy_boss = 16] = "copy_boss", e[e.challenge_uboss = 18] = "challenge_uboss", e[e.upgrade_horse = 11] = "upgrade_horse", e[e.city_battle_win = 8] = "city_battle_win", e[e.player_battle_win = 5] = "player_battle_win"
            }(e.DailyTaskType || (e.DailyTaskType = {})), function (e) {
                e[e.exchange_minor = 103] = "exchange_minor", e[e.exchange_daily = 104] = "exchange_daily", e[e.pvp = 101] = "pvp", e[e.exchange_once = 105] = "exchange_once"
            }(e.ActivityTaskType || (e.ActivityTaskType = {})), function (e) {
                e[e.card = 2] = "card", e[e.chapter = 0] = "chapter", e[e.level = 1] = "level"
            }(e.MainTaskType || (e.MainTaskType = {})), function (e) {
                e[e.product_1 = 1] = "product_1", e[e.product_2 = 2] = "product_2", e[e.product_3 = 3] = "product_3", e[e.product_4 = 4] = "product_4", e[e.product_5 = 5] = "product_5", e[e.product_6 = 6] = "product_6", e[e.product_7 = 7] = "product_7", e[e.product_8 = 8] = "product_8", e[e.month_card_1 = 11] = "month_card_1", e[e.month_card_2 = 12] = "month_card_2", e[e.month_card_3 = 13] = "month_card_3", e[e.fund = 14] = "fund", e[e.daily_1 = 15] = "daily_1", e[e.daily_2 = 16] = "daily_2", e[e.package_1 = 21] = "package_1", e[e.package_2 = 22] = "package_2", e[e.package_3 = 23] = "package_3", e[e.package_4 = 24] = "package_4", e[e.package_5 = 25] = "package_5", e[e.package_6 = 26] = "package_6", e[e.package_7 = 27] = "package_7", e[e.package_8 = 28] = "package_8", e[e.package_9 = 29] = "package_9", e[e.limit_1 = 31] = "limit_1", e[e.limit_2 = 32] = "limit_2", e[e.limit_3 = 33] = "limit_3", e[e.limit_4 = 34] = "limit_4", e[e.limit_5 = 35] = "limit_5", e[e.limit_6 = 36] = "limit_6", e[e.limit_7 = 37] = "limit_7", e[e.limit_8 = 38] = "limit_8", e[e.limit_9 = 39] = "limit_9", e[e.fund_1 = 41] = "fund_1", e[e.fund_2 = 42] = "fund_2", e[e.fund_3 = 43] = "fund_3", e[e.fund_4 = 44] = "fund_4", e[e.fund_5 = 45] = "fund_5", e[e.fund_6 = 46] = "fund_6", e[e.fund_sign_in = 47] = "fund_sign_in", e[e.checkin = 51] = "checkin", e[e.fund_task = 52] = "fund_task", e[e.return_to_game = 81] = "return_to_game", e[e.ad_recharge = 82] = "ad_recharge", e[e.ad_package = 83] = "ad_package", e[e.ad_custom_1 = 84] = "ad_custom_1", e[e.ad_custom_2 = 85] = "ad_custom_2", e[e.ad_custom_3 = 86] = "ad_custom_3", e[e.ad_custom_4 = 87] = "ad_custom_4", e[e.ad_custom_end = 87] = "ad_custom_end"
            }(e.PurchaseType || (e.PurchaseType = {})), function (e) {
                e[e.limit_1 = 31] = "limit_1", e[e.limit_2 = 32] = "limit_2", e[e.limit_3 = 33] = "limit_3", e[e.limit_4 = 34] = "limit_4", e[e.limit_5 = 35] = "limit_5", e[e.limit_6 = 36] = "limit_6", e[e.limit_7 = 37] = "limit_7", e[e.limit_8 = 38] = "limit_8", e[e.limit_9 = 39] = "limit_9", e[e.checkin = 51] = "checkin"
            }(e.PopupType || (e.PopupType = {})), function (e) {
                e[e.library = 13] = "library", e[e.guard = 17] = "guard", e[e.blacksmith = 3] = "blacksmith", e[e.union = 16] = "union", e[e.expedition = 12] = "expedition", e[e.train = 15] = "train", e[e.tavern = 6] = "tavern", e[e.ladder = 11] = "ladder", e[e.depot = 21] = "depot", e[e.market = 5] = "market", e[e.tavern_draw_card = 602] = "tavern_draw_card", e[e.skin_shop = 25] = "skin_shop", e[e.tavern_diamond_shop = 608] = "tavern_diamond_shop", e[e.tavern_aether_shop = 604] = "tavern_aether_shop", e[e.clash = 10] = "clash", e[e.activity_pvp = 22] = "activity_pvp", e[e.shop = 605] = "shop", e[e.barrack = 2] = "barrack", e[e.battle = 24] = "battle", e[e.invite = 23] = "invite", e[e.tavern_rare_draw_card = 603] = "tavern_rare_draw_card", e[e.herocenter = 1] = "herocenter", e[e.union_battle = 27] = "union_battle", e[e.pvp = 9] = "pvp", e[e.race = 14] = "race", e[e.tavern_rare_shop = 606] = "tavern_rare_shop", e[e.room = 26] = "room", e[e.stable = 4] = "stable", e[e.lottery = 19] = "lottery", e[e.tavern_time_limit = 601] = "tavern_time_limit", e[e.tavern_times_limit = 607] = "tavern_times_limit", e[e.dark = 28] = "dark", e[e.rob_exp = 20] = "rob_exp", e[e.tavern_god_pump = 609] = "tavern_god_pump", e[e.heromansion = 7] = "heromansion"
            }(e.HelpType || (e.HelpType = {})), function (e) {
                e[e.lord_reputation = 1] = "lord_reputation", e[e.lord_guard = 3] = "lord_guard", e[e.lord_yubi = 6] = "lord_yubi", e[e.lord_tax = 2] = "lord_tax", e[e.lord_exp = 5] = "lord_exp"
            }(e.UnionTechId || (e.UnionTechId = {})), function (e) {
                e[e.battle = 3] = "battle", e[e.union = 4] = "union", e[e.world = 1] = "world", e[e.bulletin = 2] = "bulletin", e[e.customize = 5] = "customize"
            }(e.MsgType || (e.MsgType = {})), function (e) {
                e[e.hall = 4] = "hall", e[e.explore = 101] = "explore", e[e.clash = 3] = "clash", e[e.union_battle = 5] = "union_battle", e[e.ladder = 2] = "ladder", e[e.wait = 102] = "wait", e[e.dark = 6] = "dark", e[e.trophy = 1] = "trophy"
            }(e.FindMatchType || (e.FindMatchType = {})), function (e) {
                e[e.region = 3] = "region", e[e.lord = 1] = "lord", e[e.dark = 4] = "dark", e[e.union = 2] = "union"
            }(e.RankRange || (e.RankRange = {})), function (e) {
                e[e.bronze = 1] = "bronze", e[e.gold = 3] = "gold", e[e.silver = 2] = "silver", e[e.platinum = 4] = "platinum", e[e.legend = 5] = "legend"
            }(e.FindClashGrade || (e.FindClashGrade = {})), function (e) {
                e[e.chat_ban = 1] = "chat_ban", e[e.mail_free = 2] = "mail_free"
            }(e.Privilege || (e.Privilege = {})), function (e) {
                e[e.need_more_daily_buy_gold = -32742] = "need_more_daily_buy_gold", e[e.card_contain_legend = -32735] = "card_contain_legend", e[e.claim_not_support = -32733] = "claim_not_support", e[e.task_doing = -32702] = "task_doing", e[e.need_more_union_wood = -32711] = "need_more_union_wood", e[e.need_more_evolutematerial = -32745] = "need_more_evolutematerial", e[e.more_than_union_level = -32708] = "more_than_union_level", e[e.achieve_cant_claim = -32739] = "achieve_cant_claim", e[e.need_more_purple_hero_f_box = -32753] = "need_more_purple_hero_f_box", e[e.invalid_fixity_status = -32760] = "invalid_fixity_status", e[e.need_more_recruittoken = -32746] = "need_more_recruittoken", e[e.card_evoluted = -32732] = "card_evoluted", e[e.leader_operate = -32728] = "leader_operate", e[e.elder_operate = -32727] = "elder_operate", e[e.invalid_position = -32762] = "invalid_position", e[e.rookie_operate = -32725] = "rookie_operate", e[e.need_more_ingot = -32758] = "need_more_ingot", e[e.union_operate = -32724] = "union_operate", e[e.need_more_dust = -32721] = "need_more_dust", e[e.need_more_stonerare = -32720] = "need_more_stonerare", e[e.need_more_flowerrare = -32718] = "need_more_flowerrare", e[e.need_more_flowerlegend = -32717] = "need_more_flowerlegend", e[e.timestamp_out_of_sync = -32766] = "timestamp_out_of_sync", e[e.error = -32768] = "error", e[e.invalid_param = -32764] = "invalid_param", e[e.card_already_max_level = -32737] = "card_already_max_level", e[e.card_in_troop = -32716] = "card_in_troop", e[e.need_more_samecard = -32743] = "need_more_samecard", e[e.need_more_storage = -32744] = "need_more_storage", e[e.need_more_yubi = -32715] = "need_more_yubi", e[e.need_more_polish = -32714] = "need_more_polish", e[e.need_more_union_gold = -32712] = "need_more_union_gold", e[e.invalid_id = -32763] = "invalid_id", e[e.need_more_flag = -32723] = "need_more_flag", e[e.need_more_union_act = -32710] = "need_more_union_act", e[e.need_more_exphorse = -32705] = "need_more_exphorse", e[e.union_elder_max = -32713] = "union_elder_max", e[e.need_more_gold = -32757] = "need_more_gold", e[e.achieve_level_out_of_sync = -32740] = "achieve_level_out_of_sync", e[e.invalid_type = -32761] = "invalid_type", e[e.need_more_purple_horse_f_box = -32730] = "need_more_purple_horse_f_box", e[e.unknown = -32767] = "unknown", e[e.ingot_out_of_sync = -32765] = "ingot_out_of_sync", e[e.ok = 0] = "ok", e[e.need_more_horse_shoes = -32707] = "need_more_horse_shoes", e[e.need_more_horse_armor = -32706] = "need_more_horse_armor", e[e.claimed = -32734] = "claimed", e[e.need_more_union_tech_res = -32709] = "need_more_union_tech_res", e[e.need_more_orange_horse_f_box = -32731] = "need_more_orange_horse_f_box", e[e.need_more_visit_prop = -32704] = "need_more_visit_prop", e[e.need_more_orange_hero_f_box = -32755] = "need_more_orange_hero_f_box", e[e.hero_leave = -32703] = "hero_leave", e[e.card_need_evolution = -32738] = "card_need_evolution", e[e.invalid_battle_status = -32759] = "invalid_battle_status", e[e.card_not_support = -32736] = "card_not_support", e[e.need_more_exchange_res = -32701] = "need_more_exchange_res", e[e.union_level_max = -32700] = "union_level_max", e[e.compose_common_fragment = -32698] = "compose_common_fragment", e[e.fragment_not_enough = -32699] = "fragment_not_enough", e[e.need_more_stonelegend = -32719] = "need_more_stonelegend", e[e.card_cannot_compose = -32722] = "card_cannot_compose", e[e.contain_guard_hero = -32729] = "contain_guard_hero"
            }(e.ErrorType || (e.ErrorType = {})), e.Event = {
                time_hour_changed: new a.noxEvent0,
                user_dirty: new a.noxEvent1,
                week_defense_dirty: "week defense dirty",
                gold_dirty: new a.noxEvent0,
                dark_trophy_dirty: "dark trophy dirty",
                union_member_dirty: new a.noxEvent0,
                daily_active_dirty: new a.noxEvent0,
                prop_dirty: new a.noxEvent1,
                bind_gcid_dirty: new a.noxEvent0,
                vip_dirty: new a.noxEvent0,
                trophy_dirty: new a.noxEvent0,
                card_list_dirty: new a.noxEvent1,
                character_dirty: new a.noxEvent0,
                fixity_dirty: "fixity dirty",
                gift_closed: "gift closed",
                fragment_market_open: new a.noxEvent0,
                fragment_market_closed: new a.noxEvent0,
                rematch_npc: new a.noxEvent1,
                union_level_upgrade: new a.noxEvent1,
                room_list_dirty: "room list dirty",
                ingot_dirty: new a.noxEvent0,
                binding_ingot_dirty: new a.noxEvent0,
                daily_gold_dirty: "daily gold dirty",
                union_battle_trophy_dirty: "union battle trophy dirty",
                market_list_dirty: new a.noxEvent1,
                guard_confirm: "guard confirm",
                refresh_count_dirty: "refresh count dirty",
                server_bonus_list_dirty: new a.noxEvent0,
                unlock_character_dirty: new a.noxEvent0,
                invalid_tutorial: new a.noxEvent0,
                init_process: "event_init_process",
                fund_task_dirty: new a.noxEvent0,
                city_dirty: "city dirty",
                avatar_frame_dirty: new a.noxEvent0,
                city_sweep: "city sweep",
                icon_dirty: new a.noxEvent0,
                union_list_dirty: "union list dirty",
                train_dirty: "train dirty",
                server_hour_changed: new a.noxEvent0,
                mix_hero: "mix hero",
                rank_list_dirty: new a.noxEvent2,
                log_dirty: new a.noxEvent1,
                recharge_success: new a.noxEvent1,
                union_recommand_dirty: new a.noxEvent0,
                server_day_changed: new a.noxEvent0,
                bonus_dirty: new a.noxEvent1,
                week_attack_dirty: "week attack dirty",
                log_shared: new a.noxEvent1,
                name_dirty: new a.noxEvent0,
                task_points_dirty: "task points dirty",
                union_exit_dirty: new a.noxEvent0,
                union_search_dirty: new a.noxEvent0,
                message: new a.noxEvent1,
                fragment_dirty: "fragment dirty",
                union_res_dirty: new a.noxEvent1,
                union_tech_dirty: "union tech dirty",
                union_tech_upgrade: "union tech upgrade",
                room_res_dirty: "room res dirty",
                clash_trophy_dirty: new a.noxEvent0,
                card_flag_dirty: new a.noxEvent1,
                union_group_dirty: "union group dirty",
                union_donate_done: new a.noxEvent0,
                union_battle_ready: "union battle ready",
                union_task_refresh: new a.noxEvent0,
                copy_times_dirty: "copy times dirty",
                union_task_unlet: "union task unlet",
                push_notice: new a.noxEvent1,
                total_defense_dirty: "total defense dirty",
                union_task_let: "union task let",
                avatar_image_dirty: "avatar image dirty",
                room_dirty: new a.noxEvent0,
                card_select: new a.noxEvent1,
                union_boss_dirty: "union boss dirty",
                chapter_dirty: "chapter dirty",
                city_user_dirty: "city user dirty",
                ghost_dirty: "ghost dirty",
                exp_dirty: new a.noxEvent0,
                mail: new a.noxEvent1,
                room_exit_dirty: new a.noxEvent0,
                room_edit_dirty: "room edit dirty",
                chapter_level_dirty: new a.noxEvent1,
                card_dirty: new a.noxEvent1,
                clash_sync_ready: new a.noxEvent0,
                invite_count_dirty: new a.noxEvent0,
                application: new a.noxEvent1,
                invite_ingot_dirty: new a.noxEvent0,
                friend: new a.noxEvent0,
                union_dirty: new a.noxEvent1,
                vip_exp_dirty: new a.noxEvent0,
                daily_bonus_dirty: new a.noxEvent0,
                invite_bonus_dirty: "invite bonus dirty",
                level_dirty: new a.noxEvent0,
                achieve_list_dirty: new a.noxEvent0,
                rematch_again: new a.noxEvent1,
                pk_join: "pk join",
                enter_scene: "event_enter_scene",
                blood_jade_dirty: "blood jade dirty",
                resource: new a.noxEvent1,
                gift_open: "gift open",
                rematch_hide: new a.noxEvent1,
                split_hero: "split hero",
                month_card_dirty: new a.noxEvent0,
                total_attack_dirty: "total attack dirty",
                invalid_input: new a.noxEvent0,
                product_dirty: new a.noxEvent1,
                group_cards_dirty: new a.noxEvent0,
                recommend_troop_dirty: new a.noxEvent0,
                union_enter_dirty: new a.noxEvent0,
                union_edit_dirty: new a.noxEvent0,
                union_hook_dirty: new a.noxEvent0,
                union_card_dirty: new a.noxEvent0,
                union_task_dirty: new a.noxEvent0,
                union_lendinfo_dirty: new a.noxEvent0,
                union_lend_dirty: new a.noxEvent0,
                union_recall_dirty: new a.noxEvent0,
                task_dirty: "task dirty",
                ball_dirty: new a.noxEvent0,
                hero_guard_dirty: "hero guard dirty",
                union_fund_dirty: "union fund dirty",
                shop_after_buy: new a.noxEvent0,
                personal_fund_dirty: new a.noxEvent0,
                fund_dirty: new a.noxEvent0,
                card_add: "card add",
                use_prop: new a.noxEvent1,
                package_dirty: new a.noxEvent0,
                change_char_dirty: new a.noxEvent0,
                change_name_dirty: new a.noxEvent0,
                login: new a.noxEvent0,
                crown_dirty: new a.noxEvent1,
                room_enter_dirty: new a.noxEvent0,
                card_recovery_count: "card_recovery_count",
                region_receive_data: new a.noxEvent0,
                exchange_res_done: new a.noxEvent0,
                first_rank_data_review: new a.noxEvent0,
                bonus_value_change: new a.noxEvent0,
                new_props_change: new a.noxEvent0
            }, function (e) {
                e[e.base_PVE = 1] = "base_PVE", e[e.base_PVP = 2] = "base_PVP", e[e.base_replay = 3] = "base_replay", e[e.base_guidance = 4] = "base_guidance", e[e.base_test = 10] = "base_test", e[e.base_type = 100] = "base_type", e[e.task = 101] = "task", e[e.sweep = 102] = "sweep", e[e.kill_boss = 103] = "kill_boss", e[e.copy_elite = 111] = "copy_elite", e[e.copy_boss = 112] = "copy_boss", e[e.copy_commander = 113] = "copy_commander", e[e.copy_expedition = 114] = "copy_expedition", e[e.npc = 131] = "npc", e[e.boss = 121] = "boss", e[e.PVP_trophy = 201] = "PVP_trophy", e[e.PVP_revenge = 202] = "PVP_revenge", e[e.PVP_rescue = 203] = "PVP_rescue", e[e.expedition_ex = 151] = "expedition_ex", e[e.expedition_ex_boss = 152] = "expedition_ex_boss", e[e.PVP_clash = 211] = "PVP_clash", e[e.PVP_clash_npc = 212] = "PVP_clash_npc", e[e.PVP_ladder = 213] = "PVP_ladder", e[e.PVP_ladder_npc = 214] = "PVP_ladder_npc", e[e.PVP_new_clash = 215] = "PVP_new_clash", e[e.PVP_friend = 221] = "PVP_friend", e[e.PVP_union = 237] = "PVP_union", e[e.PVP_room = 241] = "PVP_room", e[e.PVP_group = 242] = "PVP_group", e[e.PVP_dark = 243] = "PVP_dark", e[e.PVP_duel = 251] = "PVP_duel", e[e.PVP_Season = 260] = "PVP_Season", e[e.replay = 301] = "replay", e[e.guidance = 401] = "guidance", e[e.test = 1001] = "test", e[e.unittest = 2001] = "unittest", e[e.layout = 2002] = "layout", e[e.teach = 2003] = "teach", e[e.recommend_train = 2004] = "recommend_train"
            }(e.BattleType || (e.BattleType = {})), function (e) {
                e[e.pvp_room_scene = 1] = "pvp_room_scene", e[e.forest_scene = 2] = "forest_scene", e[e.island_scene = 3] = "island_scene", e[e.street_scene = 4] = "street_scene", e[e.castle_scene = 5] = "castle_scene", e[e.exp_scene = 5] = "exp_scene", e[e.laboratory_scene = 6] = "laboratory_scene", e[e.horse_scene = 6] = "horse_scene", e[e.gold_scene = 7] = "gold_scene", e[e.union_scene = 9] = "union_scene", e[e.randomBySeed = 101] = "randomBySeed", e[e.count = 6] = "count"
            }(e.BattleSceneType || (e.BattleSceneType = {})), function (e) {
                e[e.pvp = 0] = "pvp", e[e.group_elite = 1] = "group_elite", e[e.group_boss = 2] = "group_boss", e[e.group_commander = 3] = "group_commander", e[e.group_expedition = 4] = "group_expedition", e[e.group_count = 4] = "group_count", e[e.elite = 11] = "elite", e[e.boss = 21] = "boss", e[e.commander = 31] = "commander", e[e.expedition = 41] = "expedition", e[e.expeidtion_ex = 51] = "expeidtion_ex"
            }(e.CopyType || (e.CopyType = {})), function (e) {
                e[e.novice_teach = 1] = "novice_teach", e[e.basic_teach = 2] = "basic_teach", e[e.count = 4] = "count", e[e.mid_teach = 3] = "mid_teach", e[e.master_teach = 4] = "master_teach"
            }(e.TeachType || (e.TeachType = {})), function (e) {
                e[e.big_lose = -2] = "big_lose", e[e.big_win = 2] = "big_win", e[e.lose = -1] = "lose", e[e.draw = 0] = "draw", e[e.win = 1] = "win"
            }(e.BattleResult || (e.BattleResult = {})), function (e) {
                e[e.normal = 1] = "normal", e[e.num = 100] = "num", e[e.union_battle1 = 101] = "union_battle1", e[e.union_battle2 = 102] = "union_battle2", e[e.union_battle4 = 104] = "union_battle4", e[e.union_battle3 = 103] = "union_battle3", e[e.union_battle5 = 105] = "union_battle5", e[e.dark_battle1 = 111] = "dark_battle1", e[e.dark_battle2 = 112] = "dark_battle2", e[e.dark_battle3 = 113] = "dark_battle3"
            }(e.TroopIndex || (e.TroopIndex = {})), function (e) {
                e[e.player = 1] = "player", e[e.system = 2] = "system"
            }(e.RecommendTroop || (e.RecommendTroop = {})), function (e) {
                e[e.rob_gold = 12] = "rob_gold", e[e.guard = 13] = "guard", e[e.ladder = 19] = "ladder", e[e.union = 15] = "union", e[e.expedition = 6] = "expedition", e[e.rob_exp = 9] = "rob_exp", e[e.market = 10] = "market", e[e.find_match = 7] = "find_match", e[e.rob_horse = 14] = "rob_horse"
            }(e.UnlockGuideType || (e.UnlockGuideType = {})), function (e) {
                e[e.union = 4] = "union", e[e.vip = 1] = "vip", e[e.random = 3] = "random", e[e.daily = 2] = "daily", e[e.dragon_flag = 5] = "dragon_flag"
            }(e.MarketBuyType || (e.MarketBuyType = {})), function (e) {
                e[e.close = 3] = "close", e[e.apply = 2] = "apply", e[e.any = 1] = "any"
            }(e.UnionJoinType || (e.UnionJoinType = {})), function (e) {
                e[e.elder = 2] = "elder", e[e.rookie = 1] = "rookie", e[e.leader = 3] = "leader"
            }(e.UnionJob || (e.UnionJob = {})), function (e) {
                e[e.elder = 2] = "elder", e[e.rookie = 1] = "rookie", e[e.leader = 3] = "leader"
            }(e.RoomJob || (e.RoomJob = {})), function (e) {
                e[e.elder = 2] = "elder", e[e.rookie = 1] = "rookie", e[e.leader = 3] = "leader"
            }(e.GroupJob || (e.GroupJob = {})), function (e) {
                e[e.table = 4] = "table", e[e.min = 3] = "min", e[e.sum = 1] = "sum", e[e.max = 2] = "max"
            }(e.AggregateType || (e.AggregateType = {})), e.CharacterNames = [null, "caizhong", "xiaomao", "xiaoxia", "xiaozhi"],function (e) {
                e[e.clash = 1] = "clash", e[e.ladder_ex = 2] = "ladder_ex"
            }(e.AppstoreReviewType || (e.AppstoreReviewType = {})),e.isUnionRes = function (t) {
                return t == e.ResType.union_gold || t == e.ResType.union_wood || t == e.ResType.union_act
            },e.isCardBack = function (t) {
                return e.PropsId.card_back <= t && t < e.PropsId.card_back + 100
            },e.isAvatarFrame = function (t) {
                return e.PropsId.avatar_frame <= t && t < e.PropsId.avatar_frame + 100
            },e.getType = t,e.getSkillType = function (t) {
                if (t >= 2e4) return 9;
                var n = t / e.INFO_ID_GROUP_SIZE;
                return Math.floor(n)
            },e.hasBigCard = function (t) {
                return e.CardType.monster <= e.getType(t) && e.getType(t) <= e.CardType.trap
            },e.isUserVisible = function (t) {
                return 0 == e.getInfo(t)._isHide
            },e.getInfo = n,e.getOriginId = function (e) {
                var t = n(e)._originId;
                return null != t && 0 != t || (t = e), t
            },e.getSceneTypeByLevelId = function (t, n) {
                return n == e.BattleType.PVP_room ? e.BattleSceneType.pvp_room_scene : t > 10100 && t < 10199 ? e.BattleSceneType.forest_scene : t > 10200 && t < 10299 ? e.BattleSceneType.street_scene : t > 10300 && t < 10399 ? e.BattleSceneType.island_scene : t > 10400 && t < 10499 ? e.BattleSceneType.castle_scene : e.BattleSceneType.laboratory_scene
            },e.getRecruiteIndex = function (e) {
                var t = e / 100;
                return Math.floor(e / 100) > 1500 && t < 1600 ? Math.floor(t / 10) % 10 : t > 1e3 && t < 2600 ? Math.floor(t / 10) % 100 : Math.floor(t) % 100
            },e.getPackages = function (t) {
                for (var n = e.getInfo(t)[0], a = 0; a < n._packageId.length && 0 != n._packageId[a]; ++a) ;
                return []
            },e.pb2Resource = function (e) {
                return {_infoId: e.info_id, _num: e.num}
            },e.pb2ExploreInfo = function (e) {
                for (var t = {
                    _levelId: e.level,
                    _dailyExploreTimes: e.daily_explore_times,
                    _monsterId: e.monster,
                    _meetRecords: {},
                    _disappearTime: 0,
                    _curCatchTimes: 0,
                    _maxCatchTimes: 0,
                    _ballUseTimes: {},
                    _extraGoldDrop: 0,
                    _claimResources: []
                }, n = 0; n < e.meet_records.length; n++) t._meetRecords[n] = e.meet_records[n];
                t._disappearTime = Math.floor(e.disappear_time / 1e3), t._curCatchTimes = e.cur_catch_times, t._maxCatchTimes = e.max_catch_times;
                for (var a = 0; a < e.catch_records.length; a++) {
                    var i = e.catch_records[a];
                    t._ballUseTimes[i.info_id] = i.num
                }
                return t
            },e.isLevelLock = function (t) {
                var n = e._levelInfo[t], a = Math.floor(t / 1e4);
                return t > P._playerWorld._curLevel[a - 1] || a > 1 && t % 1e4 == 101 && (a -= 1, (t = n._passId[0]) >= P._playerWorld._curLevel[a - 1])
            },e.isLevelPass = function (t) {
                e._levelInfo[t];
                var n = Math.floor(t / 1e4);
                return t < P._playerWorld._curLevel[n - 1]
            },e.getRecruiteInfo = function (t) {
                for (var n in e._recruitInfo) {
                    var a = e._recruitInfo[n];
                    if (a._value == t) return a
                }
                return null
            },e.getIsCharacterRecruite = function (e) {
                return 10200 < e && e < 15e3
            },e.getTroopName = function (e, t) {
                return ""
            },e.getHelpStrsByType = function (t) {
                var n = [];
                for (var a in e._helpInfo) {
                    var i = e._helpInfo[a];
                    i._type == t && n.push(i)
                }
                n.sort(function (e, t) {
                    return e._id - t._id
                });
                var r = [];
                for (var a in n) {
                    var _ = n[a];
                    r.push(o.lcStr(_._nameSid, !0))
                }
                return r
            },e.isPersonalFund = function (e) {
                return 10800 < e && e < 11e3
            },e.getExchangeInfoByType = function (t) {
                for (var n in e._ExchangeInfo) e._ExchangeInfo[n];
                return []
            },e.getIsTimeLimitGacha = function (e) {
                return e._value > 2e5 && e._value < 25e4
            },e.getIsRareGacha = function (e) {
                return e._value > 15e4 && e._value < 16e4
            },e.getIsNatureGacha = function (e) {
                return e._value > 10200 && e._value < 11e4
            },e.getIsSuperGacha = function (e) {
                return e._value > 26e4
            },e.isNormalTroop = function (t) {
                return t < e.TroopIndex.num
            },e.isUnionBattleTroop = function (t) {
                return t >= e.TroopIndex.union_battle1 && t <= e.TroopIndex.union_battle5
            },e.isDarkTroop = function (t) {
                return t >= e.TroopIndex.dark_battle1 && t <= e.TroopIndex.dark_battle3
            }
        })(n.Data || (n.Data = {})), cc._RF.pop()
    }, {"../../leocool/lcStr": "lcStr", "../../nox": "nox", "../../noxEvent": "noxEvent"}],
    lcAdapter: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "7b0beUuYMVClrEDhJ8ZJXfe", "lcAdapter"), Object.defineProperty(n, "__esModule", {value: !0}), cc._RF.pop()
    }, {}],
    lcAppCfg: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "a82cd/5GfZML4ZRW7oPBOXr", "lcAppCfg"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./lc"), o = e("../game/const/SDK_TYPE"), r = e("../game/const/GameType");
        (function (e) {
            var t, n = !1, _ = o.SDK_TYPE.UNKNOWN;

            function s() {
                return n || (_ = a.nox.isHtml5 ? window.location.href.indexOf("moby.hk") >= 0 ? o.SDK_TYPE.MOBY_TEST : window.location.href.indexOf("loginteh5pkmnew.mto.zing.vn") >= 0 ? o.SDK_TYPE.VNG_TEST : o.SDK_TYPE.UNKNOWN : o.SDK_TYPE.UNKNOWN, a.nox.isDebug, n = !0), _
            }

            function c() {
                return "ASDK"
            }

            function l() {
                return ""
            }

            function d() {
                return a.nox.isDev ? e.languageShow : s() == o.SDK_TYPE.MOBY_TEST ? t.chs : s() == o.SDK_TYPE.VNG_TEST ? t.vn : void cc.assert(!1, "unknown sdk type")
            }

            function p() {
                var e = d();
                return t.vn == e || t.en == e
            }

            function u() {
                var e = s();
                return null == e || e == o.SDK_TYPE.AYX || e == o.SDK_TYPE.h4399 || o.SDK_TYPE.sina, "YUGI"
            }

            function g() {
                return gAllInfos.global._svnRevision + ""
            }

            function h() {
                return "1.0.0." + g()
            }

            function f() {
                return "1.0.0." + g()
            }

            function m() {
                return 0 != i.lc.band(e._option, 1)
            }

            function y() {
                return e._rateUrl
            }

            e.getSdkType = s, e.getChannelName = c, e.getSubChannelName = l, e.getSubChannelType = function () {
                return -1
            }, function (e) {
                e[e.chs = 1] = "chs", e[e.cht = 2] = "cht", e[e.en = 10] = "en", e[e.vn = 20] = "vn"
            }(t = e.Language || (e.Language = {})), e.languageShow = i.lc.UserDefault.getIntegerForKey("language_show", t.chs), e.languageVersion = d, e.setLanguageShow = function (t) {
                e.languageShow = t, i.lc.UserDefault.setIntegerForKey("language_show", e.languageShow)
            }, e.isChinese = function () {
                var e = d();
                return t.chs == e
            }, e.isNeedSpaceBreak = p, e.breakCharacter = function () {
                return p() ? " " : ""
            }, e.getAppId = function () {
                return null == _ || _ == o.SDK_TYPE.AYX || _ == o.SDK_TYPE.h4399 || _ == o.SDK_TYPE.sina ? "1223968820" : "1224018227"
            }, e.getAppName = u, e.getDataVersion = g, e.getVersion = h, e.getBinaryVersion = f, e.getBinVersion = function () {
                return f()
            }, e.getDisplayVersion = function () {
                return h()
            }, e.getIdfa = function () {
                return ""
            }, e.getGameType = function () {
                return u(), r.GameType.jdzc
            }, e._option = 0, e._rateUrl = "", e.isAppStoreReviewing = m, e.getAppRateUrl = y, e.isHideActivityPackage = function () {
                return !1
            }, e.isHideLimitPackage = function (e) {
                return !1
            }, e.isPlayVideo = function () {
                return !m()
            }, e.isRateValid = function () {
                return y() && !e.isAppStoreReviewing()
            }, e.isHideCharge = function () {
                return !1
            }, e.isShowAgreement = function () {
                return !0
            }, e.isUpDate = function (e) {
                var t = !1;
                switch (e) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                    case 4:
                    case 5:
                        t = !0;
                        break;
                    case 6:
                    case 7:
                    default:
                        t = !1
                }
                return t
            }, e.isAppStore = function () {
                return a.nox.os == a.nox.OS.IOS
            }, e.isYYB = function () {
                return !1
            }, e.isUseFacebook = function () {
                return !1
            }, e.isEnableGuide = function () {
                return !0
            }, e.isEnableBattleGuide = function () {
                return !0
            }, e.isEnableBindingIngot = function () {
                return !1
            }, e.getErrorUrl = function () {
                return "https://id.yugih5.com/bug_save"
            }, e.aboutInfo = {
                7724: {service_qq: "2885339244", qq_group: "165119708"},
                qunhei: {service_qq: "", qq_group: "2915725"},
                nox: {service_qq: "", qq_group: "325046376"},
                "7k7k": {service_qq: "", qq_group: "574130220"}
            }, e.getAboutInfoValue = function () {
                var t = s();
                if (t === o.SDK_TYPE.sina) return [null, null];
                if (t) {
                    var n = e.aboutInfo[t];
                    if (n) return [n.service_qq, n.qq_group]
                }
                return [e.aboutInfo.nox.service_qq, e.aboutInfo.nox.qq_group]
            }, e.isAdmin = function () {
                return !a.nox.isJsb && "moby" === function (e) {
                    return new MobyUri(window.location.href).query_get(e)
                }("noxad")
            }, e.isHttpProtocol = function () {
                return !!a.nox.isJsb || "http:" === document.location.protocol
            }, e.isShowDevServerList = function () {
                if (a.nox.isJsb) {
                    if (cc.appPublisher && cc.appPublisher.match(/_dev_outer/)) return !0
                } else if ("moby" == i.lc.getQueryString("noxad")) ; else if (window.location.host.indexOf("dev.yugih5.com") >= 0) return !0;
                return !1
            }, e.getRedirectGameServer = function () {
                return ""
            }, e.teackig_point_type = 5
        })(n.lcAppCfg || (n.lcAppCfg = {})), cc._RF.pop()
    }, {"../game/const/GameType": "GameType", "../game/const/SDK_TYPE": "SDK_TYPE", "../nox": "nox", "./lc": "lc"}],
    lcAudio: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "88ecduKTY9Fi7YxW6PD9h2t", "lcAudio"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../noxEvent"), i = e("./lc"), o = e("../game/const/ConfigKey"), r = (e("../nox"), e("../noxSound"));
        (function (e) {
            var t, n, _, s;
            (function (e) {
                e[e.unloaded = 0] = "unloaded", e[e.loaded = 1] = "loaded", e[e.playing = 2] = "playing", e[e.paused = 3] = "paused"
            })(t = e.State || (e.State = {})), function (e) {
                e[e.music = 0] = "music", e[e.effect = 1] = "effect"
            }(n = e.Behavior || (e.Behavior = {})), function (e) {
                e[e.yes_replay = 0] = "yes_replay", e[e.yes_once = 1] = "yes_once", e[e.no = 2] = "no"
            }(_ = e.SwitchType || (e.SwitchType = {})), function (e) {
                e[e.play = 0] = "play", e[e.stop = 1] = "stop", e[e.ignore = 2] = "ignore"
            }(s = e.PlayCondition || (e.PlayCondition = {})), e.EVENT_STOPPED = new a.noxEvent0, e._isMusicOn = !1, e._isEffectOn = !1;
            var c = !1, l = {}, d = null;

            function p() {
                window && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf("OD105") >= 0 && (c = !0);
                for (var e = gAllPlists.audioInfo, t = 0; t < e.length; ++t) {
                    var n = e[t], a = n.name;
                    a.indexOf(".") < 0 && (a += ".mp3"), u(a, n.behavior, n.duration, n.group, n.loop, n.condition, n.switch)
                }
            }

            function u(e, a, o, r, c, d, p) {
                var u = l, g = {
                    id: Object.keys(u).length + 1,
                    name: e.replace(/^res\//, ""),
                    behavior: i.lc.D(a, n.music),
                    duration: i.lc.D(o, -1),
                    group: i.lc.D(r, -1),
                    isLoop: !!c,
                    playCondition: i.lc.D(d, s.play),
                    switch: i.lc.D(p, _.yes_once),
                    state: t.unloaded,
                    playingParams: {},
                    sound: null
                };
                return u[g.id] = g, g
            }

            function g(e) {
                var a = l[e];
                if (cc.assert(a, string.format("[lc.Audio.preloadAudio] The audio id '%d' is not exist!", e)), a.state == t.unloaded) {
                    a.behavior == n.music ? r.noxSound.loadAudioClip(a.name, !0) : r.noxSound.loadAudioClip(a.name, !1), a.state = t.loaded
                }
            }

            function h(e) {
                if (!c) {
                    var a = l[e];
                    cc.assert(a, string.format("[lc.Audio.unloadAudio] The audio id '%d' is not exist!", e)), d == e && f(e), a.state != t.unloaded && (a.behavior == n.music ? r.noxSound.stopBackgroundSound() : r.noxSound.stopEffect(a.name), r.noxSound.unloadAudioClip(a.name), a.state = t.unloaded)
                }
            }

            function f(e) {
                if (!c) {
                    var t = l[e += ""];
                    cc.assert(t, string.format("[lc.Audio.stopAudio] The audio id '%d' is not exist!", e)), t.behavior == n.music ? r.noxSound.stopBackgroundSound() : r.noxSound.stopEffect(t.name)
                }
            }

            function m(e, t) {
                c || (t == n.music ? r.noxSound.setMusicOn(!e) : r.noxSound.setEffectOn(!e))
            }

            function y(e) {
                if (!c) for (var t = l, n = Object.keys(t), a = 0; a < n.length; ++a) {
                    var i = n[i], o = t[i];
                    e && o.behavior != e || h(o.id)
                }
            }

            function T(t, a) {
                t == n.music ? (e._isMusicOn = a, i.lc.UserDefault.setBoolForKey(o.ConfigKey.music_on, a)) : (e._isEffectOn = a, i.lc.UserDefault.setBoolForKey(o.ConfigKey.effect_on, a)), m(!a, t)
            }

            e.init = function () {
                p(), T(n.music, i.lc.UserDefault.getBoolForKey(o.ConfigKey.music_on, !0)), T(n.effect, i.lc.UserDefault.getBoolForKey(o.ConfigKey.effect_on, !0))
            }, e.loadAudioConfig = p, e.addAudio = u, e.preloadAudio = g, e.unloadAudio = h, e.playAudio = function (t) {
                if (!c) {
                    g(t);
                    var a = l[t];
                    cc.assert(a, string.format("[lc.Audio.playAudio] The audio id '%d' is not exist!", t)), a.behavior == n.music ? (d != t && e._isMusicOn && (d && l[d] && r.noxSound.stopBackgroundSound(), r.noxSound.playBgWithSoundNames([a.name], [0, 0], 1, a.isLoop)), d = t) : e._isEffectOn && r.noxSound.playEffect(a.name, 1, a.isLoop)
                }
            }, e.pauseAudio = function (e) {
                if (!c) {
                    var t = l[e];
                    cc.assert(t, string.format("[lc.Audio.pauseAudio] The audio id '%d' is not exist!", e)), t.behavior == n.music ? r.noxSound.pauseCurrentMusic() : r.noxSound.pauseEffect(t.name)
                }
            }, e.resumeAudio = function (e) {
                if (!c) {
                    var t = l[e];
                    cc.assert(t, string.format("[lc.Audio.resumeAudio] The audio id '%d' is not exist!", e)), t.behavior == n.music ? r.noxSound.resumeCurrentMusic() : r.noxSound.resumeEffect(t.name)
                }
            }, e.stopAudio = f, e.getAudioDuration = function (e) {
                return l[e].duration
            }, e.unloadAllAudio = y, e.clear = function () {
                c || (y(), l = {}, d = null)
            }, e.toggleAudio = T
        })(n.lcAudio || (n.lcAudio = {})), cc._RF.pop()
    }, {
        "../game/const/ConfigKey": "ConfigKey",
        "../nox": "nox",
        "../noxEvent": "noxEvent",
        "../noxSound": "noxSound",
        "./lc": "lc"
    }],
    lcBBCode: [function (e, t, n) {
        "use strict";
        var a;
        cc._RF.push(t, "b1d5fz3ADxBQYwWkGIgaBYc", "lcBBCode"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            function t(e) {
                return string.format("#%02x%02x%02x", e.getR(), e.getG(), e.getB())
            }

            e.color = function (e, n) {
                return "<color=" + t(n) + ">" + e + "</>"
            }, e.size = function (e, t) {
                return "<size=" + t + ">" + e + "</>"
            }, e.image = function (e, t) {
                return null != t ? "<img src='" + e + "' click='" + t + "' />" : "<img src='" + e + "' />"
            }, e.on = function (e, t, n) {
                return null == n ? '<on click="' + t + '">' + e + "</on>" : '<on click="' + t + '" param="' + n + '">' + e + "</on>"
            }
        }(a = n.lcBBCode || (n.lcBBCode = {}));
        var i = function () {
            function e() {
            }

            return e.prototype.text = function (e) {
                return this.mCurrent += e, this
            }, e.prototype.img = function (e, t) {
                return this.mCurrent += a.image(e, t), this
            }, e.prototype.br = function () {
                return this.mCurrent += "<br>", this
            }, e.prototype.color = function (e) {
                return this.mCurrent = a.color(this.mCurrent, e), this
            }, e.prototype.size = function (e) {
                return this.mCurrent = a.size(this.mCurrent, e), this
            }, e.prototype.on = function (e, t) {
                return this.mCurrent = a.on(this.mCurrent, e, t), this
            }, e.prototype.next = function () {
                return this.mContent += this.mCurrent, this.mCurrent = "", this
            }, e.prototype.build = function () {
                return this.mContent + this.mCurrent
            }, e
        }();
        n.lcBBCodeBuilder = i, cc._RF.pop()
    }, {}],
    lcDirector: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f6ab7cPx9RO24ZHCPr8fJl2", "lcDirector"), Object.defineProperty(n, "__esModule", {value: !0}), function (e) {
            e.setIdleTime = function (e) {
            }, e.setBlurParam = function (e, t, n, a) {
            }, e.initCamera3D = function () {
            }
        }(n.lcDirector || (n.lcDirector = {})), cc._RF.pop()
    }, {}],
    lcFile: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "dc7920RWvhB2LPFuf+efvOs", "lcFile"), Object.defineProperty(n, "__esModule", {value: !0}), n.lcFile = {
            fullPathForFilename: function (e) {
                return cc.assert(!1, "not supported"), e
            }, getSearchPaths: function () {
                return cc.assert(!1, "not supported"), [""]
            }, purgeCachedEntries: function () {
                cc.assert(!1, "not supported")
            }, getStringFromFile: function (e) {
                var t = g_allFiles[e];
                return cc.assert("string" == typeof t, "lcFile.getStringFromFile not supported"), t
            }, isFileExist: function (e) {
                return null != g_allFiles[e]
            }, _isPopupNotify: !0, setPopupNotify: function (e) {
                cc.assert(!1, "not supported"), this._isPopupNotify = e
            }, isPopupNotify: function () {
                return cc.assert(!1, "not supported"), this._isPopupNotify
            }, getWritablePath: function () {
                return ""
            }, readFile: function (e) {
                return g_allFiles ? g_allFiles[e] : null
            }, writeFile: function (e, t) {
            }
        }, cc._RF.pop()
    }, {}],
    lcGameCfg: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d7bc5DEN+FP1pg4J04LCVr3", "lcGameCfg"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../game/data/data");
        (function (e) {
            e.characterCensorship = {
                2: !0,
                3: !0,
                5: !0,
                12: !0,
                4: !0,
                13: !0,
                10: !0,
                9: !0,
                7: !0,
                14: !0,
                16: !0,
                15: !0
            }, e.characterAninSpeacail = {17: !0, 16: !1}, e.getCharacterAninName = function (t) {
                return e.characterAninSpeacail[t] ? "effect" : string.format("effect_%02d", t)
            }, e.isOpenCharacterPack = function (t) {
                var n = {};
                for (var i in e.characterCensorship) if (e.characterCensorship[i]) for (var o = a.Data._characterInfo[i]._packageIds, r = 0; r < o.length; r++) n[o[r]] = !0;
                return !!n[t]
            }, e.openCardpackages = {
                1: !0,
                2: !0,
                3: !0
            }, e._chapterCensorship = 9, e._openRareCards = !0, e._cardMaxNum = 3, e._isNeedReport = !0
        })(n.lcConfigEx || (n.lcConfigEx = {})), cc._RF.pop()
    }, {"../game/data/data": "data"}],
    lcMath: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "0c761F35dpPvLsytVPkr5wv", "lcMath"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox");
        (function (e) {
            e.pGetDistance = function (e, t) {
                return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))
            }, e.pToAngleSelf = function (e) {
                return Math.atan2(e.y, e.x)
            }, e.pSub = function (e, t) {
                return new cc.Vec2(e.x - t.x, e.y - t.y)
            }, e.pAdd = function (e, t) {
                return new cc.Vec2(e.x + t.x, e.y + t.y)
            }, e.deg = a.nox.rad2deg, e.rad = a.nox.deg2rad, e.calcDistance = function (e, t) {
                return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))
            }
        })(n.lcMath || (n.lcMath = {})), cc._RF.pop()
    }, {"../nox": "nox"}],
    lcPool: [function (require, module, exports) {
        "use strict";
        cc._RF.push(module, "0477a5fc/tFgoG8le+QOENK", "lcPool"), Object.defineProperty(exports, "__esModule", {value: !0});
        var nox_1 = require("../nox"), lcPool;
        (function (lcPool) {
            var pools = {};

            function create(e, t) {
                lcPool.extend(e, t)
            }

            function clear(e) {
                if (null != pools[e]) {
                    for (var t = pools[e], n = 0; n < t.objs.length; ++n) {
                        var a = t.objs[n];
                        a.poolClear && a.poolClear()
                    }
                    delete pools[e]
                }
            }

            function extend(name, size) {
                var pool = pools[name];
                pool ? size = nox_1.nox.D(size, pool.extSize) : (pool = {
                    extSize: size,
                    curSize: 0,
                    objs: []
                }, pools[name] = pool);
                for (var curSize = pool.objs.length, cls = eval(name), i = 0; i < size; ++i) {
                    var obj = cls.poolCreate();
                    pool.objs.push(obj), obj._poolIndex = pool.objs.length - 1
                }
                nox_1.nox.log("lcPool size of '%s' is extend to %d", name, pool.objs.length)
            }

            function get(e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                var a = pools[e];
                if (null != a) {
                    if (a.curSize >= a.objs.length && lcPool.extend(e), a.curSize >= a.objs.length) return cc.assert(!1, "pool no space: " + e), null;
                    var i = a.objs[a.curSize];
                    return a.curSize++, i._usingPool = a, i.poolGet && i.poolGet.apply(i, t), i
                }
            }

            function free(e) {
                if (e._usingPool) {
                    var t = e._usingPool;
                    delete e._usingPool, e.poolFree && e.poolFree.apply(e, [].slice.apply(arguments, [1]));
                    var n = e._poolIndex, a = t.curSize - 1;
                    if (n != a) {
                        var i = t.objs[a];
                        e._poolIndex = a, i._poolIndex = n, t.objs[n] = i, t.objs[a] = e, cc.assert(t.objs[e._poolIndex] == e, "pool free error 1"), cc.assert(t.objs[i._poolIndex] == i, "pool free error 2"), cc.assert(e != i, "pool free error 3")
                    }
                    --t.curSize
                }
            }

            lcPool.create = create, lcPool.clear = clear, lcPool.extend = extend, lcPool.get = get, lcPool.free = free
        })(lcPool = exports.lcPool || (exports.lcPool = {})), cc._RF.pop()
    }, {"../nox": "nox"}],
    lcRes: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "e1b9dwS5JhOqYTFvHNBJOgK", "lcRes"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox");
        e("./lc"), e("./lcFile"), e("./lcAppCfg"), e("../game/data/data"), e("../game/AudioEnums"), e("./lcAudio"), e("../game/ClientView");
        (function (e) {
            a.nox.isJsb, e.init = function () {
            }, e.getBinData = function (e) {
                return gAllInfos[e]
            }, e.loadRes = function (e) {
                return null
            }, e.unloadRes = function (e) {
            };

            function t() {
            }

            function n() {
                0
            }

            function i() {
            }

            function o(e) {
            }

            function r() {
            }

            function _() {
            }

            function s(e) {
            }

            function c(e) {
            }

            e._dragonBonesTexture = {}, e._particleTexture = {}, e.unloadLoadingRes = function (e) {
            }, e.unloadBattleRes = function () {
            }, e.unloadCityUnionRes = function () {
            }, e.unloadCityRes = t, e.unloadUnionRes = n, e.unloadAllDragonBones = i, e.unloadDragonBones = o, e.unloadAllParticle = r, e.unloadAllAudio = _, e.unloadFonts = s, e.preloadFonts = function (e) {
            }, e.preloadBattleAudio = function (e) {
                return !0
            }, e.loadLCRes = function (e) {
                return null
            }, e.unloadLCRes = c, e.addImageWithMask = function (e) {
            }
        })(n.lcRes || (n.lcRes = {})), cc._RF.pop()
    }, {
        "../game/AudioEnums": "AudioEnums",
        "../game/ClientView": "ClientView",
        "../game/data/data": "data",
        "../nox": "nox",
        "./lc": "lc",
        "./lcAppCfg": "lcAppCfg",
        "./lcAudio": "lcAudio",
        "./lcFile": "lcFile"
    }],
    lcStr: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "731379e0LlH4LSdbcgIVHbB", "lcStr"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("./lcAppCfg"), o = i.lcAppCfg.Language, r = null;

        function _(e) {
            if (r || (r = gAllInfos.str, cc.assert(a.nox.isObject(r), "isObject expected")), null == r[e]) return cc.assert(!1, "there is no word and id is " + e), " ";
            var t = i.lcAppCfg.languageVersion(), n = null;
            return o.vn == t ? n = r[e]._vn : o.en == t || o.cht == t || o.chs == t && (n = r[e]._chs), cc.assert(null != n, "error getLanString " + e), n
        }

        n.lcStr = function (e, t) {
            var n = _(e);
            return t && (n = n.replace(/\\n/g, "\n")), n
        }, cc._RF.pop()
    }, {"../nox": "nox", "./lcAppCfg": "lcAppCfg"}],
    lcSys: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "fd3b37dpsxLEq+jPPfRfM53", "lcSys"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox");
        (function (e) {
            e.openUrl = function (e) {
                cc.sys.openURL(e)
            }, e.copy2Clipboard = function (e) {
                window.clipboardData && window.clipboardData.setData && window.clipboardData.setData("Text", e)
            }, e.versionCompare = function (e, t) {
                for (var n = e.split("."), a = t.split("."), i = Math.min(n.length, a.length), o = 0, r = 0; o < i && 0 == (r = parseInt(n[o]) - parseInt(a[o]));) o++;
                return (r = 0 != r ? r : n.length - a.length) >= 0
            }, e.funcUrlDel = function (e) {
                if (a.nox.isJsb) cc.error("funcUrlDel not implemented in jsb"); else {
                    var t = window.location, n = t.origin + t.pathname + "?", i = t.search.substr(1);
                    if (i.indexOf(e) > -1) {
                        for (var o = {}, r = i.split("&"), _ = 0; _ < r.length; _++) {
                            var s = r[_].split("=");
                            o[s[0]] = s[1]
                        }
                        return delete o[e], n + JSON.stringify(o).replace(/[\"\{\}]/g, "").replace(/\:/g, "=").replace(/\,/g, "&")
                    }
                }
            }, e.detectPrivateMode = function (e) {
                var t, n = e.bind(null, !0), a = e.bind(null, !1);
                window.webkitRequestFileSystem ? window.webkitRequestFileSystem(0, 0, a, n) : "MozAppearance" in document.documentElement.style ? ((t = indexedDB.open("test")).onerror = n, t.onsuccess = a) : /constructor/i.test(window.HTMLElement) || window.safari ? function () {
                    try {
                        localStorage.length ? a() : (localStorage.x = 1, localStorage.removeItem("x"), a())
                    } catch (e) {
                        navigator.cookieEnabled ? n() : a()
                    }
                }() : window.indexedDB || !window.PointerEvent && !window.MSPointerEvent ? a() : n()
            }
        })(n.lcSys || (n.lcSys = {})), cc._RF.pop()
    }, {"../nox": "nox"}],
    lc: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "f4ce9gbYxdO+JZ2IMWc9FyD", "lc"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("../nox"), i = e("../noxcc");
        (function (e) {
            e.fps = cc.game.getFrameRate(), e.platform = a.nox.platform, e.os = a.nox.os, e.browserType = a.nox.browserType, e.browserVersion = a.nox.browserVersion, e.isIPhoneX = function () {
                if (a.nox.os == a.nox.OS.WINDOWS || a.nox.os == a.nox.OS.IOS) {
                    var e = cc.view.getVisibleSize();
                    return Math.max(e.width, e.height) > 1662
                }
                return !1
            }, e.getUdid = function () {
                return "??????????"
            };
            var t = null;

            function n(e) {
                return e + ""
            }

            function o(e, t) {
                return e << t
            }

            function r(e, t) {
                return e >> t
            }

            e.getDeviceInfo = function () {
                if (null == t) {
                    var n = {
                        isJsb: a.nox.isJsb,
                        userAgent: "undefined" != typeof navigator && navigator.userAgent || "",
                        udid: e.getUdid(),
                        os: a.nox.os,
                        platform: a.nox.platform,
                        browserType: a.nox.browserType,
                        browserVersion: a.nox.browserVersion,
                        osVersion: cc.sys.osVersion,
                        osMainVersin: a.nox.osMainVersion
                    };
                    t = JSON.stringify(n)
                }
                return t
            }, e.Dispatcher = new a.nox.EventDispatcher, e.addEventListener = function (t, n) {
                return e.Dispatcher.addListener(t, n)
            }, e.Scheduler = {
                scheduleScriptFunc: function (e, t, n) {
                    return a.nox.schedule(e, t, !0, t, n)
                }, scheduleScript: function (e, t, n) {
                    return a.nox.schedule(e, t, !1, t, n)
                }, unscheduleScriptEntry: function (e) {
                    return a.nox.unschedule(e)
                }
            }, cc.assert(e.Scheduler, "lc.Scheduler is null"), e.D = a.nox.D, e.V = a.nox.V, e.jsonEncode = a.nox.jsonEncode, e.jsonDecode = a.nox.jsonDecode, e.tonumber = function (e) {
                return cc.assert(1 == arguments.length, "Fatal error from tonumber"), "number" == typeof e ? e : e.indexOf(".") >= 0 ? parseFloat(e) : parseInt(e)
            }, e.tostring = n, e.utf8len = function (e) {
                return e.length
            }, e.getUtf8Char = function (e, t) {
                return t >= 0 && t < e.length ? e[t] : ""
            }, e.randomSeed = a.nox.randomSeed, e.randomI = a.nox.randomI, e.arrayAt = function (e, t) {
                return t < 0 ? (t = e.length + t) < 0 ? e[0] : e[t] : t < e.length ? e[t] : e[e.length - 1]
            }, e.arrayToTable = function (e, t, n) {
                var i = [], o = [];
                e = e instanceof Array ? e : a.nox.values(e);
                for (var r = 0; r < e.length; ++r) {
                    var _ = e[r];
                    (null == n || n(_)) && (o.length < t ? o.push(_) : (i.push(o), o = [_]))
                }
                return o.length > 0 && i.push(o), i
            }, e.arrayToObject = function (e) {
                for (var t = {}, a = 0; a < e.length; a += 2) {
                    var i = e[a];
                    i = e instanceof Array ? i[0] : i;
                    var o = e[a + 1];
                    t[n(i)] = o
                }
                return t
            }, e.reorderToArray = function (e, t) {
                var n = [];
                return (n = e instanceof Array ? e.slice(0) : a.nox.values(e)).sort(t), n
            }, e.bor = function (e, t) {
                return e | t
            }, e.bnot = function (e) {
                return ~e
            }, e.band = function (e, t) {
                return e & t
            }, e.bxor = function (e, t) {
                return e ^ t
            }, e.blsh = o, e.brsh = r, e.lshift = o, e.rshift = r, e.makeEven = function (e) {
                return (e = Math.floor(e)) % 2 == 0 ? e : e + 1
            }, e.getNow = function () {
                return (new Date).getTime() / 1e3
            }, e.AppStartTime = e.getNow(), e.getRunningTime = function () {
                return e.getNow() - e.AppStartTime
            }, e.absTime = function (e) {
                return e * cc.director.getScheduler().getTimeScale()
            }, e.log = a.nox.log, e.UserDefault = a.nox.UserDefault;
            var _, s = "", c = null;

            function l(e, t) {
                c[e] = t, cc.sys.localStorage.setItem(s, JSON.stringify(c))
            }

            function d(e, t) {
                var n = e.getComponent(cc.Widget) || e.addComponent(cc.Widget);
                return n.isAlignLeft = !0, n.isAlignRight = !0, n.isAlignBottom = !0, n.isAlignTop = !0, n.left = 0, n.right = 0, n.bottom = 0, n.top = 0, t && (n.target = t, e.setContentSize(t.getContentSize())), n
            }

            function p(e, t, n) {
                var a = new cc.Node;
                return a.name = "", e && a.setContentSize(e), t && a.setPosition(t), a.setAnchorPoint(n || new cc.Vec2(.5, .5)), a
            }

            function u() {
                var e = new cc.Node;
                return e.name = "", d(e), e
            }

            function g(t, n, a, o) {
                t.setContentSize(e.D(o, cc.view.getVisibleSize())), i.noxcc.setNodeColor(t, e.D(a, e.Color3B.black)), i.noxcc.setNodeOpacity(t, e.D(n, 200))
            }

            e.resetConfigFile = function (e) {
                if (s != e) {
                    s = e;
                    var t = cc.sys.localStorage.getItem(s);
                    c = null != t && t.length > 0 ? JSON.parse(t) : {}
                }
            }, e.readConfig = function (e, t) {
                var n = c[e];
                return null == n && null != t && l(e, n = t), n
            }, e.writeConfig = l, e.w = a.nox.w, e.h = a.nox.h, e.cw = a.nox.cw, e.ch = a.nox.ch, e.sw = a.nox.sw, e.sh = a.nox.sh, e.x = a.nox.x, e.y = a.nox.y, e.ax = a.nox.ax, e.ay = a.nox.ay, e.aw = a.nox.aw, e.awr = a.nox.awr, e.ah = a.nox.ah, e.aht = a.nox.aht, e.asw = a.nox.asw, e.aswr = a.nox.aswr, e.ash = a.nox.ash, e.asht = a.nox.asht, e.left = a.nox.left, e.top = a.nox.top, e.right = a.nox.right, e.bottom = a.nox.bottom, e.boundRect = a.nox.boundRect, e.aleft = a.nox.aleft, e.asleft = a.nox.asleft, e.atop = a.nox.atop, e.astop = a.nox.astop, e.aright = a.nox.aright, e.asright = a.nox.asright, e.abottom = a.nox.abottom, e.asbottom = a.nox.asbottom, e.arect = a.nox.arect, e.asrect = a.nox.asrect, e.offset = a.nox.offsetBy, e.contain = a.nox.containsWorldPosLB, e.convertPosAR = a.nox.convertPosAR, e.convertPosLB = a.nox.convertPosLB, e.addChildToCenter = a.nox.addChildToCenter, e.addChildToPosAR = a.nox.addChildToPosAR, e.addChildToPosLB = a.nox.addChildToPosLB, e.addNodesToCenter = a.nox.addNodesToCenter, function (e) {
                e[e.none = 0] = "none", e[e.left = 1] = "left", e[e.right = 2] = "right", e[e.top = 4] = "top", e[e.bottom = 8] = "bottom", e[e.left_top = 5] = "left_top", e[e.left_bottom = 9] = "left_bottom", e[e.right_top = 6] = "right_top", e[e.right_bottom = 10] = "right_bottom", e[e.horizontal = 3] = "horizontal", e[e.vertical = 12] = "vertical", e[e.clockwise = 256] = "clockwise", e[e.counter_clockwise = 512] = "counter_clockwise"
            }(_ = e.Dir || (e.Dir = {})), e.reverseChildrenPos = function (t, n) {
                var a = t.children;
                if (n == _.vertical) for (var i = e.h(t), o = 0; o < a.length; ++o) (s = a[o]).y = i - e.y(s); else {
                    var r = e.w(t);
                    for (o = 0; o < a.length; ++o) {
                        var s;
                        (s = a[o]).x = r - e.x(s)
                    }
                }
            }, e.changeParent = function (t, n, a) {
                var i = t.parent;
                i ? (i.removeChild(t, !1), n.addChild(t, e.D(a, t.zIndex))) : n.addChild(t, e.D(a, t.zIndex))
            }, e.addFullSizeWidget = d, e.createNode = p, e.createNodeAndFullSize = u, e.createComponent = function (e, t, n, a) {
                return p(t, n, a).addComponent(e)
            }, e.createComponentAndFullScreen = function (e) {
                return u().addComponent(e)
            }, e.createMaskLayer = function (e, t, n) {
                var a = i.noxcc.newNode();
                return g(a, e, t, n), a
            }, e.initMaskLayer = g, e.Color3B = {
                white: a.nox.c3b(255, 255, 255),
                yellow: a.nox.c3b(255, 255, 0),
                green: a.nox.c3b(0, 255, 0),
                blue: a.nox.c3b(0, 0, 255),
                red: a.nox.c3b(255, 0, 0),
                magenta: a.nox.c3b(255, 0, 255),
                black: a.nox.c3b(0, 0, 0),
                orange: a.nox.c3b(255, 127, 0),
                gray: a.nox.c3b(166, 166, 166),
                dark_gray: a.nox.c3b(50, 50, 50),
                purple: a.nox.c3b(139, 0, 255),
                light_blue: a.nox.c3b(80, 80, 192),
                cyan: a.nox.c3b(0, 255, 255)
            }, e.Color4B = {
                white: a.nox.c4b(255, 255, 255, 255),
                yellow: a.nox.c4b(255, 255, 0, 255),
                green: a.nox.c4b(0, 255, 0, 255),
                blue: a.nox.c4b(0, 0, 255, 255),
                red: a.nox.c4b(255, 0, 0, 255),
                magenta: a.nox.c4b(255, 0, 255, 255),
                black: a.nox.c4b(0, 0, 0, 255),
                orange: a.nox.c4b(255, 127, 0, 255),
                gray: a.nox.c4b(166, 166, 166, 255)
            }, e.Color4F = {
                white: a.nox.c4f(1, 1, 1, 1),
                yellow: a.nox.c4f(1, 1, 0, 1),
                green: a.nox.c4f(0, 1, 0, 1),
                blue: a.nox.c4f(0, 0, 1, 1),
                red: a.nox.c4f(1, 0, 0, 1),
                magenta: a.nox.c4f(1, 0, 1, 1),
                black: a.nox.c4f(0, 0, 0, 1),
                orange: a.nox.c4f(1, .5, 0, 1),
                gray: a.nox.c4f(.65, .65, .65, 1)
            }, e.httpRequest = function (e, t) {
                var n = new XMLHttpRequest;
                return n.open("GET", e), n.onreadystatechange = function () {
                    if (4 == n.readyState) {
                        var e = null;
                        try {
                            e = JSON.parse(n.responseText)
                        } catch (e) {
                        }
                        t && t(n.status, e)
                    }
                }, n.send(), n
            }, e.httpPost = function (e, t, n) {
                var a = new XMLHttpRequest;
                return a.open("POST", e, !0), a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8"), a.onreadystatechange = function () {
                    if (4 == a.readyState) {
                        cc.log(a.responseText);
                        var e = null;
                        try {
                            e = JSON.parse(a.responseText)
                        } catch (e) {
                        }
                        n && n(a.status, e)
                    }
                }, a.send(t), a
            }, e.moveTo = cc.moveTo, e.moveBy = cc.moveBy, e.scaleTo = cc.scaleTo, e.scaleBy = cc.scaleBy, e.rotateTo = cc.rotateTo, e.rotateBy = cc.rotateBy, e.tintTo = cc.tintTo, e.tintBy = cc.tintBy, e.fadeIn = cc.fadeIn, e.fadeOut = cc.fadeOut, e.fadeTo = cc.fadeTo, e.delayTime = cc.delayTime, e.show = cc.show, e.hide = cc.hide, e.removeSelf = cc.removeSelf, e.place = cc.place, e.callFunc = cc.callFunc, e.delay = cc.delayTime, e.ease = function (t, n, a) {
                var i, o = {
                    I: [cc.easeIn, 2, 1],
                    O: [cc.easeOut, 2, 1],
                    IO: [cc.easeIn, 2, 1],
                    BackI: [cc.easeBackIn, 1],
                    BackO: [cc.easeBackOut, 1],
                    BackIO: [cc.easeBackInOut, 1],
                    BounceI: [cc.easeBounceIn, 1],
                    BounceO: [cc.easeBounceOut, 1],
                    BounceIO: [cc.easeBounceInOut, 1],
                    ElasticI: [cc.easeElasticIn, 2, .3],
                    ElasticO: [cc.easeElasticOut, 2, .3],
                    ElasticIO: [cc.easeElasticInOut, 2, .3],
                    SineI: [cc.easeSineIn, 1],
                    SineO: [cc.easeSineOut, 1],
                    SineIO: [cc.easeSineInOut, 1]
                };
                if (o[n]) {
                    var r = o[n][0], _ = o[n][1], s = o[n][2];
                    i = 2 == _ ? r(t, e.D(a, s)) : r(t)
                } else cc.assert(!1, "unknown easeName: $(easeName)");
                return t.easing(i)
            }, e.sequence = function () {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                for (var i = [], o = 0; o < arguments.length; ++o) {
                    var r = arguments[o];
                    a.nox.isFunction(r) ? r = e.callFunc(r) : a.nox.isNumber(r) ? r = e.delayTime(r) : a.nox.isArray(r) && (r = e.spawn.apply(null, r)), i.push(r)
                }
                return cc.sequence(i)
            }, e.spawn = function () {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                var i = [];
                1 == arguments.length && cc.assert(!1, "the actions must have two or more");
                for (var o = 0; o < arguments.length; ++o) {
                    var r = arguments[o];
                    a.nox.isFunction(r) ? r = e.callFunc(r) : a.nox.isNumber(r) ? r = e.delayTime(r) : a.nox.isArray(r) && (r = e.sequence.apply(null, r)), i.push(r)
                }
                return cc.spawn(i)
            }, e.repeat = cc.repeat, e.repeatForever = cc.repeatForever, e.createSript = function (e, t) {
                var n = document.createElement("script");
                n.src = e;
                var a = document.getElementsByTagName("script")[0];
                a.parentNode.insertBefore(n, a), n.readyState ? n.onreadystatechange = function () {
                    "loaded" != this.readyState && "complete" != this.readyState || (n.onreadystatechange = null, t && t())
                } : n.onload = function () {
                    t && t()
                }
            }, e.sortObjectByKey = function (t, n) {
                var i = [], o = a.nox.keys(t);
                o.sort();
                for (var r = 0; r < o.length; r++) i.push(o[r] + "=" + t[o[r]]);
                return n = e.D(n, "&"), i.join(n)
            };
            var h = null;
            e.getQueryString = function (e) {
                return a.nox.isJsb ? "" : (h || (h = new MobyUri(document.URL)), h.query_get(e))
            }, e.performScheduleForNode = function (e, t, n) {
                var a = cc.sequence(cc.delayTime(n), cc.callFunc(t)), i = cc.repeatForever(a);
                return e.runAction(i), i
            }, e.performDelayForNode = function (e, t, n) {
                try {
                    var a = cc.sequence(cc.delayTime(n), cc.callFunc(t));
                    return e.runAction(a), a
                } catch (e) {
                    console.log(e.message), console.log(e.stack)
                }
            }
        })(n.lc || (n.lc = {})), cc._RF.pop()
    }, {"../nox": "nox", "../noxcc": "noxcc"}],
    main: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4df339OPW5OXoa8qm/xAZ7B", "main"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./nox"), i = e("./framework/NoxViewMgr"), o = e("./game/ui/AllViewTypes"),
            r = e("./game/MarqueeManager"), _ = e("./game/ToastManager"), s = e("./game/NoticeManager"),
            c = e("./game/GuideManager"), l = e("./leocool/lcRes"), d = e("./game/data/data"),
            p = e("./game/ClientData"), u = e("./leocool/lcAudio"), g = e("./game/utils/LoginData"),
            h = e("./game/const/ViewConst"), f = e("./game/StaticPrefabMgr"), m = e("./game/ClientView"),
            y = e("./game/ui/common/ActiveIndicator"), T = e("./game/scene/SceneManager"),
            S = e("./game/scene/RegionScene"), C = e("./noxcc"), v = e("./leocool/lcAppCfg"),
            b = e("./game/utils/TimeUtil"), E = e("./game/const/SDK_TYPE"), I = v.lcAppCfg.Language;

        function P(e) {
            C.noxcc.init(), l.lcRes.init();
            var t = C.noxcc.findButton("LaguageBtn", e.parent);
            if (a.nox.isDev) {
                t.node.active = !0;
                var n = function () {
                    t.getComponentInChildren(cc.Label).string = v.lcAppCfg.languageShow == I.vn ? "V" : "C"
                };
                C.noxcc.addClick(t, function () {
                    v.lcAppCfg.setLanguageShow(v.lcAppCfg.languageShow == I.vn ? I.chs : I.vn), n()
                }), n()
            } else t.node.active = !1;
            var P = C.noxcc.findLabel("ServerTime", e.parent);
            a.nox.isDev || [E.SDK_TYPE.DEV, E.SDK_TYPE.MOBY_TEST].indexOf(v.lcAppCfg.getSdkType()) >= 0 ? (P.node.active = !0, P.schedule(function () {
                var e = a.nox.getDateTableFromTimeSeconds(b.TimeUtil.getCurrentTime());
                P.string = string.format("%04d-%02d-%02d %02d:%02d:%02d", e.year, e.month, e.day, e.hours, e.minutes, e.seconds)
            }, 1, 2147483647, 1)) : P.node.active = !1, y.ActiveIndicator.init(), y.ActiveIndicator.showLoading(), C.noxcc.loadAllInfos(function () {
                C.noxcc.initAllInfos(), d.Data.initData(), u.lcAudio.init(), p.ClientData.init(), f.StaticPrefabMgr.init(function () {
                    y.ActiveIndicator.hideLoading(), i.NoxViewMgr.init(e, o.AllViewTypes), _.ToastManager.init(), r.MarqueeManager.init(), s.NoticeManager.init(), c.GuideManager.init(function () {
                        m.ClientView.init(), g.LoginData._regions = {}, g.LoginData.saveUserRegion(), g.LoginData.loadUserRegion(), l.lcRes.unloadLoadingRes(!0), h.ViewConst.initViewConst(), T.SceneManager.pushScene(S.RegionScene.create())
                    })
                })
            })
        }

        n.main = P, window.main = P, cc._RF.pop()
    }, {
        "./framework/NoxViewMgr": "NoxViewMgr",
        "./game/ClientData": "ClientData",
        "./game/ClientView": "ClientView",
        "./game/GuideManager": "GuideManager",
        "./game/MarqueeManager": "MarqueeManager",
        "./game/NoticeManager": "NoticeManager",
        "./game/StaticPrefabMgr": "StaticPrefabMgr",
        "./game/ToastManager": "ToastManager",
        "./game/const/SDK_TYPE": "SDK_TYPE",
        "./game/const/ViewConst": "ViewConst",
        "./game/data/data": "data",
        "./game/scene/RegionScene": "RegionScene",
        "./game/scene/SceneManager": "SceneManager",
        "./game/ui/AllViewTypes": "AllViewTypes",
        "./game/ui/common/ActiveIndicator": "ActiveIndicator",
        "./game/utils/LoginData": "LoginData",
        "./game/utils/TimeUtil": "TimeUtil",
        "./leocool/lcAppCfg": "lcAppCfg",
        "./leocool/lcAudio": "lcAudio",
        "./leocool/lcRes": "lcRes",
        "./nox": "nox",
        "./noxcc": "noxcc"
    }],
    monthcard: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3afd0LkXitL/KeAewOiFbvl", "monthcard");
        var a = this && this.__extends || function () {
            var e = function (t, n) {
                return (e = Object.setPrototypeOf || {__proto__: []} instanceof Array && function (e, t) {
                    e.__proto__ = t
                } || function (e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                })(t, n)
            };
            return function (t, n) {
                function a() {
                    this.constructor = t
                }

                e(t, n), t.prototype = null === n ? Object.create(n) : (a.prototype = n.prototype, new a)
            }
        }();
        Object.defineProperty(n, "__esModule", {value: !0});
        var i = e("../../BasePage"), o = e("../../../../noxcc"), r = e("../../widget/IconWidget"),
            _ = e("../../../../leocool/lc"), s = e("../../../scene/SceneManager"),
            c = e("../../../scene/ActivityScene"), l = e("../../../ClientData"), d = e("../../../ClientView"),
            p = e("../../../../leocool/lcStr"), u = e("../../../ToastManager"), g = e("../../../StringEnums"),
            h = e("../../../data/data"), f = function (e) {
                function t() {
                    return e.call(this, "form/CheckInForm/monthcardpanel") || this
                }

                return a(t, e), t.prototype.onInitWidget = function () {
                    e.prototype.onInitWidget.call(this);
                    var t = this;
                    t.silver = o.noxcc.find("View/monthcard/month1", t.mRoot), t.gold = o.noxcc.find("View/monthcard/month2", t.mRoot), t.diamond = o.noxcc.find("View/monthcard/month3", t.mRoot);
                    var n = P._playerBonus._bonusMonthCard;
                    n.sort(function (e, t) {
                        return e._infoId - t._infoId
                    });
                    for (var a = 0; a < n.length; a++) if (a % 2 == 0) for (var i = n[a]._info, r = i._level, _ = i._count, s = 0; s < i._rid.length; s++) {
                        var c = t.createAwaredItem(i._rid[s], r[s], _[s]);
                        0 == a && o.noxcc.find("awards", t.silver).addChild(c), 2 == a && o.noxcc.find("awards", t.gold).addChild(c), 4 == a && o.noxcc.find("awards", t.diamond).addChild(c)
                    }
                    o.noxcc.addClick(o.noxcc.find("award_Button", t.silver), t, function () {
                        t.onclick(0)
                    }), o.noxcc.addClick(o.noxcc.find("award_Button", t.gold), t, function () {
                        t.onclick(2)
                    }), o.noxcc.addClick(o.noxcc.find("award_Button", t.diamond), t, function () {
                        t.onclick(4)
                    }), o.noxcc.addClick(o.noxcc.find("Buy_Button", t.silver), t, function () {
                        t.onclick()
                    }), o.noxcc.addClick(o.noxcc.find("Buy_Button", t.gold), t, function () {
                        t.onclick()
                    }), o.noxcc.addClick(o.noxcc.find("Buy_Button", t.diamond), t, function () {
                        t.onclick()
                    }), t.updateButtons()
                }, t.prototype.onEnter = function () {
                    e.prototype.onEnter.call(this);
                    var t = this;
                    t._listeners = [], t._listeners.push(h.Data.Event.bonus_dirty.addListener(t, function (e) {
                        o.noxcc.isValid(t.mRoot) && t.updateButtons()
                    }))
                }, t.prototype.onExit = function () {
                    e.prototype.onExit.call(this);
                    for (var t = 0; t < this._listeners.length; t++) this._listeners[t].remove();
                    this._listeners = []
                }, t.prototype.onReleaseWidget = function () {
                    e.prototype.onReleaseWidget.call(this)
                }, t.prototype.init = function () {
                }, t.prototype.createAwaredItem = function (e, t, n) {
                    var a = r.IconWidget.create({_infoId: e, _level: t, _count: n}, r.IconWidget.DisplayFlag.COUNT);
                    return a.node.setScale(.5), a.getNameLabel().node.color = _.lc.Color3B.black, a.node
                }, t.prototype.updateButtons = function () {
                    this.silver && this.updateButton(this.silver, 0), this.gold && this.updateButton(this.gold, 2), this.diamond && this.updateButton(this.diamond, 4)
                }, t.prototype.updateButton = function (e, t) {
                    o.noxcc.setLabelString(o.noxcc.find("award_Button/Label", e), p.lcStr(g.STR.CLAIM));
                    var n = P._playerBonus._bonusMonthCard;
                    n.sort(function (e, t) {
                        return e._infoId - t._infoId
                    });
                    var a = 0 != n[t]._value, i = n[t];
                    a ? (o.noxcc.find("Buy_Button", e).setVisible(!1), o.noxcc.find("award_Button", e).setVisible(!0), i._isClaimed && (o.noxcc.setButtonInteractable(o.noxcc.find("award_Button", e), !1), o.noxcc.setLabelString(o.noxcc.find("award_Button/Label", e), p.lcStr(g.STR.CLAIMED)))) : (o.noxcc.find("Buy_Button", e).setVisible(!0), o.noxcc.find("award_Button", e).setVisible(!1))
                }, t.prototype.onclick = function (e) {
                    if (null == e) s.SceneManager.pushScene(c.ActivityScene.create(c.ActivityScene.Tab.month_card)); else {
                        var t = P._playerBonus._bonusMonthCard;
                        t.sort(function (e, t) {
                            return e._infoId - t._infoId
                        });
                        var n = t[e];
                        if (n._value >= n._info._val) {
                            var a = l.ClientData.claimBonus(n);
                            d.ClientView.showClaimBonusResult(n, a)
                        } else u.ToastManager.push(p.lcStr(g.STR.MONTH_CARD_NO_DAYS))
                    }
                }, t.create = function (e) {
                    var n = new t;
                    return n.init(), n
                }, t
            }(i.BasePage);
        n.monthcard = f, cc._RF.pop()
    }, {
        "../../../../leocool/lc": "lc",
        "../../../../leocool/lcStr": "lcStr",
        "../../../../noxcc": "noxcc",
        "../../../ClientData": "ClientData",
        "../../../ClientView": "ClientView",
        "../../../StringEnums": "StringEnums",
        "../../../ToastManager": "ToastManager",
        "../../../data/data": "data",
        "../../../scene/ActivityScene": "ActivityScene",
        "../../../scene/SceneManager": "SceneManager",
        "../../BasePage": "BasePage",
        "../../widget/IconWidget": "IconWidget"
    }],
    noxEvent: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "4866fsk+DpI7K4pGEDOTiHu", "noxEvent"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./nox"), i = function () {
            function e() {
            }

            return e.prototype.remove = function () {
                this._event && (this._event.removeListener(this), this._event = null)
            }, e
        }();
        n.noxListener0 = i;
        var o = function () {
            function e() {
                this._listeners = []
            }

            return e.prototype.addListener = function (e, t, n) {
                for (var a = this._listeners, o = 0; o < a.length; ++o) {
                    if ((r = a[o])._object == e && r._callback == t) return r
                }
                var r;
                return (r = new i)._object = e, r._callback = t, r._once = n, r._event = this, a.push(r), r
            }, e.prototype.removeListener = function (e, t) {
                a.nox.isFunction(e) && (t = e, e = null);
                var n = this._listeners;
                if (e instanceof i) {
                    if ((_ = e)._event) {
                        var o = n.indexOf(_);
                        o >= 0 && (_._event = null, n.splice(o, 1))
                    }
                } else for (var r = 0; r < n.length; ++r) {
                    var _;
                    if ((_ = n[r])._object == e && _._callback == t) return _._event = null, void n.splice(r, 1)
                }
            }, e.prototype.removeAllListeners = function () {
                for (var e = this._listeners, t = 0; t < e.length; ++t) {
                    e[t]._event = null
                }
                this._listeners = []
            }, e.prototype.dispatchEvent = function () {
                var e = this._listeners;
                if (e && e.length > 0) for (var t = e.slice(0), n = 0; n < t.length; ++n) {
                    var a = t[n];
                    if (a._event) {
                        if (a._once) {
                            var i = e.indexOf(a);
                            i >= 0 && (a._event = null, e.splice(i, 1))
                        }
                        a._object ? a._callback.call(a._object) : a._callback()
                    }
                }
            }, e
        }();
        n.noxEvent0 = o;
        var r = function () {
            function e() {
            }

            return e.prototype.remove = function () {
                this._event && (this._event.removeListener(this), this._event = null)
            }, e
        }();
        n.noxListener1 = r;
        var _ = function () {
            function e() {
                this._listeners = []
            }

            return e.prototype.addListener = function (e, t, n) {
                for (var a = this._listeners, i = 0; i < a.length; ++i) {
                    if ((o = a[i])._object == e && o._callback == t) return o
                }
                var o;
                return (o = new r)._object = e, o._callback = t, o._once = n, o._event = this, a.push(o), o
            }, e.prototype.removeListener = function (e, t) {
                a.nox.isFunction(e) && (t = e, e = null);
                var n = this._listeners;
                if (e instanceof r) {
                    if ((_ = e)._event) {
                        var i = n.indexOf(_);
                        i >= 0 && (_._event = null, n.splice(i, 1))
                    }
                } else for (var o = 0; o < n.length; ++o) {
                    var _;
                    if ((_ = n[o])._object == e && _._callback == t) return _._event = null, void n.splice(o, 1)
                }
            }, e.prototype.removeAllListeners = function () {
                for (var e = this._listeners, t = 0; t < e.length; ++t) {
                    e[t]._event = null
                }
                this._listeners = []
            }, e.prototype.dispatchEvent = function (e) {
                var t = this._listeners;
                if (t && t.length > 0) for (var n = t.slice(0), a = 0; a < n.length; ++a) {
                    var i = n[a];
                    if (i._event) {
                        if (i._once) {
                            var o = t.indexOf(i);
                            o >= 0 && (i._event = null, t.splice(o, 1))
                        }
                        i._object ? i._callback.call(i._object, e) : i._callback(e)
                    }
                }
            }, e
        }();
        n.noxEvent1 = _;
        var s = function () {
            function e() {
            }

            return e.prototype.remove = function () {
                this._event && (this._event.removeListener(this), this._event = null)
            }, e
        }();
        n.noxListener2 = s;
        var c = function () {
            function e() {
                this._listeners = []
            }

            return e.prototype.addListener = function (e, t, n) {
                for (var a = this._listeners, i = 0; i < a.length; ++i) {
                    if ((o = a[i])._object == e && o._callback == t) return o
                }
                var o;
                return (o = new s)._object = e, o._callback = t, o._once = n, o._event = this, a.push(o), o
            }, e.prototype.removeListener = function (e, t) {
                a.nox.isFunction(e) && (t = e, e = null);
                var n = this._listeners;
                if (e instanceof s) {
                    if ((r = e)._event) {
                        var i = n.indexOf(r);
                        i >= 0 && (r._event = null, n.splice(i, 1))
                    }
                } else for (var o = 0; o < n.length; ++o) {
                    var r;
                    if ((r = n[o])._object == e && r._callback == t) return r._event = null, void n.splice(o, 1)
                }
            }, e.prototype.removeAllListeners = function () {
                for (var e = this._listeners, t = 0; t < e.length; ++t) {
                    e[t]._event = null
                }
                this._listeners = []
            }, e.prototype.dispatchEvent = function (e, t) {
                var n = this._listeners;
                if (n && n.length > 0) for (var a = n.slice(0), i = 0; i < a.length; ++i) {
                    var o = a[i];
                    if (o._event) {
                        if (o._once) {
                            var r = n.indexOf(o);
                            r >= 0 && (o._event = null, n.splice(r, 1))
                        }
                        o._object ? o._callback.call(o._object, e, t) : o._callback(e, t)
                    }
                }
            }, e
        }();
        n.noxEvent2 = c;
        var l = function () {
            function e() {
            }

            return e.prototype.remove = function () {
                this._event && (this._event.removeListener(this), this._event = null)
            }, e
        }();
        n.noxListener3 = l;
        var d = function () {
            function e() {
                this._listeners = []
            }

            return e.prototype.addListener = function (e, t, n) {
                for (var a = this._listeners, i = 0; i < a.length; ++i) {
                    if ((o = a[i])._object == e && o._callback == t) return o
                }
                var o;
                return (o = new l)._object = e, o._callback = t, o._once = n, o._event = this, a.push(o), o
            }, e.prototype.removeListener = function (e, t) {
                a.nox.isFunction(e) && (t = e, e = null);
                var n = this._listeners;
                if (e instanceof l) {
                    if ((r = e)._event) {
                        var i = n.indexOf(r);
                        i >= 0 && (r._event = null, n.splice(i, 1))
                    }
                } else for (var o = 0; o < n.length; ++o) {
                    var r;
                    if ((r = n[o])._object == e && r._callback == t) return r._event = null, void n.splice(o, 1)
                }
            }, e.prototype.removeAllListeners = function () {
                for (var e = this._listeners, t = 0; t < e.length; ++t) {
                    e[t]._event = null
                }
                this._listeners = []
            }, e.prototype.dispatchEvent = function (e, t, n) {
                var a = this._listeners;
                if (a && a.length > 0) for (var i = a.slice(0), o = 0; o < i.length; ++o) {
                    var r = i[o];
                    if (r._event) {
                        if (r._once) {
                            var _ = a.indexOf(r);
                            _ >= 0 && (r._event = null, a.splice(_, 1))
                        }
                        r._object ? r._callback.call(r._object, e, t, n) : r._callback(e, t, n)
                    }
                }
            }, e
        }();
        n.noxEvent3 = d, cc._RF.pop()
    }, {"./nox": "nox"}],
    noxSound: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d088dAvetpP/YK/d8LTYUdJ", "noxSound"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./nox"), i = e("./leocool/lc"), o = e("./noxcc");
        (function (e) {
            var t;
            (function (e) {
                e[e.unloaded = 0] = "unloaded", e[e.loading = 1] = "loading", e[e.loaded = 2] = "loaded", e[e.error = 3] = "error"
            })(t || (t = {}));
            var n = !0, r = !0, _ = null, s = null, c = null, l = null, d = null, p = !0, u = !1, g = {}, h = null;

            function f() {
                m(), _ = null, s = null, c = null
            }

            function m() {
                if (d && (a.nox.unscheduleTimeout(d), d = null), l) {
                    var e = g[l];
                    e && (e.musicEvents = [], e.musics = []), l = null
                }
                h && (h = null, cc.audioEngine.stopMusic())
            }

            function y(e) {
                if (null != _ && _.length > 0) {
                    null == e && (e = a.nox.randomI(s[0], s[1]));
                    var t = a.nox.getRandomItem(_);
                    d = a.nox.scheduleTimeout(function () {
                        d = null, l = t;
                        var e = {isLoop: p}, n = C(t, !0);
                        n.musicEvents = [], n.musicEvents.push(e), v(n)
                    }, e)
                }
            }

            function T(e) {
                var t = g[e];
                if (t) {
                    t.effectEvents = [];
                    for (var n = t.effects.slice(0), a = 0; a < n.length; ++a) cc.audioEngine.stopEffect(n[a]);
                    t.effects = []
                }
            }

            function S() {
                for (var e in g) {
                    var t = g[e];
                    t.effectEvents = [];
                    for (var n = t.effects.slice(0), a = 0; a < n.length; ++a) cc.audioEngine.stopEffect(n[a]);
                    t.effects = []
                }
            }

            function C(e, n) {
                var a = g[e];
                return a || (g[e] = a = {
                    name: e,
                    state: t.unloaded,
                    clip: null,
                    effectEvents: [],
                    musicEvents: [],
                    effects: [],
                    isMusic: !1,
                    musics: [],
                    visitTime: 0
                }), a.visitTime = i.lc.getRunningTime(), a.state == t.unloaded ? (a.state = t.loading, o.noxcc.loadAudioClip(e, function (e) {
                    e instanceof cc.AudioClip ? a.state == t.loading && (a.state = t.loaded, a.clip = e, v(a)) : a.state = t.error
                })) : a.state == t.loading || a.state == t.error || v(a), a
            }

            function v(e) {
                if (e && e.state == t.loaded) {
                    if (r && e.clip) for (var o = function (t) {
                        var n = e.effectEvents[t], o = cc.audioEngine.playEffect(e.clip, n.isLoop);
                        n.isPaused && cc.audioEngine.pauseEffect(o), cc.audioEngine.setVolume(o, n.volume), e.effects.push(o), cc.audioEngine.setFinishCallback(o, function () {
                            e.visitTime = i.lc.getRunningTime(), a.nox.removeUniqueItem(e.effects, o)
                        })
                    }, _ = 0; _ < e.effectEvents.length; ++_) o(_);
                    if (n && e.clip) {
                        var s = function (t) {
                            e.musicEvents[t];
                            var n = cc.audioEngine.playMusic(e.clip, !1);
                            cc.audioEngine.setVolume(n, c), e.musics.push(n), h = n, u && cc.audioEngine.pauseMusic(), cc.audioEngine.setFinishCallback(n, function () {
                                e.visitTime = i.lc.getRunningTime(), a.nox.removeUniqueItem(e.musics, n), h == n && (h = null, p && y())
                            })
                        };
                        for (_ = 0; _ < e.musicEvents.length; ++_) s(_)
                    }
                    e.effectEvents = [], e.musicEvents = []
                }
            }

            e.playBgWithSoundNames = function (e, t, a, i) {
                f(), _ = e, s = t, c = a, p = i, n && y(0)
            }, e.stopBackgroundSound = f, e.pauseCurrentMusic = function () {
                u = !0, h && cc.audioEngine.pauseMusic()
            }, e.resumeCurrentMusic = function () {
                u = !1, h && cc.audioEngine.resumeMusic()
            }, e.setMusicOn = function (e) {
                (n = e) ? l || y() : m()
            }, e.isMusicOn = function () {
                return n
            }, e.playEffect = function (e, t, n) {
                if (r) {
                    var a = {volume: t, isLoop: n, isPaused: !1}, i = C(e, !1);
                    i.effectEvents.push(a), v(i)
                }
            }, e.stopEffect = T, e.pauseEffect = function (e) {
                var t = g[e];
                if (t) {
                    for (var n = 0; n < t.effectEvents.length; ++n) t.effectEvents[n].isPaused = !0;
                    for (var a = t.effects.slice(0), i = 0; i < a.length; ++i) cc.audioEngine.pauseEffect(a[i])
                }
            }, e.resumeEffect = function (e) {
                var t = g[e];
                if (t) {
                    for (var n = 0; n < t.effectEvents.length; ++n) t.effectEvents[n].isPaused = !1;
                    for (var a = t.effects.slice(0), i = 0; i < a.length; ++i) cc.audioEngine.resumeEffect(a[i])
                }
            }, e.stopAllEffects = S, e.setEffectOn = function (e) {
                (r = e) || S()
            }, e.isEffectOn = function () {
                return r
            }, e.loadAudioClip = C, e.unloadAudioClip = function (e) {
                T(e), l == e && f();
                var n = g[e];
                n && (n.clip && (cc.loader.release(n.clip), n.clip = null), n.state = t.unloaded)
            }, e.clearUnusedAudioClips = function (e, t) {
                e = e || 0, t = t || 0, a.nox.tableSize(g);
                var n = a.nox.grep(a.nox.values(g), function (e) {
                    return "loaded" == e.state && 0 == e.effects.length && 0 == e.effectEvents.length && 0 == e.musics.length && 0 == e.musicEvents.length
                });
                n.sort(function (e, t) {
                    return e.isMusic == t.isMusic ? -(e.visitTime - t.visitTime) : e.isMusic ? -1 : 1
                });
                for (var i = o.noxcc.getRunningTime(), r = 0; r < n.length; ++r) {
                    var _ = n[r];
                    (_.isMusic || i - _.visitTime >= e && r < n.length - t) && _.clip && (cc.loader.release(_.clip), delete g[_.name])
                }
            }
        })(n.noxSound || (n.noxSound = {})), cc._RF.pop()
    }, {"./leocool/lc": "lc", "./nox": "nox", "./noxcc": "noxcc"}],
    noxcc: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "d5521F9MTZAsaDZIT6xBz0n", "noxcc"), Object.defineProperty(n, "__esModule", {value: !0});
        var a = e("./nox"), i = e("../comp/LongTouchComp"), o = 0;
        n.noxcc = {
            color: cc.color,
            color4b: function (e, t, n, a) {
                return cc.color(e, t, n, a)
            },
            color4f: function (e, t, n, a) {
                return cc.color(255 * e, 255 * t, 255 * n, 255 * a)
            },
            Color: {
                WHITE: cc.Color.WHITE,
                BLACK: cc.Color.BLACK,
                TRANSPARENT: cc.Color.TRANSPARENT,
                GRAY: cc.Color.GRAY,
                RED: cc.Color.RED,
                GREEN: cc.Color.GREEN,
                BLUE: cc.Color.BLUE,
                YELLOW: cc.Color.YELLOW,
                ORANGE: cc.Color.ORANGE,
                CYAN: cc.Color.CYAN,
                MAGENTA: cc.Color.MAGENTA,
                white: cc.Color.WHITE,
                black: cc.Color.BLACK,
                transparent: cc.Color.TRANSPARENT,
                gray: cc.Color.GRAY,
                red: cc.Color.RED,
                green: cc.Color.GREEN,
                blue: cc.Color.BLUE,
                yellow: cc.Color.YELLOW,
                orange: cc.Color.ORANGE,
                cyan: cc.Color.CYAN,
                magenta: cc.Color.MAGENTA
            },
            vector2: function (e, t) {
                return cc.v2(e, t)
            },
            size2: function (e, t) {
                return cc.size(e, t)
            },
            vector3: function (e, t, n) {
                return new cc.Vec3(e, t, n)
            },
            Vector3: {
                one: new cc.Vec3(1, 1, 1),
                zero: new cc.Vec3(0, 0, 0),
                forward: new cc.Vec3(0, 0, 1),
                distance: function (e, t) {
                    var n = new cc.Vec3(e.x, e.y, e.z);
                    return n.subSelf(t), n.mag()
                },
                lerp: function (e, t, n) {
                    return e.lerp(t, n)
                }
            },
            rotation: function (e, t, n) {
                return new cc.Vec3(e, t, n)
            },
            Angle: {identity: 0, zero: 0},
            Quat: {identity: new cc.Quat, zero: new cc.Quat},
            quat: function (e, t, n, a) {
                return new cc.Quat(e, t, n, a)
            },
            getNode: function (e) {
                return cc.assert(e instanceof cc.Component, "need cc.Component type"), e.node
            },
            getOrAddComponent: function (e, t) {
                return e.getComponent(t) || e.addComponent(t)
            },
            find: function (e, t) {
                return "string" == typeof t && "object" == typeof e ? cc.find(t, e) : "string" == typeof e && "object" == typeof t ? cc.find(e, t) : void cc.assert(!1, "find parameter error")
            },
            findComponent: function (e, t, a) {
                return n.noxcc.find(t, a).getComponent(e)
            },
            findDeep: function (e) {
                return cc.find(e)
            },
            getName: function (e) {
                if (e instanceof cc.Node) return e.name;
                cc.assert(e instanceof cc.Node, "need cc.Node type")
            },
            setName: function (e, t) {
                e instanceof cc.Node ? e.name = t : cc.assert(!1, "need cc.Node type")
            },
            getZIndex: function (e) {
                if (e instanceof cc.Node) return e.zIndex;
                cc.assert(!1, "need cc.Node type")
            },
            setZIndex: function (e, t) {
                e instanceof cc.Node ? e.zIndex = t : cc.assert(!1, "need cc.Node type")
            },
            setActive: function (e, t) {
                e instanceof cc.Component && (e = e.node), e.active = t
            },
            isActive: function (e) {
                return e instanceof cc.Component && (e = e.node), e.active
            },
            setActiveSelf: function (e, t) {
                e instanceof cc.Component && (e = e.node), e.active = t
            },
            setActiveEx: function (e, t) {
                cc.isValid(e) && n.noxcc.setActive(e, t)
            },
            isActiveInHierarchy: function (e) {
                return e instanceof cc.Component && (e = e.node), e.activeInHierarchy
            },
            setParent: function (e, t) {
                if (e instanceof cc.Node) {
                    if (e.parent != t) {
                        if (e._beingAlone) {
                            var a = n.noxcc._aloneNodes.indexOf(e);
                            a >= 0 ? n.noxcc._aloneNodes.splice(a, 1) : cc.assert(!1)
                        }
                        e._beingAlone = null == t, e._beingAlone && n.noxcc._aloneNodes.push(e)
                    }
                    e.parent = t
                } else cc.assert(!1, "need cc.Node type")
            },
            getParent: function (e) {
                if (e instanceof cc.Node) return e.parent;
                cc.assert(!1, "need cc.Node type")
            },
            addChild: function (e, t) {
                e.addChild(t)
            },
            getChild: function (e, t) {
                if (e instanceof cc.Node) {
                    if ("string" == typeof t) return e.getChildByName(t);
                    if ("number" == typeof t) return e.children[t];
                    cc.assert(!1, "need string type or integer type")
                } else cc.assert(!1, "need cc.Node type")
            },
            getChildrenCount: function (e) {
                if (e instanceof cc.Node) return e.childrenCount;
                cc.assert(!1, "need cc.Node type")
            },
            getChildren: function (e) {
                if (e instanceof cc.Node) return e.children;
                cc.assert(!1, "need cc.Node type")
            },
            isEnabled: function (e) {
                if (e instanceof cc.Component) return e.enabled;
                cc.assert(!1, "need cc.Component type")
            },
            setEnabled: function (e, t) {
                e instanceof cc.Component ? e.enabled = t : cc.assert(!1, "need cc.Component type")
            },
            getLabel: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Label)
            },
            findLabel: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Label)
            },
            setLabelString: function (e, t) {
                e instanceof cc.Label ? e.string = t : e instanceof cc.Node ? e.getComponent(cc.Label).string = t : cc.assert(!1)
            },
            getLabelString: function (e) {
                return e instanceof cc.Label ? e.string : e instanceof cc.Node ? e.getComponent(cc.Label).string : void cc.assert(!1)
            },
            setLabelColor: function (e, t) {
                e instanceof cc.Label ? e.node.color = t : e instanceof cc.Node ? e.color = t : cc.assert(!1)
            },
            setLabelSize: function (e, t) {
                e instanceof cc.Label ? e.fontSize = t : e instanceof cc.Node ? e.getComponent(cc.Label).fontSize = t : cc.assert(!1)
            },
            getRichText: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.RichText)
            },
            findRichText: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.RichText)
            },
            setRichTextSize: function (e, t) {
                e instanceof cc.RichText ? e.fontSize = t : e instanceof cc.Node ? e.getComponent(cc.RichText).fontSize = t : cc.assert(!1)
            },
            getRichString: function (e) {
                return e instanceof cc.RichText ? e.string : e instanceof cc.Node ? e.getComponent(cc.RichText).string : void cc.assert(!1, "need cc.RichText type")
            },
            setRichString: function (e, t) {
                e instanceof cc.RichText ? e.string = t : e instanceof cc.Node ? e.getComponent(cc.RichText).string = t : cc.assert(!1, "need cc.RichText type")
            },
            getEditBox: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.EditBox)
            },
            findEditBox: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.EditBox)
            },
            setInputString: function (e, t) {
                e instanceof cc.EditBox ? e.string = t : e instanceof cc.Node ? e.getComponent(cc.EditBox).string = t : cc.assert(!1, "need cc.EditBox type")
            },
            getInputString: function (e) {
                return e instanceof cc.EditBox ? e.string : e instanceof cc.Node ? e.getComponent(cc.EditBox).string : void cc.assert(!1, "need cc.EditBox type")
            },
            setInputMaxLength: function (e, t) {
                if (e instanceof cc.EditBox) try {
                    e.maxLength = t
                } catch (e) {
                } else if (e instanceof cc.Node) try {
                    e.getComponent(cc.EditBox).maxLength = t
                } catch (e) {
                } else cc.assert(!1, "need cc.EditBox type")
            },
            activateInputField: function (e) {
                e instanceof cc.EditBox ? e.setFocus() : e instanceof cc.Node ? e.getComponent(cc.EditBox).setFocus() : cc.assert(!1, "need cc.EditBox type")
            },
            getSprite: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Sprite)
            },
            addSprite: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.addComponent(cc.Sprite)
            },
            findSprite: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Sprite)
            },
            setSpriteColor: function (e, t) {
                e instanceof cc.Sprite ? e.node.color = t : e instanceof cc.Node ? e.color = t : cc.assert(!1, "need cc.Sprite type")
            },
            getSpriteColor: function (e) {
                if (e instanceof cc.Node) {
                    var t = e.color.getR(), n = e.color.getG(), a = e.color.getB();
                    return new cc.Color(t, n, a)
                }
                if (e instanceof cc.Node) {
                    t = e.node.color.getR(), n = e.node.color.getG(), a = e.node.color.getB();
                    return new cc.Color(t, n, a)
                }
                cc.assert(!1, "need cc.Sprite type")
            },
            getSpriteFrame: function (e) {
                return e instanceof cc.Sprite ? e.spriteFrame : e instanceof cc.Node ? e.getComponent(cc.Sprite).spriteFrame : void cc.assert(!1, "need cc.Sprite type")
            },
            setSpriteFrame: function (e, t) {
                var n = null;
                (n = e instanceof cc.Sprite ? e : e.getComponent(cc.Sprite)) ? n.spriteFrame = t : cc.assert(!1, "need cc.Sprite type")
            },
            setSpriteFillAmount: function (e, t) {
                e instanceof cc.Node && (e = e.getComponent(cc.Sprite)), e ? (e.fillStart = 0, e.fillRange = t) : cc.assert(!1, "need cc.Sprite type")
            },
            getButton: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Button)
            },
            findButton: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Button)
            },
            setButtonInteractable: function (e, t) {
                e instanceof cc.Button ? e.interactable = t : e instanceof cc.Node ? e.getComponent(cc.Button).interactable = t : cc.assert(!1, "need cc.Button type")
            },
            getToggle: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Toggle)
            },
            findToggle: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Toggle)
            },
            getChecked: function (e) {
                return e instanceof cc.Toggle ? e.isChecked : e instanceof cc.Node ? e.getComponent(cc.Toggle).isChecked : (cc.assert(!1, "need cc.Toggle type"), !1)
            },
            setChecked: function (e, t) {
                e instanceof cc.Toggle ? e.isChecked = t : e instanceof cc.Node ? e.getComponent(cc.Toggle).isChecked = t : cc.assert(!1, "need cc.Toggle type")
            },
            setToggleInteractable: function (e, t) {
                e instanceof cc.Toggle ? e.interactable = t : e instanceof cc.Node ? e.getComponent(cc.Toggle).interactable = t : cc.assert(!1, "need cc.Toggle type")
            },
            getToggleGroup: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.ToggleGroup)
            },
            findToggleGroup: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.ToggleGroup)
            },
            getAllowSwitchOff: function (e) {
                return e instanceof cc.ToggleGroup ? e.allowSwitchOff : e instanceof cc.Node ? e.getComponent(cc.ToggleGroup).allowSwitchOff : void cc.assert(!1, "need cc.ToggleGroup type")
            },
            setAllowSwitchOff: function (e, t) {
                e instanceof cc.ToggleGroup ? e.allowSwitchOff = t : e instanceof cc.Node ? e.getComponent(cc.ToggleGroup).allowSwitchOff = t : cc.assert(!1, "need cc.ToggleGroup type")
            },
            getLayout: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Layout)
            },
            getLayoutType: function (e) {
                return e instanceof cc.Layout ? e.type : e instanceof cc.Node ? e.getComponent(cc.Layout).type : void cc.assert(!1, "need cc.Layout type")
            },
            setLayoutType: function (e, t) {
                e instanceof cc.Layout ? 0 == t ? e.type = cc.Layout.Type.NONE : 1 == t ? e.type = cc.Layout.Type.HORIZONTAL : 2 == t ? e.type = cc.Layout.Type.VERTICAL : 3 == t ? e.type = cc.Layout.Type.GRID : cc.assert("Type is wrong !") : cc.assert(!1, "need cc.Layout type")
            },
            getAnim: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Animation)
            },
            findAnim: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Animation)
            },
            getAnimSpeed: function (e) {
                return e instanceof cc.Animation ? e.getAnimationState(null).speed : e instanceof cc.Node ? e.getComponent(cc.Animation).getAnimationState(null).speed : (cc.assert(!1, "need cc.Animation type"), 1)
            },
            setAnimSpeed: function (e, t) {
                if (e instanceof cc.Animation) (n = e.getAnimationState(null)) && (n.speed = t); else if (e instanceof cc.Node) {
                    var n;
                    (n = e.getComponent(cc.Animation).getAnimationState(null)) && (n.speed = t)
                } else cc.assert(!1, "need cc.Animation type")
            },
            getAnimClip: function (e, t) {
                var a = n.noxcc.getAnim(e);
                if (a) for (var i = a.getClips(), o = 0; o < i.length; ++o) {
                    var r = i[o];
                    if (r.name == t) return r
                } else cc.assert(!1, "need Animation type");
                return null
            },
            getDefaultAnimClip: function (e) {
                var t = n.noxcc.getAnim(e);
                return t ? t.defaultClip : (cc.assert(!1, "need Animation type"), null)
            },
            getPlayingAnimClip: function (e) {
                var t = n.noxcc.getAnim(e);
                return t ? t.currentClip : (cc.assert(!1, "need Animation type"), null)
            },
            getAnimDuration: function (e, t) {
                var a = n.noxcc.getAnimClip(e, t);
                return a ? a.duration : (cc.assert(!1, "animation clip " + t + " not found"), 0)
            },
            getDefaultAnimDuration: function (e) {
                var t = n.noxcc.getDefaultAnimClip(e);
                return t ? t.duration : (cc.assert(!1, "default animation clip not found"), 0)
            },
            getPlayingAnimDuration: function (e) {
                var t = n.noxcc.getDefaultAnimClip(e);
                return t ? t.duration : (cc.assert(!1, "playing animation clip not found"), 0)
            },
            addAnimClip: function (e, t) {
                var a = n.noxcc.getAnim(e);
                if (a) return a.addClip(t);
                cc.assert(!1, "need Animation type")
            },
            playAnimClip: function (e, t) {
                var a = n.noxcc.getAnim(e);
                if (a) return a.play(t);
                cc.assert(!1, "need Animation type")
            },
            playAnimRepeated: function (e, t, a) {
                var i = n.noxcc.getAnim(e);
                if (i) {
                    var o = i.play(t);
                    return o.repeatCount = "number" == typeof a ? a : a ? 999999 : 1, o
                }
                cc.assert(!1, "need Animation type")
            },
            stopAnim: function (e, t) {
                var a = n.noxcc.getAnim(e);
                a ? a.stop(t) : cc.assert(!1, "need Animation type")
            },
            getSkeleton: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(sp.Skeleton)
            },
            findSkeleton: function (e, t) {
                return n.noxcc.find(e, t).getComponent(sp.Skeleton)
            },
            getProgressBar: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.ProgressBar)
            },
            findProgressBar: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.ProgressBar)
            },
            getProgressBarValue: function (e, t) {
                return e instanceof cc.ProgressBar ? e.progress : e instanceof cc.Node ? e.getComponent(cc.ProgressBar).progress : void cc.assert(!1, "need cc.ProgressBar type")
            },
            getProgressBarTotalLength: function (e) {
                return e instanceof cc.ProgressBar ? e.totalLength : e instanceof cc.Node ? e.getComponent(cc.ProgressBar).totalLength : void cc.assert(!1, "need cc.ProgressBar type")
            },
            setProgressBarValue: function (e, t) {
                e instanceof cc.ProgressBar ? e.progress = t : e instanceof cc.Node ? e.getComponent(cc.ProgressBar).progress = t : cc.assert(!1, "need cc.ProgressBar type")
            },
            getWidget: function (e) {
                if (e instanceof cc.Node) return e.getComponent(cc.Widget);
                cc.assert(!1, "need cc.Node type")
            },
            findWidget: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Widget)
            },
            getScrollView: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.ScrollView)
            },
            findScrollView: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.ScrollView)
            },
            isScrollViewHorizontal: function (e) {
                return e instanceof cc.ScrollView ? e.horizontal : e instanceof cc.Node ? e.getComponent(cc.ScrollView).horizontal : void cc.assert(!1, "need cc.ScrollView type")
            },
            isScrollViewVertical: function (e) {
                return e instanceof cc.ScrollView ? e.vertical : e instanceof cc.Node ? e.getComponent(cc.ScrollView).vertical : void cc.assert(!1, "need cc.ScrollView type")
            },
            setScrollViewHorizontal: function (e, t) {
                e instanceof cc.ScrollView ? e.horizontal = t : e instanceof cc.Node ? e.getComponent(cc.ScrollView).horizontal = t : cc.assert(!1, "need cc.ScrollView type")
            },
            setScrollViewVertical: function (e, t) {
                e instanceof cc.ScrollView ? e.vertical = t : e instanceof cc.Node ? e.getComponent(cc.ScrollView).vertical = t : cc.assert(!1, "need cc.ScrollView type")
            },
            getSlider: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.Slider)
            },
            findSlider: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.Slider)
            },
            getSliderValue: function (e, t) {
                return e instanceof cc.Slider ? e.progress : e instanceof cc.Node ? e.getComponent(cc.Slider).progress : void cc.assert(!1, "need cc.ProgressBar type")
            },
            setSliderValue: function (e, t) {
                e instanceof cc.Slider ? e.progress = t : e instanceof cc.Node ? e.getComponent(cc.Slider).progress = t : cc.assert(!1, "need cc.ProgressBar type")
            },
            getParticleSystem: function (e) {
                return cc.assert(e instanceof cc.Node, "need cc.Node type"), e.getComponent(cc.ParticleSystem)
            },
            findParticleSystem: function (e, t) {
                return n.noxcc.find(e, t).getComponent(cc.ParticleSystem)
            },
            setParticleSystemStartSize: function (e, t) {
                e instanceof cc.ParticleSystem ? e.startSize = t : e instanceof cc.Node ? e.getComponent(cc.ParticleSystem).startSize = t : cc.assert(!1)
            },
            playParticleSystem: function (e) {
                e instanceof cc.ParticleSystem ? e.resetSystem() : e instanceof cc.Node ? e.getComponent(cc.ParticleSystem).resetSystem() : cc.assert(!1)
            },
            stopParticleSystem: function (e) {
                e instanceof cc.ParticleSystem ? e.stopSystem() : e instanceof cc.Node ? e.getComponent(cc.ParticleSystem).stopSystem() : cc.assert(!1)
            },
            setShakeAction: function (e) {
                var t = cc.repeatForever(cc.sequence(cc.rotateBy(.25, -10), cc.rotateBy(.25, 10), cc.rotateBy(.25, 10), cc.rotateBy(.25, -10)));
                t.setTag(1), e.runAction(t)
            },
            setFringeAction: function (e, t) {
                var a = n.noxcc.instantiate(t);
                n.noxcc.getButton(a) && a.removeComponent(cc.Button), n.noxcc.setParent(a, e), n.noxcc.setZIndex(a, 1);
                var i = cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1.5, 1.5, 1.5), cc.fadeOut(1.5)), cc.callFunc(function () {
                    n.noxcc.setLocalScale(a, n.noxcc.vector2(.8, .8)), a.opacity = 255
                })));
                i.setTag(2), a.runAction(i)
            },
            rotate3D: function (e, t, n, a, i) {
                return e.runAction(cc.rotate3DTo(t, n, a, i))
            },
            doScaleSize: function (e, t, n) {
                var a = cc.scaleTo(t, n.x, n.y), i = cc.scaleTo(t, 1, 1), o = cc.sequence(a, i).repeatForever();
                e.runAction(o)
            },
            stopAction: function (e, t) {
                e.stopActionByTag(t)
            },
            stopAllAction: function (e) {
                e.stopAllActions()
            },
            addLongTouchBegin: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("long-touch-begin", function (e) {
                    t(e, o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("long-touch-begin", function (e) {
                        r.unshift(e), n.apply(t, r)
                    })
                }
            },
            addLongTouchEnd: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("long-touch-end", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("long-touch-end", function () {
                        n.apply(t, r)
                    })
                }
            },
            addClick: function (e, t, n) {
                for (var a = [], o = 3; o < arguments.length; o++) a[o - 3] = arguments[o];
                var r = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) r.on("click", function () {
                    var e = r.getComponent(i.LongTouchComp);
                    e && e.isLongTouch() || t(r)
                }); else {
                    var _ = [].slice.call(arguments, 3).concat([r]);
                    t && r.targetOff(t), r.on("click", function () {
                        var e = r.getComponent(i.LongTouchComp);
                        e && e.isLongTouch() || n.apply(t, _)
                    }, t)
                }
            },
            addToggleClick: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("click", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("click", function () {
                        n.apply(t, r)
                    })
                }
            },
            addToggleValueChanged: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("toggle", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("toggle", function () {
                        n.apply(t, r)
                    })
                }
            },
            addSliderClick: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("slide", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("slide", function () {
                        n.apply(t, r)
                    })
                }
            },
            addEditBoxTextChanged: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("text-changed", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("text-changed", function () {
                        n.apply(t, r)
                    })
                }
            },
            addEditBoxEditingDidBegan: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("editing-did-began", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("editing-did-began", function () {
                        n.apply(t, r)
                    })
                }
            },
            addEditBoxEditingDidEnded: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("editing-did-ended", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("editing-did-ended", function () {
                        n.apply(t, r)
                    })
                }
            },
            addEditBoxEditingReturn: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("editing-return", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("editing-return", function () {
                        n.apply(t, r)
                    })
                }
            },
            addScrollBegan: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("scroll-began", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("scroll-began", function () {
                        n.apply(t, r)
                    })
                }
            },
            addScrolling: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("scrolling", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("scrolling", function () {
                        n.apply(t, r)
                    })
                }
            },
            addScrollEnded: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("scroll-ended", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("scroll-ended", function () {
                        n.apply(t, r)
                    })
                }
            },
            addScrollTouchUp: function (e, t, n) {
                for (var a = [], i = 3; i < arguments.length; i++) a[i - 3] = arguments[i];
                var o = e instanceof cc.Component ? e.node : e;
                if ("function" == typeof t) o.on("touch-up", function () {
                    t(o)
                }); else {
                    var r = [].slice.call(arguments, 3).concat([o]);
                    o.on("touch-up", function () {
                        n.apply(t, r)
                    })
                }
            },
            newNode: function (e) {
                var t = new cc.Node;
                return t.name = a.nox.D(e, ""), t._beingAlone = !0, n.noxcc._aloneNodes.push(t), t
            },
            _aloneNodes: [],
            clearInvalidAloneNodes: function () {
                for (var e = [], t = 0; t < n.noxcc._aloneNodes.length; ++t) {
                    var a = n.noxcc._aloneNodes[t];
                    n.noxcc.isValid(a) && e.push(a)
                }
                n.noxcc._aloneNodes = e
            },
            _isLoadingRes: 0,
            loadJson: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.loader.loadRes(e, cc.JsonAsset, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadTtfFont: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.loader.loadRes(e, cc.TTFFont, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadPrefab: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.loader.loadRes(e, cc.Prefab, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadSpriteFrame: function (e, t) {
                ++n.noxcc._isLoadingRes, e = e.replace(/(\.png|\.jpe?g)$/, ""), cc.loader.loadRes(e, cc.SpriteFrame, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadParticleAsset: function (e, t) {
                ++n.noxcc._isLoadingRes, e = e.replace(/\.plist$/, ""), cc.loader.loadRes(e, cc.ParticleAsset, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadSkeletonData: function (e, t) {
                ++n.noxcc._isLoadingRes, e = e.replace(/\.json$/, ""), cc.loader.loadRes(e, sp.SkeletonData, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadAnimationClip: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.loader.loadRes(e, cc.AnimationClip, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadAudioClip: function (e, t) {
                cc.loader.loadRes(e.replace(/(\.mp3|\.ogg)$/, ""), cc.AudioClip, function (e, n) {
                    t && t(e ? null : n)
                })
            },
            loadModel: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.loader.loadRes(e, cc.Model, function (e, a) {
                    --n.noxcc._isLoadingRes, t && t(e ? null : a)
                })
            },
            loadScene: function (e, t) {
                ++n.noxcc._isLoadingRes, cc.director.loadScene(e, function () {
                    --n.noxcc._isLoadingRes, t && t()
                })
            },
            instantiate: function (e) {
                var t;
                return e instanceof cc.Prefab ? ((t = cc.instantiate(e))._beingAlone = !0, n.noxcc._aloneNodes.push(t), t) : e instanceof cc.Node ? ((t = cc.instantiate(e))._beingAlone = !0, n.noxcc._aloneNodes.push(t), t) : void cc.assert(!1, "need cc.Prefab or cc.Node type")
            },
            removeFromParent: function (e, t) {
                e.removeFromParent(t), null == t && (t = !0), t && e.destroy()
            },
            destroy: function (e) {
                if (e instanceof cc.Node) {
                    if (e._beingAlone) {
                        var t = this._aloneNodes.indexOf(e);
                        t >= 0 && this._aloneNodes.splice(t, 1)
                    }
                    e.destroy()
                } else cc.assert(!1, "need cc.Node type")
            },
            destroyAllChildren: function (e) {
                e instanceof cc.Node ? e.destroyAllChildren() : cc.assert(!1, "need cc.Node type")
            },
            destroyAllChildrenImmediate: function (e) {
                e instanceof cc.Node ? e.destroyAllChildren() : cc.assert(!1, "need cc.Node type")
            },
            isValid: function (e) {
                return null != e && cc.isValid(e)
            },
            getLocalSize: function (e) {
                return e.getContentSize()
            },
            setLocalSize: function (e, t) {
                e.setContentSize(t.width, t.height)
            },
            getBoundSize: function (e) {
                return e instanceof cc.Sprite ? e.spriteFrame ? e.spriteFrame.getOriginalSize() : (cc.assert(!1, "need spriteFrame"), cc.size(1, 1)) : (cc.assert(!1, "need cc.Sprite type"), cc.size(1, 1))
            },
            getLocalPosition: function (e) {
                if (e instanceof cc.Node) {
                    var t = e.getPosition();
                    return n.noxcc.vector3(t.x, t.y, 0)
                }
                cc.assert(!1, "need cc.Node type")
            },
            getLocalRect: function (e) {
                if (e instanceof cc.Node) {
                    var t = n.noxcc.getLocalSize(e), a = n.noxcc.getLocalPosition(e), i = e.getAnchorPoint();
                    return cc.rect(a.x - i.x * t.width, a.y - i.y * t.height, t.width, t.height)
                }
                cc.assert(!1, "need cc.Node type")
            },
            setLocalPosition: function (e, t) {
                e instanceof cc.Node ? e.setPosition(t.x, t.y) : cc.assert(!1, "need cc.Node type")
            },
            getPosition: function (e) {
                return n.noxcc.getWorldPosition(e)
            },
            setPosition: function (e, t) {
                n.noxcc.setWorldPosition(e, t)
            },
            getWorldPosition: function (e) {
                if (e instanceof cc.Node) {
                    var t = e.getPosition();
                    return e.parent && (t = e.parent.convertToWorldSpaceAR(t)), n.noxcc.vector3(t.x, t.y, 0)
                }
                cc.assert(!1, "need cc.Node type")
            },
            setWorldPosition: function (e, t) {
                e instanceof cc.Node ? (e.parent && (t = e.parent.convertToNodeSpaceAR(t)), e.setPosition(t.x, t.y)) : cc.assert(!1, "need cc.Node type")
            },
            getLocalAngle: function (e) {
                if (e instanceof cc.Node) return e.angle;
                cc.assert(!1, "need cc.Node type")
            },
            setLocalAngle: function (e, t) {
                e instanceof cc.Node ? e.angle = t : cc.assert(!1, "need cc.Node type")
            },
            getLocalRotation: function (e) {
                if (e instanceof cc.Node) {
                    var t = new cc.Quat;
                    return e.getRotation(t), t
                }
                cc.assert(!1, "need cc.Node type")
            },
            setLocalRotation: function (e, t) {
                e instanceof cc.Node ? e.setRotation(t) : cc.assert(!1, "need cc.Node type")
            },
            getLocalScale: function (e) {
                if (e instanceof cc.Node) return n.noxcc.vector3(e.scaleX, e.scaleY, 1);
                cc.assert(!1, "need cc.Node type")
            },
            setLocalScale: function (e, t) {
                e instanceof cc.Node ? e.setScale(t.x, t.y) : cc.assert(!1, "need cc.Node type")
            },
            setPivot: function (e, t) {
                e instanceof cc.Node ? e.setAnchorPoint(t.x, t.y) : cc.assert(!1, "need cc.Node type")
            },
            setString: function (e, t) {
                e instanceof cc.Label ? e.string = t : e instanceof cc.RichText ? e.string = t : e instanceof cc.EditBox ? e.string = t : e instanceof cc.Node ? e.getComponent(cc.Label) ? e.getComponent(cc.Label).string = t : e.getComponent(cc.RichText) ? e.getComponent(cc.RichText).string = t : e.getComponent(cc.EditBox) ? e.getComponent(cc.EditBox).string = t : cc.assert(!1) : cc.assert(!1)
            },
            getString: function (e) {
                if (e instanceof cc.Label) return e.string;
                if (e instanceof cc.RichText) return e.string;
                if (e instanceof cc.EditBox) return e.string;
                if (e instanceof cc.Node) {
                    if (e.getComponent(cc.Label)) return e.getComponent(cc.Label).string;
                    if (e.getComponent(cc.RichText)) return e.getComponent(cc.RichText).string;
                    if (e.getComponent(cc.EditBox)) return e.getComponent(cc.EditBox).string;
                    cc.assert(!1)
                } else cc.assert(!1)
            },
            setNodeColor: function (e, t) {
                e instanceof cc.Node ? e.color = t : cc.assert(!1, "need cc.Node type")
            },
            setNodeOpacity: function (e, t) {
                e instanceof cc.Node ? e.opacity = t : cc.assert(!1, "need cc.Node type")
            },
            setChildrenColor: function (e, t) {
                if (e instanceof cc.Node) for (var a = n.noxcc.getChildren(e), i = 0; i < a.length; ++i) {
                    var o = a[i];
                    n.noxcc.setNodeColor(o, t)
                } else cc.assert(!1, "need cc.Node type")
            },
            playJumpAmin: function (e, t, i, o, r) {
                if (null == o && (o = 1), o <= 0) r && r(); else if (e && e instanceof cc.Node) {
                    if (n.noxcc.isValid(e)) {
                        t = t || 1.5, i = i || .3, cc.assert(a.nox.isNumber(i), "duration must be number");
                        for (var _ = [], s = 0; s < o; ++s) _.push(cc.scaleBy(i, t, t)), _.push(cc.scaleBy(i, 1 / t, 1 / t));
                        r && _.push(cc.callFunc(r));
                        var c = cc.sequence(_);
                        return e.runAction(c)
                    }
                } else cc.assert(!1, "need cc.Node type")
            },
            playJumpAminScale: function (e, t, i, o) {
                var r = 1;
                if ("Qidaizhi" == e.name ? r = .9 : "zuanshi" == e.name || "jinbi" == e.name || "hezuozhe_touxiang" == e.name || "bisaimubiao" == e.name || "shijianxian" == e.name || "meirilibao" == e.name ? r = .8 : "paishe" == e.name && (r = .5), e && e instanceof cc.Node) {
                    if (n.noxcc.isValid(e)) {
                        t = t || 1.2, i = i || .3, cc.assert(a.nox.isNumber(i), "duration must be number");
                        var _ = cc.sequence(cc.scaleTo(i, 1.2, 1.2), cc.scaleTo(i, r, r), cc.callFunc(o || function () {
                        }));
                        return e.stopAllActions(), e.runAction(_)
                    }
                } else cc.assert(!1, "need cc.Node type")
            },
            playActorItemJumpAmin: function (e, t) {
                if (e && e instanceof cc.Node) {
                    if (n.noxcc.isValid(e)) {
                        var a = cc.sequence(cc.scaleTo(.3, t, t), cc.scaleTo(.3, 1, 1));
                        return e.runAction(a)
                    }
                } else cc.assert(!1, "need cc.Node type")
            },
            doJump: function (e, t, n, a, i, o, r) {
                if (e instanceof cc.Node) {
                    cc.assert(i > 0, "duration must greater 0");
                    var _ = cc.jumpTo(i, t.x, t.y, n, a);
                    return r && (_ = cc.sequence(_, cc.callFunc(r))), e.runAction(_)
                }
                return cc.assert(!1, "need cc.Node type"), null
            },
            Ease: {
                None: "None",
                InCubic: "InCubic",
                OutCubic: "OutCubic",
                InOutCubic: "InOutCubic",
                InSine: "InSine",
                OutSine: "OutSine",
                InOutSine: "InOutSine",
                InBounce: "InBounce",
                OutBounce: "OutBounce",
                InOutBounce: "InOutBounce",
                InCirc: "InCirc",
                OutCirc: "OutCirc",
                InOutCirc: "InOutCirc"
            },
            RotateMode: {Fast: "Fast", LocalAxisAdd: "LocalAxisAdd", FastBeyond360: "FastBeyond360"},
            doMove: function (e, t, a, i, o, r) {
                return e.getParent() && (t = e.getParent().convertToNodeSpaceAR(t)), n.noxcc.doLocalMove(e, t, a, i, o, r)
            },
            doLocalMove: function (e, t, i, o, r, _) {
                if (e instanceof cc.Node) {
                    i = i || 0, cc.assert(a.nox.isNumber(i), "duration must be number");
                    var s = cc.moveTo(i, t.x, t.y);
                    if (r) switch (r) {
                        case n.noxcc.Ease.None:
                            break;
                        case n.noxcc.Ease.InCubic:
                            s = s.easing(cc.easeCubicActionIn());
                            break;
                        case n.noxcc.Ease.OutCubic:
                            s = s.easing(cc.easeCubicActionOut());
                            break;
                        case n.noxcc.Ease.InOutCubic:
                            s = s.easing(cc.easeCubicActionInOut());
                            break;
                        case n.noxcc.Ease.InBounce:
                            s = s.easing(cc.easeBounceIn());
                            break;
                        case n.noxcc.Ease.OutBounce:
                            s = s.easing(cc.easeBounceOut());
                            break;
                        case n.noxcc.Ease.InOutBounce:
                            s = s.easing(cc.easeBounceInOut());
                            break;
                        case n.noxcc.Ease.InCirc:
                            s = s.easing(cc.easeCircleActionIn());
                            break;
                        case n.noxcc.Ease.OutCirc:
                            s = s.easing(cc.easeCircleActionOut());
                            break;
                        case n.noxcc.Ease.InOutCirc:
                            s = s.easing(cc.easeCircleActionInOut());
                            break;
                        case n.noxcc.Ease.InSine:
                            s = s.easing(cc.easeSineIn());
                            break;
                        case n.noxcc.Ease.OutSine:
                            s = s.easing(cc.easeSineOut());
                            break;
                        case n.noxcc.Ease.InOutSine:
                            s = s.easing(cc.easeSineInOut());
                            break;
                        default:
                            cc.assert(!1, "Unknown ease type: " + r)
                    }
                    return _ && (s = cc.sequence(s, cc.callFunc(_))), e.runAction(s)
                }
                return cc.assert(!1, "need cc.Node type"), null
            },
            doLocalMoveX: function (e, t, a, i, o, r) {
                var _ = n.noxcc.getLocalPosition(e);
                return _.x = t, n.noxcc.doLocalMove(e, _, a, i, o, r)
            },
            doLocalMoveY: function (e, t, a, i, o, r) {
                var _ = n.noxcc.getLocalPosition(e);
                return _.y = t, n.noxcc.doLocalMove(e, _, a, i, o, r)
            },
            doLocalMoveZ: function (e, t, a, i, o, r) {
                var _ = n.noxcc.getLocalPosition(e);
                return _.z = t, n.noxcc.doLocalMove(e, _, a, i, o, r)
            },
            doLocalRotate: function (e, t, a, i, o) {
                if (e instanceof cc.Node) {
                    a = a || 0, cc.assert(a >= 0, "duration must greater 0");
                    t.x, t.y;
                    var r = t.z, _ = null;
                    return i && i != n.noxcc.RotateMode.Fast ? i == n.noxcc.RotateMode.FastBeyond360 ? _ = cc.rotateTo(a, r) : i == n.noxcc.RotateMode.LocalAxisAdd ? _ = cc.rotateBy(a, r) : cc.assert(!1, "Unknown rotate type: " + i) : _ = cc.rotateTo(a, r), o && (_ = cc.sequence(_, cc.callFunc(o))), e.runAction(_)
                }
                cc.assert(!1, "need cc.Node type")
            },
            doSizeDelta: function (e, t, a, i, o) {
                return n.noxcc.doScale(e, cc.v2(t, t), a, i, null, o)
            },
            doAnchorPosY: function (e, t, a, i, o, r) {
                return n.noxcc.doLocalMoveY(e, t, a, i, o, r)
            },
            doScale: function (e, t, i, o, r, _) {
                if (e instanceof cc.Node) {
                    i = i || 0, cc.assert(a.nox.isNumber(i), "duration must be number"), a.nox.isNumber(t) && (t = cc.v2(t, t));
                    var s = cc.scaleTo(i, t.x, t.y);
                    if (r) switch (r) {
                        case n.noxcc.Ease.None:
                            break;
                        case n.noxcc.Ease.InCubic:
                            s = s.easing(cc.easeCubicActionIn());
                            break;
                        case n.noxcc.Ease.OutCubic:
                            s = s.easing(cc.easeCubicActionOut());
                            break;
                        case n.noxcc.Ease.InOutCubic:
                            s = s.easing(cc.easeCubicActionInOut());
                            break;
                        case n.noxcc.Ease.InBounce:
                            s = s.easing(cc.easeBounceIn());
                            break;
                        case n.noxcc.Ease.OutBounce:
                            s = s.easing(cc.easeBounceOut());
                            break;
                        case n.noxcc.Ease.InOutBounce:
                            s = s.easing(cc.easeBounceInOut());
                            break;
                        case n.noxcc.Ease.InCirc:
                            s = s.easing(cc.easeCircleActionIn());
                            break;
                        case n.noxcc.Ease.OutCirc:
                            s = s.easing(cc.easeCircleActionOut());
                            break;
                        case n.noxcc.Ease.InOutCirc:
                            s = s.easing(cc.easeCircleActionInOut());
                            break;
                        case n.noxcc.Ease.InSine:
                            s = s.easing(cc.easeSineIn());
                            break;
                        case n.noxcc.Ease.OutSine:
                            s = s.easing(cc.easeSineOut());
                            break;
                        case n.noxcc.Ease.InOutSine:
                            s = s.easing(cc.easeSineInOut());
                            break;
                        default:
                            cc.assert(!1, "Unknown ease type: " + r)
                    }
                    return _ && (s = cc.sequence(s, cc.callFunc(_))), e.runAction(s)
                }
                cc.assert(!1, "need cc.Node type")
            },
            doScaleBy: function (e, t, i, o, r, _) {
                if (e instanceof cc.Node) {
                    i = i || 0, cc.assert(a.nox.isNumber(i), "duration must be number"), a.nox.isNumber(t) && (t = cc.v2(t, t));
                    var s = cc.scaleBy(i, t.x, t.y);
                    if (r) switch (r) {
                        case n.noxcc.Ease.None:
                            break;
                        case n.noxcc.Ease.InCubic:
                            s = s.easing(cc.easeCubicActionIn());
                            break;
                        case n.noxcc.Ease.OutCubic:
                            s = s.easing(cc.easeCubicActionOut());
                            break;
                        case n.noxcc.Ease.InOutCubic:
                            s = s.easing(cc.easeCubicActionInOut());
                            break;
                        case n.noxcc.Ease.InBounce:
                            s = s.easing(cc.easeBounceIn());
                            break;
                        case n.noxcc.Ease.OutBounce:
                            s = s.easing(cc.easeBounceOut());
                            break;
                        case n.noxcc.Ease.InOutBounce:
                            s = s.easing(cc.easeBounceInOut());
                            break;
                        case n.noxcc.Ease.InCirc:
                            s = s.easing(cc.easeCircleActionIn());
                            break;
                        case n.noxcc.Ease.OutCirc:
                            s = s.easing(cc.easeCircleActionOut());
                            break;
                        case n.noxcc.Ease.InOutCirc:
                            s = s.easing(cc.easeCircleActionInOut());
                            break;
                        case n.noxcc.Ease.InSine:
                            s = s.easing(cc.easeSineIn());
                            break;
                        case n.noxcc.Ease.OutSine:
                            s = s.easing(cc.easeSineOut());
                            break;
                        case n.noxcc.Ease.InOutSine:
                            s = s.easing(cc.easeSineInOut());
                            break;
                        default:
                            cc.assert(!1, "Unknown ease type: " + r)
                    }
                    return _ && (s = cc.sequence(s, cc.callFunc(_))), e.runAction(s)
                }
                cc.assert(!1, "need cc.Node type")
            },
            killTween: function (e) {
                if (e instanceof cc.Action) {
                    var t = e.getOriginalTarget();
                    t && t.stopAction(e)
                } else cc.assert(!1, "need cc.Action type")
            },
            isEditor: function () {
                return !1
            },
            getNodeScreenPosition: function (e) {
                return n.noxcc.getWorldPosition(e)
            },
            setNodeScreenPosition: function (e, t, n) {
                if (e instanceof cc.Node) {
                    e.parent && (t = e.parent.convertToNodeSpaceAR(t));
                    var a = e.getContentSize(), i = e.getAnchorPoint();
                    t.x -= a.width * (n.x - i.x), t.y -= a.height * (n.y - i.y), e.setPosition(t.x, t.y)
                } else cc.assert(!1, "need cc.Node type")
            },
            persistentDataPath: function () {
                return ""
            },
            init: function () {
                cc.director.on(cc.Director.EVENT_BEFORE_UPDATE, function () {
                    o += cc.director.getDeltaTime()
                })
            },
            getRunningTime: function () {
                return o
            },
            addRectMask: function (e) {
                var t = e.getComponent(cc.Mask) || e.addComponent(cc.Mask);
                return cc.assert(t.type == cc.Mask.Type.RECT, "fatal error"), t
            },
            initAllInfos: function () {
                for (var e = window.gAllInfos = {}, t = 0; t < window._allJsonData.length; t++) {
                    var n = window._allJsonData[t];
                    for (var a in n) e[a] = n[a]
                }
            },
            loadAllInfos: function (e) {
                if (null == window._allJsonData) {
                    cc.assert(!1, "Only preview mode supported!!!");
                    for (var t = 0, a = window._allJsonData = [], i = function (i) {
                        ++n.noxcc._isLoadingRes, cc.loader.loadRes("AllData" + i, cc.JsonAsset, function (o, r) {
                            --n.noxcc._isLoadingRes, ++t, cc.log("[" + t + "/8]AllData" + i + " done"), a.push(r.json), 8 == t && e()
                        })
                    }, o = 1; o <= 8; ++o) i(o)
                } else e()
            }
        }, cc._RF.pop()
    }, {"../comp/LongTouchComp": "LongTouchComp", "./nox": "nox"}],
    nox: [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "3fe7fHJ8ptIx5q/ed8+d68H", "nox"), Object.defineProperty(n, "__esModule", {value: !0}), Object.values || (Object.values = function (e) {
            var t = [];
            for (var n in e) t.push(e[n]);
            return t
        }), function (e) {
            function t(e) {
                return JSON.stringify(e)
            }

            function n(e) {
                try {
                    return JSON.parse(e)
                } catch (e) {
                    return null
                }
            }

            function a(e) {
                return e.width * (.5 - e.anchorX)
            }

            function i(e) {
                return e.height * (.5 - e.anchorY)
            }

            function o(e, t) {
                return cc.v2(e.x - t.width * t.anchorX, e.y - t.height * t.anchorY)
            }

            function r(e, t, n) {
                n = n || e.parent;
                var a = e.x;
                if (null != t) {
                    a = t[0];
                    var i = t[1];
                    null != i && (a += (i - n.anchorX) * n.width);
                    var o = t.length > 2 ? t[2] : i;
                    null != o && (a += (e.anchorX - o) * e.width * e.scaleX)
                }
                return a
            }

            function _(e, t, n) {
                n = n || e.parent;
                var a = e.y;
                if (null != t) {
                    a = t[0];
                    var i = t[1];
                    null != i && (a += (i - n.anchorY) * n.height);
                    var o = t.length > 2 ? t[2] : i;
                    null != o && (a += (e.anchorY - o) * e.height * e.scaleY)
                }
                return a
            }

            function s(e, t, n, a) {
                e.setPosition(r(e, t, a), _(e, n, a))
            }

            cc.assert("2.1.0" == cc.ENGINE_VERSION || "2.1.2" == cc.ENGINE_VERSION, "\u7248\u672c\u4e0d\u4e00\u81f4, \u9700\u8981\u68c0\u67e5OS\u548cPLATFORM\u5e38\u91cf\u503c\u662f\u5426\u548c\u5f15\u64ce\u4e00\u81f4"), function (e) {
                e[e.UNKNOWN = cc.sys.UNKNOWN] = "UNKNOWN", e[e.WIN32 = cc.sys.WIN32] = "WIN32", e[e.LINUX = cc.sys.LINUX] = "LINUX", e[e.MACOS = cc.sys.MACOS] = "MACOS", e[e.ANDROID = cc.sys.ANDROID] = "ANDROID", e[e.IPHONE = cc.sys.IPHONE] = "IPHONE", e[e.IPAD = cc.sys.IPAD] = "IPAD", e[e.BLACKBERRY = cc.sys.BLACKBERRY] = "BLACKBERRY", e[e.NACL = cc.sys.NACL] = "NACL", e[e.EMSCRIPTEN = cc.sys.EMSCRIPTEN] = "EMSCRIPTEN", e[e.TIZEN = cc.sys.TIZEN] = "TIZEN", e[e.WINRT = cc.sys.WINRT] = "WINRT", e[e.WP8 = cc.sys.WP8] = "WP8", e[e.MOBILE_BROWSER = cc.sys.MOBILE_BROWSER] = "MOBILE_BROWSER", e[e.DESKTOP_BROWSER = cc.sys.DESKTOP_BROWSER] = "DESKTOP_BROWSER", e[e.EDITOR_PAGE = cc.sys.EDITOR_PAGE] = "EDITOR_PAGE", e[e.EDITOR_CORE = cc.sys.EDITOR_CORE] = "EDITOR_CORE", e[e.WECHAT_GAME = cc.sys.WECHAT_GAME] = "WECHAT_GAME", e[e.QQ_PLAY = cc.sys.QQ_PLAY] = "QQ_PLAY"
            }(e.PLATFORM || (e.PLATFORM = {})), e.platform = cc.sys.platform, function (e) {
                e.IOS = "iOS", e.ANDROID = "Android", e.WINDOWS = "Windows", e.MARMALADE = "Marmalade", e.LINUX = "Linux", e.BADA = "Bada", e.BLACKBERRY = "Blackberry", e.OSX = "OS X", e.WP8 = "WP8", e.WINRT = "WINRT", e.UNKNOWN = "Unknown"
            }(e.OS || (e.OS = {})), e.os = cc.sys.os, e.osVersion = cc.sys.osVersion, e.osMainVersion = cc.sys.osMainVersion, e.browserType = cc.sys.isBrowser ? cc.sys.browserType : "", e.browserVersion = cc.sys.isBrowser ? cc.sys.browserVersion : "", e.isNative = cc.sys.isNative, e.isMobile = cc.sys.isMobile, e.isPC = !cc.sys.isMobile, e.isBrowser = cc.sys.isBrowser, e.isHtml5 = e.isBrowser, e.isJsb = cc.sys.isNative && "undefined" == typeof qg, e.isQuickGame = "undefined" != typeof qg, e.isWechatGame = !1, e.isWechatBrowser = !!e.isBrowser && !!navigator.userAgent.toLowerCase().match(/MicroMessenger/i), e.isAndroid = e.os == e.OS.ANDROID, e.isH5MC = !1, e.isDebug = !1, e.isRelease = !0, e.isDev = !1, e.isPreview = !1, e.getEngineVersion = function () {
                return cc.ENGINE_VERSION
            }, e.doNothing = function () {
            }, e.D = function (e, t) {
                return null != e ? e : t
            }, e.D2 = function (e, t, n) {
                return null != e ? e : null != t ? t : n
            }, e.V = function (e) {
                return null != e && !1 !== e
            }, e.isBoolean = function (e) {
                return "boolean" == typeof e
            }, e.isNumber = function (e) {
                return "number" == typeof e
            }, e.isString = function (e) {
                return "string" == typeof e
            }, e.isFunction = function (e) {
                return "function" == typeof e
            }, e.isObject = function (e) {
                return "object" == typeof e
            }, e.isMapObject = function (e) {
                return "object" == typeof e && !(e instanceof Array)
            }, e.isArray = function (e) {
                return e instanceof Array
            }, e.toString = function (e) {
                return e + ""
            }, e.toJsonString = t, e.fromJsonString = n, e.jsonEncode = t, e.jsonDecode = n, e.toInt = function (e) {
                return parseInt(e)
            }, e.toNumber = function (e) {
                return "number" == typeof e ? e : parseFloat(e)
            }, e.toNumberEx = function (e) {
                return "number" == typeof e ? e : "string" == typeof e ? parseFloat(e) : protobuf.util.Long && e instanceof protobuf.util.Long ? protobuf.util.LongBits.from(e).toNumber() : (cc.assert(!1, "unknown v type"), 0)
            }, e.makeEven = function (e) {
                return (e = Math.floor(e)) % 2 == 0 ? e : e + 1
            }, e.keys = Object.keys || function (e) {
                var t = [];
                for (var n in e) t.push(n);
                return t
            }, e.values = Object.values || function (e) {
                var t = [];
                for (var n in e) t.push(e[n]);
                return t
            }, e.copy = function (e) {
                if (e instanceof Array) return e.slice(0);
                if (e instanceof Object) {
                    var t = {};
                    for (var n in e) t[n] = e[n];
                    return t
                }
                return e
            }, e.deepCopy = function e(t) {
                if (t instanceof Array) {
                    for (var n = [], a = 0; a < t.length; ++a) n.push(e(t[a]));
                    return n
                }
                if (t instanceof Object) {
                    var i = {};
                    for (var o in t) i[o] = e(t[o]);
                    return i
                }
                return t
            }, e.sort = function (e, t) {
                t ? e.sort(t) : e.sort()
            }, e.grep = function (e, t) {
                for (var n = [], a = 0; a < e.length; ++a) {
                    var i = e[a];
                    t(i) && n.push(i)
                }
                return n
            }, e.map = function (e, t) {
                for (var n = [], a = 0; a < e.length; ++a) {
                    var i = e[a];
                    n.push(t(i))
                }
                return n
            }, e.mmap = function (e, t) {
                for (var n = [], a = 0; a < e.length; ++a) {
                    var i = e[a];
                    n.concat(t(i))
                }
                return n
            }, e.tableSize = function (e) {
                return e instanceof Array ? e.length : Object.keys(e).length
            }, e.tableEmpty = function (t) {
                return 0 == e.tableSize(t)
            }, e.hasUniqueItem = function (e, t) {
                return e.indexOf(t) >= 0
            }, e.addUniqueItem = function (e, t) {
                return e.indexOf(t) < 0 && e.push(t), e
            }, e.removeUniqueItem = function (e, t) {
                var n = e.indexOf(t);
                return n >= 0 && e.splice(n, 1), e
            }, Math.deg = Math.deg || function (e) {
                return 180 / Math.PI * e
            }, e.modf = function (e) {
                var t = (e + "").split(".");
                return [t[0] ? parseInt(t[0]) : 0, t[1] ? parseInt(t[1]) : 0]
            }, e.fmod = function (e, t) {
                return t > 0 ? e % t : (cc.assert(!1), --e % t)
            }, e.deg = function (e) {
                return 180 / Math.PI * e
            }, e.max = Math.max, e.min = Math.min, e.floor = Math.floor, e.ceil = Math.ceil, e.round = Math.round, e.abs = Math.abs, e.atan = Math.atan, e.atan2 = Math.atan2, e.pow = Math.pow || !1, e.PI = Math.PI || !1, e.rad2deg = function (e) {
                return cc.misc.radiansToDegrees(e)
            }, e.deg2rad = function (e) {
                return cc.misc.degreesToRadians(e)
            }, e.tanAngle = function (t, n) {
                var a = n.x - t.x, i = n.y - t.y, o = e.atan2(i, a);
                return e.rad2deg(o)
            }, e.randomSeed = function () {
            }, e.random = Math.random, e.randomI = function (e, t) {
                return e + Math.floor(Math.random() * (t + 1 - e))
            }, e.randomF = function (e, t) {
                return e + (t - e) * Math.random()
            }, e.getRandomItem = function (e) {
                return e.length > 0 ? e[Math.floor(Math.random() * e.length)] : null
            }, e.getRandomIndex = function (e) {
                return Math.floor(Math.random() * e.length)
            }, e.getRandomKey = function (t) {
                return e.getRandomItem(e.keys(t))
            }, e.getRandomArray = function (t) {
                for (var n = t.slice(0), a = []; n.length > 0;) {
                    var i = e.randomI(0, n.length - 1);
                    a.push(n[i]), n.splice(i, 1)
                }
                return a
            }, e.print = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.printf = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.log = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.logf = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.warn = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.warnf = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.error = function (e) {
                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n]
            }, e.errorf = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]
            }, e.assert = function (e, t) {
            }, e.getFunctionName = function (e) {
                if ("function" == typeof e || "object" == typeof e) var t = ("" + e).match(/function\s*([\w\$]*)\s*\(/);
                return t && t[1]
            }, e.stackTrace = function () {
                var e = new Error;
                if (!e.stack) {
                    try {
                        throw new Error("0")
                    } catch (t) {
                        e = t
                    }
                    if (!e.stack) return "(no stack trace available)"
                }
                return e.stack.toString()
            }, e.split = function (e, t) {
                return e.split(t)
            }, e.join = function (e, t) {
                return e.join(t)
            }, e.pathJoin = function () {
                for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                var n = [].join.call(arguments, "/");
                return n = n.replace(/[\/\\]+/g, "/")
            }, e.splitToString = function (e, t) {
                return null == e || "" == e ? [] : (null == t && (t = "_"), e.split(t))
            }, e.splitToNumber = function (t, n) {
                if (null == t || "" == t) return [];
                null == n && (n = "_");
                for (var a = e.split(t, n), i = [], o = 0; o < a.length; ++o) i.push(parseFloat(a[o]));
                return i
            }, e.splitToString2 = function (t, n, a) {
                if (void 0 === n && (n = "|"), void 0 === a && (a = "_"), null == t || "" == t) return [];
                null == n && (n = "|"), null == a && (a = "_");
                for (var i = e.split(t, n), o = [], r = 0; r < i.length; ++r) o[r] = e.split(i[r], a);
                return o
            }, e.splitToNumber2 = function (t, n, a) {
                if (void 0 === n && (n = "|"), void 0 === a && (a = "_"), null == t || "" == t) return [];
                null == n && (n = "|"), null == a && (a = "_");
                for (var i = e.split(t, n), o = [], r = 0; r < i.length; ++r) o[r] = e.splitToNumber(i[r], a);
                return o
            },e.splitToString3 = function (t, n, a, i) {
                if (void 0 === n && (n = "#"), void 0 === a && (a = "|"), void 0 === i && (i = "_"), null == t || "" == t) return [];
                null == n && (n = "#"), null == a && (a = "|"), null == i && (i = "_");
                for (var o = e.split(t, n), r = [], _ = 0; _ < o.length; ++_) r[_] = e.splitToString2(o[_], a, i);
                return r
            },e.splitToNumber3 = function (t, n, a, i) {
                if (void 0 === n && (n = "#"), void 0 === a && (a = "|"), void 0 === i && (i = "_"), null == t || "" == t) return [];
                null == n && (n = "#"), null == a && (a = "|"), null == i && (i = "_");
                for (var o = e.split(t, n), r = [], _ = 0; _ < o.length; ++_) r[_] = e.splitToNumber2(o[_], a, i);
                return r
            },e.c3b = function (e, t, n) {
                return cc.color(e, t, n)
            },e.c4b = function (e, t, n, a) {
                return cc.color(e, t, n, a)
            },e.c4f = function (e, t, n, a) {
                return cc.color(255 * e, 255 * t, 255 * n, 255 * a)
            },e.winSize = function () {
                return cc.winSize
            },e.w = function (e) {
                return e.width
            },e.h = function (e) {
                return e.height
            },e.x = function (e) {
                return e.x
            },e.y = function (e) {
                return e.y
            },e.ax = function (e) {
                return e.anchorX
            },e.ay = function (e) {
                return e.anchorY
            },e.aw = function (e) {
                return e.width * e.anchorX
            },e.awr = function (e) {
                return e.width * (1 - e.anchorX)
            },e.ah = function (e) {
                return e.height * e.anchorY
            },e.aht = function (e) {
                return e.height * (1 - e.anchorY)
            },e.asw = function (e) {
                return e.width * e.anchorX * e.scaleX
            },e.aswr = function (e) {
                return e.width * (1 - e.anchorX) * e.scaleX
            },e.ash = function (e) {
                return e.height * e.anchorY * e.scaleY
            },e.asht = function (e) {
                return e.height * (1 - e.anchorY) * e.scaleY
            },e.sw = function (e, t) {
                var n = e.scaleX;
                if (t) for (var a = e.parent; a;) n *= a.scaleX, a = a.parent;
                return e.width * n
            },e.sh = function (e, t) {
                var n = e.scaleY;
                if (t) for (var a = e.parent; a;) n *= a.scaleY, a = a.parent;
                return e.height * n
            },e.cw = function (e) {
                return e.width / 2
            },e.ch = function (e) {
                return e.height / 2
            },e.cx = a,e.cy = i,e.cpos = function (e) {
                return cc.v2(a(e), i(e))
            },e.left = function (e) {
                return e.x - e.width * e.scaleX * e.anchorX
            },e.right = function (e) {
                return e.x + e.width * e.scaleX * (1 - e.anchorX)
            },e.bottom = function (e) {
                return e.y - e.height * e.scaleY * e.anchorY
            },e.top = function (e) {
                return e.y + e.height * e.scaleY * (1 - e.anchorY)
            },e.boundRect = function (t) {
                return cc.rect(e.left(t), e.bottom(t), e.sw(t), e.sh(t))
            },e.aleft = function (e) {
                return -e.width * e.anchorX
            },e.asleft = function (e) {
                return -e.width * e.anchorX * e.scaleX
            },e.aright = function (e) {
                return e.width * (1 - e.anchorX)
            },e.asright = function (e) {
                return e.width * (1 - e.anchorX) * e.scaleX
            },e.abottom = function (e) {
                return -e.height * e.anchorY
            },e.asbottom = function (e) {
                return -e.height * e.anchorY * e.scaleY
            },e.atop = function (e) {
                return e.height * (1 - e.anchorY)
            },e.astop = function (e) {
                return e.height * (1 - e.anchorY) * e.scaleY
            },e.arect = function (e) {
                var t = e.getContentSize(), n = e.getAnchorPoint();
                return cc.rect(-t.width * n.x, -t.height * n.y, t.width, t.height)
            },e.asrect = function (e) {
                var t = e.getContentSize(), n = e.getAnchorPoint(), a = e.scaleX, i = e.scaleY;
                return cc.rect(-t.width * n.x * a, -t.height * n.y * i, t.width * a, t.height * i)
            },e.offsetBy = function (e, t, n) {
                void 0 === t && (t = 0), void 0 === n && (n = 0);
                var a = e.getPosition();
                return e.setPosition(a.x + t, a.y + n), e
            },e.containsLocalPosAR = function (e, t) {
                var n = e.getAnchorPoint(), a = e.getContentSize(), i = cc.rect(0, 0, a.width, e.height);
                return t = cc.v2(t.x + n.x * a.width, t.y + n.y * a.height), i.contains(t)
            },e.containsLocalPosLB = function (e, t) {
                return e.getAnchorPoint(), e.getContentSize(), cc.rect(0, 0, e.width, e.height).contains(t)
            },e.containsWorldPosLB = function (t, n) {
                var a = t.convertToNodeSpace(n);
                return cc.rect(0, 0, e.w(t), e.h(t)).contains(a)
            },e.convertPosAR = function (e, t, n) {
                if (n && t.parent == n.parent) return new cc.Vec2(e.x, e.y);
                var a = t.convertToWorldSpaceAR(e), i = n ? n.convertToNodeSpaceAR(a) : a;
                return i.x = Math.floor(i.x), i.y = Math.floor(i.y), i
            },e.convertPosLB = function (e, t, n) {
                if (n && t.parent == n.parent) return cc.v2(e.x, e.y);
                var a = t.convertToWorldSpace(e), i = n ? n.convertToNodeSpace(a) : a;
                return i.x = Math.floor(i.x), i.y = Math.floor(i.y), i
            },e.toPosLB = function (e, t) {
                return cc.v2(e.x + t.width * t.anchorX, e.y + t.height * t.anchorY)
            },e.toPosAR = o,e.setPosAR = function (e, t, n) {
                e.setPosition(t, n)
            },e.setPosLB = function (e, t, n) {
                var a = e.parent;
                if (a) {
                    var i = o(cc.v2(t, n), a);
                    e.setPosition(i)
                } else cc.assert(!1, "need parent")
            },e.addChildToCenter = function (t, n, a, i, o) {
                var r = n.anchorX, _ = n.anchorY, s = n.scaleX, c = n.scaleY, l = n.width, d = n.height, p = t.width,
                    u = t.height, g = p * (.5 - t.anchorX), h = u * (.5 - t.anchorY);
                g += (r - .5) * l * s, h += (_ - .5) * d * c;
                var f = cc.v2(g, h);
                return e.addChildToPosAR(t, n, f, a, o)
            },e.addChildToPosAR = function (e, t, n, a, i) {
                return null != i && t.setTagID(i), t.setPosition(n), e.addChild(t, null != a ? a : void 0), t
            },e.addChildToPosLB = function (e, t, n, a, i) {
                return null != i && t.setTagID(i), t.setPosition(o(n, e)), e.addChild(t, null != a ? a : void 0), t
            },e.aligned_x = r,e.aligned_y = _,e.aligned_pos = function (e, t, n, a) {
                return cc.v2(r(e, t, a), _(e, n, a))
            },e.alignNodeX = function (e, t, n) {
                e.x = r(e, t, n)
            },e.alignNodeY = function (e, t, n) {
                e.y = _(e, t, n)
            },e.alignNode = s,e.addChildAndAlign = function (e, t, n, a, i, o) {
                return null != o && t.setTagID(o), e.addChild(t, null != i ? i : void 0), s(t, n, a), t
            },e.addNodesToCenter = function (t, n, a, i, o) {
                for (var r = a instanceof Array, _ = 0, s = 0; s < n.length; ++s) {
                    var c = n[s];
                    _ += e.sw(c), s < n.length - 1 && (_ += r ? a[s] : a)
                }
                _ = e.makeEven(_);
                var l = (t.width - _) / 2 - t.width * t.anchorX;
                for (i = e.D(i, t.height / 2 - t.height * t.anchorY), s = 0; s < n.length; ++s) (c = n[s]).setPosition(Math.floor(l + e.asw(c)), i), t.addChild(c, e.D(o, 0)), s < n.length - 1 && (l += e.sw(c) + (r ? a[s] : a))
            },e.invideCallback = function (e, t, n, a) {
                var i = e;
                if (null != i) {
                    var o = i[t];
                    o ? i[t] = function () {
                        var e = [].slice.apply(arguments, [1]);
                        n && n.apply(null, e), o.apply(i, e), a && a.apply(null, e)
                    } : cc.assert(!1, "cc.Node.prototype.invideCallback failed, unknown funcName " + t)
                }
            },e.scheduleUpdate = function (e, t) {
                var n = new cc.Node;
                return n.update = e, cc.game.addPersistRootNode(n), cc.director.getScheduler().scheduleUpdate(n, t || 0, !1), {node: n}
            },e.unscheduleUpdate = function (e) {
                e && e.node && (cc.director.getScheduler().unscheduleUpdate(e.node), cc.game.removePersistRootNode(e.node), e.node = null)
            };
            var c = new cc.Node;

            function l(e) {
                var t = new Date;
                return t.setTime(1e3 * e), t.getFullYear()
            }

            function d(e) {
                var t = new Date;
                return t.setTime(1e3 * e), t.getMonth() + 1
            }

            function p(e) {
                var t = new Date;
                return t.setTime(1e3 * e), t.getDate()
            }

            function u(e) {
                var t = new Date;
                return t.setTime(1e3 * e), t.getHours()
            }

            function g(e) {
                var t = new Date;
                return t.setTime(1e3 * e), t.getMinutes()
            }

            function h(e) {
                cc.assert("number" == typeof e);
                var t = new Date;
                return t.setTime(1e3 * e), t.getSeconds()
            }

            cc.game.addPersistRootNode(c), e.schedule = function (e, t, n, a, i) {
                var o = function (t) {
                    e(t)
                }, r = cc.macro.REPEAT_FOREVER;
                return null != n && (r = "number" == typeof n ? n : n ? cc.macro.REPEAT_FOREVER : 0), cc.director.getScheduler().schedule(o, c, t || 0, r, null != a ? a : t, i || !1), o
            }, e.unschedule = function (e) {
                cc.director.getScheduler().unschedule(e, c)
            }, e.scheduleTimeout = function (t, n) {
                return e.schedule(t, n, 0, n, !1)
            }, e.scheduleOnce = function (t, n) {
                return e.schedule(t, n, 1, n, !1)
            }, e.scheduleInterval = function (t, n) {
                return e.schedule(t, n, cc.macro.REPEAT_FOREVER, n, !1)
            }, e.unscheduleTimeout = function (t) {
                return e.unschedule(t)
            }, e.unscheduleInterval = function (t) {
                return e.unschedule(t)
            }, e.isJsb ? cc.director.getAppUpTickCount ? e.getTickCount = cc.director.getAppUpTickCount : e.getTickCount = function () {
                return window.performance.now()
            } : window.performance ? e.getTickCount = function () {
                return window.performance.now()
            } : e.getTickCount = function () {
                return (new Date).getTime()
            }, cc.assert("function" == typeof e.getTickCount, "getTickCount must be a function"), e.getYearOfTimeSeconds = l, e.getYearOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, l(e))
            }, e.getMonthOfTimeSeconds = d, e.getMonthOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, d(e))
            }, e.getDayOfTimeSeconds = p, e.getDayOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, p(e))
            }, e.getHoursOfTimeSeconds = u, e.getHoursOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, u(e))
            }, e.getMinutesOfTimeSeconds = g, e.getMinutesOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, g(e))
            }, e.getSecondsOfTimeSeconds = h, e.getSecondsOfTimeSecondsWithFormat = function (e, t) {
                return string.format(t, h(e))
            }, e.getTimeSecondsFromDateTable = function (e) {
                if (e instanceof Date) return Math.floor(e.getTime() / 1e3);
                var t = new Date;
                return null != e.year && t.setFullYear(e.year), null != e.month && t.setMonth(e.month - 1), null != e.day && t.setDate(e.day), null != e.hours && t.setHours(e.hours), null != e.minutes && t.setMinutes(e.minutes), null != e.seconds && t.setSeconds(e.seconds), null != e.millSeconds && t.setMilliseconds(e.millSeconds), Math.floor(t.getTime() / 1e3)
            }, e.getDateTableFromTimeSeconds = function (e) {
                var t = new Date;
                return e instanceof Date ? t = e : t.setTime(1e3 * e), {
                    year: t.getFullYear(),
                    month: t.getMonth() + 1,
                    day: t.getDate(),
                    hours: t.getHours(),
                    minutes: t.getMinutes(),
                    seconds: t.getSeconds(),
                    millSeconds: t.getMilliseconds()
                }
            }, function (t) {
                t.getBoolForKey = function (t, n) {
                    null == n && (n = !1);
                    var a = cc.sys.localStorage.getItem(t);
                    return null != a ? e.isString(a) ? "true" == a : a : n
                }, t.setBoolForKey = function (e, t) {
                    return cc.sys.localStorage.setItem(e, t)
                }, t.getStringForKey = function (e, t) {
                    null == t && (t = "");
                    var n = cc.sys.localStorage.getItem(e);
                    return null != n && n ? n : t
                }, t.setStringForKey = function (e, t) {
                    return cc.sys.localStorage.setItem(e, t)
                }, t.getIntegerForKey = function (e, t) {
                    null == t && (t = 0);
                    var n = cc.sys.localStorage.getItem(e);
                    return null != n ? n : t
                }, t.setIntegerForKey = function (e, t) {
                    return cc.sys.localStorage.setItem(e, t)
                }, t.getFloatForKey = function (e, t) {
                    null == t && (t = 0);
                    var n = cc.sys.localStorage.getItem(e);
                    return null != n ? n : t
                }, t.setFloatForKey = function (e, t) {
                    return cc.sys.localStorage.setItem(e, t)
                }, t.getJsonForKey = function (e, t) {
                    var n = cc.sys.localStorage.getItem(e);
                    return null != n ? JSON.parse(n) : t
                }, t.setJsonForKey = function (e, t) {
                    return cc.sys.localStorage.setItem(e, JSON.stringify(t))
                }, t.deleteValueForKey = function (e) {
                    return cc.sys.localStorage.removeItem(e)
                }
            }(e.UserDefault || (e.UserDefault = {})), e.httpGetString = function (e, t) {
                var n = new XMLHttpRequest;
                return n.open("GET", e), n.onreadystatechange = function () {
                    if (4 == n.readyState) {
                        var e = n.responseText;
                        t && t(n.status, e, n.responseText)
                    }
                }, n.onerror = function (e) {
                    t && t(-1, null, "Network error")
                }, n.send(), n
            }, e.httpGetJson = function (e, t) {
                var n = new XMLHttpRequest;
                return n.open("GET", e), n.onreadystatechange = function () {
                    if (4 == n.readyState) {
                        var e = null;
                        try {
                            "" != n.responseText && (e = JSON.parse(n.responseText))
                        } catch (e) {
                        }
                        t && t(n.status, e, n.responseText)
                    }
                }, n.onerror = function (e) {
                    t && t(-1, null, "Network error")
                }, n.send(), n
            }, e.httpPostJson = function (e, t, n) {
                var a = new XMLHttpRequest;
                a.open("POST", e, !0), a.setRequestHeader("Content-Type", "application/json;charset=utf-8"), a.onreadystatechange = function () {
                    if (4 == a.readyState) {
                        var e = null;
                        try {
                            "" != a.responseText && (e = JSON.parse(a.responseText))
                        } catch (e) {
                        }
                        n && n(a.status, e, a.responseText)
                    }
                }, a.onerror = function (e) {
                    n && n(-1, null, "Network error")
                };
                var i = "string" == typeof t ? t : JSON.stringify(t);
                return a.send(i), a
            }, e.httpPostForm = function (e, t, n) {
                var a = new XMLHttpRequest;
                if (a.open("POST", e, !0), a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8"), a.onreadystatechange = function () {
                    4 == a.readyState && n && n(a.status, "" != a.responseText && JSON.parse(a.responseText), a.responseText)
                }, a.onerror = function (e) {
                    n && n(-1, null, "Network error")
                }, "object" == typeof t) {
                    var i = [];
                    for (var o in t) {
                        var r = t[o];
                        i.push(o + "=" + encodeURI(r))
                    }
                    t = i.join("&")
                }
                return a.send(t), a
            }, e.httpPostJsonSpecial = function (e, t, n) {
                var a = new XMLHttpRequest;
                a.open("POST", e, !0), a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8"), a.onreadystatechange = function () {
                    if (4 == a.readyState) {
                        var e = null;
                        try {
                            "" != a.responseText && (e = JSON.parse(a.responseText))
                        } catch (e) {
                        }
                        n && n(a.status, e, a.responseText)
                    }
                }, a.onerror = function (e) {
                    n && n(-1, null, "Network error")
                };
                var i = "string" == typeof t ? t : "data=" + encodeURI(JSON.stringify(t));
                return a.send(i), a
            }, e.httpPostBase64 = function (e, t, n) {
                var a = new XMLHttpRequest;
                return a.open("POST", e, !0), a.onreadystatechange = function () {
                    if (4 == a.readyState) {
                        var e = null;
                        try {
                            "" != a.responseText && (e = JSON.parse(a.responseText))
                        } catch (e) {
                        }
                        n && n(a.status, e, a.responseText)
                    }
                }, a.onerror = function (e) {
                    n && n(-1, null, "Network error")
                }, a.send(t), a
            };
            var f = "", m = "";
            e.initErrorReport = function () {
                return window.onerror = function (t, n, a, i, o) {
                    t = o && o.message && !o.message.match(/^\s*Script error.\s*$/) ? o.message : t;
                    var r = o ? o.stack : "";
                    return e.sendErrorReport(t, r, n, a, i), !0
                }, !1
            }, e.sendErrorReport = function (t, n, a, i, o) {
                if ((!t || t.match(/^\s*Script error.\s*$/)) && (!n || n.match(/^\s*Script error.\s*$/))) return !0;
                if (f == t && m == n) return !0;
                f = t, m = n;
                var r = {file: a, line: i, col: o, msg: t, stack: n};
                try {
                    r.os = cc.sys.os, r.osVersion = cc.sys.osVersion, r.osMainVersion = cc.sys.osMainVersion, r.platform = cc.sys.platform, r.browserType = cc.sys.browserType, r.browserVersion = cc.sys.browserVersion
                } catch (e) {
                }
                e.httpPostForm("http://pfdmwh5.xxhd-tech.com:9090/index.php/index/savebug/savebug", r)
            };
            (function () {
                function e(e) {
                    this._innerArray = e || []
                }

                e.prototype.getFromJsIndex = function (e) {
                    return this._innerArray[e.mIndex]
                }, e.prototype.setFromJsIndex = function (e, t) {
                    this._innerArray[e.mIndex] = t
                }, e.prototype.getFromLuaIndex = function (e) {
                    return this._innerArray[e.mIndex - 1]
                }, e.prototype.setFromLuaIndex = function (e, t) {
                    this._innerArray[e.mIndex - 1] = t
                }
            })();
            var y = function () {
                function t() {
                    this._allEvents = {}
                }

                return t.prototype.getListeners = function (e) {
                    var t = this._allEvents[e];
                    return null == t && (t = [], this._allEvents[e] = t), t
                }, t.prototype.addListener = function (t, n, a, i) {
                    e.isFunction(n) && (i = a, a = n, n = null);
                    for (var o = this.getListeners(t), r = 0; r < o.length; ++r) {
                        if ((_ = o[r]).object == n && _.callback == a) return _
                    }
                    var _ = {object: n, callback: a, once: i};
                    return o.push(_), _
                }, t.prototype.removeListener = function (t, n, a) {
                    e.isFunction(n) && (a = n, n = null);
                    var i = this.getListeners(t);
                    if (e.isFunction(a)) for (var o = 0; o < i.length; ++o) {
                        if ((r = i[o]).object == n && r.callback == a) return void i.splice(o, 1)
                    } else {
                        var r = n, _ = i.indexOf(r);
                        _ >= 0 && i.splice(_, 1)
                    }
                }, t.prototype.removeAllListeners = function (e) {
                    null == e || delete this._allEvents[e]
                }, t.prototype.dispatchEvent = function (e) {
                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                    var a = this._allEvents[e];
                    if (a && a.length > 0) for (var i = a.slice(0), o = 0; o < i.length; ++o) {
                        var r = i[o], _ = a.indexOf(r);
                        _ >= 0 && (r.once && a.splice(_, 1), r.callback.apply(r.object, t))
                    }
                }, t
            }();
            e.EventDispatcher = y, e.init = function () {
            }
        }(n.nox || (n.nox = {})), cc._RF.pop()
    }, {}],
    "use_v2.1.x_cc.Action": [function (e, t, n) {
        "use strict";
        cc._RF.push(t, "81c9839IWlLD5rfLXtZlTf6", "use_v2.1.x_cc.Action"), cc.macro.ROTATE_ACTION_CCW = !0, cc._RF.pop()
    }, {}]
}, {}, ["EnumFontSize", "ImageList", "LongTouchComp", "NoxLabelExt", "NoxRichTextExt", "RootScene", "use_v2.1.x_cc.Action", "BehaviorTree", "NoxComponent", "NoxResMgr", "NoxResPath", "NoxScene", "NoxTipWidget", "NoxView", "NoxViewMgr", "NoxWidget", "AllImageSize", "AllSpriteFrames", "AudioEnums", "BaseComponent", "ClientData", "ClientView", "Event", "GuideManager", "MarqueeManager", "NameSample", "NoticeManager", "StaticPrefabMgr", "StringEnums", "ToastManager", "BattleDataType", "BattleAi", "BattleCard", "BattleCondition", "BattleData", "BattleEvent", "BattleHelper", "BattleInterfaces", "BattleSkill", "BattleStaticHelper", "BattleStep", "BattlleCardStatus", "PlayerBattle", "BattleScene", "BattleAtkDialog", "BattleChatDialog", "BattleDialog", "BattleEnergyDialog", "BattleEventDialog", "BattleHelpForm", "BattleLine", "BattleListDialog", "BattlePVPDialog", "BattleResultDialog", "BattleSettingDialog", "BattleTaskDialog", "BattleUi", "CardSprite", "ChoiceLayer", "DropLayer", "PlayerUi", "SelectTargetLayer", "GameCfg", "UICfg", "CheatType", "ConfigKey", "GameType", "SDK_TYPE", "SceneId", "ViewConst", "ZOrder", "ActivityTask", "MainTask", "PlayerAchieve", "PlayerActivity", "Bonus", "PlayerBonus", "ServerBonus", "HireHero", "PlayerCard", "CardHelper", "Fixity", "PlayerCity", "PlayerFindClash", "PlayerFindDuelCity", "PlayerFindLadder", "PlayerFindNewClash", "PlayerFindUnionBattle", "Log", "PlayerLog", "PlayerMarket", "Player", "Prop", "PropBag", "PlayerRank", "Rank", "PlayerRoom", "Room", "PlayerSkinShop", "Mail", "Message", "PlayerInvite", "PlayerMail", "PlayerMessage", "User", "Group", "PlayerUnion", "Union", "UnionBoss", "UnionTech", "ChapterLevel", "PlayerExpedition", "PlayerKillBoss", "PlayerSeason", "PlayerWorld", "data", "AnniversaryPart", "BattlePart", "BonusPart", "BuyPart", "CardPart", "ChatPart", "ClashPart", "DuelCityPart", "FeedbackPart", "FriendPart", "GuidePart", "KillBossPart", "LadderPart", "MailPart", "MiscPart", "NewClashPart", "RankPart", "RoomPart", "SeasonPart", "ShopPart", "TroopPart", "UnionPart", "UnionWarPart", "UserPart", "WorldPart", "Socket_pb", "ActivityScene", "BaseScene", "BaseSceneImpl", "BaseUIScene", "CityScene", "ExpeditionScene", "FindScene", "GuideScene", "HallScene", "HeroCenterScene", "InRoomScene", "LoadingScene", "LotteryScene", "RechargeScene", "RegionScene", "ResSwitchScene", "SceneManager", "ShopScene", "SkinShopScene", "TavernScene", "TeachingScene", "TutorialScene", "UnionScene", "BaseSdk", "NativeSdk", "SdkManager", "Sdk_16Y", "Sdk_360Game", "Sdk_4177", "Sdk_4399", "Sdk_5Wan", "Sdk_7724", "Sdk_844a", "Sdk_Ayx", "Sdk_Cdjyw", "Sdk_Djs", "Sdk_Foss4177", "Sdk_Fw", "Sdk_G7k7k", "Sdk_Gs", "Sdk_HengShi", "Sdk_Hscm", "Sdk_JsbGeneral", "Sdk_Mht", "Sdk_Qunhei", "Sdk_Sina", "Sdk_Vng", "Sdk_White", "Sdk_XiaoQi", "Sdk_Xmw", "Sdk_Yxtz", "Sdk_Zalo", "AllViewTypes", "BaseForm", "BasePage", "ActiveIndicator", "BlurredLayer", "Dialog", "ActiveChestForm", "ActivityForm", "BattleRuleForm", "ChatForm", "CheckInForm", "CheckinBonusWidget", "DateBonusItem", "MonthCheckinPanel", "NovicePanel", "OnlinePanel", "monthcard", "ClashChestBonusForm", "ClashUserInfoForm", "DepotForm", "DescForm", "ExchangeCodeForm", "ExchangeResForm", "FindClashFirstForm", "GivePropForm", "HelpForm", "HintForm", "ImpeachForm", "InputForm", "InputNumberForm", "JoinHallForm", "LadderChestForm", "LogForm", "LoginForm", "LordForm", "MailForm", "MailDetailForm", "MsgMailItem", "SystemMailWidget", "PromptForm", "RegionSelectForm", "RoomBattleReportForm", "SelectAvatarFrameForm", "SelectCardBackForm", "SelectHeadForm", "SelectMedalForm", "SendMailForm", "SetPlayerNameForm", "ShareForm", "VIPInfoForm", "VisitForm", "BaseGuideLayer", "GuideFinger", "GuideNpcTipLayer", "GuideStoryDialog", "GuideTouchLayer", "BoxProgressBar", "CheckLabelArea", "EditBoxNode", "HorizontalContentTab", "HorizontalContentTabCustom", "IconLabelArea", "KeyValueLabel", "LabelButton", "LevelArea", "LevelAreaNew", "LevelExpBar", "LevelNameArea", "MaterialArea", "NodeWithEditBox", "NodeWithImageFont", "NodeWithLabel", "NodeWithListView", "NodeWithProgressBar", "NodeWithShaderButton", "NodeWithShaderSprite", "ResConsumeButton", "ResConsumeButtonArea", "ResIconLabel", "RewardsTip", "SwordNode", "TitleArea", "TouchLayer", "TouchSprite", "UnionInfoArea", "VerticalTabButtons2", "VerticalTabListArea", "VerticalTitle", "BackBagPanel", "BasePanel", "BonusBoxPanel", "CapturePanel", "CardInfoPanel", "CardOperatePanel", "CardPackagePanel", "ChapterPanel", "CharacterPanel", "EmptyPanel", "FindMatchPanel", "FundTaskPanel", "IllustrationPanel", "LevelUpPanel", "RankPanel", "ResourcePanel", "RewardCardPanel", "RewardPanel", "TopMostPanel", "WelfarePanel", "ActivityEventRechargePage", "ActivityFirstRechargePage", "ActivityFundPage", "ActivityLimitExPage", "ActivityMonthCardPage", "ActivityRechargePackagePage", "CharacterGrowingUpPage", "DailyTaskPage", "GrowStrongPage", "GrowthProcessPage", "NewbieTaskPage", "RecommendTroopPage", "FindClashPage", "FindLadderPage", "ShopAreaPage", "ShopCardFragmentPage", "ShopLadderExPage", "UnionAdventure", "UnionAdventureArea", "UnionBorrowForm", "UnionChangeInfo", "UnionChatArea", "UnionContributeArea", "UnionContributeForm", "UnionCreateArea", "UnionDetailForm", "UnionHallArea", "UnionLetForm", "UnionLogForm", "UnionMemberForm", "UnionSearchArea", "UnionTaskForm", "UnionUnionArea", "FeedbackPage", "InviteGiftPackPage", "AetherCardList", "BonusWidget", "CardInfoWidget", "CardList", "CardThumbnail", "DepotWidget", "FilterWidget", "FundTaskWidget", "GroupWidget", "IconWidget", "MaskLayer", "ResourceUI", "ResourceWidget", "SelectCountWidget", "SpriteLabel", "TouchWidget", "UnionWidget", "UserWidget", "UserWidget2", "ActivityUtil", "BattleInputUtil", "CardUtil", "EffectUtils", "HelpUtil", "LoginData", "MsgCenter", "MsgHandler", "NetUtil", "NodeUtil", "ParticleUtil", "ProgressBarUtil", "PurchaseUtil", "RechargeUtil", "RichTextUtil", "SpineUtil", "SpriteUtil", "TimeUtil", "UIUtil", "cu", "lc", "lcAdapter", "lcAppCfg", "lcAudio", "lcBBCode", "lcDirector", "lcFile", "lcGameCfg", "lcMath", "lcPool", "lcRes", "lcStr", "lcSys", "Moby", "allPlists", "main", "nox", "noxEvent", "noxSound", "noxcc"]);